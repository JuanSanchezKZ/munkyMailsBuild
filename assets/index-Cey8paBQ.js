var t9=Object.defineProperty;var Bk=n=>{throw TypeError(n)};var n9=(n,e,t)=>e in n?t9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Mt=(n,e,t)=>n9(n,typeof e!="symbol"?e+"":e,t),jS=(n,e,t)=>e.has(n)||Bk("Cannot "+t);var x=(n,e,t)=>(jS(n,e,"read from private field"),t?t.call(n):e.get(n)),ne=(n,e,t)=>e.has(n)?Bk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),X=(n,e,t,r)=>(jS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ae=(n,e,t)=>(jS(n,e,"access private method"),t);var Ws=(n,e,t,r)=>({set _(i){X(n,e,i,t)},get _(){return x(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var hue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var GS={exports:{}},Zv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function r9(){if(Uk)return Zv;Uk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Zv.Fragment=e,Zv.jsx=t,Zv.jsxs=t,Zv}var Hk;function i9(){return Hk||(Hk=1,GS.exports=r9()),GS.exports}var E=i9(),qS={exports:{}},Ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function a9(){if(zk)return Ln;zk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(ie){return ie===null||typeof ie!="object"?null:(ie=g&&ie[g]||ie["@@iterator"],typeof ie=="function"?ie:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function C(ie,M,H){this.props=ie,this.context=M,this.refs=S,this.updater=H||w}C.prototype.isReactComponent={},C.prototype.setState=function(ie,M){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,M,"setState")},C.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function L(){}L.prototype=C.prototype;function R(ie,M,H){this.props=ie,this.context=M,this.refs=S,this.updater=H||w}var D=R.prototype=new L;D.constructor=R,y(D,C.prototype),D.isPureReactComponent=!0;var z=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function O(ie,M,H){var G=H.ref;return{$$typeof:n,type:ie,key:M,ref:G!==void 0?G:null,props:H}}function Q(ie,M){return O(ie.type,M,ie.props)}function B(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function j(ie){var M={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(H){return M[H]})}var ee=/\/+/g;function fe(ie,M){return typeof ie=="object"&&ie!==null&&ie.key!=null?j(""+ie.key):M.toString(36)}function ue(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(q,q):(ie.status="pending",ie.then(function(M){ie.status==="pending"&&(ie.status="fulfilled",ie.value=M)},function(M){ie.status==="pending"&&(ie.status="rejected",ie.reason=M)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function K(ie,M,H,G,Y){var se=typeof ie;(se==="undefined"||se==="boolean")&&(ie=null);var ye=!1;if(ie===null)ye=!0;else switch(se){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ie.$$typeof){case n:case e:ye=!0;break;case h:return ye=ie._init,K(ye(ie._payload),M,H,G,Y)}}if(ye)return Y=Y(ie),ye=G===""?"."+fe(ie,0):G,z(Y)?(H="",ye!=null&&(H=ye.replace(ee,"$&/")+"/"),K(Y,M,H,"",function(Le){return Le})):Y!=null&&(B(Y)&&(Y=Q(Y,H+(Y.key==null||ie&&ie.key===Y.key?"":(""+Y.key).replace(ee,"$&/")+"/")+ye)),M.push(Y)),1;ye=0;var ke=G===""?".":G+":";if(z(ie))for(var Ce=0;Ce<ie.length;Ce++)G=ie[Ce],se=ke+fe(G,Ce),ye+=K(G,M,H,se,Y);else if(Ce=m(ie),typeof Ce=="function")for(ie=Ce.call(ie),Ce=0;!(G=ie.next()).done;)G=G.value,se=ke+fe(G,Ce++),ye+=K(G,M,H,se,Y);else if(se==="object"){if(typeof ie.then=="function")return K(ue(ie),M,H,G,Y);throw M=String(ie),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ye}function le(ie,M,H){if(ie==null)return ie;var G=[],Y=0;return K(ie,G,"","",function(se){return M.call(H,se,Y++)}),G}function Te(ie){if(ie._status===-1){var M=ie._result;M=M(),M.then(function(H){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=H)},function(H){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=H)}),ie._status===-1&&(ie._status=0,ie._result=M)}if(ie._status===1)return ie._result.default;throw ie._result}var ge=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},Be={map:le,forEach:function(ie,M,H){le(ie,function(){M.apply(this,arguments)},H)},count:function(ie){var M=0;return le(ie,function(){M++}),M},toArray:function(ie){return le(ie,function(M){return M})||[]},only:function(ie){if(!B(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return Ln.Activity=p,Ln.Children=Be,Ln.Component=C,Ln.Fragment=t,Ln.Profiler=i,Ln.PureComponent=R,Ln.StrictMode=r,Ln.Suspense=c,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return P.H.useMemoCache(ie)}},Ln.cache=function(ie){return function(){return ie.apply(null,arguments)}},Ln.cacheSignal=function(){return null},Ln.cloneElement=function(ie,M,H){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var G=y({},ie.props),Y=ie.key;if(M!=null)for(se in M.key!==void 0&&(Y=""+M.key),M)!W.call(M,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&M.ref===void 0||(G[se]=M[se]);var se=arguments.length-2;if(se===1)G.children=H;else if(1<se){for(var ye=Array(se),ke=0;ke<se;ke++)ye[ke]=arguments[ke+2];G.children=ye}return O(ie.type,Y,G)},Ln.createContext=function(ie){return ie={$$typeof:s,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:a,_context:ie},ie},Ln.createElement=function(ie,M,H){var G,Y={},se=null;if(M!=null)for(G in M.key!==void 0&&(se=""+M.key),M)W.call(M,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Y[G]=M[G]);var ye=arguments.length-2;if(ye===1)Y.children=H;else if(1<ye){for(var ke=Array(ye),Ce=0;Ce<ye;Ce++)ke[Ce]=arguments[Ce+2];Y.children=ke}if(ie&&ie.defaultProps)for(G in ye=ie.defaultProps,ye)Y[G]===void 0&&(Y[G]=ye[G]);return O(ie,se,Y)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(ie){return{$$typeof:o,render:ie}},Ln.isValidElement=B,Ln.lazy=function(ie){return{$$typeof:h,_payload:{_status:-1,_result:ie},_init:Te}},Ln.memo=function(ie,M){return{$$typeof:u,type:ie,compare:M===void 0?null:M}},Ln.startTransition=function(ie){var M=P.T,H={};P.T=H;try{var G=ie(),Y=P.S;Y!==null&&Y(H,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(q,ge)}catch(se){ge(se)}finally{M!==null&&H.types!==null&&(M.types=H.types),P.T=M}},Ln.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ln.use=function(ie){return P.H.use(ie)},Ln.useActionState=function(ie,M,H){return P.H.useActionState(ie,M,H)},Ln.useCallback=function(ie,M){return P.H.useCallback(ie,M)},Ln.useContext=function(ie){return P.H.useContext(ie)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(ie,M){return P.H.useDeferredValue(ie,M)},Ln.useEffect=function(ie,M){return P.H.useEffect(ie,M)},Ln.useEffectEvent=function(ie){return P.H.useEffectEvent(ie)},Ln.useId=function(){return P.H.useId()},Ln.useImperativeHandle=function(ie,M,H){return P.H.useImperativeHandle(ie,M,H)},Ln.useInsertionEffect=function(ie,M){return P.H.useInsertionEffect(ie,M)},Ln.useLayoutEffect=function(ie,M){return P.H.useLayoutEffect(ie,M)},Ln.useMemo=function(ie,M){return P.H.useMemo(ie,M)},Ln.useOptimistic=function(ie,M){return P.H.useOptimistic(ie,M)},Ln.useReducer=function(ie,M,H){return P.H.useReducer(ie,M,H)},Ln.useRef=function(ie){return P.H.useRef(ie)},Ln.useState=function(ie){return P.H.useState(ie)},Ln.useSyncExternalStore=function(ie,M,H){return P.H.useSyncExternalStore(ie,M,H)},Ln.useTransition=function(){return P.H.useTransition()},Ln.version="19.2.3",Ln}var jk;function JT(){return jk||(jk=1,qS.exports=a9()),qS.exports}var ut=JT();const s9=LL(ut);var VS={exports:{}},Qv={},WS={exports:{}},XS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk;function o9(){return Gk||(Gk=1,(function(n){function e(K,le){var Te=K.length;K.push(le);e:for(;0<Te;){var ge=Te-1>>>1,Be=K[ge];if(0<i(Be,le))K[ge]=le,K[Te]=Be,Te=ge;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],Te=K.pop();if(Te!==le){K[0]=Te;e:for(var ge=0,Be=K.length,ie=Be>>>1;ge<ie;){var M=2*(ge+1)-1,H=K[M],G=M+1,Y=K[G];if(0>i(H,Te))G<Be&&0>i(Y,H)?(K[ge]=Y,K[G]=Te,ge=G):(K[ge]=H,K[M]=Te,ge=M);else if(G<Be&&0>i(Y,Te))K[ge]=Y,K[G]=Te,ge=G;else break e}}return le}function i(K,le){var Te=K.sortIndex-le.sortIndex;return Te!==0?Te:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var c=[],u=[],h=1,p=null,g=3,m=!1,w=!1,y=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var le=t(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=K)r(u),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(u)}}function z(K){if(y=!1,D(K),!w)if(t(c)!==null)w=!0,q||(q=!0,j());else{var le=t(u);le!==null&&ue(z,le.startTime-K)}}var q=!1,P=-1,W=5,O=-1;function Q(){return S?!0:!(n.unstable_now()-O<W)}function B(){if(S=!1,q){var K=n.unstable_now();O=K;var le=!0;try{e:{w=!1,y&&(y=!1,L(P),P=-1),m=!0;var Te=g;try{t:{for(D(K),p=t(c);p!==null&&!(p.expirationTime>K&&Q());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var Be=ge(p.expirationTime<=K);if(K=n.unstable_now(),typeof Be=="function"){p.callback=Be,D(K),le=!0;break t}p===t(c)&&r(c),D(K)}else r(c);p=t(c)}if(p!==null)le=!0;else{var ie=t(u);ie!==null&&ue(z,ie.startTime-K),le=!1}}break e}finally{p=null,g=Te,m=!1}le=void 0}}finally{le?j():q=!1}}}var j;if(typeof R=="function")j=function(){R(B)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,fe=ee.port2;ee.port1.onmessage=B,j=function(){fe.postMessage(null)}}else j=function(){C(B,0)};function ue(K,le){P=C(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(K){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var Te=g;g=le;try{return K()}finally{g=Te}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Te=g;g=K;try{return le()}finally{g=Te}},n.unstable_scheduleCallback=function(K,le,Te){var ge=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ge+Te:ge):Te=ge,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=Te+Be,K={id:h++,callback:le,priorityLevel:K,startTime:Te,expirationTime:Be,sortIndex:-1},Te>ge?(K.sortIndex=Te,e(u,K),t(c)===null&&K===t(u)&&(y?(L(P),P=-1):y=!0,ue(z,Te-ge))):(K.sortIndex=Be,e(c,K),w||m||(w=!0,q||(q=!0,j()))),K},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(K){var le=g;return function(){var Te=g;g=le;try{return K.apply(this,arguments)}finally{g=Te}}}})(XS)),XS}var qk;function l9(){return qk||(qk=1,WS.exports=o9()),WS.exports}var YS={exports:{}},gs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function c9(){if(Vk)return gs;Vk=1;var n=JT();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:u,implementation:h}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gs.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(c,u,null,h)},gs.flushSync=function(c){var u=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=u,r.p=h,r.d.f()}},gs.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},gs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},gs.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},gs.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},gs.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},gs.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=o(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},gs.requestFormReset=function(c){r.d.r(c)},gs.unstable_batchedUpdates=function(c,u){return c(u)},gs.useFormState=function(c,u,h){return s.H.useFormState(c,u,h)},gs.useFormStatus=function(){return s.H.useHostTransitionStatus()},gs.version="19.2.3",gs}var Wk;function u9(){if(Wk)return YS.exports;Wk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YS.exports=c9(),YS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function f9(){if(Xk)return Qv;Xk=1;var n=l9(),e=JT(),t=u9();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,d=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(d=f.return),l=f.return;while(l)}return f.tag===3?d:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(r(188))}function u(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(r(188));return f!==l?null:l}for(var d=l,v=f;;){var T=d.return;if(T===null)break;var N=T.alternate;if(N===null){if(v=T.return,v!==null){d=v;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===d)return c(T),l;if(N===v)return c(T),f;N=N.sibling}throw Error(r(188))}if(d.return!==v.return)d=T,v=N;else{for(var V=!1,he=T.child;he;){if(he===d){V=!0,d=T,v=N;break}if(he===v){V=!0,v=T,d=N;break}he=he.sibling}if(!V){for(he=N.child;he;){if(he===d){V=!0,d=N,v=T;break}if(he===v){V=!0,v=N,d=T;break}he=he.sibling}if(!V)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function j(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Symbol.for("react.client.reference");function fe(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ee?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case R:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case D:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return f=l.displayName||null,f!==null?f:fe(l.type)||"Memo";case W:f=l._payload,l=l._init;try{return fe(l(f))}catch{}}return null}var ue=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},ge=[],Be=-1;function ie(l){return{current:l}}function M(l){0>Be||(l.current=ge[Be],ge[Be]=null,Be--)}function H(l,f){Be++,ge[Be]=l.current,l.current=f}var G=ie(null),Y=ie(null),se=ie(null),ye=ie(null);function ke(l,f){switch(H(se,f),H(Y,l),H(G,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?ok(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=ok(f),l=lk(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}M(G),H(G,l)}function Ce(){M(G),M(Y),M(se)}function Le(l){l.memoizedState!==null&&H(ye,l);var f=G.current,d=lk(f,l.type);f!==d&&(H(Y,l),H(G,d))}function Re(l){Y.current===l&&(M(G),M(Y)),ye.current===l&&(M(ye),Yv._currentValue=Te)}var ce,dt;function gt(l){if(ce===void 0)try{throw Error()}catch(d){var f=d.stack.trim().match(/\n( *(at )?)/);ce=f&&f[1]||"",dt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+l+dt}var de=!1;function Ne(l,f){if(!l||de)return"";de=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(tt){var Qe=tt}Reflect.construct(l,[],pt)}else{try{pt.call()}catch(tt){Qe=tt}l.call(pt.prototype)}}else{try{throw Error()}catch(tt){Qe=tt}(pt=l())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(tt){if(tt&&Qe&&typeof tt.stack=="string")return[tt.stack,Qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),V=N[0],he=N[1];if(V&&he){var Ie=V.split(`
`),Ze=he.split(`
`);for(T=v=0;v<Ie.length&&!Ie[v].includes("DetermineComponentFrameRoot");)v++;for(;T<Ze.length&&!Ze[T].includes("DetermineComponentFrameRoot");)T++;if(v===Ie.length||T===Ze.length)for(v=Ie.length-1,T=Ze.length-1;1<=v&&0<=T&&Ie[v]!==Ze[T];)T--;for(;1<=v&&0<=T;v--,T--)if(Ie[v]!==Ze[T]){if(v!==1||T!==1)do if(v--,T--,0>T||Ie[v]!==Ze[T]){var st=`
`+Ie[v].replace(" at new "," at ");return l.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",l.displayName)),st}while(1<=v&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?gt(d):""}function Pe(l,f){switch(l.tag){case 26:case 27:case 5:return gt(l.type);case 16:return gt("Lazy");case 13:return l.child!==f&&f!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Ne(l.type,!1);case 11:return Ne(l.type.render,!1);case 1:return Ne(l.type,!0);case 31:return gt("Activity");default:return""}}function He(l){try{var f="",d=null;do f+=Pe(l,d),d=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ue=Object.prototype.hasOwnProperty,ft=n.unstable_scheduleCallback,ot=n.unstable_cancelCallback,St=n.unstable_shouldYield,yt=n.unstable_requestPaint,wt=n.unstable_now,Tt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,on=n.unstable_UserBlockingPriority,Wt=n.unstable_NormalPriority,Ct=n.unstable_LowPriority,Ge=n.unstable_IdlePriority,et=n.log,Qt=n.unstable_setDisableYieldValue,Dt=null,Pt=null;function pn(l){if(typeof et=="function"&&Qt(l),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Dt,l)}catch{}}var Hn=Math.clz32?Math.clz32:dn,ln=Math.log,yr=Math.LN2;function dn(l){return l>>>=0,l===0?32:31-(ln(l)/yr|0)|0}var vn=256,br=262144,Cn=4194304;function Zt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function $n(l,f,d){var v=l.pendingLanes;if(v===0)return 0;var T=0,N=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var he=v&134217727;return he!==0?(v=he&~N,v!==0?T=Zt(v):(V&=he,V!==0?T=Zt(V):d||(d=he&~l,d!==0&&(T=Zt(d))))):(he=v&~N,he!==0?T=Zt(he):V!==0?T=Zt(V):d||(d=v&~l,d!==0&&(T=Zt(d)))),T===0?0:f!==0&&f!==T&&(f&N)===0&&(N=T&-T,d=f&-f,N>=d||N===32&&(d&4194048)!==0)?f:T}function Bs(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function ea(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var l=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),l}function fs(l){for(var f=[],d=0;31>d;d++)f.push(l);return f}function an(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Bo(l,f,d,v,T,N){var V=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var he=l.entanglements,Ie=l.expirationTimes,Ze=l.hiddenUpdates;for(d=V&~d;0<d;){var st=31-Hn(d),pt=1<<st;he[st]=0,Ie[st]=-1;var Qe=Ze[st];if(Qe!==null)for(Ze[st]=null,st=0;st<Qe.length;st++){var tt=Qe[st];tt!==null&&(tt.lane&=-536870913)}d&=~pt}v!==0&&lo(l,v,0),N!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=N&~(V&~f))}function lo(l,f,d){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-Hn(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|d&261930}function ha(l,f){var d=l.entangledLanes|=f;for(l=l.entanglements;d;){var v=31-Hn(d),T=1<<v;T&f|l[v]&f&&(l[v]|=f),d&=~T}}function Wa(l,f){var d=f&-f;return d=(d&42)!==0?1:Pr(d),(d&(l.suspendedLanes|f))!==0?0:d}function Pr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ci(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=le.p;return l!==0?l:(l=window.event,l===void 0?32:Lk(l.type))}function Se(l,f){var d=le.p;try{return le.p=l,f()}finally{le.p=d}}var me=Math.random().toString(36).slice(2),ve="__reactFiber$"+me,be="__reactProps$"+me,Ee="__reactContainer$"+me,Ve="__reactEvents$"+me,nt="__reactListeners$"+me,Xe="__reactHandles$"+me,Ye="__reactResources$"+me,Ke="__reactMarker$"+me;function bt(l){delete l[ve],delete l[be],delete l[Ve],delete l[nt],delete l[Xe]}function Et(l){var f=l[ve];if(f)return f;for(var d=l.parentNode;d;){if(f=d[Ee]||d[ve]){if(d=f.alternate,f.child!==null||d!==null&&d.child!==null)for(l=gk(l);l!==null;){if(d=l[ve])return d;l=gk(l)}return f}l=d,d=l.parentNode}return null}function It(l){if(l=l[ve]||l[Ee]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function At(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function Nt(l){var f=l[Ye];return f||(f=l[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function jt(l){l[Ke]=!0}var wr=new Set,Gn={};function Tr(l,f){Xa(l,f),Xa(l+"Capture",f)}function Xa(l,f){for(Gn[l]=f,l=0;l<f.length;l++)wr.add(f[l])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Us={};function uu(l){return Ue.call(Us,l)?!0:Ue.call(Ho,l)?!1:Uo.test(l)?Us[l]=!0:(Ho[l]=!0,!1)}function Zr(l,f,d){if(uu(f))if(d===null)l.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+d)}}function oc(l,f,d){if(d===null)l.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+d)}}function zo(l,f,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(f,d,""+v)}}function lr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function f0(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function _l(l,f,d){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,N=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return T.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function fu(l){if(!l._valueTracker){var f=f0(l)?"checked":"value";l._valueTracker=_l(l,f,""+l[f])}}function h0(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var d=f.getValue(),v="";return l&&(v=f0(l)?l.checked?"true":"false":l.value),l=v,l!==d?(f.setValue(l),!0):!1}function Ya(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zi=/[\n"\\]/g;function ki(l){return l.replace(zi,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ih(l,f,d,v,T,N,V,he){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),f!=null?V==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+lr(f)):l.value!==""+lr(f)&&(l.value=""+lr(f)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),f!=null?d0(l,V,lr(f)):d!=null?d0(l,V,lr(d)):v!=null&&l.removeAttribute("value"),T==null&&N!=null&&(l.defaultChecked=!!N),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?l.name=""+lr(he):l.removeAttribute("name")}function Cg(l,f,d,v,T,N,V,he){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),f!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||f!=null)){fu(l);return}d=d!=null?""+lr(d):"",f=f!=null?""+lr(f):d,he||f===l.value||(l.value=f),l.defaultValue=f}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=he?l.checked:!!v,l.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),fu(l)}function d0(l,f,d){f==="number"&&Ya(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function $a(l,f,d,v){if(l=l.options,f){f={};for(var T=0;T<d.length;T++)f["$"+d[T]]=!0;for(d=0;d<l.length;d++)T=f.hasOwnProperty("$"+l[d].value),l[d].selected!==T&&(l[d].selected=T),T&&v&&(l[d].defaultSelected=!0)}else{for(d=""+lr(d),f=null,T=0;T<l.length;T++){if(l[T].value===d){l[T].selected=!0,v&&(l[T].defaultSelected=!0);return}f!==null||l[T].disabled||(f=l[T])}f!==null&&(f.selected=!0)}}function p0(l,f,d){if(f!=null&&(f=""+lr(f),f!==l.value&&(l.value=f),d==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=d!=null?""+lr(d):""}function g0(l,f,d,v){if(f==null){if(v!=null){if(d!=null)throw Error(r(92));if(ue(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),f=d}d=lr(f),l.defaultValue=d,v=l.textContent,v===d&&v!==""&&v!==null&&(l.value=v),fu(l)}function jo(l,f){if(f){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=f;return}}l.textContent=f}var cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(l,f,d){var v=f.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,d):typeof d!="number"||d===0||cf.has(f)?f==="float"?l.cssFloat=d:l[f]=(""+d).trim():l[f]=d+"px"}function Ng(l,f,d){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var T in f)v=f[T],f.hasOwnProperty(T)&&d[T]!==v&&kg(l,T,v)}else for(var N in f)f.hasOwnProperty(N)&&kg(l,N,f[N])}function m0(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(l){return Rg.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Go(){}var lc=null;function uf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var hu=null,gn=null;function Lg(l){var f=It(l);if(f&&(l=f.stateNode)){var d=l[be]||null;e:switch(l=f.stateNode,f.type){case"input":if(Ih(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),f=d.name,d.type==="radio"&&f!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ki(""+f)+'"][type="radio"]'),f=0;f<d.length;f++){var v=d[f];if(v!==l&&v.form===l.form){var T=v[be]||null;if(!T)throw Error(r(90));Ih(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<d.length;f++)v=d[f],v.form===l.form&&h0(v)}break e;case"textarea":p0(l,d.value,d.defaultValue);break e;case"select":f=d.value,f!=null&&$a(l,!!d.multiple,f,!1)}}}var x0=!1;function Ig(l,f,d){if(x0)return l(f,d);x0=!0;try{var v=l(f);return v}finally{if(x0=!1,(hu!==null||gn!==null)&&(_b(),hu&&(f=hu,l=gn,gn=hu=null,Lg(f),l)))for(f=0;f<l.length;f++)Lg(l[f])}}function Hs(l,f){var d=l.stateNode;if(d===null)return null;var v=d[be]||null;if(v===null)return null;d=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,f,typeof d));return d}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=!1;if(da)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){y0=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{y0=!1}var zs=null,hf=null,Sl=null;function Mg(){if(Sl)return Sl;var l,f=hf,d=f.length,v,T="value"in zs?zs.value:zs.textContent,N=T.length;for(l=0;l<d&&f[l]===T[l];l++);var V=d-l;for(v=1;v<=V&&f[d-v]===T[N-v];v++);return Sl=T.slice(l,1<v?1-v:void 0)}function co(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Mh(){return!0}function Dh(){return!1}function ta(l){function f(d,v,T,N,V){this._reactName=d,this._targetInst=T,this.type=v,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var he in l)l.hasOwnProperty(he)&&(d=l[he],this[he]=d?d(N):N[he]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Mh:Dh,this.isPropagationStopped=Dh,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),f}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=ta(Al),cc=p({},Al,{view:0,detail:0}),Fh=ta(cc),df,uc,fc,pf=p({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==fc&&(fc&&l.type==="mousemove"?(df=l.screenX-fc.screenX,uc=l.screenY-fc.screenY):uc=df=0,fc=l),df)},movementY:function(l){return"movementY"in l?l.movementY:uc}}),b0=ta(pf),hc=p({},pf,{dataTransfer:0}),dc=ta(hc),Dg=p({},cc,{relatedTarget:0}),pc=ta(Dg),Fg=p({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),I=ta(Fg),J=p({},Al,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ae=ta(J),Me=p({},Al,{data:0}),ze=ta(Me),lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Xt[l])?!!f[l]:!1}function bn(){return en}var Nn=p({},cc,{key:function(l){if(l.key){var f=lt[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=co(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?vt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(l){return l.type==="keypress"?co(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?co(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),tr=ta(Nn),Qr=p({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ta(Qr),Or=p({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),ji=ta(Or),Ni=p({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=ta(Ni),gc=p({},pf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),qo=ta(gc),mc=p({},Al,{newState:0,oldState:0}),w0=ta(mc),Ph=[9,13,27,32],El=da&&"CompositionEvent"in window,Vo=null;da&&"documentMode"in document&&(Vo=document.documentMode);var gf=da&&"TextEvent"in window&&!Vo,vc=da&&(!El||Vo&&8<Vo&&11>=Vo),na=" ",du=!1;function pu(l,f){switch(l){case"keyup":return Ph.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Tl=!1;function Ka(l,f){switch(l){case"compositionend":return Oh(f);case"keypress":return f.which!==32?null:(du=!0,na);case"textInput":return l=f.data,l===na&&du?null:l;default:return null}}function xc(l,f){if(Tl)return l==="compositionend"||!El&&pu(l,f)?(l=Mg(),Sl=hf=zs=null,Tl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vc&&f.locale!=="ko"?null:f.data;default:return null}}var Bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!Bh[l.type]:f==="textarea"}function js(l,f,d,v){hu?gn?gn.push(v):gn=[v]:hu=v,f=Nb(f,"onChange"),0<f.length&&(d=new uo("onChange","change",null,d,v),l.push({event:d,listeners:f}))}var Wo=null,yc=null;function S0(l){tk(l,0)}function Xo(l){var f=At(l);if(h0(f))return l}function gu(l,f){if(l==="change")return f}var ds=!1;if(da){var Ja;if(da){var Cl="oninput"in document;if(!Cl){var kl=document.createElement("div");kl.setAttribute("oninput","return;"),Cl=typeof kl.oninput=="function"}Ja=Cl}else Ja=!1;ds=Ja&&(!document.documentMode||9<document.documentMode)}function bc(){Wo&&(Wo.detachEvent("onpropertychange",Uh),yc=Wo=null)}function Uh(l){if(l.propertyName==="value"&&Xo(yc)){var f=[];js(f,yc,l,uf(l)),Ig(S0,f)}}function Hh(l,f,d){l==="focusin"?(bc(),Wo=f,yc=d,Wo.attachEvent("onpropertychange",Uh)):l==="focusout"&&bc()}function yi(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Xo(yc)}function Pg(l,f){if(l==="click")return Xo(f)}function Nl(l,f){if(l==="input"||l==="change")return Xo(f)}function Rl(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var ga=typeof Object.is=="function"?Object.is:Rl;function wc(l,f){if(ga(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var d=Object.keys(l),v=Object.keys(f);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var T=d[v];if(!Ue.call(f,T)||!ga(l[T],f[T]))return!1}return!0}function zh(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function jh(l,f){var d=zh(l);l=0;for(var v;d;){if(d.nodeType===3){if(v=l+d.textContent.length,l<=f&&v>=f)return{node:d,offset:f-l};l=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=zh(d)}}function _c(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?_c(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Sc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Ya(l.document);f instanceof l.HTMLIFrameElement;){try{var d=typeof f.contentWindow.location.href=="string"}catch{d=!1}if(d)l=f.contentWindow;else break;f=Ya(l.document)}return f}function Ll(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var mf=da&&"documentMode"in document&&11>=document.documentMode,Gs=null,Ac=null,Na=null,fo=!1;function cr(l,f,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;fo||Gs==null||Gs!==Ya(v)||(v=Gs,"selectionStart"in v&&Ll(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Na&&wc(Na,v)||(Na=v,v=Nb(Ac,"onSelect"),0<v.length&&(f=new uo("onSelect","select",null,f,d),l.push({event:f,listeners:v}),f.target=Gs)))}function nr(l,f){var d={};return d[l.toLowerCase()]=f.toLowerCase(),d["Webkit"+l]="webkit"+f,d["Moz"+l]="moz"+f,d}var Br={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},bi={},Il={};da&&(Il=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Yo(l){if(bi[l])return bi[l];if(!Br[l])return l;var f=Br[l],d;for(d in f)if(f.hasOwnProperty(d)&&d in Il)return bi[l]=f[d];return l}var vf=Yo("animationend"),A0=Yo("animationiteration"),vv=Yo("animationstart"),Zy=Yo("transitionrun"),Qy=Yo("transitionstart"),eb=Yo("transitioncancel"),xv=Yo("transitionend"),yv=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ho(l,f){yv.set(l,f),Tr(f,[l])}var E0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},qs=[],yf=0,Og=0;function T0(){for(var l=yf,f=Og=yf=0;f<l;){var d=qs[f];qs[f++]=null;var v=qs[f];qs[f++]=null;var T=qs[f];qs[f++]=null;var N=qs[f];if(qs[f++]=null,v!==null&&T!==null){var V=v.pending;V===null?T.next=T:(T.next=V.next,V.next=T),v.pending=T}N!==0&&k0(d,T,N)}}function C0(l,f,d,v){qs[yf++]=l,qs[yf++]=f,qs[yf++]=d,qs[yf++]=v,Og|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Bg(l,f,d,v){return C0(l,f,d,v),Ra(l)}function Ec(l,f){return C0(l,null,null,f),Ra(l)}function k0(l,f,d){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d);for(var T=!1,N=l.return;N!==null;)N.childLanes|=d,v=N.alternate,v!==null&&(v.childLanes|=d),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(T=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,T&&f!==null&&(T=31-Hn(d),l=N.hiddenUpdates,v=l[T],v===null?l[T]=[f]:v.push(f),f.lane=d|536870912),N):null}function Ra(l){if(50<zv)throw zv=0,hS=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var ma={};function Ug(l,f,d,v){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(l,f,d,v){return new Ug(l,f,d,v)}function Hg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function po(l,f){var d=l.alternate;return d===null?(d=La(l.tag,f,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=f,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,f=l.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function N0(l,f){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,f=d.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Gh(l,f,d,v,T,N){var V=0;if(v=l,typeof l=="function")Hg(l)&&(V=1);else if(typeof l=="string")V=GO(l,d,G.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=La(31,d,f,T),l.elementType=O,l.lanes=N,l;case y:return mu(d.children,T,N,f);case S:V=8,T|=24;break;case C:return l=La(12,d,f,T|2),l.elementType=C,l.lanes=N,l;case z:return l=La(13,d,f,T),l.elementType=z,l.lanes=N,l;case q:return l=La(19,d,f,T),l.elementType=q,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:V=10;break e;case L:V=9;break e;case D:V=11;break e;case P:V=14;break e;case W:V=16,v=null;break e}V=29,d=Error(r(130,l===null?"null":typeof l,"")),v=null}return f=La(V,d,f,T),f.elementType=l,f.type=v,f.lanes=N,f}function mu(l,f,d,v){return l=La(7,l,v,f),l.lanes=d,l}function R0(l,f,d){return l=La(6,l,null,f),l.lanes=d,l}function zg(l){var f=La(18,null,null,0);return f.stateNode=l,f}function qh(l,f,d){return f=La(4,l.children!==null?l.children:[],l.key,f),f.lanes=d,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var jg=new WeakMap;function go(l,f){if(typeof l=="object"&&l!==null){var d=jg.get(l);return d!==void 0?d:(f={value:l,source:f,stack:He(f)},jg.set(l,f),f)}return{value:l,source:f,stack:He(f)}}var Vh=[],bf=0,Gg=null,L0=0,mo=[],vo=0,vu=null,xo=1,yo="";function Vs(l,f){Vh[bf++]=L0,Vh[bf++]=Gg,Gg=l,L0=f}function tb(l,f,d){mo[vo++]=xo,mo[vo++]=yo,mo[vo++]=vu,vu=l;var v=xo;l=yo;var T=32-Hn(v)-1;v&=~(1<<T),d+=1;var N=32-Hn(f)+T;if(30<N){var V=T-T%5;N=(v&(1<<V)-1).toString(32),v>>=V,T-=V,xo=1<<32-Hn(f)+T|d<<T|v,yo=N+l}else xo=1<<N|d<<T|v,yo=l}function bv(l){l.return!==null&&(Vs(l,1),tb(l,1,0))}function qg(l){for(;l===Gg;)Gg=Vh[--bf],Vh[bf]=null,L0=Vh[--bf],Vh[bf]=null;for(;l===vu;)vu=mo[--vo],mo[vo]=null,yo=mo[--vo],mo[vo]=null,xo=mo[--vo],mo[vo]=null}function nb(l,f){mo[vo++]=xo,mo[vo++]=yo,mo[vo++]=vu,xo=f.id,yo=f.overflow,vu=l}var va=null,Wr=null,Kn=!1,Za=null,ui=!1,$o=Error(r(519));function xu(l){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wh(go(f,l)),$o}function wv(l){var f=l.stateNode,d=l.type,v=l.memoizedProps;switch(f[ve]=l,f[be]=v,d){case"dialog":Zn("cancel",f),Zn("close",f);break;case"iframe":case"object":case"embed":Zn("load",f);break;case"video":case"audio":for(d=0;d<Gv.length;d++)Zn(Gv[d],f);break;case"source":Zn("error",f);break;case"img":case"image":case"link":Zn("error",f),Zn("load",f);break;case"details":Zn("toggle",f);break;case"input":Zn("invalid",f),Cg(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Zn("invalid",f);break;case"textarea":Zn("invalid",f),g0(f,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||f.textContent===""+d||v.suppressHydrationWarning===!0||ak(f.textContent,d)?(v.popover!=null&&(Zn("beforetoggle",f),Zn("toggle",f)),v.onScroll!=null&&Zn("scroll",f),v.onScrollEnd!=null&&Zn("scrollend",f),v.onClick!=null&&(f.onclick=Go),f=!0):f=!1,f||xu(l,!0)}function Tc(l){for(va=l.return;va;)switch(va.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:va=va.return}}function xa(l){if(l!==va)return!1;if(!Kn)return Tc(l),Kn=!0,!1;var f=l.tag,d;if((d=f!==3&&f!==27)&&((d=f===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||CS(l.type,l.memoizedProps)),d=!d),d&&Wr&&xu(l),Tc(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=pk(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=pk(l)}else f===27?(f=Wr,sd(l.type)?(l=IS,IS=null,Wr=l):Wr=f):Wr=va?Pl(l.stateNode.nextSibling):null;return!0}function wf(){Wr=va=null,Kn=!1}function _v(){var l=Za;return l!==null&&(Eo===null?Eo=l:Eo.push.apply(Eo,l),Za=null),l}function Wh(l){Za===null?Za=[l]:Za.push(l)}var Vg=ie(null),yu=null,Ml=null;function bu(l,f,d){H(Vg,f._currentValue),f._currentValue=d}function bo(l){l._currentValue=Vg.current,M(Vg)}function Xh(l,f,d){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===d)break;l=l.return}}function _f(l,f,d,v){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var N=T.dependencies;if(N!==null){var V=T.child;N=N.firstContext;e:for(;N!==null;){var he=N;N=T;for(var Ie=0;Ie<f.length;Ie++)if(he.context===f[Ie]){N.lanes|=d,he=N.alternate,he!==null&&(he.lanes|=d),Xh(N.return,d,l),v||(V=null);break e}N=he.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(r(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),Xh(V,d,l),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===l){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function wu(l,f,d,v){l=null;for(var T=f,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var he=T.type;ga(T.pendingProps.value,V.value)||(l!==null?l.push(he):l=[he])}}else if(T===ye.current){if(V=T.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Yv):l=[Yv])}T=T.return}l!==null&&_f(f,l,d,v),f.flags|=262144}function Wg(l){for(l=l.firstContext;l!==null;){if(!ga(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function _u(l){yu=l,Ml=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ya(l){return rb(yu,l)}function Xg(l,f){return yu===null&&_u(l),rb(l,f)}function rb(l,f){var d=f._currentValue;if(f={context:f,memoizedValue:d,next:null},Ml===null){if(l===null)throw Error(r(308));Ml=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else Ml=Ml.next=f;return d}var L5=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(d,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(d){return d()})}},I5=n.unstable_scheduleCallback,M5=n.unstable_NormalPriority,wi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new L5,data:new Map,refCount:0}}function I0(l){l.refCount--,l.refCount===0&&I5(M5,function(){l.controller.abort()})}var M0=null,Yg=0,_=0,k=null;function F(l,f){if(M0===null){var d=M0=[];Yg=0,_=xS(),k={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Yg++,f.then(U,U),f}function U(){if(--Yg===0&&M0!==null){k!==null&&(k.status="fulfilled");var l=M0;M0=null,_=0,k=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function Z(l,f){var d=[],v={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var T=0;T<d.length;T++)(0,d[T])(f)},function(T){for(v.status="rejected",v.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),v}var re=K.S;K.S=function(l,f){N3=wt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&F(l,f),re!==null&&re(l,f)};var oe=ie(null);function pe(){var l=oe.current;return l!==null?l:Yr.pooledCache}function xe(l,f){f===null?H(oe,oe.current):H(oe,f.pool)}function _e(){var l=pe();return l===null?null:{parent:wi._currentValue,pool:l}}var De=Error(r(460)),$e=Error(r(474)),we=Error(r(542)),Oe={then:function(){}};function qe(l){return l=l.status,l==="fulfilled"||l==="rejected"}function it(l,f,d){switch(d=l[d],d===void 0?l.push(f):d!==f&&(f.then(Go,Go),f=d),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,_t(l),l;default:if(typeof f.status=="string")f.then(Go,Go);else{if(l=Yr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=v}},function(v){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,_t(l),l}throw rt=f,De}}function We(l){try{var f=l._init;return f(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(rt=d,De):d}}var rt=null;function ct(){if(rt===null)throw Error(r(459));var l=rt;return rt=null,l}function _t(l){if(l===De||l===we)throw Error(r(483))}var mt=null,Kt=0;function Ut(l){var f=Kt;return Kt+=1,mt===null&&(mt=[]),it(mt,l,f)}function An(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Gt(l,f){throw f.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Vn(l){function f(je,Fe){if(l){var Je=je.deletions;Je===null?(je.deletions=[Fe],je.flags|=16):Je.push(Fe)}}function d(je,Fe){if(!l)return null;for(;Fe!==null;)f(je,Fe),Fe=Fe.sibling;return null}function v(je){for(var Fe=new Map;je!==null;)je.key!==null?Fe.set(je.key,je):Fe.set(je.index,je),je=je.sibling;return Fe}function T(je,Fe){return je=po(je,Fe),je.index=0,je.sibling=null,je}function N(je,Fe,Je){return je.index=Je,l?(Je=je.alternate,Je!==null?(Je=Je.index,Je<Fe?(je.flags|=67108866,Fe):Je):(je.flags|=67108866,Fe)):(je.flags|=1048576,Fe)}function V(je){return l&&je.alternate===null&&(je.flags|=67108866),je}function he(je,Fe,Je,ht){return Fe===null||Fe.tag!==6?(Fe=R0(Je,je.mode,ht),Fe.return=je,Fe):(Fe=T(Fe,Je),Fe.return=je,Fe)}function Ie(je,Fe,Je,ht){var fn=Je.type;return fn===y?st(je,Fe,Je.props.children,ht,Je.key):Fe!==null&&(Fe.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===W&&We(fn)===Fe.type)?(Fe=T(Fe,Je.props),An(Fe,Je),Fe.return=je,Fe):(Fe=Gh(Je.type,Je.key,Je.props,null,je.mode,ht),An(Fe,Je),Fe.return=je,Fe)}function Ze(je,Fe,Je,ht){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Je.containerInfo||Fe.stateNode.implementation!==Je.implementation?(Fe=qh(Je,je.mode,ht),Fe.return=je,Fe):(Fe=T(Fe,Je.children||[]),Fe.return=je,Fe)}function st(je,Fe,Je,ht,fn){return Fe===null||Fe.tag!==7?(Fe=mu(Je,je.mode,ht,fn),Fe.return=je,Fe):(Fe=T(Fe,Je),Fe.return=je,Fe)}function pt(je,Fe,Je){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=R0(""+Fe,je.mode,Je),Fe.return=je,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case m:return Je=Gh(Fe.type,Fe.key,Fe.props,null,je.mode,Je),An(Je,Fe),Je.return=je,Je;case w:return Fe=qh(Fe,je.mode,Je),Fe.return=je,Fe;case W:return Fe=We(Fe),pt(je,Fe,Je)}if(ue(Fe)||j(Fe))return Fe=mu(Fe,je.mode,Je,null),Fe.return=je,Fe;if(typeof Fe.then=="function")return pt(je,Ut(Fe),Je);if(Fe.$$typeof===R)return pt(je,Xg(je,Fe),Je);Gt(je,Fe)}return null}function Qe(je,Fe,Je,ht){var fn=Fe!==null?Fe.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return fn!==null?null:he(je,Fe,""+Je,ht);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case m:return Je.key===fn?Ie(je,Fe,Je,ht):null;case w:return Je.key===fn?Ze(je,Fe,Je,ht):null;case W:return Je=We(Je),Qe(je,Fe,Je,ht)}if(ue(Je)||j(Je))return fn!==null?null:st(je,Fe,Je,ht,null);if(typeof Je.then=="function")return Qe(je,Fe,Ut(Je),ht);if(Je.$$typeof===R)return Qe(je,Fe,Xg(je,Je),ht);Gt(je,Je)}return null}function tt(je,Fe,Je,ht,fn){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return je=je.get(Je)||null,he(Fe,je,""+ht,fn);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case m:return je=je.get(ht.key===null?Je:ht.key)||null,Ie(Fe,je,ht,fn);case w:return je=je.get(ht.key===null?Je:ht.key)||null,Ze(Fe,je,ht,fn);case W:return ht=We(ht),tt(je,Fe,Je,ht,fn)}if(ue(ht)||j(ht))return je=je.get(Je)||null,st(Fe,je,ht,fn,null);if(typeof ht.then=="function")return tt(je,Fe,Je,Ut(ht),fn);if(ht.$$typeof===R)return tt(je,Fe,Je,Xg(Fe,ht),fn);Gt(Fe,ht)}return null}function Yt(je,Fe,Je,ht){for(var fn=null,pr=null,tn=Fe,Pn=Fe=0,er=null;tn!==null&&Pn<Je.length;Pn++){tn.index>Pn?(er=tn,tn=null):er=tn.sibling;var gr=Qe(je,tn,Je[Pn],ht);if(gr===null){tn===null&&(tn=er);break}l&&tn&&gr.alternate===null&&f(je,tn),Fe=N(gr,Fe,Pn),pr===null?fn=gr:pr.sibling=gr,pr=gr,tn=er}if(Pn===Je.length)return d(je,tn),Kn&&Vs(je,Pn),fn;if(tn===null){for(;Pn<Je.length;Pn++)tn=pt(je,Je[Pn],ht),tn!==null&&(Fe=N(tn,Fe,Pn),pr===null?fn=tn:pr.sibling=tn,pr=tn);return Kn&&Vs(je,Pn),fn}for(tn=v(tn);Pn<Je.length;Pn++)er=tt(tn,je,Pn,Je[Pn],ht),er!==null&&(l&&er.alternate!==null&&tn.delete(er.key===null?Pn:er.key),Fe=N(er,Fe,Pn),pr===null?fn=er:pr.sibling=er,pr=er);return l&&tn.forEach(function(fd){return f(je,fd)}),Kn&&Vs(je,Pn),fn}function xn(je,Fe,Je,ht){if(Je==null)throw Error(r(151));for(var fn=null,pr=null,tn=Fe,Pn=Fe=0,er=null,gr=Je.next();tn!==null&&!gr.done;Pn++,gr=Je.next()){tn.index>Pn?(er=tn,tn=null):er=tn.sibling;var fd=Qe(je,tn,gr.value,ht);if(fd===null){tn===null&&(tn=er);break}l&&tn&&fd.alternate===null&&f(je,tn),Fe=N(fd,Fe,Pn),pr===null?fn=fd:pr.sibling=fd,pr=fd,tn=er}if(gr.done)return d(je,tn),Kn&&Vs(je,Pn),fn;if(tn===null){for(;!gr.done;Pn++,gr=Je.next())gr=pt(je,gr.value,ht),gr!==null&&(Fe=N(gr,Fe,Pn),pr===null?fn=gr:pr.sibling=gr,pr=gr);return Kn&&Vs(je,Pn),fn}for(tn=v(tn);!gr.done;Pn++,gr=Je.next())gr=tt(tn,je,Pn,gr.value,ht),gr!==null&&(l&&gr.alternate!==null&&tn.delete(gr.key===null?Pn:gr.key),Fe=N(gr,Fe,Pn),pr===null?fn=gr:pr.sibling=gr,pr=gr);return l&&tn.forEach(function(e9){return f(je,e9)}),Kn&&Vs(je,Pn),fn}function jr(je,Fe,Je,ht){if(typeof Je=="object"&&Je!==null&&Je.type===y&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case m:e:{for(var fn=Je.key;Fe!==null;){if(Fe.key===fn){if(fn=Je.type,fn===y){if(Fe.tag===7){d(je,Fe.sibling),ht=T(Fe,Je.props.children),ht.return=je,je=ht;break e}}else if(Fe.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===W&&We(fn)===Fe.type){d(je,Fe.sibling),ht=T(Fe,Je.props),An(ht,Je),ht.return=je,je=ht;break e}d(je,Fe);break}else f(je,Fe);Fe=Fe.sibling}Je.type===y?(ht=mu(Je.props.children,je.mode,ht,Je.key),ht.return=je,je=ht):(ht=Gh(Je.type,Je.key,Je.props,null,je.mode,ht),An(ht,Je),ht.return=je,je=ht)}return V(je);case w:e:{for(fn=Je.key;Fe!==null;){if(Fe.key===fn)if(Fe.tag===4&&Fe.stateNode.containerInfo===Je.containerInfo&&Fe.stateNode.implementation===Je.implementation){d(je,Fe.sibling),ht=T(Fe,Je.children||[]),ht.return=je,je=ht;break e}else{d(je,Fe);break}else f(je,Fe);Fe=Fe.sibling}ht=qh(Je,je.mode,ht),ht.return=je,je=ht}return V(je);case W:return Je=We(Je),jr(je,Fe,Je,ht)}if(ue(Je))return Yt(je,Fe,Je,ht);if(j(Je)){if(fn=j(Je),typeof fn!="function")throw Error(r(150));return Je=fn.call(Je),xn(je,Fe,Je,ht)}if(typeof Je.then=="function")return jr(je,Fe,Ut(Je),ht);if(Je.$$typeof===R)return jr(je,Fe,Xg(je,Je),ht);Gt(je,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint"?(Je=""+Je,Fe!==null&&Fe.tag===6?(d(je,Fe.sibling),ht=T(Fe,Je),ht.return=je,je=ht):(d(je,Fe),ht=R0(Je,je.mode,ht),ht.return=je,je=ht),V(je)):d(je,Fe)}return function(je,Fe,Je,ht){try{Kt=0;var fn=jr(je,Fe,Je,ht);return mt=null,fn}catch(tn){if(tn===De||tn===we)throw tn;var pr=La(29,tn,null,je.mode);return pr.lanes=ht,pr.return=je,pr}finally{}}}var Xr=Vn(!0),Rn=Vn(!1),Ht=!1;function Lt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ei(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function mn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Mn(l,f,d){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Ar&2)!==0){var T=v.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),v.pending=f,f=Ra(l),k0(l,null,d),f}return C0(l,v,f,d),Ra(l)}function _r(l,f,d){if(f=f.updateQueue,f!==null&&(f=f.shared,(d&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,d|=v,f.lanes=d,ha(l,d)}}function Gi(l,f){var d=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var T=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?T=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?T=N=f:N=N.next=f}else T=N=f;d={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=f:l.next=f,d.lastBaseUpdate=f}var ba=!1;function Ur(){if(ba){var l=k;if(l!==null)throw l}}function Ri(l,f,d,v){ba=!1;var T=l.updateQueue;Ht=!1;var N=T.firstBaseUpdate,V=T.lastBaseUpdate,he=T.shared.pending;if(he!==null){T.shared.pending=null;var Ie=he,Ze=Ie.next;Ie.next=null,V===null?N=Ze:V.next=Ze,V=Ie;var st=l.alternate;st!==null&&(st=st.updateQueue,he=st.lastBaseUpdate,he!==V&&(he===null?st.firstBaseUpdate=Ze:he.next=Ze,st.lastBaseUpdate=Ie))}if(N!==null){var pt=T.baseState;V=0,st=Ze=Ie=null,he=N;do{var Qe=he.lane&-536870913,tt=Qe!==he.lane;if(tt?(Qn&Qe)===Qe:(v&Qe)===Qe){Qe!==0&&Qe===_&&(ba=!0),st!==null&&(st=st.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var Yt=l,xn=he;Qe=f;var jr=d;switch(xn.tag){case 1:if(Yt=xn.payload,typeof Yt=="function"){pt=Yt.call(jr,pt,Qe);break e}pt=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=xn.payload,Qe=typeof Yt=="function"?Yt.call(jr,pt,Qe):Yt,Qe==null)break e;pt=p({},pt,Qe);break e;case 2:Ht=!0}}Qe=he.callback,Qe!==null&&(l.flags|=64,tt&&(l.flags|=8192),tt=T.callbacks,tt===null?T.callbacks=[Qe]:tt.push(Qe))}else tt={lane:Qe,tag:he.tag,payload:he.payload,callback:he.callback,next:null},st===null?(Ze=st=tt,Ie=pt):st=st.next=tt,V|=Qe;if(he=he.next,he===null){if(he=T.shared.pending,he===null)break;tt=he,he=tt.next,tt.next=null,T.lastBaseUpdate=tt,T.shared.pending=null}}while(!0);st===null&&(Ie=pt),T.baseState=Ie,T.firstBaseUpdate=Ze,T.lastBaseUpdate=st,N===null&&(T.shared.lanes=0),td|=V,l.lanes=V,l.memoizedState=pt}}function Ia(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function Li(l,f){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)Ia(d[l],f)}var zn=ie(null),ar=ie(0);function ti(l,f){l=If,H(ar,l),H(zn,f),If=l|f.baseLanes}function ur(){H(ar,If),H(zn,zn.current)}function qi(){If=ar.current,M(zn),M(ar)}var ni=ie(null),sr=null;function _i(l){var f=l.alternate;H(rr,rr.current&1),H(ni,l),sr===null&&(f===null||zn.current!==null||f.memoizedState!==null)&&(sr=l)}function Sr(l){H(rr,rr.current),H(ni,l),sr===null&&(sr=l)}function Ii(l){l.tag===22?(H(rr,rr.current),H(ni,l),sr===null&&(sr=l)):Mi()}function Mi(){H(rr,rr.current),H(ni,ni.current)}function Cr(l){M(ni),sr===l&&(sr=null),M(rr)}var rr=ie(0);function Ma(l){for(var f=l;f!==null;){if(f.tag===13){var d=f.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||RS(d)||LS(d)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var fi=0,cn=null,un=null,or=null,ps=!1,wo=!1,Qa=!1,Di=0,Su=0,Au=null,$g=0;function Hr(){throw Error(r(321))}function Sv(l,f){if(f===null)return!1;for(var d=0;d<f.length&&d<l.length;d++)if(!ga(l[d],f[d]))return!1;return!0}function Av(l,f,d,v,T,N){return fi=N,cn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K.H=l===null||l.memoizedState===null?HC:z5,Qa=!1,N=d(v,T),Qa=!1,wo&&(N=Cc(f,d,v,T)),Kg(l),N}function Kg(l){K.H=Iv;var f=un!==null&&un.next!==null;if(fi=0,or=un=cn=null,ps=!1,Su=0,Au=null,f)throw Error(r(300));l===null||ia||(l=l.dependencies,l!==null&&Wg(l)&&(ia=!0))}function Cc(l,f,d,v){cn=l;var T=0;do{if(wo&&(Au=null),Su=0,wo=!1,25<=T)throw Error(r(301));if(T+=1,or=un=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}K.H=zC,N=f(d,v)}while(wo);return N}function D5(){var l=K.H,f=l.useState()[0];return f=typeof f.then=="function"?Eu(f):f,l=l.useState()[0],(un!==null?un.memoizedState:null)!==l&&(cn.flags|=1024),f}function Ev(){var l=Di!==0;return Di=0,l}function Tv(l,f,d){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~d}function Jg(l){if(ps){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}ps=!1}fi=0,or=un=cn=null,wo=!1,Su=Di=0,Au=null}function ra(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?cn.memoizedState=or=l:or=or.next=l,or}function hi(){if(un===null){var l=cn.alternate;l=l!==null?l.memoizedState:null}else l=un.next;var f=or===null?cn.memoizedState:or.next;if(f!==null)or=f,un=l;else{if(l===null)throw cn.alternate===null?Error(r(467)):Error(r(310));un=l,l={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},or===null?cn.memoizedState=or=l:or=or.next=l}return or}function D0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(l){var f=Su;return Su+=1,Au===null&&(Au=[]),l=it(Au,l,f),f=cn,(or===null?f.memoizedState:or.next)===null&&(f=f.alternate,K.H=f===null||f.memoizedState===null?HC:z5),l}function $h(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Eu(l);if(l.$$typeof===R)return ya(l)}throw Error(r(438,String(l)))}function Sf(l){var f=null,d=cn.updateQueue;if(d!==null&&(f=d.memoCache),f==null){var v=cn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),d===null&&(d=D0(),cn.updateQueue=d),d.memoCache=f,d=f.data[f.index],d===void 0)for(d=f.data[f.index]=Array(l),v=0;v<l;v++)d[v]=Q;return f.index++,d}function Dl(l,f){return typeof f=="function"?f(l):f}function Zg(l){var f=hi();return Kh(f,un,l)}function Kh(l,f,d){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var T=l.baseQueue,N=v.pending;if(N!==null){if(T!==null){var V=T.next;T.next=N.next,N.next=V}f.baseQueue=T=N,v.pending=null}if(N=l.baseState,T===null)l.memoizedState=N;else{f=T.next;var he=V=null,Ie=null,Ze=f,st=!1;do{var pt=Ze.lane&-536870913;if(pt!==Ze.lane?(Qn&pt)===pt:(fi&pt)===pt){var Qe=Ze.revertLane;if(Qe===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),pt===_&&(st=!0);else if((fi&Qe)===Qe){Ze=Ze.next,Qe===_&&(st=!0);continue}else pt={lane:0,revertLane:Ze.revertLane,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ie===null?(he=Ie=pt,V=N):Ie=Ie.next=pt,cn.lanes|=Qe,td|=Qe;pt=Ze.action,Qa&&d(N,pt),N=Ze.hasEagerState?Ze.eagerState:d(N,pt)}else Qe={lane:pt,revertLane:Ze.revertLane,gesture:Ze.gesture,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ie===null?(he=Ie=Qe,V=N):Ie=Ie.next=Qe,cn.lanes|=pt,td|=pt;Ze=Ze.next}while(Ze!==null&&Ze!==f);if(Ie===null?V=N:Ie.next=he,!ga(N,l.memoizedState)&&(ia=!0,st&&(d=k,d!==null)))throw d;l.memoizedState=N,l.baseState=V,l.baseQueue=Ie,v.lastRenderedState=N}return T===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Qg(l){var f=hi(),d=f.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=d.dispatch,T=d.pending,N=f.memoizedState;if(T!==null){d.pending=null;var V=T=T.next;do N=l(N,V.action),V=V.next;while(V!==T);ga(N,f.memoizedState)||(ia=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),d.lastRenderedState=N}return[N,v]}function em(l,f,d){var v=cn,T=hi(),N=Kn;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=f();var V=!ga((un||T).memoizedState,d);if(V&&(T.memoizedState=d,ia=!0),T=T.queue,F5(kv.bind(null,v,T,l),[l]),T.getSnapshot!==f||V||or!==null&&or.memoizedState.tag&1){if(v.flags|=2048,Ef(9,{destroy:void 0},Cv.bind(null,v,T,d,f),null),Yr===null)throw Error(r(349));N||(fi&127)!==0||kc(v,f,d)}return d}function kc(l,f,d){l.flags|=16384,l={getSnapshot:f,value:d},f=cn.updateQueue,f===null?(f=D0(),cn.updateQueue=f,f.stores=[l]):(d=f.stores,d===null?f.stores=[l]:d.push(l))}function Cv(l,f,d,v){f.value=d,f.getSnapshot=v,ib(f)&&Nv(l)}function kv(l,f,d){return d(function(){ib(f)&&Nv(l)})}function ib(l){var f=l.getSnapshot;l=l.value;try{var d=f();return!ga(l,d)}catch{return!0}}function Nv(l){var f=Ec(l,2);f!==null&&To(f,l,2)}function Tu(l){var f=ra();if(typeof l=="function"){var d=l;if(l=d(),Qa){pn(!0);try{d()}finally{pn(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:l},f}function ab(l,f,d,v){return l.baseState=d,Kh(l,un,typeof v=="function"?v:Dl)}function sb(l,f,d,v,T){if(ub(l))throw Error(r(485));if(l=f.action,l!==null){var N={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};K.T!==null?d(!0):N.isTransition=!1,v(N),d=f.pending,d===null?(N.next=f.pending=N,ob(f,N)):(N.next=d.next,f.pending=d.next=N)}}function ob(l,f){var d=f.action,v=f.payload,T=l.state;if(f.isTransition){var N=K.T,V={};K.T=V;try{var he=d(T,v),Ie=K.S;Ie!==null&&Ie(V,he),Rv(l,f,he)}catch(Ze){Af(l,f,Ze)}finally{N!==null&&V.types!==null&&(N.types=V.types),K.T=N}}else try{N=d(T,v),Rv(l,f,N)}catch(Ze){Af(l,f,Ze)}}function Rv(l,f,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){lb(l,f,v)},function(v){return Af(l,f,v)}):lb(l,f,d)}function lb(l,f,d){f.status="fulfilled",f.value=d,tm(f),l.state=d,f=l.pending,f!==null&&(d=f.next,d===f?l.pending=null:(d=d.next,f.next=d,ob(l,d)))}function Af(l,f,d){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=d,tm(f),f=f.next;while(f!==v)}l.action=null}function tm(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function F0(l,f){return f}function Fl(l,f){if(Kn){var d=Yr.formState;if(d!==null){e:{var v=cn;if(Kn){if(Wr){t:{for(var T=Wr,N=ui;T.nodeType!==8;){if(!N){T=null;break t}if(T=Pl(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Wr=Pl(T.nextSibling),v=T.data==="F!";break e}}xu(v)}v=!1}v&&(f=d[0])}}return d=ra(),d.memoizedState=d.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:f},d.queue=v,d=OC.bind(null,cn,v),v.dispatch=d,v=Tu(!1),N=H5.bind(null,cn,!1,v.queue),v=ra(),T={state:f,dispatch:null,action:l,pending:null},v.queue=T,d=sb.bind(null,cn,T,N,d),T.dispatch=d,v.memoizedState=l,[f,d,!1]}function Nc(l){var f=hi();return Rc(f,un,l)}function Rc(l,f,d){if(f=Kh(l,f,F0)[0],l=Zg(Dl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=Eu(f)}catch(V){throw V===De?we:V}else v=f;f=hi();var T=f.queue,N=T.dispatch;return d!==f.memoizedState&&(cn.flags|=2048,Ef(9,{destroy:void 0},nm.bind(null,T,d),null)),[v,N,l]}function nm(l,f){l.action=f}function rm(l){var f=hi(),d=un;if(d!==null)return Rc(f,d,l);hi(),f=f.memoizedState,d=hi();var v=d.queue.dispatch;return d.memoizedState=l,[f,v,!1]}function Ef(l,f,d,v){return l={tag:l,create:d,deps:v,inst:f,next:null},f=cn.updateQueue,f===null&&(f=D0(),cn.updateQueue=f),d=f.lastEffect,d===null?f.lastEffect=l.next=l:(v=d.next,d.next=l,l.next=v,f.lastEffect=l),l}function cb(){return hi().memoizedState}function Jh(l,f,d,v){var T=ra();cn.flags|=l,T.memoizedState=Ef(1|f,{destroy:void 0},d,v===void 0?null:v)}function Zh(l,f,d,v){var T=hi();v=v===void 0?null:v;var N=T.memoizedState.inst;un!==null&&v!==null&&Sv(v,un.memoizedState.deps)?T.memoizedState=Ef(f,N,d,v):(cn.flags|=l,T.memoizedState=Ef(1|f,N,d,v))}function SC(l,f){Jh(8390656,8,l,f)}function F5(l,f){Zh(2048,8,l,f)}function Y7(l){cn.flags|=4;var f=cn.updateQueue;if(f===null)f=D0(),cn.updateQueue=f,f.events=[l];else{var d=f.events;d===null?f.events=[l]:d.push(l)}}function AC(l){var f=hi().memoizedState;return Y7({ref:f,nextImpl:l}),function(){if((Ar&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function EC(l,f){return Zh(4,2,l,f)}function TC(l,f){return Zh(4,4,l,f)}function CC(l,f){if(typeof f=="function"){l=l();var d=f(l);return function(){typeof d=="function"?d():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function kC(l,f,d){d=d!=null?d.concat([l]):null,Zh(4,4,CC.bind(null,f,l),d)}function P5(){}function NC(l,f){var d=hi();f=f===void 0?null:f;var v=d.memoizedState;return f!==null&&Sv(f,v[1])?v[0]:(d.memoizedState=[l,f],l)}function RC(l,f){var d=hi();f=f===void 0?null:f;var v=d.memoizedState;if(f!==null&&Sv(f,v[1]))return v[0];if(v=l(),Qa){pn(!0);try{l()}finally{pn(!1)}}return d.memoizedState=[v,f],v}function O5(l,f,d){return d===void 0||(fi&1073741824)!==0&&(Qn&261930)===0?l.memoizedState=f:(l.memoizedState=d,l=L3(),cn.lanes|=l,td|=l,d)}function LC(l,f,d,v){return ga(d,f)?d:zn.current!==null?(l=O5(l,d,v),ga(l,f)||(ia=!0),l):(fi&42)===0||(fi&1073741824)!==0&&(Qn&261930)===0?(ia=!0,l.memoizedState=d):(l=L3(),cn.lanes|=l,td|=l,f)}function IC(l,f,d,v,T){var N=le.p;le.p=N!==0&&8>N?N:8;var V=K.T,he={};K.T=he,H5(l,!1,f,d);try{var Ie=T(),Ze=K.S;if(Ze!==null&&Ze(he,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var st=Z(Ie,v);Lv(l,f,st,Zo(l))}else Lv(l,f,v,Zo(l))}catch(pt){Lv(l,f,{then:function(){},status:"rejected",reason:pt},Zo())}finally{le.p=N,V!==null&&he.types!==null&&(V.types=he.types),K.T=V}}function $7(){}function B5(l,f,d,v){if(l.tag!==5)throw Error(r(476));var T=MC(l).queue;IC(l,T,f,Te,d===null?$7:function(){return DC(l),d(v)})}function MC(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:Te},next:null};var d={};return f.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:d},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function DC(l){var f=MC(l);f.next===null&&(f=l.alternate.memoizedState),Lv(l,f.next.queue,{},Zo())}function U5(){return ya(Yv)}function FC(){return hi().memoizedState}function PC(){return hi().memoizedState}function K7(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var d=Zo();l=mn(d);var v=Mn(f,l,d);v!==null&&(To(v,f,d),_r(v,f,d)),f={cache:Yh()},l.payload=f;return}f=f.return}}function J7(l,f,d){var v=Zo();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ub(l)?BC(f,d):(d=Bg(l,f,d,v),d!==null&&(To(d,l,v),UC(d,f,v)))}function OC(l,f,d){var v=Zo();Lv(l,f,d,v)}function Lv(l,f,d,v){var T={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ub(l))BC(f,T);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var V=f.lastRenderedState,he=N(V,d);if(T.hasEagerState=!0,T.eagerState=he,ga(he,V))return C0(l,f,T,0),Yr===null&&T0(),!1}catch{}finally{}if(d=Bg(l,f,T,v),d!==null)return To(d,l,v),UC(d,f,v),!0}return!1}function H5(l,f,d,v){if(v={lane:2,revertLane:xS(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},ub(l)){if(f)throw Error(r(479))}else f=Bg(l,d,v,2),f!==null&&To(f,l,2)}function ub(l){var f=l.alternate;return l===cn||f!==null&&f===cn}function BC(l,f){wo=ps=!0;var d=l.pending;d===null?f.next=f:(f.next=d.next,d.next=f),l.pending=f}function UC(l,f,d){if((d&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,d|=v,f.lanes=d,ha(l,d)}}var Iv={readContext:ya,use:$h,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useLayoutEffect:Hr,useInsertionEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useSyncExternalStore:Hr,useId:Hr,useHostTransitionStatus:Hr,useFormState:Hr,useActionState:Hr,useOptimistic:Hr,useMemoCache:Hr,useCacheRefresh:Hr};Iv.useEffectEvent=Hr;var HC={readContext:ya,use:$h,useCallback:function(l,f){return ra().memoizedState=[l,f===void 0?null:f],l},useContext:ya,useEffect:SC,useImperativeHandle:function(l,f,d){d=d!=null?d.concat([l]):null,Jh(4194308,4,CC.bind(null,f,l),d)},useLayoutEffect:function(l,f){return Jh(4194308,4,l,f)},useInsertionEffect:function(l,f){Jh(4,2,l,f)},useMemo:function(l,f){var d=ra();f=f===void 0?null:f;var v=l();if(Qa){pn(!0);try{l()}finally{pn(!1)}}return d.memoizedState=[v,f],v},useReducer:function(l,f,d){var v=ra();if(d!==void 0){var T=d(f);if(Qa){pn(!0);try{d(f)}finally{pn(!1)}}}else T=f;return v.memoizedState=v.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},v.queue=l,l=l.dispatch=J7.bind(null,cn,l),[v.memoizedState,l]},useRef:function(l){var f=ra();return l={current:l},f.memoizedState=l},useState:function(l){l=Tu(l);var f=l.queue,d=OC.bind(null,cn,f);return f.dispatch=d,[l.memoizedState,d]},useDebugValue:P5,useDeferredValue:function(l,f){var d=ra();return O5(d,l,f)},useTransition:function(){var l=Tu(!1);return l=IC.bind(null,cn,l.queue,!0,!1),ra().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,d){var v=cn,T=ra();if(Kn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=f(),Yr===null)throw Error(r(349));(Qn&127)!==0||kc(v,f,d)}T.memoizedState=d;var N={value:d,getSnapshot:f};return T.queue=N,SC(kv.bind(null,v,N,l),[l]),v.flags|=2048,Ef(9,{destroy:void 0},Cv.bind(null,v,N,d,f),null),d},useId:function(){var l=ra(),f=Yr.identifierPrefix;if(Kn){var d=yo,v=xo;d=(v&~(1<<32-Hn(v)-1)).toString(32)+d,f="_"+f+"R_"+d,d=Di++,0<d&&(f+="H"+d.toString(32)),f+="_"}else d=$g++,f="_"+f+"r_"+d.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:U5,useFormState:Fl,useActionState:Fl,useOptimistic:function(l){var f=ra();f.memoizedState=f.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=d,f=H5.bind(null,cn,!0,d),d.dispatch=f,[l,f]},useMemoCache:Sf,useCacheRefresh:function(){return ra().memoizedState=K7.bind(null,cn)},useEffectEvent:function(l){var f=ra(),d={impl:l};return f.memoizedState=d,function(){if((Ar&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},z5={readContext:ya,use:$h,useCallback:NC,useContext:ya,useEffect:F5,useImperativeHandle:kC,useInsertionEffect:EC,useLayoutEffect:TC,useMemo:RC,useReducer:Zg,useRef:cb,useState:function(){return Zg(Dl)},useDebugValue:P5,useDeferredValue:function(l,f){var d=hi();return LC(d,un.memoizedState,l,f)},useTransition:function(){var l=Zg(Dl)[0],f=hi().memoizedState;return[typeof l=="boolean"?l:Eu(l),f]},useSyncExternalStore:em,useId:FC,useHostTransitionStatus:U5,useFormState:Nc,useActionState:Nc,useOptimistic:function(l,f){var d=hi();return ab(d,un,l,f)},useMemoCache:Sf,useCacheRefresh:PC};z5.useEffectEvent=AC;var zC={readContext:ya,use:$h,useCallback:NC,useContext:ya,useEffect:F5,useImperativeHandle:kC,useInsertionEffect:EC,useLayoutEffect:TC,useMemo:RC,useReducer:Qg,useRef:cb,useState:function(){return Qg(Dl)},useDebugValue:P5,useDeferredValue:function(l,f){var d=hi();return un===null?O5(d,l,f):LC(d,un.memoizedState,l,f)},useTransition:function(){var l=Qg(Dl)[0],f=hi().memoizedState;return[typeof l=="boolean"?l:Eu(l),f]},useSyncExternalStore:em,useId:FC,useHostTransitionStatus:U5,useFormState:rm,useActionState:rm,useOptimistic:function(l,f){var d=hi();return un!==null?ab(d,un,l,f):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:PC};zC.useEffectEvent=AC;function j5(l,f,d,v){f=l.memoizedState,d=d(v,f),d=d==null?f:p({},f,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var G5={enqueueSetState:function(l,f,d){l=l._reactInternals;var v=Zo(),T=mn(v);T.payload=f,d!=null&&(T.callback=d),f=Mn(l,T,v),f!==null&&(To(f,l,v),_r(f,l,v))},enqueueReplaceState:function(l,f,d){l=l._reactInternals;var v=Zo(),T=mn(v);T.tag=1,T.payload=f,d!=null&&(T.callback=d),f=Mn(l,T,v),f!==null&&(To(f,l,v),_r(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var d=Zo(),v=mn(d);v.tag=2,f!=null&&(v.callback=f),f=Mn(l,v,d),f!==null&&(To(f,l,d),_r(f,l,d))}};function jC(l,f,d,v,T,N,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,N,V):f.prototype&&f.prototype.isPureReactComponent?!wc(d,v)||!wc(T,N):!0}function GC(l,f,d,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(d,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(d,v),f.state!==l&&G5.enqueueReplaceState(f,f.state,null)}function P0(l,f){var d=f;if("ref"in f){d={};for(var v in f)v!=="ref"&&(d[v]=f[v])}if(l=l.defaultProps){d===f&&(d=p({},d));for(var T in l)d[T]===void 0&&(d[T]=l[T])}return d}function qC(l){E0(l)}function VC(l){console.error(l)}function WC(l){E0(l)}function fb(l,f){try{var d=l.onUncaughtError;d(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function XC(l,f,d){try{var v=l.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function q5(l,f,d){return d=mn(d),d.tag=3,d.payload={element:null},d.callback=function(){fb(l,f)},d}function YC(l){return l=mn(l),l.tag=3,l}function $C(l,f,d,v){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var N=v.value;l.payload=function(){return T(N)},l.callback=function(){XC(f,d,v)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){XC(f,d,v),typeof T!="function"&&(nd===null?nd=new Set([this]):nd.add(this));var he=v.stack;this.componentDidCatch(v.value,{componentStack:he!==null?he:""})})}function Z7(l,f,d,v,T){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=d.alternate,f!==null&&wu(f,d,T,!0),d=ni.current,d!==null){switch(d.tag){case 31:case 13:return sr===null?Sb():d.alternate===null&&Fi===0&&(Fi=3),d.flags&=-257,d.flags|=65536,d.lanes=T,v===Oe?d.flags|=16384:(f=d.updateQueue,f===null?d.updateQueue=new Set([v]):f.add(v),gS(l,v,T)),!1;case 22:return d.flags|=65536,v===Oe?d.flags|=16384:(f=d.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=f):(d=f.retryQueue,d===null?f.retryQueue=new Set([v]):d.add(v)),gS(l,v,T)),!1}throw Error(r(435,d.tag))}return gS(l,v,T),Sb(),!1}if(Kn)return f=ni.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,v!==$o&&(l=Error(r(422),{cause:v}),Wh(go(l,d)))):(v!==$o&&(f=Error(r(423),{cause:v}),Wh(go(f,d))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,v=go(v,d),T=q5(l.stateNode,v,T),Gi(l,T),Fi!==4&&(Fi=2)),!1;var N=Error(r(520),{cause:v});if(N=go(N,d),Hv===null?Hv=[N]:Hv.push(N),Fi!==4&&(Fi=2),f===null)return!0;v=go(v,d),d=f;do{switch(d.tag){case 3:return d.flags|=65536,l=T&-T,d.lanes|=l,l=q5(d.stateNode,v,l),Gi(d,l),!1;case 1:if(f=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(nd===null||!nd.has(N))))return d.flags|=65536,T&=-T,d.lanes|=T,T=YC(T),$C(T,l,d,v),Gi(d,T),!1}d=d.return}while(d!==null);return!1}var V5=Error(r(461)),ia=!1;function es(l,f,d,v){f.child=l===null?Rn(f,null,d,v):Xr(f,l.child,d,v)}function KC(l,f,d,v,T){d=d.render;var N=f.ref;if("ref"in v){var V={};for(var he in v)he!=="ref"&&(V[he]=v[he])}else V=v;return _u(f),v=Av(l,f,d,V,N,T),he=Ev(),l!==null&&!ia?(Tv(l,f,T),Tf(l,f,T)):(Kn&&he&&bv(f),f.flags|=1,es(l,f,v,T),f.child)}function JC(l,f,d,v,T){if(l===null){var N=d.type;return typeof N=="function"&&!Hg(N)&&N.defaultProps===void 0&&d.compare===null?(f.tag=15,f.type=N,ZC(l,f,N,v,T)):(l=Gh(d.type,null,v,f,f.mode,T),l.ref=f.ref,l.return=f,f.child=l)}if(N=l.child,!Q5(l,T)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:wc,d(V,v)&&l.ref===f.ref)return Tf(l,f,T)}return f.flags|=1,l=po(N,v),l.ref=f.ref,l.return=f,f.child=l}function ZC(l,f,d,v,T){if(l!==null){var N=l.memoizedProps;if(wc(N,v)&&l.ref===f.ref)if(ia=!1,f.pendingProps=v=N,Q5(l,T))(l.flags&131072)!==0&&(ia=!0);else return f.lanes=l.lanes,Tf(l,f,T)}return W5(l,f,d,v,T)}function QC(l,f,d,v){var T=v.children,N=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,l!==null){for(v=f.child=l.child,T=0;v!==null;)T=T|v.lanes|v.childLanes,v=v.sibling;v=T&~N}else v=0,f.child=null;return e3(l,f,N,d,v)}if((d&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&xe(f,N!==null?N.cachePool:null),N!==null?ti(f,N):ur(),Ii(f);else return v=f.lanes=536870912,e3(l,f,N!==null?N.baseLanes|d:d,d,v)}else N!==null?(xe(f,N.cachePool),ti(f,N),Mi(),f.memoizedState=null):(l!==null&&xe(f,null),ur(),Mi());return es(l,f,T,d),f.child}function Mv(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function e3(l,f,d,v,T){var N=pe();return N=N===null?null:{parent:wi._currentValue,pool:N},f.memoizedState={baseLanes:d,cachePool:N},l!==null&&xe(f,null),ur(),Ii(f),l!==null&&wu(l,f,v,!0),f.childLanes=T,null}function hb(l,f){return f=pb({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function t3(l,f,d){return Xr(f,l.child,null,d),l=hb(f,f.pendingProps),l.flags|=2,Cr(f),f.memoizedState=null,l}function Q7(l,f,d){var v=f.pendingProps,T=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Kn){if(v.mode==="hidden")return l=hb(f,v),f.lanes=536870912,Mv(null,l);if(Sr(f),(l=Wr)?(l=dk(l,ui),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:vu!==null?{id:xo,overflow:yo}:null,retryLane:536870912,hydrationErrors:null},d=zg(l),d.return=f,f.child=d,va=f,Wr=null)):l=null,l===null)throw xu(f);return f.lanes=536870912,null}return hb(f,v)}var N=l.memoizedState;if(N!==null){var V=N.dehydrated;if(Sr(f),T)if(f.flags&256)f.flags&=-257,f=t3(l,f,d);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(r(558));else if(ia||wu(l,f,d,!1),T=(d&l.childLanes)!==0,ia||T){if(v=Yr,v!==null&&(V=Wa(v,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Ec(l,V),To(v,l,V),V5;Sb(),f=t3(l,f,d)}else l=N.treeContext,Wr=Pl(V.nextSibling),va=f,Kn=!0,Za=null,ui=!1,l!==null&&nb(f,l),f=hb(f,v),f.flags|=4096;return f}return l=po(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function db(l,f){var d=f.ref;if(d===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(f.flags|=4194816)}}function W5(l,f,d,v,T){return _u(f),d=Av(l,f,d,v,void 0,T),v=Ev(),l!==null&&!ia?(Tv(l,f,T),Tf(l,f,T)):(Kn&&v&&bv(f),f.flags|=1,es(l,f,d,T),f.child)}function n3(l,f,d,v,T,N){return _u(f),f.updateQueue=null,d=Cc(f,v,d,T),Kg(l),v=Ev(),l!==null&&!ia?(Tv(l,f,N),Tf(l,f,N)):(Kn&&v&&bv(f),f.flags|=1,es(l,f,d,N),f.child)}function r3(l,f,d,v,T){if(_u(f),f.stateNode===null){var N=ma,V=d.contextType;typeof V=="object"&&V!==null&&(N=ya(V)),N=new d(v,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=G5,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=v,N.state=f.memoizedState,N.refs={},Lt(f),V=d.contextType,N.context=typeof V=="object"&&V!==null?ya(V):ma,N.state=f.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(j5(f,d,V,v),N.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&G5.enqueueReplaceState(N,N.state,null),Ri(f,v,N,T),Ur(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){N=f.stateNode;var he=f.memoizedProps,Ie=P0(d,he);N.props=Ie;var Ze=N.context,st=d.contextType;V=ma,typeof st=="object"&&st!==null&&(V=ya(st));var pt=d.getDerivedStateFromProps;st=typeof pt=="function"||typeof N.getSnapshotBeforeUpdate=="function",he=f.pendingProps!==he,st||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(he||Ze!==V)&&GC(f,N,v,V),Ht=!1;var Qe=f.memoizedState;N.state=Qe,Ri(f,v,N,T),Ur(),Ze=f.memoizedState,he||Qe!==Ze||Ht?(typeof pt=="function"&&(j5(f,d,pt,v),Ze=f.memoizedState),(Ie=Ht||jC(f,d,Ie,v,Qe,Ze,V))?(st||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Ze),N.props=v,N.state=Ze,N.context=V,v=Ie):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{N=f.stateNode,ei(l,f),V=f.memoizedProps,st=P0(d,V),N.props=st,pt=f.pendingProps,Qe=N.context,Ze=d.contextType,Ie=ma,typeof Ze=="object"&&Ze!==null&&(Ie=ya(Ze)),he=d.getDerivedStateFromProps,(Ze=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==pt||Qe!==Ie)&&GC(f,N,v,Ie),Ht=!1,Qe=f.memoizedState,N.state=Qe,Ri(f,v,N,T),Ur();var tt=f.memoizedState;V!==pt||Qe!==tt||Ht||l!==null&&l.dependencies!==null&&Wg(l.dependencies)?(typeof he=="function"&&(j5(f,d,he,v),tt=f.memoizedState),(st=Ht||jC(f,d,st,v,Qe,tt,Ie)||l!==null&&l.dependencies!==null&&Wg(l.dependencies))?(Ze||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,tt,Ie),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,tt,Ie)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Qe===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Qe===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=tt),N.props=v,N.state=tt,N.context=Ie,v=st):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Qe===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Qe===l.memoizedState||(f.flags|=1024),v=!1)}return N=v,db(l,f),v=(f.flags&128)!==0,N||v?(N=f.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,l!==null&&v?(f.child=Xr(f,l.child,null,T),f.child=Xr(f,null,d,T)):es(l,f,d,T),f.memoizedState=N.state,l=f.child):l=Tf(l,f,T),l}function i3(l,f,d,v){return wf(),f.flags|=256,es(l,f,d,v),f.child}var X5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y5(l){return{baseLanes:l,cachePool:_e()}}function $5(l,f,d){return l=l!==null?l.childLanes&~d:0,f&&(l|=Jo),l}function a3(l,f,d){var v=f.pendingProps,T=!1,N=(f.flags&128)!==0,V;if((V=N)||(V=l!==null&&l.memoizedState===null?!1:(rr.current&2)!==0),V&&(T=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,l===null){if(Kn){if(T?_i(f):Mi(),(l=Wr)?(l=dk(l,ui),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:vu!==null?{id:xo,overflow:yo}:null,retryLane:536870912,hydrationErrors:null},d=zg(l),d.return=f,f.child=d,va=f,Wr=null)):l=null,l===null)throw xu(f);return LS(l)?f.lanes=32:f.lanes=536870912,null}var he=v.children;return v=v.fallback,T?(Mi(),T=f.mode,he=pb({mode:"hidden",children:he},T),v=mu(v,T,d,null),he.return=f,v.return=f,he.sibling=v,f.child=he,v=f.child,v.memoizedState=Y5(d),v.childLanes=$5(l,V,d),f.memoizedState=X5,Mv(null,v)):(_i(f),K5(f,he))}var Ie=l.memoizedState;if(Ie!==null&&(he=Ie.dehydrated,he!==null)){if(N)f.flags&256?(_i(f),f.flags&=-257,f=J5(l,f,d)):f.memoizedState!==null?(Mi(),f.child=l.child,f.flags|=128,f=null):(Mi(),he=v.fallback,T=f.mode,v=pb({mode:"visible",children:v.children},T),he=mu(he,T,d,null),he.flags|=2,v.return=f,he.return=f,v.sibling=he,f.child=v,Xr(f,l.child,null,d),v=f.child,v.memoizedState=Y5(d),v.childLanes=$5(l,V,d),f.memoizedState=X5,f=Mv(null,v));else if(_i(f),LS(he)){if(V=he.nextSibling&&he.nextSibling.dataset,V)var Ze=V.dgst;V=Ze,v=Error(r(419)),v.stack="",v.digest=V,Wh({value:v,source:null,stack:null}),f=J5(l,f,d)}else if(ia||wu(l,f,d,!1),V=(d&l.childLanes)!==0,ia||V){if(V=Yr,V!==null&&(v=Wa(V,d),v!==0&&v!==Ie.retryLane))throw Ie.retryLane=v,Ec(l,v),To(V,l,v),V5;RS(he)||Sb(),f=J5(l,f,d)}else RS(he)?(f.flags|=192,f.child=l.child,f=null):(l=Ie.treeContext,Wr=Pl(he.nextSibling),va=f,Kn=!0,Za=null,ui=!1,l!==null&&nb(f,l),f=K5(f,v.children),f.flags|=4096);return f}return T?(Mi(),he=v.fallback,T=f.mode,Ie=l.child,Ze=Ie.sibling,v=po(Ie,{mode:"hidden",children:v.children}),v.subtreeFlags=Ie.subtreeFlags&65011712,Ze!==null?he=po(Ze,he):(he=mu(he,T,d,null),he.flags|=2),he.return=f,v.return=f,v.sibling=he,f.child=v,Mv(null,v),v=f.child,he=l.child.memoizedState,he===null?he=Y5(d):(T=he.cachePool,T!==null?(Ie=wi._currentValue,T=T.parent!==Ie?{parent:Ie,pool:Ie}:T):T=_e(),he={baseLanes:he.baseLanes|d,cachePool:T}),v.memoizedState=he,v.childLanes=$5(l,V,d),f.memoizedState=X5,Mv(l.child,v)):(_i(f),d=l.child,l=d.sibling,d=po(d,{mode:"visible",children:v.children}),d.return=f,d.sibling=null,l!==null&&(V=f.deletions,V===null?(f.deletions=[l],f.flags|=16):V.push(l)),f.child=d,f.memoizedState=null,d)}function K5(l,f){return f=pb({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function pb(l,f){return l=La(22,l,null,f),l.lanes=0,l}function J5(l,f,d){return Xr(f,l.child,null,d),l=K5(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function s3(l,f,d){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),Xh(l.return,f,d)}function Z5(l,f,d,v,T,N){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:T,treeForkCount:N}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=d,V.tailMode=T,V.treeForkCount=N)}function o3(l,f,d){var v=f.pendingProps,T=v.revealOrder,N=v.tail;v=v.children;var V=rr.current,he=(V&2)!==0;if(he?(V=V&1|2,f.flags|=128):V&=1,H(rr,V),es(l,f,v,d),v=Kn?L0:0,!he&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&s3(l,d,f);else if(l.tag===19)s3(l,d,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(T){case"forwards":for(d=f.child,T=null;d!==null;)l=d.alternate,l!==null&&Ma(l)===null&&(T=d),d=d.sibling;d=T,d===null?(T=f.child,f.child=null):(T=d.sibling,d.sibling=null),Z5(f,!1,T,d,N,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=f.child,f.child=null;T!==null;){if(l=T.alternate,l!==null&&Ma(l)===null){f.child=T;break}l=T.sibling,T.sibling=d,d=T,T=l}Z5(f,!0,d,null,N,v);break;case"together":Z5(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function Tf(l,f,d){if(l!==null&&(f.dependencies=l.dependencies),td|=f.lanes,(d&f.childLanes)===0)if(l!==null){if(wu(l,f,d,!1),(d&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,d=po(l,l.pendingProps),f.child=d,d.return=f;l.sibling!==null;)l=l.sibling,d=d.sibling=po(l,l.pendingProps),d.return=f;d.sibling=null}return f.child}function Q5(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Wg(l)))}function eO(l,f,d){switch(f.tag){case 3:ke(f,f.stateNode.containerInfo),bu(f,wi,l.memoizedState.cache),wf();break;case 27:case 5:Le(f);break;case 4:ke(f,f.stateNode.containerInfo);break;case 10:bu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Sr(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(_i(f),f.flags|=128,null):(d&f.child.childLanes)!==0?a3(l,f,d):(_i(f),l=Tf(l,f,d),l!==null?l.sibling:null);_i(f);break;case 19:var T=(l.flags&128)!==0;if(v=(d&f.childLanes)!==0,v||(wu(l,f,d,!1),v=(d&f.childLanes)!==0),T){if(v)return o3(l,f,d);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),H(rr,rr.current),v)break;return null;case 22:return f.lanes=0,QC(l,f,d,f.pendingProps);case 24:bu(f,wi,l.memoizedState.cache)}return Tf(l,f,d)}function l3(l,f,d){if(l!==null)if(l.memoizedProps!==f.pendingProps)ia=!0;else{if(!Q5(l,d)&&(f.flags&128)===0)return ia=!1,eO(l,f,d);ia=(l.flags&131072)!==0}else ia=!1,Kn&&(f.flags&1048576)!==0&&tb(f,L0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=We(f.elementType),f.type=l,typeof l=="function")Hg(l)?(v=P0(l,v),f.tag=1,f=r3(null,f,l,v,d)):(f.tag=0,f=W5(null,f,l,v,d));else{if(l!=null){var T=l.$$typeof;if(T===D){f.tag=11,f=KC(null,f,l,v,d);break e}else if(T===P){f.tag=14,f=JC(null,f,l,v,d);break e}}throw f=fe(l)||l,Error(r(306,f,""))}}return f;case 0:return W5(l,f,f.type,f.pendingProps,d);case 1:return v=f.type,T=P0(v,f.pendingProps),r3(l,f,v,T,d);case 3:e:{if(ke(f,f.stateNode.containerInfo),l===null)throw Error(r(387));v=f.pendingProps;var N=f.memoizedState;T=N.element,ei(l,f),Ri(f,v,null,d);var V=f.memoizedState;if(v=V.cache,bu(f,wi,v),v!==N.cache&&_f(f,[wi],d,!0),Ur(),v=V.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=i3(l,f,v,d);break e}else if(v!==T){T=go(Error(r(424)),f),Wh(T),f=i3(l,f,v,d);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Wr=Pl(l.firstChild),va=f,Kn=!0,Za=null,ui=!0,d=Rn(f,null,v,d),f.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(wf(),v===T){f=Tf(l,f,d);break e}es(l,f,v,d)}f=f.child}return f;case 26:return db(l,f),l===null?(d=yk(f.type,null,f.pendingProps,null))?f.memoizedState=d:Kn||(d=f.type,l=f.pendingProps,v=Rb(se.current).createElement(d),v[ve]=f,v[be]=l,ts(v,d,l),jt(v),f.stateNode=v):f.memoizedState=yk(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Le(f),l===null&&Kn&&(v=f.stateNode=mk(f.type,f.pendingProps,se.current),va=f,ui=!0,T=Wr,sd(f.type)?(IS=T,Wr=Pl(v.firstChild)):Wr=T),es(l,f,f.pendingProps.children,d),db(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Kn&&((T=v=Wr)&&(v=RO(v,f.type,f.pendingProps,ui),v!==null?(f.stateNode=v,va=f,Wr=Pl(v.firstChild),ui=!1,T=!0):T=!1),T||xu(f)),Le(f),T=f.type,N=f.pendingProps,V=l!==null?l.memoizedProps:null,v=N.children,CS(T,N)?v=null:V!==null&&CS(T,V)&&(f.flags|=32),f.memoizedState!==null&&(T=Av(l,f,D5,null,null,d),Yv._currentValue=T),db(l,f),es(l,f,v,d),f.child;case 6:return l===null&&Kn&&((l=d=Wr)&&(d=LO(d,f.pendingProps,ui),d!==null?(f.stateNode=d,va=f,Wr=null,l=!0):l=!1),l||xu(f)),null;case 13:return a3(l,f,d);case 4:return ke(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=Xr(f,null,v,d):es(l,f,v,d),f.child;case 11:return KC(l,f,f.type,f.pendingProps,d);case 7:return es(l,f,f.pendingProps,d),f.child;case 8:return es(l,f,f.pendingProps.children,d),f.child;case 12:return es(l,f,f.pendingProps.children,d),f.child;case 10:return v=f.pendingProps,bu(f,f.type,v.value),es(l,f,v.children,d),f.child;case 9:return T=f.type._context,v=f.pendingProps.children,_u(f),T=ya(T),v=v(T),f.flags|=1,es(l,f,v,d),f.child;case 14:return JC(l,f,f.type,f.pendingProps,d);case 15:return ZC(l,f,f.type,f.pendingProps,d);case 19:return o3(l,f,d);case 31:return Q7(l,f,d);case 22:return QC(l,f,d,f.pendingProps);case 24:return _u(f),v=ya(wi),l===null?(T=pe(),T===null&&(T=Yr,N=Yh(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=d),T=N),f.memoizedState={parent:v,cache:T},Lt(f),bu(f,wi,T)):((l.lanes&d)!==0&&(ei(l,f),Ri(f,null,null,d),Ur()),T=l.memoizedState,N=f.memoizedState,T.parent!==v?(T={parent:v,cache:v},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),bu(f,wi,v)):(v=N.cache,bu(f,wi,v),v!==T.cache&&_f(f,[wi],d,!0))),es(l,f,f.pendingProps.children,d),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Cf(l){l.flags|=4}function eS(l,f,d,v,T){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(T&335544128)===T)if(l.stateNode.complete)l.flags|=8192;else if(F3())l.flags|=8192;else throw rt=Oe,$e}else l.flags&=-16777217}function c3(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Ak(f))if(F3())l.flags|=8192;else throw rt=Oe,$e}function gb(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?oo():536870912,l.lanes|=f,om|=f)}function Dv(l,f){if(!Kn)switch(l.tailMode){case"hidden":f=l.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function ri(l){var f=l.alternate!==null&&l.alternate.child===l.child,d=0,v=0;if(f)for(var T=l.child;T!==null;)d|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)d|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=v,l.childLanes=d,f}function tO(l,f,d){var v=f.pendingProps;switch(qg(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(f),null;case 1:return ri(f),null;case 3:return d=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),bo(wi),Ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(xa(f)?Cf(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,_v())),ri(f),null;case 26:var T=f.type,N=f.memoizedState;return l===null?(Cf(f),N!==null?(ri(f),c3(f,N)):(ri(f),eS(f,T,null,v,d))):N?N!==l.memoizedState?(Cf(f),ri(f),c3(f,N)):(ri(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&Cf(f),ri(f),eS(f,T,l,v,d)),null;case 27:if(Re(f),d=se.current,T=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Cf(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ri(f),null}l=G.current,xa(f)?wv(f):(l=mk(T,v,d),f.stateNode=l,Cf(f))}return ri(f),null;case 5:if(Re(f),T=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Cf(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ri(f),null}if(N=G.current,xa(f))wv(f);else{var V=Rb(se.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?V.createElement(T,{is:v.is}):V.createElement(T)}}N[ve]=f,N[be]=v;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=N;e:switch(ts(N,T,v),T){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Cf(f)}}return ri(f),eS(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,d),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&Cf(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(r(166));if(l=se.current,xa(f)){if(l=f.stateNode,d=f.memoizedProps,v=null,T=va,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}l[ve]=f,l=!!(l.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||ak(l.nodeValue,d)),l||xu(f,!0)}else l=Rb(l).createTextNode(v),l[ve]=f,f.stateNode=l}return ri(f),null;case 31:if(d=f.memoizedState,l===null||l.memoizedState!==null){if(v=xa(f),d!==null){if(l===null){if(!v)throw Error(r(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ve]=f}else wf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ri(f),l=!1}else d=_v(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return f.flags&256?(Cr(f),f):(Cr(f),null);if((f.flags&128)!==0)throw Error(r(558))}return ri(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=xa(f),v!==null&&v.dehydrated!==null){if(l===null){if(!T)throw Error(r(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[ve]=f}else wf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ri(f),T=!1}else T=_v(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Cr(f),f):(Cr(f),null)}return Cr(f),(f.flags&128)!==0?(f.lanes=d,f):(d=v!==null,l=l!==null&&l.memoizedState!==null,d&&(v=f.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==T&&(v.flags|=2048)),d!==l&&d&&(f.child.flags|=8192),gb(f,f.updateQueue),ri(f),null);case 4:return Ce(),l===null&&_S(f.stateNode.containerInfo),ri(f),null;case 10:return bo(f.type),ri(f),null;case 19:if(M(rr),v=f.memoizedState,v===null)return ri(f),null;if(T=(f.flags&128)!==0,N=v.rendering,N===null)if(T)Dv(v,!1);else{if(Fi!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(N=Ma(l),N!==null){for(f.flags|=128,Dv(v,!1),l=N.updateQueue,f.updateQueue=l,gb(f,l),f.subtreeFlags=0,l=d,d=f.child;d!==null;)N0(d,l),d=d.sibling;return H(rr,rr.current&1|2),Kn&&Vs(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&wt()>bb&&(f.flags|=128,T=!0,Dv(v,!1),f.lanes=4194304)}else{if(!T)if(l=Ma(N),l!==null){if(f.flags|=128,T=!0,l=l.updateQueue,f.updateQueue=l,gb(f,l),Dv(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Kn)return ri(f),null}else 2*wt()-v.renderingStartTime>bb&&d!==536870912&&(f.flags|=128,T=!0,Dv(v,!1),f.lanes=4194304);v.isBackwards?(N.sibling=f.child,f.child=N):(l=v.last,l!==null?l.sibling=N:f.child=N,v.last=N)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=wt(),l.sibling=null,d=rr.current,H(rr,T?d&1|2:d&1),Kn&&Vs(f,v.treeForkCount),l):(ri(f),null);case 22:case 23:return Cr(f),qi(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(d&536870912)!==0&&(f.flags&128)===0&&(ri(f),f.subtreeFlags&6&&(f.flags|=8192)):ri(f),d=f.updateQueue,d!==null&&gb(f,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==d&&(f.flags|=2048),l!==null&&M(oe),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),f.memoizedState.cache!==d&&(f.flags|=2048),bo(wi),ri(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function nO(l,f){switch(qg(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return bo(wi),Ce(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return Re(f),null;case 31:if(f.memoizedState!==null){if(Cr(f),f.alternate===null)throw Error(r(340));wf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Cr(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));wf()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return M(rr),null;case 4:return Ce(),null;case 10:return bo(f.type),null;case 22:case 23:return Cr(f),qi(),l!==null&&M(oe),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return bo(wi),null;case 25:return null;default:return null}}function u3(l,f){switch(qg(f),f.tag){case 3:bo(wi),Ce();break;case 26:case 27:case 5:Re(f);break;case 4:Ce();break;case 31:f.memoizedState!==null&&Cr(f);break;case 13:Cr(f);break;case 19:M(rr);break;case 10:bo(f.type);break;case 22:case 23:Cr(f),qi(),l!==null&&M(oe);break;case 24:bo(wi)}}function Fv(l,f){try{var d=f.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var T=v.next;d=T;do{if((d.tag&l)===l){v=void 0;var N=d.create,V=d.inst;v=N(),V.destroy=v}d=d.next}while(d!==T)}}catch(he){Nr(f,f.return,he)}}function Qh(l,f,d){try{var v=f.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var N=T.next;v=N;do{if((v.tag&l)===l){var V=v.inst,he=V.destroy;if(he!==void 0){V.destroy=void 0,T=f;var Ie=d,Ze=he;try{Ze()}catch(st){Nr(T,Ie,st)}}}v=v.next}while(v!==N)}}catch(st){Nr(f,f.return,st)}}function f3(l){var f=l.updateQueue;if(f!==null){var d=l.stateNode;try{Li(f,d)}catch(v){Nr(l,l.return,v)}}}function h3(l,f,d){d.props=P0(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(v){Nr(l,f,v)}}function Pv(l,f){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof d=="function"?l.refCleanup=d(v):d.current=v}}catch(T){Nr(l,f,T)}}function Cu(l,f){var d=l.ref,v=l.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(T){Nr(l,f,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){Nr(l,f,T)}else d.current=null}function d3(l){var f=l.type,d=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(T){Nr(l,l.return,T)}}function tS(l,f,d){try{var v=l.stateNode;AO(v,l.type,d,f),v[be]=f}catch(T){Nr(l,l.return,T)}}function p3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&sd(l.type)||l.tag===4}function nS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||p3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&sd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function rS(l,f,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,f):(f=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,f.appendChild(l),d=d._reactRootContainer,d!=null||f.onclick!==null||(f.onclick=Go));else if(v!==4&&(v===27&&sd(l.type)&&(d=l.stateNode,f=null),l=l.child,l!==null))for(rS(l,f,d),l=l.sibling;l!==null;)rS(l,f,d),l=l.sibling}function mb(l,f,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?d.insertBefore(l,f):d.appendChild(l);else if(v!==4&&(v===27&&sd(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(mb(l,f,d),l=l.sibling;l!==null;)mb(l,f,d),l=l.sibling}function g3(l){var f=l.stateNode,d=l.memoizedProps;try{for(var v=l.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);ts(f,v,d),f[ve]=l,f[be]=d}catch(N){Nr(l,l.return,N)}}var kf=!1,aa=!1,iS=!1,m3=typeof WeakSet=="function"?WeakSet:Set,Da=null;function rO(l,f){if(l=l.containerInfo,ES=Ob,l=Sc(l),Ll(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var T=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,he=-1,Ie=-1,Ze=0,st=0,pt=l,Qe=null;t:for(;;){for(var tt;pt!==d||T!==0&&pt.nodeType!==3||(he=V+T),pt!==N||v!==0&&pt.nodeType!==3||(Ie=V+v),pt.nodeType===3&&(V+=pt.nodeValue.length),(tt=pt.firstChild)!==null;)Qe=pt,pt=tt;for(;;){if(pt===l)break t;if(Qe===d&&++Ze===T&&(he=V),Qe===N&&++st===v&&(Ie=V),(tt=pt.nextSibling)!==null)break;pt=Qe,Qe=pt.parentNode}pt=tt}d=he===-1||Ie===-1?null:{start:he,end:Ie}}else d=null}d=d||{start:0,end:0}}else d=null;for(TS={focusedElem:l,selectionRange:d},Ob=!1,Da=f;Da!==null;)if(f=Da,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Da=l;else for(;Da!==null;){switch(f=Da,N=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)T=l[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,d=f,T=N.memoizedProps,N=N.memoizedState,v=d.stateNode;try{var Yt=P0(d.type,T);l=v.getSnapshotBeforeUpdate(Yt,N),v.__reactInternalSnapshotBeforeUpdate=l}catch(xn){Nr(d,d.return,xn)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,d=l.nodeType,d===9)NS(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":NS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,Da=l;break}Da=f.return}}function v3(l,f,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Rf(l,d),v&4&&Fv(5,d);break;case 1:if(Rf(l,d),v&4)if(l=d.stateNode,f===null)try{l.componentDidMount()}catch(V){Nr(d,d.return,V)}else{var T=P0(d.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(T,f,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Nr(d,d.return,V)}}v&64&&f3(d),v&512&&Pv(d,d.return);break;case 3:if(Rf(l,d),v&64&&(l=d.updateQueue,l!==null)){if(f=null,d.child!==null)switch(d.child.tag){case 27:case 5:f=d.child.stateNode;break;case 1:f=d.child.stateNode}try{Li(l,f)}catch(V){Nr(d,d.return,V)}}break;case 27:f===null&&v&4&&g3(d);case 26:case 5:Rf(l,d),f===null&&v&4&&d3(d),v&512&&Pv(d,d.return);break;case 12:Rf(l,d);break;case 31:Rf(l,d),v&4&&b3(l,d);break;case 13:Rf(l,d),v&4&&w3(l,d),v&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=hO.bind(null,d),IO(l,d))));break;case 22:if(v=d.memoizedState!==null||kf,!v){f=f!==null&&f.memoizedState!==null||aa,T=kf;var N=aa;kf=v,(aa=f)&&!N?Lf(l,d,(d.subtreeFlags&8772)!==0):Rf(l,d),kf=T,aa=N}break;case 30:break;default:Rf(l,d)}}function x3(l){var f=l.alternate;f!==null&&(l.alternate=null,x3(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&bt(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var di=null,_o=!1;function Nf(l,f,d){for(d=d.child;d!==null;)y3(l,f,d),d=d.sibling}function y3(l,f,d){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Dt,d)}catch{}switch(d.tag){case 26:aa||Cu(d,f),Nf(l,f,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:aa||Cu(d,f);var v=di,T=_o;sd(d.type)&&(di=d.stateNode,_o=!1),Nf(l,f,d),Vv(d.stateNode),di=v,_o=T;break;case 5:aa||Cu(d,f);case 6:if(v=di,T=_o,di=null,Nf(l,f,d),di=v,_o=T,di!==null)if(_o)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(d.stateNode)}catch(N){Nr(d,f,N)}else try{di.removeChild(d.stateNode)}catch(N){Nr(d,f,N)}break;case 18:di!==null&&(_o?(l=di,fk(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),gm(l)):fk(di,d.stateNode));break;case 4:v=di,T=_o,di=d.stateNode.containerInfo,_o=!0,Nf(l,f,d),di=v,_o=T;break;case 0:case 11:case 14:case 15:Qh(2,d,f),aa||Qh(4,d,f),Nf(l,f,d);break;case 1:aa||(Cu(d,f),v=d.stateNode,typeof v.componentWillUnmount=="function"&&h3(d,f,v)),Nf(l,f,d);break;case 21:Nf(l,f,d);break;case 22:aa=(v=aa)||d.memoizedState!==null,Nf(l,f,d),aa=v;break;default:Nf(l,f,d)}}function b3(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{gm(l)}catch(d){Nr(f,f.return,d)}}}function w3(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{gm(l)}catch(d){Nr(f,f.return,d)}}function iO(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new m3),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new m3),f;default:throw Error(r(435,l.tag))}}function vb(l,f){var d=iO(l);f.forEach(function(v){if(!d.has(v)){d.add(v);var T=dO.bind(null,l,v);v.then(T,T)}})}function So(l,f){var d=f.deletions;if(d!==null)for(var v=0;v<d.length;v++){var T=d[v],N=l,V=f,he=V;e:for(;he!==null;){switch(he.tag){case 27:if(sd(he.type)){di=he.stateNode,_o=!1;break e}break;case 5:di=he.stateNode,_o=!1;break e;case 3:case 4:di=he.stateNode.containerInfo,_o=!0;break e}he=he.return}if(di===null)throw Error(r(160));y3(N,V,T),di=null,_o=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)_3(f,l),f=f.sibling}var Lc=null;function _3(l,f){var d=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:So(f,l),Ao(l),v&4&&(Qh(3,l,l.return),Fv(3,l),Qh(5,l,l.return));break;case 1:So(f,l),Ao(l),v&512&&(aa||d===null||Cu(d,d.return)),v&64&&kf&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var T=Lc;if(So(f,l),Ao(l),v&512&&(aa||d===null||Cu(d,d.return)),v&4){var N=d!==null?d.memoizedState:null;if(v=l.memoizedState,d===null)if(v===null)if(l.stateNode===null){e:{v=l.type,d=l.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":N=T.getElementsByTagName("title")[0],(!N||N[Ke]||N[ve]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(v),T.head.insertBefore(N,T.querySelector("head > title"))),ts(N,v,d),N[ve]=l,jt(N),v=N;break e;case"link":var V=_k("link","href",T).get(v+(d.href||""));if(V){for(var he=0;he<V.length;he++)if(N=V[he],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(he,1);break t}}N=T.createElement(v),ts(N,v,d),T.head.appendChild(N);break;case"meta":if(V=_k("meta","content",T).get(v+(d.content||""))){for(he=0;he<V.length;he++)if(N=V[he],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(he,1);break t}}N=T.createElement(v),ts(N,v,d),T.head.appendChild(N);break;default:throw Error(r(468,v))}N[ve]=l,jt(N),v=N}l.stateNode=v}else Sk(T,l.type,l.stateNode);else l.stateNode=wk(T,v,l.memoizedProps);else N!==v?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,v===null?Sk(T,l.type,l.stateNode):wk(T,v,l.memoizedProps)):v===null&&l.stateNode!==null&&tS(l,l.memoizedProps,d.memoizedProps)}break;case 27:So(f,l),Ao(l),v&512&&(aa||d===null||Cu(d,d.return)),d!==null&&v&4&&tS(l,l.memoizedProps,d.memoizedProps);break;case 5:if(So(f,l),Ao(l),v&512&&(aa||d===null||Cu(d,d.return)),l.flags&32){T=l.stateNode;try{jo(T,"")}catch(Yt){Nr(l,l.return,Yt)}}v&4&&l.stateNode!=null&&(T=l.memoizedProps,tS(l,T,d!==null?d.memoizedProps:T)),v&1024&&(iS=!0);break;case 6:if(So(f,l),Ao(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,d=l.stateNode;try{d.nodeValue=v}catch(Yt){Nr(l,l.return,Yt)}}break;case 3:if(Mb=null,T=Lc,Lc=Lb(f.containerInfo),So(f,l),Lc=T,Ao(l),v&4&&d!==null&&d.memoizedState.isDehydrated)try{gm(f.containerInfo)}catch(Yt){Nr(l,l.return,Yt)}iS&&(iS=!1,S3(l));break;case 4:v=Lc,Lc=Lb(l.stateNode.containerInfo),So(f,l),Ao(l),Lc=v;break;case 12:So(f,l),Ao(l);break;case 31:So(f,l),Ao(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,vb(l,v)));break;case 13:So(f,l),Ao(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(yb=wt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,vb(l,v)));break;case 22:T=l.memoizedState!==null;var Ie=d!==null&&d.memoizedState!==null,Ze=kf,st=aa;if(kf=Ze||T,aa=st||Ie,So(f,l),aa=st,kf=Ze,Ao(l),v&8192)e:for(f=l.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(d===null||Ie||kf||aa||O0(l)),d=null,f=l;;){if(f.tag===5||f.tag===26){if(d===null){Ie=d=f;try{if(N=Ie.stateNode,T)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{he=Ie.stateNode;var pt=Ie.memoizedProps.style,Qe=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;he.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(Yt){Nr(Ie,Ie.return,Yt)}}}else if(f.tag===6){if(d===null){Ie=f;try{Ie.stateNode.nodeValue=T?"":Ie.memoizedProps}catch(Yt){Nr(Ie,Ie.return,Yt)}}}else if(f.tag===18){if(d===null){Ie=f;try{var tt=Ie.stateNode;T?hk(tt,!0):hk(Ie.stateNode,!1)}catch(Yt){Nr(Ie,Ie.return,Yt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,vb(l,d))));break;case 19:So(f,l),Ao(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,vb(l,v)));break;case 30:break;case 21:break;default:So(f,l),Ao(l)}}function Ao(l){var f=l.flags;if(f&2){try{for(var d,v=l.return;v!==null;){if(p3(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,N=nS(l);mb(l,N,T);break;case 5:var V=d.stateNode;d.flags&32&&(jo(V,""),d.flags&=-33);var he=nS(l);mb(l,he,V);break;case 3:case 4:var Ie=d.stateNode.containerInfo,Ze=nS(l);rS(l,Ze,Ie);break;default:throw Error(r(161))}}catch(st){Nr(l,l.return,st)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function S3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;S3(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Rf(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)v3(l,f.alternate,f),f=f.sibling}function O0(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:Qh(4,f,f.return),O0(f);break;case 1:Cu(f,f.return);var d=f.stateNode;typeof d.componentWillUnmount=="function"&&h3(f,f.return,d),O0(f);break;case 27:Vv(f.stateNode);case 26:case 5:Cu(f,f.return),O0(f);break;case 22:f.memoizedState===null&&O0(f);break;case 30:O0(f);break;default:O0(f)}l=l.sibling}}function Lf(l,f,d){for(d=d&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,T=l,N=f,V=N.flags;switch(N.tag){case 0:case 11:case 15:Lf(T,N,d),Fv(4,N);break;case 1:if(Lf(T,N,d),v=N,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ze){Nr(v,v.return,Ze)}if(v=N,T=v.updateQueue,T!==null){var he=v.stateNode;try{var Ie=T.shared.hiddenCallbacks;if(Ie!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Ie.length;T++)Ia(Ie[T],he)}catch(Ze){Nr(v,v.return,Ze)}}d&&V&64&&f3(N),Pv(N,N.return);break;case 27:g3(N);case 26:case 5:Lf(T,N,d),d&&v===null&&V&4&&d3(N),Pv(N,N.return);break;case 12:Lf(T,N,d);break;case 31:Lf(T,N,d),d&&V&4&&b3(T,N);break;case 13:Lf(T,N,d),d&&V&4&&w3(T,N);break;case 22:N.memoizedState===null&&Lf(T,N,d),Pv(N,N.return);break;case 30:break;default:Lf(T,N,d)}f=f.sibling}}function aS(l,f){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&I0(d))}function sS(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&I0(l))}function Ic(l,f,d,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)A3(l,f,d,v),f=f.sibling}function A3(l,f,d,v){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Ic(l,f,d,v),T&2048&&Fv(9,f);break;case 1:Ic(l,f,d,v);break;case 3:Ic(l,f,d,v),T&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&I0(l)));break;case 12:if(T&2048){Ic(l,f,d,v),l=f.stateNode;try{var N=f.memoizedProps,V=N.id,he=N.onPostCommit;typeof he=="function"&&he(V,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ie){Nr(f,f.return,Ie)}}else Ic(l,f,d,v);break;case 31:Ic(l,f,d,v);break;case 13:Ic(l,f,d,v);break;case 23:break;case 22:N=f.stateNode,V=f.alternate,f.memoizedState!==null?N._visibility&2?Ic(l,f,d,v):Ov(l,f):N._visibility&2?Ic(l,f,d,v):(N._visibility|=2,im(l,f,d,v,(f.subtreeFlags&10256)!==0||!1)),T&2048&&aS(V,f);break;case 24:Ic(l,f,d,v),T&2048&&sS(f.alternate,f);break;default:Ic(l,f,d,v)}}function im(l,f,d,v,T){for(T=T&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var N=l,V=f,he=d,Ie=v,Ze=V.flags;switch(V.tag){case 0:case 11:case 15:im(N,V,he,Ie,T),Fv(8,V);break;case 23:break;case 22:var st=V.stateNode;V.memoizedState!==null?st._visibility&2?im(N,V,he,Ie,T):Ov(N,V):(st._visibility|=2,im(N,V,he,Ie,T)),T&&Ze&2048&&aS(V.alternate,V);break;case 24:im(N,V,he,Ie,T),T&&Ze&2048&&sS(V.alternate,V);break;default:im(N,V,he,Ie,T)}f=f.sibling}}function Ov(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var d=l,v=f,T=v.flags;switch(v.tag){case 22:Ov(d,v),T&2048&&aS(v.alternate,v);break;case 24:Ov(d,v),T&2048&&sS(v.alternate,v);break;default:Ov(d,v)}f=f.sibling}}var Bv=8192;function am(l,f,d){if(l.subtreeFlags&Bv)for(l=l.child;l!==null;)E3(l,f,d),l=l.sibling}function E3(l,f,d){switch(l.tag){case 26:am(l,f,d),l.flags&Bv&&l.memoizedState!==null&&qO(d,Lc,l.memoizedState,l.memoizedProps);break;case 5:am(l,f,d);break;case 3:case 4:var v=Lc;Lc=Lb(l.stateNode.containerInfo),am(l,f,d),Lc=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=Bv,Bv=16777216,am(l,f,d),Bv=v):am(l,f,d));break;default:am(l,f,d)}}function T3(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function Uv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var v=f[d];Da=v,k3(v,l)}T3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)C3(l),l=l.sibling}function C3(l){switch(l.tag){case 0:case 11:case 15:Uv(l),l.flags&2048&&Qh(9,l,l.return);break;case 3:Uv(l);break;case 12:Uv(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,xb(l)):Uv(l);break;default:Uv(l)}}function xb(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var v=f[d];Da=v,k3(v,l)}T3(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:Qh(8,f,f.return),xb(f);break;case 22:d=f.stateNode,d._visibility&2&&(d._visibility&=-3,xb(f));break;default:xb(f)}l=l.sibling}}function k3(l,f){for(;Da!==null;){var d=Da;switch(d.tag){case 0:case 11:case 15:Qh(8,d,f);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:I0(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Da=v;else e:for(d=l;Da!==null;){v=Da;var T=v.sibling,N=v.return;if(x3(v),v===d){Da=null;break e}if(T!==null){T.return=N,Da=T;break e}Da=N}}}var aO={getCacheForType:function(l){var f=ya(wi),d=f.data.get(l);return d===void 0&&(d=l(),f.data.set(l,d)),d},cacheSignal:function(){return ya(wi).controller.signal}},sO=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Yr=null,Jn=null,Qn=0,kr=0,Ko=null,ed=!1,sm=!1,oS=!1,If=0,Fi=0,td=0,B0=0,lS=0,Jo=0,om=0,Hv=null,Eo=null,cS=!1,yb=0,N3=0,bb=1/0,wb=null,nd=null,wa=0,rd=null,lm=null,Mf=0,uS=0,fS=null,R3=null,zv=0,hS=null;function Zo(){return(Ar&2)!==0&&Qn!==0?Qn&-Qn:K.T!==null?xS():te()}function L3(){if(Jo===0)if((Qn&536870912)===0||Kn){var l=br;br<<=1,(br&3932160)===0&&(br=262144),Jo=l}else Jo=536870912;return l=ni.current,l!==null&&(l.flags|=32),Jo}function To(l,f,d){(l===Yr&&(kr===2||kr===9)||l.cancelPendingCommit!==null)&&(cm(l,0),id(l,Qn,Jo,!1)),an(l,d),((Ar&2)===0||l!==Yr)&&(l===Yr&&((Ar&2)===0&&(B0|=d),Fi===4&&id(l,Qn,Jo,!1)),ku(l))}function I3(l,f,d){if((Ar&6)!==0)throw Error(r(327));var v=!d&&(f&127)===0&&(f&l.expiredLanes)===0||Bs(l,f),T=v?cO(l,f):pS(l,f,!0),N=v;do{if(T===0){sm&&!v&&id(l,f,0,!1);break}else{if(d=l.current.alternate,N&&!oO(d)){T=pS(l,f,!1),N=!1;continue}if(T===2){if(N=f,l.errorRecoveryDisabledLanes&N)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var he=l;T=Hv;var Ie=he.current.memoizedState.isDehydrated;if(Ie&&(cm(he,V).flags|=256),V=pS(he,V,!1),V!==2){if(oS&&!Ie){he.errorRecoveryDisabledLanes|=N,B0|=N,T=4;break e}N=Eo,Eo=T,N!==null&&(Eo===null?Eo=N:Eo.push.apply(Eo,N))}T=V}if(N=!1,T!==2)continue}}if(T===1){cm(l,0),id(l,f,0,!0);break}e:{switch(v=l,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:id(v,f,Jo,!ed);break e;case 2:Eo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(T=yb+300-wt(),10<T)){if(id(v,f,Jo,!ed),$n(v,0,!0)!==0)break e;Mf=f,v.timeoutHandle=ck(M3.bind(null,v,d,Eo,wb,cS,f,Jo,B0,om,ed,N,"Throttled",-0,0),T);break e}M3(v,d,Eo,wb,cS,f,Jo,B0,om,ed,N,null,-0,0)}}break}while(!0);ku(l)}function M3(l,f,d,v,T,N,V,he,Ie,Ze,st,pt,Qe,tt){if(l.timeoutHandle=-1,pt=f.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Go},E3(f,N,pt);var Yt=(N&62914560)===N?yb-wt():(N&4194048)===N?N3-wt():0;if(Yt=VO(pt,Yt),Yt!==null){Mf=N,l.cancelPendingCommit=Yt(z3.bind(null,l,f,N,d,v,T,V,he,Ie,st,pt,null,Qe,tt)),id(l,N,V,!Ze);return}}z3(l,f,N,d,v,T,V,he,Ie)}function oO(l){for(var f=l;;){var d=f.tag;if((d===0||d===11||d===15)&&f.flags&16384&&(d=f.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var T=d[v],N=T.getSnapshot;T=T.value;try{if(!ga(N(),T))return!1}catch{return!1}}if(d=f.child,f.subtreeFlags&16384&&d!==null)d.return=f,f=d;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function id(l,f,d,v){f&=~lS,f&=~B0,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var T=f;0<T;){var N=31-Hn(T),V=1<<N;v[N]=-1,T&=~V}d!==0&&lo(l,d,f)}function _b(){return(Ar&6)===0?(jv(0),!1):!0}function dS(){if(Jn!==null){if(kr===0)var l=Jn.return;else l=Jn,Ml=yu=null,Jg(l),mt=null,Kt=0,l=Jn;for(;l!==null;)u3(l.alternate,l),l=l.return;Jn=null}}function cm(l,f){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,CO(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),Mf=0,dS(),Yr=l,Jn=d=po(l.current,null),Qn=f,kr=0,Ko=null,ed=!1,sm=Bs(l,f),oS=!1,om=Jo=lS=B0=td=Fi=0,Eo=Hv=null,cS=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var T=31-Hn(v),N=1<<T;f|=l[T],v&=~N}return If=f,T0(),d}function D3(l,f){cn=null,K.H=Iv,f===De||f===we?(f=ct(),kr=3):f===$e?(f=ct(),kr=4):kr=f===V5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ko=f,Jn===null&&(Fi=1,fb(l,go(f,l.current)))}function F3(){var l=ni.current;return l===null?!0:(Qn&4194048)===Qn?sr===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?l===sr:!1}function P3(){var l=K.H;return K.H=Iv,l===null?Iv:l}function O3(){var l=K.A;return K.A=aO,l}function Sb(){Fi=4,ed||(Qn&4194048)!==Qn&&ni.current!==null||(sm=!0),(td&134217727)===0&&(B0&134217727)===0||Yr===null||id(Yr,Qn,Jo,!1)}function pS(l,f,d){var v=Ar;Ar|=2;var T=P3(),N=O3();(Yr!==l||Qn!==f)&&(wb=null,cm(l,f)),f=!1;var V=Fi;e:do try{if(kr!==0&&Jn!==null){var he=Jn,Ie=Ko;switch(kr){case 8:dS(),V=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(f=!0);var Ze=kr;if(kr=0,Ko=null,um(l,he,Ie,Ze),d&&sm){V=0;break e}break;default:Ze=kr,kr=0,Ko=null,um(l,he,Ie,Ze)}}lO(),V=Fi;break}catch(st){D3(l,st)}while(!0);return f&&l.shellSuspendCounter++,Ml=yu=null,Ar=v,K.H=T,K.A=N,Jn===null&&(Yr=null,Qn=0,T0()),V}function lO(){for(;Jn!==null;)B3(Jn)}function cO(l,f){var d=Ar;Ar|=2;var v=P3(),T=O3();Yr!==l||Qn!==f?(wb=null,bb=wt()+500,cm(l,f)):sm=Bs(l,f);e:do try{if(kr!==0&&Jn!==null){f=Jn;var N=Ko;t:switch(kr){case 1:kr=0,Ko=null,um(l,f,N,1);break;case 2:case 9:if(qe(N)){kr=0,Ko=null,U3(f);break}f=function(){kr!==2&&kr!==9||Yr!==l||(kr=7),ku(l)},N.then(f,f);break e;case 3:kr=7;break e;case 4:kr=5;break e;case 7:qe(N)?(kr=0,Ko=null,U3(f)):(kr=0,Ko=null,um(l,f,N,7));break;case 5:var V=null;switch(Jn.tag){case 26:V=Jn.memoizedState;case 5:case 27:var he=Jn;if(V?Ak(V):he.stateNode.complete){kr=0,Ko=null;var Ie=he.sibling;if(Ie!==null)Jn=Ie;else{var Ze=he.return;Ze!==null?(Jn=Ze,Ab(Ze)):Jn=null}break t}}kr=0,Ko=null,um(l,f,N,5);break;case 6:kr=0,Ko=null,um(l,f,N,6);break;case 8:dS(),Fi=6;break e;default:throw Error(r(462))}}uO();break}catch(st){D3(l,st)}while(!0);return Ml=yu=null,K.H=v,K.A=T,Ar=d,Jn!==null?0:(Yr=null,Qn=0,T0(),Fi)}function uO(){for(;Jn!==null&&!St();)B3(Jn)}function B3(l){var f=l3(l.alternate,l,If);l.memoizedProps=l.pendingProps,f===null?Ab(l):Jn=f}function U3(l){var f=l,d=f.alternate;switch(f.tag){case 15:case 0:f=n3(d,f,f.pendingProps,f.type,void 0,Qn);break;case 11:f=n3(d,f,f.pendingProps,f.type.render,f.ref,Qn);break;case 5:Jg(f);default:u3(d,f),f=Jn=N0(f,If),f=l3(d,f,If)}l.memoizedProps=l.pendingProps,f===null?Ab(l):Jn=f}function um(l,f,d,v){Ml=yu=null,Jg(f),mt=null,Kt=0;var T=f.return;try{if(Z7(l,T,f,d,Qn)){Fi=1,fb(l,go(d,l.current)),Jn=null;return}}catch(N){if(T!==null)throw Jn=T,N;Fi=1,fb(l,go(d,l.current)),Jn=null;return}f.flags&32768?(Kn||v===1?l=!0:sm||(Qn&536870912)!==0?l=!1:(ed=l=!0,(v===2||v===9||v===3||v===6)&&(v=ni.current,v!==null&&v.tag===13&&(v.flags|=16384))),H3(f,l)):Ab(f)}function Ab(l){var f=l;do{if((f.flags&32768)!==0){H3(f,ed);return}l=f.return;var d=tO(f.alternate,f,If);if(d!==null){Jn=d;return}if(f=f.sibling,f!==null){Jn=f;return}Jn=f=l}while(f!==null);Fi===0&&(Fi=5)}function H3(l,f){do{var d=nO(l.alternate,l);if(d!==null){d.flags&=32767,Jn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!f&&(l=l.sibling,l!==null)){Jn=l;return}Jn=l=d}while(l!==null);Fi=6,Jn=null}function z3(l,f,d,v,T,N,V,he,Ie){l.cancelPendingCommit=null;do Eb();while(wa!==0);if((Ar&6)!==0)throw Error(r(327));if(f!==null){if(f===l.current)throw Error(r(177));if(N=f.lanes|f.childLanes,N|=Og,Bo(l,d,N,V,he,Ie),l===Yr&&(Jn=Yr=null,Qn=0),lm=f,rd=l,Mf=d,uS=N,fS=T,R3=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,pO(Wt,function(){return W3(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=K.T,K.T=null,T=le.p,le.p=2,V=Ar,Ar|=4;try{rO(l,f,d)}finally{Ar=V,le.p=T,K.T=v}}wa=1,j3(),G3(),q3()}}function j3(){if(wa===1){wa=0;var l=rd,f=lm,d=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var v=le.p;le.p=2;var T=Ar;Ar|=4;try{_3(f,l);var N=TS,V=Sc(l.containerInfo),he=N.focusedElem,Ie=N.selectionRange;if(V!==he&&he&&he.ownerDocument&&_c(he.ownerDocument.documentElement,he)){if(Ie!==null&&Ll(he)){var Ze=Ie.start,st=Ie.end;if(st===void 0&&(st=Ze),"selectionStart"in he)he.selectionStart=Ze,he.selectionEnd=Math.min(st,he.value.length);else{var pt=he.ownerDocument||document,Qe=pt&&pt.defaultView||window;if(Qe.getSelection){var tt=Qe.getSelection(),Yt=he.textContent.length,xn=Math.min(Ie.start,Yt),jr=Ie.end===void 0?xn:Math.min(Ie.end,Yt);!tt.extend&&xn>jr&&(V=jr,jr=xn,xn=V);var je=jh(he,xn),Fe=jh(he,jr);if(je&&Fe&&(tt.rangeCount!==1||tt.anchorNode!==je.node||tt.anchorOffset!==je.offset||tt.focusNode!==Fe.node||tt.focusOffset!==Fe.offset)){var Je=pt.createRange();Je.setStart(je.node,je.offset),tt.removeAllRanges(),xn>jr?(tt.addRange(Je),tt.extend(Fe.node,Fe.offset)):(Je.setEnd(Fe.node,Fe.offset),tt.addRange(Je))}}}}for(pt=[],tt=he;tt=tt.parentNode;)tt.nodeType===1&&pt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<pt.length;he++){var ht=pt[he];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Ob=!!ES,TS=ES=null}finally{Ar=T,le.p=v,K.T=d}}l.current=f,wa=2}}function G3(){if(wa===2){wa=0;var l=rd,f=lm,d=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var v=le.p;le.p=2;var T=Ar;Ar|=4;try{v3(l,f.alternate,f)}finally{Ar=T,le.p=v,K.T=d}}wa=3}}function q3(){if(wa===4||wa===3){wa=0,yt();var l=rd,f=lm,d=Mf,v=R3;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?wa=5:(wa=0,lm=rd=null,V3(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(nd=null),ci(d),f=f.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Dt,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=K.T,T=le.p,le.p=2,K.T=null;try{for(var N=l.onRecoverableError,V=0;V<v.length;V++){var he=v[V];N(he.value,{componentStack:he.stack})}}finally{K.T=f,le.p=T}}(Mf&3)!==0&&Eb(),ku(l),T=l.pendingLanes,(d&261930)!==0&&(T&42)!==0?l===hS?zv++:(zv=0,hS=l):zv=0,jv(0)}}function V3(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,I0(f)))}function Eb(){return j3(),G3(),q3(),W3()}function W3(){if(wa!==5)return!1;var l=rd,f=uS;uS=0;var d=ci(Mf),v=K.T,T=le.p;try{le.p=32>d?32:d,K.T=null,d=fS,fS=null;var N=rd,V=Mf;if(wa=0,lm=rd=null,Mf=0,(Ar&6)!==0)throw Error(r(331));var he=Ar;if(Ar|=4,C3(N.current),A3(N,N.current,V,d),Ar=he,jv(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Dt,N)}catch{}return!0}finally{le.p=T,K.T=v,V3(l,f)}}function X3(l,f,d){f=go(d,f),f=q5(l.stateNode,f,2),l=Mn(l,f,2),l!==null&&(an(l,2),ku(l))}function Nr(l,f,d){if(l.tag===3)X3(l,l,d);else for(;f!==null;){if(f.tag===3){X3(f,l,d);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(nd===null||!nd.has(v))){l=go(d,l),d=YC(2),v=Mn(f,d,2),v!==null&&($C(d,v,f,l),an(v,2),ku(v));break}}f=f.return}}function gS(l,f,d){var v=l.pingCache;if(v===null){v=l.pingCache=new sO;var T=new Set;v.set(f,T)}else T=v.get(f),T===void 0&&(T=new Set,v.set(f,T));T.has(d)||(oS=!0,T.add(d),l=fO.bind(null,l,f,d),f.then(l,l))}function fO(l,f,d){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,Yr===l&&(Qn&d)===d&&(Fi===4||Fi===3&&(Qn&62914560)===Qn&&300>wt()-yb?(Ar&2)===0&&cm(l,0):lS|=d,om===Qn&&(om=0)),ku(l)}function Y3(l,f){f===0&&(f=oo()),l=Ec(l,f),l!==null&&(an(l,f),ku(l))}function hO(l){var f=l.memoizedState,d=0;f!==null&&(d=f.retryLane),Y3(l,d)}function dO(l,f){var d=0;switch(l.tag){case 31:case 13:var v=l.stateNode,T=l.memoizedState;T!==null&&(d=T.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(f),Y3(l,d)}function pO(l,f){return ft(l,f)}var Tb=null,fm=null,mS=!1,Cb=!1,vS=!1,ad=0;function ku(l){l!==fm&&l.next===null&&(fm===null?Tb=fm=l:fm=fm.next=l),Cb=!0,mS||(mS=!0,mO())}function jv(l,f){if(!vS&&Cb){vS=!0;do for(var d=!1,v=Tb;v!==null;){if(l!==0){var T=v.pendingLanes;if(T===0)var N=0;else{var V=v.suspendedLanes,he=v.pingedLanes;N=(1<<31-Hn(42|l)+1)-1,N&=T&~(V&~he),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,Z3(v,N))}else N=Qn,N=$n(v,v===Yr?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||Bs(v,N)||(d=!0,Z3(v,N));v=v.next}while(d);vS=!1}}function gO(){$3()}function $3(){Cb=mS=!1;var l=0;ad!==0&&TO()&&(l=ad);for(var f=wt(),d=null,v=Tb;v!==null;){var T=v.next,N=K3(v,f);N===0?(v.next=null,d===null?Tb=T:d.next=T,T===null&&(fm=d)):(d=v,(l!==0||(N&3)!==0)&&(Cb=!0)),v=T}wa!==0&&wa!==5||jv(l),ad!==0&&(ad=0)}function K3(l,f){for(var d=l.suspendedLanes,v=l.pingedLanes,T=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var V=31-Hn(N),he=1<<V,Ie=T[V];Ie===-1?((he&d)===0||(he&v)!==0)&&(T[V]=ea(he,f)):Ie<=f&&(l.expiredLanes|=he),N&=~he}if(f=Yr,d=Qn,d=$n(l,l===f?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,d===0||l===f&&(kr===2||kr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&ot(v),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||Bs(l,d)){if(f=d&-d,f===l.callbackPriority)return f;switch(v!==null&&ot(v),ci(d)){case 2:case 8:d=on;break;case 32:d=Wt;break;case 268435456:d=Ge;break;default:d=Wt}return v=J3.bind(null,l),d=ft(d,v),l.callbackPriority=f,l.callbackNode=d,f}return v!==null&&v!==null&&ot(v),l.callbackPriority=2,l.callbackNode=null,2}function J3(l,f){if(wa!==0&&wa!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(Eb()&&l.callbackNode!==d)return null;var v=Qn;return v=$n(l,l===Yr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(I3(l,v,f),K3(l,wt()),l.callbackNode!=null&&l.callbackNode===d?J3.bind(null,l):null)}function Z3(l,f){if(Eb())return null;I3(l,f,!0)}function mO(){kO(function(){(Ar&6)!==0?ft(Bt,gO):$3()})}function xS(){if(ad===0){var l=_;l===0&&(l=vn,vn<<=1,(vn&261888)===0&&(vn=256)),ad=l}return ad}function Q3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:hs(""+l)}function ek(l,f){var d=f.ownerDocument.createElement("input");return d.name=f.name,d.value=f.value,l.id&&d.setAttribute("form",l.id),f.parentNode.insertBefore(d,f),l=new FormData(l),d.parentNode.removeChild(d),l}function vO(l,f,d,v,T){if(f==="submit"&&d&&d.stateNode===T){var N=Q3((T[be]||null).action),V=v.submitter;V&&(f=(f=V[be]||null)?Q3(f.formAction):V.getAttribute("formAction"),f!==null&&(N=f,V=null));var he=new uo("action","action",null,v,T);l.push({event:he,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ad!==0){var Ie=V?ek(T,V):new FormData(T);B5(d,{pending:!0,data:Ie,method:T.method,action:N},null,Ie)}}else typeof N=="function"&&(he.preventDefault(),Ie=V?ek(T,V):new FormData(T),B5(d,{pending:!0,data:Ie,method:T.method,action:N},N,Ie))},currentTarget:T}]})}}for(var yS=0;yS<xf.length;yS++){var bS=xf[yS],xO=bS.toLowerCase(),yO=bS[0].toUpperCase()+bS.slice(1);ho(xO,"on"+yO)}ho(vf,"onAnimationEnd"),ho(A0,"onAnimationIteration"),ho(vv,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(Zy,"onTransitionRun"),ho(Qy,"onTransitionStart"),ho(eb,"onTransitionCancel"),ho(xv,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gv));function tk(l,f){f=(f&4)!==0;for(var d=0;d<l.length;d++){var v=l[d],T=v.event;v=v.listeners;e:{var N=void 0;if(f)for(var V=v.length-1;0<=V;V--){var he=v[V],Ie=he.instance,Ze=he.currentTarget;if(he=he.listener,Ie!==N&&T.isPropagationStopped())break e;N=he,T.currentTarget=Ze;try{N(T)}catch(st){E0(st)}T.currentTarget=null,N=Ie}else for(V=0;V<v.length;V++){if(he=v[V],Ie=he.instance,Ze=he.currentTarget,he=he.listener,Ie!==N&&T.isPropagationStopped())break e;N=he,T.currentTarget=Ze;try{N(T)}catch(st){E0(st)}T.currentTarget=null,N=Ie}}}}function Zn(l,f){var d=f[Ve];d===void 0&&(d=f[Ve]=new Set);var v=l+"__bubble";d.has(v)||(nk(f,l,2,!1),d.add(v))}function wS(l,f,d){var v=0;f&&(v|=4),nk(d,l,v,f)}var kb="_reactListening"+Math.random().toString(36).slice(2);function _S(l){if(!l[kb]){l[kb]=!0,wr.forEach(function(d){d!=="selectionchange"&&(bO.has(d)||wS(d,!1,l),wS(d,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[kb]||(f[kb]=!0,wS("selectionchange",!1,f))}}function nk(l,f,d,v){switch(Lk(f)){case 2:var T=YO;break;case 8:T=$O;break;default:T=OS}d=T.bind(null,f,d,l),T=void 0,!y0||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),v?T!==void 0?l.addEventListener(f,d,{capture:!0,passive:T}):l.addEventListener(f,d,!0):T!==void 0?l.addEventListener(f,d,{passive:T}):l.addEventListener(f,d,!1)}function SS(l,f,d,v,T){var N=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var he=v.stateNode.containerInfo;if(he===T)break;if(V===4)for(V=v.return;V!==null;){var Ie=V.tag;if((Ie===3||Ie===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;he!==null;){if(V=Et(he),V===null)return;if(Ie=V.tag,Ie===5||Ie===6||Ie===26||Ie===27){v=N=V;continue e}he=he.parentNode}}v=v.return}Ig(function(){var Ze=N,st=uf(d),pt=[];e:{var Qe=yv.get(l);if(Qe!==void 0){var tt=uo,Yt=l;switch(l){case"keypress":if(co(d)===0)break e;case"keydown":case"keyup":tt=tr;break;case"focusin":Yt="focus",tt=pc;break;case"focusout":Yt="blur",tt=pc;break;case"beforeblur":case"afterblur":tt=pc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=ji;break;case vf:case A0:case vv:tt=I;break;case xv:tt=pa;break;case"scroll":case"scrollend":tt=Fh;break;case"wheel":tt=qo;break;case"copy":case"cut":case"paste":tt=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=xi;break;case"toggle":case"beforetoggle":tt=w0}var xn=(f&4)!==0,jr=!xn&&(l==="scroll"||l==="scrollend"),je=xn?Qe!==null?Qe+"Capture":null:Qe;xn=[];for(var Fe=Ze,Je;Fe!==null;){var ht=Fe;if(Je=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||Je===null||je===null||(ht=Hs(Fe,je),ht!=null&&xn.push(qv(Fe,ht,Je))),jr)break;Fe=Fe.return}0<xn.length&&(Qe=new tt(Qe,Yt,null,d,st),pt.push({event:Qe,listeners:xn}))}}if((f&7)===0){e:{if(Qe=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",Qe&&d!==lc&&(Yt=d.relatedTarget||d.fromElement)&&(Et(Yt)||Yt[Ee]))break e;if((tt||Qe)&&(Qe=st.window===st?st:(Qe=st.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,tt?(Yt=d.relatedTarget||d.toElement,tt=Ze,Yt=Yt?Et(Yt):null,Yt!==null&&(jr=a(Yt),xn=Yt.tag,Yt!==jr||xn!==5&&xn!==27&&xn!==6)&&(Yt=null)):(tt=null,Yt=Ze),tt!==Yt)){if(xn=b0,ht="onMouseLeave",je="onMouseEnter",Fe="mouse",(l==="pointerout"||l==="pointerover")&&(xn=xi,ht="onPointerLeave",je="onPointerEnter",Fe="pointer"),jr=tt==null?Qe:At(tt),Je=Yt==null?Qe:At(Yt),Qe=new xn(ht,Fe+"leave",tt,d,st),Qe.target=jr,Qe.relatedTarget=Je,ht=null,Et(st)===Ze&&(xn=new xn(je,Fe+"enter",Yt,d,st),xn.target=Je,xn.relatedTarget=jr,ht=xn),jr=ht,tt&&Yt)t:{for(xn=wO,je=tt,Fe=Yt,Je=0,ht=je;ht;ht=xn(ht))Je++;ht=0;for(var fn=Fe;fn;fn=xn(fn))ht++;for(;0<Je-ht;)je=xn(je),Je--;for(;0<ht-Je;)Fe=xn(Fe),ht--;for(;Je--;){if(je===Fe||Fe!==null&&je===Fe.alternate){xn=je;break t}je=xn(je),Fe=xn(Fe)}xn=null}else xn=null;tt!==null&&rk(pt,Qe,tt,xn,!1),Yt!==null&&jr!==null&&rk(pt,jr,Yt,xn,!0)}}e:{if(Qe=Ze?At(Ze):window,tt=Qe.nodeName&&Qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Qe.type==="file")var pr=gu;else if(_0(Qe))if(ds)pr=Nl;else{pr=yi;var tn=Hh}else tt=Qe.nodeName,!tt||tt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Ze&&m0(Ze.elementType)&&(pr=gu):pr=Pg;if(pr&&(pr=pr(l,Ze))){js(pt,pr,d,st);break e}tn&&tn(l,Qe,Ze),l==="focusout"&&Ze&&Qe.type==="number"&&Ze.memoizedProps.value!=null&&d0(Qe,"number",Qe.value)}switch(tn=Ze?At(Ze):window,l){case"focusin":(_0(tn)||tn.contentEditable==="true")&&(Gs=tn,Ac=Ze,Na=null);break;case"focusout":Na=Ac=Gs=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,cr(pt,d,st);break;case"selectionchange":if(mf)break;case"keydown":case"keyup":cr(pt,d,st)}var Pn;if(El)e:{switch(l){case"compositionstart":var er="onCompositionStart";break e;case"compositionend":er="onCompositionEnd";break e;case"compositionupdate":er="onCompositionUpdate";break e}er=void 0}else Tl?pu(l,d)&&(er="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(er="onCompositionStart");er&&(vc&&d.locale!=="ko"&&(Tl||er!=="onCompositionStart"?er==="onCompositionEnd"&&Tl&&(Pn=Mg()):(zs=st,hf="value"in zs?zs.value:zs.textContent,Tl=!0)),tn=Nb(Ze,er),0<tn.length&&(er=new ze(er,l,null,d,st),pt.push({event:er,listeners:tn}),Pn?er.data=Pn:(Pn=Oh(d),Pn!==null&&(er.data=Pn)))),(Pn=gf?Ka(l,d):xc(l,d))&&(er=Nb(Ze,"onBeforeInput"),0<er.length&&(tn=new ze("onBeforeInput","beforeinput",null,d,st),pt.push({event:tn,listeners:er}),tn.data=Pn)),vO(pt,l,Ze,d,st)}tk(pt,f)})}function qv(l,f,d){return{instance:l,listener:f,currentTarget:d}}function Nb(l,f){for(var d=f+"Capture",v=[];l!==null;){var T=l,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Hs(l,d),T!=null&&v.unshift(qv(l,T,N)),T=Hs(l,f),T!=null&&v.push(qv(l,T,N))),l.tag===3)return v;l=l.return}return[]}function wO(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function rk(l,f,d,v,T){for(var N=f._reactName,V=[];d!==null&&d!==v;){var he=d,Ie=he.alternate,Ze=he.stateNode;if(he=he.tag,Ie!==null&&Ie===v)break;he!==5&&he!==26&&he!==27||Ze===null||(Ie=Ze,T?(Ze=Hs(d,N),Ze!=null&&V.unshift(qv(d,Ze,Ie))):T||(Ze=Hs(d,N),Ze!=null&&V.push(qv(d,Ze,Ie)))),d=d.return}V.length!==0&&l.push({event:f,listeners:V})}var _O=/\r\n?/g,SO=/\u0000|\uFFFD/g;function ik(l){return(typeof l=="string"?l:""+l).replace(_O,`
`).replace(SO,"")}function ak(l,f){return f=ik(f),ik(l)===f}function zr(l,f,d,v,T,N){switch(d){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||jo(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&jo(l,""+v);break;case"className":oc(l,"class",v);break;case"tabIndex":oc(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(l,d,v);break;case"style":Ng(l,v,N);break;case"data":if(f!=="object"){oc(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||d!=="href")){l.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=hs(""+v),l.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(f!=="input"&&zr(l,f,"name",T.name,T,null),zr(l,f,"formEncType",T.formEncType,T,null),zr(l,f,"formMethod",T.formMethod,T,null),zr(l,f,"formTarget",T.formTarget,T,null)):(zr(l,f,"encType",T.encType,T,null),zr(l,f,"method",T.method,T,null),zr(l,f,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=hs(""+v),l.setAttribute(d,v);break;case"onClick":v!=null&&(l.onclick=Go);break;case"onScroll":v!=null&&Zn("scroll",l);break;case"onScrollEnd":v!=null&&Zn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}d=hs(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""+v):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":v===!0?l.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,v):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(d,v):l.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(d):l.setAttribute(d,v);break;case"popover":Zn("beforetoggle",l),Zn("toggle",l),Zr(l,"popover",v);break;case"xlinkActuate":zo(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":zo(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":zo(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":zo(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":zo(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":zo(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":zo(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":zo(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":zo(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Zr(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=v0.get(d)||d,Zr(l,d,v))}}function AS(l,f,d,v,T,N){switch(d){case"style":Ng(l,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(T.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof v=="string"?jo(l,v):(typeof v=="number"||typeof v=="bigint")&&jo(l,""+v);break;case"onScroll":v!=null&&Zn("scroll",l);break;case"onScrollEnd":v!=null&&Zn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),f=d.slice(2,T?d.length-7:void 0),N=l[be]||null,N=N!=null?N[d]:null,typeof N=="function"&&l.removeEventListener(f,N,T),typeof v=="function")){typeof N!="function"&&N!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(f,v,T);break e}d in l?l[d]=v:v===!0?l.setAttribute(d,""):Zr(l,d,v)}}}function ts(l,f,d){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zn("error",l),Zn("load",l);var v=!1,T=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:zr(l,f,N,V,d,null)}}T&&zr(l,f,"srcSet",d.srcSet,d,null),v&&zr(l,f,"src",d.src,d,null);return;case"input":Zn("invalid",l);var he=N=V=T=null,Ie=null,Ze=null;for(v in d)if(d.hasOwnProperty(v)){var st=d[v];if(st!=null)switch(v){case"name":T=st;break;case"type":V=st;break;case"checked":Ie=st;break;case"defaultChecked":Ze=st;break;case"value":N=st;break;case"defaultValue":he=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,f));break;default:zr(l,f,v,st,d,null)}}Cg(l,N,he,Ie,Ze,V,T,!1);return;case"select":Zn("invalid",l),v=V=N=null;for(T in d)if(d.hasOwnProperty(T)&&(he=d[T],he!=null))switch(T){case"value":N=he;break;case"defaultValue":V=he;break;case"multiple":v=he;default:zr(l,f,T,he,d,null)}f=N,d=V,l.multiple=!!v,f!=null?$a(l,!!v,f,!1):d!=null&&$a(l,!!v,d,!0);return;case"textarea":Zn("invalid",l),N=T=v=null;for(V in d)if(d.hasOwnProperty(V)&&(he=d[V],he!=null))switch(V){case"value":v=he;break;case"defaultValue":T=he;break;case"children":N=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:zr(l,f,V,he,d,null)}g0(l,v,T,N);return;case"option":for(Ie in d)if(d.hasOwnProperty(Ie)&&(v=d[Ie],v!=null))switch(Ie){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:zr(l,f,Ie,v,d,null)}return;case"dialog":Zn("beforetoggle",l),Zn("toggle",l),Zn("cancel",l),Zn("close",l);break;case"iframe":case"object":Zn("load",l);break;case"video":case"audio":for(v=0;v<Gv.length;v++)Zn(Gv[v],l);break;case"image":Zn("error",l),Zn("load",l);break;case"details":Zn("toggle",l);break;case"embed":case"source":case"link":Zn("error",l),Zn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in d)if(d.hasOwnProperty(Ze)&&(v=d[Ze],v!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:zr(l,f,Ze,v,d,null)}return;default:if(m0(f)){for(st in d)d.hasOwnProperty(st)&&(v=d[st],v!==void 0&&AS(l,f,st,v,d,void 0));return}}for(he in d)d.hasOwnProperty(he)&&(v=d[he],v!=null&&zr(l,f,he,v,d,null))}function AO(l,f,d,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,V=null,he=null,Ie=null,Ze=null,st=null;for(tt in d){var pt=d[tt];if(d.hasOwnProperty(tt)&&pt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Ie=pt;default:v.hasOwnProperty(tt)||zr(l,f,tt,null,v,pt)}}for(var Qe in v){var tt=v[Qe];if(pt=d[Qe],v.hasOwnProperty(Qe)&&(tt!=null||pt!=null))switch(Qe){case"type":N=tt;break;case"name":T=tt;break;case"checked":Ze=tt;break;case"defaultChecked":st=tt;break;case"value":V=tt;break;case"defaultValue":he=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,f));break;default:tt!==pt&&zr(l,f,Qe,tt,v,pt)}}Ih(l,V,he,Ie,Ze,st,N,T);return;case"select":tt=V=he=Qe=null;for(N in d)if(Ie=d[N],d.hasOwnProperty(N)&&Ie!=null)switch(N){case"value":break;case"multiple":tt=Ie;default:v.hasOwnProperty(N)||zr(l,f,N,null,v,Ie)}for(T in v)if(N=v[T],Ie=d[T],v.hasOwnProperty(T)&&(N!=null||Ie!=null))switch(T){case"value":Qe=N;break;case"defaultValue":he=N;break;case"multiple":V=N;default:N!==Ie&&zr(l,f,T,N,v,Ie)}f=he,d=V,v=tt,Qe!=null?$a(l,!!d,Qe,!1):!!v!=!!d&&(f!=null?$a(l,!!d,f,!0):$a(l,!!d,d?[]:"",!1));return;case"textarea":tt=Qe=null;for(he in d)if(T=d[he],d.hasOwnProperty(he)&&T!=null&&!v.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:zr(l,f,he,null,v,T)}for(V in v)if(T=v[V],N=d[V],v.hasOwnProperty(V)&&(T!=null||N!=null))switch(V){case"value":Qe=T;break;case"defaultValue":tt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&zr(l,f,V,T,v,N)}p0(l,Qe,tt);return;case"option":for(var Yt in d)if(Qe=d[Yt],d.hasOwnProperty(Yt)&&Qe!=null&&!v.hasOwnProperty(Yt))switch(Yt){case"selected":l.selected=!1;break;default:zr(l,f,Yt,null,v,Qe)}for(Ie in v)if(Qe=v[Ie],tt=d[Ie],v.hasOwnProperty(Ie)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Ie){case"selected":l.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:zr(l,f,Ie,Qe,v,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xn in d)Qe=d[xn],d.hasOwnProperty(xn)&&Qe!=null&&!v.hasOwnProperty(xn)&&zr(l,f,xn,null,v,Qe);for(Ze in v)if(Qe=v[Ze],tt=d[Ze],v.hasOwnProperty(Ze)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,f));break;default:zr(l,f,Ze,Qe,v,tt)}return;default:if(m0(f)){for(var jr in d)Qe=d[jr],d.hasOwnProperty(jr)&&Qe!==void 0&&!v.hasOwnProperty(jr)&&AS(l,f,jr,void 0,v,Qe);for(st in v)Qe=v[st],tt=d[st],!v.hasOwnProperty(st)||Qe===tt||Qe===void 0&&tt===void 0||AS(l,f,st,Qe,v,tt);return}}for(var je in d)Qe=d[je],d.hasOwnProperty(je)&&Qe!=null&&!v.hasOwnProperty(je)&&zr(l,f,je,null,v,Qe);for(pt in v)Qe=v[pt],tt=d[pt],!v.hasOwnProperty(pt)||Qe===tt||Qe==null&&tt==null||zr(l,f,pt,Qe,v,tt)}function sk(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EO(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var T=d[v],N=T.transferSize,V=T.initiatorType,he=T.duration;if(N&&he&&sk(V)){for(V=0,he=T.responseEnd,v+=1;v<d.length;v++){var Ie=d[v],Ze=Ie.startTime;if(Ze>he)break;var st=Ie.transferSize,pt=Ie.initiatorType;st&&sk(pt)&&(Ie=Ie.responseEnd,V+=st*(Ie<he?1:(he-Ze)/(Ie-Ze)))}if(--v,f+=8*(N+V)/(T.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var ES=null,TS=null;function Rb(l){return l.nodeType===9?l:l.ownerDocument}function ok(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lk(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function CS(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var kS=null;function TO(){var l=window.event;return l&&l.type==="popstate"?l===kS?!1:(kS=l,!0):(kS=null,!1)}var ck=typeof setTimeout=="function"?setTimeout:void 0,CO=typeof clearTimeout=="function"?clearTimeout:void 0,uk=typeof Promise=="function"?Promise:void 0,kO=typeof queueMicrotask=="function"?queueMicrotask:typeof uk<"u"?function(l){return uk.resolve(null).then(l).catch(NO)}:ck;function NO(l){setTimeout(function(){throw l})}function sd(l){return l==="head"}function fk(l,f){var d=f,v=0;do{var T=d.nextSibling;if(l.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(v===0){l.removeChild(T),gm(f);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Vv(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,Vv(d);for(var N=d.firstChild;N;){var V=N.nextSibling,he=N.nodeName;N[Ke]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Vv(l.ownerDocument.body);d=T}while(d);gm(f)}function hk(l,f){var d=l;l=0;do{var v=d.nextSibling;if(d.nodeType===1?f?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(f?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=v}while(d)}function NS(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var d=f;switch(f=f.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":NS(d),bt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function RO(l,f,d,v){for(;l.nodeType===1;){var T=d;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ke])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Pl(l.nextSibling),l===null)break}return null}function LO(l,f,d){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=Pl(l.nextSibling),l===null))return null;return l}function dk(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Pl(l.nextSibling),l===null))return null;return l}function RS(l){return l.data==="$?"||l.data==="$~"}function LS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function IO(l,f){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||d.readyState!=="loading")f();else{var v=function(){f(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Pl(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var IS=null;function pk(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(f===0)return Pl(l.nextSibling);f--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||f++}l=l.nextSibling}return null}function gk(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(f===0)return l;f--}else d!=="/$"&&d!=="/&"||f++}l=l.previousSibling}return null}function mk(l,f,d){switch(f=Rb(d),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Vv(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);bt(l)}var Ol=new Map,vk=new Set;function Lb(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Df=le.d;le.d={f:MO,r:DO,D:FO,C:PO,L:OO,m:BO,X:HO,S:UO,M:zO};function MO(){var l=Df.f(),f=_b();return l||f}function DO(l){var f=It(l);f!==null&&f.tag===5&&f.type==="form"?DC(f):Df.r(l)}var hm=typeof document>"u"?null:document;function xk(l,f,d){var v=hm;if(v&&typeof f=="string"&&f){var T=ki(f);T='link[rel="'+l+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),vk.has(T)||(vk.add(T),l={rel:l,crossOrigin:d,href:f},v.querySelector(T)===null&&(f=v.createElement("link"),ts(f,"link",l),jt(f),v.head.appendChild(f)))}}function FO(l){Df.D(l),xk("dns-prefetch",l,null)}function PO(l,f){Df.C(l,f),xk("preconnect",l,f)}function OO(l,f,d){Df.L(l,f,d);var v=hm;if(v&&l&&f){var T='link[rel="preload"][as="'+ki(f)+'"]';f==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+ki(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+ki(d.imageSizes)+'"]')):T+='[href="'+ki(l)+'"]';var N=T;switch(f){case"style":N=dm(l);break;case"script":N=pm(l)}Ol.has(N)||(l=p({rel:"preload",href:f==="image"&&d&&d.imageSrcSet?void 0:l,as:f},d),Ol.set(N,l),v.querySelector(T)!==null||f==="style"&&v.querySelector(Wv(N))||f==="script"&&v.querySelector(Xv(N))||(f=v.createElement("link"),ts(f,"link",l),jt(f),v.head.appendChild(f)))}}function BO(l,f){Df.m(l,f);var d=hm;if(d&&l){var v=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+ki(v)+'"][href="'+ki(l)+'"]',N=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=pm(l)}if(!Ol.has(N)&&(l=p({rel:"modulepreload",href:l},f),Ol.set(N,l),d.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Xv(N)))return}v=d.createElement("link"),ts(v,"link",l),jt(v),d.head.appendChild(v)}}}function UO(l,f,d){Df.S(l,f,d);var v=hm;if(v&&l){var T=Nt(v).hoistableStyles,N=dm(l);f=f||"default";var V=T.get(N);if(!V){var he={loading:0,preload:null};if(V=v.querySelector(Wv(N)))he.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},d),(d=Ol.get(N))&&MS(l,d);var Ie=V=v.createElement("link");jt(Ie),ts(Ie,"link",l),Ie._p=new Promise(function(Ze,st){Ie.onload=Ze,Ie.onerror=st}),Ie.addEventListener("load",function(){he.loading|=1}),Ie.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Ib(V,f,v)}V={type:"stylesheet",instance:V,count:1,state:he},T.set(N,V)}}}function HO(l,f){Df.X(l,f);var d=hm;if(d&&l){var v=Nt(d).hoistableScripts,T=pm(l),N=v.get(T);N||(N=d.querySelector(Xv(T)),N||(l=p({src:l,async:!0},f),(f=Ol.get(T))&&DS(l,f),N=d.createElement("script"),jt(N),ts(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(T,N))}}function zO(l,f){Df.M(l,f);var d=hm;if(d&&l){var v=Nt(d).hoistableScripts,T=pm(l),N=v.get(T);N||(N=d.querySelector(Xv(T)),N||(l=p({src:l,async:!0,type:"module"},f),(f=Ol.get(T))&&DS(l,f),N=d.createElement("script"),jt(N),ts(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(T,N))}}function yk(l,f,d,v){var T=(T=se.current)?Lb(T):null;if(!T)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(f=dm(d.href),d=Nt(T).hoistableStyles,v=d.get(f),v||(v={type:"style",instance:null,count:0,state:null},d.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=dm(d.href);var N=Nt(T).hoistableStyles,V=N.get(l);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,V),(N=T.querySelector(Wv(l)))&&!N._p&&(V.instance=N,V.state.loading=5),Ol.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ol.set(l,d),N||jO(T,l,d,V.state))),f&&v===null)throw Error(r(528,""));return V}if(f&&v!==null)throw Error(r(529,""));return null;case"script":return f=d.async,d=d.src,typeof d=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=pm(d),d=Nt(T).hoistableScripts,v=d.get(f),v||(v={type:"script",instance:null,count:0,state:null},d.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function dm(l){return'href="'+ki(l)+'"'}function Wv(l){return'link[rel="stylesheet"]['+l+"]"}function bk(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function jO(l,f,d,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),ts(f,"link",d),jt(f),l.head.appendChild(f))}function pm(l){return'[src="'+ki(l)+'"]'}function Xv(l){return"script[async]"+l}function wk(l,f,d){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+ki(d.href)+'"]');if(v)return f.instance=v,jt(v),v;var T=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),jt(v),ts(v,"style",T),Ib(v,d.precedence,l),f.instance=v;case"stylesheet":T=dm(d.href);var N=l.querySelector(Wv(T));if(N)return f.state.loading|=4,f.instance=N,jt(N),N;v=bk(d),(T=Ol.get(T))&&MS(v,T),N=(l.ownerDocument||l).createElement("link"),jt(N);var V=N;return V._p=new Promise(function(he,Ie){V.onload=he,V.onerror=Ie}),ts(N,"link",v),f.state.loading|=4,Ib(N,d.precedence,l),f.instance=N;case"script":return N=pm(d.src),(T=l.querySelector(Xv(N)))?(f.instance=T,jt(T),T):(v=d,(T=Ol.get(N))&&(v=p({},d),DS(v,T)),l=l.ownerDocument||l,T=l.createElement("script"),jt(T),ts(T,"link",v),l.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,Ib(v,d.precedence,l));return f.instance}function Ib(l,f,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,N=T,V=0;V<v.length;V++){var he=v[V];if(he.dataset.precedence===f)N=he;else if(N!==T)break}N?N.parentNode.insertBefore(l,N.nextSibling):(f=d.nodeType===9?d.head:d,f.insertBefore(l,f.firstChild))}function MS(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function DS(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Mb=null;function _k(l,f,d){if(Mb===null){var v=new Map,T=Mb=new Map;T.set(d,v)}else T=Mb,v=T.get(d),v||(v=new Map,T.set(d,v));if(v.has(l))return v;for(v.set(l,null),d=d.getElementsByTagName(l),T=0;T<d.length;T++){var N=d[T];if(!(N[Ke]||N[ve]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(f)||"";V=l+V;var he=v.get(V);he?he.push(N):v.set(V,[N])}}return v}function Sk(l,f,d){l=l.ownerDocument||l,l.head.insertBefore(d,f==="title"?l.querySelector("head > title"):null)}function GO(l,f,d){if(d===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Ak(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function qO(l,f,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=dm(v.href),N=f.querySelector(Wv(T));if(N){f=N._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=Db.bind(l),f.then(l,l)),d.state.loading|=4,d.instance=N,jt(N);return}N=f.ownerDocument||f,v=bk(v),(T=Ol.get(T))&&MS(v,T),N=N.createElement("link"),jt(N);var V=N;V._p=new Promise(function(he,Ie){V.onload=he,V.onerror=Ie}),ts(N,"link",v),d.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,f),(f=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=Db.bind(l),f.addEventListener("load",d),f.addEventListener("error",d))}}var FS=0;function VO(l,f){return l.stylesheets&&l.count===0&&Pb(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var v=setTimeout(function(){if(l.stylesheets&&Pb(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+f);0<l.imgBytes&&FS===0&&(FS=62500*EO());var T=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Pb(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>FS?50:800)+f);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(T)}}:null}function Db(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pb(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Fb=null;function Pb(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Fb=new Map,f.forEach(WO,l),Fb=null,Db.call(l))}function WO(l,f){if(!(f.state.loading&4)){var d=Fb.get(l);if(d)var v=d.get(null);else{d=new Map,Fb.set(l,d);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var V=T[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),v=V)}v&&d.set(null,v)}T=f.instance,V=T.getAttribute("data-precedence"),N=d.get(V)||v,N===v&&d.set(null,T),d.set(V,T),this.count++,v=Db.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),N?N.parentNode.insertBefore(T,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),f.state.loading|=4}}var Yv={$$typeof:R,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function XO(l,f,d,v,T,N,V,he,Ie){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ie,this.incompleteTransitions=new Map}function Ek(l,f,d,v,T,N,V,he,Ie,Ze,st,pt){return l=new XO(l,f,d,V,Ie,Ze,st,pt,he),f=1,N===!0&&(f|=24),N=La(3,null,null,f),l.current=N,N.stateNode=l,f=Yh(),f.refCount++,l.pooledCache=f,f.refCount++,N.memoizedState={element:v,isDehydrated:d,cache:f},Lt(N),l}function Tk(l){return l?(l=ma,l):ma}function Ck(l,f,d,v,T,N){T=Tk(T),v.context===null?v.context=T:v.pendingContext=T,v=mn(f),v.payload={element:d},N=N===void 0?null:N,N!==null&&(v.callback=N),d=Mn(l,v,f),d!==null&&(To(d,l,f),_r(d,l,f))}function kk(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<f?d:f}}function PS(l,f){kk(l,f),(l=l.alternate)&&kk(l,f)}function Nk(l){if(l.tag===13||l.tag===31){var f=Ec(l,67108864);f!==null&&To(f,l,67108864),PS(l,67108864)}}function Rk(l){if(l.tag===13||l.tag===31){var f=Zo();f=Pr(f);var d=Ec(l,f);d!==null&&To(d,l,f),PS(l,f)}}var Ob=!0;function YO(l,f,d,v){var T=K.T;K.T=null;var N=le.p;try{le.p=2,OS(l,f,d,v)}finally{le.p=N,K.T=T}}function $O(l,f,d,v){var T=K.T;K.T=null;var N=le.p;try{le.p=8,OS(l,f,d,v)}finally{le.p=N,K.T=T}}function OS(l,f,d,v){if(Ob){var T=BS(v);if(T===null)SS(l,f,v,Bb,d),Ik(l,v);else if(JO(T,l,f,d,v))v.stopPropagation();else if(Ik(l,v),f&4&&-1<KO.indexOf(l)){for(;T!==null;){var N=It(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Zt(N.pendingLanes);if(V!==0){var he=N;for(he.pendingLanes|=2,he.entangledLanes|=2;V;){var Ie=1<<31-Hn(V);he.entanglements[1]|=Ie,V&=~Ie}ku(N),(Ar&6)===0&&(bb=wt()+500,jv(0))}}break;case 31:case 13:he=Ec(N,2),he!==null&&To(he,N,2),_b(),PS(N,2)}if(N=BS(v),N===null&&SS(l,f,v,Bb,d),N===T)break;T=N}T!==null&&v.stopPropagation()}else SS(l,f,v,null,d)}}function BS(l){return l=uf(l),US(l)}var Bb=null;function US(l){if(Bb=null,l=Et(l),l!==null){var f=a(l);if(f===null)l=null;else{var d=f.tag;if(d===13){if(l=s(f),l!==null)return l;l=null}else if(d===31){if(l=o(f),l!==null)return l;l=null}else if(d===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Bb=l,null}function Lk(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case Bt:return 2;case on:return 8;case Wt:case Ct:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var HS=!1,od=null,ld=null,cd=null,$v=new Map,Kv=new Map,ud=[],KO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ik(l,f){switch(l){case"focusin":case"focusout":od=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":cd=null;break;case"pointerover":case"pointerout":$v.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kv.delete(f.pointerId)}}function Jv(l,f,d,v,T,N){return l===null||l.nativeEvent!==N?(l={blockedOn:f,domEventName:d,eventSystemFlags:v,nativeEvent:N,targetContainers:[T]},f!==null&&(f=It(f),f!==null&&Nk(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),l)}function JO(l,f,d,v,T){switch(f){case"focusin":return od=Jv(od,l,f,d,v,T),!0;case"dragenter":return ld=Jv(ld,l,f,d,v,T),!0;case"mouseover":return cd=Jv(cd,l,f,d,v,T),!0;case"pointerover":var N=T.pointerId;return $v.set(N,Jv($v.get(N)||null,l,f,d,v,T)),!0;case"gotpointercapture":return N=T.pointerId,Kv.set(N,Jv(Kv.get(N)||null,l,f,d,v,T)),!0}return!1}function Mk(l){var f=Et(l.target);if(f!==null){var d=a(f);if(d!==null){if(f=d.tag,f===13){if(f=s(d),f!==null){l.blockedOn=f,Se(l.priority,function(){Rk(d)});return}}else if(f===31){if(f=o(d),f!==null){l.blockedOn=f,Se(l.priority,function(){Rk(d)});return}}else if(f===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Ub(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var d=BS(l.nativeEvent);if(d===null){d=l.nativeEvent;var v=new d.constructor(d.type,d);lc=v,d.target.dispatchEvent(v),lc=null}else return f=It(d),f!==null&&Nk(f),l.blockedOn=d,!1;f.shift()}return!0}function Dk(l,f,d){Ub(l)&&d.delete(f)}function ZO(){HS=!1,od!==null&&Ub(od)&&(od=null),ld!==null&&Ub(ld)&&(ld=null),cd!==null&&Ub(cd)&&(cd=null),$v.forEach(Dk),Kv.forEach(Dk)}function Hb(l,f){l.blockedOn===f&&(l.blockedOn=null,HS||(HS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ZO)))}var zb=null;function Fk(l){zb!==l&&(zb=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zb===l&&(zb=null);for(var f=0;f<l.length;f+=3){var d=l[f],v=l[f+1],T=l[f+2];if(typeof v!="function"){if(US(v||d)===null)continue;break}var N=It(d);N!==null&&(l.splice(f,3),f-=3,B5(N,{pending:!0,data:T,method:d.method,action:v},v,T))}}))}function gm(l){function f(Ie){return Hb(Ie,l)}od!==null&&Hb(od,l),ld!==null&&Hb(ld,l),cd!==null&&Hb(cd,l),$v.forEach(f),Kv.forEach(f);for(var d=0;d<ud.length;d++){var v=ud[d];v.blockedOn===l&&(v.blockedOn=null)}for(;0<ud.length&&(d=ud[0],d.blockedOn===null);)Mk(d),d.blockedOn===null&&ud.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var T=d[v],N=d[v+1],V=T[be]||null;if(typeof N=="function")V||Fk(d);else if(V){var he=null;if(N&&N.hasAttribute("formAction")){if(T=N,V=N[be]||null)he=V.formAction;else if(US(T)!==null)continue}else he=V.action;typeof he=="function"?d[v+1]=he:(d.splice(v,3),v-=3),Fk(d)}}}function Pk(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function f(){T!==null&&(T(),T=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,T=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),T!==null&&(T(),T=null)}}}function zS(l){this._internalRoot=l}jb.prototype.render=zS.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var d=f.current,v=Zo();Ck(d,v,l,f,null,null)},jb.prototype.unmount=zS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;Ck(l.current,2,null,l,null,null),_b(),f[Ee]=null}};function jb(l){this._internalRoot=l}jb.prototype.unstable_scheduleHydration=function(l){if(l){var f=te();l={blockedOn:null,target:l,priority:f};for(var d=0;d<ud.length&&f!==0&&f<ud[d].priority;d++);ud.splice(d,0,l),d===0&&Mk(l)}};var Ok=e.version;if(Ok!=="19.2.3")throw Error(r(527,Ok,"19.2.3"));le.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var QO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gb.isDisabled&&Gb.supportsFiber)try{Dt=Gb.inject(QO),Pt=Gb}catch{}}return Qv.createRoot=function(l,f){if(!i(l))throw Error(r(299));var d=!1,v="",T=qC,N=VC,V=WC;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=Ek(l,1,!1,null,null,d,v,null,T,N,V,Pk),l[Ee]=f.current,_S(l),new zS(f)},Qv.hydrateRoot=function(l,f,d){if(!i(l))throw Error(r(299));var v=!1,T="",N=qC,V=VC,he=WC,Ie=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(he=d.onRecoverableError),d.formState!==void 0&&(Ie=d.formState)),f=Ek(l,1,!0,f,d??null,v,T,Ie,N,V,he,Pk),f.context=Tk(null),d=f.current,v=Zo(),v=Pr(v),T=mn(v),T.callback=null,Mn(d,T,v),d=v,f.current.lanes=d,an(f,d),ku(f),l[Ee]=f.current,_S(l),new jb(f)},Qv.version="19.2.3",Qv}var Yk;function h9(){if(Yk)return VS.exports;Yk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),VS.exports=f9(),VS.exports}var d9=h9();const p9=LL(d9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),$k=n=>{const e=m9(n);return e.charAt(0).toUpperCase()+e.slice(1)},IL=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),v9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ut.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},c)=>ut.createElement("svg",{ref:c,...x9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:IL("lucide",i),...!a&&!v9(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,h])=>ut.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(n,e)=>{const t=ut.forwardRef(({className:r,...i},a)=>ut.createElement(y9,{ref:a,iconNode:e,className:IL(`lucide-${g9($k(n))}`,`lucide-${n}`,r),...i}));return t.displayName=$k(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],w9=Vt("activity",b9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],ZT=Vt("bold",_9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ML=Vt("calendar",S9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Kk=Vt("chart-pie",A9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QT=Vt("check",E9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],C9=Vt("chevron-down",T9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N9=Vt("chevron-right",k9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$S=Vt("circle-alert",R9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],e4=Vt("circle-check-big",L9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DL=Vt("circle-check",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],D9=Vt("circle-x",M9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],XA=Vt("clipboard-list",F9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jk=Vt("clock",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],t4=Vt("copy",O9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FL=Vt("database",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],r5=Vt("download",U9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PL=Vt("external-link",H9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KS=Vt("eye",z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],OL=Vt("file-down",j9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Zk=Vt("file-spreadsheet",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$c=Vt("file-text",q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],BL=Vt("file-up",V9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],X9=Vt("folder-plus",W9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$9=Vt("globe",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],J9=Vt("hard-drive",K9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Q9=Vt("history",Z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],tB=Vt("image",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],n4=Vt("info",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],r4=Vt("italic",rB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],aB=Vt("key",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yw=Vt("layers",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],YA=Vt("link",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],i4=Vt("list",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],UL=Vt("loader-circle",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fB=Vt("log-out",uB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],By=Vt("mail",hB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],pB=Vt("maximize",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Qk=Vt("monitor",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vB=Vt("moon",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],yB=Vt("move",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],av=Vt("panels-top-left",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Nx=Vt("paperclip",wB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Gx=Vt("pen-line",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HL=Vt("pen",SB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mg=Vt("plus",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zL=Vt("printer",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rf=Vt("save",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uy=Vt("search",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i_=Vt("send",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],qx=Vt("server",NB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$A=Vt("settings",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Vx=Vt("shield-alert",LB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KA=Vt("shield-check",IB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DB=Vt("sun",MB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],PB=Vt("table",FB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],BB=Vt("terminal",OB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nf=Vt("trash-2",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zB=Vt("triangle-alert",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],i5=Vt("type",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qB=Vt("upload",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],WB=Vt("user-plus",VB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wx=Vt("user",XB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hm=Vt("users",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],KB=Vt("wand-sparkles",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],to=Vt("x",JB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JS=Vt("zap",ZB),QB={es:{title:"Configuracin SMTP",subtitle:"Gestiona mltiples perfiles de servidor de correo saliente.",newBtn:"Nuevo Perfil",activeProfile:"Perfil Activo",selectProfile:"Seleccionar",noProfiles:"No hay perfiles SMTP guardados.",cancelBtn:"Cancelar",editTitle:"Editando: ",newTitle:"Nuevo Perfil SMTP",profileName:"Nombre del Perfil",profilePlaceholder:"Gmail Personal, Outlook Empresa, etc.",hostname:"Nombre del Host",portSecurity:"Puerto y Seguridad",username:"Nombre de Usuario",password:"Contrasea / App Key",saved:"Guardado con xito!",updateBtn:"Actualizar Perfil",saveBtn:"Guardar Perfil",testBtn:"Probar Conexin",testing:"Probando...",testSuccess:"Funciona correctamente!",testError:"No funciona. Revisa los datos.",fillRequired:"Por favor, completa los campos requeridos.",presetsTitle:"Ajustes Rpidos",gmailNotice:'Nota: Para Gmail debes usar una "Contrasea de Aplicacin" si tienes 2FA activado.'},en:{title:"SMTP Settings",subtitle:"Manage multiple outgoing mail server profiles.",newBtn:"New Profile",activeProfile:"Active Profile",selectProfile:"Select",noProfiles:"No SMTP profiles saved yet.",cancelBtn:"Cancel",editTitle:"Editing: ",newTitle:"New SMTP Profile",profileName:"Profile Name",profilePlaceholder:"Personal Gmail, Company Outlook, etc.",hostname:"Hostname",portSecurity:"Port & Security",username:"Username",password:"Password / App Key",saved:"Saved Successfully!",updateBtn:"Update Profile",saveBtn:"Save Profile",testBtn:"Test Connection",testing:"Testing...",testSuccess:"Connection successful!",testError:"Connection failed. Check your data.",fillRequired:"Please fill in all required fields.",presetsTitle:"Quick Presets",gmailNotice:'Note: For Gmail you must use an "App Password" if 2FA is enabled.'}},eU=({configs:n,activeId:e,onAction:t,lang:r})=>{const i=ut.useMemo(()=>QB[r],[r]),[a,s]=ut.useState(null),[o,c]=ut.useState(n.length===0),[u,h]=ut.useState(!1),[p,g]=ut.useState(!1),[m,w]=ut.useState(null),y={id:"",name:"",host:"",port:587,secure:!0,username:"",password:""},[S,C]=ut.useState(y),L=P=>{s(P),C(P),c(!1),w(null)},R=()=>{c(!0),s(null),C({...y,id:Date.now().toString()}),w(null)},D=P=>{P==="gmail"?C(W=>({...W,name:W.name||"Gmail",host:"smtp.gmail.com",port:587,secure:!0})):P==="outlook"&&C(W=>({...W,name:W.name||"Outlook",host:"smtp.office365.com",port:587,secure:!0}))},z=async()=>{if(!S.host||!S.username){alert(i.fillRequired);return}g(!0),w(null),await new Promise(W=>setTimeout(W,2e3));const P=S.host.length>5&&!S.host.includes("error");w(P?"success":"error"),g(!1)},q=P=>{P.preventDefault(),a?t.update(S):t.add(S),h(!0),setTimeout(()=>{h(!1),c(!1),s(null)},1500)};return E.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:i.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:i.subtitle})]}),!o&&!a&&E.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(mg,{size:18})," ",i.newBtn]})]}),!o&&!a&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(P=>E.jsxs("div",{className:`group p-6 rounded-2xl border-2 transition-all relative ${e===P.id?"bg-white dark:bg-slate-900 border-indigo-500 dark:border-indigo-600 shadow-lg shadow-indigo-100 dark:shadow-none":"bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800 hover:border-slate-200 dark:hover:border-slate-700"}`,children:[e===P.id&&E.jsx("div",{className:"absolute top-4 right-4 text-indigo-500 dark:text-indigo-400",children:E.jsx(DL,{size:20,fill:"currentColor",className:"text-white dark:text-slate-900"})}),E.jsxs("div",{className:"flex flex-col gap-1 pr-8 text-left",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:P.name}),E.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[E.jsx(qx,{size:12})," ",P.host,":",P.port]}),E.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[E.jsx(Wx,{size:12})," ",P.username]})]}),E.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[E.jsx("button",{onClick:()=>t.setActive(P.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${e===P.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:e===P.id?i.activeProfile:i.selectProfile}),E.jsx("button",{onClick:()=>L(P),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:E.jsx(Gx,{size:16})}),E.jsx("button",{onClick:()=>t.delete(P.id),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:E.jsx(nf,{size:16})})]})]},P.id)),n.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center bg-slate-50 dark:bg-slate-900/30 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:E.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-medium",children:i.noProfiles})})]}),(o||a)&&E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm animate-in fade-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8 text-left",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:a?`${i.editTitle}${a.name}`:i.newTitle}),E.jsx("button",{onClick:()=>{c(!1),s(null)},className:"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 text-sm font-medium",children:i.cancelBtn})]}),E.jsxs("div",{className:"mb-8 p-4 bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-2xl",children:[E.jsxs("p",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[E.jsx(JS,{size:14})," ",i.presetsTitle]}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsxs("button",{type:"button",onClick:()=>D("gmail"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[E.jsx("img",{src:"https://www.google.com/favicon.ico",className:"w-3 h-3",alt:"Gmail"})," Gmail"]}),E.jsxs("button",{type:"button",onClick:()=>D("outlook"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[E.jsx("img",{src:"https://outlook.live.com/favicon.ico",className:"w-3 h-3",alt:"Outlook"})," Outlook / Hotmail"]})]})]}),E.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:i.profileName}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:S.name,onChange:P=>C({...S,name:P.target.value}),placeholder:i.profilePlaceholder,required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(qx,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.hostname]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:S.host,onChange:P=>C({...S,host:P.target.value}),placeholder:"smtp.gmail.com",required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(KA,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.portSecurity]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("input",{type:"number",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:S.port,onChange:P=>C({...S,port:parseInt(P.target.value)}),placeholder:"587",required:!0}),E.jsx("button",{type:"button",onClick:()=>C({...S,secure:!S.secure}),className:`px-4 rounded-xl border transition-all text-xs font-bold ${S.secure?"bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:S.secure?"SSL/TLS":"Plain"})]})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(Wx,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.username]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:S.username,onChange:P=>C({...S,username:P.target.value}),placeholder:"user@example.com",required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(aB,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.password]}),E.jsx("input",{type:"password",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:S.password||"",onChange:P=>C({...S,password:P.target.value}),placeholder:""})]}),S.host.includes("gmail.com")&&E.jsxs("div",{className:"col-span-full flex items-start gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl text-amber-700 dark:text-amber-400",children:[E.jsx(n4,{size:16,className:"shrink-0 mt-0.5"}),E.jsx("p",{className:"text-[11px] leading-relaxed",children:i.gmailNotice})]}),E.jsxs("div",{className:"col-span-full pt-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs("button",{type:"button",onClick:z,disabled:p,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all border-2 ${m==="success"?"border-emerald-500 text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":m==="error"?"border-red-500 text-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"} disabled:opacity-50`,children:[p?E.jsx(UL,{size:18,className:"animate-spin"}):m==="success"?E.jsx(JS,{size:18,className:"fill-current"}):m==="error"?E.jsx(zB,{size:18}):E.jsx(JS,{size:18}),p?i.testing:m==="success"?i.testSuccess:m==="error"?i.testError:i.testBtn]})}),E.jsxs("button",{type:"submit",className:`flex items-center gap-2 px-8 py-3 rounded-xl font-semibold transition-all ${u?"bg-emerald-500 text-white":"bg-slate-900 dark:bg-indigo-600 text-white hover:bg-slate-800 dark:hover:bg-indigo-700 shadow-lg shadow-slate-200 dark:shadow-none"}`,children:[u?i.saved:a?i.updateBtn:i.saveBtn,E.jsx(rf,{size:18})]})]})]})]})]})},tU={es:{title:"Integraciones",subtitle:"Conecta tus datos de correo con plataformas externas como Google Sheets.",sheetsTitle:"Registro en Google Sheets",urlLabel:"URL de Web App (Google Apps Script)",urlHint:"Cada correo enviado con xito se aadir automticamente como una nueva fila en tu hoja.",saveBtn:"Guardar Integracin",saved:"Configuracin Guardada",guideTitle:"Gua de Configuracin Rpida",guideSteps:["Abre una Google Sheet.","Ve a Extensiones > Apps Script.","Pega el fragmento de cdigo a la derecha.","Haz clic en Implementar > Nueva implementacin.",'Selecciona Aplicacin Web y acceso a "Cualquiera".',"Copia la URL de la Web App y pgala aqu."],snippetTitle:"Fragmento de Apps Script",copyBtn:"Copiar Cdigo"},en:{title:"Integrations",subtitle:"Connect your email data with external platforms like Google Sheets.",sheetsTitle:"Google Sheets Logging",urlLabel:"Web App URL (Google Apps Script)",urlHint:"Every successfully sent email will be automatically appended as a new row in your sheet.",saveBtn:"Save Integration",saved:"Configuration Saved",guideTitle:"Quick Setup Guide",guideSteps:["Open a Google Sheet.","Go to Extensions > Apps Script.","Paste the code snippet provided on the right.","Click Deploy > New Deployment.",'Select Web App and set access to "Anyone".',"Copy the Web App URL and paste it here."],snippetTitle:"Apps Script Snippet",copyBtn:"Copy Code"}},nU=({sheetUrl:n,onSave:e,lang:t})=>{const r=ut.useMemo(()=>tU[t],[t]),[i,a]=ut.useState(n),[s,o]=ut.useState(!1),c=h=>{h.preventDefault(),e(i),o(!0),setTimeout(()=>o(!1),2e3)},u=`function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
  var data = JSON.parse(e.postData.contents);
  
  sheet.appendRow([
    data.timestamp,
    data.recipient,
    data.cc,
    data.subject,
    data.status,
    data.attachments,
    data.messageId
  ]);
  
  return ContentService.createTextOutput("Success").setMimeType(ContentService.MimeType.TEXT);
}`;return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg",children:E.jsx(FL,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:r.sheetsTitle})]}),E.jsxs("form",{onSubmit:c,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(YA,{size:14,className:"text-indigo-500"})," ",r.urlLabel]}),E.jsx("input",{type:"url",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all text-sm",value:i,onChange:h=>a(h.target.value),placeholder:"https://script.google.com/macros/s/.../exec"}),E.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:r.urlHint})]}),E.jsx("button",{type:"submit",className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl font-semibold transition-all ${s?"bg-emerald-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-100 dark:shadow-none"}`,children:s?E.jsxs(E.Fragment,{children:[E.jsx(e4,{size:18})," ",r.saved]}):E.jsxs(E.Fragment,{children:[E.jsx(rf,{size:18})," ",r.saveBtn]})})]})]}),E.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-800/50",children:[E.jsxs("h4",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[E.jsx(PL,{size:16})," ",r.guideTitle]}),E.jsx("ol",{className:"text-xs text-indigo-700 dark:text-indigo-400 space-y-2 list-decimal list-inside",children:r.guideSteps.map((h,p)=>E.jsx("li",{children:h},p))})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(BB,{size:14})," ",r.snippetTitle]}),E.jsxs("button",{onClick:()=>navigator.clipboard.writeText(u),className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1 font-medium",children:[E.jsx(t4,{size:12})," ",r.copyBtn]})]}),E.jsx("div",{className:"bg-slate-900 rounded-3xl p-6 overflow-hidden border border-slate-800 shadow-xl",children:E.jsx("pre",{className:"text-indigo-300 font-mono text-xs overflow-x-auto leading-relaxed",children:u})})]})]})]})};var Rx={};Rx.d=(n,e)=>{for(var t in e)Rx.o(e,t)&&!Rx.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Rx.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Tn=globalThis.pdfjsLib={};Rx.d(Tn,{AbortException:()=>Zd,AnnotationEditorLayer:()=>aT,AnnotationEditorParamsType:()=>ir,AnnotationEditorType:()=>Bn,AnnotationEditorUIManager:()=>ag,AnnotationLayer:()=>JH,AnnotationMode:()=>vd,ColorPicker:()=>u_,DOMSVGFactory:()=>d4,DrawLayer:()=>lT,FeatureTest:()=>no,GlobalWorkerOptions:()=>ph,ImageKind:()=>bw,InvalidPDFException:()=>ZA,MissingPDFException:()=>Xx,OPS:()=>Pc,OutputScale:()=>eE,PDFDataRangeTransport:()=>GI,PDFDateString:()=>c4,PDFWorker:()=>jm,PasswordResponses:()=>sU,PermissionFlag:()=>aU,PixelsPerInch:()=>Qd,RenderingCancelledException:()=>o4,TextLayer:()=>Yx,TouchManager:()=>l_,UnexpectedResponseException:()=>a_,Util:()=>sn,VerbosityLevel:()=>a5,XfaLayer:()=>VI,build:()=>LH,createValidAbsoluteUrl:()=>uU,fetchData:()=>c5,getDocument:()=>_H,getFilenameFromUrl:()=>yU,getPdfFilenameFromUrl:()=>bU,getXfaPageViewport:()=>wU,isDataScheme:()=>u5,isPdfFile:()=>l4,noContextMenu:()=>iu,normalizeUnicode:()=>mU,setLayerDimensions:()=>ig,shadow:()=>Yn,stopEvent:()=>ml,version:()=>RH});const Is=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),jL=[1,0,0,1,0,0],JA=[.001,0,0,.001,0,0],rU=1e7,ZS=1.35,hl={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},vd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iU="pdfjs_internal_editor_",Bn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ir={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},aU={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ws={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},bw={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_a={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ex={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a5={ERRORS:0,WARNINGS:1,INFOS:5},Pc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},sU={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let s5=a5.WARNINGS;function oU(n){Number.isInteger(n)&&(s5=n)}function lU(){return s5}function o5(n){s5>=a5.INFOS&&console.log(`Info: ${n}`)}function Un(n){s5>=a5.WARNINGS&&console.log(`Warning: ${n}`)}function Kr(n){throw new Error(n)}function ua(n,e){n||Kr(e)}function cU(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uU(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=gU(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(cU(r))return r}catch{}return null}function Yn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const s0=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class eN extends s0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class QS extends s0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ZA extends s0{constructor(e){super(e,"InvalidPDFException")}}class Xx extends s0{constructor(e){super(e,"MissingPDFException")}}class a_ extends s0{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class fU extends s0{constructor(e){super(e,"FormatError")}}class Zd extends s0{constructor(e){super(e,"AbortException")}}function GL(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Kr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),s=n.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function l5(n){typeof n!="string"&&Kr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function hU(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function a4(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function dU(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function pU(){try{return new Function(""),!0}catch{return!1}}class no{static get isLittleEndian(){return Yn(this,"isLittleEndian",dU())}static get isEvalSupported(){return Yn(this,"isEvalSupported",pU())}static get isOffscreenCanvasSupported(){return Yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Yn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const eA=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var bh,ww,QA;class sn{static makeHexColor(e,t,r){return`#${eA[e]}${eA[t]}${eA[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,a=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,a]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),a=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],o=(r+s)/2,c=Math.sqrt((r+s)**2-4*(r*s-a*i))/2,u=o+c||1,h=o-c||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>s?null:[r,a,i,s]}static bezierBoundingBox(e,t,r,i,a,s,o,c,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],ae(this,bh,QA).call(this,e,r,a,o,t,i,s,c,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),u),ae(this,bh,QA).call(this,e,r,a,o,t,i,s,c,3*(-t+3*(i-s)+c),6*(t-2*i+s),3*(i-t),u),u}}bh=new WeakSet,ww=function(e,t,r,i,a,s,o,c,u,h){if(u<=0||u>=1)return;const p=1-u,g=u*u,m=g*u,w=p*(p*(p*e+3*u*t)+3*g*r)+m*i,y=p*(p*(p*a+3*u*s)+3*g*o)+m*c;h[0]=Math.min(h[0],w),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],w),h[3]=Math.max(h[3],y)},QA=function(e,t,r,i,a,s,o,c,u,h,p,g){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&ae(this,bh,ww).call(this,e,t,r,i,a,s,o,c,-p/h,g);return}const m=h**2-4*p*u;if(m<0)return;const w=Math.sqrt(m),y=2*u;ae(this,bh,ww).call(this,e,t,r,i,a,s,o,c,(-h+w)/y,g),ae(this,bh,ww).call(this,e,t,r,i,a,s,o,c,(-h-w)/y,g)},ne(sn,bh);function gU(n){return decodeURIComponent(escape(n))}let tA=null,tN=null;function mU(n){return tA||(tA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tN=new Map([["","t"]])),n.replaceAll(tA,(e,t,r)=>t?t.normalize("NFKC"):tN.get(r))}function vU(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),GL(n)}const s4="pdfjs_internal_id_";function xU(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(GL(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const Of="http://www.w3.org/2000/svg",W0=class W0{};Mt(W0,"CSS",96),Mt(W0,"PDF",72),Mt(W0,"PDF_TO_CSS_UNITS",W0.CSS/W0.PDF);let Qd=W0;async function c5(n,e="text"){if(cx(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Hy{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,p=0,g=0,m=1;break;case 90:h=0,p=1,g=1,m=0;break;case 270:h=0,p=-1,g=-1,m=0;break;case 0:h=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,m=-m);let w,y,S,C;h===0?(w=Math.abs(u-e[1])*r+a,y=Math.abs(c-e[0])*r+s,S=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(w=Math.abs(c-e[0])*r+a,y=Math.abs(u-e[1])*r+s,S=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[h*r,p*r,g*r,m*r,w-h*r*c-g*r*u,y-p*r*c-m*r*u],this.width=S,this.height=C}get rawDims(){const{userUnit:e,viewBox:t}=this,r=t.map(i=>i*e);return Yn(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Hy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){return sn.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=sn.applyTransform([e[0],e[1]],this.transform),r=sn.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return sn.applyInverseTransform([e,t],this.transform)}}class o4 extends s0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function u5(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function l4(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function yU(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function bU(n,e="document.pdf"){if(typeof n!="string")return e;if(u5(n))return Un('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class nN{constructor(){Mt(this,"started",Object.create(null));Mt(this,"times",[])}time(e){e in this.started&&Un(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Un(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(t)} ${a-i}ms
`);return e.join("")}}function cx(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function iu(n){n.preventDefault()}function ml(n){n.preventDefault(),n.stopPropagation()}var d2;class c4{static toDateObject(e){if(!e||typeof e!="string")return null;x(this,d2)||X(this,d2,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=x(this,d2).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,u==="-"?(s+=h,o+=p):u==="+"&&(s-=h,o-=p),new Date(Date.UTC(r,i,a,s,o,c))}}d2=new WeakMap,ne(c4,d2);function wU(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new Hy({viewBox:a,userUnit:1,scale:e,rotation:t})}function u4(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Un(`Not a valid color format: "${n}"`),[0,0,0])}function _U(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,u4(r))}e.remove()}function mi(n){const{a:e,b:t,c:r,d:i,e:a,f:s}=n.getTransform();return[e,t,r,i,a,s]}function Nu(n){const{a:e,b:t,c:r,d:i,e:a,f:s}=n.getTransform().invertSelf();return[e,t,r,i,a,s]}function ig(n,e,t=!1,r=!0){if(e instanceof Hy){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=n,o=no.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${a}px`,h=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(s.width=h,s.height=p):(s.width=p,s.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class eE{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var xd,$0,Oc,K0,p2,g2,B_,qL,io,VL,WL,_w,XL,nE;const Hf=class Hf{constructor(e){ne(this,io);ne(this,xd,null);ne(this,$0,null);ne(this,Oc);ne(this,K0,null);ne(this,p2,null);X(this,Oc,e),x(Hf,g2)||X(Hf,g2,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=X(this,xd,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=x(this,Oc)._uiManager._signal;e.addEventListener("contextmenu",iu,{signal:t}),e.addEventListener("pointerdown",ae(Hf,B_,qL),{signal:t});const r=X(this,K0,document.createElement("div"));r.className="buttons",e.append(r);const i=x(this,Oc).toolbarPosition;if(i){const{style:a}=e,s=x(this,Oc)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ae(this,io,XL).call(this),e}get div(){return x(this,xd)}hide(){var e;x(this,xd).classList.add("hidden"),(e=x(this,$0))==null||e.hideDropdown()}show(){var e;x(this,xd).classList.remove("hidden"),(e=x(this,p2))==null||e.shown()}async addAltText(e){const t=await e.render();ae(this,io,_w).call(this,t),x(this,K0).prepend(t,x(this,io,nE)),X(this,p2,e)}addColorPicker(e){X(this,$0,e);const t=e.renderButton();ae(this,io,_w).call(this,t),x(this,K0).prepend(t,x(this,io,nE))}remove(){var e;x(this,xd).remove(),(e=x(this,$0))==null||e.destroy(),X(this,$0,null)}};xd=new WeakMap,$0=new WeakMap,Oc=new WeakMap,K0=new WeakMap,p2=new WeakMap,g2=new WeakMap,B_=new WeakSet,qL=function(e){e.stopPropagation()},io=new WeakSet,VL=function(e){x(this,Oc)._focusEventsAllowed=!1,ml(e)},WL=function(e){x(this,Oc)._focusEventsAllowed=!0,ml(e)},_w=function(e){const t=x(this,Oc)._uiManager._signal;e.addEventListener("focusin",ae(this,io,VL).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ae(this,io,WL).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",iu,{signal:t})},XL=function(){const{editorType:e,_uiManager:t}=x(this,Oc),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",x(Hf,g2)[e]),ae(this,io,_w).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),x(this,K0).append(r)},nE=function(){const e=document.createElement("div");return e.className="divider",e},ne(Hf,B_),ne(Hf,g2,null);let tE=Hf;var m2,J0,Z0,a0,YL,$L,KL;class SU{constructor(e){ne(this,a0);ne(this,m2,null);ne(this,J0,null);ne(this,Z0);X(this,Z0,e)}show(e,t,r){const[i,a]=ae(this,a0,$L).call(this,t,r),{style:s}=x(this,J0)||X(this,J0,ae(this,a0,YL).call(this));e.append(x(this,J0)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,J0).remove()}}m2=new WeakMap,J0=new WeakMap,Z0=new WeakMap,a0=new WeakSet,YL=function(){const e=X(this,J0,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",iu,{signal:x(this,Z0)._signal});const t=X(this,m2,document.createElement("div"));return t.className="buttons",e.append(t),ae(this,a0,KL).call(this),e},$L=function(e,t){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(t?a.width:0);if(s>r){i=o,r=s;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},KL=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=x(this,Z0)._signal;e.addEventListener("contextmenu",iu,{signal:r}),e.addEventListener("click",()=>{x(this,Z0).highlightSelection("floating_button")},{signal:r}),x(this,m2).append(e)};function s_(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var U_;class AU{constructor(){ne(this,U_,0)}get id(){return`${iU}${Ws(this,U_)._++}`}}U_=new WeakMap;var e1,v2,As,t1,Sw;const vC=class vC{constructor(){ne(this,t1);ne(this,e1,vU());ne(this,v2,0);ne(this,As,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Yn(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:a}=e;return ae(this,t1,Sw).call(this,`${t}_${r}_${i}_${a}`,e)}async getFromUrl(e){return ae(this,t1,Sw).call(this,e,e)}async getFromBlob(e,t){const r=await t;return ae(this,t1,Sw).call(this,e,r)}async getFromId(e){x(this,As)||X(this,As,new Map);const t=x(this,As).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){x(this,As)||X(this,As,new Map);let r=x(this,As).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${x(this,e1)}_${Ws(this,v2)._++}`,refCounter:1,isSvg:!1},x(this,As).set(e,r),x(this,As).set(r.id,r),r}getSvgUrl(e){const t=x(this,As).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;x(this,As)||X(this,As,new Map);const t=x(this,As).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${x(this,e1)}_`)}};e1=new WeakMap,v2=new WeakMap,As=new WeakMap,t1=new WeakSet,Sw=async function(e,t){x(this,As)||X(this,As,new Map);let r=x(this,As).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${x(this,e1)}_${Ws(this,v2)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await c5(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=vC._isSVGFittingCanvas,s=new FileReader,o=new Image,c=new Promise((u,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},s.onload=async()=>{const p=r.svgUrl=s.result;o.src=await a?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=s.onerror=h});s.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Un(i),r=null}return x(this,As).set(e,r),r&&x(this,As).set(r.id,r),r};let rE=vC;var Wi,yd,x2,Si;class EU{constructor(e=128){ne(this,Wi,[]);ne(this,yd,!1);ne(this,x2);ne(this,Si,-1);X(this,x2,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),x(this,yd))return;const c={cmd:e,undo:t,post:r,type:a};if(x(this,Si)===-1){x(this,Wi).length>0&&(x(this,Wi).length=0),X(this,Si,0),x(this,Wi).push(c);return}if(s&&x(this,Wi)[x(this,Si)].type===a){o&&(c.undo=x(this,Wi)[x(this,Si)].undo),x(this,Wi)[x(this,Si)]=c;return}const u=x(this,Si)+1;u===x(this,x2)?x(this,Wi).splice(0,1):(X(this,Si,u),u<x(this,Wi).length&&x(this,Wi).splice(u)),x(this,Wi).push(c)}undo(){if(x(this,Si)===-1)return;X(this,yd,!0);const{undo:e,post:t}=x(this,Wi)[x(this,Si)];e(),t==null||t(),X(this,yd,!1),X(this,Si,x(this,Si)-1)}redo(){if(x(this,Si)<x(this,Wi).length-1){X(this,Si,x(this,Si)+1),X(this,yd,!0);const{cmd:e,post:t}=x(this,Wi)[x(this,Si)];e(),t==null||t(),X(this,yd,!1)}}hasSomethingToUndo(){return x(this,Si)!==-1}hasSomethingToRedo(){return x(this,Si)<x(this,Wi).length-1}cleanType(e){if(x(this,Si)!==-1){for(let t=x(this,Si);t>=0;t--)if(x(this,Wi)[t].type!==e){x(this,Wi).splice(t+1,x(this,Si)-t),X(this,Si,t);return}x(this,Wi).length=0,X(this,Si,-1)}}destroy(){X(this,Wi,null)}}Wi=new WeakMap,yd=new WeakMap,x2=new WeakMap,Si=new WeakMap;var H_,JL;class zy{constructor(e){ne(this,H_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=no.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(ae(this,H_,JL).call(this,t));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...s,t)(),a||ml(t))}}H_=new WeakSet,JL=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const z_=class z_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return _U(e),Yn(this,"_colors",e)}convert(e){const t=u4(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((a,s)=>a===t[s]))return z_._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?sn.makeHexColor(...t):e}};Mt(z_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let iE=z_;var n1,el,Aa,rs,r1,Gf,i1,ql,bd,Q0,a1,ep,Ou,Bc,tp,y2,b2,s1,w2,Bu,wd,o1,_d,Uu,j_,Sd,_2,Ad,np,S2,A2,Fa,Rr,qf,rp,E2,T2,Ed,Hu,Vf,C2,Vl,Ft,Aw,aE,ZL,QL,Ew,eI,tI,nI,sE,rI,oE,lE,iI,Xs,Bf,aI,sI,cE,oI,ux,uE;const Bm=class Bm{constructor(e,t,r,i,a,s,o,c,u,h,p,g,m){ne(this,Ft);ne(this,n1,new AbortController);ne(this,el,null);ne(this,Aa,new Map);ne(this,rs,new Map);ne(this,r1,null);ne(this,Gf,null);ne(this,i1,null);ne(this,ql,new EU);ne(this,bd,null);ne(this,Q0,null);ne(this,a1,0);ne(this,ep,new Set);ne(this,Ou,null);ne(this,Bc,null);ne(this,tp,new Set);Mt(this,"_editorUndoBar",null);ne(this,y2,!1);ne(this,b2,!1);ne(this,s1,!1);ne(this,w2,null);ne(this,Bu,null);ne(this,wd,null);ne(this,o1,null);ne(this,_d,!1);ne(this,Uu,null);ne(this,j_,new AU);ne(this,Sd,!1);ne(this,_2,!1);ne(this,Ad,null);ne(this,np,null);ne(this,S2,null);ne(this,A2,null);ne(this,Fa,Bn.NONE);ne(this,Rr,new Set);ne(this,qf,null);ne(this,rp,null);ne(this,E2,null);ne(this,T2,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ne(this,Ed,[0,0]);ne(this,Hu,null);ne(this,Vf,null);ne(this,C2,null);ne(this,Vl,null);const w=this._signal=x(this,n1).signal;X(this,Vf,e),X(this,C2,t),X(this,r1,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:w}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),i._on("setpreference",this.onSetPreference.bind(this),{signal:w}),i._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:w}),ae(this,Ft,eI).call(this),ae(this,Ft,iI).call(this),ae(this,Ft,sE).call(this),X(this,Gf,a.annotationStorage),X(this,w2,a.filterFactory),X(this,rp,s),X(this,o1,o||null),X(this,y2,c),X(this,b2,u),X(this,s1,h),X(this,A2,p||null),this.viewParameters={realScale:Qd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=Bm.prototype,t=s=>x(s,Vf).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new zy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&x(s,Vf).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&x(s,Vf).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,r,i,a;(e=x(this,Vl))==null||e.resolve(),X(this,Vl,null),(t=x(this,n1))==null||t.abort(),X(this,n1,null),this._signal=null;for(const s of x(this,rs).values())s.destroy();x(this,rs).clear(),x(this,Aa).clear(),x(this,tp).clear(),X(this,el,null),x(this,Rr).clear(),x(this,ql).destroy(),(r=x(this,r1))==null||r.destroy(),(i=x(this,Uu))==null||i.hide(),X(this,Uu,null),x(this,Bu)&&(clearTimeout(x(this,Bu)),X(this,Bu,null)),x(this,Hu)&&(clearTimeout(x(this,Hu)),X(this,Hu,null)),(a=this._editorUndoBar)==null||a.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return x(this,A2)}get useNewAltTextFlow(){return x(this,b2)}get useNewAltTextWhenAddingImage(){return x(this,s1)}get hcmFilter(){return Yn(this,"hcmFilter",x(this,rp)?x(this,w2).addHCMFilter(x(this,rp).foreground,x(this,rp).background):"none")}get direction(){return Yn(this,"direction",getComputedStyle(x(this,Vf)).direction)}get highlightColors(){return Yn(this,"highlightColors",x(this,o1)?new Map(x(this,o1).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),X(this,Q0,e)}setMainHighlightColorPicker(e){X(this,S2,e)}editAltText(e,t=!1){var r;(r=x(this,r1))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":X(this,s1,t);break}}onPageChanging({pageNumber:e}){X(this,a1,e-1)}focusMainContainer(){x(this,Vf).focus()}findParent(e,t){for(const r of x(this,rs).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=a&&t<=a+o)return r}return null}disableUserSelect(e=!1){x(this,C2).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,tp).add(e)}removeShouldRescale(e){x(this,tp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Qd.PDF_TO_CSS_UNITS;for(const r of x(this,tp))r.onScaleChanging();(t=x(this,Q0))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s}=t,o=t.toString(),u=ae(this,Ft,Aw).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;t.empty();const p=ae(this,Ft,aE).call(this,u),g=x(this,Fa)===Bn.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(Bn.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&x(this,Gf)&&!x(this,Gf).has(e.id)&&x(this,Gf).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,_d)&&(X(this,_d,!1),ae(this,Ft,Ew).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of x(this,Rr))if(t.div.contains(e)){X(this,np,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!x(this,np))return;const[e,t]=x(this,np);X(this,np,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ae(this,Ft,sE).call(this),ae(this,Ft,oE).call(this)}removeEditListeners(){ae(this,Ft,rI).call(this),ae(this,Ft,lE).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of x(this,Bc))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of x(this,Bc))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=x(this,el))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of x(this,Rr)){const a=i.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const s of x(this,Bc))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Un(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const u=await i.deserialize(c);if(!u)return;a.push(u)}const s=()=>{for(const c of a)ae(this,Ft,cE).call(this,c);ae(this,Ft,uE).call(this,a)},o=()=>{for(const c of a)c.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){Un(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,Fa)!==Bn.NONE&&!this.isEditorHandlingKeyboard&&Bm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,_d)&&(X(this,_d,!1),ae(this,Ft,Ew).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ae(this,Ft,tI).call(this),ae(this,Ft,oE).call(this),ae(this,Ft,Xs).call(this,{isEditing:x(this,Fa)!==Bn.NONE,isEmpty:ae(this,Ft,ux).call(this),hasSomethingToUndo:x(this,ql).hasSomethingToUndo(),hasSomethingToRedo:x(this,ql).hasSomethingToRedo(),hasSelectedEditor:!1})):(ae(this,Ft,nI).call(this),ae(this,Ft,lE).call(this),ae(this,Ft,Xs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,Bc)){X(this,Bc,e);for(const t of x(this,Bc))ae(this,Ft,Bf).call(this,t.defaultPropertiesToUpdate)}}getId(){return x(this,j_).id}get currentLayer(){return x(this,rs).get(x(this,a1))}getLayer(e){return x(this,rs).get(e)}get currentPageIndex(){return x(this,a1)}addLayer(e){x(this,rs).set(e.pageIndex,e),x(this,Sd)?e.enable():e.disable()}removeLayer(e){x(this,rs).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){var i;if(x(this,Fa)!==e&&!(x(this,Vl)&&(await x(this,Vl).promise,!x(this,Vl)))){if(X(this,Vl,Promise.withResolvers()),X(this,Fa,e),e===Bn.NONE){this.setEditingState(!1),ae(this,Ft,sI).call(this),(i=this._editorUndoBar)==null||i.hide(),x(this,Vl).resolve();return}this.setEditingState(!0),await ae(this,Ft,aI).call(this),this.unselectAll();for(const a of x(this,rs).values())a.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),x(this,Vl).resolve();return}for(const a of x(this,Aa).values())a.annotationElementId===t?(this.setSelected(a),a.enterInEditMode()):a.unselect();x(this,Vl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,Fa)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(x(this,Bc)){switch(e){case ir.CREATE:this.currentLayer.addNewEditor();return;case ir.HIGHLIGHT_DEFAULT_COLOR:(r=x(this,S2))==null||r.updateColor(t);break;case ir.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,E2)||X(this,E2,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of x(this,Rr))i.updateParams(e,t);for(const i of x(this,Bc))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var a;for(const s of x(this,Aa).values())s.editorType===e&&s.show(t);(((a=x(this,E2))==null?void 0:a.get(ir.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ae(this,Ft,Bf).call(this,[[ir.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(x(this,_2)!==e){X(this,_2,e);for(const t of x(this,rs).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of x(this,Aa).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return x(this,Aa).get(e)}addEditor(e){x(this,Aa).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(x(this,Bu)&&clearTimeout(x(this,Bu)),X(this,Bu,setTimeout(()=>{this.focusMainContainer(),X(this,Bu,null)},0))),x(this,Aa).delete(e.id),this.unselect(e),(!e.annotationElementId||!x(this,ep).has(e.annotationElementId))&&((t=x(this,Gf))==null||t.remove(e.id))}addDeletedAnnotationElement(e){x(this,ep).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,ep).has(e)}removeDeletedAnnotationElement(e){x(this,ep).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,el)!==e&&(X(this,el,e),e&&ae(this,Ft,Bf).call(this,e.propertiesToUpdate))}updateUI(e){x(this,Ft,oI)===e&&ae(this,Ft,Bf).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ae(this,Ft,Bf).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(x(this,Rr).has(e)){x(this,Rr).delete(e),e.unselect(),ae(this,Ft,Xs).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,Rr).add(e),e.select(),ae(this,Ft,Bf).call(this,e.propertiesToUpdate),ae(this,Ft,Xs).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=x(this,Q0))==null||t.commitOrRemove();for(const r of x(this,Rr))r!==e&&r.unselect();x(this,Rr).clear(),x(this,Rr).add(e),e.select(),ae(this,Ft,Bf).call(this,e.propertiesToUpdate),ae(this,Ft,Xs).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,Rr).has(e)}get firstSelectedEditor(){return x(this,Rr).values().next().value}unselect(e){e.unselect(),x(this,Rr).delete(e),ae(this,Ft,Xs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,Rr).size!==0}get isEnterHandled(){return x(this,Rr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;x(this,ql).undo(),ae(this,Ft,Xs).call(this,{hasSomethingToUndo:x(this,ql).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ae(this,Ft,ux).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){x(this,ql).redo(),ae(this,Ft,Xs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,ql).hasSomethingToRedo(),isEmpty:ae(this,Ft,ux).call(this)})}addCommands(e){x(this,ql).add(e),ae(this,Ft,Xs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ae(this,Ft,ux).call(this)})}cleanUndoStack(e){x(this,ql).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...x(this,Rr)],r=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const s of t)ae(this,Ft,cE).call(this,s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=x(this,el))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,el)||this.hasSelection}selectAll(){for(const e of x(this,Rr))e.commit();ae(this,Ft,uE).call(this,x(this,Aa).values())}unselectAll(){var e;if(!(x(this,el)&&(x(this,el).commitOrRemove(),x(this,Fa)!==Bn.NONE))&&!((e=x(this,Q0))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear(),ae(this,Ft,Xs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;x(this,Ed)[0]+=e,x(this,Ed)[1]+=t;const[i,a]=x(this,Ed),s=[...x(this,Rr)],o=1e3;x(this,Hu)&&clearTimeout(x(this,Hu)),X(this,Hu,setTimeout(()=>{X(this,Hu,null),x(this,Ed)[0]=x(this,Ed)[1]=0,this.addCommands({cmd:()=>{for(const c of s)x(this,Aa).has(c.id)&&c.translateInPage(i,a)},undo:()=>{for(const c of s)x(this,Aa).has(c.id)&&c.translateInPage(-i,-a)},mustExec:!1})},o));for(const c of s)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),X(this,Ou,new Map);for(const e of x(this,Rr))x(this,Ou).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,Ou))return!1;this.disableUserSelect(!1);const e=x(this,Ou);X(this,Ou,null);let t=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,t||(t=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!t)return!1;const r=(i,a,s,o)=>{if(x(this,Aa).has(i.id)){const c=x(this,rs).get(o);c?i._setParentAndPosition(c,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(x(this,Ou))for(const r of x(this,Ou).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,Rr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,el)===e}getActive(){return x(this,el)}getMode(){return x(this,Fa)}get imageManager(){return Yn(this,"imageManager",new rE)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,p,g)=>({x:(h-i)/s,y:1-(u+p-r)/a,width:g/s,height:p/a});break;case"180":o=(u,h,p,g)=>({x:1-(u+p-r)/a,y:1-(h+g-i)/s,width:p/a,height:g/s});break;case"270":o=(u,h,p,g)=>({x:1-(h+g-i)/s,y:(u-r)/a,width:g/s,height:p/a});break;default:o=(u,h,p,g)=>({x:(u-r)/a,y:(h-i)/s,width:p/a,height:g/s});break}const c=[];for(let u=0,h=t.rangeCount;u<h;u++){const p=t.getRangeAt(u);if(!p.collapsed)for(const{x:g,y:m,width:w,height:y}of p.getClientRects())w===0||y===0||c.push(o(g,m,w,y))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(x(this,i1)||X(this,i1,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=x(this,i1))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=x(this,i1))==null?void 0:i.get(e.data.id);if(!t)return;const r=x(this,Gf).getRawValue(t);r&&(x(this,Fa)===Bn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};n1=new WeakMap,el=new WeakMap,Aa=new WeakMap,rs=new WeakMap,r1=new WeakMap,Gf=new WeakMap,i1=new WeakMap,ql=new WeakMap,bd=new WeakMap,Q0=new WeakMap,a1=new WeakMap,ep=new WeakMap,Ou=new WeakMap,Bc=new WeakMap,tp=new WeakMap,y2=new WeakMap,b2=new WeakMap,s1=new WeakMap,w2=new WeakMap,Bu=new WeakMap,wd=new WeakMap,o1=new WeakMap,_d=new WeakMap,Uu=new WeakMap,j_=new WeakMap,Sd=new WeakMap,_2=new WeakMap,Ad=new WeakMap,np=new WeakMap,S2=new WeakMap,A2=new WeakMap,Fa=new WeakMap,Rr=new WeakMap,qf=new WeakMap,rp=new WeakMap,E2=new WeakMap,T2=new WeakMap,Ed=new WeakMap,Hu=new WeakMap,Vf=new WeakMap,C2=new WeakMap,Vl=new WeakMap,Ft=new WeakSet,Aw=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},aE=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of x(this,rs).values())if(r.hasTextLayer(e))return r;return null},ZL=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ae(this,Ft,Aw).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(x(this,Uu)||X(this,Uu,new SU(this)),x(this,Uu).show(r,i,this.direction==="ltr"))},QL=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){x(this,qf)&&((a=x(this,Uu))==null||a.hide(),X(this,qf,null),ae(this,Ft,Xs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===x(this,qf))return;const i=ae(this,Ft,Aw).call(this,e).closest(".textLayer");if(!i){x(this,qf)&&((s=x(this,Uu))==null||s.hide(),X(this,qf,null),ae(this,Ft,Xs).call(this,{hasSelectedText:!1}));return}if((o=x(this,Uu))==null||o.hide(),X(this,qf,t),ae(this,Ft,Xs).call(this,{hasSelectedText:!0}),!(x(this,Fa)!==Bn.HIGHLIGHT&&x(this,Fa)!==Bn.NONE)&&(x(this,Fa)===Bn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),X(this,_d,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=x(this,Fa)===Bn.HIGHLIGHT?ae(this,Ft,aE).call(this,i):null;c==null||c.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),p=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),g.type==="pointerup"&&ae(this,Ft,Ew).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},Ew=function(e=""){x(this,Fa)===Bn.HIGHLIGHT?this.highlightSelection(e):x(this,y2)&&ae(this,Ft,ZL).call(this)},eI=function(){document.addEventListener("selectionchange",ae(this,Ft,QL).bind(this),{signal:this._signal})},tI=function(){if(x(this,wd))return;X(this,wd,new AbortController);const e=this.combinedSignal(x(this,wd));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},nI=function(){var e;(e=x(this,wd))==null||e.abort(),X(this,wd,null)},sE=function(){if(x(this,Ad))return;X(this,Ad,new AbortController);const e=this.combinedSignal(x(this,Ad));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},rI=function(){var e;(e=x(this,Ad))==null||e.abort(),X(this,Ad,null)},oE=function(){if(x(this,bd))return;X(this,bd,new AbortController);const e=this.combinedSignal(x(this,bd));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},lE=function(){var e;(e=x(this,bd))==null||e.abort(),X(this,bd,null)},iI=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Xs=function(e){Object.entries(e).some(([r,i])=>x(this,T2)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,T2),e)}),x(this,Fa)===Bn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ae(this,Ft,Bf).call(this,[[ir.HIGHLIGHT_FREE,!0]]))},Bf=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},aI=async function(){if(!x(this,Sd)){X(this,Sd,!0);const e=[];for(const t of x(this,rs).values())e.push(t.enable());await Promise.all(e);for(const t of x(this,Aa).values())t.enable()}},sI=function(){if(this.unselectAll(),x(this,Sd)){X(this,Sd,!1);for(const e of x(this,rs).values())e.disable();for(const e of x(this,Aa).values())e.disable()}},cE=function(e){const t=x(this,rs).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},oI=function(){let e=null;for(e of x(this,Rr));return e},ux=function(){if(x(this,Aa).size===0)return!0;if(x(this,Aa).size===1)for(const e of x(this,Aa).values())return e.isEmpty();return!1},uE=function(e){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear();for(const t of e)t.isEmpty()||(x(this,Rr).add(t),t.select());ae(this,Ft,Xs).call(this,{hasSelectedEditor:this.hasSelection})},Mt(Bm,"TRANSLATE_SMALL",1),Mt(Bm,"TRANSLATE_BIG",10);let ag=Bm;var Pa,zu,Uc,l1,ju,tl,c1,Gu,Ro,Wf,ip,qu,Td,Qc,fx,Tw;const Ys=class Ys{constructor(e){ne(this,Qc);ne(this,Pa,null);ne(this,zu,!1);ne(this,Uc,null);ne(this,l1,null);ne(this,ju,null);ne(this,tl,null);ne(this,c1,!1);ne(this,Gu,null);ne(this,Ro,null);ne(this,Wf,null);ne(this,ip,null);ne(this,qu,!1);X(this,Ro,e),X(this,qu,e._uiManager.useNewAltTextFlow),x(Ys,Td)||X(Ys,Td,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ys._l10n??(Ys._l10n=e)}async render(){const e=X(this,Uc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=X(this,l1,document.createElement("span"));e.append(t),x(this,qu)?(e.classList.add("new"),e.setAttribute("data-l10n-id",x(Ys,Td).missing),t.setAttribute("data-l10n-id",x(Ys,Td)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=x(this,Ro)._uiManager._signal;e.addEventListener("contextmenu",iu,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),x(this,Ro)._uiManager.editAltText(x(this,Ro)),x(this,qu)&&x(this,Ro)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:x(this,Qc,fx)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(X(this,c1,!0),i(a))},{signal:r}),await ae(this,Qc,Tw).call(this),e}finish(){x(this,Uc)&&(x(this,Uc).focus({focusVisible:x(this,c1)}),X(this,c1,!1))}isEmpty(){return x(this,qu)?x(this,Pa)===null:!x(this,Pa)&&!x(this,zu)}hasData(){return x(this,qu)?x(this,Pa)!==null||!!x(this,Wf):this.isEmpty()}get guessedText(){return x(this,Wf)}async setGuessedText(e){x(this,Pa)===null&&(X(this,Wf,e),X(this,ip,await Ys._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ae(this,Qc,Tw).call(this))}toggleAltTextBadge(e=!1){var t;if(!x(this,qu)||x(this,Pa)){(t=x(this,Gu))==null||t.remove(),X(this,Gu,null);return}if(!x(this,Gu)){const r=X(this,Gu,document.createElement("div"));r.className="noAltTextBadge",x(this,Ro).div.append(r)}x(this,Gu).classList.toggle("hidden",!e)}serialize(e){let t=x(this,Pa);return!e&&x(this,Wf)===t&&(t=x(this,ip)),{altText:t,decorative:x(this,zu),guessedText:x(this,Wf),textWithDisclaimer:x(this,ip)}}get data(){return{altText:x(this,Pa),decorative:x(this,zu)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(X(this,Wf,r),X(this,ip,i)),!(x(this,Pa)===e&&x(this,zu)===t)&&(a||(X(this,Pa,e),X(this,zu,t)),ae(this,Qc,Tw).call(this))}toggle(e=!1){x(this,Uc)&&(!e&&x(this,tl)&&(clearTimeout(x(this,tl)),X(this,tl,null)),x(this,Uc).disabled=!e)}shown(){x(this,Ro)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:x(this,Qc,fx)}})}destroy(){var e,t;(e=x(this,Uc))==null||e.remove(),X(this,Uc,null),X(this,l1,null),X(this,ju,null),(t=x(this,Gu))==null||t.remove(),X(this,Gu,null)}};Pa=new WeakMap,zu=new WeakMap,Uc=new WeakMap,l1=new WeakMap,ju=new WeakMap,tl=new WeakMap,c1=new WeakMap,Gu=new WeakMap,Ro=new WeakMap,Wf=new WeakMap,ip=new WeakMap,qu=new WeakMap,Td=new WeakMap,Qc=new WeakSet,fx=function(){return x(this,Pa)&&"added"||x(this,Pa)===null&&this.guessedText&&"review"||"missing"},Tw=async function(){var i,a,s;const e=x(this,Uc);if(!e)return;if(x(this,qu)){if(e.classList.toggle("done",!!x(this,Pa)),e.setAttribute("data-l10n-id",x(Ys,Td)[x(this,Qc,fx)]),(i=x(this,l1))==null||i.setAttribute("data-l10n-id",x(Ys,Td)[`${x(this,Qc,fx)}-label`]),!x(this,Pa)){(a=x(this,ju))==null||a.remove();return}}else{if(!x(this,Pa)&&!x(this,zu)){e.classList.remove("done"),(s=x(this,ju))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=x(this,ju);if(!t){X(this,ju,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${x(this,Ro).id}`;const o=100,c=x(this,Ro)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(x(this,tl)),X(this,tl,null)},{once:!0}),e.addEventListener("mouseenter",()=>{X(this,tl,setTimeout(()=>{X(this,tl,null),x(this,ju).classList.add("show"),x(this,Ro)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;x(this,tl)&&(clearTimeout(x(this,tl)),X(this,tl,null)),(u=x(this,ju))==null||u.classList.remove("show")},{signal:c})}x(this,zu)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=x(this,Pa)),t.parentNode||e.append(t);const r=x(this,Ro).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ne(Ys,Td,null),Mt(Ys,"_l10n",null);let o_=Ys;var k2,ap,N2,R2,L2,I2,M2,u1,Xf,sp,Cd,Eh,lI,cI,fE;const xC=class xC{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){ne(this,Eh);ne(this,k2);ne(this,ap,!1);ne(this,N2,null);ne(this,R2);ne(this,L2);ne(this,I2);ne(this,M2);ne(this,u1);ne(this,Xf,null);ne(this,sp);ne(this,Cd,null);X(this,k2,e),X(this,N2,r),X(this,R2,t),X(this,L2,i),X(this,I2,a),X(this,M2,s),X(this,sp,new AbortController),X(this,u1,AbortSignal.any([o,x(this,sp).signal])),e.addEventListener("touchstart",ae(this,Eh,lI).bind(this),{passive:!1,signal:x(this,u1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Yn(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=x(this,sp))==null||e.abort(),X(this,sp,null)}};k2=new WeakMap,ap=new WeakMap,N2=new WeakMap,R2=new WeakMap,L2=new WeakMap,I2=new WeakMap,M2=new WeakMap,u1=new WeakMap,Xf=new WeakMap,sp=new WeakMap,Cd=new WeakMap,Eh=new WeakSet,lI=function(e){var i,a,s;if((i=x(this,R2))!=null&&i.call(this)||e.touches.length<2)return;if(!x(this,Cd)){X(this,Cd,new AbortController);const o=AbortSignal.any([x(this,u1),x(this,Cd).signal]),c=x(this,k2),u={signal:o,passive:!1};c.addEventListener("touchmove",ae(this,Eh,cI).bind(this),u),c.addEventListener("touchend",ae(this,Eh,fE).bind(this),u),c.addEventListener("touchcancel",ae(this,Eh,fE).bind(this),u),(a=x(this,L2))==null||a.call(this)}if(ml(e),e.touches.length!==2||(s=x(this,N2))!=null&&s.call(this)){X(this,Xf,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),X(this,Xf,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},cI=function(e){var D;if(!x(this,Xf)||e.touches.length!==2)return;let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:a}=t,{screenX:s,screenY:o}=r,c=x(this,Xf),{touch0X:u,touch0Y:h,touch1X:p,touch1Y:g}=c,m=p-u,w=g-h,y=s-i,S=o-a,C=Math.hypot(y,S)||1,L=Math.hypot(m,w)||1;if(!x(this,ap)&&Math.abs(L-C)<=xC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=s,c.touch1Y=o,e.preventDefault(),!x(this,ap)){X(this,ap,!0);return}const R=[(i+s)/2,(a+o)/2];(D=x(this,I2))==null||D.call(this,R,L,C)},fE=function(e){var t;x(this,Cd).abort(),X(this,Cd,null),(t=x(this,M2))==null||t.call(this),x(this,Xf)&&(e.preventDefault(),X(this,Xf,null),X(this,ap,!1))};let l_=xC;var op,Hc,ii,f1,kd,D2,lp,is,cp,Yf,Nd,F2,up,nl,P2,fp,$f,Vu,h1,d1,Wl,hp,O2,G_,yn,hE,B2,dE,Cw,uI,fI,pE,kw,gE,hI,dI,pI,mE,gI,vE,mI,vI,xI,xE,hx;const jn=class jn{constructor(e){ne(this,yn);ne(this,op,null);ne(this,Hc,null);ne(this,ii,null);ne(this,f1,!1);ne(this,kd,null);ne(this,D2,"");ne(this,lp,!1);ne(this,is,null);ne(this,cp,null);ne(this,Yf,null);ne(this,Nd,null);ne(this,F2,"");ne(this,up,!1);ne(this,nl,null);ne(this,P2,!1);ne(this,fp,!1);ne(this,$f,!1);ne(this,Vu,null);ne(this,h1,0);ne(this,d1,0);ne(this,Wl,null);ne(this,hp,null);Mt(this,"_editToolbar",null);Mt(this,"_initialOptions",Object.create(null));Mt(this,"_initialData",null);Mt(this,"_isVisible",!0);Mt(this,"_uiManager",null);Mt(this,"_focusEventsAllowed",!0);ne(this,O2,!1);ne(this,G_,jn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=jn.prototype._resizeWithKeyboard,t=ag.TRANSLATE_SMALL,r=ag.TRANSLATE_BIG;return Yn(this,"_resizerKeyboardManager",new zy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],jn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new TU({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(jn._l10n??(jn._l10n=e),jn._l10nResizer||(jn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);jn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Kr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,O2)}set _isDraggable(e){var t;X(this,O2,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,G_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ae(this,yn,hx).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,up)?X(this,up,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(t+i)/s,this.fixAndSetPosition()}translate(e,t){ae(this,yn,hE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){x(this,nl)||X(this,nl,[this.x,this.y,this.width,this.height]),ae(this,yn,hE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){x(this,nl)||X(this,nl,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[c,u]=this.getBaseTranslation();s+=c,o+=u;const{style:h}=r;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!x(this,nl)&&(x(this,nl)[0]!==this.x||x(this,nl)[1]!==this.y)}get _hasBeenResized(){return!!x(this,nl)&&(x(this,nl)[2]!==this.width||x(this,nl)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=jn,i=r/e,a=r/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:a,y:s,width:o,height:c}=this;if(o*=r,c*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(r-o,a)),s=Math.max(0,Math.min(i-c,s));break;case 90:a=Math.max(0,Math.min(r-c,a)),s=Math.min(i,Math.max(o,s));break;case 180:a=Math.min(r,Math.max(o,a)),s=Math.min(i,Math.max(c,s));break;case 270:a=Math.min(r,Math.max(c,a)),s=Math.max(0,Math.min(i-o,s));break}this.x=a/=r,this.y=s/=i;const[u,h]=this.getBaseTranslation();a+=u,s+=h,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return ae(r=jn,B2,dE).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return ae(r=jn,B2,dE).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/r).toFixed(2)}%`,x(this,lp)||(a.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),a=!x(this,lp)&&t.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!x(this,lp)&&!a&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=x(this,ii))==null||e.finish()}async addEditToolbar(){return this._editToolbar||x(this,fp)?this._editToolbar:(this._editToolbar=new tE(this),this.div.append(this._editToolbar.render()),x(this,ii)&&await this._editToolbar.addAltText(x(this,ii)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=x(this,ii))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,ii)||(o_.initialize(jn._l10n),X(this,ii,new o_(this)),x(this,op)&&(x(this,ii).data=x(this,op),X(this,op,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,ii))==null?void 0:e.data}set altTextData(e){x(this,ii)&&(x(this,ii).data=e)}get guessedAltText(){var e;return(e=x(this,ii))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=x(this,ii))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=x(this,ii))==null?void 0:t.serialize(e)}hasAltText(){return!!x(this,ii)&&!x(this,ii).isEmpty()}hasAltTextData(){var e;return((e=x(this,ii))==null?void 0:e.hasData())??!1}render(){var a;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=x(this,f1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ae(this,yn,vE).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),s_(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(x(this,hp)||X(this,hp,new l_({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ae(this,yn,hI).bind(this),onPinching:ae(this,yn,dI).bind(this),onPinchEnd:ae(this,yn,pI).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),this.div}pointerdown(e){const{isMac:t}=no.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(X(this,up,!0),this._isDraggable){ae(this,yn,gI).call(this,e);return}ae(this,yn,mE).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){x(this,Vu)&&clearTimeout(x(this,Vu)),X(this,Vu,setTimeout(()=>{var e;X(this,Vu,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/i,h=t/i,p=this.x*a,g=this.y*s,m=this.width*a,w=this.height*s;switch(r){case 0:return[p+u+o,s-g-h-w+c,p+u+m+o,s-g-h+c];case 90:return[p+h+o,s-g+u+c,p+h+w+o,s-g+u+m+c];case 180:return[p-u-m+o,s-g+h+c,p-u+o,s-g+h+w+c];case 270:return[p-h-w+o,s-g-u-m+c,p-h+o,s-g-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,a,s]=e,o=a-r,c=s-i;switch(this.rotation){case 0:return[r,t-s,o,c];case 90:return[r,t-i,c,o];case 180:return[a,t-i,o,c];case 270:return[a,t-s,c,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){X(this,fp,!0)}disableEditMode(){X(this,fp,!1)}isInEditMode(){return x(this,fp)}shouldGetKeyboardEvents(){return x(this,$f)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return t<s&&i>0&&e<a&&r>0}rebuild(){ae(this,yn,vE).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Kr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,X(i,op,e.accessibilityData);const[a,s]=i.pageDimensions,[o,c,u,h]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=c/s,i.width=u/a,i.height=h/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=x(this,Nd))==null||e.abort(),X(this,Nd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,Vu)&&(clearTimeout(x(this,Vu)),X(this,Vu,null)),ae(this,yn,hx).call(this),this.removeEditToolbar(),x(this,Wl)){for(const r of x(this,Wl).values())clearTimeout(r);X(this,Wl,null)}this.parent=null,(t=x(this,hp))==null||t.destroy(),X(this,hp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ae(this,yn,uI).call(this),x(this,is).classList.remove("hidden"),s_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),X(this,Yf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=x(this,is).children;if(!x(this,Hc)){X(this,Hc,Array.from(t));const s=ae(this,yn,mI).bind(this),o=ae(this,yn,vI).bind(this),c=this._uiManager._signal;for(const u of x(this,Hc)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",ae(this,yn,xI).bind(this,h),{signal:c}),u.setAttribute("data-l10n-id",jn._l10nResizer[h])}}const r=x(this,Hc)[0];let i=0;for(const s of t){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(x(this,Hc).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)x(this,is).append(x(this,is).firstChild);else if(a>i)for(let o=0;o<a-i;o++)x(this,is).firstChild.before(x(this,is).lastChild);let s=0;for(const o of t){const u=x(this,Hc)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",jn._l10nResizer[u])}}ae(this,yn,xE).call(this,0),X(this,$f,!0),x(this,is).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){x(this,$f)&&ae(this,yn,gE).call(this,x(this,F2),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ae(this,yn,hx).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(r=x(this,ii))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,a;(e=x(this,is))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=x(this,ii))==null||a.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return x(this,P2)}set isEditing(e){X(this,P2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){X(this,lp,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){x(this,Wl)||X(this,Wl,new Map);const{action:r}=e;let i=x(this,Wl).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),x(this,Wl).delete(r),x(this,Wl).size===0&&X(this,Wl,null)},jn._telemetryTimeout),x(this,Wl).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),X(this,f1,!1)}disable(){this.div&&(this.div.tabIndex=-1),X(this,f1,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};op=new WeakMap,Hc=new WeakMap,ii=new WeakMap,f1=new WeakMap,kd=new WeakMap,D2=new WeakMap,lp=new WeakMap,is=new WeakMap,cp=new WeakMap,Yf=new WeakMap,Nd=new WeakMap,F2=new WeakMap,up=new WeakMap,nl=new WeakMap,P2=new WeakMap,fp=new WeakMap,$f=new WeakMap,Vu=new WeakMap,h1=new WeakMap,d1=new WeakMap,Wl=new WeakMap,hp=new WeakMap,O2=new WeakMap,G_=new WeakMap,yn=new WeakSet,hE=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},B2=new WeakSet,dE=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Cw=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},uI=function(){if(x(this,is))return;X(this,is,document.createElement("div")),x(this,is).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");x(this,is).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ae(this,yn,fI).bind(this,r),{signal:t}),i.addEventListener("contextmenu",iu,{signal:t}),i.tabIndex=-1}this.div.prepend(x(this,is))},fI=function(e,t){var h;t.preventDefault();const{isMac:r}=no.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=x(this,ii))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,X(this,cp,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ae(this,yn,gE).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",ml,{passive:!1,signal:s}),window.addEventListener("contextmenu",iu,{signal:s}),X(this,Yf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=x(this,ii))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=c,ae(this,yn,kw).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},pE=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[a,s]=this.parentDimensions;this.setDims(a*r,s*i),this.fixAndSetPosition(),this._onResized()},kw=function(){if(!x(this,Yf))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=x(this,Yf);X(this,Yf,null);const a=this.x,s=this.y,o=this.width,c=this.height;a===e&&s===t&&o===r&&c===i||this.addCommands({cmd:ae(this,yn,pE).bind(this,a,s,o,c),undo:ae(this,yn,pE).bind(this,e,t,r,i),mustExec:!0})},gE=function(e,t){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,c=this.height,u=jn.MIN_SIZE/r,h=jn.MIN_SIZE/i,p=ae(this,yn,Cw).call(this,this.rotation),g=(K,le)=>[p[0]*K+p[2]*le,p[1]*K+p[3]*le],m=ae(this,yn,Cw).call(this,360-this.rotation),w=(K,le)=>[m[0]*K+m[2]*le,m[1]*K+m[3]*le];let y,S,C=!1,L=!1;switch(e){case"topLeft":C=!0,y=(K,le)=>[0,0],S=(K,le)=>[K,le];break;case"topMiddle":y=(K,le)=>[K/2,0],S=(K,le)=>[K/2,le];break;case"topRight":C=!0,y=(K,le)=>[K,0],S=(K,le)=>[0,le];break;case"middleRight":L=!0,y=(K,le)=>[K,le/2],S=(K,le)=>[0,le/2];break;case"bottomRight":C=!0,y=(K,le)=>[K,le],S=(K,le)=>[0,0];break;case"bottomMiddle":y=(K,le)=>[K/2,le],S=(K,le)=>[K/2,0];break;case"bottomLeft":C=!0,y=(K,le)=>[0,le],S=(K,le)=>[K,0];break;case"middleLeft":L=!0,y=(K,le)=>[0,le/2],S=(K,le)=>[K,le/2];break}const R=y(o,c),D=S(o,c);let z=g(...D);const q=jn._round(a+z[0]),P=jn._round(s+z[1]);let W=1,O=1,Q,B;if(t.fromKeyboard)({deltaX:Q,deltaY:B}=t);else{const{screenX:K,screenY:le}=t,[Te,ge]=x(this,cp);[Q,B]=this.screenToPageTranslation(K-Te,le-ge),x(this,cp)[0]=K,x(this,cp)[1]=le}if([Q,B]=w(Q/r,B/i),C){const K=Math.hypot(o,c);W=O=Math.max(Math.min(Math.hypot(D[0]-R[0]-Q,D[1]-R[1]-B)/K,1/o,1/c),u/o,h/c)}else L?W=Math.max(u,Math.min(1,Math.abs(D[0]-R[0]-Q)))/o:O=Math.max(h,Math.min(1,Math.abs(D[1]-R[1]-B)))/c;const j=jn._round(o*W),ee=jn._round(c*O);z=g(...S(j,ee));const fe=q-z[0],ue=P-z[1];x(this,nl)||X(this,nl,[this.x,this.y,this.width,this.height]),this.width=j,this.height=ee,this.x=fe,this.y=ue,this.setDims(r*j,i*ee),this.fixAndSetPosition(),this._onResizing()},hI=function(){var e;X(this,Yf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=x(this,ii))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},dI=function(e,t,r){let a=.7*(r/t)+1-.7;if(a===1)return;const s=ae(this,yn,Cw).call(this,this.rotation),o=(q,P)=>[s[0]*q+s[2]*P,s[1]*q+s[3]*P],[c,u]=this.parentDimensions,h=this.x,p=this.y,g=this.width,m=this.height,w=jn.MIN_SIZE/c,y=jn.MIN_SIZE/u;a=Math.max(Math.min(a,1/g,1/m),w/g,y/m);const S=jn._round(g*a),C=jn._round(m*a);if(S===g&&C===m)return;x(this,nl)||X(this,nl,[h,p,g,m]);const L=o(g/2,m/2),R=jn._round(h+L[0]),D=jn._round(p+L[1]),z=o(S/2,C/2);this.x=R-z[0],this.y=D-z[1],this.width=S,this.height=C,this.setDims(c*S,u*C),this.fixAndSetPosition(),this._onResizing()},pI=function(){var e;(e=x(this,ii))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ae(this,yn,kw).call(this)},mE=function(e){const{isMac:t}=no.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},gI=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=u=>{i.abort(),X(this,kd,null),X(this,up,!1),this._uiManager.endDragSession()||ae(this,yn,mE).call(this,u),r&&this._onStopDragging()};t&&(X(this,h1,e.clientX),X(this,d1,e.clientY),X(this,kd,e.pointerId),X(this,D2,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=u;if(g!==x(this,kd)){ml(u);return}const[m,w]=this.screenToPageTranslation(h-x(this,h1),p-x(this,d1));X(this,h1,h),X(this,d1,p),this._uiManager.dragSelectedEditors(m,w)},s),window.addEventListener("touchmove",ml,s),window.addEventListener("pointerdown",u=>{u.pointerType===x(this,D2)&&(x(this,hp)||u.isPrimary)&&o(u),ml(u)},s));const c=u=>{if(!x(this,kd)||x(this,kd)===u.pointerId){o(u);return}ml(u)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},vE=function(){if(x(this,Nd)||!this.div)return;X(this,Nd,new AbortController);const e=this._uiManager.combinedSignal(x(this,Nd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},mI=function(e){jn._resizerKeyboardManager.exec(this,e)},vI=function(e){var t;x(this,$f)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==x(this,is)&&ae(this,yn,hx).call(this)},xI=function(e){X(this,F2,x(this,$f)?e:"")},xE=function(e){if(x(this,Hc))for(const t of x(this,Hc))t.tabIndex=e},hx=function(){X(this,$f,!1),ae(this,yn,xE).call(this,-1),ae(this,yn,kw).call(this)},ne(jn,B2),Mt(jn,"_l10n",null),Mt(jn,"_l10nResizer",null),Mt(jn,"_borderLineWidth",-1),Mt(jn,"_colorManager",new iE),Mt(jn,"_zIndex",1),Mt(jn,"_telemetryTimeout",1e3);let Ei=jn;class TU extends Ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const rN=3285377520,Bl=4294901760,Ru=65535;class yI{constructor(e){this.h1=e?e&4294967295:rN,this.h2=e?e&4294967295:rN}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,S=e.length;y<S;y++){const C=e.charCodeAt(y);C<=255?t[r++]=C:(t[r++]=C>>>8,t[r++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(t.buffer,0,i);let o=0,c=0,u=this.h1,h=this.h2;const p=3432918353,g=461845907,m=p&Ru,w=g&Ru;for(let y=0;y<i;y++)y&1?(o=s[y],o=o*p&Bl|o*m&Ru,o=o<<15|o>>>17,o=o*g&Bl|o*w&Ru,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=s[y],c=c*p&Bl|c*m&Ru,c=c<<15|c>>>17,c=c*g&Bl|c*w&Ru,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,a){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&Bl|o*m&Ru,o=o<<15|o>>>17,o=o*g&Bl|o*w&Ru,i&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bl|e*36045&Ru,t=t*4283543511&Bl|((t<<16|e>>>16)*2950163797&Bl)>>>16,e^=t>>>1,e=e*444984403&Bl|e*60499&Ru,t=t*3301882366&Bl|((t<<16|e>>>16)*3120437893&Bl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const yE=Object.freeze({map:null,hash:"",transfer:void 0});var dp,pp,Oa,q_,bI;class f4{constructor(){ne(this,q_);ne(this,dp,!1);ne(this,pp,null);ne(this,Oa,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=x(this,Oa).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return x(this,Oa).get(e)}remove(e){if(x(this,Oa).delete(e),x(this,Oa).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of x(this,Oa).values())if(t instanceof Ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=x(this,Oa).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(t))r[a]!==s&&(i=!0,r[a]=s);else i=!0,x(this,Oa).set(e,t);i&&ae(this,q_,bI).call(this),t instanceof Ei&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return x(this,Oa).has(e)}getAll(){return x(this,Oa).size>0?a4(x(this,Oa)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return x(this,Oa).size}resetModified(){x(this,dp)&&(X(this,dp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wI(this)}get serializable(){if(x(this,Oa).size===0)return yE;const e=new Map,t=new yI,r=[],i=Object.create(null);let a=!1;for(const[s,o]of x(this,Oa)){const c=o instanceof Ei?o.serialize(!1,i):o;c&&(e.set(s,c),t.update(`${s}:${JSON.stringify(c)}`),a||(a=!!c.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:yE}get editorStats(){let e=null;const t=new Map;for(const r of x(this,Oa).values()){if(!(r instanceof Ei))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:a}=i;t.has(a)||t.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const h=u.get(c)??0;u.set(c,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){X(this,pp,null)}get modifiedIds(){if(x(this,pp))return x(this,pp);const e=[];for(const t of x(this,Oa).values())!(t instanceof Ei)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return X(this,pp,{ids:new Set(e),hash:e.join(",")})}}dp=new WeakMap,pp=new WeakMap,Oa=new WeakMap,q_=new WeakSet,bI=function(){x(this,dp)||(X(this,dp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var U2;class wI extends f4{constructor(t){super();ne(this,U2);const{map:r,hash:i,transfer:a}=t.serializable,s=structuredClone(r,a?{transfer:a}:null);X(this,U2,{map:s,hash:i,transfer:a})}get print(){Kr("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,U2)}get modifiedIds(){return Yn(this,"modifiedIds",{ids:new Set,hash:""})}}U2=new WeakMap;var p1;class CU{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ne(this,p1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,p1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||x(this,p1).has(e.loadedName))){if(ua(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,s=new FontFace(r,i,a);this.addNativeFontFace(s);try{await s.load(),x(this,p1).add(r),t==null||t(e)}catch{Un(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Kr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Un(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Is||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ua(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(D,z){return D.charCodeAt(z)<<24|D.charCodeAt(z+1)<<16|D.charCodeAt(z+2)<<8|D.charCodeAt(z+3)&255}function i(D,z,q,P){const W=D.substring(0,z),O=D.substring(z+q);return W+P+O}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function h(D,z){if(++u>30){Un("Load test font never loaded."),z();return}if(c.font="30px "+D,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(h.bind(null,D,z))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const w=16,y=1482184792;let S=r(g,w);for(a=0,s=p.length-3;a<s;a+=4)S=S-y+r(p,a)|0;a<p.length&&(S=S-y+r(p+"XXX",a)|0),g=i(g,w,4,hU(S));const C=`url(data:font/opentype;base64,${btoa(g)});`,L=`@font-face {font-family:"${p}";src:${C}}`;this.insertRule(L);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const D of[e.loadedName,p]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=D,R.append(z)}this._document.body.append(R),h(p,()=>{R.remove(),t.complete()})}}p1=new WeakMap;class kU{constructor(e,{disableFontFace:t=!1,fontExtraProperties:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.disableFontFace=t===!0,this.fontExtraProperties=r===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${xU(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(s){Un(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=a}}const qb={DATA:1,ERROR:2},sa={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function iN(){}function ko(n){if(n instanceof Zd||n instanceof ZA||n instanceof Xx||n instanceof eN||n instanceof a_||n instanceof QS)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Kr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Zd(n.message);case"InvalidPDFException":return new ZA(n.message);case"MissingPDFException":return new Xx(n.message);case"PasswordException":return new eN(n.message,n.code);case"UnexpectedResponseException":return new a_(n.message,n.status);case"UnknownErrorException":return new QS(n.message,n.details)}return new QS(n.message,n.toString())}var g1,nc,_I,SI,AI,Nw;class dx{constructor(e,t,r){ne(this,nc);ne(this,g1,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",ae(this,nc,_I).bind(this),{signal:x(this,g1).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,c.postMessage({sourceName:s,targetName:o,stream:sa.PULL,streamId:a,desiredSize:u.desiredSize}),h.promise},cancel:u=>{ua(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:o,stream:sa.CANCEL,streamId:a,reason:ko(u)}),h.promise}},r)}destroy(){var e;(e=x(this,g1))==null||e.abort(),X(this,g1,null)}}g1=new WeakMap,nc=new WeakSet,_I=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ae(this,nc,AI).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===qb.DATA)i.resolve(e.data);else if(e.callback===qb.ERROR)i.reject(ko(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:qb.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:qb.ERROR,callbackId:e.callbackId,reason:ko(s)})});return}if(e.streamId){ae(this,nc,SI).call(this,e);return}t(e.data)},SI=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],c={enqueue(u,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:sa.ENQUEUE,streamId:t,chunk:u},p)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:sa.CLOSE,streamId:t}),delete s.streamSinks[t])},error(u){ua(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:sa.ERROR,streamId:t,reason:ko(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(o,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sa.START_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:sa.START_COMPLETE,streamId:t,reason:ko(u)})})},AI=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case sa.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ko(e.reason));break;case sa.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ko(e.reason));break;case sa.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:sa.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||iN).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sa.PULL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:sa.PULL_COMPLETE,streamId:t,reason:ko(u)})});break;case sa.ENQUEUE:if(ua(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case sa.CLOSE:if(ua(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ae(this,nc,Nw).call(this,s,t);break;case sa.ERROR:ua(s,"error should have stream controller"),s.controller.error(ko(e.reason)),ae(this,nc,Nw).call(this,s,t);break;case sa.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ko(e.reason)),ae(this,nc,Nw).call(this,s,t);break;case sa.CANCEL:if(!o)break;const c=ko(e.reason);Promise.try(o.onCancel||iN,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sa.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:sa.CANCEL_COMPLETE,streamId:t,reason:ko(u)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Nw=async function(e,t){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var H2;class EI{constructor({enableHWA:e=!1}){ne(this,H2,!1);X(this,H2,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!x(this,H2)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Kr("Abstract method `_createCanvas` called.")}}H2=new WeakMap;class NU extends EI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class TI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class CI extends TI{async _fetch(e){const t=await c5(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):l5(t)}}class kI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,a){return"none"}destroy(e=!1){}}var gp,m1,Kf,Jf,Es,mp,vp,zt,_s,px,_m,Rw,Sm,NI,bE,Am,gx,mx,wE,vx;class RU extends kI{constructor({docId:t,ownerDocument:r=globalThis.document}){super();ne(this,zt);ne(this,gp);ne(this,m1);ne(this,Kf);ne(this,Jf);ne(this,Es);ne(this,mp);ne(this,vp,0);X(this,Jf,t),X(this,Es,r)}addFilter(t){if(!t)return"none";let r=x(this,zt,_s).get(t);if(r)return r;const[i,a,s]=ae(this,zt,Rw).call(this,t),o=t.length===1?i:`${i}${a}${s}`;if(r=x(this,zt,_s).get(o),r)return x(this,zt,_s).set(t,r),r;const c=`g_${x(this,Jf)}_transfer_map_${Ws(this,vp)._++}`,u=ae(this,zt,Sm).call(this,c);x(this,zt,_s).set(t,u),x(this,zt,_s).set(o,u);const h=ae(this,zt,Am).call(this,c);return ae(this,zt,mx).call(this,i,a,s,h),u}addHCMFilter(t,r){var w;const i=`${t}-${r}`,a="base";let s=x(this,zt,px).get(a);if((s==null?void 0:s.key)===i||(s?((w=s.filter)==null||w.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},x(this,zt,px).set(a,s)),!t||!r))return s.url;const o=ae(this,zt,vx).call(this,t);t=sn.makeHexColor(...o);const c=ae(this,zt,vx).call(this,r);if(r=sn.makeHexColor(...c),x(this,zt,_m).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const S=y/255;u[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=u.join(","),p=`g_${x(this,Jf)}_hcm_filter`,g=s.filter=ae(this,zt,Am).call(this,p);ae(this,zt,mx).call(this,h,h,h,g),ae(this,zt,bE).call(this,g);const m=(y,S)=>{const C=o[y]/255,L=c[y]/255,R=new Array(S+1);for(let D=0;D<=S;D++)R[D]=C+D/S*(L-C);return R.join(",")};return ae(this,zt,mx).call(this,m(0,5),m(1,5),m(2,5),g),s.url=ae(this,zt,Sm).call(this,p),s.url}addAlphaFilter(t){let r=x(this,zt,_s).get(t);if(r)return r;const[i]=ae(this,zt,Rw).call(this,[t]),a=`alpha_${i}`;if(r=x(this,zt,_s).get(a),r)return x(this,zt,_s).set(t,r),r;const s=`g_${x(this,Jf)}_alpha_map_${Ws(this,vp)._++}`,o=ae(this,zt,Sm).call(this,s);x(this,zt,_s).set(t,o),x(this,zt,_s).set(a,o);const c=ae(this,zt,Am).call(this,s);return ae(this,zt,wE).call(this,i,c),o}addLuminosityFilter(t){let r=x(this,zt,_s).get(t||"luminosity");if(r)return r;let i,a;if(t?([i]=ae(this,zt,Rw).call(this,[t]),a=`luminosity_${i}`):a="luminosity",r=x(this,zt,_s).get(a),r)return x(this,zt,_s).set(t,r),r;const s=`g_${x(this,Jf)}_luminosity_map_${Ws(this,vp)._++}`,o=ae(this,zt,Sm).call(this,s);x(this,zt,_s).set(t,o),x(this,zt,_s).set(a,o);const c=ae(this,zt,Am).call(this,s);return ae(this,zt,NI).call(this,c),t&&ae(this,zt,wE).call(this,i,c),o}addHighlightHCMFilter(t,r,i,a,s){var L;const o=`${r}-${i}-${a}-${s}`;let c=x(this,zt,px).get(t);if((c==null?void 0:c.key)===o||(c?((L=c.filter)==null||L.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},x(this,zt,px).set(t,c)),!r||!i))return c.url;const[u,h]=[r,i].map(ae(this,zt,vx).bind(this));let p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,w]=[a,s].map(ae(this,zt,vx).bind(this));g<p&&([p,g,m,w]=[g,p,w,m]),x(this,zt,_m).style.color="";const y=(R,D,z)=>{const q=new Array(256),P=(g-p)/z,W=R/255,O=(D-R)/(255*z);let Q=0;for(let B=0;B<=z;B++){const j=Math.round(p+B*P),ee=W+B*O;for(let fe=Q;fe<=j;fe++)q[fe]=ee;Q=j+1}for(let B=Q;B<256;B++)q[B]=q[Q-1];return q.join(",")},S=`g_${x(this,Jf)}_hcm_${t}_filter`,C=c.filter=ae(this,zt,Am).call(this,S);return ae(this,zt,bE).call(this,C),ae(this,zt,mx).call(this,y(m[0],w[0],5),y(m[1],w[1],5),y(m[2],w[2],5),C),c.url=ae(this,zt,Sm).call(this,S),c.url}destroy(t=!1){var r,i,a,s;t&&((r=x(this,mp))!=null&&r.size)||((i=x(this,Kf))==null||i.parentNode.parentNode.remove(),X(this,Kf,null),(a=x(this,m1))==null||a.clear(),X(this,m1,null),(s=x(this,mp))==null||s.clear(),X(this,mp,null),X(this,vp,0))}}gp=new WeakMap,m1=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,Es=new WeakMap,mp=new WeakMap,vp=new WeakMap,zt=new WeakSet,_s=function(){return x(this,m1)||X(this,m1,new Map)},px=function(){return x(this,mp)||X(this,mp,new Map)},_m=function(){if(!x(this,Kf)){const t=x(this,Es).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=x(this,Es).createElementNS(Of,"svg");i.setAttribute("width",0),i.setAttribute("height",0),X(this,Kf,x(this,Es).createElementNS(Of,"defs")),t.append(i),i.append(x(this,Kf)),x(this,Es).body.append(t)}return x(this,Kf)},Rw=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=u[g]/255;const p=h.join(",");return[p,p,p]}const[r,i,a]=t,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,o[u]=i[u]/255,c[u]=a[u]/255;return[s.join(","),o.join(","),c.join(",")]},Sm=function(t){if(x(this,gp)===void 0){X(this,gp,"");const r=x(this,Es).URL;r!==x(this,Es).baseURI&&(u5(r)?Un('#createUrl: ignore "data:"-URL for performance reasons.'):X(this,gp,r.split("#",1)[0]))}return`url(${x(this,gp)}#${t})`},NI=function(t){const r=x(this,Es).createElementNS(Of,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},bE=function(t){const r=x(this,Es).createElementNS(Of,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Am=function(t){const r=x(this,Es).createElementNS(Of,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),x(this,zt,_m).append(r),r},gx=function(t,r,i){const a=x(this,Es).createElementNS(Of,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)},mx=function(t,r,i,a){const s=x(this,Es).createElementNS(Of,"feComponentTransfer");a.append(s),ae(this,zt,gx).call(this,s,"feFuncR",t),ae(this,zt,gx).call(this,s,"feFuncG",r),ae(this,zt,gx).call(this,s,"feFuncB",i)},wE=function(t,r){const i=x(this,Es).createElementNS(Of,"feComponentTransfer");r.append(i),ae(this,zt,gx).call(this,i,"feFuncA",t)},vx=function(t){return x(this,zt,_m).style.color=t,u4(getComputedStyle(x(this,zt,_m)).getPropertyValue("color"))};class RI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class LI extends RI{async _fetch(e){const t=await c5(e,"arraybuffer");return new Uint8Array(t)}}Is&&Un("Please use the `legacy` build in Node.js environments.");async function II(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class LU extends kI{}class IU extends EI{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class MU extends TI{async _fetch(e){return II(e)}}class DU extends RI{async _fetch(e){return II(e)}}const Ns={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _E(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class h4{getPattern(){Kr("Abstract method `getPattern` called.")}}class FU extends h4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let a;if(i===Ns.STROKE||i===Ns.FILL){const s=t.current.getClippedPathBoundingBox(i,mi(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,c),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),r=sn.transform(r,[1,0,0,1,s[0],s[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),_E(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(r);a.setTransform(p)}else _E(e,this._bbox),a=this._createGradient(e);return a}}function nA(n,e,t,r,i,a,s,o){const c=e.coords,u=e.colors,h=n.data,p=n.width*4;let g;c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=a,a=s,s=g),c[r+1]>c[i+1]&&(g=r,r=i,i=g,g=s,s=o,o=g),c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=a,a=s,s=g);const m=(c[t]+e.offsetX)*e.scaleX,w=(c[t+1]+e.offsetY)*e.scaleY,y=(c[r]+e.offsetX)*e.scaleX,S=(c[r+1]+e.offsetY)*e.scaleY,C=(c[i]+e.offsetX)*e.scaleX,L=(c[i+1]+e.offsetY)*e.scaleY;if(w>=L)return;const R=u[a],D=u[a+1],z=u[a+2],q=u[s],P=u[s+1],W=u[s+2],O=u[o],Q=u[o+1],B=u[o+2],j=Math.round(w),ee=Math.round(L);let fe,ue,K,le,Te,ge,Be,ie;for(let M=j;M<=ee;M++){if(M<S){const ye=M<w?0:(w-M)/(w-S);fe=m-(m-y)*ye,ue=R-(R-q)*ye,K=D-(D-P)*ye,le=z-(z-W)*ye}else{let ye;M>L?ye=1:S===L?ye=0:ye=(S-M)/(S-L),fe=y-(y-C)*ye,ue=q-(q-O)*ye,K=P-(P-Q)*ye,le=W-(W-B)*ye}let H;M<w?H=0:M>L?H=1:H=(w-M)/(w-L),Te=m-(m-C)*H,ge=R-(R-O)*H,Be=D-(D-Q)*H,ie=z-(z-B)*H;const G=Math.round(Math.min(fe,Te)),Y=Math.round(Math.max(fe,Te));let se=p*M+G*4;for(let ye=G;ye<=Y;ye++)H=(fe-ye)/(fe-Te),H<0?H=0:H>1&&(H=1),h[se++]=ue-(ue-ge)*H|0,h[se++]=K-(K-Be)*H|0,h[se++]=le-(le-ie)*H|0,h[se++]=255}}function PU(n,e,t){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(r.length/o)-1,u=o-1;for(a=0;a<c;a++){let h=a*o;for(let p=0;p<u;p++,h++)nA(n,t,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),nA(n,t,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)nA(n,t,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class OU extends h4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=u/p,w=h/g,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/m,scaleY:1/w},S=p+4,C=g+4,L=r.getCanvas("mesh",S,C),R=L.context,D=R.createImageData(p,g);if(t){const q=D.data;for(let P=0,W=q.length;P<W;P+=4)q[P]=t[0],q[P+1]=t[1],q[P+2]=t[2],q[P+3]=255}for(const q of this._figures)PU(D,q,y);return R.putImageData(D,2,2),{canvas:L.canvas,offsetX:o-2*m,offsetY:c-2*w,scaleX:m,scaleY:w}}getPattern(e,t,r,i){_E(e,this._bbox);let a;if(i===Ns.SHADING)a=sn.singularValueDecompose2dScale(mi(e));else if(a=sn.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=sn.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===Ns.SHADING?null:this._background,t.cachedCanvases);return i!==Ns.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class BU extends h4{getPattern(){return"hotpink"}}function UU(n){switch(n[0]){case"RadialAxial":return new FU(n);case"Mesh":return new OU(n);case"Dummy":return new BU}throw new Error(`Unknown IR type: ${n[0]}`)}const aN={COLORED:1,UNCOLORED:2},V_=class V_{constructor(e,t,r,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),o5("TilingType: "+a);const h=t[0],p=t[1],g=t[2],m=t[3],w=g-h,y=m-p,S=sn.singularValueDecompose2dScale(this.matrix),C=sn.singularValueDecompose2dScale(this.baseTransform),L=S[0]*C[0],R=S[1]*C[1];let D=w,z=y,q=!1,P=!1;const W=Math.ceil(c*L),O=Math.ceil(u*R),Q=Math.ceil(w*L),B=Math.ceil(y*R);W>=Q?D=c:q=!0,O>=B?z=u:P=!0;const j=this.getSizeAndScale(D,this.ctx.canvas.width,L),ee=this.getSizeAndScale(z,this.ctx.canvas.height,R),fe=e.cachedCanvases.getCanvas("pattern",j.size,ee.size),ue=fe.context,K=o.createCanvasGraphics(ue);if(K.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(K,i,s),ue.translate(-j.scale*h,-ee.scale*p),K.transform(j.scale,0,0,ee.scale,0,0),ue.save(),this.clipBbox(K,h,p,g,m),K.baseTransform=mi(K.ctx),K.executeOperatorList(r),K.endDrawing(),ue.restore(),q||P){const le=fe.canvas;q&&(D=c),P&&(z=u);const Te=this.getSizeAndScale(D,this.ctx.canvas.width,L),ge=this.getSizeAndScale(z,this.ctx.canvas.height,R),Be=Te.size,ie=ge.size,M=e.cachedCanvases.getCanvas("pattern-workaround",Be,ie),H=M.context,G=q?Math.floor(w/c):0,Y=P?Math.floor(y/u):0;for(let se=0;se<=G;se++)for(let ye=0;ye<=Y;ye++)H.drawImage(le,Be*se,ie*ye,Be,ie,0,0,Be,ie);return{canvas:M.canvas,scaleX:Te.scale,scaleY:ge.scale,offsetX:h,offsetY:p}}return{canvas:fe.canvas,scaleX:j.scale,scaleY:ee.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,r){const i=Math.max(V_.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,t,r,i,a){const s=i-t,o=a-r;e.ctx.rect(t,r,s,o),e.current.updateRectMinMax(mi(e.ctx),[t,r,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,a=e.current;switch(t){case aN.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case aN.UNCOLORED:const o=sn.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new fU(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let a=r;i!==Ns.SHADING&&(a=sn.transform(a,t.baseTransform),this.matrix&&(a=sn.transform(a,this.matrix)));const s=this.createPatternCanvas(t);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(o),c}};Mt(V_,"MAX_PATTERN_SIZE",3e3);let SE=V_;function HU({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=no.isLittleEndian?4278190080:255,[c,u]=s?[a,o]:[o,a],h=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let m=0;for(let w=0;w<i;w++){for(const S=e+h;e<S;e++){const C=e<g?n[e]:255;t[m++]=C&128?u:c,t[m++]=C&64?u:c,t[m++]=C&32?u:c,t[m++]=C&16?u:c,t[m++]=C&8?u:c,t[m++]=C&4?u:c,t[m++]=C&2?u:c,t[m++]=C&1?u:c}if(p===0)continue;const y=e<g?n[e++]:255;for(let S=0;S<p;S++)t[m++]=y&1<<7-S?u:c}return{srcPos:e,destPos:m}}const sN=16,oN=100,zU=15,lN=10,cN=1e3,Mo=16;function jU(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,a,s,o,c){e.transform(r,i,a,s,o,c),this.__originalTransform(r,i,a,s,o,c)},n.setTransform=function(r,i,a,s,o,c){e.setTransform(r,i,a,s,o,c),this.__originalSetTransform(r,i,a,s,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,a,s,o){e.bezierCurveTo(t,r,i,a,s,o),this.__originalBezierCurveTo(t,r,i,a,s,o)},n.rect=function(t,r,i,a){e.rect(t,r,i,a),this.__originalRect(t,r,i,a)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class GU{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Vb(n,e,t,r,i,a,s,o,c,u){const[h,p,g,m,w,y]=mi(n);if(p===0&&g===0){const L=s*h+w,R=Math.round(L),D=o*m+y,z=Math.round(D),q=(s+c)*h+w,P=Math.abs(Math.round(q)-R)||1,W=(o+u)*m+y,O=Math.abs(Math.round(W)-z)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(m),R,z),n.drawImage(e,t,r,i,a,0,0,P,O),n.setTransform(h,p,g,m,w,y),[P,O]}if(h===0&&m===0){const L=o*g+w,R=Math.round(L),D=s*p+y,z=Math.round(D),q=(o+u)*g+w,P=Math.abs(Math.round(q)-R)||1,W=(s+c)*p+y,O=Math.abs(Math.round(W)-z)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,R,z),n.drawImage(e,t,r,i,a,0,0,O,P),n.setTransform(h,p,g,m,w,y),[O,P]}n.drawImage(e,t,r,i,a,s,o,c,u);const S=Math.hypot(h,p),C=Math.hypot(g,m);return[S*c,C*u]}function qU(n){const{width:e,height:t}=n;if(e>cN||t>cN)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(t+1)),o,c,u;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const C of n.data){let L=128;for(;L>0;)p[g++]=C&L?0:255,L>>=1}let m=0;for(g=0,p[g]!==0&&(s[0]=1,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(s[c]=p[g]?2:1,++m),g++;for(p[g]!==0&&(s[c]=2,++m),o=1;o<t;o++){g=o*h,u=o*a,p[g-h]!==p[g]&&(s[u]=p[g]?1:8,++m);let C=(p[g]?4:0)+(p[g-h]?8:0);for(c=1;c<e;c++)C=(C>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[C]&&(s[u+c]=i[C],++m),g++;if(p[g-h]!==p[g]&&(s[u+c]=p[g]?2:4,++m),m>r)return null}for(g=h*(t-1),u=o*a,p[g]!==0&&(s[u]=8,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(s[u+c]=p[g]?4:8,++m),g++;if(p[g]!==0&&(s[u+c]=4,++m),m>r)return null;const w=new Int32Array([0,a,-1,0,-a,0,0,0,1]),y=new Path2D;for(o=0;m&&o<=t;o++){let C=o*a;const L=C+e;for(;C<L&&!s[C];)C++;if(C===L)continue;y.moveTo(C%a,o);const R=C;let D=s[C];do{const z=w[D];do C+=z;while(!s[C]);const q=s[C];q!==5&&q!==10?(D=q,s[C]=0):(D=q&51*D>>4,s[C]&=D>>2|D<<2),y.lineTo(C%a,C/a|0),s[C]||--m}while(R!==C);--o}return p=null,s=null,function(C){C.save(),C.scale(1/e,-1/t),C.translate(0,-t),C.fill(y),C.beginPath(),C.restore()}}class uN{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=jL,this.textMatrixScale=1,this.fontMatrix=JA,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ws.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=sn.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=sn.applyTransform(t,e),i=sn.applyTransform(t.slice(2),e),a=sn.applyTransform([t[0],t[3]],e),s=sn.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,t){sn.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,a,s,o,c,u,h){const p=sn.bezierBoundingBox(t,r,i,a,s,o,c,u,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Ns.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ns.STROKE){t||Kr("Stroke bounding box must include transform.");const i=sn.singularValueDecompose2dScale(t),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=a,r[1]-=s,r[2]+=a,r[3]+=s}return r}updateClipFromPath(){const e=sn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ns.FILL,t=null){return sn.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function fN(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Mo,a=(t-i)/Mo,s=i===0?a:a+1,o=n.createImageData(r,Mo);let c=0,u;const h=e.data,p=o.data;let g,m,w,y;if(e.kind===bw.GRAYSCALE_1BPP){const S=h.byteLength,C=new Uint32Array(p.buffer,0,p.byteLength>>2),L=C.length,R=r+7>>3,D=4294967295,z=no.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(w=g<a?Mo:i,u=0,m=0;m<w;m++){const q=S-c;let P=0;const W=q>R?r:q*8-7,O=W&-8;let Q=0,B=0;for(;P<O;P+=8)B=h[c++],C[u++]=B&128?D:z,C[u++]=B&64?D:z,C[u++]=B&32?D:z,C[u++]=B&16?D:z,C[u++]=B&8?D:z,C[u++]=B&4?D:z,C[u++]=B&2?D:z,C[u++]=B&1?D:z;for(;P<W;P++)Q===0&&(B=h[c++],Q=128),C[u++]=B&Q?D:z,Q>>=1}for(;u<L;)C[u++]=0;n.putImageData(o,0,g*Mo)}}else if(e.kind===bw.RGBA_32BPP){for(m=0,y=r*Mo*4,g=0;g<a;g++)p.set(h.subarray(c,c+y)),c+=y,n.putImageData(o,0,m),m+=Mo;g<s&&(y=r*i*4,p.set(h.subarray(c,c+y)),n.putImageData(o,0,m))}else if(e.kind===bw.RGB_24BPP)for(w=Mo,y=r*w,g=0;g<s;g++){for(g>=a&&(w=i,y=r*w),u=0,m=y;m--;)p[u++]=h[c++],p[u++]=h[c++],p[u++]=h[c++],p[u++]=255;n.putImageData(o,0,g*Mo)}else throw new Error(`bad image kind: ${e.kind}`)}function hN(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Mo,a=(t-i)/Mo,s=i===0?a:a+1,o=n.createImageData(r,Mo);let c=0;const u=e.data,h=o.data;for(let p=0;p<s;p++){const g=p<a?Mo:i;({srcPos:c}=HU({src:u,srcPos:c,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,p*Mo)}}function tx(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Wb(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Is){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function dN(n,e){if(e)return!0;const t=sn.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Qd.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const VU=["butt","round","square"],WU=["miter","round","bevel"],XU={},pN={};var su,AE,EE,TE;const yC=class yC{constructor(e,t,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},c,u){ne(this,su);this.ctx=e,this.current=new uN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new GU(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const c=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...mi(this.compositeCtx))}this.ctx.save(),Wb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=mi(this.ctx)}executeOperatorList(e,t,r,i){const a=e.argsArray,s=e.fnArray;let o=t||0;const c=a.length;if(c===o)return o;const u=c-o>lN&&typeof r=="function",h=u?Date.now()+zU:0;let p=0;const g=this.commonObjs,m=this.objs;let w;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(w=s[o],w!==Pc.dependency)this[w].apply(this,a[o]);else for(const y of a[o]){const S=y.startsWith("g_")?g:m;if(!S.has(y))return S.get(y,r),o}if(o++,o===c)return o;if(u&&++p>lN){if(Date.now()>h)return r(),o;p=0}}}endDrawing(){ae(this,su,AE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ae(this,su,EE).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=r,c=i,u="prescale1",h,p;for(;a>2&&o>1||s>2&&c>1;){let g=o,m=c;a>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/g),s>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/m),h=this.cachedCanvases.getCanvas(u,g,m),p=h.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,o,c,0,0,g,m),e=h.canvas,o=g,c=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=mi(t);let c,u,h,p;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),c=this._cachedBitmapsMap.get(W),c||(c=new Map,this._cachedBitmapsMap.set(W,c));const O=c.get(u);if(O&&!s){const Q=Math.round(Math.min(o[0],o[2])+o[4]),B=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:Q,offsetY:B}}h=O}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),hN(p.context,e));let g=sn.transform(o,[1/r,0,0,-1/i,0,0]);g=sn.transform(g,[1,0,0,1,0,-i]);const[m,w,y,S]=sn.getAxialAlignedBoundingBox([0,0,r,i],g),C=Math.round(y-m)||1,L=Math.round(S-w)||1,R=this.cachedCanvases.getCanvas("fillCanvas",C,L),D=R.context,z=m,q=w;D.translate(-z,-q),D.transform(...g),h||(h=this._scaleImage(p.canvas,Nu(D)),h=h.img,c&&s&&c.set(u,h)),D.imageSmoothingEnabled=dN(mi(D),e.interpolate),Vb(D,h,0,0,h.width,h.height,0,0,r,i),D.globalCompositeOperation="source-in";const P=sn.transform(Nu(D),[1,0,0,1,-z,-q]);return D.fillStyle=s?a.getPattern(t,this,P,Ns.FILL):a,D.fillRect(0,0,r,i),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,R.canvas)),{canvas:R.canvas,offsetX:Math.round(z),offsetY:Math.round(q)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=VU[e]}setLineJoin(e){this.ctx.lineJoin=WU[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...mi(this.suspendedCtx)),tx(this.suspendedCtx,a),jU(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),tx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const a=i[0],s=i[1],o=i[2]-a,c=i[3]-s;o===0||c===0||(this.genericComposeSMask(t.context,r,o,c,t.subtype,t.backdrop,t.transferMap,a,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,a,s,o,c,u,h,p){let g=e.canvas,m=c-h,w=u-p;if(s){const S=sn.makeHexColor(...s);if(m<0||w<0||m+r>g.width||w+i>g.height){const C=this.cachedCanvases.getCanvas("maskExtension",r,i),L=C.context;L.drawImage(g,-m,-w),L.globalCompositeOperation="destination-atop",L.fillStyle=S,L.fillRect(0,0,r,i),L.globalCompositeOperation="source-over",g=C.canvas,m=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(m,w,r,i),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(m,w,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(c,u,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(g,m,w,r,i,c,u,r,i),t.restore()}save(){this.inSMaskMode?(tx(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),tx(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,a,s){this.ctx.transform(e,t,r,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,a=this.current;let s=a.x,o=a.y,c,u;const h=mi(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?r.slice(0):null;for(let m=0,w=0,y=e.length;m<y;m++)switch(e[m]|0){case Pc.rectangle:s=t[w++],o=t[w++];const S=t[w++],C=t[w++],L=s+S,R=o+C;i.moveTo(s,o),S===0||C===0?i.lineTo(L,R):(i.lineTo(L,o),i.lineTo(L,R),i.lineTo(s,R)),p||a.updateRectMinMax(h,[s,o,L,R]),i.closePath();break;case Pc.moveTo:s=t[w++],o=t[w++],i.moveTo(s,o),p||a.updatePathMinMax(h,s,o);break;case Pc.lineTo:s=t[w++],o=t[w++],i.lineTo(s,o),p||a.updatePathMinMax(h,s,o);break;case Pc.curveTo:c=s,u=o,s=t[w+4],o=t[w+5],i.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],s,o),a.updateCurvePathMinMax(h,c,u,t[w],t[w+1],t[w+2],t[w+3],s,o,g),w+=6;break;case Pc.curveTo2:c=s,u=o,i.bezierCurveTo(s,o,t[w],t[w+1],t[w+2],t[w+3]),a.updateCurvePathMinMax(h,c,u,s,o,t[w],t[w+1],t[w+2],t[w+3],g),s=t[w+2],o=t[w+3],w+=4;break;case Pc.curveTo3:c=s,u=o,s=t[w+2],o=t[w+3],i.bezierCurveTo(t[w],t[w+1],s,o,s,o),a.updateCurvePathMinMax(h,c,u,t[w],t[w+1],s,o,s,o,g),w+=4;break;case Pc.closePath:i.closePath();break}p&&a.updateScalingPathMinMax(h,g),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Nu(t),Ns.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Nu(t),Ns.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=XU}eoClip(){this.pendingClip=pN}beginText(){this.current.textMatrix=jL,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:a,x:s,y:o,fontSize:c,path:u}of e)r.addPath(u,new DOMMatrix(a).preMultiplySelf(i).translate(s,o).scale(c,-c));t.clip(r),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||JA,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Un("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=((h=r.systemFontInfo)==null?void 0:h.css)||`"${a}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const c=r.italic?"italic":"normal";let u=t;t<sN?u=sN:t>oN&&(u=oN),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,a,s){this.current.textMatrix=[e,t,r,i,a,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,a){const s=this.ctx,o=this.current,c=o.font,u=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,p=u&ws.FILL_STROKE_MASK,g=!!(u&ws.ADD_TO_PATH_FLAG),m=o.patternFill&&!c.missingFile,w=o.patternStroke&&!c.missingFile;let y;if((c.disableFontFace||g||m||w)&&(y=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||m||w){if(s.save(),s.translate(t,r),s.scale(h,-h),p===ws.FILL||p===ws.FILL_STROKE)if(i){const S=s.getTransform();s.setTransform(...i),s.fill(ae(this,su,TE).call(this,y,S,i))}else s.fill(y);if(p===ws.STROKE||p===ws.FILL_STROKE)if(a){const S=s.getTransform();s.setTransform(...a),s.stroke(ae(this,su,TE).call(this,y,S,a))}else s.lineWidth/=h,s.stroke(y);s.restore()}else(p===ws.FILL||p===ws.FILL_STROKE)&&s.fillText(e,t,r),(p===ws.STROKE||p===ws.FILL_STROKE)&&s.strokeText(e,t,r);g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:mi(s),x:t,y:r,fontSize:h,path:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const a=this.ctx,s=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,p=e.length,g=r.vertical,m=g?1:-1,w=r.defaultVMetrics,y=i*t.fontMatrix[0],S=t.textRenderingMode===ws.FILL&&!r.disableFontFace&&!t.patternFill;a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),u>0?a.scale(h,-1):a.scale(h,1);let C,L;if(t.patternFill){a.save();const P=t.fillColor.getPattern(a,this,Nu(a),Ns.FILL);C=mi(a),a.restore(),a.fillStyle=P}if(t.patternStroke){a.save();const P=t.strokeColor.getPattern(a,this,Nu(a),Ns.STROKE);L=mi(a),a.restore(),a.strokeStyle=P}let R=t.lineWidth;const D=t.textMatrixScale;if(D===0||R===0){const P=t.textRenderingMode&ws.FILL_STROKE_MASK;(P===ws.STROKE||P===ws.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=D;if(s!==1&&(a.scale(s,s),R/=s),a.lineWidth=R,r.isInvalidPDFjsFont){const P=[];let W=0;for(const O of e)P.push(O.unicode),W+=O.width;a.fillText(P.join(""),0,0),t.x+=W*y*h,a.restore(),this.compose();return}let z=0,q;for(q=0;q<p;++q){const P=e[q];if(typeof P=="number"){z+=m*P*i/1e3;continue}let W=!1;const O=(P.isSpace?c:0)+o,Q=P.fontChar,B=P.accent;let j,ee,fe=P.width;if(g){const K=P.vmetric||w,le=-(P.vmetric?K[1]:fe*.5)*y,Te=K[2]*y;fe=K?-K[0]:fe,j=le/s,ee=(z+Te)/s}else j=z/s,ee=0;if(r.remeasure&&fe>0){const K=a.measureText(Q).width*1e3/i*s;if(fe<K&&this.isFontSubpixelAAEnabled){const le=fe/K;W=!0,a.save(),a.scale(le,1),j/=le}else fe!==K&&(j+=(fe-K)/2e3*i/s)}if(this.contentVisible&&(P.isInFont||r.missingFile)){if(S&&!B)a.fillText(Q,j,ee);else if(this.paintChar(Q,j,ee,C,L),B){const K=j+i*B.offset.x/s,le=ee-i*B.offset.y/s;this.paintChar(B.fontChar,K,le,C,L)}}const ue=g?fe*y-O*u:fe*y+O*u;z+=ue,W&&a.restore()}g?t.y-=z:t.x+=z*h,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,a=r.fontSize,s=r.fontDirection,o=i.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,h=r.textHScale*s,p=r.fontMatrix||JA,g=e.length,m=r.textRenderingMode===ws.INVISIBLE;let w,y,S,C;if(!(m||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,s),w=0;w<g;++w){if(y=e[w],typeof y=="number"){C=o*y*a/1e3,this.ctx.translate(C,0),r.x+=C*h;continue}const L=(y.isSpace?u:0)+c,R=i.charProcOperatorList[y.operatorListId];if(!R){Un(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(a,a),t.transform(...p),this.executeOperatorList(R),this.restore()),S=sn.applyTransform([y.width,0],p)[0]*a+L,t.translate(S,0),r.x+=S*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,a,s){this.ctx.rect(r,i,a-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||mi(this.ctx),a={createCanvasGraphics:s=>new yC(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new SE(e,r,this.ctx,a,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=sn.makeHexColor(e,t,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=sn.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=UU(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Nu(t),Ns.SHADING);const i=Nu(t);if(i){const{width:a,height:s}=t.canvas,[o,c,u,h]=sn.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,c,u-o,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Kr("Should not call beginInlineImage")}beginImageData(){Kr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=mi(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(mi(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||o5("TODO: Support non-isolated groups."),e.knockout&&Un("Knockout groups not supported.");const r=mi(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=sn.getAxialAlignedBoundingBox(e.bbox,mi(t));const a=[0,0,t.canvas.width,t.canvas.height];i=sn.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,u),g=p.context;g.translate(-s,-o),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,o),t.save()),tx(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=mi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=sn.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,i,a){if(ae(this,su,AE).call(this),Wb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const s=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=o;const[c,u]=sn.singularValueDecompose2dScale(mi(this.ctx)),{viewportScale:h}=this,p=Math.ceil(s*this.outputScaleX*h),g=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:m,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),Wb(this.ctx)}else Wb(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new uN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ae(this,su,EE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=qU(e)),i.compiled)){i.compiled(r);return}const a=this._createMaskCanvas(e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=mi(o);o.transform(t,r,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let h=0,p=s.length;h<p;h+=2){const g=sn.transform(c,[t,r,i,a,s[h],s[h+1]]),[m,w]=sn.applyTransform([0,0],g);o.drawImage(u.canvas,m,w)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:c,transform:u}=a,h=this.cachedCanvases.getCanvas("maskCanvas",o,c),p=h.context;p.save();const g=this.getObject(s,a);hN(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,Nu(t),Ns.FILL):r,p.fillRect(0,0,o,c),p.restore(),t.save(),t.transform(...u),t.scale(1,-1),Vb(t,h.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Un("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Un("Dependent image isn't ready yet");return}const s=a.width,o=a.height,c=[];for(let u=0,h=i.length;u<h;u+=2)c.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Is){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;fN(c,e),a=this.applyTransferMapsToCanvas(c)}const s=this._scaleImage(a,Nu(i));i.imageSmoothingEnabled=dN(mi(i),e.interpolate),Vb(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,c=this.cachedCanvases.getCanvas("inlineImage",a,s).context;fN(c,e),i=this.applyTransferMapsToCanvas(c)}for(const a of t)r.save(),r.transform(...a.transform),r.scale(1,-1),Vb(r,i,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===pN?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const c=Math.abs(t),u=Math.abs(a);if(c===u)if(e===0)s=o=1/c;else{const h=c*e;s=o=h<1?1/h:1}else if(e===0)s=1/c,o=1/u;else{const h=c*e,p=u*e;s=h<1?1/h:1,o=p<1?1/p:1}}else{const c=Math.abs(t*a-r*i),u=Math.hypot(t,r),h=Math.hypot(i,a);if(e===0)s=h/c,o=u/c;else{const p=e*c;s=h>p?h/p:1,o=u>p?u/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,a]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&a===1){t.stroke();return}const s=t.getLineDash();if(e&&t.save(),t.scale(i,a),s.length>0){const o=Math.max(i,a);t.setLineDash(s.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};su=new WeakSet,AE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},EE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},TE=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let zm=yC;for(const n in Pc)zm.prototype[n]!==void 0&&(zm.prototype[Pc[n]]=zm.prototype[n]);var z2,j2;class ph{static get workerPort(){return x(this,z2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");X(this,z2,e)}static get workerSrc(){return x(this,j2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");X(this,j2,e)}}z2=new WeakMap,j2=new WeakMap,ne(ph,z2,null),ne(ph,j2,"");var xp,G2;class YU{constructor({parsedData:e,rawData:t}){ne(this,xp);ne(this,G2);X(this,xp,e),X(this,G2,t)}getRaw(){return x(this,G2)}get(e){return x(this,xp).get(e)??null}getAll(){return a4(x(this,xp))}has(e){return x(this,xp).has(e)}}xp=new WeakMap,G2=new WeakMap;const Em=Symbol("INTERNAL");var q2,V2,W2,v1;class $U{constructor(e,{name:t,intent:r,usage:i,rbGroups:a}){ne(this,q2,!1);ne(this,V2,!1);ne(this,W2,!1);ne(this,v1,!0);X(this,q2,!!(e&hl.DISPLAY)),X(this,V2,!!(e&hl.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(x(this,W2))return x(this,v1);if(!x(this,v1))return!1;const{print:e,view:t}=this.usage;return x(this,q2)?(t==null?void 0:t.viewState)!=="OFF":x(this,V2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Em&&Kr("Internal method `_setVisible` called."),X(this,W2,r),X(this,v1,t)}}q2=new WeakMap,V2=new WeakMap,W2=new WeakMap,v1=new WeakMap;var Rd,Lr,x1,y1,X2,CE;class KU{constructor(e,t=hl.DISPLAY){ne(this,X2);ne(this,Rd,null);ne(this,Lr,new Map);ne(this,x1,null);ne(this,y1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,X(this,y1,e.order);for(const r of e.groups)x(this,Lr).set(r.id,new $U(t,r));if(e.baseState==="OFF")for(const r of x(this,Lr).values())r._setVisible(Em,!1);for(const r of e.on)x(this,Lr).get(r)._setVisible(Em,!0);for(const r of e.off)x(this,Lr).get(r)._setVisible(Em,!1);X(this,x1,this.getHash())}}isVisible(e){if(x(this,Lr).size===0)return!0;if(!e)return o5("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,Lr).has(e.id)?x(this,Lr).get(e.id).visible:(Un(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ae(this,X2,CE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!1}return!0}return Un(`Unknown optional content policy ${e.policy}.`),!0}return Un(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var a;const i=x(this,Lr).get(e);if(!i){Un(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=x(this,Lr).get(o))==null||a._setVisible(Em,!1,!0));i._setVisible(Em,!!t,!0),X(this,Rd,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=x(this,Lr).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}X(this,Rd,null)}get hasInitialVisibility(){return x(this,x1)===null||this.getHash()===x(this,x1)}getOrder(){return x(this,Lr).size?x(this,y1)?x(this,y1).slice():[...x(this,Lr).keys()]:null}getGroups(){return x(this,Lr).size>0?a4(x(this,Lr)):null}getGroup(e){return x(this,Lr).get(e)||null}getHash(){if(x(this,Rd)!==null)return x(this,Rd);const e=new yI;for(const[t,r]of x(this,Lr))e.update(`${t}:${r.visible}`);return X(this,Rd,e.hexdigest())}}Rd=new WeakMap,Lr=new WeakMap,x1=new WeakMap,y1=new WeakMap,X2=new WeakSet,CE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const a=e[i];let s;if(Array.isArray(a))s=ae(this,X2,CE).call(this,a);else if(x(this,Lr).has(a))s=x(this,Lr).get(a).visible;else return Un(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class JU{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ua(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});ua(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,a;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ua(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ZU(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new QU(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class ZU{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=l4(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QU{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function eH(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=c(h),h=u(h),a(h)}if(t=s(n),t){const h=u(t);return a(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=o(t);return h=u(h),a(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),m=l5(p);p=g.decode(m),e=!1}catch{}}return p}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function s(h){const p=[];let g;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(h))!==null;){let[,y,S,C]=g;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[S,C]}const w=[];for(let y=0;y<p.length&&y in p;++y){let[S,C]=p[y];C=o(C),S&&(C=unescape(C),y===0&&(C=c(C))),w.push(C)}return w.join("")}function o(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),w=h.slice(p+1).replace(/^[^']*'/,"");return i(g,w)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,w){if(m==="q"||m==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,S){return String.fromCharCode(parseInt(S,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function MI(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function f5(n){try{return new URL(n).origin}catch{}return null}function DI({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function FI(n){const e=n.get("Content-Disposition");if(e){let t=eH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(l4(t))return t}return null}function h5(n,e){return n===404||n===0&&e.startsWith("file:")?new Xx('Missing PDF "'+e+'".'):new a_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function PI(n){return n===200||n===206}function OI(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function BI(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Un(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class gN{constructor(e){Mt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=MI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ua(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new nH(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class tH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,OI(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=f5(a.url),!PI(a.status))throw h5(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:c}=DI({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=FI(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Zd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:BI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class nH{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,OI(a,this._withCredentials,this._abortController)).then(o=>{const c=f5(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!PI(o.status))throw h5(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:BI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const rA=200,iA=206;function rH(n){const e=n.response;return typeof e!="string"?e:l5(e).buffer}class iH{constructor({url:e,httpHeaders:t,withCredentials:r}){Mt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=MI(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,s]of this.headers)t.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=iA):i.expectedStatus=rA,t.responseType="arraybuffer",ua(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||rA;if(!(a===rA&&r.expectedStatus===iA)&&a!==r.expectedStatus){r.onError(i.status);return}const o=rH(i);if(a===iA){const c=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(Un('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class aH{constructor(e){this._source=e,this._manager=new iH(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ua(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new oH(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class sH{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=f5(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...u]=o.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=DI({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=FI(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=h5(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oH{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=f5((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=h5(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lH=/^[a-z][a-z0-9\-+.]+:/i;function cH(n){if(lH.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class uH{constructor(e){this.source=e,this.url=cH(e.url),ua(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ua(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new fH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new hH(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class fH{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Xx(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Zd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hH{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const dH=1e5,Co=30,pH=.8;var RL,Ld,Lo,Y2,$2,yp,Zf,K2,J2,bp,b1,w1,Id,_1,Z2,S1,wp,Q2,ey,_p,Sp,ty,Md,A1,Th,UI,HI,kE,bl,Lw,NE,zI,jI;const Sa=class Sa{constructor({textContentSource:e,container:t,viewport:r}){ne(this,Th);ne(this,Ld,Promise.withResolvers());ne(this,Lo,null);ne(this,Y2,!1);ne(this,$2,!!((RL=globalThis.FontInspector)!=null&&RL.enabled));ne(this,yp,null);ne(this,Zf,null);ne(this,K2,0);ne(this,J2,0);ne(this,bp,null);ne(this,b1,null);ne(this,w1,0);ne(this,Id,0);ne(this,_1,Object.create(null));ne(this,Z2,[]);ne(this,S1,null);ne(this,wp,[]);ne(this,Q2,new WeakMap);ne(this,ey,null);var c;if(e instanceof ReadableStream)X(this,S1,e);else if(typeof e=="object")X(this,S1,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');X(this,Lo,X(this,b1,t)),X(this,Id,r.scale*(globalThis.devicePixelRatio||1)),X(this,w1,r.rotation),X(this,Zf,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;X(this,ey,[1,0,0,-1,-s,o+a]),X(this,J2,i),X(this,K2,a),ae(c=Sa,bl,zI).call(c),ig(t,r),x(this,Ld).promise.finally(()=>{x(Sa,A1).delete(this),X(this,Zf,null),X(this,_1,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=no.platform;return Yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{x(this,bp).read().then(({value:t,done:r})=>{if(r){x(this,Ld).resolve();return}x(this,yp)??X(this,yp,t.lang),Object.assign(x(this,_1),t.styles),ae(this,Th,UI).call(this,t.items),e()},x(this,Ld).reject)};return X(this,bp,x(this,S1).getReader()),x(Sa,A1).add(this),e(),x(this,Ld).promise}update({viewport:e,onBefore:t=null}){var a;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==x(this,w1)&&(t==null||t(),X(this,w1,i),ig(x(this,b1),{rotation:i})),r!==x(this,Id)){t==null||t(),X(this,Id,r);const s={div:null,properties:null,ctx:ae(a=Sa,bl,Lw).call(a,x(this,yp))};for(const o of x(this,wp))s.properties=x(this,Q2).get(o),s.div=o,ae(this,Th,kE).call(this,s)}}cancel(){var t;const e=new Zd("TextLayer task cancelled.");(t=x(this,bp))==null||t.cancel(e).catch(()=>{}),X(this,bp,null),x(this,Ld).reject(e)}get textDivs(){return x(this,wp)}get textContentItemsStr(){return x(this,Z2)}static cleanup(){if(!(x(this,A1).size>0)){x(this,_p).clear();for(const{canvas:e}of x(this,Sp).values())e.remove();x(this,Sp).clear()}}};Ld=new WeakMap,Lo=new WeakMap,Y2=new WeakMap,$2=new WeakMap,yp=new WeakMap,Zf=new WeakMap,K2=new WeakMap,J2=new WeakMap,bp=new WeakMap,b1=new WeakMap,w1=new WeakMap,Id=new WeakMap,_1=new WeakMap,Z2=new WeakMap,S1=new WeakMap,wp=new WeakMap,Q2=new WeakMap,ey=new WeakMap,_p=new WeakMap,Sp=new WeakMap,ty=new WeakMap,Md=new WeakMap,A1=new WeakMap,Th=new WeakSet,UI=function(e){var i,a;if(x(this,Y2))return;(a=x(this,Zf)).ctx??(a.ctx=ae(i=Sa,bl,Lw).call(i,x(this,yp)));const t=x(this,wp),r=x(this,Z2);for(const s of e){if(t.length>dH){Un("Ignoring additional textDivs for performance reasons."),X(this,Y2,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=x(this,Lo);X(this,Lo,document.createElement("span")),x(this,Lo).classList.add("markedContent"),s.id!==null&&x(this,Lo).setAttribute("id",`${s.id}`),o.append(x(this,Lo))}else s.type==="endMarkedContent"&&X(this,Lo,x(this,Lo).parentNode);continue}r.push(s.str),ae(this,Th,HI).call(this,s)}},HI=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,wp).push(t);const i=sn.transform(x(this,ey),e.transform);let a=Math.atan2(i[1],i[0]);const s=x(this,_1)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=x(this,$2)&&s.fontSubstitution||s.fontFamily;o=Sa.fontFamilyMap.get(o)||o;const c=Math.hypot(i[2],i[3]),u=c*ae(y=Sa,bl,jI).call(y,o,x(this,yp));let h,p;a===0?(h=i[4],p=i[5]-u):(h=i[4]+u*Math.sin(a),p=i[5]-u*Math.cos(a));const g="calc(var(--scale-factor)*",m=t.style;x(this,Lo)===x(this,b1)?(m.left=`${(100*h/x(this,J2)).toFixed(2)}%`,m.top=`${(100*p/x(this,K2)).toFixed(2)}%`):(m.left=`${g}${h.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(x(Sa,Md)*c).toFixed(2)}px)`,m.fontFamily=o,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,x(this,$2)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);S!==C&&Math.max(S,C)/Math.min(S,C)>1.5&&(w=!0)}if(w&&(r.canvasWidth=s.vertical?e.height:e.width),x(this,Q2).set(t,r),x(this,Zf).div=t,x(this,Zf).properties=r,ae(this,Th,kE).call(this,x(this,Zf)),r.hasText&&x(this,Lo).append(t),r.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),x(this,Lo).append(S)}},kE=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:a}=t;let s="";if(x(Sa,Md)>1&&(s=`scale(${1/x(Sa,Md)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=r;ae(o=Sa,bl,NE).call(o,i,h*x(this,Id),c);const{width:p}=i.measureText(t.textContent);p>0&&(s=`scaleX(${u*x(this,Id)/p}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},bl=new WeakSet,Lw=function(e=null){let t=x(this,Sp).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,Sp).set(e,t),x(this,ty).set(t,{size:0,family:""})}return t},NE=function(e,t,r){const i=x(this,ty).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},zI=function(){if(x(this,Md)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),X(this,Md,e.getBoundingClientRect().height),e.remove()},jI=function(e,t){const r=x(this,_p).get(e);if(r)return r;const i=ae(this,bl,Lw).call(this,t);i.canvas.width=i.canvas.height=Co,ae(this,bl,NE).call(this,i,Co,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const h=s/(s+o);return x(this,_p).set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,Co,Co),i.strokeText("g",0,0);let c=i.getImageData(0,0,Co,Co).data;o=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){o=Math.ceil(h/4/Co);break}i.clearRect(0,0,Co,Co),i.strokeText("A",0,Co),c=i.getImageData(0,0,Co,Co).data,s=0;for(let h=0,p=c.length;h<p;h+=4)if(c[h]>0){s=Co-Math.floor(h/4/Co);break}i.canvas.width=i.canvas.height=0;const u=s?s/(s+o):pH;return x(this,_p).set(e,u),u},ne(Sa,bl),ne(Sa,_p,new Map),ne(Sa,Sp,new Map),ne(Sa,ty,new WeakMap),ne(Sa,Md,null),ne(Sa,A1,new Set);let Yx=Sa;class $x{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(a){var c;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if($x.shouldBuildText(o))(c=a==null?void 0:a.attributes)!=null&&c.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&t.push({str:s}),!!a.children)for(const u of a.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const gH=65536,mH=100,vH=5e3,xH=Is?IU:NU,yH=Is?MU:CI,bH=Is?LU:RU,wH=Is?DU:LI;function _H(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new RE,{docId:t}=e,r=n.url?SH(n.url):null,i=n.data?AH(n.data):null,a=n.httpHeaders||null,s=n.withCredentials===!0,o=n.password??null,c=n.range instanceof GI?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:gH;let h=n.worker instanceof jm?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!u5(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,y=n.CMapReaderFactory||yH,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,C=n.StandardFontDataFactory||wH,L=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,D=n.isEvalSupported!==!1,z=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Is,q=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Is&&(no.platform.isFirefox||!globalThis.chrome),P=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,W=typeof n.disableFontFace=="boolean"?n.disableFontFace:Is,O=n.fontExtraProperties===!0,Q=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,j=n.disableRange===!0,ee=n.disableStream===!0,fe=n.disableAutoFetch===!0,ue=n.pdfBug===!0,K=n.CanvasFactory||xH,le=n.FilterFactory||bH,Te=n.enableHWA===!0,ge=c?c.length:n.length??NaN,Be=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Is&&!W,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===CI&&C===LI&&m&&S&&cx(m,document.baseURI)&&cx(S,document.baseURI),M=null;oU(p);const H={canvasFactory:new K({ownerDocument:B,enableHWA:Te}),filterFactory:new le({docId:t,ownerDocument:B}),cMapReaderFactory:ie?null:new y({baseUrl:m,isCompressed:w}),standardFontDataFactory:ie?null:new C({baseUrl:S})};if(!h){const se={verbosity:p,port:ph.workerPort};h=se.port?jm.fromPort(se):new jm(se),e._worker=h}const G={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:fe,rangeChunkSize:u,length:ge,docBaseUrl:g,enableXfa:Q,evaluatorOptions:{maxImageSize:R,disableFontFace:W,ignoreErrors:L,isEvalSupported:D,isOffscreenCanvasSupported:z,isImageDecoderSupported:q,canvasMaxAreaInBytes:P,fontExtraProperties:O,useSystemFonts:Be,cMapUrl:ie?m:null,standardFontDataUrl:ie?S:null}},Y={disableFontFace:W,fontExtraProperties:O,ownerDocument:B,pdfBug:ue,styleElement:M,loadingParams:{disableAutoFetch:fe,enableXfa:Q}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const se=h.messageHandler.sendWithPromise("GetDocRequest",G,i?[i.buffer]:null);let ye;if(c)ye=new JU(c,{disableRange:j,disableStream:ee});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ke;if(Is)if(cx(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ke=gN}else ke=uH;else ke=cx(r)?gN:aH;ye=new ke({url:r,length:ge,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:j,disableStream:ee})}return se.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ce=new dx(t,ke,h.port),Le=new kH(Ce,e,ye,Y,H);e._transport=Le,Ce.send("Ready",null)})}).catch(e._capability.reject),e}function SH(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Is&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function AH(n){if(Is&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return l5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function mN(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var W_;const X_=class X_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ws(X_,W_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};W_=new WeakMap,ne(X_,W_,0);let RE=X_;class GI{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Kr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class EH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Dd,Qf,Zl,Tm,Iw;class TH{constructor(e,t,r,i=!1){ne(this,Zl);ne(this,Dd,null);ne(this,Qf,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new nN:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new qI,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new Hy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=vd.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:p=!1}){var D,z;(D=this._stats)==null||D.time("Overall");const g=this._transport.getRenderingIntent(r,i,h,p),{renderingIntent:m,cacheKey:w}=g;X(this,Qf,!1),ae(this,Zl,Iw).call(this),o||(o=this._transport.getOptionalContentConfig(m));let y=this._intentStates.get(w);y||(y=Object.create(null),this._intentStates.set(w,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const S=!!(m&hl.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(z=this._stats)==null||z.time("Page Request"),this._pumpOperatorList(g));const C=q=>{var P;y.renderTasks.delete(L),(this._maybeCleanupAfterRender||S)&&X(this,Qf,!0),ae(this,Zl,Tm).call(this,!S),q?(L.capability.reject(q),this._abortOperatorList({intentState:y,reason:q instanceof Error?q:new Error(q)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new IE({callback:C,params:{canvasContext:e,viewport:t,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:u});(y.renderTasks||(y.renderTasks=new Set)).add(L);const R=L.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([q,P])=>{var W;if(this.destroyed){C();return}if((W=this._stats)==null||W.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:q,optionalContentConfig:P}),L.operatorListChanged()}).catch(C),R}getOperatorList({intent:e="display",annotationMode:t=vd.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>$x.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:c,done:u}){if(u){r(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),a()},i)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),X(this,Qf,!1),ae(this,Zl,Iw).call(this),Promise.all(e)}cleanup(e=!1){X(this,Qf,!0);const t=ae(this,Zl,Tm).call(this,!1);return e&&t&&this._stats&&(this._stats=new nN),t}_startRenderPage(e,t){var i,a;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&ae(this,Zl,Tm).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(t);u.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,u),h())},p=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();ae(this,Zl,Tm).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(p);else if(u.opListReadCapability)u.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof o4){let i=mH;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Zd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Dd=new WeakMap,Qf=new WeakMap,Zl=new WeakSet,Tm=function(e=!1){if(ae(this,Zl,Iw).call(this),!x(this,Qf)||this.destroyed)return!1;if(e)return X(this,Dd,setTimeout(()=>{X(this,Dd,null),ae(this,Zl,Tm).call(this,!1)},vH)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),X(this,Qf,!1),!0},Iw=function(){x(this,Dd)&&(clearTimeout(x(this,Dd)),X(this,Dd,null))};var eh,Y_;class CH{constructor(){ne(this,eh,new Map);ne(this,Y_,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};x(this,Y_).then(()=>{for(const[i]of x(this,eh))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){Un("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}x(this,eh).set(t,i)}removeEventListener(e,t){const r=x(this,eh).get(t);r==null||r(),x(this,eh).delete(t)}terminate(){for(const[,e]of x(this,eh))e==null||e();x(this,eh).clear()}}eh=new WeakMap,Y_=new WeakMap;var $_,Ap,Ep,E1,Mw,T1,Dw;const gi=class gi{constructor({name:e=null,port:t=null,verbosity:r=lU()}={}){ne(this,E1);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=x(gi,Ep))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(x(gi,Ep)||X(gi,Ep,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new dx("main","worker",e),this._messageHandler.on("ready",function(){}),ae(this,E1,Mw).call(this)}_initialize(){if(x(gi,Ap)||x(gi,T1,Dw)){this._setupFakeWorker();return}let{workerSrc:e}=gi;try{gi._isSameOrigin(window.location.href,e)||(e=gi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new dx("main","worker",t),i=()=>{a.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,ae(this,E1,Mw).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{o5("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){x(gi,Ap)||(Un("Setting up fake worker."),X(gi,Ap,!0)),gi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new CH;this._port=t;const r=`fake${Ws(gi,$_)._++}`,i=new dx(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new dx(r,r+"_worker",t),ae(this,E1,Mw).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=x(gi,Ep))==null||t.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=x(this,Ep))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gi(e)}static get workerSrc(){if(ph.workerSrc)return ph.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yn(this,"_setupFakeWorkerGlobal",(async()=>x(this,T1,Dw)?x(this,T1,Dw):(await import(this.workerSrc)).WorkerMessageHandler)())}};$_=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,E1=new WeakSet,Mw=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},T1=new WeakSet,Dw=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ne(gi,T1),ne(gi,$_,0),ne(gi,Ap,!1),ne(gi,Ep),Is&&(X(gi,Ap,!0),ph.workerSrc||(ph.workerSrc="./pdf.worker.mjs")),gi._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},gi._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let jm=gi;var th,Wu,C1,k1,nh,Tp,xx;class kH{constructor(e,t,r,i,a){ne(this,Tp);ne(this,th,new Map);ne(this,Wu,new Map);ne(this,C1,new Map);ne(this,k1,new Map);ne(this,nh,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qI,this.fontLoader=new CU({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yn(this,"annotationStorage",new f4)}getRenderingIntent(e,t=vd.ENABLE,r=null,i=!1,a=!1){let s=hl.DISPLAY,o=yE;switch(e){case"any":s=hl.ANY;break;case"display":break;case"print":s=hl.PRINT;break;default:Un(`getRenderingIntent - invalid intent: ${e}`)}const c=s&hl.PRINT&&r instanceof wI?r:this.annotationStorage;switch(t){case vd.DISABLE:s+=hl.ANNOTATIONS_DISABLE;break;case vd.ENABLE:break;case vd.ENABLE_FORMS:s+=hl.ANNOTATIONS_FORMS;break;case vd.ENABLE_STORAGE:s+=hl.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Un(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=hl.IS_EDITING),a&&(s+=hl.OPLIST);const{ids:u,hash:h}=c.modifiedIds,p=[s,o.hash,h];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=x(this,nh))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of x(this,Wu).values())e.push(i._destroy());x(this,Wu).clear(),x(this,C1).clear(),x(this,k1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),x(this,th).clear(),this.filterFactory.destroy(),Yx.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Zd("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ua(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}ua(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{ua(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}ua(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new EH(r,this))}),e.on("DocException",r=>{t._capability.reject(ko(r))}),e.on("PasswordRequest",r=>{X(this,nh,Promise.withResolvers());try{if(!t.onPassword)throw ko(r);const i=a=>{a instanceof Error?x(this,nh).reject(a):x(this,nh).resolve({password:a})};t.onPassword(i,r.code)}catch(i){x(this,nh).reject(i)}return x(this,nh).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;x(this,Wu).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in a){const m=a.error;Un(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const h=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(m,w)=>globalThis.FontInspector.fontAdded(m,w):null,p=new kU(a,{disableFontFace:o,fontExtraProperties:c,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:g}=a;ua(g,"The imageRef must be defined.");for(const m of x(this,Wu).values())for(const[,w]of m.objs)if((w==null?void 0:w.ref)===g)return w.dataLen?(this.commonObjs.resolve(r,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var c;if(this.destroyed)return;const o=x(this,Wu).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(c=s==null?void 0:s.bitmap)==null||c.close();return}switch(a){case"Image":o.objs.resolve(r,s),(s==null?void 0:s.dataLen)>rU&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Un("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=x(this,C1).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&x(this,k1).set(a.refStr,e);const s=new TH(t,a,this,this._params.pdfBug);return x(this,Wu).set(t,s),s});return x(this,C1).set(t,i),i}getPageIndex(e){return mN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ae(this,Tp,xx).call(this,"GetFieldObjects")}hasJSActions(){return ae(this,Tp,xx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ae(this,Tp,xx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ae(this,Tp,xx).call(this,"GetOptionalContentConfig").then(t=>new KU(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=x(this,th).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new YU(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return x(this,th).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of x(this,Wu).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,th).clear(),this.filterFactory.destroy(!0),Yx.cleanup()}}cachedPageNumber(e){if(!mN(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,k1).get(t)??null}}th=new WeakMap,Wu=new WeakMap,C1=new WeakMap,k1=new WeakMap,nh=new WeakMap,Tp=new WeakSet,xx=function(e,t=null){const r=x(this,th).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return x(this,th).set(e,i),i};const nx=Symbol("INITIAL_DATA");var rl,ny,LE;class qI{constructor(){ne(this,ny);ne(this,rl,Object.create(null))}get(e,t=null){if(t){const i=ae(this,ny,LE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=x(this,rl)[e];if(!r||r.data===nx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=x(this,rl)[e];return!!t&&t.data!==nx}delete(e){const t=x(this,rl)[e];return!t||t.data===nx?!1:(delete x(this,rl)[e],!0)}resolve(e,t=null){const r=ae(this,ny,LE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in x(this,rl)){const{data:r}=x(this,rl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}X(this,rl,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,rl)){const{data:t}=x(this,rl)[e];t!==nx&&(yield[e,t])}}}rl=new WeakMap,ny=new WeakSet,LE=function(e){var t;return(t=x(this,rl))[e]||(t[e]={...Promise.withResolvers(),data:nx})};var Fd;class NH{constructor(e){ne(this,Fd,null);X(this,Fd,e),this.onContinue=null}get promise(){return x(this,Fd).capability.promise}cancel(e=0){x(this,Fd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Fd).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=x(this,Fd);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Fd=new WeakMap;var Pd,Cp;const X0=class X0{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){ne(this,Pd,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new NH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(x(X0,Cp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(X0,Cp).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new zm(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),x(this,Pd)&&(window.cancelAnimationFrame(x(this,Pd)),X(this,Pd,null)),x(X0,Cp).delete(this._canvas),this.callback(e||new o4(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?X(this,Pd,window.requestAnimationFrame(()=>{X(this,Pd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(X0,Cp).delete(this._canvas),this.callback())))}};Pd=new WeakMap,Cp=new WeakMap,ne(X0,Cp,new WeakSet);let IE=X0;const RH="4.10.38",LH="f9bea397f";function vN(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function rx(n){return Math.max(0,Math.min(255,255*n))}class xN{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=rx(e),[e,e,e]}static G_HTML([e]){const t=vN(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(rx)}static RGB_HTML(e){return`#${e.map(vN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[rx(1-Math.min(1,e+i)),rx(1-Math.min(1,r+i)),rx(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,a=1-t,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class IH{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Kr("Abstract method `_createSVG` called.")}}class d4 extends IH{_createSVG(e){return document.createElementNS(Of,e)}}class VI{static setupStorage(e,t,r,i,a){const s=i.getValue(t,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:a}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[c,u]of Object.entries(s))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,t,r)}static render(e){var p,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",c=e.div;if(c.append(s),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);s.append(m),o&&$x.shouldBuildText(i.name)&&u.push(m)}return{textDivs:u}}const h=[[i,-1,s]];for(;h.length>0;){const[m,w,y]=h.at(-1);if(w+1===m.children.length){h.pop();continue}const S=m.children[++h.at(-1)[1]];if(S===null)continue;const{name:C}=S;if(C==="#text"){const R=document.createTextNode(S.value);u.push(R),y.append(R);continue}const L=(p=S==null?void 0:S.attributes)!=null&&p.xmlns?document.createElementNS(S.attributes.xmlns,C):document.createElement(C);if(y.append(L),S.attributes&&this.setAttributes({html:L,element:S,storage:t,intent:a,linkService:r}),((g=S.children)==null?void 0:g.length)>0)h.push([S,-1,L]);else if(S.value){const R=document.createTextNode(S.value);o&&$x.shouldBuildText(C)&&u.push(R),L.append(R)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const jy=1e3,MH=9,sg=new WeakSet;function Jd(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class DH{static create(e){switch(e.data.annotationType){case _a.LINK:return new WI(e);case _a.TEXT:return new FH(e);case _a.WIDGET:switch(e.data.fieldType){case"Tx":return new PH(e);case"Btn":return e.data.radioButton?new $I(e):e.data.checkBox?new BH(e):new UH(e);case"Ch":return new HH(e);case"Sig":return new OH(e)}return new vg(e);case _a.POPUP:return new DE(e);case _a.FREETEXT:return new eM(e);case _a.LINE:return new jH(e);case _a.SQUARE:return new GH(e);case _a.CIRCLE:return new qH(e);case _a.POLYLINE:return new tM(e);case _a.CARET:return new WH(e);case _a.INK:return new p4(e);case _a.POLYGON:return new VH(e);case _a.HIGHLIGHT:return new nM(e);case _a.UNDERLINE:return new XH(e);case _a.SQUIGGLY:return new YH(e);case _a.STRIKEOUT:return new $H(e);case _a.STAMP:return new rM(e);case _a.FILEATTACHMENT:return new KH(e);default:return new Zi(e)}}}var kp,N1,R1,ry,ME;const bC=class bC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ne(this,ry);ne(this,kp,null);ne(this,N1,!1);ne(this,R1,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return bC._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;x(this,kp)||X(this,kp,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&ae(this,ry,ME).call(this,t),(r=x(this,R1))==null||r.popup.updateEdited(e)}resetEdited(){var e;x(this,kp)&&(ae(this,ry,ME).call(this,x(this,kp).rect),(e=x(this,R1))==null||e.popup.resetEdited(),X(this,kp,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof vg||(a.tabIndex=jy);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof DE){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,a),a}const{width:o,height:c}=Jd(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(y>0||S>0){const L=`calc(${y}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;s.borderRadius=L}else if(this instanceof $I){const L=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;s.borderRadius=L}switch(t.borderStyle.style){case ex.SOLID:s.borderStyle="solid";break;case ex.DASHED:s.borderStyle="dashed";break;case ex.BEVELED:Un("Unimplemented border style: beveled");break;case ex.INSET:Un("Unimplemented border style: inset");break;case ex.UNDERLINE:s.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(X(this,N1,!0),s.borderColor=sn.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):s.borderWidth=0}const u=sn.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:m}=i.rawDims;s.left=`${100*(u[0]-g)/h}%`,s.top=`${100*(u[1]-m)/p}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(s.width=`${100*o/h}%`,s.height=`${100*c/p}%`):this.setRotation(w,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=Jd(this.data.rect);let o,c;e%180===0?(o=100*a/r,c=100*s/i):(o=100*s/r,c=100*a/i),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const a=i.detail[t],s=a[0],o=a.slice(1);i.target.style[r]=xN[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:xN[`${s}_rgb`](o)})};return Yn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||r[i];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,a]of Object.entries(t)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,a]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,S,C,L]=e.subarray(2,6);if(i===y&&a===S&&t===C&&r===L)return}const{style:s}=this.container;let o;if(x(this,N1)){const{borderColor:y,borderWidth:S}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const c=i-t,u=a-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const m=h.createElement("clipPath"),w=`clippath_${this.data.id}`;m.setAttribute("id",w),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let y=2,S=e.length;y<S;y+=8){const C=e[y],L=e[y+1],R=e[y+2],D=e[y+3],z=h.createElement("rect"),q=(R-t)/c,P=(a-L)/u,W=(C-R)/c,O=(L-D)/u;z.setAttribute("x",q),z.setAttribute("y",P),z.setAttribute("width",W),z.setAttribute("height",O),m.append(z),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${q}" y="${P}" width="${W}" height="${O}"/>`)}x(this,N1)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:e}=this,t=X(this,R1,new DE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Kr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===t)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!sg.has(u)){Un(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:c,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==t&&sg.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};kp=new WeakMap,N1=new WeakMap,R1=new WeakMap,ry=new WeakSet,ME=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:h}=Jd(e);t.left=`${100*(e[0]-o)/a}%`,t.top=`${100*(s-e[3]+c)/s}%`,i===0?(t.width=`${100*u/a}%`,t.height=`${100*h/s}%`):this.setRotation(i)};let Zi=bC;var gl,U0,XI,YI;class WI extends Zi{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ne(this,gl);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action),a=!0):t.attachment?(ae(this,gl,XI).call(this,i,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(ae(this,gl,YI).call(this,i,t.setOCGState),a=!0):t.dest?(this._bindLink(i,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ae(this,gl,U0).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),ae(this,gl,U0).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(t[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}t.onclick||(t.onclick=()=>!1),ae(this,gl,U0).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ae(this,gl,U0).call(this),!this._fieldObjects){Un('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:a,refs:s,include:o}=r,c=[];if(a.length!==0||s.length!==0){const g=new Set(s);for(const m of a){const w=this._fieldObjects[m]||[];for(const{id:y}of w)g.add(y)}for(const m of Object.values(this._fieldObjects))for(const w of m)g.has(w.id)===o&&c.push(w)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const u=this.annotationStorage,h=[];for(const g of c){const{id:m}=g;switch(h.push(m),g.type){case"text":{const y=g.defaultValue||"";u.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=g.defaultValue===g.exportValues;u.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=g.defaultValue||"";u.setValue(m,{value:y});break}default:continue}const w=document.querySelector(`[data-element-id="${m}"]`);if(w){if(!sg.has(w)){Un(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}gl=new WeakSet,U0=function(){this.container.setAttribute("data-internal-link","")},XI=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,i),!1},ae(this,gl,U0).call(this)},YI=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),ae(this,gl,U0).call(this)};class FH extends Zi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class vg extends Zi{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return no.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,t,r,i){var a,s,o;for(const[c,u]of r)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":sn.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||MH,a=e.style;let s;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(ZS*i))||1,p=u/h;s=Math.min(i,c(p/ZS))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,c(u/ZS))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=sn.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class PH extends vg{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let o=s.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),sg.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=jy,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";r.value=h.userValue=m,h.formattedValue=null});let p=g=>{const{formattedValue:m}=h;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{var y;if(h.focused)return;const{target:w}=m;h.userValue&&(w.value=h.userValue),h.lastCommittedValue=w.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const w={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:S}=y.detail;h.formattedValue=S,S!=null&&y.target!==document.activeElement&&(y.target.value=S),e.setValue(t,{formattedValue:S})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var R;const{charLimit:S}=y.detail,{target:C}=y;if(S===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",S);let L=h.userValue;!L||L.length<=S||(L=L.slice(0,S),C.value=h.userValue=L,e.setValue(t,{value:L}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(w,m)}),r.addEventListener("keydown",m=>{var S;h.commitKey=1;let w=-1;if(m.key==="Escape"?w=0:m.key==="Enter"&&!this.data.multiLine?w=2:m.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:y}=m.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:w,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=p;p=null,r.addEventListener("blur",m=>{var y,S;if(!h.focused||!m.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:w}=m.target;h.userValue=w,h.lastCommittedValue!==w&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),g(m)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",m=>{var z;h.lastCommittedValue=null;const{data:w,target:y}=m,{value:S,selectionStart:C,selectionEnd:L}=y;let R=C,D=L;switch(m.inputType){case"deleteWordBackward":{const q=S.substring(0,C).match(/\w*[^\w]*$/);q&&(R-=q[0].length);break}case"deleteWordForward":{const q=S.substring(C).match(/^[^\w]*\w*/);q&&(D+=q[0].length);break}case"deleteContentBackward":C===L&&(R-=1);break;case"deleteContentForward":C===L&&(D+=1);break}m.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:w||"",willCommit:!1,selStart:R,selEnd:D}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class OH extends vg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class BH extends vg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return sg.add(a),a.setAttribute("data-element-id",r),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=jy,a.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const u of this._getElementsByName(o,r)){const h=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class $I extends vg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(sg.add(a),a.setAttribute("data-element-id",r),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=jy,a.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;a.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const h=s===u.detail.value;for(const p of this._getElementsByName(u.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class UH extends WI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class HH extends vg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");sg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=jy;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),a=!1),i.append(p)}let s=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),s=()=>{h.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=h=>{const p=h?"value":"textContent",{options:g,multiple:m}=i;return m?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=o(!1);const u=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){s==null||s();const m=g.detail.value,w=new Set(Array.isArray(m)?m:[m]);for(const y of i.options)y.selected=w.has(y.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const m=i.options,w=g.detail.remove;m[w].selected=!1,i.remove(w),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(g){const{index:m,displayValue:w,exportValue:y}=g.detail.insert,S=i.children[m],C=document.createElement("option");C.textContent=w,C.value=y,S?S.before(C):i.append(C),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},items(g){const{items:m}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of m){const{displayValue:y,exportValue:S}=w,C=document.createElement("option");C.textContent=y,C.value=S,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},indices(g){const m=new Set(g.detail.indices);for(const w of g.target.options)w.selected=m.has(w.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var m;const p=o(!0),g=o(!1);e.setValue(t,{value:p}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class DE extends Zi{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Zi._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new zH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${s4}${r}`).join(",")),this.container}}var L1,K_,J_,I1,Np,Pi,rh,M1,iy,ay,D1,ih,zc,ah,sy,sh,oy,Rp,Lp,Vr,Fw,FE,KI,JI,ZI,QI,Pw,Ow,PE;class zH{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:c,rect:u,parentRect:h,open:p}){ne(this,Vr);ne(this,L1,ae(this,Vr,ZI).bind(this));ne(this,K_,ae(this,Vr,PE).bind(this));ne(this,J_,ae(this,Vr,Ow).bind(this));ne(this,I1,ae(this,Vr,Pw).bind(this));ne(this,Np,null);ne(this,Pi,null);ne(this,rh,null);ne(this,M1,null);ne(this,iy,null);ne(this,ay,null);ne(this,D1,null);ne(this,ih,!1);ne(this,zc,null);ne(this,ah,null);ne(this,sy,null);ne(this,sh,null);ne(this,oy,null);ne(this,Rp,null);ne(this,Lp,!1);var g;X(this,Pi,e),X(this,oy,i),X(this,rh,s),X(this,sh,o),X(this,ay,c),X(this,Np,t),X(this,sy,u),X(this,D1,h),X(this,iy,r),X(this,M1,c4.toDateObject(a)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",x(this,I1)),m.addEventListener("mouseenter",x(this,J_)),m.addEventListener("mouseleave",x(this,K_)),m.classList.add("popupTriggerArea");for(const m of r)(g=m.container)==null||g.addEventListener("keydown",x(this,L1));x(this,Pi).hidden=!0,p&&ae(this,Vr,Pw).call(this)}render(){if(x(this,zc))return;const e=X(this,zc,document.createElement("div"));if(e.className="popup",x(this,Np)){const a=e.style.outlineColor=sn.makeHexColor(...x(this,Np));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=sn.makeHexColor(...x(this,Np).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=x(this,oy),e.append(t),x(this,M1)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:x(this,M1).valueOf()})),t.append(a)}const i=x(this,Vr,Fw);if(i)VI.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(x(this,rh));e.append(a)}x(this,Pi).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;x(this,Rp)||X(this,Rp,{contentsObj:x(this,rh),richText:x(this,sh)}),e&&X(this,ah,null),t&&(X(this,sh,ae(this,Vr,JI).call(this,t)),X(this,rh,null)),(r=x(this,zc))==null||r.remove(),X(this,zc,null)}resetEdited(){var e;x(this,Rp)&&({contentsObj:Ws(this,rh)._,richText:Ws(this,sh)._}=x(this,Rp),X(this,Rp,null),(e=x(this,zc))==null||e.remove(),X(this,zc,null),X(this,ah,null))}forceHide(){X(this,Lp,this.isVisible),x(this,Lp)&&(x(this,Pi).hidden=!0)}maybeShow(){x(this,Lp)&&(x(this,zc)||ae(this,Vr,Ow).call(this),X(this,Lp,!1),x(this,Pi).hidden=!1)}get isVisible(){return x(this,Pi).hidden===!1}}L1=new WeakMap,K_=new WeakMap,J_=new WeakMap,I1=new WeakMap,Np=new WeakMap,Pi=new WeakMap,rh=new WeakMap,M1=new WeakMap,iy=new WeakMap,ay=new WeakMap,D1=new WeakMap,ih=new WeakMap,zc=new WeakMap,ah=new WeakMap,sy=new WeakMap,sh=new WeakMap,oy=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,Vr=new WeakSet,Fw=function(){const e=x(this,sh),t=x(this,rh);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&x(this,sh).html||null},FE=function(){var e,t,r;return((r=(t=(e=x(this,Vr,Fw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},KI=function(){var e,t,r;return((r=(t=(e=x(this,Vr,Fw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},JI=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:x(this,Vr,KI),fontSize:x(this,Vr,FE)?`calc(${x(this,Vr,FE)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return r},ZI=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,ih))&&ae(this,Vr,Pw).call(this)},QI=function(){if(x(this,ah)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:a}}}=x(this,ay);let s=!!x(this,D1),o=s?x(this,D1):x(this,sy);for(const w of x(this,iy))if(!o||sn.intersect(w.data.rect,o)!==null){o=w.data.rect,s=!0;break}const c=sn.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=s?o[2]-o[0]+5:0,p=c[0]+h,g=c[1];X(this,ah,[100*(p-i)/t,100*(g-a)/r]);const{style:m}=x(this,Pi);m.left=`${x(this,ah)[0]}%`,m.top=`${x(this,ah)[1]}%`},Pw=function(){X(this,ih,!x(this,ih)),x(this,ih)?(ae(this,Vr,Ow).call(this),x(this,Pi).addEventListener("click",x(this,I1)),x(this,Pi).addEventListener("keydown",x(this,L1))):(ae(this,Vr,PE).call(this),x(this,Pi).removeEventListener("click",x(this,I1)),x(this,Pi).removeEventListener("keydown",x(this,L1)))},Ow=function(){x(this,zc)||this.render(),this.isVisible?x(this,ih)&&x(this,Pi).classList.add("focused"):(ae(this,Vr,QI).call(this),x(this,Pi).hidden=!1,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)+1e3)},PE=function(){x(this,Pi).classList.remove("focused"),!(x(this,ih)||!this.isVisible)&&(x(this,Pi).hidden=!0,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)-1e3)};class eM extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ly;class jH extends Zi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,ly,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Jd(t.rect),a=this.svgFactory.create(r,i,!0),s=X(this,ly,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,ly)}addHighlightArea(){this.container.classList.add("highlightArea")}}ly=new WeakMap;var cy;class GH extends Zi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,cy,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Jd(t.rect),a=this.svgFactory.create(r,i,!0),s=t.borderStyle.width,o=X(this,cy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,cy)}addHighlightArea(){this.container.classList.add("highlightArea")}}cy=new WeakMap;var uy;class qH extends Zi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,uy,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Jd(t.rect),a=this.svgFactory.create(r,i,!0),s=t.borderStyle.width,o=X(this,uy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}uy=new WeakMap;var fy;class tM extends Zi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,fy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:a}}=this;if(!r)return this.container;const{width:s,height:o}=Jd(t),c=this.svgFactory.create(s,o,!0);let u=[];for(let p=0,g=r.length;p<g;p+=2){const m=r[p]-t[0],w=t[3]-r[p+1];u.push(`${m},${w}`)}u=u.join(" ");const h=X(this,fy,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap;class VH extends tM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class WH extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hy,Ip,dy,OE;class p4 extends Zi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,dy);ne(this,hy,null);ne(this,Ip,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Bn.HIGHLIGHT:Bn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:c,height:u}=ae(this,dy,OE).call(this,r,t),h=this.svgFactory.create(c,u,!0),p=X(this,hy,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",o);for(let g=0,m=i.length;g<m;g++){const w=this.svgFactory.createElement(this.svgElementName);x(this,Ip).push(w),w.setAttribute("points",i[g].join(",")),p.append(w)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:a}=t,s=x(this,hy);if(r>=0&&s.setAttribute("stroke-width",r||1),i)for(let o=0,c=x(this,Ip).length;o<c;o++)x(this,Ip)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:c,height:u}=ae(this,dy,OE).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return x(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap,Ip=new WeakMap,dy=new WeakSet,OE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class nM extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Bn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class XH extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class YH extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $H extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rM extends Zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Bn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var py,gy,BE;class KH extends Zi{constructor(t){var i;super(t,{isRenderable:!0});ne(this,gy);ne(this,py,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ae(this,gy,BE).bind(this)),X(this,py,i);const{isMac:a}=no.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&ae(this,gy,BE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return x(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap,gy=new WeakSet,BE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var my,Mp,Dp,vy,gg,iM,UE;class JH{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){ne(this,gg);ne(this,my,null);ne(this,Mp,null);ne(this,Dp,new Map);ne(this,vy,null);this.div=e,X(this,my,t),X(this,Mp,r),X(this,vy,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return x(this,Dp).size>0}async render(e){var s;const{annotations:t}=e,r=this.div;ig(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new d4,annotationStorage:e.annotationStorage||new f4,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===_a.POPUP;if(c){const p=i.get(o.id);if(!p)continue;a.elements=p}else{const{width:p,height:g}=Jd(o.rect);if(p<=0||g<=0)continue}a.data=o;const u=DH.create(a);if(!u.isRenderable)continue;if(!c&&o.popupRef){const p=i.get(o.popupRef);p?p.push(u):i.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),await ae(this,gg,iM).call(this,h,o.id),u._isEditable&&(x(this,Dp).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}ae(this,gg,UE).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ig(t,{rotation:e.rotation}),ae(this,gg,UE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(x(this,Dp).values())}getEditableAnnotation(e){return x(this,Dp).get(e)}}my=new WeakMap,Mp=new WeakMap,Dp=new WeakMap,vy=new WeakMap,gg=new WeakSet,iM=async function(e,t){var s,o;const r=e.firstChild||e,i=r.id=`${s4}${t}`,a=await((s=x(this,vy))==null?void 0:s.getAriaAttributes(i));if(a)for(const[c,u]of a)r.setAttribute(c,u);this.div.append(e),(o=x(this,my))==null||o.moveElementInDOM(this.div,e,r,!1)},UE=function(){if(!x(this,Mp))return;const e=this.div;for(const[t,r]of x(this,Mp)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r)}x(this,Mp).clear()};const Xb=/\r\n?|\n/g;var jc,il,xy,Fp,al,fa,aM,sM,oM,Bw,wh,Uw,Hw,lM,zE,cM;const Jr=class Jr extends Ei{constructor(t){super({...t,name:"freeTextEditor"});ne(this,fa);ne(this,jc);ne(this,il,"");ne(this,xy,`${this.id}-editor`);ne(this,Fp,null);ne(this,al);X(this,jc,t.color||Jr._defaultColor||Ei._defaultLineColor),X(this,al,t.fontSize||Jr._defaultFontSize)}static get _keyboardManager(){const t=Jr.prototype,r=s=>s.isEmpty(),i=ag.TRANSLATE_SMALL,a=ag.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new zy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(t,r){Ei.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ir.FREETEXT_SIZE:Jr._defaultFontSize=r;break;case ir.FREETEXT_COLOR:Jr._defaultColor=r;break}}updateParams(t,r){switch(t){case ir.FREETEXT_SIZE:ae(this,fa,aM).call(this,r);break;case ir.FREETEXT_COLOR:ae(this,fa,sM).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ir.FREETEXT_SIZE,Jr._defaultFontSize],[ir.FREETEXT_COLOR,Jr._defaultColor||Ei._defaultLineColor]]}get propertiesToUpdate(){return[[ir.FREETEXT_SIZE,x(this,al)],[ir.FREETEXT_COLOR,x(this,jc)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Jr._internalPadding*t,-(Jr._internalPadding+x(this,al))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),X(this,Fp,new AbortController);const t=this._uiManager.combinedSignal(x(this,Fp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,xy)),this._isDraggable=!0,(t=x(this,Fp))==null||t.abort(),X(this,Fp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=x(this,il),r=X(this,il,ae(this,fa,oM).call(this).trimEnd());if(t===r)return;const i=a=>{if(X(this,il,a),!a){this.remove();return}ae(this,fa,Hw).call(this),this._uiManager.rebuild(this),ae(this,fa,Bw).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),ae(this,fa,Bw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Jr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,xy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${x(this,al)}px * var(--scale-factor))`,i.color=x(this,jc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),s_(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,p]=this.pageDimensions,[g,m]=this.pageTranslation;let w,y;switch(this.rotation){case 0:w=t+(o[0]-g)/h,y=r+this.height-(o[1]-m)/p;break;case 90:w=t+(o[0]-g)/h,y=r-(o[1]-m)/p,[c,u]=[u,-c];break;case 180:w=t-this.width+(o[0]-g)/h,y=r-(o[1]-m)/p,[c,u]=[-c,-u];break;case 270:w=t+(o[0]-g-this.height*p)/h,y=r+(o[1]-m-this.width*h)/p,[c,u]=[-u,c];break}this.setAt(w*a,y*s,c,u)}else this.setAt(t*a,r*s,this.width*a,this.height*s);ae(this,fa,Hw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var w,y,S;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=ae(w=Jr,wh,zE).call(w,r.getData("text")||"").replaceAll(Xb,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const C=c.parentElement;if(p.push(c.nodeValue.slice(u).replaceAll(Xb,"")),C!==this.editorDiv){let L=h;for(const R of this.editorDiv.childNodes){if(R===C){L=p;continue}L.push(ae(y=Jr,wh,Uw).call(y,R))}}h.push(c.nodeValue.slice(0,u).replaceAll(Xb,""))}else if(c===this.editorDiv){let C=h,L=0;for(const R of this.editorDiv.childNodes)L++===u&&(C=p),C.push(ae(S=Jr,wh,Uw).call(S,R))}X(this,il,`${h.join(`
`)}${a}${p.join(`
`)}`),ae(this,fa,Hw).call(this);const g=new Range;let m=h.reduce((C,L)=>C+L.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const L=C.nodeValue.length;if(m<=L){g.setStart(C,m),g.setEnd(C,m);break}m-=L}s.removeAllRanges(),s.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var o;let a=null;if(t instanceof eM){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:p,id:g,popupRef:m},textContent:w,textPosition:y,parent:{page:{pageNumber:S}}}=t;if(!w||w.length===0)return null;a=t={annotationType:Bn.FREETEXT,color:Array.from(u),fontSize:c,value:w.join(`
`),position:y,pageIndex:S-1,rect:h.slice(0),rotation:p,id:g,deleted:!1,popupRef:m}}const s=await super.deserialize(t,r,i);return X(s,al,t.fontSize),X(s,jc,sn.makeHexColor(...t.color)),X(s,il,ae(o=Jr,wh,zE).call(o,t.value)),s.annotationElementId=t.id||null,s._initialData=a,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Jr._internalPadding*this.parentScale,i=this.getRect(r,r),a=Ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,jc)),s={annotationType:Bn.FREETEXT,color:a,fontSize:x(this,al),value:ae(this,fa,lM).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!ae(this,fa,cM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${x(this,al)}px * var(--scale-factor))`,i.color=x(this,jc),r.replaceChildren();for(const s of x(this,il).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}const a=Jr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:x(this,il)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};jc=new WeakMap,il=new WeakMap,xy=new WeakMap,Fp=new WeakMap,al=new WeakMap,fa=new WeakSet,aM=function(t){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-x(this,al))*this.parentScale),X(this,al,a),ae(this,fa,Bw).call(this)},i=x(this,al);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},sM=function(t){const r=a=>{X(this,jc,this.editorDiv.style.color=a)},i=x(this,jc);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oM=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(ae(i=Jr,wh,Uw).call(i,a)),r=a);return t.join(`
`)},Bw=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},wh=new WeakSet,Uw=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Xb,"")},Hw=function(){if(this.editorDiv.replaceChildren(),!!x(this,il))for(const t of x(this,il).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},lM=function(){return x(this,il).replaceAll(""," ")},zE=function(t){return t.replaceAll(" ","")},cM=function(t){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,c)=>o!==a[c])||t.pageIndex!==s},ne(Jr,wh),Mt(Jr,"_freeTextDefaultContent",""),Mt(Jr,"_internalPadding",0),Mt(Jr,"_defaultColor",null),Mt(Jr,"_defaultFontSize",10),Mt(Jr,"_type","freetext"),Mt(Jr,"_editorType",Bn.FREETEXT);let HE=Jr;class qt{toSVGPath(){Kr("Abstract method `toSVGPath` must be implemented.")}get box(){Kr("Abstract getter `box` must be implemented.")}serialize(e,t){Kr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)s[o]=t+e[o]*i,s[o+1]=r+e[o+1]*a;return s}static _rescaleAndSwap(e,t,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)s[o]=t+e[o+1]*i,s[o+1]=r+e[o]*a;return s}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=t+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,a){switch(a){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,a,s){return[(e+5*r)/6,(t+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}Mt(qt,"PRECISION",1e-4);var sl,Gc,F1,P1,Xu,Wn,Pp,Op,yy,by,O1,B1,Od,wy,Z_,Q_,Ca,yx,uM,fM,hM,dM,pM,gM;const zf=class zf{constructor({x:e,y:t},r,i,a,s,o=0){ne(this,Ca);ne(this,sl);ne(this,Gc,[]);ne(this,F1);ne(this,P1);ne(this,Xu,[]);ne(this,Wn,new Float32Array(18));ne(this,Pp);ne(this,Op);ne(this,yy);ne(this,by);ne(this,O1);ne(this,B1);ne(this,Od,[]);X(this,sl,r),X(this,B1,a*i),X(this,P1,s),x(this,Wn).set([NaN,NaN,NaN,NaN,e,t],6),X(this,F1,o),X(this,by,x(zf,wy)*i),X(this,yy,x(zf,Q_)*i),X(this,O1,i),x(this,Od).push(e,t)}isEmpty(){return isNaN(x(this,Wn)[8])}add({x:e,y:t}){var O;X(this,Pp,e),X(this,Op,t);const[r,i,a,s]=x(this,sl);let[o,c,u,h]=x(this,Wn).subarray(8,12);const p=e-u,g=t-h,m=Math.hypot(p,g);if(m<x(this,yy))return!1;const w=m-x(this,by),y=w/m,S=y*p,C=y*g;let L=o,R=c;o=u,c=h,u+=S,h+=C,(O=x(this,Od))==null||O.push(e,t);const D=-C/w,z=S/w,q=D*x(this,B1),P=z*x(this,B1);return x(this,Wn).set(x(this,Wn).subarray(2,8),0),x(this,Wn).set([u+q,h+P],4),x(this,Wn).set(x(this,Wn).subarray(14,18),12),x(this,Wn).set([u-q,h-P],16),isNaN(x(this,Wn)[6])?(x(this,Xu).length===0&&(x(this,Wn).set([o+q,c+P],2),x(this,Xu).push(NaN,NaN,NaN,NaN,(o+q-r)/a,(c+P-i)/s),x(this,Wn).set([o-q,c-P],14),x(this,Gc).push(NaN,NaN,NaN,NaN,(o-q-r)/a,(c-P-i)/s)),x(this,Wn).set([L,R,o,c,u,h],6),!this.isEmpty()):(x(this,Wn).set([L,R,o,c,u,h],6),Math.abs(Math.atan2(R-c,L-o)-Math.atan2(C,S))<Math.PI/2?([o,c,u,h]=x(this,Wn).subarray(2,6),x(this,Xu).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/a,((c+h)/2-i)/s),[o,c,L,R]=x(this,Wn).subarray(14,18),x(this,Gc).push(NaN,NaN,NaN,NaN,((L+o)/2-r)/a,((R+c)/2-i)/s),!0):([L,R,o,c,u,h]=x(this,Wn).subarray(0,6),x(this,Xu).push(((L+5*o)/6-r)/a,((R+5*c)/6-i)/s,((5*o+u)/6-r)/a,((5*c+h)/6-i)/s,((o+u)/2-r)/a,((c+h)/2-i)/s),[u,h,o,c,L,R]=x(this,Wn).subarray(12,18),x(this,Gc).push(((L+5*o)/6-r)/a,((R+5*c)/6-i)/s,((5*o+u)/6-r)/a,((5*c+h)/6-i)/s,((o+u)/2-r)/a,((c+h)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Xu),t=x(this,Gc);if(isNaN(x(this,Wn)[6])&&!this.isEmpty())return ae(this,Ca,uM).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ae(this,Ca,hM).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ae(this,Ca,fM).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,a,s){return new mM(e,t,r,i,a,s)}getOutlines(){var p;const e=x(this,Xu),t=x(this,Gc),r=x(this,Wn),[i,a,s,o]=x(this,sl),c=new Float32Array((((p=x(this,Od))==null?void 0:p.length)??0)+2);for(let g=0,m=c.length-2;g<m;g+=2)c[g]=(x(this,Od)[g]-i)/s,c[g+1]=(x(this,Od)[g+1]-a)/o;if(c[c.length-2]=(x(this,Pp)-i)/s,c[c.length-1]=(x(this,Op)-a)/o,isNaN(r[6])&&!this.isEmpty())return ae(this,Ca,dM).call(this,c);const u=new Float32Array(x(this,Xu).length+24+x(this,Gc).length);let h=e.length;for(let g=0;g<h;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}h=ae(this,Ca,gM).call(this,u,h);for(let g=t.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(t[g+m])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[g+m],u[h+1]=t[g+m+1],h+=2}return ae(this,Ca,pM).call(this,u,h),this.newFreeDrawOutline(u,c,x(this,sl),x(this,O1),x(this,F1),x(this,P1))}};sl=new WeakMap,Gc=new WeakMap,F1=new WeakMap,P1=new WeakMap,Xu=new WeakMap,Wn=new WeakMap,Pp=new WeakMap,Op=new WeakMap,yy=new WeakMap,by=new WeakMap,O1=new WeakMap,B1=new WeakMap,Od=new WeakMap,wy=new WeakMap,Z_=new WeakMap,Q_=new WeakMap,Ca=new WeakSet,yx=function(){const e=x(this,Wn).subarray(4,6),t=x(this,Wn).subarray(16,18),[r,i,a,s]=x(this,sl);return[(x(this,Pp)+(e[0]-t[0])/2-r)/a,(x(this,Op)+(e[1]-t[1])/2-i)/s,(x(this,Pp)+(t[0]-e[0])/2-r)/a,(x(this,Op)+(t[1]-e[1])/2-i)/s]},uM=function(){const[e,t,r,i]=x(this,sl),[a,s,o,c]=ae(this,Ca,yx).call(this);return`M${(x(this,Wn)[2]-e)/r} ${(x(this,Wn)[3]-t)/i} L${(x(this,Wn)[4]-e)/r} ${(x(this,Wn)[5]-t)/i} L${a} ${s} L${o} ${c} L${(x(this,Wn)[16]-e)/r} ${(x(this,Wn)[17]-t)/i} L${(x(this,Wn)[14]-e)/r} ${(x(this,Wn)[15]-t)/i} Z`},fM=function(e){const t=x(this,Gc);e.push(`L${t[4]} ${t[5]} Z`)},hM=function(e){const[t,r,i,a]=x(this,sl),s=x(this,Wn).subarray(4,6),o=x(this,Wn).subarray(16,18),[c,u,h,p]=ae(this,Ca,yx).call(this);e.push(`L${(s[0]-t)/i} ${(s[1]-r)/a} L${c} ${u} L${h} ${p} L${(o[0]-t)/i} ${(o[1]-r)/a}`)},dM=function(e){const t=x(this,Wn),[r,i,a,s]=x(this,sl),[o,c,u,h]=ae(this,Ca,yx).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/a,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-r)/a,(t[5]-i)/s,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-r)/a,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-r)/a,(t[15]-i)/s],0),this.newFreeDrawOutline(p,e,x(this,sl),x(this,O1),x(this,F1),x(this,P1))},pM=function(e,t){const r=x(this,Gc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},gM=function(e,t){const r=x(this,Wn).subarray(4,6),i=x(this,Wn).subarray(16,18),[a,s,o,c]=x(this,sl),[u,h,p,g]=ae(this,Ca,yx).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/c],t),t+=24},ne(zf,wy,8),ne(zf,Z_,2),ne(zf,Q_,x(zf,wy)+x(zf,Z_));let c_=zf;var U1,Bp,oh,_y,ol,Sy,Xi,e5,vM;class mM extends qt{constructor(t,r,i,a,s,o){super();ne(this,e5);ne(this,U1);ne(this,Bp,new Float32Array(4));ne(this,oh);ne(this,_y);ne(this,ol);ne(this,Sy);ne(this,Xi);X(this,Xi,t),X(this,ol,r),X(this,U1,i),X(this,Sy,a),X(this,oh,s),X(this,_y,o),this.lastPoint=[NaN,NaN],ae(this,e5,vM).call(this,o);const[c,u,h,p]=x(this,Bp);for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-u)/p;for(let g=0,m=r.length;g<m;g+=2)r[g]=(r[g]-c)/h,r[g+1]=(r[g+1]-u)/p}toSVGPath(){const t=[`M${x(this,Xi)[4]} ${x(this,Xi)[5]}`];for(let r=6,i=x(this,Xi).length;r<i;r+=6){if(isNaN(x(this,Xi)[r])){t.push(`L${x(this,Xi)[r+4]} ${x(this,Xi)[r+5]}`);continue}t.push(`C${x(this,Xi)[r]} ${x(this,Xi)[r+1]} ${x(this,Xi)[r+2]} ${x(this,Xi)[r+3]} ${x(this,Xi)[r+4]} ${x(this,Xi)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,a],s){const o=i-t,c=a-r;let u,h;switch(s){case 0:u=qt._rescale(x(this,Xi),t,a,o,-c),h=qt._rescale(x(this,ol),t,a,o,-c);break;case 90:u=qt._rescaleAndSwap(x(this,Xi),t,r,o,c),h=qt._rescaleAndSwap(x(this,ol),t,r,o,c);break;case 180:u=qt._rescale(x(this,Xi),i,r,-o,c),h=qt._rescale(x(this,ol),i,r,-o,c);break;case 270:u=qt._rescaleAndSwap(x(this,Xi),i,a,-o,-c),h=qt._rescaleAndSwap(x(this,ol),i,a,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return x(this,Bp)}newOutliner(t,r,i,a,s,o=0){return new c_(t,r,i,a,s,o)}getNewOutline(t,r){const[i,a,s,o]=x(this,Bp),[c,u,h,p]=x(this,U1),g=s*h,m=o*p,w=i*h+c,y=a*p+u,S=this.newOutliner({x:x(this,ol)[0]*g+w,y:x(this,ol)[1]*m+y},x(this,U1),x(this,Sy),t,x(this,_y),r??x(this,oh));for(let C=2;C<x(this,ol).length;C+=2)S.add({x:x(this,ol)[C]*g+w,y:x(this,ol)[C+1]*m+y});return S.getOutlines()}}U1=new WeakMap,Bp=new WeakMap,oh=new WeakMap,_y=new WeakMap,ol=new WeakMap,Sy=new WeakMap,Xi=new WeakMap,e5=new WeakSet,vM=function(t){const r=x(this,Xi);let i=r[4],a=r[5],s=i,o=a,c=i,u=a,h=i,p=a;const g=t?Math.max:Math.min;for(let w=6,y=r.length;w<y;w+=6){if(isNaN(r[w]))s=Math.min(s,r[w+4]),o=Math.min(o,r[w+5]),c=Math.max(c,r[w+4]),u=Math.max(u,r[w+5]),p<r[w+5]?(h=r[w+4],p=r[w+5]):p===r[w+5]&&(h=g(h,r[w+4]));else{const S=sn.bezierBoundingBox(i,a,...r.slice(w,w+6));s=Math.min(s,S[0]),o=Math.min(o,S[1]),c=Math.max(c,S[2]),u=Math.max(u,S[3]),p<S[3]?(h=S[2],p=S[3]):p===S[3]&&(h=g(h,S[2]))}i=r[w+4],a=r[w+5]}const m=x(this,Bp);m[0]=s-x(this,oh),m[1]=o-x(this,oh),m[2]=c-s+2*x(this,oh),m[3]=u-o+2*x(this,oh),this.lastPoint=[h,p]};var Ay,Ey,Bd,qc,ao,xM,zw,yM,bM,GE;class jE{constructor(e,t=0,r=0,i=!0){ne(this,ao);ne(this,Ay);ne(this,Ey);ne(this,Bd,[]);ne(this,qc,[]);let a=1/0,s=-1/0,o=1/0,c=-1/0;const u=10**-4;for(const{x:S,y:C,width:L,height:R}of e){const D=Math.floor((S-t)/u)*u,z=Math.ceil((S+L+t)/u)*u,q=Math.floor((C-t)/u)*u,P=Math.ceil((C+R+t)/u)*u,W=[D,q,P,!0],O=[z,q,P,!1];x(this,Bd).push(W,O),a=Math.min(a,D),s=Math.max(s,z),o=Math.min(o,q),c=Math.max(c,P)}const h=s-a+2*r,p=c-o+2*r,g=a-r,m=o-r,w=x(this,Bd).at(i?-1:-2),y=[w[0],w[2]];for(const S of x(this,Bd)){const[C,L,R]=S;S[0]=(C-g)/h,S[1]=(L-m)/p,S[2]=(R-m)/p}X(this,Ay,new Float32Array([g,m,h,p])),X(this,Ey,y)}getOutlines(){x(this,Bd).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of x(this,Bd))t[3]?(e.push(...ae(this,ao,GE).call(this,t)),ae(this,ao,yM).call(this,t)):(ae(this,ao,bM).call(this,t),e.push(...ae(this,ao,GE).call(this,t)));return ae(this,ao,xM).call(this,e)}}Ay=new WeakMap,Ey=new WeakMap,Bd=new WeakMap,qc=new WeakMap,ao=new WeakSet,xM=function(e){const t=[],r=new Set;for(const s of e){const[o,c,u]=s;t.push([o,c,s],[o,u,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const c=t[s][2],u=t[s+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,c,u,h,p]=s;r.delete(s);let g=o,m=c;for(a=[o,u],i.push(a);;){let w;if(r.has(h))w=h;else if(r.has(p))w=p;else break;r.delete(w),[o,c,u,h,p]=w,g!==o&&(a.push(g,m,o,m===c?c:u),g=o),m=m===c?u:c}a.push(g,m)}return new ZH(i,x(this,Ay),x(this,Ey))},zw=function(e){const t=x(this,qc);let r=0,i=t.length-1;for(;r<=i;){const a=r+i>>1,s=t[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},yM=function([,e,t]){const r=ae(this,ao,zw).call(this,e);x(this,qc).splice(r,0,[e,t])},bM=function([,e,t]){const r=ae(this,ao,zw).call(this,e);for(let i=r;i<x(this,qc).length;i++){const[a,s]=x(this,qc)[i];if(a!==e)break;if(a===e&&s===t){x(this,qc).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=x(this,qc)[i];if(a!==e)break;if(a===e&&s===t){x(this,qc).splice(i,1);return}}},GE=function(e){const[t,r,i]=e,a=[[t,r,i]],s=ae(this,ao,zw).call(this,i);for(let o=0;o<s;o++){const[c,u]=x(this,qc)[o];for(let h=0,p=a.length;h<p;h++){const[,g,m]=a[h];if(!(u<=g||m<=c)){if(g>=c){if(m>u)a[h][1]=u;else{if(p===1)return[];a.splice(h,1),h--,p--}continue}a[h][2]=c,m>u&&a.push([t,u,m])}}}return a};var Ty,H1;class ZH extends qt{constructor(t,r,i){super();ne(this,Ty);ne(this,H1);X(this,H1,t),X(this,Ty,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of x(this,H1)){let[i,a]=r;t.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],c=r[s+1];o===i?(t.push(`V${c}`),a=c):c===a&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,a],s){const o=[],c=i-t,u=a-r;for(const h of x(this,H1)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*c,p[g+1]=a-h[g+1]*u;o.push(p)}return o}get box(){return x(this,Ty)}get classNamesForOutlining(){return["highlightOutline"]}}Ty=new WeakMap,H1=new WeakMap;class qE extends c_{newFreeDrawOutline(e,t,r,i,a,s){return new QH(e,t,r,i,a,s)}}class QH extends mM{newOutliner(e,t,r,i,a,s=0){return new qE(e,t,r,i,a,s)}}var Vc,Up,z1,Ea,Cy,j1,ky,Ny,Ud,Wc,G1,Ry,Gr,VE,WE,XE,H0,wM,md;const No=class No{constructor({editor:e=null,uiManager:t=null}){ne(this,Gr);ne(this,Vc,null);ne(this,Up,null);ne(this,z1);ne(this,Ea,null);ne(this,Cy,!1);ne(this,j1,!1);ne(this,ky,null);ne(this,Ny);ne(this,Ud,null);ne(this,Wc,null);ne(this,G1);var r;e?(X(this,j1,!1),X(this,G1,ir.HIGHLIGHT_COLOR),X(this,ky,e)):(X(this,j1,!0),X(this,G1,ir.HIGHLIGHT_DEFAULT_COLOR)),X(this,Wc,(e==null?void 0:e._uiManager)||t),X(this,Ny,x(this,Wc)._eventBus),X(this,z1,(e==null?void 0:e.color)||((r=x(this,Wc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),x(No,Ry)||X(No,Ry,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yn(this,"_keyboardManager",new zy([[["Escape","mac+Escape"],No.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],No.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],No.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],No.prototype._moveToPrevious],[["Home","mac+Home"],No.prototype._moveToBeginning],[["End","mac+End"],No.prototype._moveToEnd]]))}renderButton(){const e=X(this,Vc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=x(this,Wc)._signal;e.addEventListener("click",ae(this,Gr,H0).bind(this),{signal:t}),e.addEventListener("keydown",ae(this,Gr,XE).bind(this),{signal:t});const r=X(this,Up,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=x(this,z1),e.append(r),e}renderMainDropdown(){const e=X(this,Ea,ae(this,Gr,VE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,Vc)){ae(this,Gr,H0).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ae(this,Gr,WE).call(this,t,e)}_moveToNext(e){var t,r;if(!x(this,Gr,md)){ae(this,Gr,H0).call(this,e);return}if(e.target===x(this,Vc)){(t=x(this,Ea).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=x(this,Ea))==null?void 0:t.firstChild)||e.target===x(this,Vc)){x(this,Gr,md)&&this._hideDropdownFromKeyboard();return}x(this,Gr,md)||ae(this,Gr,H0).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!x(this,Gr,md)){ae(this,Gr,H0).call(this,e);return}(t=x(this,Ea).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!x(this,Gr,md)){ae(this,Gr,H0).call(this,e);return}(t=x(this,Ea).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=x(this,Ea))==null||e.classList.add("hidden"),(t=x(this,Ud))==null||t.abort(),X(this,Ud,null)}_hideDropdownFromKeyboard(){var e;if(!x(this,j1)){if(!x(this,Gr,md)){(e=x(this,ky))==null||e.unselect();return}this.hideDropdown(),x(this,Vc).focus({preventScroll:!0,focusVisible:x(this,Cy)})}}updateColor(e){if(x(this,Up)&&(x(this,Up).style.backgroundColor=e),!x(this,Ea))return;const t=x(this,Wc).highlightColors.values();for(const r of x(this,Ea).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=x(this,Vc))==null||e.remove(),X(this,Vc,null),X(this,Up,null),(t=x(this,Ea))==null||t.remove(),X(this,Ea,null)}};Vc=new WeakMap,Up=new WeakMap,z1=new WeakMap,Ea=new WeakMap,Cy=new WeakMap,j1=new WeakMap,ky=new WeakMap,Ny=new WeakMap,Ud=new WeakMap,Wc=new WeakMap,G1=new WeakMap,Ry=new WeakMap,Gr=new WeakSet,VE=function(){const e=document.createElement("div"),t=x(this,Wc)._signal;e.addEventListener("contextmenu",iu,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of x(this,Wc).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",x(No,Ry)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===x(this,z1)),a.addEventListener("click",ae(this,Gr,WE).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",ae(this,Gr,XE).bind(this),{signal:t}),e},WE=function(e,t){t.stopPropagation(),x(this,Ny).dispatch("switchannotationeditorparams",{source:this,type:x(this,G1),value:e})},XE=function(e){No._keyboardManager.exec(this,e)},H0=function(e){if(x(this,Gr,md)){this.hideDropdown();return}if(X(this,Cy,e.detail===0),x(this,Ud)||(X(this,Ud,new AbortController),window.addEventListener("pointerdown",ae(this,Gr,wM).bind(this),{signal:x(this,Wc).combinedSignal(x(this,Ud))})),x(this,Ea)){x(this,Ea).classList.remove("hidden");return}const t=X(this,Ea,ae(this,Gr,VE).call(this));x(this,Vc).append(t)},wM=function(e){var t;(t=x(this,Ea))!=null&&t.contains(e.target)||this.hideDropdown()},md=function(){return x(this,Ea)&&!x(this,Ea).classList.contains("hidden")},ne(No,Ry,null);let u_=No;var q1,Ly,lh,Hp,V1,Io,Iy,My,zp,Xl,ll,as,W1,ch,Ts,X1,Yl,Dy,Dn,YE,jw,_M,SM,AM,$E,z0,Ql,Cm,EM,Gw,bx,TM,CM,kM,NM,RM;const Er=class Er extends Ei{constructor(t){super({...t,name:"highlightEditor"});ne(this,Dn);ne(this,q1,null);ne(this,Ly,0);ne(this,lh);ne(this,Hp,null);ne(this,V1,null);ne(this,Io,null);ne(this,Iy,null);ne(this,My,0);ne(this,zp,null);ne(this,Xl,null);ne(this,ll,null);ne(this,as,!1);ne(this,W1,null);ne(this,ch);ne(this,Ts,null);ne(this,X1,"");ne(this,Yl);ne(this,Dy,"");this.color=t.color||Er._defaultColor,X(this,Yl,t.thickness||Er._defaultThickness),X(this,ch,t.opacity||Er._defaultOpacity),X(this,lh,t.boxes||null),X(this,Dy,t.methodOfCreation||""),X(this,X1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(X(this,as,!0),ae(this,Dn,jw).call(this,t),ae(this,Dn,z0).call(this)):x(this,lh)&&(X(this,q1,t.anchorNode),X(this,Ly,t.anchorOffset),X(this,Iy,t.focusNode),X(this,My,t.focusOffset),ae(this,Dn,YE).call(this),ae(this,Dn,z0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Er.prototype;return Yn(this,"_keyboardManager",new zy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,as)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,Yl),methodOfCreation:x(this,Dy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Ei.initialize(t,r),Er._defaultColor||(Er._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ir.HIGHLIGHT_DEFAULT_COLOR:Er._defaultColor=r;break;case ir.HIGHLIGHT_THICKNESS:Er._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return x(this,W1)}updateParams(t,r){switch(t){case ir.HIGHLIGHT_COLOR:ae(this,Dn,_M).call(this,r);break;case ir.HIGHLIGHT_THICKNESS:ae(this,Dn,SM).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ir.HIGHLIGHT_DEFAULT_COLOR,Er._defaultColor],[ir.HIGHLIGHT_THICKNESS,Er._defaultThickness]]}get propertiesToUpdate(){return[[ir.HIGHLIGHT_COLOR,this.color||Er._defaultColor],[ir.HIGHLIGHT_THICKNESS,x(this,Yl)||Er._defaultThickness],[ir.HIGHLIGHT_FREE,x(this,as)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(X(this,V1,new u_({editor:this})),t.addColorPicker(x(this,V1))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ae(this,Dn,bx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,ae(this,Dn,bx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ae(this,Dn,$E).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ae(this,Dn,z0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?ae(this,Dn,$E).call(this):t&&(ae(this,Dn,z0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var a,s,o;const{drawLayer:r}=this.parent;let i;x(this,as)?(t=(t-this.rotation+360)%360,i=ae(a=Er,Ql,Cm).call(a,x(this,Xl).box,t)):i=ae(s=Er,Ql,Cm).call(s,[this.x,this.y,this.width,this.height],t),r.updateProperties(x(this,ll),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(x(this,Ts),{bbox:ae(o=Er,Ql,Cm).call(o,x(this,Io).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();x(this,X1)&&(t.setAttribute("aria-label",x(this,X1)),t.setAttribute("role","mark")),x(this,as)?t.classList.add("free"):this.div.addEventListener("keydown",ae(this,Dn,EM).bind(this),{signal:this._uiManager._signal});const r=X(this,zp,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=x(this,Hp);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),s_(this,x(this,zp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,Ts),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,Ts),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ae(this,Dn,Gw).call(this,!0);break;case 1:case 3:ae(this,Dn,Gw).call(this,!1);break}}select(){var t;super.select(),x(this,Ts)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,Ts),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),x(this,Ts)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,Ts),{rootClass:{selected:!1}}),x(this,as)||ae(this,Dn,Gw).call(this,!1))}get _mustFixPosition(){return!x(this,as)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(x(this,ll),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(x(this,Ts),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:a,y:s}){const{x:o,y:c,width:u,height:h}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),m=w=>{p.abort(),ae(this,Ql,NM).call(this,t,w)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",ml,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",iu,{signal:g}),i.addEventListener("pointermove",ae(this,Ql,kM).bind(this,t),{signal:g}),this._freeHighlight=new qE({x:a,y:s},[o,c,u,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var y,S,C,L;let a=null;if(t instanceof nM){const{data:{quadPoints:R,rect:D,rotation:z,id:q,color:P,opacity:W,popupRef:O},parent:{page:{pageNumber:Q}}}=t;a=t={annotationType:Bn.HIGHLIGHT,color:Array.from(P),opacity:W,quadPoints:R,boxes:null,pageIndex:Q-1,rect:D.slice(0),rotation:z,id:q,deleted:!1,popupRef:O}}else if(t instanceof p4){const{data:{inkLists:R,rect:D,rotation:z,id:q,color:P,borderStyle:{rawWidth:W},popupRef:O},parent:{page:{pageNumber:Q}}}=t;a=t={annotationType:Bn.HIGHLIGHT,color:Array.from(P),thickness:W,inkLists:R,boxes:null,pageIndex:Q-1,rect:D.slice(0),rotation:z,id:q,deleted:!1,popupRef:O}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=t,h=await super.deserialize(t,r,i);h.color=sn.makeHexColor(...s),X(h,ch,u||1),c&&X(h,Yl,t.thickness),h.annotationElementId=t.id||null,h._initialData=a;const[p,g]=h.pageDimensions,[m,w]=h.pageTranslation;if(o){const R=X(h,lh,[]);for(let D=0;D<o.length;D+=8)R.push({x:(o[D]-m)/p,y:1-(o[D+1]-w)/g,width:(o[D+2]-o[D])/p,height:(o[D+1]-o[D+5])/g});ae(y=h,Dn,YE).call(y),ae(S=h,Dn,z0).call(S),h.rotate(h.rotation)}else if(c){X(h,as,!0);const R=c[0],D={x:R[0]-m,y:g-(R[1]-w)},z=new qE(D,[0,0,p,g],1,x(h,Yl)/2,!0,.001);for(let W=0,O=R.length;W<O;W+=2)D.x=R[W]-m,D.y=g-(R[W+1]-w),z.add(D);const{id:q,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:z.toSVGPath()}},!0,!0);ae(C=h,Dn,jw).call(C,{highlightOutlines:z.getOutlines(),highlightId:q,clipPathId:P}),ae(L=h,Dn,z0).call(L)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Ei._colorManager.convert(this.color),a={annotationType:Bn.HIGHLIGHT,color:i,opacity:x(this,ch),thickness:x(this,Yl),quadPoints:ae(this,Dn,TM).call(this),outlines:ae(this,Dn,CM).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ae(this,Dn,bx).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ae(this,Dn,RM).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};q1=new WeakMap,Ly=new WeakMap,lh=new WeakMap,Hp=new WeakMap,V1=new WeakMap,Io=new WeakMap,Iy=new WeakMap,My=new WeakMap,zp=new WeakMap,Xl=new WeakMap,ll=new WeakMap,as=new WeakMap,W1=new WeakMap,ch=new WeakMap,Ts=new WeakMap,X1=new WeakMap,Yl=new WeakMap,Dy=new WeakMap,Dn=new WeakSet,YE=function(){const t=new jE(x(this,lh),.001);X(this,Xl,t.getOutlines()),[this.x,this.y,this.width,this.height]=x(this,Xl).box;const r=new jE(x(this,lh),.0025,.001,this._uiManager.direction==="ltr");X(this,Io,r.getOutlines());const{lastPoint:i}=x(this,Io);X(this,W1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},jw=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,g;if(X(this,Xl,t),X(this,Io,t.getNewOutline(x(this,Yl)/2+1.5,.0025)),r>=0)X(this,ll,r),X(this,Hp,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),X(this,Ts,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:x(this,Io).box,path:{d:x(this,Io).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(x(this,ll),{bbox:ae(p=Er,Ql,Cm).call(p,x(this,Xl).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(x(this,Ts),{bbox:ae(g=Er,Ql,Cm).call(g,x(this,Io).box,m),path:{d:x(this,Io).toSVGPath()}})}const[s,o,c,u]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[m,w]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*w/m,this.height=u*m/w;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[m,w]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*w/m,this.height=u*m/w;break}}const{lastPoint:h}=x(this,Io);X(this,W1,[(h[0]-s)/c,(h[1]-o)/u])},_M=function(t){const r=(s,o)=>{var c,u;this.color=s,X(this,ch,o),(c=this.parent)==null||c.drawLayer.updateProperties(x(this,ll),{root:{fill:s,"fill-opacity":o}}),(u=x(this,V1))==null||u.updateColor(s)},i=this.color,a=x(this,ch);this.addCommands({cmd:r.bind(this,t,Er._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},SM=function(t){const r=x(this,Yl),i=a=>{X(this,Yl,a),ae(this,Dn,AM).call(this,a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},AM=function(t){if(!x(this,as))return;ae(this,Dn,jw).call(this,{highlightOutlines:x(this,Xl).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},$E=function(){x(this,ll)===null||!this.parent||(this.parent.drawLayer.remove(x(this,ll)),X(this,ll,null),this.parent.drawLayer.remove(x(this,Ts)),X(this,Ts,null))},z0=function(t=this.parent){x(this,ll)===null&&({id:Ws(this,ll)._,clipPathId:Ws(this,Hp)._}=t.drawLayer.draw({bbox:x(this,Xl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":x(this,ch)},rootClass:{highlight:!0,free:x(this,as)},path:{d:x(this,Xl).toSVGPath()}},!1,!0),X(this,Ts,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:x(this,as)},bbox:x(this,Io).box,path:{d:x(this,Io).toSVGPath()}},x(this,as))),x(this,zp)&&(x(this,zp).style.clipPath=x(this,Hp)))},Ql=new WeakSet,Cm=function([t,r,i,a],s){switch(s){case 90:return[1-r-a,t,a,i];case 180:return[1-t-i,1-r-a,i,a];case 270:return[r,1-t-i,a,i]}return[t,r,i,a]},EM=function(t){Er._keyboardManager.exec(this,t)},Gw=function(t){if(!x(this,q1))return;const r=window.getSelection();t?r.setPosition(x(this,q1),x(this,Ly)):r.setPosition(x(this,Iy),x(this,My))},bx=function(){return x(this,as)?this.rotation:0},TM=function(){if(x(this,as))return null;const[t,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=x(this,lh),o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:h,width:p,height:g}of s){const m=u*t+i,w=(1-h)*r+a;o[c]=o[c+4]=m,o[c+1]=o[c+3]=w,o[c+2]=o[c+6]=m+p*t,o[c+5]=o[c+7]=w-g*r,c+=8}return o},CM=function(t){return x(this,Xl).serialize(t,ae(this,Dn,bx).call(this))},kM=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},NM=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},RM=function(t){const{color:r}=this._initialData;return t.color.some((i,a)=>i!==r[a])},ne(Er,Ql),Mt(Er,"_defaultColor",null),Mt(Er,"_defaultOpacity",1),Mt(Er,"_defaultThickness",12),Mt(Er,"_type","highlight"),Mt(Er,"_editorType",Bn.HIGHLIGHT),Mt(Er,"_freeHighlightId",-1),Mt(Er,"_freeHighlight",null),Mt(Er,"_freeHighlightClipId","");let f_=Er;var jp;class ez{constructor(){ne(this,jp,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))this.updateProperty(t,r)}updateSVGProperty(e,t){x(this,jp)[e]=t}toSVGProperties(){const e=x(this,jp);return X(this,jp,Object.create(null)),{root:e}}reset(){X(this,jp,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Kr("Not implemented")}}jp=new WeakMap;var cl,Y1,Ba,Gp,qp,Hd,zd,jd,Vp,hr,JE,ZE,QE,wx,LM,qw,_x,km;const $t=class $t extends Ei{constructor(t){super(t);ne(this,hr);ne(this,cl,null);ne(this,Y1);Mt(this,"_drawId",null);X(this,Y1,t.mustBeCommitted||!1),t.drawOutlines&&(ae(this,hr,JE).call(this,t),ae(this,hr,wx).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[a,s]of Object.entries(r))i.has(a)?Object.assign(t[a],s):t[a]=s;return t}static getDefaultDrawingOptions(t){Kr("Not implemented")}static get typesMap(){Kr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(x($t,Ba).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,r[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,r[a]]);return t}_updateProperty(t,r,i){const a=this._drawingOptions,s=a[r],o=c=>{var h;a.updateProperty(r,c);const u=x(this,cl).updateProperty(r,c);u&&ae(this,hr,_x).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(x(this,cl).getPathResizingSVGProperties(ae(this,hr,qw).call(this)),{bbox:ae(this,hr,km).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(x(this,cl).getPathResizedSVGProperties(ae(this,hr,qw).call(this)),{bbox:ae(this,hr,km).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ae(this,hr,km).call(this,t,r)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties(x(this,cl).getPathTranslatedSVGProperties(ae(this,hr,qw).call(this),this.parentDimensions),{bbox:ae(this,hr,km).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,x(this,Y1)&&(X(this,Y1,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ae(this,hr,QE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ae(this,hr,wx).call(this),ae(this,hr,_x).call(this,x(this,cl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ae(this,hr,QE).call(this)):t&&(this._uiManager.addShouldRescale(this),ae(this,hr,wx).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,$t._mergeSVGProperties({bbox:ae(this,hr,km).call(this)},x(this,cl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ae(this,hr,_x).call(this,x(this,cl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const r=document.createElement("div");t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,r,i,a,s){Kr("Not implemented")}static startDrawing(t,r,i,a){var S;const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=a;if(x($t,zd)&&x($t,zd)!==h)return;const{viewport:{rotation:p}}=t,{width:g,height:m}=s.getBoundingClientRect(),w=X($t,Gp,new AbortController),y=t.combinedSignal(w);if(x($t,Hd)||X($t,Hd,u),x($t,zd)??X($t,zd,h),window.addEventListener("pointerup",C=>{var L;x($t,Hd)===C.pointerId?this._endDraw(C):(L=x($t,jd))==null||L.delete(C.pointerId)},{signal:y}),window.addEventListener("pointercancel",C=>{var L;x($t,Hd)===C.pointerId?this._currentParent.endDrawingSession():(L=x($t,jd))==null||L.delete(C.pointerId)},{signal:y}),window.addEventListener("pointerdown",C=>{x($t,zd)===C.pointerType&&((x($t,jd)||X($t,jd,new Set)).add(C.pointerId),x($t,Ba).isCancellable()&&(x($t,Ba).removeLastElement(),x($t,Ba).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",iu,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",C=>{C.timeStamp===x($t,Vp)&&ml(C)},{signal:y}),t.toggleDrawing(),(S=r._editorUndoBar)==null||S.hide(),x($t,Ba)){t.drawLayer.updateProperties(this._currentDrawId,x($t,Ba).startNew(o,c,g,m,p));return}r.updateUIForDefaultProperties(this),X($t,Ba,this.createDrawerInstance(o,c,g,m,p)),X($t,qp,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(x($t,qp).toSVGProperties(),x($t,Ba).defaultSVGProperties),!0,!1)}static _drawMove(t){var s;if(X($t,Vp,-1),!x($t,Ba))return;const{offsetX:r,offsetY:i,pointerId:a}=t;if(x($t,Hd)===a){if(((s=x($t,jd))==null?void 0:s.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,x($t,Ba).add(r,i)),X($t,Vp,t.timeStamp),ml(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,X($t,Ba,null),X($t,qp,null),X($t,zd,null),X($t,Vp,NaN)),x($t,Gp)&&(x($t,Gp).abort(),X($t,Gp,null),X($t,Hd,NaN),X($t,jd,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),t&&r.drawLayer.updateProperties(this._currentDrawId,x($t,Ba).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=x($t,Ba),a=this._currentDrawId,s=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:ir.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ir.DRAW_STEP),!x($t,Ba).isEmpty()){const{pageDimensions:[i,a],scale:s}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:x($t,Ba).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:x($t,qp),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,a,s,o){Kr("Not implemented")}static async deserialize(t,r,i){var p,g;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}=r.viewport,u=this.deserializeDraw(o,c,a,s,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),ae(p=h,hr,JE).call(p,{drawOutlines:u}),ae(g=h,hr,wx).call(g),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[a,s]=this.pageDimensions;return x(this,cl).serialize([r,i,a,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cl=new WeakMap,Y1=new WeakMap,Ba=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Hd=new WeakMap,zd=new WeakMap,jd=new WeakMap,Vp=new WeakMap,hr=new WeakSet,JE=function({drawOutlines:t,drawId:r,drawingOptions:i}){X(this,cl,t),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=ae(this,hr,ZE).call(this,t,this.parent),ae(this,hr,_x).call(this,t.box)},ZE=function(t,r){const{id:i}=r.drawLayer.draw($t._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},QE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},wx=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ae(this,hr,ZE).call(this,x(this,cl),t)}},LM=function([t,r,i,a]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[r,1-t,i*(o/s),a*(s/o)];case 180:return[1-t,1-r,i,a];case 270:return[1-r,t,i*(o/s),a*(s/o)];default:return[t,r,i,a]}},qw=function(){const{x:t,y:r,width:i,height:a,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-r,t,i*(s/o),a*(o/s)];case 180:return[1-t,1-r,i,a];case 270:return[r,1-t,i*(s/o),a*(o/s)];default:return[t,r,i,a]}},_x=function(t){if([this.x,this.y,this.width,this.height]=ae(this,hr,LM).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},km=function(){const{x:t,y:r,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-r-a,t,a,i];case 2:return[1-t-i,1-r-a,i,a];case 3:return[r,1-t-i,a,i];case 4:return[t,r-i*(c/u),a*(u/c),i*(c/u)];case 5:return[1-r,t,i*(c/u),a*(u/c)];case 6:return[1-t-a*(u/c),1-r,a*(u/c),i*(c/u)];case 7:return[r-i*(c/u),1-t-a*(u/c),i*(c/u),a*(u/c)];case 8:return[t-i,r-a,i,a];case 9:return[1-r,t-i,a,i];case 10:return[1-t,1-r,i,a];case 11:return[r-a,1-t,a,i];case 12:return[t-a*(u/c),r,a*(u/c),i*(c/u)];case 13:return[1-r-i*(c/u),t-a*(u/c),i*(c/u),a*(u/c)];case 14:return[1-t,1-r-i*(c/u),a*(u/c),i*(c/u)];case 15:return[r,1-t,i*(c/u),a*(u/c)];default:return[t,r,i,a]}},Mt($t,"_currentDrawId",-1),Mt($t,"_currentParent",null),ne($t,Ba,null),ne($t,Gp,null),ne($t,qp,null),ne($t,Hd,NaN),ne($t,zd,null),ne($t,jd,null),ne($t,Vp,NaN),Mt($t,"_INNER_MARGIN",3);let KE=$t;var Yu,Ua,Ha,Wp,$1,$s,ss,$l,Xp,Yp,$p,K1,Vw;class tz{constructor(e,t,r,i,a,s){ne(this,K1);ne(this,Yu,new Float64Array(6));ne(this,Ua);ne(this,Ha);ne(this,Wp);ne(this,$1);ne(this,$s);ne(this,ss,"");ne(this,$l,0);ne(this,Xp,new h_);ne(this,Yp);ne(this,$p);X(this,Yp,r),X(this,$p,i),X(this,Wp,a),X(this,$1,s),[e,t]=ae(this,K1,Vw).call(this,e,t);const o=X(this,Ua,[NaN,NaN,NaN,NaN,e,t]);X(this,$s,[e,t]),X(this,Ha,[{line:o,points:x(this,$s)}]),x(this,Yu).set(o,0)}updateProperty(e,t){e==="stroke-width"&&X(this,$1,t)}isEmpty(){return!x(this,Ha)||x(this,Ha).length===0}isCancellable(){return x(this,$s).length<=10}add(e,t){[e,t]=ae(this,K1,Vw).call(this,e,t);const[r,i,a,s]=x(this,Yu).subarray(2,6),o=e-a,c=t-s;return Math.hypot(x(this,Yp)*o,x(this,$p)*c)<=2?null:(x(this,$s).push(e,t),isNaN(r)?(x(this,Yu).set([a,s,e,t],2),x(this,Ua).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(x(this,Yu)[0])&&x(this,Ua).splice(6,6),x(this,Yu).set([r,i,a,s,e,t],0),x(this,Ua).push(...qt.createBezierPoints(r,i,a,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(x(this,$s).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,a){X(this,Yp,r),X(this,$p,i),X(this,Wp,a),[e,t]=ae(this,K1,Vw).call(this,e,t);const s=X(this,Ua,[NaN,NaN,NaN,NaN,e,t]);X(this,$s,[e,t]);const o=x(this,Ha).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),x(this,Ha).push({line:s,points:x(this,$s)}),x(this,Yu).set(s,0),X(this,$l,0),this.toSVGPath(),null}getLastElement(){return x(this,Ha).at(-1)}setLastElement(e){return x(this,Ha)?(x(this,Ha).push(e),X(this,Ua,e.line),X(this,$s,e.points),X(this,$l,0),{path:{d:this.toSVGPath()}}):x(this,Xp).setLastElement(e)}removeLastElement(){if(!x(this,Ha))return x(this,Xp).removeLastElement();x(this,Ha).pop(),X(this,ss,"");for(let e=0,t=x(this,Ha).length;e<t;e++){const{line:r,points:i}=x(this,Ha)[e];X(this,Ua,r),X(this,$s,i),X(this,$l,0),this.toSVGPath()}return{path:{d:x(this,ss)}}}toSVGPath(){const e=qt.svgRound(x(this,Ua)[4]),t=qt.svgRound(x(this,Ua)[5]);if(x(this,$s).length===2)return X(this,ss,`${x(this,ss)} M ${e} ${t} Z`),x(this,ss);if(x(this,$s).length<=6){const i=x(this,ss).lastIndexOf("M");X(this,ss,`${x(this,ss).slice(0,i)} M ${e} ${t}`),X(this,$l,6)}if(x(this,$s).length===4){const i=qt.svgRound(x(this,Ua)[10]),a=qt.svgRound(x(this,Ua)[11]);return X(this,ss,`${x(this,ss)} L ${i} ${a}`),X(this,$l,12),x(this,ss)}const r=[];x(this,$l)===0&&(r.push(`M ${e} ${t}`),X(this,$l,6));for(let i=x(this,$l),a=x(this,Ua).length;i<a;i+=6){const[s,o,c,u,h,p]=x(this,Ua).slice(i,i+6).map(qt.svgRound);r.push(`C${s} ${o} ${c} ${u} ${h} ${p}`)}return X(this,ss,x(this,ss)+r.join(" ")),X(this,$l,x(this,Ua).length),x(this,ss)}getOutlines(e,t,r,i){const a=x(this,Ha).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),x(this,Xp).build(x(this,Ha),e,t,r,x(this,Wp),x(this,$1),i),X(this,Yu,null),X(this,Ua,null),X(this,Ha,null),X(this,ss,null),x(this,Xp)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Yu=new WeakMap,Ua=new WeakMap,Ha=new WeakMap,Wp=new WeakMap,$1=new WeakMap,$s=new WeakMap,ss=new WeakMap,$l=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,$p=new WeakMap,K1=new WeakSet,Vw=function(e,t){return qt._normalizePoint(e,t,x(this,Yp),x(this,$p),x(this,Wp))};var Ks,Fy,Py,ul,$u,Ku,J1,Z1,Q1,ls,Uf,IM,MM,DM;const wC=class wC extends qt{constructor(){super(...arguments);ne(this,ls);ne(this,Ks);ne(this,Fy,0);ne(this,Py);ne(this,ul);ne(this,$u);ne(this,Ku);ne(this,J1);ne(this,Z1);ne(this,Q1)}build(t,r,i,a,s,o,c){X(this,$u,r),X(this,Ku,i),X(this,J1,a),X(this,Z1,s),X(this,Q1,o),X(this,Py,c??0),X(this,ul,t),ae(this,ls,MM).call(this)}setLastElement(t){return x(this,ul).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return x(this,ul).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of x(this,ul)){if(t.push(`M${qt.svgRound(r[4])} ${qt.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12){t.push(`L${qt.svgRound(r[10])} ${qt.svgRound(r[11])}`);continue}for(let i=6,a=r.length;i<a;i+=6){const[s,o,c,u,h,p]=r.subarray(i,i+6).map(qt.svgRound);t.push(`C${s} ${o} ${c} ${u} ${h} ${p}`)}}return t.join("")}serialize([t,r,i,a],s){const o=[],c=[],[u,h,p,g]=ae(this,ls,IM).call(this);let m,w,y,S,C,L,R,D,z;switch(x(this,Z1)){case 0:z=qt._rescale,m=t,w=r+a,y=i,S=-a,C=t+u*i,L=r+(1-h-g)*a,R=t+(u+p)*i,D=r+(1-h)*a;break;case 90:z=qt._rescaleAndSwap,m=t,w=r,y=i,S=a,C=t+h*i,L=r+u*a,R=t+(h+g)*i,D=r+(u+p)*a;break;case 180:z=qt._rescale,m=t+i,w=r,y=-i,S=a,C=t+(1-u-p)*i,L=r+h*a,R=t+(1-u)*i,D=r+(h+g)*a;break;case 270:z=qt._rescaleAndSwap,m=t+i,w=r+a,y=-i,S=-a,C=t+(1-h-g)*i,L=r+(1-u-p)*a,R=t+(1-h)*i,D=r+(1-u)*a;break}for(const{line:q,points:P}of x(this,ul))o.push(z(q,m,w,y,S,s?new Array(q.length):null)),c.push(z(P,m,w,y,S,s?new Array(P.length):null));return{lines:o,points:c,rect:[C,L,R,D]}}static deserialize(t,r,i,a,s,{paths:{lines:o,points:c},rotation:u,thickness:h}){const p=[];let g,m,w,y,S;switch(u){case 0:S=qt._rescale,g=-t/i,m=r/a+1,w=1/i,y=-1/a;break;case 90:S=qt._rescaleAndSwap,g=-r/a,m=-t/i,w=1/a,y=1/i;break;case 180:S=qt._rescale,g=t/i+1,m=-r/a,w=-1/i,y=1/a;break;case 270:S=qt._rescaleAndSwap,g=r/a+1,m=t/i+1,w=-1/a,y=-1/i;break}if(!o){o=[];for(const L of c){const R=L.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const D=new Float32Array(3*(R-2));o.push(D);let[z,q,P,W]=L.subarray(0,4);D.set([NaN,NaN,NaN,NaN,z,q],0);for(let O=4;O<R;O+=2){const Q=L[O],B=L[O+1];D.set(qt.createBezierPoints(z,q,P,W,Q,B),(O-2)*3),[z,q,P,W]=[P,W,Q,B]}}}for(let L=0,R=o.length;L<R;L++)p.push({line:S(o[L].map(D=>D??NaN),g,m,w,y),points:S(c[L].map(D=>D??NaN),g,m,w,y)});const C=new wC;return C.build(p,i,a,1,u,h,s),C}get box(){return x(this,Ks)}updateProperty(t,r){return t==="stroke-width"?ae(this,ls,DM).call(this,r):null}updateParentDimensions([t,r],i){const[a,s]=ae(this,ls,Uf).call(this);X(this,$u,t),X(this,Ku,r),X(this,J1,i);const[o,c]=ae(this,ls,Uf).call(this),u=o-a,h=c-s,p=x(this,Ks);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p}updateRotation(t){return X(this,Fy,t),{path:{transform:this.rotationTransform}}}get viewBox(){return x(this,Ks).map(qt.svgRound).join(" ")}get defaultProperties(){const[t,r]=x(this,Ks);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=x(this,Ks);let i=0,a=0,s=0,o=0,c=0,u=0;switch(x(this,Fy)){case 90:a=r/t,s=-t/r,c=t;break;case 180:i=-1,o=-1,c=t,u=r;break;case 270:a=-r/t,s=t/r,u=r;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${qt.svgRound(c)} ${qt.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,a]){const[s,o]=ae(this,ls,Uf).call(this),[c,u,h,p]=x(this,Ks);if(Math.abs(h-s)<=qt.PRECISION||Math.abs(p-o)<=qt.PRECISION){const S=t+i/2-(c+h/2),C=r+a/2-(u+p/2);return{path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${S} ${C})`}}}const g=(i-2*s)/(h-2*s),m=(a-2*o)/(p-2*o),w=h/i,y=p/a;return{path:{"transform-origin":`${qt.svgRound(c)} ${qt.svgRound(u)}`,transform:`${this.rotationTransform} scale(${w} ${y}) translate(${qt.svgRound(s)} ${qt.svgRound(o)}) scale(${g} ${m}) translate(${qt.svgRound(-s)} ${qt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,a]){const[s,o]=ae(this,ls,Uf).call(this),c=x(this,Ks),[u,h,p,g]=c;if(c[0]=t,c[1]=r,c[2]=i,c[3]=a,Math.abs(p-s)<=qt.PRECISION||Math.abs(g-o)<=qt.PRECISION){const C=t+i/2-(u+p/2),L=r+a/2-(h+g/2);for(const{line:R,points:D}of x(this,ul))qt._translate(R,C,L,R),qt._translate(D,C,L,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*s)/(p-2*s),w=(a-2*o)/(g-2*o),y=-m*(u+s)+t+s,S=-w*(h+o)+r+o;if(m!==1||w!==1||y!==0||S!==0)for(const{line:C,points:L}of x(this,ul))qt._rescale(C,y,S,m,w,C),qt._rescale(L,y,S,m,w,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[a,s]=i,o=x(this,Ks),c=t-o[0],u=r-o[1];if(x(this,$u)===a&&x(this,Ku)===s)for(const{line:h,points:p}of x(this,ul))qt._translate(h,c,u,h),qt._translate(p,c,u,p);else{const h=x(this,$u)/a,p=x(this,Ku)/s;X(this,$u,a),X(this,Ku,s);for(const{line:g,points:m}of x(this,ul))qt._rescale(g,c,u,h,p,g),qt._rescale(m,c,u,h,p,m);o[2]*=h,o[3]*=p}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(r)}`}}}get defaultSVGProperties(){const t=x(this,Ks);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t[0])} ${qt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Ks=new WeakMap,Fy=new WeakMap,Py=new WeakMap,ul=new WeakMap,$u=new WeakMap,Ku=new WeakMap,J1=new WeakMap,Z1=new WeakMap,Q1=new WeakMap,ls=new WeakSet,Uf=function(t=x(this,Q1)){const r=x(this,Py)+t/2*x(this,J1);return x(this,Z1)%180===0?[r/x(this,$u),r/x(this,Ku)]:[r/x(this,Ku),r/x(this,$u)]},IM=function(){const[t,r,i,a]=x(this,Ks),[s,o]=ae(this,ls,Uf).call(this,0);return[t+s,r+o,i-2*s,a-2*o]},MM=function(){const t=X(this,Ks,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of x(this,ul)){if(a.length<=12){for(let c=4,u=a.length;c<u;c+=6){const[h,p]=a.subarray(c,c+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],p),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],p)}continue}let s=a[4],o=a[5];for(let c=6,u=a.length;c<u;c+=6){const[h,p,g,m,w,y]=a.subarray(c,c+6);sn.bezierBoundingBox(s,o,h,p,g,m,w,y,t),s=w,o=y}}const[r,i]=ae(this,ls,Uf).call(this);t[0]=Math.min(1,Math.max(0,t[0]-r)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+r)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},DM=function(t){const[r,i]=ae(this,ls,Uf).call(this);X(this,Q1,t);const[a,s]=ae(this,ls,Uf).call(this),[o,c]=[a-r,s-i],u=x(this,Ks);return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u};let h_=wC;var ev;const _C=class _C extends ez{constructor(t){super();ne(this,ev);X(this,ev,t),super.updateProperties({fill:"none",stroke:Ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,r){t==="stroke-width"&&(r??(r=this["stroke-width"]),r*=x(this,ev).realScale),super.updateSVGProperty(t,r)}clone(){const t=new _C(x(this,ev));return t.updateAll(this),t}};ev=new WeakMap;let eT=_C;var t5,FM;const Um=class Um extends KE{constructor(t){super({...t,name:"inkEditor"});ne(this,t5);this._willKeepAspectRatio=!0}static initialize(t,r){Ei.initialize(t,r),this._defaultDrawingOptions=new eT(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Yn(this,"typesMap",new Map([[ir.INK_THICKNESS,"stroke-width"],[ir.INK_COLOR,"stroke"],[ir.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,a,s){return new tz(t,r,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,a,s,o){return h_.deserialize(t,r,i,a,s,o)}static async deserialize(t,r,i){let a=null;if(t instanceof p4){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:p,opacity:g,borderStyle:{rawWidth:m},popupRef:w},parent:{page:{pageNumber:y}}}=t;a=t={annotationType:Bn.INK,color:Array.from(p),thickness:m,opacity:g,paths:{points:o},boxes:null,pageIndex:y-1,rect:c.slice(0),rotation:u,id:h,deleted:!1,popupRef:w}}const s=await super.deserialize(t,r,i);return s.annotationElementId=t.id||null,s._initialData=a,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Um.getDefaultDrawingOptions({stroke:sn.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:Bn.INK,color:Ei._colorManager.convert(s),opacity:o,thickness:c,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!ae(this,t5,FM).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};t5=new WeakSet,FM=function(t){const{color:r,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==r[c])||t.thickness!==i||t.opacity!==a||t.pageIndex!==s},Mt(Um,"_type","ink"),Mt(Um,"_editorType",Bn.INK),Mt(Um,"_defaultDrawingOptions",null);let tT=Um;var Ai,os,Gd,uh,qd,tv,Ju,Zu,fl,nv,vr,Sx,Ax,Ww,rT,Xw,iT,Yw,PM;const jx=class jx extends Ei{constructor(t){super({...t,name:"stampEditor"});ne(this,vr);ne(this,Ai,null);ne(this,os,null);ne(this,Gd,null);ne(this,uh,null);ne(this,qd,null);ne(this,tv,"");ne(this,Ju,null);ne(this,Zu,null);ne(this,fl,!1);ne(this,nv,!1);X(this,uh,t.bitmapUrl),X(this,qd,t.bitmapFile)}static initialize(t,r){Ei.initialize(t,r)}static get supportedTypes(){return Yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Bn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;x(this,os)&&(X(this,Ai,null),this._uiManager.imageManager.deleteId(x(this,os)),(t=x(this,Ju))==null||t.remove(),X(this,Ju,null),x(this,Zu)&&(clearTimeout(x(this,Zu)),X(this,Zu,null))),super.remove()}rebuild(){if(!this.parent){x(this,os)&&ae(this,vr,Ww).call(this);return}super.rebuild(),this.div!==null&&(x(this,os)&&x(this,Ju)===null&&ae(this,vr,Ww).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(x(this,Gd)||x(this,Ai)||x(this,uh)||x(this,qd)||x(this,os))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),x(this,Ai)?ae(this,vr,rT).call(this):ae(this,vr,Ww).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(t*i,r*a,this.width*i,this.height*a)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;x(this,Zu)!==null&&clearTimeout(x(this,Zu)),X(this,Zu,setTimeout(()=>{X(this,Zu,null),ae(this,vr,iT).call(this)},200))}copyCanvas(t,r,i=!1){var m;t||(t=224);const{width:a,height:s}=x(this,Ai),o=new eE;let c=x(this,Ai),u=a,h=s,p=null;if(r){if(a>r||s>r){const W=Math.min(r/a,r/s);u=Math.floor(a*W),h=Math.floor(s*W)}p=document.createElement("canvas");const w=p.width=Math.ceil(u*o.sx),y=p.height=Math.ceil(h*o.sy);x(this,fl)||(c=ae(this,vr,Xw).call(this,w,y));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let C="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",L="#42414d");const R=15,D=R*o.sx,z=R*o.sy,q=new OffscreenCanvas(D*2,z*2),P=q.getContext("2d");P.fillStyle=C,P.fillRect(0,0,D*2,z*2),P.fillStyle=L,P.fillRect(0,0,D,z),P.fillRect(D,z,D,z),S.fillStyle=S.createPattern(q,"repeat"),S.fillRect(0,0,w,y),S.drawImage(c,0,0,c.width,c.height,0,0,w,y)}let g=null;if(i){let w,y;if(o.symmetric&&c.width<t&&c.height<t)w=c.width,y=c.height;else if(c=x(this,Ai),a>t||s>t){const L=Math.min(t/a,t/s);w=Math.floor(a*L),y=Math.floor(s*L),x(this,fl)||(c=ae(this,vr,Xw).call(this,w,y))}const C=new OffscreenCanvas(w,y).getContext("2d",{willReadFrequently:!0});C.drawImage(c,0,0,c.width,c.height,0,0,w,y),g={width:w,height:y,data:C.getImageData(0,0,w,y).data}}return{canvas:p,width:u,height:h,imageData:g}}getImageForAltText(){return x(this,Ju)}static async deserialize(t,r,i){var y;let a=null;if(t instanceof rM){const{data:{rect:S,rotation:C,id:L,structParent:R,popupRef:D},container:z,parent:{page:{pageNumber:q}}}=t,P=z.querySelector("canvas"),W=i.imageManager.getFromCanvas(z.id,P);P.remove();const O=((y=await r._structTree.getAriaAttributes(`${s4}${L}`))==null?void 0:y.get("aria-label"))||"";a=t={annotationType:Bn.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:q-1,rect:S.slice(0),rotation:C,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:R,popupRef:D}}const s=await super.deserialize(t,r,i),{rect:o,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:p,accessibilityData:g}=t;h&&i.imageManager.isValidId(h)?(X(s,os,h),c&&X(s,Ai,c)):X(s,uh,u),X(s,fl,p);const[m,w]=s.pageDimensions;return s.width=(o[2]-o[0])/m,s.height=(o[3]-o[1])/w,s.annotationElementId=t.id||null,g&&(s.altTextData=g),s._initialData=a,X(s,nv,!!a),s}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Bn.STAMP,bitmapId:x(this,os),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,fl),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=ae(this,vr,Yw).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=ae(this,vr,PM).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=x(this,fl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(x(this,os)))r.stamps.set(x(this,os),{area:o,serialized:i}),i.bitmap=ae(this,vr,Yw).call(this,!1);else if(x(this,fl)){const c=r.stamps.get(x(this,os));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=ae(this,vr,Yw).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ai=new WeakMap,os=new WeakMap,Gd=new WeakMap,uh=new WeakMap,qd=new WeakMap,tv=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,fl=new WeakMap,nv=new WeakMap,vr=new WeakSet,Sx=function(t,r=!1){if(!t){this.remove();return}X(this,Ai,t.bitmap),r||(X(this,os,t.id),X(this,fl,t.isSvg)),t.file&&X(this,tv,t.file.name),ae(this,vr,rT).call(this)},Ax=function(){if(X(this,Gd,null),this._uiManager.enableWaiting(!1),!!x(this,Ju)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Ai)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Ai)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ww=function(){if(x(this,os)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,os)).then(i=>ae(this,vr,Sx).call(this,i,!0)).finally(()=>ae(this,vr,Ax).call(this));return}if(x(this,uh)){const i=x(this,uh);X(this,uh,null),this._uiManager.enableWaiting(!0),X(this,Gd,this._uiManager.imageManager.getFromUrl(i).then(a=>ae(this,vr,Sx).call(this,a)).finally(()=>ae(this,vr,Ax).call(this)));return}if(x(this,qd)){const i=x(this,qd);X(this,qd,null),this._uiManager.enableWaiting(!0),X(this,Gd,this._uiManager.imageManager.getFromFile(i).then(a=>ae(this,vr,Sx).call(this,a)).finally(()=>ae(this,vr,Ax).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=jx.supportedTypesStr;const r=this._uiManager._signal;X(this,Gd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ae(this,vr,Sx).call(this,a)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ae(this,vr,Ax).call(this))),t.click()},rT=function(){var p;const{div:t}=this;let{width:r,height:i}=x(this,Ai);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const g=Math.min(o*a/r,o*s/i);r*=g,i*=g}const[c,u]=this.parentDimensions;this.setDims(r*c/a,i*u/s),this._uiManager.enableWaiting(!1);const h=X(this,Ju,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/a,this.height=i/s,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ae(this,vr,iT).call(this),x(this,nv)||(this.parent.addUndoableEditor(this),X(this,nv,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,tv)&&h.setAttribute("aria-label",x(this,tv))},Xw=function(t,r){const{width:i,height:a}=x(this,Ai);let s=i,o=a,c=x(this,Ai);for(;s>2*t||o>2*r;){const u=s,h=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(s,o);p.getContext("2d").drawImage(c,0,0,u,h,0,0,s,o),c=p.transferToImageBitmap()}return c},iT=function(){const[t,r]=this.parentDimensions,{width:i,height:a}=this,s=new eE,o=Math.ceil(i*t*s.sx),c=Math.ceil(a*r*s.sy),u=x(this,Ju);if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=x(this,fl)?x(this,Ai):ae(this,vr,Xw).call(this,o,c),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,o,c)},Yw=function(t){if(t){if(x(this,fl)){const a=this._uiManager.imageManager.getSvgUrl(x(this,os));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=x(this,Ai),r.getContext("2d").drawImage(x(this,Ai),0,0),r.toDataURL()}if(x(this,fl)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*Qd.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Qd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(x(this,Ai),0,0,x(this,Ai).width,x(this,Ai).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(x(this,Ai))},PM=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===r,s=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},Mt(jx,"_type","stamp"),Mt(jx,"_editorType",Bn.STAMP);let nT=jx;var Kp,rv,Qu,Vd,fh,Kl,Wd,iv,Jp,Xc,hh,Cs,dh,nn,Xd,vi,OM,Mu,sT,oT,$w;const Fc=class Fc{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:c,viewport:u,l10n:h}){ne(this,vi);ne(this,Kp);ne(this,rv,!1);ne(this,Qu,null);ne(this,Vd,null);ne(this,fh,null);ne(this,Kl,new Map);ne(this,Wd,!1);ne(this,iv,!1);ne(this,Jp,!1);ne(this,Xc,null);ne(this,hh,null);ne(this,Cs,null);ne(this,dh,null);ne(this,nn);const p=[...x(Fc,Xd).values()];if(!Fc._initialized){Fc._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),X(this,nn,e),this.pageIndex=t,this.div=r,X(this,Kp,a),X(this,Qu,s),this.viewport=u,X(this,Cs,c),this.drawLayer=o,this._structTree=i,x(this,nn).addLayer(this)}get isEmpty(){return x(this,Kl).size===0}get isInvisible(){return this.isEmpty&&x(this,nn).getMode()===Bn.NONE}updateToolbar(e){x(this,nn).updateToolbar(e)}updateMode(e=x(this,nn).getMode()){switch(ae(this,vi,$w).call(this),e){case Bn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Bn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Bn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of x(Fc,Xd).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=x(this,Cs))==null?void 0:t.div)}setEditingState(e){x(this,nn).setEditingState(e)}addCommands(e){x(this,nn).addCommands(e)}cleanUndoStack(e){x(this,nn).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=x(this,Qu))==null||t.div.classList.toggle("disabled",!e)}async enable(){X(this,Jp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of x(this,Kl).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(x(this,nn).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!x(this,Qu)){X(this,Jp,!1);return}const t=x(this,Qu).getEditableAnnotations();for(const r of t){if(r.hide(),x(this,nn).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}X(this,Jp,!1)}disable(){var i;X(this,iv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const a of x(this,Kl).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(x(this,Qu)){const a=x(this,Qu).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(x(this,nn).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=e.get(o),c&&(x(this,nn).addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}ae(this,vi,$w).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of x(Fc,Xd).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),X(this,iv,!1)}getEditableAnnotation(e){var t;return((t=x(this,Qu))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,nn).getActive()!==e&&x(this,nn).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=x(this,Cs))!=null&&e.div&&!x(this,dh)){X(this,dh,new AbortController);const t=x(this,nn).combinedSignal(x(this,dh));x(this,Cs).div.addEventListener("pointerdown",ae(this,vi,OM).bind(this),{signal:t}),x(this,Cs).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Cs))!=null&&e.div&&x(this,dh)&&(x(this,dh).abort(),X(this,dh,null),x(this,Cs).div.classList.remove("highlighting"))}enableClick(){if(x(this,Vd))return;X(this,Vd,new AbortController);const e=x(this,nn).combinedSignal(x(this,Vd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=x(this,Vd))==null||e.abort(),X(this,Vd,null)}attach(e){x(this,Kl).set(e.id,e);const{annotationElementId:t}=e;t&&x(this,nn).isDeletedAnnotationElement(t)&&x(this,nn).removeDeletedAnnotationElement(e)}detach(e){var t;x(this,Kl).delete(e.id),(t=x(this,Kp))==null||t.removePointerInTextLayer(e.contentDiv),!x(this,iv)&&e.annotationElementId&&x(this,nn).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,nn).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,nn).addDeletedAnnotationElement(e.annotationElementId),Ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,nn).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!x(this,Jp)),x(this,nn).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!x(this,fh)&&(e._focusEventsAllowed=!1,X(this,fh,setTimeout(()=>{X(this,fh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,nn)._signal}),t.focus())},0))),e._structTreeParentId=(r=x(this,Kp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return x(this,nn).getId()}combinedSignal(e){return x(this,nn).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=x(this,vi,Mu))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){x(this,nn).updateToolbar(e),x(this,nn).updateMode(e);const{offsetX:r,offsetY:i}=ae(this,vi,oT).call(this),a=this.getNextId(),s=ae(this,vi,sT).call(this,{parent:this,id:a,x:r,y:i,uiManager:x(this,nn),isCentered:!0,...t});s&&this.add(s)}async deserialize(e){var t;return await((t=x(Fc,Xd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,x(this,nn)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),a=ae(this,vi,sT).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:x(this,nn),isCentered:t,...r});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(ae(this,vi,oT).call(this),!0)}setSelected(e){x(this,nn).setSelected(e)}toggleSelected(e){x(this,nn).toggleSelected(e)}unselect(e){x(this,nn).unselect(e)}pointerup(e){var r;const{isMac:t}=no.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&x(this,Wd)&&(X(this,Wd,!1),!((r=x(this,vi,Mu))!=null&&r.isDrawer&&x(this,vi,Mu).supportMultipleDrawings))){if(!x(this,rv)){X(this,rv,!0);return}if(x(this,nn).getMode()===Bn.STAMP){x(this,nn).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(x(this,nn).getMode()===Bn.HIGHLIGHT&&this.enableTextSelection(),x(this,Wd)){X(this,Wd,!1);return}const{isMac:t}=no.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(X(this,Wd,!0),(i=x(this,vi,Mu))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=x(this,nn).getActive();X(this,rv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),x(this,Xc)){x(this,vi,Mu).startDrawing(this,x(this,nn),!1,e);return}x(this,nn).setCurrentDrawingSession(this),X(this,Xc,new AbortController);const t=x(this,nn).combinedSignal(x(this,Xc));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(X(this,hh,null),this.commitOrRemove())},{signal:t}),x(this,vi,Mu).startDrawing(this,x(this,nn),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&X(this,hh,t);return}x(this,hh)&&setTimeout(()=>{var t;(t=x(this,hh))==null||t.focus(),X(this,hh,null)},0)}endDrawingSession(e=!1){return x(this,Xc)?(x(this,nn).setCurrentDrawingSession(null),x(this,Xc).abort(),X(this,Xc,null),X(this,hh,null),x(this,vi,Mu).endDrawing(e)):null}findNewParent(e,t,r){const i=x(this,nn).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return x(this,Xc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){x(this,Xc)&&x(this,vi,Mu).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=x(this,nn).getActive())==null?void 0:e.parent)===this&&(x(this,nn).commitOrRemove(),x(this,nn).setActiveEditor(null)),x(this,fh)&&(clearTimeout(x(this,fh)),X(this,fh,null));for(const r of x(this,Kl).values())(t=x(this,Kp))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,x(this,Kl).clear(),x(this,nn).removeLayer(this)}render({viewport:e}){this.viewport=e,ig(this.div,e);for(const t of x(this,nn).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){x(this,nn).commitOrRemove(),ae(this,vi,$w).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ig(this.div,{rotation:r}),t!==r)for(const i of x(this,Kl).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return x(this,nn).viewParameters.realScale}};Kp=new WeakMap,rv=new WeakMap,Qu=new WeakMap,Vd=new WeakMap,fh=new WeakMap,Kl=new WeakMap,Wd=new WeakMap,iv=new WeakMap,Jp=new WeakMap,Xc=new WeakMap,hh=new WeakMap,Cs=new WeakMap,dh=new WeakMap,nn=new WeakMap,Xd=new WeakMap,vi=new WeakSet,OM=function(e){x(this,nn).unselectAll();const{target:t}=e;if(t===x(this,Cs).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&x(this,Cs).div.contains(t)){const{isMac:r}=no.platform;if(e.button!==0||e.ctrlKey&&r)return;x(this,nn).showAllEditors("highlight",!0,!0),x(this,Cs).div.classList.add("free"),this.toggleDrawing(),f_.startHighlighting(this,x(this,nn).direction==="ltr",{target:x(this,Cs).div,x:e.x,y:e.y}),x(this,Cs).div.addEventListener("pointerup",()=>{x(this,Cs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:x(this,nn)._signal}),e.preventDefault()}},Mu=function(){return x(Fc,Xd).get(x(this,nn).getMode())},sT=function(e){const t=x(this,vi,Mu);return t?new t.prototype.constructor(e):null},oT=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+i),u=(a+o)/2-e,h=(s+c)/2-t,[p,g]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:p,offsetY:g}},$w=function(){for(const e of x(this,Kl).values())e.isEmpty()&&e.remove()},Mt(Fc,"_initialized",!1),ne(Fc,Xd,new Map([HE,tT,nT,f_].map(e=>[e._editorType,e])));let aT=Fc;var Yc,Oy,Js,Zp,n5,BM,af,cT,UM,uT;const Ss=class Ss{constructor({pageIndex:e}){ne(this,af);ne(this,Yc,null);ne(this,Oy,0);ne(this,Js,new Map);ne(this,Zp,new Map);this.pageIndex=e}setParent(e){if(!x(this,Yc)){X(this,Yc,e);return}if(x(this,Yc)!==e){if(x(this,Js).size>0)for(const t of x(this,Js).values())t.remove(),e.append(t);X(this,Yc,e)}}static get _svgFactory(){return Yn(this,"_svgFactory",new d4)}draw(e,t=!1,r=!1){const i=Ws(this,Oy)._++,a=ae(this,af,cT).call(this),s=Ss._svgFactory.createElement("defs");a.append(s);const o=Ss._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),t&&x(this,Zp).set(i,o);const u=r?ae(this,af,UM).call(this,s,c):null,h=Ss._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(a,e),x(this,Js).set(i,a),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=Ws(this,Oy)._++,i=ae(this,af,cT).call(this),a=Ss._svgFactory.createElement("defs");i.append(a);const s=Ss._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=Ss._svgFactory.createElement("mask");a.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=Ss._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Ss._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=Ss._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),c&&u.setAttribute("mask",`url(#${c})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),x(this,Js).set(r,i),r}finalizeDraw(e,t){x(this,Zp).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:i,rootClass:a,path:s}=t,o=typeof e=="number"?x(this,Js).get(e):e;if(o){if(r&&ae(this,af,uT).call(this,o,r),i&&ae(c=Ss,n5,BM).call(c,o,i),a){const{classList:u}=o;for(const[h,p]of Object.entries(a))u.toggle(h,p)}if(s){const h=o.firstChild.firstChild;ae(this,af,uT).call(this,h,s)}}}updateParent(e,t){if(t===this)return;const r=x(this,Js).get(e);r&&(x(t,Yc).append(r),x(this,Js).delete(e),x(t,Js).set(e,r))}remove(e){x(this,Zp).delete(e),x(this,Yc)!==null&&(x(this,Js).get(e).remove(),x(this,Js).delete(e))}destroy(){X(this,Yc,null);for(const e of x(this,Js).values())e.remove();x(this,Js).clear(),x(this,Zp).clear()}};Yc=new WeakMap,Oy=new WeakMap,Js=new WeakMap,Zp=new WeakMap,n5=new WeakSet,BM=function(e,[t,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},af=new WeakSet,cT=function(){const e=Ss._svgFactory.create(1,1,!0);return x(this,Yc).append(e),e.setAttribute("aria-hidden",!0),e},UM=function(e,t){const r=Ss._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Ss._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i},uT=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},ne(Ss,n5);let lT=Ss;globalThis.pdfjsTestingUtils={HighlightOutliner:jE};Tn.AbortException;Tn.AnnotationEditorLayer;Tn.AnnotationEditorParamsType;Tn.AnnotationEditorType;Tn.AnnotationEditorUIManager;Tn.AnnotationLayer;Tn.AnnotationMode;Tn.ColorPicker;Tn.DOMSVGFactory;Tn.DrawLayer;Tn.FeatureTest;var nz=Tn.GlobalWorkerOptions;Tn.ImageKind;Tn.InvalidPDFException;Tn.MissingPDFException;Tn.OPS;Tn.OutputScale;Tn.PDFDataRangeTransport;Tn.PDFDateString;Tn.PDFWorker;Tn.PasswordResponses;Tn.PermissionFlag;Tn.PixelsPerInch;Tn.RenderingCancelledException;Tn.TextLayer;Tn.TouchManager;Tn.UnexpectedResponseException;Tn.Util;Tn.VerbosityLevel;Tn.XfaLayer;Tn.build;Tn.createValidAbsoluteUrl;Tn.fetchData;var rz=Tn.getDocument;Tn.getFilenameFromUrl;Tn.getPdfFilenameFromUrl;Tn.getXfaPageViewport;Tn.isDataScheme;Tn.isPdfFile;Tn.noContextMenu;Tn.normalizeUnicode;Tn.setLayerDimensions;Tn.shadow;Tn.stopEvent;Tn.version;nz.workerSrc="https://esm.sh/pdfjs-dist@4.0.379/build/pdf.worker.min.mjs";const iz={es:{title:"Plantillas para PDF",subtitle:"Define estructuras base para los documentos que generas y adjuntas.",newBtn:"Nueva Plantilla PDF",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas PDF guardadas an.",editTitle:"Editar Plantilla PDF",newTitle:"Nueva Plantilla PDF",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Encabezado Mdico, Factura Base, etc.",bodyLabel:"Contenido (Texto Enriquecido)",bodyPlaceholder:"Define aqu el texto base de tu PDF...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla",importPdf:"Importar desde PDF",extracting:"Extrayendo texto...",importSuccess:"Texto extrado correctamente.",importError:"Error al procesar el PDF."},en:{title:"PDF Templates",subtitle:"Define base structures for the documents you generate and attach.",newBtn:"New PDF Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No PDF templates saved yet.",editTitle:"Edit PDF Template",newTitle:"New PDF Template",nameLabel:"Template Name",namePlaceholder:"Medical Header, Base Invoice, etc.",bodyLabel:"Content (Rich Text)",bodyPlaceholder:"Define the base text of your PDF here...",updateBtn:"Update Template",saveBtn:"Save Template",importPdf:"Import from PDF",extracting:"Extracting text...",importSuccess:"Text extracted successfully.",importError:"Error processing PDF."}},az=({templates:n,onAction:e,lang:t})=>{const r=ut.useMemo(()=>iz[t],[t]),[i,a]=ut.useState(null),[s,o]=ut.useState(!1),[c,u]=ut.useState(!1),[h,p]=ut.useState(""),[g,m]=ut.useState({id:"",name:"",body:""}),w=ut.useRef(null),y=ut.useRef(null),S=n.filter(q=>q.name.toLowerCase().includes(h.toLowerCase()));ut.useEffect(()=>{(s||i)&&w.current&&w.current.innerHTML!==g.body&&(w.current.innerHTML=g.body)},[s,i,g.body]);const C=()=>{m({id:Date.now().toString(),name:"",body:""}),o(!0),a(null)},L=q=>{m(q),a(q),o(!1)},R=q=>{q.preventDefault(),i?e.update(g):e.add(g),o(!1),a(null)},D=q=>{document.execCommand(q,!1),w.current&&m(P=>({...P,body:w.current.innerHTML}))},z=async q=>{var W;const P=(W=q.target.files)==null?void 0:W[0];if(P){u(!0);try{const O=await P.arrayBuffer(),B=await rz({data:O}).promise;let j="";for(let ee=1;ee<=B.numPages;ee++){const K=(await(await B.getPage(ee)).getTextContent()).items.map(le=>le.str).join(" ");j+=`<p>${K}</p>`}m(ee=>({...ee,name:ee.name||P.name.replace(".pdf",""),body:j}))}catch(O){console.error("Error al extraer PDF:",O),alert(r.importError)}finally{u(!1),y.current&&(y.current.value="")}}};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!s&&!i&&E.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(mg,{size:18})," ",r.newBtn]})]}),!s&&!i?E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Uy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:h,onChange:q=>p(q.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.map(q=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>L(q),children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:q.name}),E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:P=>{P.stopPropagation(),L(q)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(Gx,{size:14})}),E.jsx("button",{onClick:P=>{P.stopPropagation(),e.delete(q.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(nf,{size:14})})]})]}),E.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:q.body.replace(/<[^>]*>?/gm," ")}})]})},q.id)),S.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:h?r.noSearch:r.noTemplates})]})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),E.jsx("button",{onClick:()=>{o(!1),a(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:20})})]}),E.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-3",children:[E.jsx("input",{type:"file",ref:y,accept:"application/pdf",className:"hidden",onChange:z}),E.jsxs("button",{type:"button",onClick:()=>{var q;return(q=y.current)==null?void 0:q.click()},disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold shadow-sm hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-50",children:[c?E.jsx(UL,{className:"animate-spin",size:18}):E.jsx(BL,{size:18}),c?r.extracting:r.importPdf]})]}),E.jsxs("form",{onSubmit:R,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:g.name,onChange:q=>m({...g,name:q.target.value}),placeholder:r.namePlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx($c,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),E.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>D("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(ZT,{size:16})}),E.jsx("button",{type:"button",onClick:()=>D("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(r4,{size:16})}),E.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),E.jsx("button",{type:"button",onClick:()=>D("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(i4,{size:16})})]}),E.jsx("div",{ref:w,contentEditable:!0,onInput:q=>{const P=q.currentTarget.innerHTML;m(W=>({...W,body:P}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),E.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[E.jsx(rf,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})},sz={es:{title:"Opciones del Sistema",subtitle:"Configura perfiles de envo, integraciones y asociaciones de censo.",tabSmtp:"Servidores SMTP",tabIntegrations:"Integraciones",tabPdf:"Configuracin PDF",tabAssociations:"Asociaciones Correo",tabPreferences:"Preferencias",langLabel:"Idioma de la Aplicacin",langSpanish:"Espaol",langEnglish:"Ingls",themeLabel:"Apariencia",themeLight:"Modo Claro",themeDark:"Modo Oscuro",sizeLimitLabel:"Lmite individual de adjuntos (MB)",saveNotify:"Cambios aplicados instantneamente.",pdfLogoLabel:"Logo para Documentos PDF",pdfLogoDesc:"Este logo aparecer en todas las pginas de los PDF generados.",logoPosLabel:"Posicin del Logo",pageDimLabel:"Medidas y Formato de Pgina",pageDimHint:"Define el tamao base del papel para los reportes.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Carta (215.9 x 279.4 mm)",formatCustom:"Personalizado",width:"Ancho (mm)",height:"Alto (mm)",uploadLogo:"Subir Logo",removeLogo:"Eliminar Logo",assocTitle:"Asociaciones Cobertura-Correo",assocSubtitle:"Configura a quin y qu enviar automticamente para cada obra social.",newAssoc:"Nueva Asociacin",coverageName:"Nombre Cobertura (Exacto)",recipients:"Destinatarios (separar por comas)",subject:"Asunto del Correo",body:"Cuerpo del Correo",noAssoc:"No hay asociaciones configuradas.",editAssoc:"Editar Asociacin",deleteAssoc:"Eliminar asociacin?",saveAssoc:"Guardar Asociacin",isolationColLabel:"Columna de Aislamiento",isolationColHint:'Columna que indica si el paciente requiere aislamiento (ej: "AISLAMIENTO").',isolationValueLabel:"Valor de Bsqueda para Aislamiento",isolationValueHint:"Solo se contarn pacientes cuyo valor en la columna coincida con este texto."},en:{title:"System Options",subtitle:"Configure sending profiles, integrations, and census associations.",tabSmtp:"SMTP Servers",tabIntegrations:"Integrations",tabPdf:"PDF Configuration",tabAssociations:"Email Associations",tabPreferences:"Preferences",langLabel:"Application Language",langSpanish:"Spanish",langEnglish:"English",themeLabel:"Appearance",themeLight:"Light Mode",themeDark:"Dark Mode",sizeLimitLabel:"Individual attachment limit (MB)",saveNotify:"Changes applied instantly.",pdfLogoLabel:"Logo for PDF Documents",pdfLogoDesc:"This logo will appear on all pages of the generated PDFs.",logoPosLabel:"Logo Position",pageDimLabel:"Page Measurements & Format",pageDimHint:"Define the base paper size for reports.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Letter (215.9 x 279.4 mm)",formatCustom:"Custom",width:"Width (mm)",height:"Height (mm)",uploadLogo:"Upload Logo",removeLogo:"Remove Logo",assocTitle:"Coverage-Email Associations",assocSubtitle:"Configure who and what to send automatically for each insurance provider.",newAssoc:"New Association",coverageName:"Coverage Name (Exact)",recipients:"Recipients (comma separated)",subject:"Email Subject",body:"Email Body",noAssoc:"No associations configured.",editAssoc:"Edit Association",deleteAssoc:"Delete association?",saveAssoc:"Save Association",isolationColLabel:"Isolation Column",isolationColHint:'Column that indicates if the patient requires isolation (e.g., "ISOLATION").',isolationValueLabel:"Isolation Search Value",isolationValueHint:"Only patients whose value matches this text will be counted."}},oz=({smtpConfigs:n,onSmtpAction:e,activeSmtpId:t,sheetUrl:r,onSaveSheetUrl:i,lang:a,onLangChange:s,isDarkMode:o,onToggleMode:c,attachmentSizeLimit:u,onSaveAttachmentSizeLimit:h,pdfTemplates:p,onPdfTemplateAction:g,censusSettings:m,onSaveCensusSettings:w})=>{const y=ut.useMemo(()=>sz[a],[a]),[S,C]=ut.useState("smtp"),[L,R]=ut.useState(null),[D,z]=ut.useState(!1),[q,P]=ut.useState({id:"",coverageName:"",emails:"",subject:"",body:""}),W=ut.useRef(null),O=ue=>{var le;const K=(le=ue.target.files)==null?void 0:le[0];if(K){const Te=new FileReader;Te.onload=ge=>{var Be;w({...m,pdfLogo:(Be=ge.target)==null?void 0:Be.result})},Te.readAsDataURL(K)}},Q=(ue,K)=>{w({...m,[ue]:K})},B=()=>{P({id:Date.now().toString(),coverageName:"",emails:"",subject:"",body:""}),z(!0),R(null)},j=ue=>{P(ue),R(ue),z(!1)},ee=ue=>{ue.preventDefault();let K;L?K=m.associations.map(le=>le.id===L.id?q:le):K=[...m.associations||[],q],w({...m,associations:K}),z(!1),R(null)},fe=ue=>{window.confirm(y.deleteAssoc)&&w({...m,associations:m.associations.filter(K=>K.id!==ue)})};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:y.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:y.subtitle})]}),E.jsx("div",{className:"flex flex-wrap items-center gap-1 bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl w-fit border border-slate-200 dark:border-slate-800",children:[{id:"smtp",label:y.tabSmtp,icon:qx},{id:"integrations",label:y.tabIntegrations,icon:FL},{id:"pdf",label:y.tabPdf,icon:OL},{id:"assoc",label:y.tabAssociations,icon:YA},{id:"preferences",label:y.tabPreferences,icon:Qk}].map(ue=>E.jsxs("button",{onClick:()=>C(ue.id),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${S===ue.id?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[E.jsx(ue.icon,{size:16})," ",ue.label]},ue.id))}),E.jsxs("div",{className:"mt-8 transition-all",children:[S==="smtp"&&E.jsx(eU,{configs:n,onAction:e,activeId:t,lang:a}),S==="integrations"&&E.jsx(nU,{sheetUrl:r,onSave:i,lang:a}),S==="pdf"&&E.jsxs("div",{className:"space-y-12",children:[E.jsx(az,{templates:p,onAction:g,lang:a}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-10",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(av,{size:20,className:"text-indigo-50"})," ",y.pdfLogoLabel]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:y.pdfLogoDesc})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center overflow-hidden",children:m.pdfLogo?E.jsx("img",{src:m.pdfLogo,className:"w-full h-full object-contain"}):E.jsx(qB,{className:"text-slate-300"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("input",{type:"file",ref:W,className:"hidden",onChange:O,accept:"image/*"}),E.jsx("button",{onClick:()=>{var ue;return(ue=W.current)==null?void 0:ue.click()},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold hover:bg-indigo-700 transition-all",children:y.uploadLogo}),m.pdfLogo&&E.jsx("button",{onClick:()=>Q("pdfLogo",void 0),className:"block text-xs font-bold text-red-500 hover:underline",children:y.removeLogo})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:y.logoPosLabel}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:["top-left","top-right","bottom-left","bottom-right"].map(ue=>E.jsx("button",{onClick:()=>Q("logoPosition",ue),className:`px-4 py-2 text-xs font-bold rounded-xl border transition-all ${m.logoPosition===ue?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:border-indigo-200"}`,children:ue.replace("-"," ").toUpperCase()},ue))})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(pB,{size:20,className:"text-indigo-500"})," ",y.pageDimLabel]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:y.pageDimHint})]}),E.jsx("div",{className:"space-y-4",children:["a4","letter","custom"].map(ue=>E.jsxs("button",{onClick:()=>Q("pageFormat",ue),className:`w-full flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${m.pageFormat===ue?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-900/10 text-indigo-700 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 hover:border-indigo-200"}`,children:[E.jsx("span",{className:"font-bold text-sm",children:ue==="a4"?y.formatA4:ue==="letter"?y.formatLetter:y.formatCustom}),m.pageFormat===ue&&E.jsx(KA,{size:18})]},ue))}),E.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800 space-y-6",children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(Vx,{size:20,className:"text-indigo-500"})," Deteccin de Aislamiento"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:y.isolationColLabel}),E.jsx("input",{type:"text",placeholder:"Ej: AISLAMIENTO",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:m.isolationColumn||"",onChange:ue=>Q("isolationColumn",ue.target.value)}),E.jsx("p",{className:"text-[10px] text-slate-400 italic",children:y.isolationColHint})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:y.isolationValueLabel}),E.jsx("input",{type:"text",placeholder:"Ej: AISLADO",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:m.isolationValue||"",onChange:ue=>Q("isolationValue",ue.target.value)}),E.jsx("p",{className:"text-[10px] text-slate-400 italic",children:y.isolationValueHint})]})]})]})]})]})})]}),S==="assoc"&&E.jsxs("div",{className:"space-y-8",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(YA,{className:"text-indigo-500"})," ",y.assocTitle]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:y.assocSubtitle})]}),!D&&!L&&E.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all",children:[E.jsx(mg,{size:18})," ",y.newAssoc]})]}),!D&&!L?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(m.associations||[]).map(ue=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm transition-all group",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:"COBERTURA"}),E.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white leading-none",children:ue.coverageName}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-medium",children:[E.jsx(By,{size:12})," ",ue.emails]})]}),E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>j(ue),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:E.jsx(HL,{size:16})}),E.jsx("button",{onClick:()=>fe(ue.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:E.jsx(nf,{size:16})})]})]})},ue.id)),(m.associations||[]).length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 italic bg-slate-50 dark:bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:y.noAssoc})]}):E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white",children:L?y.editAssoc:y.newAssoc}),E.jsx("button",{onClick:()=>{z(!1),R(null)},className:"text-slate-400 hover:text-slate-600",children:E.jsx(to,{size:24})})]}),E.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:y.coverageName}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:q.coverageName,onChange:ue=>P({...q,coverageName:ue.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:y.recipients}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:q.emails,onChange:ue=>P({...q,emails:ue.target.value})})]}),E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:y.subject}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:q.subject,onChange:ue=>P({...q,subject:ue.target.value})})]}),E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:y.body}),E.jsx("textarea",{rows:4,required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:q.body,onChange:ue=>P({...q,body:ue.target.value})})]})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(rf,{size:18})," ",y.saveAssoc]})]})]})]}),S==="preferences"&&E.jsx("div",{className:"space-y-6 max-w-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx($9,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:y.langLabel})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>s("es"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${a==="es"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[E.jsx("span",{children:""})," ",y.langSpanish]}),E.jsxs("button",{onClick:()=>s("en"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${a==="en"?"border-indigo-500 bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[E.jsx("span",{children:""})," ",y.langEnglish]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(Qk,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:y.themeLabel})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>o?c():null,className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-slate-800 text-slate-500 hover:bg-slate-800":"border-indigo-50 bg-indigo-50 text-indigo-600 shadow-sm"}`,children:[E.jsx(DB,{size:18})," ",y.themeLight]}),E.jsxs("button",{onClick:()=>o?null:c(),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-indigo-50 bg-indigo-900/20 text-indigo-400 shadow-sm":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[E.jsx(vB,{size:18})," ",y.themeDark]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(Nx,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:y.sizeLimitLabel})]}),E.jsx("div",{className:"max-w-xs",children:E.jsx("input",{type:"number",min:"1",max:"100",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all font-semibold",value:u,onChange:ue=>h(Number(ue.target.value))})})]})]}),E.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex items-center gap-2 text-slate-400 text-xs",children:[E.jsx(KA,{size:14}),y.saveNotify]})]})})]})]})};var lz={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cz,uz;function fz(){return{geminiUrl:cz,vertexUrl:uz}}function hz(n,e,t,r){var i,a;if(!(n!=null&&n.baseUrl)){const s=fz();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:t:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ch{}function Ot(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function A(n,e,t){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[o])){const c=n[o];if(Array.isArray(t))for(let u=0;u<c.length;u++){const h=c[u];A(h,e.slice(a+1),t[u])}else for(const u of c)A(u,e.slice(a+1),t)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in n||(n[o]=[{}]);const c=n[o];A(c[0],e.slice(a+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function b(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in n){const s=n[a];return Array.isArray(s)?s.map(o=>b(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function dz(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),a=r.split("."),s=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&a.length>o)for(let c=o;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}fT(n,i,a,0,s)}}function fT(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=n;if(s in o&&Array.isArray(o[s]))for(const c of o[s])fT(c,e,t,r+1,i)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const s=n,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=s[u];for(const[u,h]of Object.entries(c)){const p=[];for(const g of t.slice(r))g==="*"?p.push(u):p.push(g);A(s,p,h)}for(const u of o)delete s[u]}}else{const s=n;a in s&&fT(s[a],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g4(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pz(n){const e={},t=b(n,["operationName"]);t!=null&&A(e,["operationName"],t);const r=b(n,["resourceName"]);return r!=null&&A(e,["_url","resourceName"],r),e}function gz(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response","generateVideoResponse"]);return s!=null&&A(e,["response"],vz(s)),e}function mz(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response"]);return s!=null&&A(e,["response"],xz(s)),e}function vz(n){const e={},t=b(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>yz(s))),A(e,["generatedVideos"],a)}const r=b(n,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=b(n,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function xz(n){const e={},t=b(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>bz(s))),A(e,["generatedVideos"],a)}const r=b(n,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=b(n,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function yz(n){const e={},t=b(n,["video"]);return t!=null&&A(e,["video"],Tz(t)),e}function bz(n){const e={},t=b(n,["_self"]);return t!=null&&A(e,["video"],Cz(t)),e}function wz(n){const e={},t=b(n,["operationName"]);return t!=null&&A(e,["_url","operationName"],t),e}function _z(n){const e={},t=b(n,["operationName"]);return t!=null&&A(e,["_url","operationName"],t),e}function Sz(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response"]);return s!=null&&A(e,["response"],Az(s)),e}function Az(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["parent"]);r!=null&&A(e,["parent"],r);const i=b(n,["documentName"]);return i!=null&&A(e,["documentName"],i),e}function HM(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response"]);return s!=null&&A(e,["response"],Ez(s)),e}function Ez(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["parent"]);r!=null&&A(e,["parent"],r);const i=b(n,["documentName"]);return i!=null&&A(e,["documentName"],i),e}function Tz(n){const e={},t=b(n,["uri"]);t!=null&&A(e,["uri"],t);const r=b(n,["encodedVideo"]);r!=null&&A(e,["videoBytes"],g4(r));const i=b(n,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function Cz(n){const e={},t=b(n,["gcsUri"]);t!=null&&A(e,["uri"],t);const r=b(n,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],g4(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yN;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yN||(yN={}));var bN;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(bN||(bN={}));var wN;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(wN||(wN={}));var Kc;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Kc||(Kc={}));var _N;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_N||(_N={}));var SN;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(SN||(SN={}));var AN;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(AN||(AN={}));var EN;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(EN||(EN={}));var TN;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(TN||(TN={}));var CN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(CN||(CN={}));var kN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(kN||(kN={}));var NN;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(NN||(NN={}));var RN;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(RN||(RN={}));var LN;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(LN||(LN={}));var IN;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(IN||(IN={}));var MN;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(MN||(MN={}));var DN;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(DN||(DN={}));var FN;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FN||(FN={}));var PN;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(PN||(PN={}));var ON;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(ON||(ON={}));var BN;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BN||(BN={}));var d_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(d_||(d_={}));var UN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(UN||(UN={}));var HN;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(HN||(HN={}));var zN;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zN||(zN={}));var hT;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hT||(hT={}));var jN;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jN||(jN={}));var GN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(GN||(GN={}));var dT;(function(n){n.COLLECTION="COLLECTION"})(dT||(dT={}));var qN;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(qN||(qN={}));var VN;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(VN||(VN={}));var WN;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(WN||(WN={}));var XN;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(XN||(XN={}));var YN;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(YN||(YN={}));var $N;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($N||($N={}));var KN;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(KN||(KN={}));var JN;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(JN||(JN={}));var ZN;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZN||(ZN={}));var QN;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(QN||(QN={}));var e6;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(e6||(e6={}));var t6;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(t6||(t6={}));var n6;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(n6||(n6={}));var r6;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(r6||(r6={}));var i6;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(i6||(i6={}));var a6;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(a6||(a6={}));var s6;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(s6||(s6={}));var o6;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(o6||(o6={}));var l6;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(l6||(l6={}));var c6;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(c6||(c6={}));var u6;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(u6||(u6={}));var f6;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(f6||(f6={}));var h6;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(h6||(h6={}));var d6;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(d6||(d6={}));var p6;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(p6||(p6={}));var g6;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(g6||(g6={}));var m6;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(m6||(m6={}));var Mm;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Mm||(Mm={}));class pT{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ix{get text(){var e,t,r,i,a,s,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1;const p=[];for(const g of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,w]of Object.entries(g))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(w!==null||w!==void 0)&&p.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var e,t,r,i,a,s,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const h=[];for(const p of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,m]of Object.entries(p))g!=="inlineData"&&(m!==null||m!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,a,s,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,a,s,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,a,s,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.output}}class v6{}class x6{}class kz{}class Nz{}class Rz{}class Lz{}class y6{}class b6{}class w6{}class Iz{}class p_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new p_;let i;const a=e;return t?i=mz(a):i=gz(a),Object.assign(r,i),r}}class _6{}class S6{}class A6{}class E6{}class Mz{}class Dz{}class Fz{}class m4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new m4,a=Sz(e);return Object.assign(r,a),r}}class Pz{}class Oz{}class Bz{}class T6{}class Uz{get text(){var e,t,r;let i="",a=!1;const s=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,t,r;let i="";const a=[];for(const s of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(s))o!=="inlineData"&&c!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Hz{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class v4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new v4,a=HM(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xr(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function zM(n,e){const t=xr(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function jM(n){return Array.isArray(n)?n.map(e=>g_(e)):[g_(n)]}function g_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function GM(n){const e=g_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qM(n){const e=g_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function C6(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function VM(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>C6(e)):[C6(n)]}function gT(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function k6(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function N6(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ds(n){if(n==null)throw new Error("ContentUnion is required");return gT(n)?n:{role:"user",parts:VM(n)}}function x4(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Ds(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Ds(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ds(t)):[Ds(e)]}function ec(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(k6(n)||N6(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ds(n)]}const e=[],t=[],r=gT(n[0]);for(const i of n){const a=gT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(k6(i)||N6(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:VM(t)}),e}function zz(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Kc).includes(t[0].toUpperCase())?t[0].toUpperCase():Kc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Kc).includes(r.toUpperCase())?r.toUpperCase():Kc.TYPE_UNSPECIFIED})}}function Gm(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&zz(n.type,e);for(const[s,o]of Object.entries(n))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Kc).includes(o.toUpperCase())?o.toUpperCase():Kc.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=Gm(o);else if(r.includes(s)){const c=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}c.push(Gm(u))}e[s]=c}else if(i.includes(s)){const c={};for(const[u,h]of Object.entries(o))c[u]=Gm(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=o}return e}function y4(n){return Gm(n)}function b4(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function w4(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function cv(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gm(e.response));return n}function uv(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function jz(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function kh(n,e){if(typeof e!="string")throw new Error("name must be a string");return jz(n,e,"cachedContents")}function WM(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function o0(n){return g4(n)}function Gz(n){return n!=null&&typeof n=="object"&&"name"in n}function qz(n){return n!=null&&typeof n=="object"&&"video"in n}function Vz(n){return n!=null&&typeof n=="object"&&"uri"in n}function XM(n){var e;let t;if(Gz(n)&&(t=n.name),!(Vz(n)&&(t=n.uri,t===void 0))&&!(qz(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function YM(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function $M(n){for(const e of["models","tunedModels","publisherModels"])if(Wz(n,e))return n[e];return[]}function Wz(n,e){return n!==null&&typeof n=="object"&&e in n}function Xz(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Yz(n,e={}){const t=[],r=new Set;for(const i of n){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Xz(i,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function KM(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function $z(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function JM(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function fv(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function ZM(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kz(n){const e={},t=b(n,["responsesFile"]);t!=null&&A(e,["fileName"],t);const r=b(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Rj(s))),A(e,["inlinedResponses"],a)}const i=b(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["inlinedEmbedContentResponses"],a)}return e}function Jz(n){const e={},t=b(n,["predictionsFormat"]);t!=null&&A(e,["format"],t);const r=b(n,["gcsDestination","outputUriPrefix"]);r!=null&&A(e,["gcsUri"],r);const i=b(n,["bigqueryDestination","outputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function Zz(n){const e={},t=b(n,["format"]);t!=null&&A(e,["predictionsFormat"],t);const r=b(n,["gcsUri"]);r!=null&&A(e,["gcsDestination","outputUriPrefix"],r);const i=b(n,["bigqueryUri"]);if(i!=null&&A(e,["bigqueryDestination","outputUri"],i),b(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kw(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata","displayName"]);r!=null&&A(e,["displayName"],r);const i=b(n,["metadata","state"]);i!=null&&A(e,["state"],ZM(i));const a=b(n,["metadata","createTime"]);a!=null&&A(e,["createTime"],a);const s=b(n,["metadata","endTime"]);s!=null&&A(e,["endTime"],s);const o=b(n,["metadata","updateTime"]);o!=null&&A(e,["updateTime"],o);const c=b(n,["metadata","model"]);c!=null&&A(e,["model"],c);const u=b(n,["metadata","output"]);return u!=null&&A(e,["dest"],Kz(JM(u))),e}function mT(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["displayName"]);r!=null&&A(e,["displayName"],r);const i=b(n,["state"]);i!=null&&A(e,["state"],ZM(i));const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["createTime"]);s!=null&&A(e,["createTime"],s);const o=b(n,["startTime"]);o!=null&&A(e,["startTime"],o);const c=b(n,["endTime"]);c!=null&&A(e,["endTime"],c);const u=b(n,["updateTime"]);u!=null&&A(e,["updateTime"],u);const h=b(n,["model"]);h!=null&&A(e,["model"],h);const p=b(n,["inputConfig"]);p!=null&&A(e,["src"],Qz(p));const g=b(n,["outputConfig"]);g!=null&&A(e,["dest"],Jz(JM(g)));const m=b(n,["completionStats"]);return m!=null&&A(e,["completionStats"],m),e}function Qz(n){const e={},t=b(n,["instancesFormat"]);t!=null&&A(e,["format"],t);const r=b(n,["gcsSource","uris"]);r!=null&&A(e,["gcsUri"],r);const i=b(n,["bigquerySource","inputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function ej(n,e){const t={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=b(e,["fileName"]);r!=null&&A(t,["fileName"],r);const i=b(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Nj(n,s))),A(t,["requests","requests"],a)}return t}function tj(n){const e={},t=b(n,["format"]);t!=null&&A(e,["instancesFormat"],t);const r=b(n,["gcsUri"]);r!=null&&A(e,["gcsSource","uris"],r);const i=b(n,["bigqueryUri"]);if(i!=null&&A(e,["bigquerySource","inputUri"],i),b(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nj(n){const e={},t=b(n,["data"]);if(t!=null&&A(e,["data"],t),b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function rj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function ij(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function aj(n){const e={},t=b(n,["content"]);t!=null&&A(e,["content"],t);const r=b(n,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],sj(r));const i=b(n,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=b(n,["finishReason"]);a!=null&&A(e,["finishReason"],a);const s=b(n,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const o=b(n,["groundingMetadata"]);o!=null&&A(e,["groundingMetadata"],o);const c=b(n,["index"]);c!=null&&A(e,["index"],c);const u=b(n,["logprobsResult"]);u!=null&&A(e,["logprobsResult"],u);const h=b(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),A(e,["safetyRatings"],g)}const p=b(n,["urlContextMetadata"]);return p!=null&&A(e,["urlContextMetadata"],p),e}function sj(n){const e={},t=b(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),A(e,["citations"],r)}return e}function QM(n){const e={},t=b(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Oj(a))),A(e,["parts"],i)}const r=b(n,["role"]);return r!=null&&A(e,["role"],r),e}function oj(n,e){const t={},r=b(n,["displayName"]);if(e!==void 0&&r!=null&&A(e,["batch","displayName"],r),b(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function lj(n,e){const t={},r=b(n,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=b(n,["dest"]);return e!==void 0&&i!=null&&A(e,["outputConfig"],Zz($z(i))),t}function R6(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["src"]);i!=null&&A(t,["batch","inputConfig"],ej(n,KM(n,i)));const a=b(e,["config"]);return a!=null&&oj(a,t),t}function cj(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["model"],xr(n,r));const i=b(e,["src"]);i!=null&&A(t,["inputConfig"],tj(KM(n,i)));const a=b(e,["config"]);return a!=null&&lj(a,t),t}function uj(n,e){const t={},r=b(n,["displayName"]);return e!==void 0&&r!=null&&A(e,["batch","displayName"],r),t}function fj(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["src"]);i!=null&&A(t,["batch","inputConfig"],xj(n,i));const a=b(e,["config"]);return a!=null&&uj(a,t),t}function hj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function dj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function pj(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["name"]);r!=null&&A(e,["name"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);return a!=null&&A(e,["error"],a),e}function gj(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["name"]);r!=null&&A(e,["name"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);return a!=null&&A(e,["error"],a),e}function mj(n,e){const t={},r=b(e,["contents"]);if(r!=null){let a=x4(n,r);Array.isArray(a)&&(a=a.map(s=>s)),A(t,["requests[]","request","content"],a)}const i=b(e,["config"]);return i!=null&&(A(t,["_self"],vj(i,t)),dz(t,{"requests[].*":"requests[].request.*"})),t}function vj(n,e){const t={},r=b(n,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=b(n,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=b(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),b(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function xj(n,e){const t={},r=b(e,["fileName"]);r!=null&&A(t,["file_name"],r);const i=b(e,["inlinedRequests"]);return i!=null&&A(t,["requests"],mj(n,i)),t}function yj(n){const e={};if(b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=b(n,["fileUri"]);t!=null&&A(e,["fileUri"],t);const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function bj(n){const e={},t=b(n,["id"]);t!=null&&A(e,["id"],t);const r=b(n,["args"]);r!=null&&A(e,["args"],r);const i=b(n,["name"]);if(i!=null&&A(e,["name"],i),b(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wj(n){const e={},t=b(n,["allowedFunctionNames"]);t!=null&&A(e,["allowedFunctionNames"],t);const r=b(n,["mode"]);if(r!=null&&A(e,["mode"],r),b(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _j(n,e,t){const r={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&A(t,["systemInstruction"],QM(Ds(i)));const a=b(e,["temperature"]);a!=null&&A(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&A(r,["topP"],s);const o=b(e,["topK"]);o!=null&&A(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&A(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const h=b(e,["stopSequences"]);h!=null&&A(r,["stopSequences"],h);const p=b(e,["responseLogprobs"]);p!=null&&A(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&A(r,["logprobs"],g);const m=b(e,["presencePenalty"]);m!=null&&A(r,["presencePenalty"],m);const w=b(e,["frequencyPenalty"]);w!=null&&A(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&A(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&A(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&A(r,["responseSchema"],y4(C));const L=b(e,["responseJsonSchema"]);if(L!=null&&A(r,["responseJsonSchema"],L),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=b(e,["safetySettings"]);if(t!==void 0&&R!=null){let ee=R;Array.isArray(ee)&&(ee=ee.map(fe=>Bj(fe))),A(t,["safetySettings"],ee)}const D=b(e,["tools"]);if(t!==void 0&&D!=null){let ee=uv(D);Array.isArray(ee)&&(ee=ee.map(fe=>Hj(cv(fe)))),A(t,["tools"],ee)}const z=b(e,["toolConfig"]);if(t!==void 0&&z!=null&&A(t,["toolConfig"],Uj(z)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=b(e,["cachedContent"]);t!==void 0&&q!=null&&A(t,["cachedContent"],kh(n,q));const P=b(e,["responseModalities"]);P!=null&&A(r,["responseModalities"],P);const W=b(e,["mediaResolution"]);W!=null&&A(r,["mediaResolution"],W);const O=b(e,["speechConfig"]);if(O!=null&&A(r,["speechConfig"],b4(O)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=b(e,["thinkingConfig"]);Q!=null&&A(r,["thinkingConfig"],Q);const B=b(e,["imageConfig"]);B!=null&&A(r,["imageConfig"],kj(B));const j=b(e,["enableEnhancedCivicAnswers"]);if(j!=null&&A(r,["enableEnhancedCivicAnswers"],j),b(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Sj(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>aj(u))),A(e,["candidates"],c)}const i=b(n,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=b(n,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const s=b(n,["responseId"]);s!=null&&A(e,["responseId"],s);const o=b(n,["usageMetadata"]);return o!=null&&A(e,["usageMetadata"],o),e}function Aj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function Ej(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],fv(n,r)),t}function Tj(n){const e={};if(b(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=b(n,["enableWidget"]);return t!=null&&A(e,["enableWidget"],t),e}function Cj(n){const e={};if(b(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=b(n,["timeRangeFilter"]);return t!=null&&A(e,["timeRangeFilter"],t),e}function kj(n){const e={},t=b(n,["aspectRatio"]);t!=null&&A(e,["aspectRatio"],t);const r=b(n,["imageSize"]);if(r!=null&&A(e,["imageSize"],r),b(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(b(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nj(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["request","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let o=ec(i);Array.isArray(o)&&(o=o.map(c=>QM(c))),A(t,["request","contents"],o)}const a=b(e,["metadata"]);a!=null&&A(t,["metadata"],a);const s=b(e,["config"]);return s!=null&&A(t,["request","generationConfig"],_j(n,s,b(t,["request"],{}))),t}function Rj(n){const e={},t=b(n,["response"]);t!=null&&A(e,["response"],Sj(t));const r=b(n,["error"]);return r!=null&&A(e,["error"],r),e}function Lj(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);if(e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),b(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Ij(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=b(n,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),t}function Mj(n){const e={},t=b(n,["config"]);return t!=null&&Lj(t,e),e}function Dj(n){const e={},t=b(n,["config"]);return t!=null&&Ij(t,e),e}function Fj(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Kw(s))),A(e,["batchJobs"],a)}return e}function Pj(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mT(s))),A(e,["batchJobs"],a)}return e}function Oj(n){const e={},t=b(n,["mediaResolution"]);t!=null&&A(e,["mediaResolution"],t);const r=b(n,["codeExecutionResult"]);r!=null&&A(e,["codeExecutionResult"],r);const i=b(n,["executableCode"]);i!=null&&A(e,["executableCode"],i);const a=b(n,["fileData"]);a!=null&&A(e,["fileData"],yj(a));const s=b(n,["functionCall"]);s!=null&&A(e,["functionCall"],bj(s));const o=b(n,["functionResponse"]);o!=null&&A(e,["functionResponse"],o);const c=b(n,["inlineData"]);c!=null&&A(e,["inlineData"],nj(c));const u=b(n,["text"]);u!=null&&A(e,["text"],u);const h=b(n,["thought"]);h!=null&&A(e,["thought"],h);const p=b(n,["thoughtSignature"]);p!=null&&A(e,["thoughtSignature"],p);const g=b(n,["videoMetadata"]);return g!=null&&A(e,["videoMetadata"],g),e}function Bj(n){const e={},t=b(n,["category"]);if(t!=null&&A(e,["category"],t),b(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(n,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function Uj(n){const e={},t=b(n,["retrievalConfig"]);t!=null&&A(e,["retrievalConfig"],t);const r=b(n,["functionCallingConfig"]);return r!=null&&A(e,["functionCallingConfig"],wj(r)),e}function Hj(n){const e={};if(b(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=b(n,["computerUse"]);t!=null&&A(e,["computerUse"],t);const r=b(n,["fileSearch"]);r!=null&&A(e,["fileSearch"],r);const i=b(n,["codeExecution"]);if(i!=null&&A(e,["codeExecution"],i),b(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(n,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),A(e,["functionDeclarations"],h)}const s=b(n,["googleMaps"]);s!=null&&A(e,["googleMaps"],Tj(s));const o=b(n,["googleSearch"]);o!=null&&A(e,["googleSearch"],Cj(o));const c=b(n,["googleSearchRetrieval"]);c!=null&&A(e,["googleSearchRetrieval"],c);const u=b(n,["urlContext"]);return u!=null&&A(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _h;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(_h||(_h={}));class xg{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zj extends Ch{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xg(_h.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=R6(this.apiClient,e),r=t._url,i=Ot("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,c=o.requests,u=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=g,p.request=m}u.push(p)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=cj(this.apiClient,e);return o=Ot("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mT(h))}else{const u=R6(this.apiClient,e);return o=Ot("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Kw(h))}}async createEmbeddingsInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=fj(this.apiClient,e);return a=Ot("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Kw(c))}}async get(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ej(this.apiClient,e);return o=Ot("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mT(h))}else{const u=Aj(this.apiClient,e);return o=Ot("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Kw(h))}}async cancel(e){var t,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const c=ij(this.apiClient,e);s=Ot("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=rj(this.apiClient,e);s=Ot("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Dj(e);return o=Ot("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Pj(h),g=new T6;return Object.assign(g,p),g})}else{const u=Mj(e);return o=Ot("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Fj(h),g=new T6;return Object.assign(g,p),g})}}async delete(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=dj(this.apiClient,e);return o=Ot("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>gj(h))}else{const u=hj(this.apiClient,e);return o=Ot("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>pj(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jj(n){const e={},t=b(n,["data"]);if(t!=null&&A(e,["data"],t),b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function L6(n){const e={},t=b(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>fG(a))),A(e,["parts"],i)}const r=b(n,["role"]);return r!=null&&A(e,["role"],r),e}function Gj(n,e){const t={},r=b(n,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=b(n,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=b(n,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const s=b(n,["contents"]);if(e!==void 0&&s!=null){let h=ec(s);Array.isArray(h)&&(h=h.map(p=>L6(p))),A(e,["contents"],h)}const o=b(n,["systemInstruction"]);e!==void 0&&o!=null&&A(e,["systemInstruction"],L6(Ds(o)));const c=b(n,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>dG(p))),A(e,["tools"],h)}const u=b(n,["toolConfig"]);if(e!==void 0&&u!=null&&A(e,["toolConfig"],hG(u)),b(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function qj(n,e){const t={},r=b(n,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=b(n,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=b(n,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const s=b(n,["contents"]);if(e!==void 0&&s!=null){let p=ec(s);Array.isArray(p)&&(p=p.map(g=>g)),A(e,["contents"],p)}const o=b(n,["systemInstruction"]);e!==void 0&&o!=null&&A(e,["systemInstruction"],Ds(o));const c=b(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>pG(g))),A(e,["tools"],p)}const u=b(n,["toolConfig"]);e!==void 0&&u!=null&&A(e,["toolConfig"],u);const h=b(n,["kmsKeyName"]);return e!==void 0&&h!=null&&A(e,["encryption_spec","kmsKeyName"],h),t}function Vj(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["model"],zM(n,r));const i=b(e,["config"]);return i!=null&&Gj(i,t),t}function Wj(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["model"],zM(n,r));const i=b(e,["config"]);return i!=null&&qj(i,t),t}function Xj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],kh(n,r)),t}function Yj(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],kh(n,r)),t}function $j(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function Kj(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function Jj(n){const e={};if(b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=b(n,["fileUri"]);t!=null&&A(e,["fileUri"],t);const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Zj(n){const e={},t=b(n,["id"]);t!=null&&A(e,["id"],t);const r=b(n,["args"]);r!=null&&A(e,["args"],r);const i=b(n,["name"]);if(i!=null&&A(e,["name"],i),b(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qj(n){const e={},t=b(n,["allowedFunctionNames"]);t!=null&&A(e,["allowedFunctionNames"],t);const r=b(n,["mode"]);if(r!=null&&A(e,["mode"],r),b(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eG(n){const e={},t=b(n,["description"]);t!=null&&A(e,["description"],t);const r=b(n,["name"]);r!=null&&A(e,["name"],r);const i=b(n,["parameters"]);i!=null&&A(e,["parameters"],i);const a=b(n,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const s=b(n,["response"]);s!=null&&A(e,["response"],s);const o=b(n,["responseJsonSchema"]);if(o!=null&&A(e,["responseJsonSchema"],o),b(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tG(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],kh(n,r)),t}function nG(n,e){const t={},r=b(e,["name"]);return r!=null&&A(t,["_url","name"],kh(n,r)),t}function rG(n){const e={};if(b(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=b(n,["enableWidget"]);return t!=null&&A(e,["enableWidget"],t),e}function iG(n){const e={};if(b(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=b(n,["timeRangeFilter"]);return t!=null&&A(e,["timeRangeFilter"],t),e}function aG(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),t}function sG(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),t}function oG(n){const e={},t=b(n,["config"]);return t!=null&&aG(t,e),e}function lG(n){const e={},t=b(n,["config"]);return t!=null&&sG(t,e),e}function cG(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["cachedContents"],a)}return e}function uG(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["cachedContents"],a)}return e}function fG(n){const e={},t=b(n,["mediaResolution"]);t!=null&&A(e,["mediaResolution"],t);const r=b(n,["codeExecutionResult"]);r!=null&&A(e,["codeExecutionResult"],r);const i=b(n,["executableCode"]);i!=null&&A(e,["executableCode"],i);const a=b(n,["fileData"]);a!=null&&A(e,["fileData"],Jj(a));const s=b(n,["functionCall"]);s!=null&&A(e,["functionCall"],Zj(s));const o=b(n,["functionResponse"]);o!=null&&A(e,["functionResponse"],o);const c=b(n,["inlineData"]);c!=null&&A(e,["inlineData"],jj(c));const u=b(n,["text"]);u!=null&&A(e,["text"],u);const h=b(n,["thought"]);h!=null&&A(e,["thought"],h);const p=b(n,["thoughtSignature"]);p!=null&&A(e,["thoughtSignature"],p);const g=b(n,["videoMetadata"]);return g!=null&&A(e,["videoMetadata"],g),e}function hG(n){const e={},t=b(n,["retrievalConfig"]);t!=null&&A(e,["retrievalConfig"],t);const r=b(n,["functionCallingConfig"]);return r!=null&&A(e,["functionCallingConfig"],Qj(r)),e}function dG(n){const e={};if(b(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=b(n,["computerUse"]);t!=null&&A(e,["computerUse"],t);const r=b(n,["fileSearch"]);r!=null&&A(e,["fileSearch"],r);const i=b(n,["codeExecution"]);if(i!=null&&A(e,["codeExecution"],i),b(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(n,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),A(e,["functionDeclarations"],h)}const s=b(n,["googleMaps"]);s!=null&&A(e,["googleMaps"],rG(s));const o=b(n,["googleSearch"]);o!=null&&A(e,["googleSearch"],iG(o));const c=b(n,["googleSearchRetrieval"]);c!=null&&A(e,["googleSearchRetrieval"],c);const u=b(n,["urlContext"]);return u!=null&&A(e,["urlContext"],u),e}function pG(n){const e={},t=b(n,["retrieval"]);t!=null&&A(e,["retrieval"],t);const r=b(n,["computerUse"]);if(r!=null&&A(e,["computerUse"],r),b(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=b(n,["codeExecution"]);i!=null&&A(e,["codeExecution"],i);const a=b(n,["enterpriseWebSearch"]);a!=null&&A(e,["enterpriseWebSearch"],a);const s=b(n,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>eG(g))),A(e,["functionDeclarations"],p)}const o=b(n,["googleMaps"]);o!=null&&A(e,["googleMaps"],o);const c=b(n,["googleSearch"]);c!=null&&A(e,["googleSearch"],c);const u=b(n,["googleSearchRetrieval"]);u!=null&&A(e,["googleSearchRetrieval"],u);const h=b(n,["urlContext"]);return h!=null&&A(e,["urlContext"],h),e}function gG(n,e){const t={},r=b(n,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=b(n,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),t}function mG(n,e){const t={},r=b(n,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=b(n,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),t}function vG(n,e){const t={},r=b(e,["name"]);r!=null&&A(t,["_url","name"],kh(n,r));const i=b(e,["config"]);return i!=null&&gG(i,t),t}function xG(n,e){const t={},r=b(e,["name"]);r!=null&&A(t,["_url","name"],kh(n,r));const i=b(e,["config"]);return i!=null&&mG(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yG extends Ch{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xg(_h.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Wj(this.apiClient,e);return o=Ot("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=Vj(this.apiClient,e);return o=Ot("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=nG(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=tG(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Yj(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Kj(h),g=new A6;return Object.assign(g,p),g})}else{const u=Xj(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=$j(h),g=new A6;return Object.assign(g,p),g})}}async update(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=xG(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=vG(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=lG(e);return o=Ot("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=uG(h),g=new E6;return Object.assign(g,p),g})}else{const u=oG(e);return o=Ot("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=cG(h),g=new E6;return Object.assign(g,p),g})}}}function m_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function I6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(n){return this instanceof kn?(this.v=n,this):new kn(n)}function eu(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function o(m,w){r[m]&&(i[m]=function(y){return new Promise(function(S,C){a.push([m,y,S,C])>1||c(m,y)})},w&&(i[m]=w(i[m])))}function c(m,w){try{u(r[m](w))}catch(y){g(a[0][3],y)}}function u(m){m.value instanceof kn?Promise.resolve(m.value.v).then(h,p):g(a[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,w){m(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function tu(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof I6=="function"?I6(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(s){return new Promise(function(o,c){s=n[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bG(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:eD(t)}function eD(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wG(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function M6(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let a=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),a&&!eD(n[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class _G{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new SG(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class SG{constructor(e,t,r,i={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),wG(a)}async sendMessage(e){var t;await this.sendPromise;const r=Ds(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,s,o;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(o=h.slice(p))!==null&&o!==void 0?o:[]);const m=u?[u]:[];this.recordHistory(r,m,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Ds(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const t=e?M6(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return eu(this,arguments,function*(){var i,a,s,o,c,u;const h=[];try{for(var p=!0,g=tu(e),m;m=yield kn(g.next()),i=m.done,!i;p=!0){o=m.value,p=!1;const w=o;if(bG(w)){const y=(u=(c=w.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;y!==void 0&&h.push(y)}yield yield kn(w)}}catch(w){a={error:w}}finally{try{!p&&!i&&(s=g.return)&&(yield kn(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(t,h)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(a=>a.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...M6(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kx.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AG(n){const e={},t=b(n,["file"]);return t!=null&&A(e,["file"],t),e}function EG(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function TG(n){const e={},t=b(n,["name"]);return t!=null&&A(e,["_url","file"],XM(t)),e}function CG(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function kG(n){const e={},t=b(n,["name"]);return t!=null&&A(e,["_url","file"],XM(t)),e}function NG(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),t}function RG(n){const e={},t=b(n,["config"]);return t!=null&&NG(t,e),e}function LG(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IG extends Ch{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xg(_h.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RG(e);return a=Ot("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=LG(c),h=new Pz;return Object.assign(h,u),h})}}async createInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=AG(e);return a=Ot("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=EG(c),h=new Oz;return Object.assign(h,u),h})}}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kG(e);return a=Ot("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=TG(e);return a=Ot("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=CG(c),h=new Bz;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jw(n){const e={},t=b(n,["data"]);if(t!=null&&A(e,["data"],t),b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function MG(n){const e={},t=b(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>$G(a))),A(e,["parts"],i)}const r=b(n,["role"]);return r!=null&&A(e,["role"],r),e}function DG(n){const e={};if(b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=b(n,["fileUri"]);t!=null&&A(e,["fileUri"],t);const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function FG(n){const e={},t=b(n,["id"]);t!=null&&A(e,["id"],t);const r=b(n,["args"]);r!=null&&A(e,["args"],r);const i=b(n,["name"]);if(i!=null&&A(e,["name"],i),b(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PG(n){const e={},t=b(n,["description"]);t!=null&&A(e,["description"],t);const r=b(n,["name"]);r!=null&&A(e,["name"],r);const i=b(n,["parameters"]);i!=null&&A(e,["parameters"],i);const a=b(n,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const s=b(n,["response"]);s!=null&&A(e,["response"],s);const o=b(n,["responseJsonSchema"]);if(o!=null&&A(e,["responseJsonSchema"],o),b(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function OG(n){const e={},t=b(n,["modelSelectionConfig"]);t!=null&&A(e,["modelConfig"],t);const r=b(n,["responseJsonSchema"]);r!=null&&A(e,["responseJsonSchema"],r);const i=b(n,["audioTimestamp"]);i!=null&&A(e,["audioTimestamp"],i);const a=b(n,["candidateCount"]);a!=null&&A(e,["candidateCount"],a);const s=b(n,["enableAffectiveDialog"]);s!=null&&A(e,["enableAffectiveDialog"],s);const o=b(n,["frequencyPenalty"]);o!=null&&A(e,["frequencyPenalty"],o);const c=b(n,["logprobs"]);c!=null&&A(e,["logprobs"],c);const u=b(n,["maxOutputTokens"]);u!=null&&A(e,["maxOutputTokens"],u);const h=b(n,["mediaResolution"]);h!=null&&A(e,["mediaResolution"],h);const p=b(n,["presencePenalty"]);p!=null&&A(e,["presencePenalty"],p);const g=b(n,["responseLogprobs"]);g!=null&&A(e,["responseLogprobs"],g);const m=b(n,["responseMimeType"]);m!=null&&A(e,["responseMimeType"],m);const w=b(n,["responseModalities"]);w!=null&&A(e,["responseModalities"],w);const y=b(n,["responseSchema"]);y!=null&&A(e,["responseSchema"],y);const S=b(n,["routingConfig"]);S!=null&&A(e,["routingConfig"],S);const C=b(n,["seed"]);C!=null&&A(e,["seed"],C);const L=b(n,["speechConfig"]);L!=null&&A(e,["speechConfig"],L);const R=b(n,["stopSequences"]);R!=null&&A(e,["stopSequences"],R);const D=b(n,["temperature"]);D!=null&&A(e,["temperature"],D);const z=b(n,["thinkingConfig"]);z!=null&&A(e,["thinkingConfig"],z);const q=b(n,["topK"]);q!=null&&A(e,["topK"],q);const P=b(n,["topP"]);if(P!=null&&A(e,["topP"],P),b(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function BG(n){const e={};if(b(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=b(n,["enableWidget"]);return t!=null&&A(e,["enableWidget"],t),e}function UG(n){const e={};if(b(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=b(n,["timeRangeFilter"]);return t!=null&&A(e,["timeRangeFilter"],t),e}function HG(n,e){const t={},r=b(n,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=b(n,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=b(n,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const s=b(n,["topP"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topP"],s);const o=b(n,["topK"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topK"],o);const c=b(n,["maxOutputTokens"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(n,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const h=b(n,["seed"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","seed"],h);const p=b(n,["speechConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","speechConfig"],w4(p));const g=b(n,["thinkingConfig"]);e!==void 0&&g!=null&&A(e,["setup","generationConfig","thinkingConfig"],g);const m=b(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],m);const w=b(n,["systemInstruction"]);e!==void 0&&w!=null&&A(e,["setup","systemInstruction"],MG(Ds(w)));const y=b(n,["tools"]);if(e!==void 0&&y!=null){let q=uv(y);Array.isArray(q)&&(q=q.map(P=>JG(cv(P)))),A(e,["setup","tools"],q)}const S=b(n,["sessionResumption"]);e!==void 0&&S!=null&&A(e,["setup","sessionResumption"],KG(S));const C=b(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&A(e,["setup","inputAudioTranscription"],C);const L=b(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&A(e,["setup","outputAudioTranscription"],L);const R=b(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&A(e,["setup","realtimeInputConfig"],R);const D=b(n,["contextWindowCompression"]);e!==void 0&&D!=null&&A(e,["setup","contextWindowCompression"],D);const z=b(n,["proactivity"]);if(e!==void 0&&z!=null&&A(e,["setup","proactivity"],z),b(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function zG(n,e){const t={},r=b(n,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],OG(r));const i=b(n,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=b(n,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const s=b(n,["topP"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topP"],s);const o=b(n,["topK"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topK"],o);const c=b(n,["maxOutputTokens"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(n,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const h=b(n,["seed"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","seed"],h);const p=b(n,["speechConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","speechConfig"],w4(p));const g=b(n,["thinkingConfig"]);e!==void 0&&g!=null&&A(e,["setup","generationConfig","thinkingConfig"],g);const m=b(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],m);const w=b(n,["systemInstruction"]);e!==void 0&&w!=null&&A(e,["setup","systemInstruction"],Ds(w));const y=b(n,["tools"]);if(e!==void 0&&y!=null){let P=uv(y);Array.isArray(P)&&(P=P.map(W=>ZG(cv(W)))),A(e,["setup","tools"],P)}const S=b(n,["sessionResumption"]);e!==void 0&&S!=null&&A(e,["setup","sessionResumption"],S);const C=b(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&A(e,["setup","inputAudioTranscription"],C);const L=b(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&A(e,["setup","outputAudioTranscription"],L);const R=b(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&A(e,["setup","realtimeInputConfig"],R);const D=b(n,["contextWindowCompression"]);e!==void 0&&D!=null&&A(e,["setup","contextWindowCompression"],D);const z=b(n,["proactivity"]);e!==void 0&&z!=null&&A(e,["setup","proactivity"],z);const q=b(n,["explicitVadSignal"]);return e!==void 0&&q!=null&&A(e,["setup","explicitVadSignal"],q),t}function jG(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["setup","model"],xr(n,r));const i=b(e,["config"]);return i!=null&&A(t,["config"],HG(i,t)),t}function GG(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["setup","model"],xr(n,r));const i=b(e,["config"]);return i!=null&&A(t,["config"],zG(i,t)),t}function qG(n){const e={},t=b(n,["musicGenerationConfig"]);return t!=null&&A(e,["musicGenerationConfig"],t),e}function VG(n){const e={},t=b(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),A(e,["weightedPrompts"],r)}return e}function WG(n){const e={},t=b(n,["media"]);if(t!=null){let u=jM(t);Array.isArray(u)&&(u=u.map(h=>Jw(h))),A(e,["mediaChunks"],u)}const r=b(n,["audio"]);r!=null&&A(e,["audio"],Jw(qM(r)));const i=b(n,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=b(n,["video"]);a!=null&&A(e,["video"],Jw(GM(a)));const s=b(n,["text"]);s!=null&&A(e,["text"],s);const o=b(n,["activityStart"]);o!=null&&A(e,["activityStart"],o);const c=b(n,["activityEnd"]);return c!=null&&A(e,["activityEnd"],c),e}function XG(n){const e={},t=b(n,["media"]);if(t!=null){let u=jM(t);Array.isArray(u)&&(u=u.map(h=>h)),A(e,["mediaChunks"],u)}const r=b(n,["audio"]);r!=null&&A(e,["audio"],qM(r));const i=b(n,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=b(n,["video"]);a!=null&&A(e,["video"],GM(a));const s=b(n,["text"]);s!=null&&A(e,["text"],s);const o=b(n,["activityStart"]);o!=null&&A(e,["activityStart"],o);const c=b(n,["activityEnd"]);return c!=null&&A(e,["activityEnd"],c),e}function YG(n){const e={},t=b(n,["setupComplete"]);t!=null&&A(e,["setupComplete"],t);const r=b(n,["serverContent"]);r!=null&&A(e,["serverContent"],r);const i=b(n,["toolCall"]);i!=null&&A(e,["toolCall"],i);const a=b(n,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],a);const s=b(n,["usageMetadata"]);s!=null&&A(e,["usageMetadata"],QG(s));const o=b(n,["goAway"]);o!=null&&A(e,["goAway"],o);const c=b(n,["sessionResumptionUpdate"]);c!=null&&A(e,["sessionResumptionUpdate"],c);const u=b(n,["voiceActivityDetectionSignal"]);u!=null&&A(e,["voiceActivityDetectionSignal"],u);const h=b(n,["voiceActivity"]);return h!=null&&A(e,["voiceActivity"],eq(h)),e}function $G(n){const e={},t=b(n,["mediaResolution"]);t!=null&&A(e,["mediaResolution"],t);const r=b(n,["codeExecutionResult"]);r!=null&&A(e,["codeExecutionResult"],r);const i=b(n,["executableCode"]);i!=null&&A(e,["executableCode"],i);const a=b(n,["fileData"]);a!=null&&A(e,["fileData"],DG(a));const s=b(n,["functionCall"]);s!=null&&A(e,["functionCall"],FG(s));const o=b(n,["functionResponse"]);o!=null&&A(e,["functionResponse"],o);const c=b(n,["inlineData"]);c!=null&&A(e,["inlineData"],Jw(c));const u=b(n,["text"]);u!=null&&A(e,["text"],u);const h=b(n,["thought"]);h!=null&&A(e,["thought"],h);const p=b(n,["thoughtSignature"]);p!=null&&A(e,["thoughtSignature"],p);const g=b(n,["videoMetadata"]);return g!=null&&A(e,["videoMetadata"],g),e}function KG(n){const e={},t=b(n,["handle"]);if(t!=null&&A(e,["handle"],t),b(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JG(n){const e={};if(b(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=b(n,["computerUse"]);t!=null&&A(e,["computerUse"],t);const r=b(n,["fileSearch"]);r!=null&&A(e,["fileSearch"],r);const i=b(n,["codeExecution"]);if(i!=null&&A(e,["codeExecution"],i),b(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(n,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),A(e,["functionDeclarations"],h)}const s=b(n,["googleMaps"]);s!=null&&A(e,["googleMaps"],BG(s));const o=b(n,["googleSearch"]);o!=null&&A(e,["googleSearch"],UG(o));const c=b(n,["googleSearchRetrieval"]);c!=null&&A(e,["googleSearchRetrieval"],c);const u=b(n,["urlContext"]);return u!=null&&A(e,["urlContext"],u),e}function ZG(n){const e={},t=b(n,["retrieval"]);t!=null&&A(e,["retrieval"],t);const r=b(n,["computerUse"]);if(r!=null&&A(e,["computerUse"],r),b(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=b(n,["codeExecution"]);i!=null&&A(e,["codeExecution"],i);const a=b(n,["enterpriseWebSearch"]);a!=null&&A(e,["enterpriseWebSearch"],a);const s=b(n,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>PG(g))),A(e,["functionDeclarations"],p)}const o=b(n,["googleMaps"]);o!=null&&A(e,["googleMaps"],o);const c=b(n,["googleSearch"]);c!=null&&A(e,["googleSearch"],c);const u=b(n,["googleSearchRetrieval"]);u!=null&&A(e,["googleSearchRetrieval"],u);const h=b(n,["urlContext"]);return h!=null&&A(e,["urlContext"],h),e}function QG(n){const e={},t=b(n,["promptTokenCount"]);t!=null&&A(e,["promptTokenCount"],t);const r=b(n,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=b(n,["candidatesTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=b(n,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const s=b(n,["thoughtsTokenCount"]);s!=null&&A(e,["thoughtsTokenCount"],s);const o=b(n,["totalTokenCount"]);o!=null&&A(e,["totalTokenCount"],o);const c=b(n,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(w=>w)),A(e,["promptTokensDetails"],m)}const u=b(n,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(w=>w)),A(e,["cacheTokensDetails"],m)}const h=b(n,["candidatesTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(w=>w)),A(e,["responseTokensDetails"],m)}const p=b(n,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(w=>w)),A(e,["toolUsePromptTokensDetails"],m)}const g=b(n,["trafficType"]);return g!=null&&A(e,["trafficType"],g),e}function eq(n){const e={},t=b(n,["type"]);return t!=null&&A(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tq(n){const e={},t=b(n,["data"]);if(t!=null&&A(e,["data"],t),b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function nq(n){const e={},t=b(n,["content"]);t!=null&&A(e,["content"],t);const r=b(n,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],rq(r));const i=b(n,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=b(n,["finishReason"]);a!=null&&A(e,["finishReason"],a);const s=b(n,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const o=b(n,["groundingMetadata"]);o!=null&&A(e,["groundingMetadata"],o);const c=b(n,["index"]);c!=null&&A(e,["index"],c);const u=b(n,["logprobsResult"]);u!=null&&A(e,["logprobsResult"],u);const h=b(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),A(e,["safetyRatings"],g)}const p=b(n,["urlContextMetadata"]);return p!=null&&A(e,["urlContextMetadata"],p),e}function rq(n){const e={},t=b(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),A(e,["citations"],r)}return e}function iq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let a=ec(i);Array.isArray(a)&&(a=a.map(s=>s)),A(t,["contents"],a)}return t}function aq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),A(e,["tokensInfo"],i)}return e}function sq(n){const e={},t=b(n,["values"]);t!=null&&A(e,["values"],t);const r=b(n,["statistics"]);return r!=null&&A(e,["statistics"],oq(r)),e}function oq(n){const e={},t=b(n,["truncated"]);t!=null&&A(e,["truncated"],t);const r=b(n,["token_count"]);return r!=null&&A(e,["tokenCount"],r),e}function d5(n){const e={},t=b(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>mV(a))),A(e,["parts"],i)}const r=b(n,["role"]);return r!=null&&A(e,["role"],r),e}function lq(n){const e={},t=b(n,["controlType"]);t!=null&&A(e,["controlType"],t);const r=b(n,["enableControlImageComputation"]);return r!=null&&A(e,["computeControl"],r),e}function cq(n){const e={};if(b(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uq(n,e){const t={},r=b(n,["systemInstruction"]);e!==void 0&&r!=null&&A(e,["systemInstruction"],Ds(r));const i=b(n,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>iD(o))),A(e,["tools"],s)}const a=b(n,["generationConfig"]);return e!==void 0&&a!=null&&A(e,["generationConfig"],tV(a)),t}function fq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let s=ec(i);Array.isArray(s)&&(s=s.map(o=>d5(o))),A(t,["contents"],s)}const a=b(e,["config"]);return a!=null&&cq(a),t}function hq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let s=ec(i);Array.isArray(s)&&(s=s.map(o=>o)),A(t,["contents"],s)}const a=b(e,["config"]);return a!=null&&uq(a,t),t}function dq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["totalTokens"]);r!=null&&A(e,["totalTokens"],r);const i=b(n,["cachedContentTokenCount"]);return i!=null&&A(e,["cachedContentTokenCount"],i),e}function pq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["totalTokens"]);return r!=null&&A(e,["totalTokens"],r),e}function gq(n,e){const t={},r=b(e,["model"]);return r!=null&&A(t,["_url","name"],xr(n,r)),t}function mq(n,e){const t={},r=b(e,["model"]);return r!=null&&A(t,["_url","name"],xr(n,r)),t}function vq(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function xq(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}function yq(n,e){const t={},r=b(n,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=b(n,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=b(n,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const s=b(n,["aspectRatio"]);e!==void 0&&s!=null&&A(e,["parameters","aspectRatio"],s);const o=b(n,["guidanceScale"]);e!==void 0&&o!=null&&A(e,["parameters","guidanceScale"],o);const c=b(n,["seed"]);e!==void 0&&c!=null&&A(e,["parameters","seed"],c);const u=b(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const h=b(n,["personGeneration"]);e!==void 0&&h!=null&&A(e,["parameters","personGeneration"],h);const p=b(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&A(e,["parameters","includeSafetyAttributes"],p);const g=b(n,["includeRaiReason"]);e!==void 0&&g!=null&&A(e,["parameters","includeRaiReason"],g);const m=b(n,["language"]);e!==void 0&&m!=null&&A(e,["parameters","language"],m);const w=b(n,["outputMimeType"]);e!==void 0&&w!=null&&A(e,["parameters","outputOptions","mimeType"],w);const y=b(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&A(e,["parameters","outputOptions","compressionQuality"],y);const S=b(n,["addWatermark"]);e!==void 0&&S!=null&&A(e,["parameters","addWatermark"],S);const C=b(n,["labels"]);e!==void 0&&C!=null&&A(e,["labels"],C);const L=b(n,["editMode"]);e!==void 0&&L!=null&&A(e,["parameters","editMode"],L);const R=b(n,["baseSteps"]);return e!==void 0&&R!=null&&A(e,["parameters","editConfig","baseSteps"],R),t}function bq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["prompt"]);i!=null&&A(t,["instances[0]","prompt"],i);const a=b(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>_V(c))),A(t,["instances[0]","referenceImages"],o)}const s=b(e,["config"]);return s!=null&&yq(s,t),t}function wq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>p5(a))),A(e,["generatedImages"],i)}return e}function _q(n,e){const t={},r=b(n,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=b(n,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=b(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),b(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Sq(n,e){const t={},r=b(n,["taskType"]);e!==void 0&&r!=null&&A(e,["instances[]","task_type"],r);const i=b(n,["title"]);e!==void 0&&i!=null&&A(e,["instances[]","title"],i);const a=b(n,["outputDimensionality"]);e!==void 0&&a!=null&&A(e,["parameters","outputDimensionality"],a);const s=b(n,["mimeType"]);e!==void 0&&s!=null&&A(e,["instances[]","mimeType"],s);const o=b(n,["autoTruncate"]);return e!==void 0&&o!=null&&A(e,["parameters","autoTruncate"],o),t}function Aq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let o=x4(n,i);Array.isArray(o)&&(o=o.map(c=>c)),A(t,["requests[]","content"],o)}const a=b(e,["config"]);a!=null&&_q(a,t);const s=b(e,["model"]);return s!==void 0&&A(t,["requests[]","model"],xr(n,s)),t}function Eq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let s=x4(n,i);Array.isArray(s)&&(s=s.map(o=>o)),A(t,["instances[]","content"],s)}const a=b(e,["config"]);return a!=null&&Sq(a,t),t}function Tq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["embeddings"],a)}const i=b(n,["metadata"]);return i!=null&&A(e,["metadata"],i),e}function Cq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>sq(s))),A(e,["embeddings"],a)}const i=b(n,["metadata"]);return i!=null&&A(e,["metadata"],i),e}function kq(n){const e={},t=b(n,["endpoint"]);t!=null&&A(e,["name"],t);const r=b(n,["deployedModelId"]);return r!=null&&A(e,["deployedModelId"],r),e}function Nq(n){const e={};if(b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=b(n,["fileUri"]);t!=null&&A(e,["fileUri"],t);const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Rq(n){const e={},t=b(n,["id"]);t!=null&&A(e,["id"],t);const r=b(n,["args"]);r!=null&&A(e,["args"],r);const i=b(n,["name"]);if(i!=null&&A(e,["name"],i),b(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lq(n){const e={},t=b(n,["allowedFunctionNames"]);t!=null&&A(e,["allowedFunctionNames"],t);const r=b(n,["mode"]);if(r!=null&&A(e,["mode"],r),b(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Iq(n){const e={},t=b(n,["description"]);t!=null&&A(e,["description"],t);const r=b(n,["name"]);r!=null&&A(e,["name"],r);const i=b(n,["parameters"]);i!=null&&A(e,["parameters"],i);const a=b(n,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const s=b(n,["response"]);s!=null&&A(e,["response"],s);const o=b(n,["responseJsonSchema"]);if(o!=null&&A(e,["responseJsonSchema"],o),b(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Mq(n,e,t){const r={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&A(t,["systemInstruction"],d5(Ds(i)));const a=b(e,["temperature"]);a!=null&&A(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&A(r,["topP"],s);const o=b(e,["topK"]);o!=null&&A(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&A(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const h=b(e,["stopSequences"]);h!=null&&A(r,["stopSequences"],h);const p=b(e,["responseLogprobs"]);p!=null&&A(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&A(r,["logprobs"],g);const m=b(e,["presencePenalty"]);m!=null&&A(r,["presencePenalty"],m);const w=b(e,["frequencyPenalty"]);w!=null&&A(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&A(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&A(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&A(r,["responseSchema"],y4(C));const L=b(e,["responseJsonSchema"]);if(L!=null&&A(r,["responseJsonSchema"],L),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=b(e,["safetySettings"]);if(t!==void 0&&R!=null){let ee=R;Array.isArray(ee)&&(ee=ee.map(fe=>SV(fe))),A(t,["safetySettings"],ee)}const D=b(e,["tools"]);if(t!==void 0&&D!=null){let ee=uv(D);Array.isArray(ee)&&(ee=ee.map(fe=>RV(cv(fe)))),A(t,["tools"],ee)}const z=b(e,["toolConfig"]);if(t!==void 0&&z!=null&&A(t,["toolConfig"],NV(z)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=b(e,["cachedContent"]);t!==void 0&&q!=null&&A(t,["cachedContent"],kh(n,q));const P=b(e,["responseModalities"]);P!=null&&A(r,["responseModalities"],P);const W=b(e,["mediaResolution"]);W!=null&&A(r,["mediaResolution"],W);const O=b(e,["speechConfig"]);if(O!=null&&A(r,["speechConfig"],b4(O)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=b(e,["thinkingConfig"]);Q!=null&&A(r,["thinkingConfig"],Q);const B=b(e,["imageConfig"]);B!=null&&A(r,["imageConfig"],sV(B));const j=b(e,["enableEnhancedCivicAnswers"]);if(j!=null&&A(r,["enableEnhancedCivicAnswers"],j),b(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Dq(n,e,t){const r={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&A(t,["systemInstruction"],Ds(i));const a=b(e,["temperature"]);a!=null&&A(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&A(r,["topP"],s);const o=b(e,["topK"]);o!=null&&A(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&A(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const h=b(e,["stopSequences"]);h!=null&&A(r,["stopSequences"],h);const p=b(e,["responseLogprobs"]);p!=null&&A(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&A(r,["logprobs"],g);const m=b(e,["presencePenalty"]);m!=null&&A(r,["presencePenalty"],m);const w=b(e,["frequencyPenalty"]);w!=null&&A(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&A(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&A(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&A(r,["responseSchema"],y4(C));const L=b(e,["responseJsonSchema"]);L!=null&&A(r,["responseJsonSchema"],L);const R=b(e,["routingConfig"]);R!=null&&A(r,["routingConfig"],R);const D=b(e,["modelSelectionConfig"]);D!=null&&A(r,["modelConfig"],D);const z=b(e,["safetySettings"]);if(t!==void 0&&z!=null){let le=z;Array.isArray(le)&&(le=le.map(Te=>Te)),A(t,["safetySettings"],le)}const q=b(e,["tools"]);if(t!==void 0&&q!=null){let le=uv(q);Array.isArray(le)&&(le=le.map(Te=>iD(cv(Te)))),A(t,["tools"],le)}const P=b(e,["toolConfig"]);t!==void 0&&P!=null&&A(t,["toolConfig"],P);const W=b(e,["labels"]);t!==void 0&&W!=null&&A(t,["labels"],W);const O=b(e,["cachedContent"]);t!==void 0&&O!=null&&A(t,["cachedContent"],kh(n,O));const Q=b(e,["responseModalities"]);Q!=null&&A(r,["responseModalities"],Q);const B=b(e,["mediaResolution"]);B!=null&&A(r,["mediaResolution"],B);const j=b(e,["speechConfig"]);j!=null&&A(r,["speechConfig"],b4(j));const ee=b(e,["audioTimestamp"]);ee!=null&&A(r,["audioTimestamp"],ee);const fe=b(e,["thinkingConfig"]);fe!=null&&A(r,["thinkingConfig"],fe);const ue=b(e,["imageConfig"]);if(ue!=null&&A(r,["imageConfig"],oV(ue)),b(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=b(e,["modelArmorConfig"]);return t!==void 0&&K!=null&&A(t,["modelArmorConfig"],K),r}function D6(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let s=ec(i);Array.isArray(s)&&(s=s.map(o=>d5(o))),A(t,["contents"],s)}const a=b(e,["config"]);return a!=null&&A(t,["generationConfig"],Mq(n,a,t)),t}function F6(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["contents"]);if(i!=null){let s=ec(i);Array.isArray(s)&&(s=s.map(o=>o)),A(t,["contents"],s)}const a=b(e,["config"]);return a!=null&&A(t,["generationConfig"],Dq(n,a,t)),t}function P6(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>nq(u))),A(e,["candidates"],c)}const i=b(n,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=b(n,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const s=b(n,["responseId"]);s!=null&&A(e,["responseId"],s);const o=b(n,["usageMetadata"]);return o!=null&&A(e,["usageMetadata"],o),e}function O6(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),A(e,["candidates"],u)}const i=b(n,["createTime"]);i!=null&&A(e,["createTime"],i);const a=b(n,["modelVersion"]);a!=null&&A(e,["modelVersion"],a);const s=b(n,["promptFeedback"]);s!=null&&A(e,["promptFeedback"],s);const o=b(n,["responseId"]);o!=null&&A(e,["responseId"],o);const c=b(n,["usageMetadata"]);return c!=null&&A(e,["usageMetadata"],c),e}function Fq(n,e){const t={};if(b(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=b(n,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=b(n,["aspectRatio"]);e!==void 0&&i!=null&&A(e,["parameters","aspectRatio"],i);const a=b(n,["guidanceScale"]);if(e!==void 0&&a!=null&&A(e,["parameters","guidanceScale"],a),b(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=b(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&A(e,["parameters","safetySetting"],s);const o=b(n,["personGeneration"]);e!==void 0&&o!=null&&A(e,["parameters","personGeneration"],o);const c=b(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&A(e,["parameters","includeSafetyAttributes"],c);const u=b(n,["includeRaiReason"]);e!==void 0&&u!=null&&A(e,["parameters","includeRaiReason"],u);const h=b(n,["language"]);e!==void 0&&h!=null&&A(e,["parameters","language"],h);const p=b(n,["outputMimeType"]);e!==void 0&&p!=null&&A(e,["parameters","outputOptions","mimeType"],p);const g=b(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&A(e,["parameters","outputOptions","compressionQuality"],g),b(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=b(n,["imageSize"]);if(e!==void 0&&m!=null&&A(e,["parameters","sampleImageSize"],m),b(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function Pq(n,e){const t={},r=b(n,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=b(n,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=b(n,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const s=b(n,["aspectRatio"]);e!==void 0&&s!=null&&A(e,["parameters","aspectRatio"],s);const o=b(n,["guidanceScale"]);e!==void 0&&o!=null&&A(e,["parameters","guidanceScale"],o);const c=b(n,["seed"]);e!==void 0&&c!=null&&A(e,["parameters","seed"],c);const u=b(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const h=b(n,["personGeneration"]);e!==void 0&&h!=null&&A(e,["parameters","personGeneration"],h);const p=b(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&A(e,["parameters","includeSafetyAttributes"],p);const g=b(n,["includeRaiReason"]);e!==void 0&&g!=null&&A(e,["parameters","includeRaiReason"],g);const m=b(n,["language"]);e!==void 0&&m!=null&&A(e,["parameters","language"],m);const w=b(n,["outputMimeType"]);e!==void 0&&w!=null&&A(e,["parameters","outputOptions","mimeType"],w);const y=b(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&A(e,["parameters","outputOptions","compressionQuality"],y);const S=b(n,["addWatermark"]);e!==void 0&&S!=null&&A(e,["parameters","addWatermark"],S);const C=b(n,["labels"]);e!==void 0&&C!=null&&A(e,["labels"],C);const L=b(n,["imageSize"]);e!==void 0&&L!=null&&A(e,["parameters","sampleImageSize"],L);const R=b(n,["enhancePrompt"]);return e!==void 0&&R!=null&&A(e,["parameters","enhancePrompt"],R),t}function Oq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["prompt"]);i!=null&&A(t,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&Fq(a,t),t}function Bq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["prompt"]);i!=null&&A(t,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&Pq(a,t),t}function Uq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Jq(s))),A(e,["generatedImages"],a)}const i=b(n,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],nD(i)),e}function Hq(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>p5(s))),A(e,["generatedImages"],a)}const i=b(n,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],rD(i)),e}function zq(n,e){const t={},r=b(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r),b(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=b(n,["durationSeconds"]);if(e!==void 0&&i!=null&&A(e,["parameters","durationSeconds"],i),b(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(n,["aspectRatio"]);e!==void 0&&a!=null&&A(e,["parameters","aspectRatio"],a);const s=b(n,["resolution"]);e!==void 0&&s!=null&&A(e,["parameters","resolution"],s);const o=b(n,["personGeneration"]);if(e!==void 0&&o!=null&&A(e,["parameters","personGeneration"],o),b(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=b(n,["negativePrompt"]);e!==void 0&&c!=null&&A(e,["parameters","negativePrompt"],c);const u=b(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&A(e,["parameters","enhancePrompt"],u),b(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=b(n,["lastFrame"]);e!==void 0&&h!=null&&A(e,["instances[0]","lastFrame"],g5(h));const p=b(n,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>GV(m))),A(e,["instances[0]","referenceImages"],g)}if(b(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function jq(n,e){const t={},r=b(n,["numberOfVideos"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=b(n,["outputGcsUri"]);e!==void 0&&i!=null&&A(e,["parameters","storageUri"],i);const a=b(n,["fps"]);e!==void 0&&a!=null&&A(e,["parameters","fps"],a);const s=b(n,["durationSeconds"]);e!==void 0&&s!=null&&A(e,["parameters","durationSeconds"],s);const o=b(n,["seed"]);e!==void 0&&o!=null&&A(e,["parameters","seed"],o);const c=b(n,["aspectRatio"]);e!==void 0&&c!=null&&A(e,["parameters","aspectRatio"],c);const u=b(n,["resolution"]);e!==void 0&&u!=null&&A(e,["parameters","resolution"],u);const h=b(n,["personGeneration"]);e!==void 0&&h!=null&&A(e,["parameters","personGeneration"],h);const p=b(n,["pubsubTopic"]);e!==void 0&&p!=null&&A(e,["parameters","pubsubTopic"],p);const g=b(n,["negativePrompt"]);e!==void 0&&g!=null&&A(e,["parameters","negativePrompt"],g);const m=b(n,["enhancePrompt"]);e!==void 0&&m!=null&&A(e,["parameters","enhancePrompt"],m);const w=b(n,["generateAudio"]);e!==void 0&&w!=null&&A(e,["parameters","generateAudio"],w);const y=b(n,["lastFrame"]);e!==void 0&&y!=null&&A(e,["instances[0]","lastFrame"],ou(y));const S=b(n,["referenceImages"]);if(e!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(D=>qV(D))),A(e,["instances[0]","referenceImages"],R)}const C=b(n,["mask"]);e!==void 0&&C!=null&&A(e,["instances[0]","mask"],jV(C));const L=b(n,["compressionQuality"]);return e!==void 0&&L!=null&&A(e,["parameters","compressionQuality"],L),t}function Gq(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response","generateVideoResponse"]);return s!=null&&A(e,["response"],Xq(s)),e}function qq(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response"]);return s!=null&&A(e,["response"],Yq(s)),e}function Vq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["prompt"]);i!=null&&A(t,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&A(t,["instances[0]","image"],g5(a));const s=b(e,["video"]);s!=null&&A(t,["instances[0]","video"],aD(s));const o=b(e,["source"]);o!=null&&$q(o,t);const c=b(e,["config"]);return c!=null&&zq(c,t),t}function Wq(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["prompt"]);i!=null&&A(t,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&A(t,["instances[0]","image"],ou(a));const s=b(e,["video"]);s!=null&&A(t,["instances[0]","video"],sD(s));const o=b(e,["source"]);o!=null&&Kq(o,t);const c=b(e,["config"]);return c!=null&&jq(c,t),t}function Xq(n){const e={},t=b(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>Qq(s))),A(e,["generatedVideos"],a)}const r=b(n,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=b(n,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function Yq(n){const e={},t=b(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(s=>eV(s))),A(e,["generatedVideos"],a)}const r=b(n,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=b(n,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function $q(n,e){const t={},r=b(n,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=b(n,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],g5(i));const a=b(n,["video"]);return e!==void 0&&a!=null&&A(e,["instances[0]","video"],aD(a)),t}function Kq(n,e){const t={},r=b(n,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=b(n,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],ou(i));const a=b(n,["video"]);return e!==void 0&&a!=null&&A(e,["instances[0]","video"],sD(a)),t}function Jq(n){const e={},t=b(n,["_self"]);t!=null&&A(e,["image"],lV(t));const r=b(n,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=b(n,["_self"]);return i!=null&&A(e,["safetyAttributes"],nD(i)),e}function p5(n){const e={},t=b(n,["_self"]);t!=null&&A(e,["image"],tD(t));const r=b(n,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=b(n,["_self"]);i!=null&&A(e,["safetyAttributes"],rD(i));const a=b(n,["prompt"]);return a!=null&&A(e,["enhancedPrompt"],a),e}function Zq(n){const e={},t=b(n,["_self"]);t!=null&&A(e,["mask"],tD(t));const r=b(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),A(e,["labels"],i)}return e}function Qq(n){const e={},t=b(n,["video"]);return t!=null&&A(e,["video"],HV(t)),e}function eV(n){const e={},t=b(n,["_self"]);return t!=null&&A(e,["video"],zV(t)),e}function tV(n){const e={},t=b(n,["modelSelectionConfig"]);t!=null&&A(e,["modelConfig"],t);const r=b(n,["responseJsonSchema"]);r!=null&&A(e,["responseJsonSchema"],r);const i=b(n,["audioTimestamp"]);i!=null&&A(e,["audioTimestamp"],i);const a=b(n,["candidateCount"]);a!=null&&A(e,["candidateCount"],a);const s=b(n,["enableAffectiveDialog"]);s!=null&&A(e,["enableAffectiveDialog"],s);const o=b(n,["frequencyPenalty"]);o!=null&&A(e,["frequencyPenalty"],o);const c=b(n,["logprobs"]);c!=null&&A(e,["logprobs"],c);const u=b(n,["maxOutputTokens"]);u!=null&&A(e,["maxOutputTokens"],u);const h=b(n,["mediaResolution"]);h!=null&&A(e,["mediaResolution"],h);const p=b(n,["presencePenalty"]);p!=null&&A(e,["presencePenalty"],p);const g=b(n,["responseLogprobs"]);g!=null&&A(e,["responseLogprobs"],g);const m=b(n,["responseMimeType"]);m!=null&&A(e,["responseMimeType"],m);const w=b(n,["responseModalities"]);w!=null&&A(e,["responseModalities"],w);const y=b(n,["responseSchema"]);y!=null&&A(e,["responseSchema"],y);const S=b(n,["routingConfig"]);S!=null&&A(e,["routingConfig"],S);const C=b(n,["seed"]);C!=null&&A(e,["seed"],C);const L=b(n,["speechConfig"]);L!=null&&A(e,["speechConfig"],L);const R=b(n,["stopSequences"]);R!=null&&A(e,["stopSequences"],R);const D=b(n,["temperature"]);D!=null&&A(e,["temperature"],D);const z=b(n,["thinkingConfig"]);z!=null&&A(e,["thinkingConfig"],z);const q=b(n,["topK"]);q!=null&&A(e,["topK"],q);const P=b(n,["topP"]);if(P!=null&&A(e,["topP"],P),b(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nV(n,e){const t={},r=b(e,["model"]);return r!=null&&A(t,["_url","name"],xr(n,r)),t}function rV(n,e){const t={},r=b(e,["model"]);return r!=null&&A(t,["_url","name"],xr(n,r)),t}function iV(n){const e={};if(b(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=b(n,["enableWidget"]);return t!=null&&A(e,["enableWidget"],t),e}function aV(n){const e={};if(b(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=b(n,["timeRangeFilter"]);return t!=null&&A(e,["timeRangeFilter"],t),e}function sV(n){const e={},t=b(n,["aspectRatio"]);t!=null&&A(e,["aspectRatio"],t);const r=b(n,["imageSize"]);if(r!=null&&A(e,["imageSize"],r),b(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(b(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oV(n){const e={},t=b(n,["aspectRatio"]);t!=null&&A(e,["aspectRatio"],t);const r=b(n,["imageSize"]);r!=null&&A(e,["imageSize"],r);const i=b(n,["personGeneration"]);i!=null&&A(e,["personGeneration"],i);const a=b(n,["outputMimeType"]);a!=null&&A(e,["imageOutputOptions","mimeType"],a);const s=b(n,["outputCompressionQuality"]);return s!=null&&A(e,["imageOutputOptions","compressionQuality"],s),e}function lV(n){const e={},t=b(n,["bytesBase64Encoded"]);t!=null&&A(e,["imageBytes"],o0(t));const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function tD(n){const e={},t=b(n,["gcsUri"]);t!=null&&A(e,["gcsUri"],t);const r=b(n,["bytesBase64Encoded"]);r!=null&&A(e,["imageBytes"],o0(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function g5(n){const e={};if(b(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=b(n,["imageBytes"]);t!=null&&A(e,["bytesBase64Encoded"],o0(t));const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function ou(n){const e={},t=b(n,["gcsUri"]);t!=null&&A(e,["gcsUri"],t);const r=b(n,["imageBytes"]);r!=null&&A(e,["bytesBase64Encoded"],o0(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function cV(n,e,t){const r={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&A(t,["_query","pageSize"],i);const a=b(e,["pageToken"]);t!==void 0&&a!=null&&A(t,["_query","pageToken"],a);const s=b(e,["filter"]);t!==void 0&&s!=null&&A(t,["_query","filter"],s);const o=b(e,["queryBase"]);return t!==void 0&&o!=null&&A(t,["_url","models_url"],YM(n,o)),r}function uV(n,e,t){const r={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&A(t,["_query","pageSize"],i);const a=b(e,["pageToken"]);t!==void 0&&a!=null&&A(t,["_query","pageToken"],a);const s=b(e,["filter"]);t!==void 0&&s!=null&&A(t,["_query","filter"],s);const o=b(e,["queryBase"]);return t!==void 0&&o!=null&&A(t,["_url","models_url"],YM(n,o)),r}function fV(n,e){const t={},r=b(e,["config"]);return r!=null&&cV(n,r,t),t}function hV(n,e){const t={},r=b(e,["config"]);return r!=null&&uV(n,r,t),t}function dV(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["_self"]);if(i!=null){let a=$M(i);Array.isArray(a)&&(a=a.map(s=>vT(s))),A(e,["models"],a)}return e}function pV(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["_self"]);if(i!=null){let a=$M(i);Array.isArray(a)&&(a=a.map(s=>xT(s))),A(e,["models"],a)}return e}function gV(n){const e={},t=b(n,["maskMode"]);t!=null&&A(e,["maskMode"],t);const r=b(n,["segmentationClasses"]);r!=null&&A(e,["maskClasses"],r);const i=b(n,["maskDilation"]);return i!=null&&A(e,["dilation"],i),e}function vT(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["displayName"]);r!=null&&A(e,["displayName"],r);const i=b(n,["description"]);i!=null&&A(e,["description"],i);const a=b(n,["version"]);a!=null&&A(e,["version"],a);const s=b(n,["_self"]);s!=null&&A(e,["tunedModelInfo"],LV(s));const o=b(n,["inputTokenLimit"]);o!=null&&A(e,["inputTokenLimit"],o);const c=b(n,["outputTokenLimit"]);c!=null&&A(e,["outputTokenLimit"],c);const u=b(n,["supportedGenerationMethods"]);u!=null&&A(e,["supportedActions"],u);const h=b(n,["temperature"]);h!=null&&A(e,["temperature"],h);const p=b(n,["maxTemperature"]);p!=null&&A(e,["maxTemperature"],p);const g=b(n,["topP"]);g!=null&&A(e,["topP"],g);const m=b(n,["topK"]);m!=null&&A(e,["topK"],m);const w=b(n,["thinking"]);return w!=null&&A(e,["thinking"],w),e}function xT(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["displayName"]);r!=null&&A(e,["displayName"],r);const i=b(n,["description"]);i!=null&&A(e,["description"],i);const a=b(n,["versionId"]);a!=null&&A(e,["version"],a);const s=b(n,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>kq(g))),A(e,["endpoints"],p)}const o=b(n,["labels"]);o!=null&&A(e,["labels"],o);const c=b(n,["_self"]);c!=null&&A(e,["tunedModelInfo"],IV(c));const u=b(n,["defaultCheckpointId"]);u!=null&&A(e,["defaultCheckpointId"],u);const h=b(n,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),A(e,["checkpoints"],p)}return e}function mV(n){const e={},t=b(n,["mediaResolution"]);t!=null&&A(e,["mediaResolution"],t);const r=b(n,["codeExecutionResult"]);r!=null&&A(e,["codeExecutionResult"],r);const i=b(n,["executableCode"]);i!=null&&A(e,["executableCode"],i);const a=b(n,["fileData"]);a!=null&&A(e,["fileData"],Nq(a));const s=b(n,["functionCall"]);s!=null&&A(e,["functionCall"],Rq(s));const o=b(n,["functionResponse"]);o!=null&&A(e,["functionResponse"],o);const c=b(n,["inlineData"]);c!=null&&A(e,["inlineData"],tq(c));const u=b(n,["text"]);u!=null&&A(e,["text"],u);const h=b(n,["thought"]);h!=null&&A(e,["thought"],h);const p=b(n,["thoughtSignature"]);p!=null&&A(e,["thoughtSignature"],p);const g=b(n,["videoMetadata"]);return g!=null&&A(e,["videoMetadata"],g),e}function vV(n){const e={},t=b(n,["productImage"]);return t!=null&&A(e,["image"],ou(t)),e}function xV(n,e){const t={},r=b(n,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=b(n,["baseSteps"]);e!==void 0&&i!=null&&A(e,["parameters","baseSteps"],i);const a=b(n,["outputGcsUri"]);e!==void 0&&a!=null&&A(e,["parameters","storageUri"],a);const s=b(n,["seed"]);e!==void 0&&s!=null&&A(e,["parameters","seed"],s);const o=b(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&A(e,["parameters","safetySetting"],o);const c=b(n,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const u=b(n,["addWatermark"]);e!==void 0&&u!=null&&A(e,["parameters","addWatermark"],u);const h=b(n,["outputMimeType"]);e!==void 0&&h!=null&&A(e,["parameters","outputOptions","mimeType"],h);const p=b(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&A(e,["parameters","outputOptions","compressionQuality"],p);const g=b(n,["enhancePrompt"]);e!==void 0&&g!=null&&A(e,["parameters","enhancePrompt"],g);const m=b(n,["labels"]);return e!==void 0&&m!=null&&A(e,["labels"],m),t}function yV(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["source"]);i!=null&&wV(i,t);const a=b(e,["config"]);return a!=null&&xV(a,t),t}function bV(n){const e={},t=b(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>p5(i))),A(e,["generatedImages"],r)}return e}function wV(n,e){const t={},r=b(n,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=b(n,["personImage"]);e!==void 0&&i!=null&&A(e,["instances[0]","personImage","image"],ou(i));const a=b(n,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>vV(o))),A(e,["instances[0]","productImages"],s)}return t}function _V(n){const e={},t=b(n,["referenceImage"]);t!=null&&A(e,["referenceImage"],ou(t));const r=b(n,["referenceId"]);r!=null&&A(e,["referenceId"],r);const i=b(n,["referenceType"]);i!=null&&A(e,["referenceType"],i);const a=b(n,["maskImageConfig"]);a!=null&&A(e,["maskImageConfig"],gV(a));const s=b(n,["controlImageConfig"]);s!=null&&A(e,["controlImageConfig"],lq(s));const o=b(n,["styleImageConfig"]);o!=null&&A(e,["styleImageConfig"],o);const c=b(n,["subjectImageConfig"]);return c!=null&&A(e,["subjectImageConfig"],c),e}function nD(n){const e={},t=b(n,["safetyAttributes","categories"]);t!=null&&A(e,["categories"],t);const r=b(n,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=b(n,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function rD(n){const e={},t=b(n,["safetyAttributes","categories"]);t!=null&&A(e,["categories"],t);const r=b(n,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=b(n,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function SV(n){const e={},t=b(n,["category"]);if(t!=null&&A(e,["category"],t),b(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(n,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function AV(n){const e={},t=b(n,["image"]);return t!=null&&A(e,["image"],ou(t)),e}function EV(n,e){const t={},r=b(n,["mode"]);e!==void 0&&r!=null&&A(e,["parameters","mode"],r);const i=b(n,["maxPredictions"]);e!==void 0&&i!=null&&A(e,["parameters","maxPredictions"],i);const a=b(n,["confidenceThreshold"]);e!==void 0&&a!=null&&A(e,["parameters","confidenceThreshold"],a);const s=b(n,["maskDilation"]);e!==void 0&&s!=null&&A(e,["parameters","maskDilation"],s);const o=b(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&A(e,["parameters","binaryColorThreshold"],o);const c=b(n,["labels"]);return e!==void 0&&c!=null&&A(e,["labels"],c),t}function TV(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["source"]);i!=null&&kV(i,t);const a=b(e,["config"]);return a!=null&&EV(a,t),t}function CV(n){const e={},t=b(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Zq(i))),A(e,["generatedMasks"],r)}return e}function kV(n,e){const t={},r=b(n,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=b(n,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],ou(i));const a=b(n,["scribbleImage"]);return e!==void 0&&a!=null&&A(e,["instances[0]","scribble"],AV(a)),t}function NV(n){const e={},t=b(n,["retrievalConfig"]);t!=null&&A(e,["retrievalConfig"],t);const r=b(n,["functionCallingConfig"]);return r!=null&&A(e,["functionCallingConfig"],Lq(r)),e}function RV(n){const e={};if(b(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=b(n,["computerUse"]);t!=null&&A(e,["computerUse"],t);const r=b(n,["fileSearch"]);r!=null&&A(e,["fileSearch"],r);const i=b(n,["codeExecution"]);if(i!=null&&A(e,["codeExecution"],i),b(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(n,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),A(e,["functionDeclarations"],h)}const s=b(n,["googleMaps"]);s!=null&&A(e,["googleMaps"],iV(s));const o=b(n,["googleSearch"]);o!=null&&A(e,["googleSearch"],aV(o));const c=b(n,["googleSearchRetrieval"]);c!=null&&A(e,["googleSearchRetrieval"],c);const u=b(n,["urlContext"]);return u!=null&&A(e,["urlContext"],u),e}function iD(n){const e={},t=b(n,["retrieval"]);t!=null&&A(e,["retrieval"],t);const r=b(n,["computerUse"]);if(r!=null&&A(e,["computerUse"],r),b(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=b(n,["codeExecution"]);i!=null&&A(e,["codeExecution"],i);const a=b(n,["enterpriseWebSearch"]);a!=null&&A(e,["enterpriseWebSearch"],a);const s=b(n,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Iq(g))),A(e,["functionDeclarations"],p)}const o=b(n,["googleMaps"]);o!=null&&A(e,["googleMaps"],o);const c=b(n,["googleSearch"]);c!=null&&A(e,["googleSearch"],c);const u=b(n,["googleSearchRetrieval"]);u!=null&&A(e,["googleSearchRetrieval"],u);const h=b(n,["urlContext"]);return h!=null&&A(e,["urlContext"],h),e}function LV(n){const e={},t=b(n,["baseModel"]);t!=null&&A(e,["baseModel"],t);const r=b(n,["createTime"]);r!=null&&A(e,["createTime"],r);const i=b(n,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function IV(n){const e={},t=b(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&A(e,["baseModel"],t);const r=b(n,["createTime"]);r!=null&&A(e,["createTime"],r);const i=b(n,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function MV(n,e){const t={},r=b(n,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=b(n,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=b(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),t}function DV(n,e){const t={},r=b(n,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=b(n,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=b(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),t}function FV(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","name"],xr(n,r));const i=b(e,["config"]);return i!=null&&MV(i,t),t}function PV(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["config"]);return i!=null&&DV(i,t),t}function OV(n,e){const t={},r=b(n,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=b(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&A(e,["parameters","safetySetting"],i);const a=b(n,["personGeneration"]);e!==void 0&&a!=null&&A(e,["parameters","personGeneration"],a);const s=b(n,["includeRaiReason"]);e!==void 0&&s!=null&&A(e,["parameters","includeRaiReason"],s);const o=b(n,["outputMimeType"]);e!==void 0&&o!=null&&A(e,["parameters","outputOptions","mimeType"],o);const c=b(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&A(e,["parameters","outputOptions","compressionQuality"],c);const u=b(n,["enhanceInputImage"]);e!==void 0&&u!=null&&A(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=b(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&A(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=b(n,["labels"]);e!==void 0&&p!=null&&A(e,["labels"],p);const g=b(n,["numberOfImages"]);e!==void 0&&g!=null&&A(e,["parameters","sampleCount"],g);const m=b(n,["mode"]);return e!==void 0&&m!=null&&A(e,["parameters","mode"],m),t}function BV(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["_url","model"],xr(n,r));const i=b(e,["image"]);i!=null&&A(t,["instances[0]","image"],ou(i));const a=b(e,["upscaleFactor"]);a!=null&&A(t,["parameters","upscaleConfig","upscaleFactor"],a);const s=b(e,["config"]);return s!=null&&OV(s,t),t}function UV(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>p5(a))),A(e,["generatedImages"],i)}return e}function HV(n){const e={},t=b(n,["uri"]);t!=null&&A(e,["uri"],t);const r=b(n,["encodedVideo"]);r!=null&&A(e,["videoBytes"],o0(r));const i=b(n,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function zV(n){const e={},t=b(n,["gcsUri"]);t!=null&&A(e,["uri"],t);const r=b(n,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],o0(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function jV(n){const e={},t=b(n,["image"]);t!=null&&A(e,["_self"],ou(t));const r=b(n,["maskMode"]);return r!=null&&A(e,["maskMode"],r),e}function GV(n){const e={},t=b(n,["image"]);t!=null&&A(e,["image"],g5(t));const r=b(n,["referenceType"]);return r!=null&&A(e,["referenceType"],r),e}function qV(n){const e={},t=b(n,["image"]);t!=null&&A(e,["image"],ou(t));const r=b(n,["referenceType"]);return r!=null&&A(e,["referenceType"],r),e}function aD(n){const e={},t=b(n,["uri"]);t!=null&&A(e,["uri"],t);const r=b(n,["videoBytes"]);r!=null&&A(e,["encodedVideo"],o0(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["encoding"],i),e}function sD(n){const e={},t=b(n,["uri"]);t!=null&&A(e,["gcsUri"],t);const r=b(n,["videoBytes"]);r!=null&&A(e,["bytesBase64Encoded"],o0(r));const i=b(n,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VV(n,e){const t={},r=b(n,["displayName"]);return e!==void 0&&r!=null&&A(e,["displayName"],r),t}function WV(n){const e={},t=b(n,["config"]);return t!=null&&VV(t,e),e}function XV(n,e){const t={},r=b(n,["force"]);return e!==void 0&&r!=null&&A(e,["_query","force"],r),t}function YV(n){const e={},t=b(n,["name"]);t!=null&&A(e,["_url","name"],t);const r=b(n,["config"]);return r!=null&&XV(r,e),e}function $V(n){const e={},t=b(n,["name"]);return t!=null&&A(e,["_url","name"],t),e}function KV(n,e){const t={},r=b(n,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["customMetadata"],a)}const i=b(n,["chunkingConfig"]);return e!==void 0&&i!=null&&A(e,["chunkingConfig"],i),t}function JV(n){const e={},t=b(n,["name"]);t!=null&&A(e,["name"],t);const r=b(n,["metadata"]);r!=null&&A(e,["metadata"],r);const i=b(n,["done"]);i!=null&&A(e,["done"],i);const a=b(n,["error"]);a!=null&&A(e,["error"],a);const s=b(n,["response"]);return s!=null&&A(e,["response"],QV(s)),e}function ZV(n){const e={},t=b(n,["fileSearchStoreName"]);t!=null&&A(e,["_url","file_search_store_name"],t);const r=b(n,["fileName"]);r!=null&&A(e,["fileName"],r);const i=b(n,["config"]);return i!=null&&KV(i,e),e}function QV(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["parent"]);r!=null&&A(e,["parent"],r);const i=b(n,["documentName"]);return i!=null&&A(e,["documentName"],i),e}function eW(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),t}function tW(n){const e={},t=b(n,["config"]);return t!=null&&eW(t,e),e}function nW(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["fileSearchStores"],a)}return e}function oD(n,e){const t={},r=b(n,["mimeType"]);e!==void 0&&r!=null&&A(e,["mimeType"],r);const i=b(n,["displayName"]);e!==void 0&&i!=null&&A(e,["displayName"],i);const a=b(n,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),A(e,["customMetadata"],o)}const s=b(n,["chunkingConfig"]);return e!==void 0&&s!=null&&A(e,["chunkingConfig"],s),t}function rW(n){const e={},t=b(n,["fileSearchStoreName"]);t!=null&&A(e,["_url","file_search_store_name"],t);const r=b(n,["config"]);return r!=null&&oD(r,e),e}function iW(n){const e={},t=b(n,["sdkHttpResponse"]);return t!=null&&A(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aW="Content-Type",sW="X-Server-Timeout",oW="User-Agent",yT="x-goog-api-client",lW="1.38.0",cW=`google-genai-sdk/${lW}`,uW="v1beta1",fW="v1beta";class hW{constructor(e){var t,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:uW}else{if(!this.clientOptions.apiKey)throw new Kx({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:fW,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===dT.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(t))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const a=new AbortController,s=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>a.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return t&&t.extraBody!==null&&dW(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await B6(i),new pT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await B6(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return eu(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:h}=yield kn(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const w=JSON.parse(p);if("error"in w){const y=JSON.parse(JSON.stringify(w.error)),S=y.status,C=y.code,L=`got status: ${S}. ${JSON.stringify(w)}`;if(C>=400&&C<600)throw new Kx({message:L,status:C})}}catch(w){if(w.name==="ApiError")throw w}s+=p;let g=-1,m=0;for(;;){g=-1,m=0;for(const S of c){const C=s.indexOf(S);C!==-1&&(g===-1||C<g)&&(g=C,m=S.length)}if(g===-1)break;const w=s.substring(0,g);s=s.substring(g+m);const y=w.trim();if(y.startsWith(o)){const S=y.substring(o.length).trim();try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kn(new pT(C))}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=cW+" "+this.clientOptions.userAgentExtra;return e[oW]=t,e[yT]=t,e[aW]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(sW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(e),h=Ot("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,u,c,t==null?void 0:t.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,r){var i;const a=this.clientOptions.uploader,s=await a.stat(t),o=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(t),p={};r!=null&&oD(r,p);const g=await this.fetchUploadUrl(u,o,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,a,s){var o;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function B6(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new Kx({message:i,status:t}):new Error(i)}}function dW(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],h=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&h&&typeof h=="object"&&!Array.isArray(h)?o[c]=r(h,u):(h&&u&&typeof h!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pW="mcp_used/unknown";let gW=!1;function lD(n){for(const e of n)if(mW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gW}function cD(n){var e;const t=(e=n[yT])!==null&&e!==void 0?e:"";n[yT]=(t+` ${pW}`).trimStart()}function mW(n){return n!==null&&typeof n=="object"&&n instanceof _4}function vW(n){return eu(this,arguments,function*(t,r=100){let i,a=0;for(;a<r;){const s=yield kn(t.listTools({cursor:i}));for(const o of s.tools)yield yield kn(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class _4{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new _4(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var o=!0,c=(t=void 0,tu(vW(h))),u;u=await c.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){t={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Yz(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);t.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xW(n,e,t){const r=new Hz;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class yW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=_W(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const h=new Promise(R=>{u=R}),p=e.callbacks,g=function(){u({})},m=this.apiClient,w={onopen:g,onmessage:R=>{xW(m,p.onmessage,R)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(R){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(R){}},y=this.webSocketFactory.create(c,wW(s),w);y.connect(),await h;const L={setup:{model:xr(this.apiClient,e.model)}};return y.send(JSON.stringify(L)),new bW(y,this.apiClient)}}class bW{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=VG(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=qG(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Mm.PLAY)}pause(){this.sendPlaybackControl(Mm.PAUSE)}stop(){this.sendPlaybackControl(Mm.STOP)}resetContext(){this.sendPlaybackControl(Mm.RESET_CONTEXT)}close(){this.conn.close()}}function wW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function _W(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AW(n,e,t){const r=new Uz;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const a=JSON.parse(i);if(n.isVertexAI()){const s=YG(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class EW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new yW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&lD(e.config.tools)&&cD(p);const g=NW(p);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),Q=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),j=!!O&&!!Q||!!B;this.apiClient.getCustomBaseUrl()&&!j?h=c:(h=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const O=this.apiClient.getApiKey();let Q="BidiGenerateContent",B="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${Q}?${B}=${O}`}let m=()=>{};const w=new Promise(O=>{m=O}),y=e.callbacks,S=function(){var O;(O=y==null?void 0:y.onopen)===null||O===void 0||O.call(y),m({})},C=this.apiClient,L={onopen:S,onmessage:O=>{AW(C,y.onmessage,O)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(O){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(O){}},R=this.webSocketFactory.create(h,kW(g),L);R.connect(),await w;let D=xr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const O=this.apiClient.getProject(),Q=this.apiClient.getLocation();O&&Q&&(D=`projects/${O}/locations/${Q}/`+D)}let z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[d_.AUDIO]}:e.config.responseModalities=[d_.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],P=[];for(const O of q)if(this.isCallableTool(O)){const Q=O;P.push(await Q.tool())}else P.push(O);P.length>0&&(e.config.tools=P);const W={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=GG(this.apiClient,W):z=jG(this.apiClient,W),delete z.config,R.send(JSON.stringify(z)),new CW(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const TW={turnComplete:!0};class CW{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=ec(t.turns),e.isVertexAI()||(r=r.map(i=>d5(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(SW)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},TW),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:XG(e)}:t={realtimeInput:WG(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function kW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function NW(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U6=10;function H6(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(qm(s)){i=!0;break}if(!i)return!0;const a=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function qm(n){return"callTool"in n&&typeof n.callTool=="function"}function RW(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>qm(i)))!==null&&r!==void 0?r:!1}function z6(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(qm(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(i)}),t}function j6(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LW extends Ch{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,a,s,o;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!RW(t)||H6(t.config))return await this.generateContentInternal(c);const u=z6(t);if(u.length>0){const y=u.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let h,p;const g=ec(c.contents),m=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:U6;let w=0;for(;w<m&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const y=h.candidates[0].content,S=[];for(const C of(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(qm(C)){const R=await C.callTool(h.functionCalls);S.push(...R)}w++,p={role:"user",parts:S},c.contents=ec(c.contents),c.contents.push(y),c.contents.push(p),j6(c.config)&&(g.push(y),g.push(p))}return j6(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async t=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(t),H6(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const c=z6(t);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(o=(s=t==null?void 0:t.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new xg(_h.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,a,s,o,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(a=t.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(o=t.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>qm(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&lD(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),cD(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const a=new Map;for(const s of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(qm(s)){const o=s,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(e){var t,r,i;const a=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:U6;let s=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(u,h,p){return eu(this,arguments,function*(){for(var g,m,w,y,S,C;o<a;){s&&(o++,s=!1);const z=yield kn(u.processParamsMaybeAddMcpUsage(p)),q=yield kn(u.generateContentStreamInternal(z)),P=[],W=[];try{for(var L=!0,R=(m=void 0,tu(q)),D;D=yield kn(R.next()),g=D.done,!g;L=!0){y=D.value,L=!1;const O=y;if(yield yield kn(O),O.candidates&&(!((S=O.candidates[0])===null||S===void 0)&&S.content)){W.push(O.candidates[0].content);for(const Q of(C=O.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(o<a&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(Q.functionCall.name)){const B=yield kn(h.get(Q.functionCall.name).callTool([Q.functionCall]));P.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!L&&!g&&(w=R.return)&&(yield kn(w.call(R)))}finally{if(m)throw m.error}}if(P.length>0){s=!0;const O=new ix;O.candidates=[{content:{role:"user",parts:P}}],yield yield kn(O);const Q=[];Q.push(...W),Q.push({role:"user",parts:P});const B=ec(p.contents).concat(Q);p.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=F6(this.apiClient,e);return o=Ot("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=O6(h),g=new ix;return Object.assign(g,p),g})}else{const u=D6(this.apiClient,e);return o=Ot("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=P6(h),g=new ix;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=F6(this.apiClient,e);return o=Ot("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return eu(this,arguments,function*(){var g,m,w,y;try{for(var S=!0,C=tu(p),L;L=yield kn(C.next()),g=L.done,!g;S=!0){y=L.value,S=!1;const R=y,D=O6(yield kn(R.json()));D.sdkHttpResponse={headers:R.headers};const z=new ix;Object.assign(z,D),yield yield kn(z)}}catch(R){m={error:R}}finally{try{!S&&!g&&(w=C.return)&&(yield kn(w.call(C)))}finally{if(m)throw m.error}}})})}else{const u=D6(this.apiClient,e);return o=Ot("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return eu(this,arguments,function*(){var g,m,w,y;try{for(var S=!0,C=tu(p),L;L=yield kn(C.next()),g=L.done,!g;S=!0){y=L.value,S=!1;const R=y,D=P6(yield kn(R.json()));D.sdkHttpResponse={headers:R.headers};const z=new ix;Object.assign(z,D),yield yield kn(z)}}catch(R){m={error:R}}finally{try{!S&&!g&&(w=C.return)&&(yield kn(w.call(C)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Eq(this.apiClient,e);return o=Ot("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Cq(h),g=new v6;return Object.assign(g,p),g})}else{const u=Aq(this.apiClient,e);return o=Ot("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Tq(h),g=new v6;return Object.assign(g,p),g})}}async generateImagesInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Bq(this.apiClient,e);return o=Ot("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Hq(h),g=new x6;return Object.assign(g,p),g})}else{const u=Oq(this.apiClient,e);return o=Ot("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Uq(h),g=new x6;return Object.assign(g,p),g})}}async editImageInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=bq(this.apiClient,e);return a=Ot("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=wq(c),h=new kz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=BV(this.apiClient,e);return a=Ot("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=UV(c),h=new Nz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=yV(this.apiClient,e);return a=Ot("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=bV(c),h=new Rz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=TV(this.apiClient,e);return a=Ot("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=CV(c),h=new Lz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=rV(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xT(h))}else{const u=nV(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>vT(h))}}async listInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hV(this.apiClient,e);return o=Ot("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pV(h),g=new y6;return Object.assign(g,p),g})}else{const u=fV(this.apiClient,e);return o=Ot("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=dV(h),g=new y6;return Object.assign(g,p),g})}}async update(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=PV(this.apiClient,e);return o=Ot("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xT(h))}else{const u=FV(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>vT(h))}}async delete(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=mq(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xq(h),g=new b6;return Object.assign(g,p),g})}else{const u=gq(this.apiClient,e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=vq(h),g=new b6;return Object.assign(g,p),g})}}async countTokens(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hq(this.apiClient,e);return o=Ot("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pq(h),g=new w6;return Object.assign(g,p),g})}else{const u=fq(this.apiClient,e);return o=Ot("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=dq(h),g=new w6;return Object.assign(g,p),g})}}async computeTokens(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=iq(this.apiClient,e);return a=Ot("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=aq(c),h=new Iz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Wq(this.apiClient,e);return o=Ot("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=qq(h),g=new p_;return Object.assign(g,p),g})}else{const u=Vq(this.apiClient,e);return o=Ot("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Gq(h),g=new p_;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IW extends Ch{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=_z(e);return o=Ot("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const u=wz(e);return o=Ot("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=pz(e);return a=Ot("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MW(n){const e={},t=b(n,["data"]);if(t!=null&&A(e,["data"],t),b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function DW(n){const e={},t=b(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>GW(a))),A(e,["parts"],i)}const r=b(n,["role"]);return r!=null&&A(e,["role"],r),e}function FW(n,e,t){const r={},i=b(e,["expireTime"]);t!==void 0&&i!=null&&A(t,["expireTime"],i);const a=b(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&A(t,["newSessionExpireTime"],a);const s=b(e,["uses"]);t!==void 0&&s!=null&&A(t,["uses"],s);const o=b(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&A(t,["bidiGenerateContentSetup"],jW(n,o));const c=b(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&A(t,["fieldMask"],c),r}function PW(n,e){const t={},r=b(e,["config"]);return r!=null&&A(t,["config"],FW(n,r,t)),t}function OW(n){const e={};if(b(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=b(n,["fileUri"]);t!=null&&A(e,["fileUri"],t);const r=b(n,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function BW(n){const e={},t=b(n,["id"]);t!=null&&A(e,["id"],t);const r=b(n,["args"]);r!=null&&A(e,["args"],r);const i=b(n,["name"]);if(i!=null&&A(e,["name"],i),b(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UW(n){const e={};if(b(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=b(n,["enableWidget"]);return t!=null&&A(e,["enableWidget"],t),e}function HW(n){const e={};if(b(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=b(n,["timeRangeFilter"]);return t!=null&&A(e,["timeRangeFilter"],t),e}function zW(n,e){const t={},r=b(n,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=b(n,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=b(n,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const s=b(n,["topP"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topP"],s);const o=b(n,["topK"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topK"],o);const c=b(n,["maxOutputTokens"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(n,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const h=b(n,["seed"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","seed"],h);const p=b(n,["speechConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","speechConfig"],w4(p));const g=b(n,["thinkingConfig"]);e!==void 0&&g!=null&&A(e,["setup","generationConfig","thinkingConfig"],g);const m=b(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],m);const w=b(n,["systemInstruction"]);e!==void 0&&w!=null&&A(e,["setup","systemInstruction"],DW(Ds(w)));const y=b(n,["tools"]);if(e!==void 0&&y!=null){let q=uv(y);Array.isArray(q)&&(q=q.map(P=>VW(cv(P)))),A(e,["setup","tools"],q)}const S=b(n,["sessionResumption"]);e!==void 0&&S!=null&&A(e,["setup","sessionResumption"],qW(S));const C=b(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&A(e,["setup","inputAudioTranscription"],C);const L=b(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&A(e,["setup","outputAudioTranscription"],L);const R=b(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&A(e,["setup","realtimeInputConfig"],R);const D=b(n,["contextWindowCompression"]);e!==void 0&&D!=null&&A(e,["setup","contextWindowCompression"],D);const z=b(n,["proactivity"]);if(e!==void 0&&z!=null&&A(e,["setup","proactivity"],z),b(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function jW(n,e){const t={},r=b(e,["model"]);r!=null&&A(t,["setup","model"],xr(n,r));const i=b(e,["config"]);return i!=null&&A(t,["config"],zW(i,t)),t}function GW(n){const e={},t=b(n,["mediaResolution"]);t!=null&&A(e,["mediaResolution"],t);const r=b(n,["codeExecutionResult"]);r!=null&&A(e,["codeExecutionResult"],r);const i=b(n,["executableCode"]);i!=null&&A(e,["executableCode"],i);const a=b(n,["fileData"]);a!=null&&A(e,["fileData"],OW(a));const s=b(n,["functionCall"]);s!=null&&A(e,["functionCall"],BW(s));const o=b(n,["functionResponse"]);o!=null&&A(e,["functionResponse"],o);const c=b(n,["inlineData"]);c!=null&&A(e,["inlineData"],MW(c));const u=b(n,["text"]);u!=null&&A(e,["text"],u);const h=b(n,["thought"]);h!=null&&A(e,["thought"],h);const p=b(n,["thoughtSignature"]);p!=null&&A(e,["thoughtSignature"],p);const g=b(n,["videoMetadata"]);return g!=null&&A(e,["videoMetadata"],g),e}function qW(n){const e={},t=b(n,["handle"]);if(t!=null&&A(e,["handle"],t),b(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VW(n){const e={};if(b(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=b(n,["computerUse"]);t!=null&&A(e,["computerUse"],t);const r=b(n,["fileSearch"]);r!=null&&A(e,["fileSearch"],r);const i=b(n,["codeExecution"]);if(i!=null&&A(e,["codeExecution"],i),b(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(n,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),A(e,["functionDeclarations"],h)}const s=b(n,["googleMaps"]);s!=null&&A(e,["googleMaps"],UW(s));const o=b(n,["googleSearch"]);o!=null&&A(e,["googleSearch"],HW(o));const c=b(n,["googleSearchRetrieval"]);c!=null&&A(e,["googleSearchRetrieval"],c);const u=b(n,["urlContext"]);return u!=null&&A(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WW(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${t}.${a}`);e.push(...i)}else e.push(t)}return e.join(",")}function XW(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const a=WW(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),o.length>0&&c.push(...o),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class YW extends Ch{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=PW(this.apiClient,e);a=Ot("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const c=XW(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $W(n,e){const t={},r=b(n,["force"]);return e!==void 0&&r!=null&&A(e,["_query","force"],r),t}function KW(n){const e={},t=b(n,["name"]);t!=null&&A(e,["_url","name"],t);const r=b(n,["config"]);return r!=null&&$W(r,e),e}function JW(n){const e={},t=b(n,["name"]);return t!=null&&A(e,["_url","name"],t),e}function ZW(n,e){const t={},r=b(n,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=b(n,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),t}function QW(n){const e={},t=b(n,["parent"]);t!=null&&A(e,["_url","parent"],t);const r=b(n,["config"]);return r!=null&&ZW(r,e),e}function eX(n){const e={},t=b(n,["sdkHttpResponse"]);t!=null&&A(e,["sdkHttpResponse"],t);const r=b(n,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=b(n,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),A(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tX extends Ch{constructor(e){super(),this.apiClient=e,this.list=async t=>new xg(_h.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=JW(e);return a=Ot("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=KW(e);i=Ot("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=QW(e);return a=Ot("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=eX(c),h=new Mz;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nX extends Ch{constructor(e,t=new tX(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new xg(_h.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=WV(e);return a=Ot("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$V(e);return a=Ot("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=YV(e);i=Ot("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tW(e);return a=Ot("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=nW(c),h=new Dz;return Object.assign(h,u),h})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rW(e);return a=Ot("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=iW(c),h=new Fz;return Object.assign(h,u),h})}}async importFile(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ZV(e);return a=Ot("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=JV(c),h=new m4;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uD=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return uD=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const rX=()=>uD();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bT(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const wT=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rc extends Error{}class so extends rc{constructor(e,t,r,i){super(`${so.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new m5({message:r,cause:wT(t)});const a=t;return e===400?new hD(e,a,r,i):e===401?new dD(e,a,r,i):e===403?new pD(e,a,r,i):e===404?new gD(e,a,r,i):e===409?new mD(e,a,r,i):e===422?new vD(e,a,r,i):e===429?new xD(e,a,r,i):e>=500?new yD(e,a,r,i):new so(e,a,r,i)}}class _T extends so{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class m5 extends so{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class fD extends m5{constructor({message:e}={}){super({message:e??"Request timed out."})}}class hD extends so{}class dD extends so{}class pD extends so{}class gD extends so{}class mD extends so{}class vD extends so{}class xD extends so{}class yD extends so{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iX=/^[a-z][a-z0-9+.-]*:/i,aX=n=>iX.test(n);let ST=n=>(ST=Array.isArray,ST(n));const sX=ST;let oX=sX;const G6=oX;function lX(n){if(!n)return!0;for(const e in n)return!1;return!0}function cX(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const uX=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new rc(`${n} must be an integer`);if(e<0)throw new rc(`${n} must be a positive integer`);return e},fX=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hX=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nm="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dX(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pX=()=>{var n,e,t,r,i;const a=dX();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nm,"X-Stainless-OS":V6(Deno.build.os),"X-Stainless-Arch":q6(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nm,"X-Stainless-OS":V6((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":q6((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=gX();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gX(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const q6=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",V6=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Yb;const mX=()=>Yb??(Yb=pX());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vX(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bD(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function xX(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return bD({start(){},async pull(t){const{done:r,value:i}=await e.next();r?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function wD(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yX(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bX=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _D=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function aA(n,e,t){return _D(),new File(n,e??"unknown_file",t)}function wX(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const _X=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SD=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",SX=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&SD(n),AX=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function EX(n,e,t){if(_D(),n=await n,SX(n))return n instanceof File?n:aA([await n.arrayBuffer()],n.name);if(AX(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),aA(await AT(i),e,t)}const r=await AT(n);if(e||(e=wX(n)),!(t!=null&&t.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return aA(r,e,t)}async function AT(n){var e,t,r,i,a;let s=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)s.push(n);else if(SD(n))s.push(n instanceof Blob?n:await n.arrayBuffer());else if(_X(n))try{for(var o=!0,c=tu(n),u;u=await c.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;s.push(...await AT(h))}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}else{const h=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${h?`; constructor: ${h}`:""}${TX(n)}`)}return s}function TX(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AD{constructor(e){this._client=e}}AD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ED(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const W6=Object.freeze(Object.create(null)),CX=(n=ED)=>(function(t,...r){if(t.length===1)return t[0];let i=!1;const a=[],s=t.reduce((h,p,g)=>{var m,w,y;/[?#]/.test(p)&&(i=!0);const S=r[g];let C=(i?encodeURIComponent:n)(""+S);return g!==r.length&&(S==null||typeof S=="object"&&S.toString===((y=Object.getPrototypeOf((w=Object.getPrototypeOf((m=S.hasOwnProperty)!==null&&m!==void 0?m:W6))!==null&&w!==void 0?w:W6))===null||y===void 0?void 0:y.toString))&&(C=S+"",a.push({start:h.length+p.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":C)},""),o=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((g,m)=>{const w=" ".repeat(m.start-h),y="^".repeat(m.length);return h=m.start+m.length,g+w+y},"");throw new rc(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),$b=CX(ED);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TD extends AD{create(e,t){var r;const{api_version:i=this._client.apiVersion}=e,a=m_(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new rc("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new rc("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($b`/${i}/interactions`,Object.assign(Object.assign({body:a},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete($b`/${i}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post($b`/${i}/interactions/${e}/cancel`,r)}get(e,t={},r){var i;const a=t??{},{api_version:s=this._client.apiVersion}=a,o=m_(a,["api_version"]);return this._client.get($b`/${s}/interactions/${e}`,Object.assign(Object.assign({query:o},r),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}TD._key=Object.freeze(["interactions"]);class CD extends TD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kX(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}let Kb;function S4(n){let e;return(Kb??(e=new globalThis.TextEncoder,Kb=e.encode.bind(e)))(n)}let Jb;function X6(n){let e;return(Jb??(e=new globalThis.TextDecoder,Jb=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v5{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?S4(e):e;this.buffer=kX([this.buffer,t]);const r=[];let i;for(;(i=NX(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(X6(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=X6(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}v5.NEWLINE_CHARS=new Set([`
`,"\r"]);v5.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NX(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function RX(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_={off:0,error:200,warn:300,info:400,debug:500},Y6=(n,e,t)=>{if(n){if(cX(v_,n))return n;Zs(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(v_))}`)}};function Ex(){}function Zb(n,e,t){return!e||v_[n]>v_[t]?Ex:e[n].bind(e)}const LX={error:Ex,warn:Ex,info:Ex,debug:Ex};let $6=new WeakMap;function Zs(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return LX;const i=$6.get(t);if(i&&i[0]===r)return i[1];const a={error:Zb("error",t,r),warn:Zb("warn",t,r),info:Zb("info",t,r),debug:Zb("debug",t,r)};return $6.set(t,[r,a]),a}const j0=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dm{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let i=!1;const a=r?Zs(r):console;function s(){return eu(this,arguments,function*(){var c,u,h,p;if(i)throw new rc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,w=tu(IX(e,t)),y;y=yield kn(w.next()),c=y.done,!c;m=!0){p=y.value,m=!1;const S=p;if(!g)if(S.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield kn(JSON.parse(S.data))}catch(C){throw a.error("Could not parse message into JSON:",S.data),a.error("From chunk:",S.raw),C}}}catch(S){u={error:S}}finally{try{!m&&!c&&(h=w.return)&&(yield kn(h.call(w)))}finally{if(u)throw u.error}}g=!0}catch(S){if(bT(S))return yield kn(void 0);throw S}finally{g||t.abort()}})}return new Dm(s,t,r)}static fromReadableStream(e,t,r){let i=!1;function a(){return eu(this,arguments,function*(){var c,u,h,p;const g=new v5,m=wD(e);try{for(var w=!0,y=tu(m),S;S=yield kn(y.next()),c=S.done,!c;w=!0){p=S.value,w=!1;const C=p;for(const L of g.decode(C))yield yield kn(L)}}catch(C){u={error:C}}finally{try{!w&&!c&&(h=y.return)&&(yield kn(h.call(y)))}finally{if(u)throw u.error}}for(const C of g.flush())yield yield kn(C)})}function s(){return eu(this,arguments,function*(){var c,u,h,p;if(i)throw new rc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,w=tu(a()),y;y=yield kn(w.next()),c=y.done,!c;m=!0){p=y.value,m=!1;const S=p;g||S&&(yield yield kn(JSON.parse(S)))}}catch(S){u={error:S}}finally{try{!m&&!c&&(h=w.return)&&(yield kn(h.call(w)))}finally{if(u)throw u.error}}g=!0}catch(S){if(bT(S))return yield kn(void 0);throw S}finally{g||t.abort()}})}return new Dm(s,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),t.push(s)}return a.shift()}});return[new Dm(()=>i(e),this.controller,this.client),new Dm(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return bD({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await t.next();if(a)return r.close();const s=S4(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function IX(n,e){return eu(this,arguments,function*(){var r,i,a,s;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new rc("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new rc("Attempted to iterate over a response with no body");const o=new DX,c=new v5,u=wD(n.body);try{for(var h=!0,p=tu(MX(u)),g;g=yield kn(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const m=s;for(const w of c.decode(m)){const y=o.decode(w);y&&(yield yield kn(y))}}}catch(m){i={error:m}}finally{try{!h&&!r&&(a=p.return)&&(yield kn(a.call(p)))}finally{if(i)throw i.error}}for(const m of c.flush()){const w=o.decode(m);w&&(yield yield kn(w))}})}function MX(n){return eu(this,arguments,function*(){var t,r,i,a;let s=new Uint8Array;try{for(var o=!0,c=tu(n),u;u=yield kn(c.next()),t=u.done,!t;o=!0){a=u.value,o=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?S4(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let m;for(;(m=RX(s))!==-1;)yield yield kn(s.slice(0,m)),s=s.slice(m)}}catch(h){r={error:h}}finally{try{!o&&!t&&(i=c.return)&&(yield kn(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield kn(s))})}class DX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=FX(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function FX(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PX(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var o;if(e.options.stream)return Zs(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Dm.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),u=(o=c==null?void 0:c.split(";")[0])===null||o===void 0?void 0:o.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await t.json():await t.text()})();return Zs(n).debug(`[${r}] response parsed`,j0({retryOfRequestLogID:i,url:t.url,status:t.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A4 extends Promise{constructor(e,t,r=PX){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new A4(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kD=Symbol("brand.privateNullableHeaders");function*OX(n){if(!n)return;if(kD in n){const{values:r,nulls:i}=n;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():G6(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=G6(r[1])?r[1]:[r[1]];let s=!1;for(const o of a)o!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const ax=n=>{const e=new Headers,t=new Set;for(const r of n){const i=new Set;for(const[a,s]of OX(r)){const o=a.toLowerCase();i.has(o)||(e.delete(a),i.add(o)),s===null?(e.delete(a),t.add(o)):(e.append(a,s),t.delete(o))}}return{[kD]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sA=n=>{var e,t,r,i,a,s;if(typeof globalThis.process<"u")return(r=(t=(e=lz)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,n))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ND;class x5{constructor(e){var t,r,i,a,s,o,c,{baseURL:u=sA("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(t=sA("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:p="v1beta"}=e,g=m_(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:x5.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const w="warn";this.logLevel=w,this.logLevel=(s=(a=Y6(m.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:Y6(sA("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:w,this.fetchOptions=m.fetchOptions,this.maxRetries=(o=m.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:vX(),this.encoder=bX,this._options=m,this.apiKey=h,this.apiVersion=p,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=ax([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return ax([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ax([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new rc(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Nm}`}defaultIdempotencyKey(){return`stainless-node-retry-${rX()}`}makeStatusError(e,t,r,i){return so.generate(e,t,r,i)}buildURL(e,t,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=aX(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return lX(s)||(t=Object.assign(Object.assign({},s),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new A4(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var i,a,s;const o=await e,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=c),await this.prepareOptions(o);const{req:u,url:h,timeout:p}=await this.buildRequest(o,{retryCount:c-t});await this.prepareRequest(u,{url:h,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,w=Date.now();if(Zs(this).debug(`[${g}] sending request`,j0({retryOfRequestLogID:r,method:o.method,url:h,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new _T;const y=new AbortController,S=await this.fetchWithTimeout(h,u,p,y).catch(wT),C=Date.now();if(S instanceof globalThis.Error){const R=`retrying, ${t} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new _T;const D=bT(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(t)return Zs(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${R}`),Zs(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${R})`,j0({retryOfRequestLogID:r,url:h,durationMs:C-w,message:S.message})),this.retryRequest(o,t,r??g);throw Zs(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),Zs(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,j0({retryOfRequestLogID:r,url:h,durationMs:C-w,message:S.message})),D?new fD:new m5({cause:S})}const L=`[${g}${m}] ${u.method} ${h} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${C-w}ms`;if(!S.ok){const R=await this.shouldRetry(S);if(t&&R){const O=`retrying, ${t} attempts remaining`;return await yX(S.body),Zs(this).info(`${L} - ${O}`),Zs(this).debug(`[${g}] response error (${O})`,j0({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-w})),this.retryRequest(o,t,r??g,S.headers)}const D=R?"error; no more retries left":"error; not retryable";Zs(this).info(`${L} - ${D}`);const z=await S.text().catch(O=>wT(O).message),q=fX(z),P=q?void 0:z;throw Zs(this).debug(`[${g}] response error (${D})`,j0({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,message:P,durationMs:Date.now()-w})),this.makeStatusError(S.status,q,P,S.headers)}return Zs(this).info(L),Zs(this).debug(`[${g}] response start`,j0({retryOfRequestLogID:r,url:S.url,status:S.status,headers:S.headers,durationMs:C-w})),{response:S,options:o,controller:y,requestLogID:g,retryOfRequestLogID:r,startTime:w}}async fetchWithTimeout(e,t,r,i){const a=t||{},{signal:s,method:o}=a,c=m_(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(u)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,i){var a;let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,u)}return await hX(s),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,i,a;const s=Object.assign({},e),{method:o,path:c,query:u,defaultBaseURL:h}=s,p=this.buildURL(c,u,h);"timeout"in s&&uX("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:m}=this.buildBody({options:s}),w=await this.buildHeaders({options:e,method:o,bodyHeaders:g,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:w},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let o=ax([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),mX()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=ax([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:xX(e)}:this.encoder({body:e,headers:r})}}x5.DEFAULT_TIMEOUT=6e4;class Va extends x5{constructor(){super(...arguments),this.interactions=new CD(this)}}ND=Va;Va.GeminiNextGenAPIClient=ND;Va.GeminiNextGenAPIClientError=rc;Va.APIError=so;Va.APIConnectionError=m5;Va.APIConnectionTimeoutError=fD;Va.APIUserAbortError=_T;Va.NotFoundError=gD;Va.ConflictError=mD;Va.RateLimitError=xD;Va.BadRequestError=hD;Va.AuthenticationError=dD;Va.InternalServerError=yD;Va.PermissionDeniedError=pD;Va.UnprocessableEntityError=vD;Va.toFile=EX;Va.Interactions=CD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BX(n,e){const t={},r=b(n,["name"]);return r!=null&&A(t,["_url","name"],r),t}function UX(n,e){const t={},r=b(n,["name"]);return r!=null&&A(t,["_url","name"],r),t}function HX(n,e){const t={},r=b(n,["sdkHttpResponse"]);return r!=null&&A(t,["sdkHttpResponse"],r),t}function zX(n,e){const t={},r=b(n,["sdkHttpResponse"]);return r!=null&&A(t,["sdkHttpResponse"],r),t}function jX(n,e,t){const r={};if(b(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&A(e,["displayName"],i),b(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=b(n,["epochCount"]);e!==void 0&&a!=null&&A(e,["tuningTask","hyperparameters","epochCount"],a);const s=b(n,["learningRateMultiplier"]);if(s!=null&&A(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),b(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=b(n,["batchSize"]);e!==void 0&&o!=null&&A(e,["tuningTask","hyperparameters","batchSize"],o);const c=b(n,["learningRate"]);if(e!==void 0&&c!=null&&A(e,["tuningTask","hyperparameters","learningRate"],c),b(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function GX(n,e,t){const r={};let i=b(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=b(n,["validationDataset"]);e!==void 0&&m!=null&&A(e,["supervisedTuningSpec"],K6(m))}else if(i==="PREFERENCE_TUNING"){const m=b(n,["validationDataset"]);e!==void 0&&m!=null&&A(e,["preferenceOptimizationSpec"],K6(m))}const a=b(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&A(e,["tunedModelDisplayName"],a);const s=b(n,["description"]);e!==void 0&&s!=null&&A(e,["description"],s);let o=b(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=b(n,["epochCount"]);e!==void 0&&m!=null&&A(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(o==="PREFERENCE_TUNING"){const m=b(n,["epochCount"]);e!==void 0&&m!=null&&A(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=b(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=b(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&A(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=b(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&A(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=b(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=b(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&A(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=b(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&A(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let h=b(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const m=b(n,["adapterSize"]);e!==void 0&&m!=null&&A(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(h==="PREFERENCE_TUNING"){const m=b(n,["adapterSize"]);e!==void 0&&m!=null&&A(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(b(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=b(n,["labels"]);e!==void 0&&p!=null&&A(e,["labels"],p);const g=b(n,["beta"]);return e!==void 0&&g!=null&&A(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function qX(n,e){const t={},r=b(n,["baseModel"]);r!=null&&A(t,["baseModel"],r);const i=b(n,["preTunedModel"]);i!=null&&A(t,["preTunedModel"],i);const a=b(n,["trainingDataset"]);a!=null&&tY(a);const s=b(n,["config"]);return s!=null&&jX(s,t),t}function VX(n,e){const t={},r=b(n,["baseModel"]);r!=null&&A(t,["baseModel"],r);const i=b(n,["preTunedModel"]);i!=null&&A(t,["preTunedModel"],i);const a=b(n,["trainingDataset"]);a!=null&&nY(a,t,e);const s=b(n,["config"]);return s!=null&&GX(s,t,e),t}function WX(n,e){const t={},r=b(n,["name"]);return r!=null&&A(t,["_url","name"],r),t}function XX(n,e){const t={},r=b(n,["name"]);return r!=null&&A(t,["_url","name"],r),t}function YX(n,e,t){const r={},i=b(n,["pageSize"]);e!==void 0&&i!=null&&A(e,["_query","pageSize"],i);const a=b(n,["pageToken"]);e!==void 0&&a!=null&&A(e,["_query","pageToken"],a);const s=b(n,["filter"]);return e!==void 0&&s!=null&&A(e,["_query","filter"],s),r}function $X(n,e,t){const r={},i=b(n,["pageSize"]);e!==void 0&&i!=null&&A(e,["_query","pageSize"],i);const a=b(n,["pageToken"]);e!==void 0&&a!=null&&A(e,["_query","pageToken"],a);const s=b(n,["filter"]);return e!==void 0&&s!=null&&A(e,["_query","filter"],s),r}function KX(n,e){const t={},r=b(n,["config"]);return r!=null&&YX(r,t),t}function JX(n,e){const t={},r=b(n,["config"]);return r!=null&&$X(r,t),t}function ZX(n,e){const t={},r=b(n,["sdkHttpResponse"]);r!=null&&A(t,["sdkHttpResponse"],r);const i=b(n,["nextPageToken"]);i!=null&&A(t,["nextPageToken"],i);const a=b(n,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>RD(o))),A(t,["tuningJobs"],s)}return t}function QX(n,e){const t={},r=b(n,["sdkHttpResponse"]);r!=null&&A(t,["sdkHttpResponse"],r);const i=b(n,["nextPageToken"]);i!=null&&A(t,["nextPageToken"],i);const a=b(n,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>ET(o))),A(t,["tuningJobs"],s)}return t}function eY(n,e){const t={},r=b(n,["name"]);r!=null&&A(t,["model"],r);const i=b(n,["name"]);return i!=null&&A(t,["endpoint"],i),t}function tY(n,e){const t={};if(b(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=b(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),A(t,["examples","examples"],i)}return t}function nY(n,e,t){const r={};let i=b(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=b(n,["gcsUri"]);e!==void 0&&s!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=b(n,["gcsUri"]);e!==void 0&&s!=null&&A(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=b(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=b(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=b(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&A(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(b(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function RD(n,e){const t={},r=b(n,["sdkHttpResponse"]);r!=null&&A(t,["sdkHttpResponse"],r);const i=b(n,["name"]);i!=null&&A(t,["name"],i);const a=b(n,["state"]);a!=null&&A(t,["state"],WM(a));const s=b(n,["createTime"]);s!=null&&A(t,["createTime"],s);const o=b(n,["tuningTask","startTime"]);o!=null&&A(t,["startTime"],o);const c=b(n,["tuningTask","completeTime"]);c!=null&&A(t,["endTime"],c);const u=b(n,["updateTime"]);u!=null&&A(t,["updateTime"],u);const h=b(n,["description"]);h!=null&&A(t,["description"],h);const p=b(n,["baseModel"]);p!=null&&A(t,["baseModel"],p);const g=b(n,["_self"]);return g!=null&&A(t,["tunedModel"],eY(g)),t}function ET(n,e){const t={},r=b(n,["sdkHttpResponse"]);r!=null&&A(t,["sdkHttpResponse"],r);const i=b(n,["name"]);i!=null&&A(t,["name"],i);const a=b(n,["state"]);a!=null&&A(t,["state"],WM(a));const s=b(n,["createTime"]);s!=null&&A(t,["createTime"],s);const o=b(n,["startTime"]);o!=null&&A(t,["startTime"],o);const c=b(n,["endTime"]);c!=null&&A(t,["endTime"],c);const u=b(n,["updateTime"]);u!=null&&A(t,["updateTime"],u);const h=b(n,["error"]);h!=null&&A(t,["error"],h);const p=b(n,["description"]);p!=null&&A(t,["description"],p);const g=b(n,["baseModel"]);g!=null&&A(t,["baseModel"],g);const m=b(n,["tunedModel"]);m!=null&&A(t,["tunedModel"],m);const w=b(n,["preTunedModel"]);w!=null&&A(t,["preTunedModel"],w);const y=b(n,["supervisedTuningSpec"]);y!=null&&A(t,["supervisedTuningSpec"],y);const S=b(n,["preferenceOptimizationSpec"]);S!=null&&A(t,["preferenceOptimizationSpec"],S);const C=b(n,["tuningDataStats"]);C!=null&&A(t,["tuningDataStats"],C);const L=b(n,["encryptionSpec"]);L!=null&&A(t,["encryptionSpec"],L);const R=b(n,["partnerModelTuningSpec"]);R!=null&&A(t,["partnerModelTuningSpec"],R);const D=b(n,["customBaseModel"]);D!=null&&A(t,["customBaseModel"],D);const z=b(n,["experiment"]);z!=null&&A(t,["experiment"],z);const q=b(n,["labels"]);q!=null&&A(t,["labels"],q);const P=b(n,["outputUri"]);P!=null&&A(t,["outputUri"],P);const W=b(n,["pipelineJob"]);W!=null&&A(t,["pipelineJob"],W);const O=b(n,["serviceAccount"]);O!=null&&A(t,["serviceAccount"],O);const Q=b(n,["tunedModelDisplayName"]);Q!=null&&A(t,["tunedModelDisplayName"],Q);const B=b(n,["veoTuningSpec"]);return B!=null&&A(t,["veoTuningSpec"],B),t}function rY(n,e){const t={},r=b(n,["sdkHttpResponse"]);r!=null&&A(t,["sdkHttpResponse"],r);const i=b(n,["name"]);i!=null&&A(t,["name"],i);const a=b(n,["metadata"]);a!=null&&A(t,["metadata"],a);const s=b(n,["done"]);s!=null&&A(t,["done"],s);const o=b(n,["error"]);return o!=null&&A(t,["error"],o),t}function K6(n,e){const t={},r=b(n,["gcsUri"]);r!=null&&A(t,["validationDatasetUri"],r);const i=b(n,["vertexDatasetResource"]);return i!=null&&A(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iY extends Ch{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xg(_h.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:hT.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=XX(e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>ET(h))}else{const u=WX(e);return o=Ot("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>RD(h))}}async listInternal(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=JX(e);return o=Ot("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=QX(h),g=new _6;return Object.assign(g,p),g})}else{const u=KX(e);return o=Ot("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ZX(h),g=new _6;return Object.assign(g,p),g})}}async cancel(e){var t,r,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=UX(e);return o=Ot("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zX(h),g=new S6;return Object.assign(g,p),g})}else{const u=BX(e);return o=Ot("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=HX(h),g=new S6;return Object.assign(g,p),g})}}async tuneInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=VX(e,e);return a=Ot("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>ET(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=qX(e);return a=Ot("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>rY(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aY{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sY=1024*1024*8,oY=3,lY=1e3,cY=2,x_="x-goog-upload-status";async function uY(n,e,t){var r;const i=await LD(n,e,t),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[x_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function fY(n,e,t){var r;const i=await LD(n,e,t),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[x_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=HM(a),o=new v4;return Object.assign(o,s),o}async function LD(n,e,t){var r,i;let a=0,s=0,o=new pT(new Response),c="upload";for(a=n.size;s<a;){const u=Math.min(sY,a-s),h=n.slice(s,s+u);s+u>=a&&(c+=", finalize");let p=0,g=lY;for(;p<oY&&(o=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[x_]));)p++,await dY(g),g=g*cY;if(s+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[x_])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function hY(n){return{size:n.size,type:n.type}}function dY(n){return new Promise(e=>setTimeout(e,n))}class pY{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uY(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fY(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hY(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gY{create(e,t,r){return new mY(e,t,r)}}class mY{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J6="x-goog-api-key";class vY{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(J6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(J6,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xY="gl-node/";class yY{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Va({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=hz(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new vY(this.apiKey);this.apiClient=new hW({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:xY+"web",uploader:new pY,downloader:new aY}),this.models=new LW(this.apiClient),this.live=new EW(this.apiClient,i,new gY),this.batches=new zj(this.apiClient),this.chats=new _G(this.models,this.apiClient),this.caches=new yG(this.apiClient),this.files=new IG(this.apiClient),this.operations=new IW(this.apiClient),this.authTokens=new YW(this.apiClient),this.tunings=new iY(this.apiClient),this.fileSearchStores=new nX(this.apiClient)}}const bY=new yY({apiKey:"AIzaSyBGkOfQRpsQ8DOWznGWABYrt87R9JZmcgE"}),wY=async(n,e,t,r)=>{const i=r==="es"?"Spanish (Latin America)":"English",a=`
    Refine the following email draft.
    Target Language: ${i}
    Tone: ${t.tone}
    Current Subject: ${n}
    Current Body: ${e}

    Instructions:
    - Respond in ${i}.
    - If the tone is professional, use formal structures (e.g., 'Usted' in Spanish if appropriate).
    - Provide the output in JSON format with "subject" and "body" fields.
    - Improve flow, grammar, and style while maintaining the core message.
  `;try{const s=await bY.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:Kc.OBJECT,properties:{subject:{type:Kc.STRING},body:{type:Kc.STRING}},required:["subject","body"]}}}),o=JSON.parse(s.text||"{}");return{subject:o.subject||n,body:o.body||e}}catch(s){return console.error("Gemini refinement failed:",s),{subject:n,body:e}}},_Y="modulepreload",SY=function(n){return"/"+n},Z6={},oA=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=s(t.map(u=>{if(u=SY(u),u in Z6)return;Z6[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":_Y,h||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((m,w)=>{g.addEventListener("load",m),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Dr(n){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(n)}var au=Uint8Array,yl=Uint16Array,E4=Int32Array,T4=new au([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C4=new au([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q6=new au([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ID=function(n,e){for(var t=new yl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new E4(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},MD=ID(T4,2),AY=MD.b,TT=MD.r;AY[28]=258,TT[258]=28;var EY=ID(C4,0),e8=EY.r,CT=new yl(32768);for(var si=0;si<32768;++si){var hd=(si&43690)>>1|(si&21845)<<1;hd=(hd&52428)>>2|(hd&13107)<<2,hd=(hd&61680)>>4|(hd&3855)<<4,CT[si]=((hd&65280)>>8|(hd&255)<<8)>>1}var Lx=(function(n,e,t){for(var r=n.length,i=0,a=new yl(e);i<r;++i)n[i]&&++a[n[i]-1];var s=new yl(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new yl(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],h=e-n[i],p=s[n[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[CT[p]>>c]=u}else for(o=new yl(r),i=0;i<r;++i)n[i]&&(o[i]=CT[s[n[i]-1]++]>>15-n[i]);return o}),og=new au(288);for(var si=0;si<144;++si)og[si]=8;for(var si=144;si<256;++si)og[si]=9;for(var si=256;si<280;++si)og[si]=7;for(var si=280;si<288;++si)og[si]=8;var y_=new au(32);for(var si=0;si<32;++si)y_[si]=5;var TY=Lx(og,9,0),CY=Lx(y_,5,0),DD=function(n){return(n+7)/8|0},kY=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new au(n.subarray(e,t))},Ff=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},sx=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},lA=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:PD,l:0};if(i==1){var s=new au(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(z,q){return z.f-q.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],u=0,h=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=t[t[u].f<t[p].f?u++:p++],c=t[u!=h&&t[u].f<t[p].f?u++:p++],t[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var m=new yl(g+1),w=kT(t[h-1],m,0);if(w>e){var r=0,y=0,S=w-e,C=1<<S;for(a.sort(function(q,P){return m[P.s]-m[q.s]||q.f-P.f});r<i;++r){var L=a[r].s;if(m[L]>e)y+=C-(1<<w-m[L]),m[L]=e;else break}for(y>>=S;y>0;){var R=a[r].s;m[R]<e?y-=1<<e-m[R]++-1:++r}for(;r>=0&&y;--r){var D=a[r].s;m[D]==e&&(--m[D],++y)}w=e}return{t:new au(m),l:w}},kT=function(n,e,t){return n.s==-1?Math.max(kT(n.l,e,t+1),kT(n.r,e,t+1)):e[n.s]=t},t8=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new yl(++e),r=0,i=n[0],a=1,s=function(c){t[r++]=c},o=1;o<=e;++o)if(n[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=n[o]}return{c:t.subarray(0,r),n:e}},ox=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},FD=function(n,e,t){var r=t.length,i=DD(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},n8=function(n,e,t,r,i,a,s,o,c,u,h){Ff(e,h++,t),++i[256];for(var p=lA(i,15),g=p.t,m=p.l,w=lA(a,15),y=w.t,S=w.l,C=t8(g),L=C.c,R=C.n,D=t8(y),z=D.c,q=D.n,P=new yl(19),W=0;W<L.length;++W)++P[L[W]&31];for(var W=0;W<z.length;++W)++P[z[W]&31];for(var O=lA(P,7),Q=O.t,B=O.l,j=19;j>4&&!Q[Q6[j-1]];--j);var ee=u+5<<3,fe=ox(i,og)+ox(a,y_)+s,ue=ox(i,g)+ox(a,y)+s+14+3*j+ox(P,Q)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&ee<=fe&&ee<=ue)return FD(e,h,n.subarray(c,c+u));var K,le,Te,ge;if(Ff(e,h,1+(ue<fe)),h+=2,ue<fe){K=Lx(g,m,0),le=g,Te=Lx(y,S,0),ge=y;var Be=Lx(Q,B,0);Ff(e,h,R-257),Ff(e,h+5,q-1),Ff(e,h+10,j-4),h+=14;for(var W=0;W<j;++W)Ff(e,h+3*W,Q[Q6[W]]);h+=3*j;for(var ie=[L,z],M=0;M<2;++M)for(var H=ie[M],W=0;W<H.length;++W){var G=H[W]&31;Ff(e,h,Be[G]),h+=Q[G],G>15&&(Ff(e,h,H[W]>>5&127),h+=H[W]>>12)}}else K=TY,le=og,Te=CY,ge=y_;for(var W=0;W<o;++W){var Y=r[W];if(Y>255){var G=Y>>18&31;sx(e,h,K[G+257]),h+=le[G+257],G>7&&(Ff(e,h,Y>>23&31),h+=T4[G]);var se=Y&31;sx(e,h,Te[se]),h+=ge[se],se>3&&(sx(e,h,Y>>5&8191),h+=C4[se])}else sx(e,h,K[Y]),h+=le[Y]}return sx(e,h,K[256]),h+le[256]},NY=new E4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PD=new au(0),RY=function(n,e,t,r,i,a){var s=a.z||n.length,o=new au(r+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(r,o.length-i),u=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var p=NY[e-1],g=p>>13,m=p&8191,w=(1<<t)-1,y=a.p||new yl(32768),S=a.h||new yl(w+1),C=Math.ceil(t/3),L=2*C,R=function(gt){return(n[gt]^n[gt+1]<<C^n[gt+2]<<L)&w},D=new E4(25e3),z=new yl(288),q=new yl(32),P=0,W=0,O=a.i||0,Q=0,B=a.w||0,j=0;O+2<s;++O){var ee=R(O),fe=O&32767,ue=S[ee];if(y[fe]=ue,S[ee]=fe,B<=O){var K=s-O;if((P>7e3||Q>24576)&&(K>423||!u)){h=n8(n,c,0,D,z,q,W,Q,j,O-j,h),Q=P=W=0,j=O;for(var le=0;le<286;++le)z[le]=0;for(var le=0;le<30;++le)q[le]=0}var Te=2,ge=0,Be=m,ie=fe-ue&32767;if(K>2&&ee==R(O-ie))for(var M=Math.min(g,K)-1,H=Math.min(32767,O),G=Math.min(258,K);ie<=H&&--Be&&fe!=ue;){if(n[O+Te]==n[O+Te-ie]){for(var Y=0;Y<G&&n[O+Y]==n[O+Y-ie];++Y);if(Y>Te){if(Te=Y,ge=ie,Y>M)break;for(var se=Math.min(ie,Y-2),ye=0,le=0;le<se;++le){var ke=O-ie+le&32767,Ce=y[ke],Le=ke-Ce&32767;Le>ye&&(ye=Le,ue=ke)}}}fe=ue,ue=y[fe],ie+=fe-ue&32767}if(ge){D[Q++]=268435456|TT[Te]<<18|e8[ge];var Re=TT[Te]&31,ce=e8[ge]&31;W+=T4[Re]+C4[ce],++z[257+Re],++q[ce],B=O+Te,++P}else D[Q++]=n[O],++z[n[O]]}}for(O=Math.max(O,B);O<s;++O)D[Q++]=n[O],++z[n[O]];h=n8(n,c,u,D,z,q,W,Q,j,O-j,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=S,a.p=y,a.i=O,a.w=B)}else{for(var O=a.w||0;O<s+u;O+=65535){var dt=O+65535;dt>=s&&(c[h/8|0]=u,dt=s),h=FD(c,h+1,n.subarray(O,dt))}a.i=s}return kY(o,0,r+DD(h)+i)},OD=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},LY=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new au(a.length+n.length);s.set(a),s.set(n,a.length),n=s,i.w=a.length}return RY(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},BD=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},IY=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=OD();i.p(e.dictionary),BD(n,2,i.d())}};function NT(n,e){e||(e={});var t=OD();t.p(n);var r=LY(n,e,e.dictionary?6:2,4);return IY(r,e),BD(r,r.length-4,t.d()),r}var MY=typeof TextDecoder<"u"&&new TextDecoder,DY=0;try{MY.decode(PD,{stream:!0}),DY=1}catch{}function FY(n){if(Array.isArray(n))return n}function PY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(c=(r=a.call(t)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function r8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function OY(n,e){if(n){if(typeof n=="string")return r8(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r8(n,e):void 0}}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(n,e){return FY(n)||PY(n,e)||OY(n,e)||BY()}function a8(n,e="utf8"){return new TextDecoder(e).decode(n)}const UY=new TextEncoder;function HY(n){return UY.encode(n)}const zY=1024*8,jY=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),cA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class k4{constructor(e=zY,t={}){Mt(this,"buffer");Mt(this,"byteLength");Mt(this,"byteOffset");Mt(this,"length");Mt(this,"offset");Mt(this,"lastWrittenByte");Mt(this,"littleEndian");Mt(this,"_data");Mt(this,"_mark");Mt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof k4)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=cA[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===jY&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new cA[t](o.buffer);return this.offset+=r,c.reverse(),c}const s=new cA[t](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return a8(this.readBytes(e))}decodeText(e=1,t="utf8"){return a8(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(HY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hv(n){let e=n.length;for(;--e>=0;)n[e]=0}const GY=3,qY=258,UD=29,VY=256,WY=VY+1+UD,HD=30,XY=512,YY=new Array((WY+2)*2);hv(YY);const $Y=new Array(HD*2);hv($Y);const KY=new Array(XY);hv(KY);const JY=new Array(qY-GY+1);hv(JY);const ZY=new Array(UD);hv(ZY);const QY=new Array(HD);hv(QY);const e$=(n,e,t,r)=>{let i=n&65535|0,a=n>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var RT=e$;const t$=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},n$=new Uint32Array(t$()),r$=(n,e,t,r)=>{const i=n$,a=r+t;n^=-1;for(let s=r;s<a;s++)n=n>>>8^i[(n^e[s])&255];return n^-1};var Lu=r$,LT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const i$=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var a$=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)i$(t,r)&&(n[r]=t[r])}}return n},s$=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,a=n.length;r<a;r++){let s=n[r];t.set(s,i),i+=s.length}return t},jD={assign:a$,flattenChunks:s$};let GD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{GD=!1}const Jx=new Uint8Array(256);for(let n=0;n<256;n++)Jx[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Jx[254]=Jx[254]=1;var o$=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,a,s=n.length,o=0;for(i=0;i<s;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const l$=(n,e)=>{if(e<65534&&n.subarray&&GD)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var c$=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){a[i++]=s;continue}let o=Jx[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<t;)s=s<<6|n[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return l$(a,i)},u$=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Jx[n[t]]>e?t:e},IT={string2buf:o$,buf2string:c$,utf8border:u$};function f$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var h$=f$;const Qb=16209,d$=16191;var p$=function(e,t){let r,i,a,s,o,c,u,h,p,g,m,w,y,S,C,L,R,D,z,q,P,W,O,Q;const B=e.state;r=e.next_in,O=e.input,i=r+(e.avail_in-5),a=e.next_out,Q=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),c=B.dmax,u=B.wsize,h=B.whave,p=B.wnext,g=B.window,m=B.hold,w=B.bits,y=B.lencode,S=B.distcode,C=(1<<B.lenbits)-1,L=(1<<B.distbits)-1;e:do{w<15&&(m+=O[r++]<<w,w+=8,m+=O[r++]<<w,w+=8),R=y[m&C];t:for(;;){if(D=R>>>24,m>>>=D,w-=D,D=R>>>16&255,D===0)Q[a++]=R&65535;else if(D&16){z=R&65535,D&=15,D&&(w<D&&(m+=O[r++]<<w,w+=8),z+=m&(1<<D)-1,m>>>=D,w-=D),w<15&&(m+=O[r++]<<w,w+=8,m+=O[r++]<<w,w+=8),R=S[m&L];n:for(;;){if(D=R>>>24,m>>>=D,w-=D,D=R>>>16&255,D&16){if(q=R&65535,D&=15,w<D&&(m+=O[r++]<<w,w+=8,w<D&&(m+=O[r++]<<w,w+=8)),q+=m&(1<<D)-1,q>c){e.msg="invalid distance too far back",B.mode=Qb;break e}if(m>>>=D,w-=D,D=a-s,q>D){if(D=q-D,D>h&&B.sane){e.msg="invalid distance too far back",B.mode=Qb;break e}if(P=0,W=g,p===0){if(P+=u-D,D<z){z-=D;do Q[a++]=g[P++];while(--D);P=a-q,W=Q}}else if(p<D){if(P+=u+p-D,D-=p,D<z){z-=D;do Q[a++]=g[P++];while(--D);if(P=0,p<z){D=p,z-=D;do Q[a++]=g[P++];while(--D);P=a-q,W=Q}}}else if(P+=p-D,D<z){z-=D;do Q[a++]=g[P++];while(--D);P=a-q,W=Q}for(;z>2;)Q[a++]=W[P++],Q[a++]=W[P++],Q[a++]=W[P++],z-=3;z&&(Q[a++]=W[P++],z>1&&(Q[a++]=W[P++]))}else{P=a-q;do Q[a++]=Q[P++],Q[a++]=Q[P++],Q[a++]=Q[P++],z-=3;while(z>2);z&&(Q[a++]=Q[P++],z>1&&(Q[a++]=Q[P++]))}}else if((D&64)===0){R=S[(R&65535)+(m&(1<<D)-1)];continue n}else{e.msg="invalid distance code",B.mode=Qb;break e}break}}else if((D&64)===0){R=y[(R&65535)+(m&(1<<D)-1)];continue t}else if(D&32){B.mode=d$;break e}else{e.msg="invalid literal/length code",B.mode=Qb;break e}break}}while(r<i&&a<o);z=w>>3,r-=z,w-=z<<3,m&=(1<<w)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),B.hold=m,B.bits=w};const mm=15,s8=852,o8=592,l8=0,uA=1,c8=2,g$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),m$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),v$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),x$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),y$=(n,e,t,r,i,a,s,o)=>{const c=o.bits;let u=0,h=0,p=0,g=0,m=0,w=0,y=0,S=0,C=0,L=0,R,D,z,q,P,W=null,O;const Q=new Uint16Array(mm+1),B=new Uint16Array(mm+1);let j=null,ee,fe,ue;for(u=0;u<=mm;u++)Q[u]=0;for(h=0;h<r;h++)Q[e[t+h]]++;for(m=c,g=mm;g>=1&&Q[g]===0;g--);if(m>g&&(m=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&Q[p]===0;p++);for(m<p&&(m=p),S=1,u=1;u<=mm;u++)if(S<<=1,S-=Q[u],S<0)return-1;if(S>0&&(n===l8||g!==1))return-1;for(B[1]=0,u=1;u<mm;u++)B[u+1]=B[u]+Q[u];for(h=0;h<r;h++)e[t+h]!==0&&(s[B[e[t+h]]++]=h);if(n===l8?(W=j=s,O=20):n===uA?(W=g$,j=m$,O=257):(W=v$,j=x$,O=0),L=0,h=0,u=p,P=a,w=m,y=0,z=-1,C=1<<m,q=C-1,n===uA&&C>s8||n===c8&&C>o8)return 1;for(;;){ee=u-y,s[h]+1<O?(fe=0,ue=s[h]):s[h]>=O?(fe=j[s[h]-O],ue=W[s[h]-O]):(fe=96,ue=0),R=1<<u-y,D=1<<w,p=D;do D-=R,i[P+(L>>y)+D]=ee<<24|fe<<16|ue|0;while(D!==0);for(R=1<<u-1;L&R;)R>>=1;if(R!==0?(L&=R-1,L+=R):L=0,h++,--Q[u]===0){if(u===g)break;u=e[t+s[h]]}if(u>m&&(L&q)!==z){for(y===0&&(y=m),P+=p,w=u-y,S=1<<w;w+y<g&&(S-=Q[w+y],!(S<=0));)w++,S<<=1;if(C+=1<<w,n===uA&&C>s8||n===c8&&C>o8)return 1;z=L&q,i[z]=m<<24|w<<16|P-a|0}}return L!==0&&(i[P+L]=u-y<<24|64<<16|0),o.bits=m,0};var Ix=y$;const b$=0,qD=1,VD=2,{Z_FINISH:u8,Z_BLOCK:w$,Z_TREES:ew,Z_OK:lg,Z_STREAM_END:_$,Z_NEED_DICT:S$,Z_STREAM_ERROR:ic,Z_DATA_ERROR:WD,Z_MEM_ERROR:XD,Z_BUF_ERROR:A$,Z_DEFLATED:f8}=zD,y5=16180,h8=16181,d8=16182,p8=16183,g8=16184,m8=16185,v8=16186,x8=16187,y8=16188,b8=16189,b_=16190,Pf=16191,fA=16192,w8=16193,hA=16194,_8=16195,S8=16196,A8=16197,E8=16198,tw=16199,nw=16200,T8=16201,C8=16202,k8=16203,N8=16204,R8=16205,dA=16206,L8=16207,I8=16208,pi=16209,YD=16210,$D=16211,E$=852,T$=592,C$=15,k$=C$,M8=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function N$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yg=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<y5||e.mode>$D?1:0},KD=n=>{if(yg(n))return ic;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=y5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(E$),e.distcode=e.distdyn=new Int32Array(T$),e.sane=1,e.back=-1,lg},JD=n=>{if(yg(n))return ic;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,KD(n)},ZD=(n,e)=>{let t;if(yg(n))return ic;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ic:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,JD(n))},QD=(n,e)=>{if(!n)return ic;const t=new N$;n.state=t,t.strm=n,t.window=null,t.mode=y5;const r=ZD(n,e);return r!==lg&&(n.state=null),r},R$=n=>QD(n,k$);let D8=!0,pA,gA;const L$=n=>{if(D8){pA=new Int32Array(512),gA=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Ix(qD,n.lens,0,288,pA,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Ix(VD,n.lens,0,32,gA,0,n.work,{bits:5}),D8=!1}n.lencode=pA,n.lenbits=9,n.distcode=gA,n.distbits=5},eF=(n,e,t,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},I$=(n,e)=>{let t,r,i,a,s,o,c,u,h,p,g,m,w,y,S=0,C,L,R,D,z,q,P,W;const O=new Uint8Array(4);let Q,B;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yg(n)||!n.output||!n.input&&n.avail_in!==0)return ic;t=n.state,t.mode===Pf&&(t.mode=fA),s=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,o=n.avail_in,u=t.hold,h=t.bits,p=o,g=c,W=lg;e:for(;;)switch(t.mode){case y5:if(t.wrap===0){t.mode=fA;break}for(;h<16;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=u&255,O[1]=u>>>8&255,t.check=Lu(t.check,O,2,0),u=0,h=0,t.mode=h8;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=pi;break}if((u&15)!==f8){n.msg="unknown compression method",t.mode=pi;break}if(u>>>=4,h-=4,P=(u&15)+8,t.wbits===0&&(t.wbits=P),P>15||P>t.wbits){n.msg="invalid window size",t.mode=pi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=u&512?b8:Pf,u=0,h=0;break;case h8:for(;h<16;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(t.flags=u,(t.flags&255)!==f8){n.msg="unknown compression method",t.mode=pi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=pi;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Lu(t.check,O,2,0)),u=0,h=0,t.mode=d8;case d8:for(;h<32;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,t.check=Lu(t.check,O,4,0)),u=0,h=0,t.mode=p8;case p8:for(;h<16;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Lu(t.check,O,2,0)),u=0,h=0,t.mode=g8;case g8:if(t.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Lu(t.check,O,2,0)),u=0,h=0}else t.head&&(t.head.extra=null);t.mode=m8;case m8:if(t.flags&1024&&(m=t.length,m>o&&(m=o),m&&(t.head&&(P=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+m),P)),t.flags&512&&t.wrap&4&&(t.check=Lu(t.check,r,m,a)),o-=m,a+=m,t.length-=m),t.length))break e;t.length=0,t.mode=v8;case v8:if(t.flags&2048){if(o===0)break e;m=0;do P=r[a+m++],t.head&&P&&t.length<65536&&(t.head.name+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Lu(t.check,r,m,a)),o-=m,a+=m,P)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=x8;case x8:if(t.flags&4096){if(o===0)break e;m=0;do P=r[a+m++],t.head&&P&&t.length<65536&&(t.head.comment+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Lu(t.check,r,m,a)),o-=m,a+=m,P)break e}else t.head&&(t.head.comment=null);t.mode=y8;case y8:if(t.flags&512){for(;h<16;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(t.wrap&4&&u!==(t.check&65535)){n.msg="header crc mismatch",t.mode=pi;break}u=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Pf;break;case b8:for(;h<32;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}n.adler=t.check=M8(u),u=0,h=0,t.mode=b_;case b_:if(t.havedict===0)return n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=o,t.hold=u,t.bits=h,S$;n.adler=t.check=1,t.mode=Pf;case Pf:if(e===w$||e===ew)break e;case fA:if(t.last){u>>>=h&7,h-=h&7,t.mode=dA;break}for(;h<3;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}switch(t.last=u&1,u>>>=1,h-=1,u&3){case 0:t.mode=w8;break;case 1:if(L$(t),t.mode=tw,e===ew){u>>>=2,h-=2;break e}break;case 2:t.mode=S8;break;case 3:n.msg="invalid block type",t.mode=pi}u>>>=2,h-=2;break;case w8:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=pi;break}if(t.length=u&65535,u=0,h=0,t.mode=hA,e===ew)break e;case hA:t.mode=_8;case _8:if(m=t.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;i.set(r.subarray(a,a+m),s),o-=m,a+=m,c-=m,s+=m,t.length-=m;break}t.mode=Pf;break;case S8:for(;h<14;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(t.nlen=(u&31)+257,u>>>=5,h-=5,t.ndist=(u&31)+1,u>>>=5,h-=5,t.ncode=(u&15)+4,u>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=pi;break}t.have=0,t.mode=A8;case A8:for(;t.have<t.ncode;){for(;h<3;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.lens[j[t.have++]]=u&7,u>>>=3,h-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Q={bits:t.lenbits},W=Ix(b$,t.lens,0,19,t.lencode,0,t.work,Q),t.lenbits=Q.bits,W){n.msg="invalid code lengths set",t.mode=pi;break}t.have=0,t.mode=E8;case E8:for(;t.have<t.nlen+t.ndist;){for(;S=t.lencode[u&(1<<t.lenbits)-1],C=S>>>24,L=S>>>16&255,R=S&65535,!(C<=h);){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(R<16)u>>>=C,h-=C,t.lens[t.have++]=R;else{if(R===16){for(B=C+2;h<B;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(u>>>=C,h-=C,t.have===0){n.msg="invalid bit length repeat",t.mode=pi;break}P=t.lens[t.have-1],m=3+(u&3),u>>>=2,h-=2}else if(R===17){for(B=C+3;h<B;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}u>>>=C,h-=C,P=0,m=3+(u&7),u>>>=3,h-=3}else{for(B=C+7;h<B;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}u>>>=C,h-=C,P=0,m=11+(u&127),u>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=pi;break}for(;m--;)t.lens[t.have++]=P}}if(t.mode===pi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=pi;break}if(t.lenbits=9,Q={bits:t.lenbits},W=Ix(qD,t.lens,0,t.nlen,t.lencode,0,t.work,Q),t.lenbits=Q.bits,W){n.msg="invalid literal/lengths set",t.mode=pi;break}if(t.distbits=6,t.distcode=t.distdyn,Q={bits:t.distbits},W=Ix(VD,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q),t.distbits=Q.bits,W){n.msg="invalid distances set",t.mode=pi;break}if(t.mode=tw,e===ew)break e;case tw:t.mode=nw;case nw:if(o>=6&&c>=258){n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=o,t.hold=u,t.bits=h,p$(n,g),s=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,o=n.avail_in,u=t.hold,h=t.bits,t.mode===Pf&&(t.back=-1);break}for(t.back=0;S=t.lencode[u&(1<<t.lenbits)-1],C=S>>>24,L=S>>>16&255,R=S&65535,!(C<=h);){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(L&&(L&240)===0){for(D=C,z=L,q=R;S=t.lencode[q+((u&(1<<D+z)-1)>>D)],C=S>>>24,L=S>>>16&255,R=S&65535,!(D+C<=h);){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}u>>>=D,h-=D,t.back+=D}if(u>>>=C,h-=C,t.back+=C,t.length=R,L===0){t.mode=R8;break}if(L&32){t.back=-1,t.mode=Pf;break}if(L&64){n.msg="invalid literal/length code",t.mode=pi;break}t.extra=L&15,t.mode=T8;case T8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=C8;case C8:for(;S=t.distcode[u&(1<<t.distbits)-1],C=S>>>24,L=S>>>16&255,R=S&65535,!(C<=h);){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if((L&240)===0){for(D=C,z=L,q=R;S=t.distcode[q+((u&(1<<D+z)-1)>>D)],C=S>>>24,L=S>>>16&255,R=S&65535,!(D+C<=h);){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}u>>>=D,h-=D,t.back+=D}if(u>>>=C,h-=C,t.back+=C,L&64){n.msg="invalid distance code",t.mode=pi;break}t.offset=R,t.extra=L&15,t.mode=k8;case k8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=pi;break}t.mode=N8;case N8:if(c===0)break e;if(m=g-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=pi;break}m>t.wnext?(m-=t.wnext,w=t.wsize-m):w=t.wnext-m,m>t.length&&(m=t.length),y=t.window}else y=i,w=s-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[s++]=y[w++];while(--m);t.length===0&&(t.mode=nw);break;case R8:if(c===0)break e;i[s++]=t.length,c--,t.mode=nw;break;case dA:if(t.wrap){for(;h<32;){if(o===0)break e;o--,u|=r[a++]<<h,h+=8}if(g-=c,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Lu(t.check,i,g,s-g):RT(t.check,i,g,s-g)),g=c,t.wrap&4&&(t.flags?u:M8(u))!==t.check){n.msg="incorrect data check",t.mode=pi;break}u=0,h=0}t.mode=L8;case L8:if(t.wrap&&t.flags){for(;h<32;){if(o===0)break e;o--,u+=r[a++]<<h,h+=8}if(t.wrap&4&&u!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=pi;break}u=0,h=0}t.mode=I8;case I8:W=_$;break e;case pi:W=WD;break e;case YD:return XD;case $D:default:return ic}return n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=o,t.hold=u,t.bits=h,(t.wsize||g!==n.avail_out&&t.mode<pi&&(t.mode<dA||e!==u8))&&eF(n,n.output,n.next_out,g-n.avail_out),p-=n.avail_in,g-=n.avail_out,n.total_in+=p,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Lu(t.check,i,g,n.next_out-g):RT(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Pf?128:0)+(t.mode===tw||t.mode===hA?256:0),(p===0&&g===0||e===u8)&&W===lg&&(W=A$),W},M$=n=>{if(yg(n))return ic;let e=n.state;return e.window&&(e.window=null),n.state=null,lg},D$=(n,e)=>{if(yg(n))return ic;const t=n.state;return(t.wrap&2)===0?ic:(t.head=e,e.done=!1,lg)},F$=(n,e)=>{const t=e.length;let r,i,a;return yg(n)||(r=n.state,r.wrap!==0&&r.mode!==b_)?ic:r.mode===b_&&(i=1,i=RT(i,e,t,0),i!==r.check)?WD:(a=eF(n,e,t,t),a?(r.mode=YD,XD):(r.havedict=1,lg))};var P$=JD,O$=ZD,B$=KD,U$=R$,H$=QD,z$=I$,j$=M$,G$=D$,q$=F$,V$="pako inflate (from Nodeca project)",jf={inflateReset:P$,inflateReset2:O$,inflateResetKeep:B$,inflateInit:U$,inflateInit2:H$,inflate:z$,inflateEnd:j$,inflateGetHeader:G$,inflateSetDictionary:q$,inflateInfo:V$};function W$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var X$=W$;const tF=Object.prototype.toString,{Z_NO_FLUSH:Y$,Z_FINISH:$$,Z_OK:Zx,Z_STREAM_END:mA,Z_NEED_DICT:vA,Z_STREAM_ERROR:K$,Z_DATA_ERROR:F8,Z_MEM_ERROR:J$}=zD;function Gy(n){this.options=jD.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h$,this.strm.avail_out=0;let t=jf.inflateInit2(this.strm,e.windowBits);if(t!==Zx)throw new Error(LT[t]);if(this.header=new X$,jf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=IT.string2buf(e.dictionary):tF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jf.inflateSetDictionary(this.strm,e.dictionary),t!==Zx)))throw new Error(LT[t])}Gy.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?$$:Y$,tF.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=jf.inflate(t,s),a===vA&&i&&(a=jf.inflateSetDictionary(t,i),a===Zx?a=jf.inflate(t,s):a===F8&&(a=vA));t.avail_in>0&&a===mA&&t.state.wrap>0&&n[t.next_in]!==0;)jf.inflateReset(t),a=jf.inflate(t,s);switch(a){case K$:case F8:case vA:case J$:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===mA))if(this.options.to==="string"){let c=IT.utf8border(t.output,t.next_out),u=t.next_out-c,h=IT.buf2string(t.output,c);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Zx&&o===0)){if(a===mA)return a=jf.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Gy.prototype.onData=function(n){this.chunks.push(n)};Gy.prototype.onEnd=function(n){n===Zx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jD.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Z$(n,e){const t=new Gy(e);if(t.push(n),t.err)throw t.msg||LT[t.err];return t.result}var Q$=Gy,eK=Z$,tK={Inflate:Q$,inflate:eK};const{Inflate:nK,inflate:rK}=tK;var P8=nK,iK=rK;const nF=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;nF[n]=e}const O8=4294967295;function aK(n,e,t){let r=n;for(let i=0;i<t;i++)r=nF[(r^e[i])&255]^r>>>8;return r}function sK(n,e){return(aK(O8,n,e)^O8)>>>0}function B8(n,e,t){const r=n.readUint32(),i=sK(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function rF(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function iF(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function aF(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function sF(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<r;a++)e[a]=n[a]+(e[a-i]+t[a]>>1)&255}}function oF(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=n[a]+t[a]&255;for(;a<r;a++)e[a]=n[a]+oK(e[a-i],t[a],t[a-i])&255}}function oK(n,e,t){const r=n+e-t,i=Math.abs(r-n),a=Math.abs(r-e),s=Math.abs(r-t);return i<=a&&i<=s?n:a<=s?e:t}function lK(n,e,t,r,i,a){switch(n){case 0:rF(e,t,i);break;case 1:iF(e,t,i,a);break;case 2:aF(e,t,r,i);break;case 3:sF(e,t,r,i,a);break;case 4:oF(e,t,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const cK=new Uint16Array([255]),uK=new Uint8Array(cK.buffer),fK=uK[0]===255;function hK(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,c=new Uint8Array(r*t*o);let u=0;for(let h=0;h<7;h++){const p=s[h],g=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((r-p.y)/p.yStep);if(g<=0||m<=0)continue;const w=g*o,y=new Uint8Array(w);for(let S=0;S<m;S++){const C=e[u++],L=e.subarray(u,u+w);u+=w;const R=new Uint8Array(w);lK(C,L,R,y,w,o),y.set(R);for(let D=0;D<g;D++){const z=p.x+D*p.xStep,q=p.y+S*p.yStep;if(!(z>=t||q>=r))for(let P=0;P<o;P++)c[(q*t+z)*o+P]=R[D*o+P]}}}if(a===16){const h=new Uint16Array(c.buffer);if(fK)for(let p=0;p<h.length;p++)h[p]=dK(h[p]);return h}else return c}function dK(n){return(n&255)<<8|n>>8&255}const pK=new Uint16Array([255]),gK=new Uint8Array(pK.buffer),mK=gK[0]===255,vK=new Uint8Array(0);function U8(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*t),c=new Uint8Array(r*o);let u=vK,h=0,p,g;for(let m=0;m<r;m++){switch(p=e.subarray(h+1,h+1+o),g=c.subarray(m*o,(m+1)*o),e[h]){case 0:rF(p,g,o);break;case 1:iF(p,g,o,s);break;case 2:aF(p,g,u,o);break;case 3:sF(p,g,u,o,s);break;case 4:oF(p,g,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=g,h+=o+1}if(a===16){const m=new Uint16Array(c.buffer);if(mK)for(let w=0;w<m.length;w++)m[w]=xK(m[w]);return m}else return c}function xK(n){return(n&255)<<8|n>>8&255}const Zw=Uint8Array.of(137,80,78,71,13,10,26,10);function H8(n){if(!yK(n.readBytes(Zw.length)))throw new Error("wrong PNG signature")}function yK(n){if(n.length<Zw.length)return!1;for(let e=0;e<Zw.length;e++)if(n[e]!==Zw[e])return!1;return!0}const bK="tEXt",wK=0,lF=new TextDecoder("latin1");function _K(n){if(AK(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const SK=/^[\u0000-\u00FF]*$/;function AK(n){if(!SK.test(n))throw new Error("invalid latin1 text")}function EK(n,e,t){const r=cF(e);n[r]=TK(e,t-r.length-1)}function cF(n){for(n.mark();n.readByte()!==wK;);const e=n.offset;n.reset();const t=lF.decode(n.readBytes(e-n.offset-1));return n.skip(1),_K(t),t}function TK(n,e){return lF.decode(n.readBytes(e))}const Qo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xA={UNKNOWN:-1,DEFLATE:0},z8={UNKNOWN:-1,ADAPTIVE:0},yA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},rw={NONE:0,BACKGROUND:1,PREVIOUS:2},bA={SOURCE:0,OVER:1};class CK extends k4{constructor(t,r={}){super(t);Mt(this,"_checkCrc");Mt(this,"_inflator");Mt(this,"_png");Mt(this,"_apng");Mt(this,"_end");Mt(this,"_hasPalette");Mt(this,"_palette");Mt(this,"_hasTransparency");Mt(this,"_transparency");Mt(this,"_compressionMethod");Mt(this,"_filterMethod");Mt(this,"_interlaceMethod");Mt(this,"_colorType");Mt(this,"_isAnimated");Mt(this,"_numberOfFrames");Mt(this,"_numberOfPlays");Mt(this,"_frames");Mt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new P8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xA.UNKNOWN,this._filterMethod=z8.UNKNOWN,this._interlaceMethod=yA.UNKNOWN,this._colorType=Qo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(H8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(H8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case bK:EK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?B8(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?B8(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=kK(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Qo.GREYSCALE:i=1;break;case Qo.TRUECOLOUR:i=3;break;case Qo.INDEXED_COLOUR:i=1;break;case Qo.GREYSCALE_ALPHA:i=2;break;case Qo.TRUECOLOUR_ALPHA:i=4;break;case Qo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==xA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Qo.GREYSCALE:case Qo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Qo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Qo.UNKNOWN:case Qo.GREYSCALE_ALPHA:case Qo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=cF(this),i=this.readUint8();if(i!==xA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:iK(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=U8({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case rw.NONE:break;case rw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*t.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case rw.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,a=(s,o)=>{const c=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(s*r.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case bA.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let h=0;h<this._png.channels;h++)t.data[c+h]=r.data[u+h]}break;case bA.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let h=0;h<this._png.channels;h++){const p=r.data[u+this._png.channels-1]/i,g=h%(this._png.channels-1)===0?1:r.data[u+h],m=Math.floor(p*g+(1-p)*t.data[c+h]);t.data[c+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==z8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yA.NO_INTERLACE)this._png.data=U8({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yA.ADAM7)this._png.data=hK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:rw.NONE,blendOp:bA.SOURCE,data:t}),this._inflator=new P8,this._writingDataChunks=!1}}function kK(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var j8;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(j8||(j8={}));function NK(n,e){return new CK(n,e).decode()}var En=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wA(){En.console&&typeof En.console.log=="function"&&En.console.log.apply(En.console,arguments)}var $r={log:wA,warn:function(n){En.console&&(typeof En.console.warn=="function"?En.console.warn.apply(En.console,arguments):wA.call(null,arguments))},error:function(n){En.console&&(typeof En.console.error=="function"?En.console.error.apply(En.console,arguments):wA(n))}};function _A(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){G0(r.response,e,t)},r.onerror=function(){$r.error("could not download file")},r.send()}function G8(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function iw(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var G0=En.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==En?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=En.URL||En.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?G8(i.href)?_A(n,e,t):iw(i,i.target="_blank"):iw(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){iw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(G8(n))_A(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){iw(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Dr(a)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return _A(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(En.HTMLElement)||En.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(n)}else{var c=En.URL||En.webkitURL,u=c.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uF(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(n);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var Qw=En.atob.bind(En),q8=En.btoa.bind(En);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SA(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=ms(t,r,i,a,e[0],7,-680876936),a=ms(a,t,r,i,e[1],12,-389564586),i=ms(i,a,t,r,e[2],17,606105819),r=ms(r,i,a,t,e[3],22,-1044525330),t=ms(t,r,i,a,e[4],7,-176418897),a=ms(a,t,r,i,e[5],12,1200080426),i=ms(i,a,t,r,e[6],17,-1473231341),r=ms(r,i,a,t,e[7],22,-45705983),t=ms(t,r,i,a,e[8],7,1770035416),a=ms(a,t,r,i,e[9],12,-1958414417),i=ms(i,a,t,r,e[10],17,-42063),r=ms(r,i,a,t,e[11],22,-1990404162),t=ms(t,r,i,a,e[12],7,1804603682),a=ms(a,t,r,i,e[13],12,-40341101),i=ms(i,a,t,r,e[14],17,-1502002290),t=vs(t,r=ms(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=vs(a,t,r,i,e[6],9,-1069501632),i=vs(i,a,t,r,e[11],14,643717713),r=vs(r,i,a,t,e[0],20,-373897302),t=vs(t,r,i,a,e[5],5,-701558691),a=vs(a,t,r,i,e[10],9,38016083),i=vs(i,a,t,r,e[15],14,-660478335),r=vs(r,i,a,t,e[4],20,-405537848),t=vs(t,r,i,a,e[9],5,568446438),a=vs(a,t,r,i,e[14],9,-1019803690),i=vs(i,a,t,r,e[3],14,-187363961),r=vs(r,i,a,t,e[8],20,1163531501),t=vs(t,r,i,a,e[13],5,-1444681467),a=vs(a,t,r,i,e[2],9,-51403784),i=vs(i,a,t,r,e[7],14,1735328473),t=xs(t,r=vs(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=xs(a,t,r,i,e[8],11,-2022574463),i=xs(i,a,t,r,e[11],16,1839030562),r=xs(r,i,a,t,e[14],23,-35309556),t=xs(t,r,i,a,e[1],4,-1530992060),a=xs(a,t,r,i,e[4],11,1272893353),i=xs(i,a,t,r,e[7],16,-155497632),r=xs(r,i,a,t,e[10],23,-1094730640),t=xs(t,r,i,a,e[13],4,681279174),a=xs(a,t,r,i,e[0],11,-358537222),i=xs(i,a,t,r,e[3],16,-722521979),r=xs(r,i,a,t,e[6],23,76029189),t=xs(t,r,i,a,e[9],4,-640364487),a=xs(a,t,r,i,e[12],11,-421815835),i=xs(i,a,t,r,e[15],16,530742520),t=ys(t,r=xs(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ys(a,t,r,i,e[7],10,1126891415),i=ys(i,a,t,r,e[14],15,-1416354905),r=ys(r,i,a,t,e[5],21,-57434055),t=ys(t,r,i,a,e[12],6,1700485571),a=ys(a,t,r,i,e[3],10,-1894986606),i=ys(i,a,t,r,e[10],15,-1051523),r=ys(r,i,a,t,e[1],21,-2054922799),t=ys(t,r,i,a,e[8],6,1873313359),a=ys(a,t,r,i,e[15],10,-30611744),i=ys(i,a,t,r,e[6],15,-1560198380),r=ys(r,i,a,t,e[13],21,1309151649),t=ys(t,r,i,a,e[4],6,-145523070),a=ys(a,t,r,i,e[11],10,-1120210379),i=ys(i,a,t,r,e[2],15,718787259),r=ys(r,i,a,t,e[9],21,-343485551),n[0]=Yd(t,n[0]),n[1]=Yd(r,n[1]),n[2]=Yd(i,n[2]),n[3]=Yd(a,n[3])}function b5(n,e,t,r,i,a){return e=Yd(Yd(e,n),Yd(r,a)),Yd(e<<i|e>>>32-i,t)}function ms(n,e,t,r,i,a,s){return b5(e&t|~e&r,n,e,i,a,s)}function vs(n,e,t,r,i,a,s){return b5(e&r|t&~r,n,e,i,a,s)}function xs(n,e,t,r,i,a,s){return b5(e^t^r,n,e,i,a,s)}function ys(n,e,t,r,i,a,s){return b5(t^(e|~r),n,e,i,a,s)}function fF(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)SA(r,RK(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(SA(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,SA(r,i),r}function RK(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var V8="0123456789abcdef".split("");function LK(n){for(var e="",t=0;t<4;t++)e+=V8[n>>8*t+4&15]+V8[n>>8*t&15];return e}function IK(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function MT(n){return fF(n).map(IK).join("")}var MK=(function(n){for(var e=0;e<n.length;e++)n[e]=LK(n[e]);return n.join("")})(fF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yd(n,e){if(MK){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function DT(n,e){var t,r,i,a;if(n!==t){for(var s=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var h=o[c];u=(u+h+s.charCodeAt(c))%256,o[c]=o[u],o[u]=h}t=n,r=o}else o=r;var p=e.length,g=0,m=0,w="";for(c=0;c<p;c++)m=(m+(h=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=h,s=o[(o[g]+o[m])%256],w+=String.fromCharCode(e.charCodeAt(c)^s);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var W8={print:4,modify:8,copy:16,"annot-forms":32};function Rm(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(W8.perm!==void 0)throw new Error("Invalid permission: "+o);i+=W8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=MT(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=DT(this.encryptionKey,this.padding)}function Lm(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function X8(n){if(Dr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var s=e[t][a];try{s[0].apply(n,r)}catch(o){En.console&&$r.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w_(n){if(!(this instanceof w_))return new w_(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function hF(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function q0(n,e,t,r,i){if(!(this instanceof q0))return new q0(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,hF.call(this,r,i)}function Fm(n,e,t,r,i){if(!(this instanceof Fm))return new Fm(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,hF.call(this,r,i)}function rn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",h=null;Dr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),u=n.defaultPathOperation||"S"),s=n.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=X8;var w="1.3",y=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(I){w=I};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var C=m.__private__.getPageFormat=function(I){return S[I]};i=i||"a4";var L="compat",R="advanced",D=L;function z(){this.saveGraphicsState(),de(new an(Ge,0,0,-Ge,0,pc()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",D=R}function q(){this.restoreGraphicsState(),u="S",D=L}var P=m.__private__.combineFontStyleAndFontWeight=function(I,J){if(I=="bold"&&J=="normal"||I=="bold"&&J==400||I=="normal"&&J=="italic"||I=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(I=J==400||J==="normal"?I==="italic"?"italic":"normal":J!=700&&J!=="bold"||I!=="normal"?(J==700?"bold":J)+""+I:"bold"),I};m.advancedAPI=function(I){var J=D===L;return J&&z.call(this),typeof I!="function"||(I(this),J&&q.call(this)),this},m.compatAPI=function(I){var J=D===R;return J&&q.call(this),typeof I!="function"||(I(this),J&&z.call(this)),this},m.isAdvancedAPI=function(){return D===R};var W,O=function(I){if(D!==R)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=m.roundToPrecision=m.__private__.roundToPrecision=function(I,J){var Ae=e||J;if(isNaN(I)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(Ae).replace(/0+$/,"")};W=m.hpf=m.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(I,16)};var B=m.f2=m.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return Q(I,2)},j=m.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return Q(I,3)},ee=m.scale=m.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?I*Ge:D===R?I:void 0},fe=function(I){return ee((function(J){return D===L?pc()-J:D===R?J:void 0})(I))};m.__private__.setPrecision=m.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var ue,K="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return K},Te=m.__private__.setFileId=function(I){return K=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zi=new Rm(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};m.setFileId=function(I){return Te(I),this},m.getFileId=function(){return le()};var ge=m.__private__.convertDateToPDFDate=function(I){var J=I.getTimezoneOffset(),Ae=J<0?"+":"-",Me=Math.floor(Math.abs(J/60)),ze=Math.abs(J%60),lt=[Ae,G(Me),"'",G(ze),"'"].join("");return["D:",I.getFullYear(),G(I.getMonth()+1),G(I.getDate()),G(I.getHours()),G(I.getMinutes()),G(I.getSeconds()),lt].join("")},Be=m.__private__.convertPDFDateToDate=function(I){var J=parseInt(I.substr(2,4),10),Ae=parseInt(I.substr(6,2),10)-1,Me=parseInt(I.substr(8,2),10),ze=parseInt(I.substr(10,2),10),lt=parseInt(I.substr(12,2),10),vt=parseInt(I.substr(14,2),10);return new Date(J,Ae,Me,ze,lt,vt,0)},ie=m.__private__.setCreationDate=function(I){var J;if(I===void 0&&(I=new Date),I instanceof Date)J=ge(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=I}return ue=J},M=m.__private__.getCreationDate=function(I){var J=ue;return I==="jsDate"&&(J=Be(ue)),J};m.setCreationDate=function(I){return ie(I),this},m.getCreationDate=function(I){return M(I)};var H,G=m.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},Y=m.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},se=0,ye=[],ke=[],Ce=0,Le=[],Re=[],ce=!1,dt=ke;m.__private__.setCustomOutputDestination=function(I){ce=!0,dt=I};var gt=function(I){ce||(dt=I)};m.__private__.resetCustomOutputDestination=function(){ce=!1,dt=ke};var de=m.__private__.out=function(I){return I=I.toString(),Ce+=I.length+1,dt.push(I),dt},Ne=m.__private__.write=function(I){return de(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Pe=m.__private__.getArrayBuffer=function(I){for(var J=I.length,Ae=new ArrayBuffer(J),Me=new Uint8Array(Ae);J--;)Me[J]=I.charCodeAt(J);return Ae},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return He};var Ue=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(I){return Ue=D===R?I/Ge:I,this};var ft,ot=m.__private__.getFontSize=m.getFontSize=function(){return D===L?Ue:Ue*Ge},St=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(I){return St=I,this},m.__private__.getR2L=m.getR2L=function(){return St};var yt,wt=m.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ft=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ft=I}else ft=parseInt(I,10)};m.__private__.getZoomMode=function(){return ft};var Tt,Bt=m.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');yt=I};m.__private__.getPageMode=function(){return yt};var on=m.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Tt=I};m.__private__.getLayoutMode=function(){return Tt},m.__private__.setDisplayMode=m.setDisplayMode=function(I,J,Ae){return wt(I),on(J),Bt(Ae),this};var Wt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(I){if(Object.keys(Wt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Wt[I]},m.__private__.getDocumentProperties=function(){return Wt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(I){for(var J in Wt)Wt.hasOwnProperty(J)&&I[J]&&(Wt[J]=I[J]);return this},m.__private__.setDocumentProperty=function(I,J){if(Object.keys(Wt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Wt[I]=J};var Ct,Ge,et,Qt,Dt,Pt={},pn={},Hn=[],ln={},yr={},dn={},vn={},br=null,Cn=0,Zt=[],$n=new X8(m),Bs=n.hotfixes||[],ea={},oo={},fs=[],an=function I(J,Ae,Me,ze,lt,vt){if(!(this instanceof I))return new I(J,Ae,Me,ze,lt,vt);isNaN(J)&&(J=1),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=0),isNaN(ze)&&(ze=1),isNaN(lt)&&(lt=0),isNaN(vt)&&(vt=0),this._matrix=[J,Ae,Me,ze,lt,vt]};Object.defineProperty(an.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(an.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(an.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(an.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(an.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(an.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(an.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(an.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(an.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(an.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(an.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(an.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(an.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(an.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(an.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(an.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),an.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(I)},an.prototype.multiply=function(I){var J=I.sx*this.sx+I.shy*this.shx,Ae=I.sx*this.shy+I.shy*this.sy,Me=I.shx*this.sx+I.sy*this.shx,ze=I.shx*this.shy+I.sy*this.sy,lt=I.tx*this.sx+I.ty*this.shx+this.tx,vt=I.tx*this.shy+I.ty*this.sy+this.ty;return new an(J,Ae,Me,ze,lt,vt)},an.prototype.decompose=function(){var I=this.sx,J=this.shy,Ae=this.shx,Me=this.sy,ze=this.tx,lt=this.ty,vt=Math.sqrt(I*I+J*J),Xt=(I/=vt)*Ae+(J/=vt)*Me;Ae-=I*Xt,Me-=J*Xt;var en=Math.sqrt(Ae*Ae+Me*Me);return Xt/=en,I*(Me/=en)<J*(Ae/=en)&&(I=-I,J=-J,Xt=-Xt,vt=-vt),{scale:new an(vt,0,0,en,0,0),translate:new an(1,0,0,1,ze,lt),rotate:new an(I,J,-J,I,0,0),skew:new an(1,0,Xt,1,0,0)}},an.prototype.toString=function(I){return this.join(" ")},an.prototype.inversed=function(){var I=this.sx,J=this.shy,Ae=this.shx,Me=this.sy,ze=this.tx,lt=this.ty,vt=1/(I*Me-J*Ae),Xt=Me*vt,en=-J*vt,bn=-Ae*vt,Nn=I*vt;return new an(Xt,en,bn,Nn,-Xt*ze-bn*lt,-en*ze-Nn*lt)},an.prototype.applyToPoint=function(I){var J=I.x*this.sx+I.y*this.shx+this.tx,Ae=I.x*this.shy+I.y*this.sy+this.ty;return new uo(J,Ae)},an.prototype.applyToRectangle=function(I){var J=this.applyToPoint(I),Ae=this.applyToPoint(new uo(I.x+I.w,I.y+I.h));return new cc(J.x,J.y,Ae.x-J.x,Ae.y-J.y)},an.prototype.clone=function(){var I=this.sx,J=this.shy,Ae=this.shx,Me=this.sy,ze=this.tx,lt=this.ty;return new an(I,J,Ae,Me,ze,lt)},m.Matrix=an;var Bo=m.matrixMult=function(I,J){return J.multiply(I)},lo=new an(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=lo;var ha=function(I,J){if(!yr[I]){var Ae=(J instanceof q0?"Sh":"P")+(Object.keys(ln).length+1).toString(10);J.id=Ae,yr[I]=Ae,ln[Ae]=J,$n.publish("addPattern",J)}};m.ShadingPattern=q0,m.TilingPattern=Fm,m.addShadingPattern=function(I,J){return O("addShadingPattern()"),ha(I,J),this},m.beginTilingPattern=function(I){O("beginTilingPattern()"),df(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},m.endTilingPattern=function(I,J){O("endTilingPattern()"),J.stream=Re[H].join(`
`),ha(I,J),$n.publish("endTilingPattern",J),fs.pop().restore()};var Wa,Pr=m.__private__.newObject=function(){var I=ci();return te(I,!0),I},ci=m.__private__.newObjectDeferred=function(){return se++,ye[se]=function(){return Ce},se},te=function(I,J){return J=typeof J=="boolean"&&J,ye[I]=Ce,J&&de(I+" 0 obj"),I},Se=m.__private__.newAdditionalObject=function(){var I={objId:ci(),content:""};return Le.push(I),I},me=ci(),ve=ci(),be=m.__private__.decodeColorString=function(I){var J=I.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var Ae=parseFloat(J[0]);J=[Ae,Ae,Ae,"r"]}for(var Me="#",ze=0;ze<3;ze++)Me+=("0"+Math.floor(255*parseFloat(J[ze])).toString(16)).slice(-2);return Me},Ee=m.__private__.encodeColorString=function(I){var J;typeof I=="string"&&(I={ch1:I});var Ae=I.ch1,Me=I.ch2,ze=I.ch3,lt=I.ch4,vt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Xt=new uF(Ae);if(Xt.ok)Ae=Xt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var en=parseInt(Ae.substr(1),16);Ae=en>>16&255,Me=en>>8&255,ze=255&en}if(Me===void 0||lt===void 0&&Ae===Me&&Me===ze)J=typeof Ae=="string"?Ae+" "+vt[0]:I.precision===2?B(Ae/255)+" "+vt[0]:j(Ae/255)+" "+vt[0];else if(lt===void 0||Dr(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return["1.","1.","1.",vt[1]].join(" ");J=typeof Ae=="string"?[Ae,Me,ze,vt[1]].join(" "):I.precision===2?[B(Ae/255),B(Me/255),B(ze/255),vt[1]].join(" "):[j(Ae/255),j(Me/255),j(ze/255),vt[1]].join(" ")}else J=typeof Ae=="string"?[Ae,Me,ze,lt,vt[2]].join(" "):I.precision===2?[B(Ae),B(Me),B(ze),B(lt),vt[2]].join(" "):[j(Ae),j(Me),j(ze),j(lt),vt[2]].join(" ");return J},Ve=m.__private__.getFilters=function(){return s},nt=m.__private__.putStream=function(I){var J=(I=I||{}).data||"",Ae=I.filters||Ve(),Me=I.alreadyAppliedFilters||[],ze=I.addLength1||!1,lt=J.length,vt=I.objectId,Xt=function(ji){return ji};if(h!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Xt=zi.encryptor(vt,0));var en={};Ae===!0&&(Ae=["FlateEncode"]);var bn=I.additionalKeyValues||[],Nn=(en=rn.API.processDataByFilters!==void 0?rn.API.processDataByFilters(J,Ae):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(en.data.length!==0&&(bn.push({key:"Length",value:en.data.length}),ze===!0&&bn.push({key:"Length1",value:lt})),Nn.length!=0)if(Nn.split("/").length-1==1)bn.push({key:"Filter",value:Nn});else{bn.push({key:"Filter",value:"["+Nn+"]"});for(var tr=0;tr<bn.length;tr+=1)if(bn[tr].key==="DecodeParms"){for(var Qr=[],xi=0;xi<en.reverseChain.split("/").length-1;xi+=1)Qr.push("null");Qr.push(bn[tr].value),bn[tr].value="["+Qr.join(" ")+"]"}}de("<<");for(var Or=0;Or<bn.length;Or++)de("/"+bn[Or].key+" "+bn[Or].value);de(">>"),en.data.length!==0&&(de("stream"),de(Xt(en.data)),de("endstream"))},Xe=m.__private__.putPage=function(I){var J=I.number,Ae=I.data,Me=I.objId,ze=I.contentsObjId;te(Me,!0),de("<</Type /Page"),de("/Parent "+I.rootDictionaryObjId+" 0 R"),de("/Resources "+I.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(W(I.mediaBox.bottomLeftX))+" "+parseFloat(W(I.mediaBox.bottomLeftY))+" "+W(I.mediaBox.topRightX)+" "+W(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&de("/CropBox ["+W(I.cropBox.bottomLeftX)+" "+W(I.cropBox.bottomLeftY)+" "+W(I.cropBox.topRightX)+" "+W(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&de("/BleedBox ["+W(I.bleedBox.bottomLeftX)+" "+W(I.bleedBox.bottomLeftY)+" "+W(I.bleedBox.topRightX)+" "+W(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&de("/TrimBox ["+W(I.trimBox.bottomLeftX)+" "+W(I.trimBox.bottomLeftY)+" "+W(I.trimBox.topRightX)+" "+W(I.trimBox.topRightY)+"]"),I.artBox!==null&&de("/ArtBox ["+W(I.artBox.bottomLeftX)+" "+W(I.artBox.bottomLeftY)+" "+W(I.artBox.topRightX)+" "+W(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&de("/UserUnit "+I.userUnit),$n.publish("putPage",{objId:Me,pageContext:Zt[J],pageNumber:J,page:Ae}),de("/Contents "+ze+" 0 R"),de(">>"),de("endobj");var lt=Ae.join(`
`);return D===R&&(lt+=`
Q`),te(ze,!0),nt({data:lt,filters:Ve(),objectId:ze}),de("endobj"),Me},Ye=m.__private__.putPages=function(){var I,J,Ae=[];for(I=1;I<=Cn;I++)Zt[I].objId=ci(),Zt[I].contentsObjId=ci();for(I=1;I<=Cn;I++)Ae.push(Xe({number:I,data:Re[I],objId:Zt[I].objId,contentsObjId:Zt[I].contentsObjId,mediaBox:Zt[I].mediaBox,cropBox:Zt[I].cropBox,bleedBox:Zt[I].bleedBox,trimBox:Zt[I].trimBox,artBox:Zt[I].artBox,userUnit:Zt[I].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ve}));te(me,!0),de("<</Type /Pages");var Me="/Kids [";for(J=0;J<Cn;J++)Me+=Ae[J]+" 0 R ";de(Me+"]"),de("/Count "+Cn),de(">>"),de("endobj"),$n.publish("postPutPages")},Ke=function(I){$n.publish("putFont",{font:I,out:de,newObject:Pr,putStream:nt}),I.isAlreadyPutted!==!0&&(I.objectNumber=Pr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Lm(I.postScriptName)),de("/Subtype /Type1"),typeof I.encoding=="string"&&de("/Encoding /"+I.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},bt=function(I){I.objectNumber=Pr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[W(I.x),W(I.y),W(I.x+I.width),W(I.y+I.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Ae=I.pages[1].join(`
`);nt({data:Ae,additionalKeyValues:J,objectId:I.objectNumber}),de("endobj")},Et=function(I,J){J||(J=21);var Ae=Pr(),Me=(function(vt,Xt){var en,bn=[],Nn=1/(Xt-1);for(en=0;en<1;en+=Nn)bn.push(en);if(bn.push(1),vt[0].offset!=0){var tr={offset:0,color:vt[0].color};vt.unshift(tr)}if(vt[vt.length-1].offset!=1){var Qr={offset:1,color:vt[vt.length-1].color};vt.push(Qr)}for(var xi="",Or=0,ji=0;ji<bn.length;ji++){for(en=bn[ji];en>vt[Or+1].offset;)Or++;var Ni=vt[Or].offset,pa=(en-Ni)/(vt[Or+1].offset-Ni),gc=vt[Or].color,qo=vt[Or+1].color;xi+=Y(Math.round((1-pa)*gc[0]+pa*qo[0]).toString(16))+Y(Math.round((1-pa)*gc[1]+pa*qo[1]).toString(16))+Y(Math.round((1-pa)*gc[2]+pa*qo[2]).toString(16))}return xi.trim()})(I.colors,J),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+J+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Me,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),de("endobj"),I.objectNumber=Pr(),de("<< /ShadingType "+I.type),de("/ColorSpace /DeviceRGB");var lt="/Coords ["+W(parseFloat(I.coords[0]))+" "+W(parseFloat(I.coords[1]))+" ";I.type===2?lt+=W(parseFloat(I.coords[2]))+" "+W(parseFloat(I.coords[3])):lt+=W(parseFloat(I.coords[2]))+" "+W(parseFloat(I.coords[3]))+" "+W(parseFloat(I.coords[4]))+" "+W(parseFloat(I.coords[5])),de(lt+="]"),I.matrix&&de("/Matrix ["+I.matrix.toString()+"]"),de("/Function "+Ae+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},It=function(I,J){var Ae=ci(),Me=Pr();J.push({resourcesOid:Ae,objectOid:Me}),I.objectNumber=Me;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+I.boundingBox.map(W).join(" ")+"]"}),ze.push({key:"XStep",value:W(I.xStep)}),ze.push({key:"YStep",value:W(I.yStep)}),ze.push({key:"Resources",value:Ae+" 0 R"}),I.matrix&&ze.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),nt({data:I.stream,additionalKeyValues:ze,objectId:I.objectNumber}),de("endobj")},At=function(I){for(var J in I.objectNumber=Pr(),de("<<"),I)switch(J){case"opacity":de("/ca "+B(I[J]));break;case"stroke-opacity":de("/CA "+B(I[J]))}de(">>"),de("endobj")},Nt=function(I){te(I.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in de("/Font <<"),Pt)Pt.hasOwnProperty(J)&&(p===!1||p===!0&&g.hasOwnProperty(J))&&de("/"+J+" "+Pt[J].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(ln).length>0){for(var J in de("/Shading <<"),ln)ln.hasOwnProperty(J)&&ln[J]instanceof q0&&ln[J].objectNumber>=0&&de("/"+J+" "+ln[J].objectNumber+" 0 R");$n.publish("putShadingPatternDict"),de(">>")}})(),(function(J){if(Object.keys(ln).length>0){for(var Ae in de("/Pattern <<"),ln)ln.hasOwnProperty(Ae)&&ln[Ae]instanceof m.TilingPattern&&ln[Ae].objectNumber>=0&&ln[Ae].objectNumber<J&&de("/"+Ae+" "+ln[Ae].objectNumber+" 0 R");$n.publish("putTilingPatternDict"),de(">>")}})(I.objectOid),(function(){if(Object.keys(dn).length>0){var J;for(J in de("/ExtGState <<"),dn)dn.hasOwnProperty(J)&&dn[J].objectNumber>=0&&de("/"+J+" "+dn[J].objectNumber+" 0 R");$n.publish("putGStateDict"),de(">>")}})(),(function(){for(var J in de("/XObject <<"),ea)ea.hasOwnProperty(J)&&ea[J].objectNumber>=0&&de("/"+J+" "+ea[J].objectNumber+" 0 R");$n.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},jt=function(I){pn[I.fontName]=pn[I.fontName]||{},pn[I.fontName][I.fontStyle]=I.id},wr=function(I,J,Ae,Me,ze){var lt={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:I,fontName:J,fontStyle:Ae,encoding:Me,isStandardFont:ze||!1,metadata:{}};return $n.publish("addFont",{font:lt,instance:this}),Pt[lt.id]=lt,jt(lt),lt.id},Gn=m.__private__.pdfEscape=m.pdfEscape=function(I,J){return(function(Ae,Me){var ze,lt,vt,Xt,en,bn,Nn,tr,Qr;if(vt=(Me=Me||{}).sourceEncoding||"Unicode",en=Me.outputEncoding,(Me.autoencode||en)&&Pt[Ct].metadata&&Pt[Ct].metadata[vt]&&Pt[Ct].metadata[vt].encoding&&(Xt=Pt[Ct].metadata[vt].encoding,!en&&Pt[Ct].encoding&&(en=Pt[Ct].encoding),!en&&Xt.codePages&&(en=Xt.codePages[0]),typeof en=="string"&&(en=Xt[en]),en)){for(Nn=!1,bn=[],ze=0,lt=Ae.length;ze<lt;ze++)(tr=en[Ae.charCodeAt(ze)])?bn.push(String.fromCharCode(tr)):bn.push(Ae[ze]),bn[ze].charCodeAt(0)>>8&&(Nn=!0);Ae=bn.join("")}for(ze=Ae.length;Nn===void 0&&ze!==0;)Ae.charCodeAt(ze-1)>>8&&(Nn=!0),ze--;if(!Nn)return Ae;for(bn=Me.noBOM?[]:[254,255],ze=0,lt=Ae.length;ze<lt;ze++){if((Qr=(tr=Ae.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bn.push(Qr),bn.push(tr-(Qr<<8))}return String.fromCharCode.apply(void 0,bn)})(I,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=m.__private__.beginPage=function(I){Re[++Cn]=[],Zt[Cn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Ho(Cn),gt(Re[H])},Xa=function(I,J){var Ae,Me,ze;switch(t=J||t,typeof I=="string"&&(Ae=C(I.toLowerCase()),Array.isArray(Ae)&&(Me=Ae[0],ze=Ae[1])),Array.isArray(I)&&(Me=I[0]*Ge,ze=I[1]*Ge),isNaN(Me)&&(Me=i[0],ze=i[1]),(Me>14400||ze>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),ze=Math.min(14400,ze)),i=[Me,ze],t.substr(0,1)){case"l":ze>Me&&(i=[ze,Me]);break;case"p":Me>ze&&(i=[ze,Me])}Tr(i),gn(uf),de(zs),Dh!==0&&de(Dh+" J"),ta!==0&&de(ta+" j"),$n.publish("addPage",{pageNumber:Cn})},Uo=function(I){I>0&&I<=Cn&&(Re.splice(I,1),Zt.splice(I,1),Cn--,H>Cn&&(H=Cn),this.setPage(H))},Ho=function(I){I>0&&I<=Cn&&(H=I)},Us=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Re.length-1},uu=function(I,J,Ae){var Me,ze=void 0;return Ae=Ae||{},I=I!==void 0?I:Pt[Ct].fontName,J=J!==void 0?J:Pt[Ct].fontStyle,Me=I.toLowerCase(),pn[Me]!==void 0&&pn[Me][J]!==void 0?ze=pn[Me][J]:pn[I]!==void 0&&pn[I][J]!==void 0?ze=pn[I][J]:Ae.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+I+"', '"+J+"'. Refer to getFontList() for available fonts."),ze||Ae.noFallback||(ze=pn.times[J])==null&&(ze=pn.times.normal),ze},Zr=m.__private__.putInfo=function(){var I=Pr(),J=function(Me){return Me};for(var Ae in h!==null&&(J=zi.encryptor(I,0)),de("<<"),de("/Producer ("+Gn(J("jsPDF "+rn.version))+")"),Wt)Wt.hasOwnProperty(Ae)&&Wt[Ae]&&de("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Gn(J(Wt[Ae]))+")");de("/CreationDate ("+Gn(J(ue))+")"),de(">>"),de("endobj")},oc=m.__private__.putCatalog=function(I){var J=(I=I||{}).rootDictionaryObjId||me;switch(Pr(),de("<<"),de("/Type /Catalog"),de("/Pages "+J+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+ft;Ae.substr(Ae.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&de("/OpenAction [3 0 R /XYZ null null "+B(ft)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}yt&&de("/PageMode /"+yt),$n.publish("putCatalog"),de(">>"),de("endobj")},zo=m.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(se+1)),de("/Root "+se+" 0 R"),de("/Info "+(se-1)+" 0 R"),h!==null&&de("/Encrypt "+zi.oid+" 0 R"),de("/ID [ <"+K+"> <"+K+"> ]"),de(">>")},lr=m.__private__.putHeader=function(){de("%PDF-"+w),de("%")},f0=m.__private__.putXRef=function(){var I="0000000000";de("xref"),de("0 "+(se+1)),de("0000000000 65535 f ");for(var J=1;J<=se;J++)typeof ye[J]=="function"?de((I+ye[J]()).slice(-10)+" 00000 n "):ye[J]!==void 0?de((I+ye[J]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},_l=m.__private__.buildDocument=function(){var I;se=0,Ce=0,ke=[],ye=[],Le=[],me=ci(),ve=ci(),gt(ke),$n.publish("buildDocument"),lr(),Ye(),(function(){$n.publish("putAdditionalObjects");for(var Ae=0;Ae<Le.length;Ae++){var Me=Le[Ae];te(Me.objId,!0),de(Me.content),de("endobj")}$n.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var Ae in Pt)Pt.hasOwnProperty(Ae)&&(p===!1||p===!0&&g.hasOwnProperty(Ae))&&Ke(Pt[Ae])})(),(function(){var Ae;for(Ae in dn)dn.hasOwnProperty(Ae)&&At(dn[Ae])})(),(function(){for(var Ae in ea)ea.hasOwnProperty(Ae)&&bt(ea[Ae])})(),(function(Ae){var Me;for(Me in ln)ln.hasOwnProperty(Me)&&(ln[Me]instanceof q0?Et(ln[Me]):ln[Me]instanceof Fm&&It(ln[Me],Ae))})(I),$n.publish("putResources"),I.forEach(Nt),Nt({resourcesOid:ve,objectOid:Number.MAX_SAFE_INTEGER}),$n.publish("postPutResources"),h!==null&&(zi.oid=Pr(),de("<<"),de("/Filter /Standard"),de("/V "+zi.v),de("/R "+zi.r),de("/U <"+zi.toHexString(zi.U)+">"),de("/O <"+zi.toHexString(zi.O)+">"),de("/P "+zi.P),de(">>"),de("endobj")),Zr(),oc();var J=Ce;return f0(),zo(),de("startxref"),de(""+J),de("%%EOF"),gt(Re[H]),ke.join(`
`)},fu=m.__private__.getBlob=function(I){return new Blob([Pe(I)],{type:"application/pdf"})},h0=m.output=m.__private__.output=(Wa=function(I,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",I){case void 0:return _l();case"save":m.save(J.filename);break;case"arraybuffer":return Pe(_l());case"blob":return fu(_l());case"bloburi":case"bloburl":if(En.URL!==void 0&&typeof En.URL.createObjectURL=="function")return En.URL&&En.URL.createObjectURL(fu(_l()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Me=_l();try{Ae=q8(Me)}catch{Ae=q8(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+J.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(ze=J.pdfObjectUrl,lt="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Xt=En.open();return Xt!==null&&Xt.document.write(vt),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',bn=En.open();if(bn!==null){bn.document.write(en);var Nn=this;bn.document.documentElement.querySelector("#pdfViewer").onload=function(){bn.document.title=J.filename,bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nn.output("bloburl"))}}return bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(En)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Qr=En.open();if(Qr!==null&&(Qr.document.write(tr),Qr.document.title=J.filename),Qr||typeof safari>"u")return Qr;break;case"datauri":case"dataurl":return En.document.location.href=this.output("datauristring",J);default:return null}},Wa.foo=function(){try{return Wa.apply(this,arguments)}catch(Ae){var I=Ae.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var J="Error in function "+I.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!En.console)throw new Error(J);En.console.error(J,Ae),En.alert&&alert(J)}},Wa.foo.bar=Wa,Wa.foo),Ya=function(I){return Array.isArray(Bs)===!0&&Bs.indexOf(I)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Ya("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var zi=null;ie(),Te();var ki=m.__private__.getPageInfo=m.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[I].objId,pageNumber:I,pageContext:Zt[I]}},Ih=m.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Zt)if(Zt[J].objId===I)break;return ki(J)},Cg=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Zt[H].objId,pageNumber:H,pageContext:Zt[H]}};m.addPage=function(){return Xa.apply(this,arguments),this},m.setPage=function(){return Ho.apply(this,arguments),gt.call(this,Re[H]),this},m.insertPage=function(I){return this.addPage(),this.movePage(H,I),this},m.movePage=function(I,J){var Ae,Me;if(I>J){Ae=Re[I],Me=Zt[I];for(var ze=I;ze>J;ze--)Re[ze]=Re[ze-1],Zt[ze]=Zt[ze-1];Re[J]=Ae,Zt[J]=Me,this.setPage(J)}else if(I<J){Ae=Re[I],Me=Zt[I];for(var lt=I;lt<J;lt++)Re[lt]=Re[lt+1],Zt[lt]=Zt[lt+1];Re[J]=Ae,Zt[J]=Me,this.setPage(J)}return this},m.deletePage=function(){return Uo.apply(this,arguments),this},m.__private__.text=m.text=function(I,J,Ae,Me,ze){var lt,vt,Xt,en,bn,Nn,tr,Qr,xi,Or=(Me=Me||{}).scope||this;if(typeof I=="number"&&typeof J=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var ji=Ae;Ae=J,J=I,I=ji}if(arguments[3]instanceof an==0?(Xt=arguments[4],en=arguments[5],Dr(tr=arguments[3])==="object"&&tr!==null||(typeof Xt=="string"&&(en=Xt,Xt=null),typeof tr=="string"&&(en=tr,tr=null),typeof tr=="number"&&(Xt=tr,tr=null),Me={flags:tr,angle:Xt,align:en})):(O("The transform parameter of text() with a Matrix value"),xi=ze),isNaN(J)||isNaN(Ae)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Or;var Ni,pa="",gc=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:lc,qo=Or.internal.scaleFactor;function mc(cr){return cr=cr.split("	").join(Array(Me.TabLen||9).join(" ")),Gn(cr,tr)}function w0(cr){for(var nr,Br=cr.concat(),bi=[],Il=Br.length;Il--;)typeof(nr=Br.shift())=="string"?bi.push(nr):Array.isArray(cr)&&(nr.length===1||nr[1]===void 0&&nr[2]===void 0)?bi.push(nr[0]):bi.push([nr[0],nr[1],nr[2]]);return bi}function Ph(cr,nr){var Br;if(typeof cr=="string")Br=nr(cr)[0];else if(Array.isArray(cr)){for(var bi,Il,Yo=cr.concat(),vf=[],A0=Yo.length;A0--;)typeof(bi=Yo.shift())=="string"?vf.push(nr(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(Il=nr(bi[0],bi[1],bi[2]),vf.push([Il[0],Il[1],Il[2]]));Br=vf}return Br}var El=!1,Vo=!0;if(typeof I=="string")El=!0;else if(Array.isArray(I)){var gf=I.concat();vt=[];for(var vc,na=gf.length;na--;)(typeof(vc=gf.shift())!="string"||Array.isArray(vc)&&typeof vc[0]!="string")&&(Vo=!1);El=Vo}if(El===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var du=Ue/Or.internal.scaleFactor,pu=du*(gc-1);switch(Me.baseline){case"bottom":Ae-=pu;break;case"top":Ae+=du-pu;break;case"hanging":Ae+=du-2*pu;break;case"middle":Ae+=du/2-pu}if((Nn=Me.maxWidth||0)>0&&(typeof I=="string"?I=Or.splitTextToSize(I,Nn):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(cr,nr){return cr.concat(Or.splitTextToSize(nr,Nn))},[]))),lt={text:I,x:J,y:Ae,options:Me,mutex:{pdfEscape:Gn,activeFontKey:Ct,fonts:Pt,activeFontSize:Ue}},$n.publish("preProcessText",lt),I=lt.text,Xt=(Me=lt.options).angle,xi instanceof an==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,Me.rotationDirection===0&&(Xt=-Xt),D===R&&(Xt=-Xt);var Oh=Math.cos(Xt),Tl=Math.sin(Xt);xi=new an(Oh,Tl,-Tl,Oh,0,0)}else Xt&&Xt instanceof an&&(xi=Xt);D!==R||xi||(xi=lo),(bn=Me.charSpace||co)!==void 0&&(pa+=W(ee(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qr=Me.horizontalScale)!==void 0&&(pa+=W(100*Qr)+` Tz
`),Me.lang;var Ka=-1,xc=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Bh=Or.internal.getCurrentPageInfo().pageContext;switch(xc){case 0:case!1:case"fill":Ka=0;break;case 1:case!0:case"stroke":Ka=1;break;case 2:case"fillThenStroke":Ka=2;break;case 3:case"invisible":Ka=3;break;case 4:case"fillAndAddForClipping":Ka=4;break;case 5:case"strokeAndAddPathForClipping":Ka=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ka=6;break;case 7:case"addToPathForClipping":Ka=7}var _0=Bh.usedRenderingMode!==void 0?Bh.usedRenderingMode:-1;Ka!==-1?pa+=Ka+` Tr
`:_0!==-1&&(pa+=`0 Tr
`),Ka!==-1&&(Bh.usedRenderingMode=Ka),en=Me.align||"left";var js,Wo=Ue*gc,yc=Or.internal.pageSize.getWidth(),S0=Pt[Ct];bn=Me.charSpace||co,Nn=Me.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Xo=[],gu=function(cr){return Or.getStringUnitWidth(cr,{font:S0,charSpace:bn,fontSize:Ue,doKerning:!1})*Ue/qo};if(Object.prototype.toString.call(I)==="[object Array]"){var ds;vt=w0(I),en!=="left"&&(js=vt.map(gu));var Ja,Cl=0;if(en==="right"){J-=js[0],I=[],na=vt.length;for(var kl=0;kl<na;kl++)kl===0?(Ja=Hs(J),ds=da(Ae)):(Ja=ee(Cl-js[kl]),ds=-Wo),I.push([vt[kl],Ja,ds]),Cl=js[kl]}else if(en==="center"){J-=js[0]/2,I=[],na=vt.length;for(var bc=0;bc<na;bc++)bc===0?(Ja=Hs(J),ds=da(Ae)):(Ja=ee((Cl-js[bc])/2),ds=-Wo),I.push([vt[bc],Ja,ds]),Cl=js[bc]}else if(en==="left"){I=[],na=vt.length;for(var Uh=0;Uh<na;Uh++)I.push(vt[Uh])}else if(en==="justify"&&S0.encoding==="Identity-H"){I=[],na=vt.length,Nn=Nn!==0?Nn:yc;for(var Hh=0,yi=0;yi<na;yi++)if(ds=yi===0?da(Ae):-Wo,Ja=yi===0?Hs(J):Hh,yi<na-1){var Pg=ee((Nn-js[yi])/(vt[yi].split(" ").length-1)),Nl=vt[yi].split(" ");I.push([Nl[0]+" ",Ja,ds]),Hh=0;for(var Rl=1;Rl<Nl.length;Rl++){var ga=(gu(Nl[Rl-1]+" "+Nl[Rl])-gu(Nl[Rl]))*qo+Pg;Rl==Nl.length-1?I.push([Nl[Rl],ga,0]):I.push([Nl[Rl]+" ",ga,0]),Hh-=ga}}else I.push([vt[yi],Ja,ds]);I.push(["",Hh,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],na=vt.length,Nn=Nn!==0?Nn:yc,yi=0;yi<na;yi++){ds=yi===0?da(Ae):-Wo,Ja=yi===0?Hs(J):0;var wc=vt[yi].split(" ").length-1,zh=wc>0?(Nn-js[yi])/wc:0;yi<na-1?Xo.push(W(ee(zh))):Xo.push(0),I.push([vt[yi],Ja,ds])}}}(typeof Me.R2L=="boolean"?Me.R2L:St)===!0&&(I=Ph(I,function(cr,nr,Br){return[cr.split("").reverse().join(""),nr,Br]})),lt={text:I,x:J,y:Ae,options:Me,mutex:{pdfEscape:Gn,activeFontKey:Ct,fonts:Pt,activeFontSize:Ue}},$n.publish("postProcessText",lt),I=lt.text,Ni=lt.mutex.isHex||!1;var jh=Pt[Ct].encoding;jh!=="WinAnsiEncoding"&&jh!=="StandardEncoding"||(I=Ph(I,function(cr,nr,Br){return[mc(cr),nr,Br]})),vt=w0(I),I=[];for(var _c,Sc,Ll,mf=Array.isArray(vt[0])?1:0,Gs="",Ac=function(cr,nr,Br){var bi="";return Br instanceof an?(Br=typeof Me.angle=="number"?Bo(Br,new an(1,0,0,1,cr,nr)):Bo(new an(1,0,0,1,cr,nr),Br),D===R&&(Br=Bo(new an(1,0,0,-1,0,0),Br)),bi=Br.join(" ")+` Tm
`):bi=W(cr)+" "+W(nr)+` Td
`,bi},Na=0;Na<vt.length;Na++){switch(Gs="",mf){case 1:Ll=(Ni?"<":"(")+vt[Na][0]+(Ni?">":")"),_c=parseFloat(vt[Na][1]),Sc=parseFloat(vt[Na][2]);break;case 0:Ll=(Ni?"<":"(")+vt[Na]+(Ni?">":")"),_c=Hs(J),Sc=da(Ae)}Xo!==void 0&&Xo[Na]!==void 0&&(Gs=Xo[Na]+` Tw
`),Na===0?I.push(Gs+Ac(_c,Sc,xi)+Ll):mf===0?I.push(Gs+Ll):mf===1&&I.push(Gs+Ac(_c,Sc,xi)+Ll)}I=mf===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var fo=`BT
/`;return fo+=Ct+" "+Ue+` Tf
`,fo+=W(Ue*gc)+` TL
`,fo+=Sl+`
`,fo+=pa,fo+=I,de(fo+="ET"),g[Ct]=!0,Or};var d0=m.__private__.clip=m.clip=function(I){return de(I==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return d0("evenodd")},m.__private__.discardPath=m.discardPath=function(){return de("n"),this};var $a=m.__private__.isValidStyle=function(I){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(I){return $a(I)&&(u=I),this};var p0=m.__private__.getStyle=m.getStyle=function(I){var J=u;switch(I){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=I}return J},g0=m.close=function(){return de("h"),this};m.stroke=function(){return de("S"),this},m.fill=function(I){return jo("f",I),this},m.fillEvenOdd=function(I){return jo("f*",I),this},m.fillStroke=function(I){return jo("B",I),this},m.fillStrokeEvenOdd=function(I){return jo("B*",I),this};var jo=function(I,J){Dr(J)==="object"?Ng(J,I):de(I)},cf=function(I){I===null||D===R&&I===void 0||(I=p0(I),de(I))};function kg(I,J,Ae,Me,ze){var lt=new Fm(J||this.boundingBox,Ae||this.xStep,Me||this.yStep,this.gState,ze||this.matrix);lt.stream=this.stream;var vt=I+"$$"+this.cloneIndex+++"$$";return ha(vt,lt),lt}var Ng=function(I,J){var Ae=yr[I.key],Me=ln[Ae];if(Me instanceof q0)de("q"),de(m0(J)),Me.gState&&m.setGState(Me.gState),de(I.matrix.toString()+" cm"),de("/"+Ae+" sh"),de("Q");else if(Me instanceof Fm){var ze=new an(1,0,0,-1,0,pc());I.matrix&&(ze=ze.multiply(I.matrix||lo),Ae=kg.call(Me,I.key,I.boundingBox,I.xStep,I.yStep,ze).id),de("q"),de("/Pattern cs"),de("/"+Ae+" scn"),Me.gState&&m.setGState(Me.gState),de(J),de("Q")}},m0=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},v0=m.moveTo=function(I,J){return de(W(ee(I))+" "+W(fe(J))+" m"),this},Rg=m.lineTo=function(I,J){return de(W(ee(I))+" "+W(fe(J))+" l"),this},hs=m.curveTo=function(I,J,Ae,Me,ze,lt){return de([W(ee(I)),W(fe(J)),W(ee(Ae)),W(fe(Me)),W(ee(ze)),W(fe(lt)),"c"].join(" ")),this};m.__private__.line=m.line=function(I,J,Ae,Me,ze){if(isNaN(I)||isNaN(J)||isNaN(Ae)||isNaN(Me)||!$a(ze))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[Ae-I,Me-J]],I,J,[1,1],ze||"S"):this.lines([[Ae-I,Me-J]],I,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(I,J,Ae,Me,ze,lt){var vt,Xt,en,bn,Nn,tr,Qr,xi,Or,ji,Ni,pa;if(typeof I=="number"&&(pa=Ae,Ae=J,J=I,I=pa),Me=Me||[1,1],lt=lt||!1,isNaN(J)||isNaN(Ae)||!Array.isArray(I)||!Array.isArray(Me)||!$a(ze)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(v0(J,Ae),vt=Me[0],Xt=Me[1],bn=I.length,ji=J,Ni=Ae,en=0;en<bn;en++)(Nn=I[en]).length===2?(ji=Nn[0]*vt+ji,Ni=Nn[1]*Xt+Ni,Rg(ji,Ni)):(tr=Nn[0]*vt+ji,Qr=Nn[1]*Xt+Ni,xi=Nn[2]*vt+ji,Or=Nn[3]*Xt+Ni,ji=Nn[4]*vt+ji,Ni=Nn[5]*Xt+Ni,hs(tr,Qr,xi,Or,ji,Ni));return lt&&g0(),cf(ze),this},m.path=function(I){for(var J=0;J<I.length;J++){var Ae=I[J],Me=Ae.c;switch(Ae.op){case"m":v0(Me[0],Me[1]);break;case"l":Rg(Me[0],Me[1]);break;case"c":hs.apply(this,Me);break;case"h":g0()}}return this},m.__private__.rect=m.rect=function(I,J,Ae,Me,ze){if(isNaN(I)||isNaN(J)||isNaN(Ae)||isNaN(Me)||!$a(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(Me=-Me),de([W(ee(I)),W(fe(J)),W(ee(Ae)),W(ee(Me)),"re"].join(" ")),cf(ze),this},m.__private__.triangle=m.triangle=function(I,J,Ae,Me,ze,lt,vt){if(isNaN(I)||isNaN(J)||isNaN(Ae)||isNaN(Me)||isNaN(ze)||isNaN(lt)||!$a(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-I,Me-J],[ze-Ae,lt-Me],[I-ze,J-lt]],I,J,[1,1],vt,!0),this},m.__private__.roundedRect=m.roundedRect=function(I,J,Ae,Me,ze,lt,vt){if(isNaN(I)||isNaN(J)||isNaN(Ae)||isNaN(Me)||isNaN(ze)||isNaN(lt)||!$a(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ae),lt=Math.min(lt,.5*Me),this.lines([[Ae-2*ze,0],[ze*Xt,0,ze,lt-lt*Xt,ze,lt],[0,Me-2*lt],[0,lt*Xt,-ze*Xt,lt,-ze,lt],[2*ze-Ae,0],[-ze*Xt,0,-ze,-lt*Xt,-ze,-lt],[0,2*lt-Me],[0,-lt*Xt,ze*Xt,-lt,ze,-lt]],I+ze,J,[1,1],vt,!0),this},m.__private__.ellipse=m.ellipse=function(I,J,Ae,Me,ze){if(isNaN(I)||isNaN(J)||isNaN(Ae)||isNaN(Me)||!$a(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Ae,vt=4/3*(Math.SQRT2-1)*Me;return v0(I+Ae,J),hs(I+Ae,J-vt,I+lt,J-Me,I,J-Me),hs(I-lt,J-Me,I-Ae,J-vt,I-Ae,J),hs(I-Ae,J+vt,I-lt,J+Me,I,J+Me),hs(I+lt,J+Me,I+Ae,J+vt,I+Ae,J),cf(ze),this},m.__private__.circle=m.circle=function(I,J,Ae,Me){if(isNaN(I)||isNaN(J)||isNaN(Ae)||!$a(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,J,Ae,Ae,Me)},m.setFont=function(I,J,Ae){return Ae&&(J=P(J,Ae)),Ct=uu(I,J,{disableWarning:!1}),this};var Go=m.__private__.getFont=m.getFont=function(){return Pt[uu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var I,J,Ae={};for(I in pn)if(pn.hasOwnProperty(I))for(J in Ae[I]=[],pn[I])pn[I].hasOwnProperty(J)&&Ae[I].push(J);return Ae},m.addFont=function(I,J,Ae,Me,ze){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Ae=P(Ae,Me)),wr.call(this,I,J,Ae,ze=ze||"Identity-H")};var lc,uf=n.lineWidth||.200025,hu=m.__private__.getLineWidth=m.getLineWidth=function(){return uf},gn=m.__private__.setLineWidth=m.setLineWidth=function(I){return uf=I,de(W(ee(I))+" w"),this};m.__private__.setLineDash=rn.API.setLineDash=rn.API.setLineDashPattern=function(I,J){if(I=I||[],J=J||0,isNaN(J)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(Ae){return W(ee(Ae))}).join(" "),J=W(ee(J)),de("["+I+"] "+J+" d"),this};var Lg=m.__private__.getLineHeight=m.getLineHeight=function(){return Ue*lc};m.__private__.getLineHeight=m.getLineHeight=function(){return Ue*lc};var x0=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(lc=I),this},Ig=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return lc};x0(n.lineHeight);var Hs=m.__private__.getHorizontalCoordinate=function(I){return ee(I)},da=m.__private__.getVerticalCoordinate=function(I){return D===R?I:Zt[H].mediaBox.topRightY-Zt[H].mediaBox.bottomLeftY-ee(I)},y0=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(I){return W(Hs(I))},ff=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(I){return W(da(I))},zs=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return be(zs)},m.__private__.setStrokeColor=m.setDrawColor=function(I,J,Ae,Me){return zs=Ee({ch1:I,ch2:J,ch3:Ae,ch4:Me,pdfColorType:"draw",precision:2}),de(zs),this};var hf=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return be(hf)},m.__private__.setFillColor=m.setFillColor=function(I,J,Ae,Me){return hf=Ee({ch1:I,ch2:J,ch3:Ae,ch4:Me,pdfColorType:"fill",precision:2}),de(hf),this};var Sl=n.textColor||"0 g",Mg=m.__private__.getTextColor=m.getTextColor=function(){return be(Sl)};m.__private__.setTextColor=m.setTextColor=function(I,J,Ae,Me){return Sl=Ee({ch1:I,ch2:J,ch3:Ae,ch4:Me,pdfColorType:"text",precision:3}),this};var co=n.charSpace,Mh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(co||0)};m.__private__.setCharSpace=m.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return co=I,this};var Dh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(I){var J=m.CapJoinStyles[I];if(J===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dh=J,de(J+" J"),this};var ta=0;m.__private__.setLineJoin=m.setLineJoin=function(I){var J=m.CapJoinStyles[I];if(J===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ta=J,de(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(W(ee(I))+" M"),this},m.GState=w_,m.setGState=function(I){(I=typeof I=="string"?dn[vn[I]]:Al(null,I)).equals(br)||(de("/"+I.id+" gs"),br=I)};var Al=function(I,J){if(!I||!vn[I]){var Ae=!1;for(var Me in dn)if(dn.hasOwnProperty(Me)&&dn[Me].equals(J)){Ae=!0;break}if(Ae)J=dn[Me];else{var ze="GS"+(Object.keys(dn).length+1).toString(10);dn[ze]=J,J.id=ze}return I&&(vn[I]=J.id),$n.publish("addGState",J),J}};m.addGState=function(I,J){return Al(I,J),this},m.saveGraphicsState=function(){return de("q"),Hn.push({key:Ct,size:Ue,color:Sl}),this},m.restoreGraphicsState=function(){de("Q");var I=Hn.pop();return Ct=I.key,Ue=I.size,Sl=I.color,br=null,this},m.setCurrentTransformationMatrix=function(I){return de(I.toString()+" cm"),this},m.comment=function(I){return de("#"+I),this};var uo=function(I,J){var Ae=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(lt){isNaN(lt)||(Ae=parseFloat(lt))}});var Me=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(lt){isNaN(lt)||(Me=parseFloat(lt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(lt){ze=lt.toString()}}),this},cc=function(I,J,Ae,Me){uo.call(this,I,J),this.type="rect";var ze=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(vt){isNaN(vt)||(ze=parseFloat(vt))}});var lt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(vt){isNaN(vt)||(lt=parseFloat(vt))}}),this},Fh=function(){this.page=Cn,this.currentPage=H,this.pages=Re.slice(0),this.pagesContext=Zt.slice(0),this.x=et,this.y=Qt,this.matrix=Dt,this.width=fc(H),this.height=b0(H),this.outputDestination=dt,this.id="",this.objectNumber=-1};Fh.prototype.restore=function(){Cn=this.page,H=this.currentPage,Zt=this.pagesContext,Re=this.pages,et=this.x,Qt=this.y,Dt=this.matrix,pf(H,this.width),hc(H,this.height),dt=this.outputDestination};var df=function(I,J,Ae,Me,ze){fs.push(new Fh),Cn=H=0,Re=[],et=I,Qt=J,Dt=ze,Tr([Ae,Me])};for(var uc in m.beginFormObject=function(I,J,Ae,Me,ze){return df(I,J,Ae,Me,ze),this},m.endFormObject=function(I){return(function(J){if(oo[J])fs.pop().restore();else{var Ae=new Fh,Me="Xo"+(Object.keys(ea).length+1).toString(10);Ae.id=Me,oo[J]=Me,ea[Me]=Ae,$n.publish("addFormObject",Ae),fs.pop().restore()}})(I),this},m.doFormObject=function(I,J){var Ae=ea[oo[I]];return de("q"),de(J.toString()+" cm"),de("/"+Ae.id+" Do"),de("Q"),this},m.getFormObject=function(I){var J=ea[oo[I]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(I,J){return I=I||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(G0(fu(_l()),I),typeof G0.unload=="function"&&En.setTimeout&&setTimeout(G0.unload,911),this):new Promise(function(Ae,Me){try{var ze=G0(fu(_l()),I);typeof G0.unload=="function"&&En.setTimeout&&setTimeout(G0.unload,911),Ae(ze)}catch(lt){Me(lt.message)}})},rn.API)rn.API.hasOwnProperty(uc)&&(uc==="events"&&rn.API.events.length?(function(I,J){var Ae,Me,ze;for(ze=J.length-1;ze!==-1;ze--)Ae=J[ze][0],Me=J[ze][1],I.subscribe.apply(I,[Ae].concat(typeof Me=="function"?[Me]:Me))})($n,rn.API.events):m[uc]=rn.API[uc]);function fc(I){return Zt[I].mediaBox.topRightX-Zt[I].mediaBox.bottomLeftX}function pf(I,J){Zt[I].mediaBox.topRightX=J+Zt[I].mediaBox.bottomLeftX}function b0(I){return Zt[I].mediaBox.topRightY-Zt[I].mediaBox.bottomLeftY}function hc(I,J){Zt[I].mediaBox.topRightY=J+Zt[I].mediaBox.bottomLeftY}var dc=m.getPageWidth=function(I){return fc(I=I||H)/Ge},Dg=m.setPageWidth=function(I,J){pf(I,J*Ge)},pc=m.getPageHeight=function(I){return b0(I=I||H)/Ge},Fg=m.setPageHeight=function(I,J){hc(I,J*Ge)};return m.internal={pdfEscape:Gn,getStyle:p0,getFont:Go,getFontSize:ot,getCharSpace:Mh,getTextColor:Mg,getLineHeight:Lg,getLineHeightFactor:Ig,getLineWidth:hu,write:Ne,getHorizontalCoordinate:Hs,getVerticalCoordinate:da,getCoordinateString:y0,getVerticalCoordinateString:ff,collections:{},newObject:Pr,newAdditionalObject:Se,newObjectDeferred:ci,newObjectDeferredBegin:te,getFilters:Ve,putStream:nt,events:$n,scaleFactor:Ge,pageSize:{getWidth:function(){return dc(H)},setWidth:function(I){Dg(H,I)},getHeight:function(){return pc(H)},setHeight:function(I){Fg(H,I)}},encryptionOptions:h,encryption:zi,getEncryptor:function(I){return h!==null?zi.encryptor(I,0):function(J){return J}},output:h0,getNumberOfPages:Us,get pages(){return Re},out:de,f2:B,f3:j,getPageInfo:ki,getPageInfoByObjId:Ih,getCurrentPageInfo:Cg,getPDFVersion:y,Point:uo,Rectangle:cc,Matrix:an,hasHotfix:Ya},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return dc(H)},set:function(I){Dg(H,I)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return pc(H)},set:function(I){Fg(H,I)},enumerable:!0,configurable:!0}),(function(I){for(var J=0,Ae=He.length;J<Ae;J++){var Me=wr.call(this,I[J][0],I[J][1],I[J][2],He[J][3],!0);p===!1&&(g[Me]=!0);var ze=I[J][0].split("-");jt({id:Me,fontName:ze[0],fontStyle:ze[1]||""})}$n.publish("addFonts",{fonts:Pt,dictionary:pn})}).call(m,He),Ct="F1",Xa(i,t),$n.publish("initialized"),m}Rm.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Rm.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rm.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Rm.prototype.processOwnerPassword=function(n,e){return DT(MT(e).substr(0,5),n)},Rm.prototype.encryptor=function(n,e){var t=MT(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return DT(t,r)}},w_.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Dr(n)!==Dr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},rn.API={events:[]},rn.version="4.0.0";var Oi=rn.API,N4=1,bg=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vm=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},In=function(n){return n.toFixed(2)},dd=function(n){return n.toFixed(5)};Oi.__acroform__={};var Oo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Y8=function(n){return n*N4},Du=function(n){var e=new pF,t=Jt.internal.getHeight(n)||0,r=Jt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(In(r)),Number(In(t))],e},DK=Oi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},FK=Oi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},PK=Oi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Yi=Oi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PK(n,e-1)},$i=Oi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DK(n,e-1)},Ki=Oi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FK(n,e-1)},OK=Oi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],s=n[2],o=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(a+o)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=r(a)||0,[Number(In(c.lowerLeft_X)),Number(In(c.lowerLeft_Y)),Number(In(c.upperRight_X)),Number(In(c.upperRight_Y))]},BK=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=FT(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+In(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Du(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},FT=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var a=t,s=Jt.internal.getHeight(n)||0;s=s<0?-s:s;var o=Jt.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(B,j,ee){if(B+1<i.length){var fe=j+" "+i[B+1][0];return aw(fe,n,ee).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,h,p=aw("3",n,a).height,g=n.multiline?s-a:(s-p)/2,m=g+=2,w=0,y=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+aw(e,n,a=12).width+", FieldWidth:"+o+`
`;break}for(var C="",L=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var D=!1;if(i[R].length!==1&&S!==i[R].length-1){if((p+2)*(L+2)+2>s)continue e;C+=i[R][S],D=!0,y=R,R--}else{C=(C+=i[R][S]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(R),q=c(z,C,a),P=R>=i.length-1;if(q&&!P){C+=" ",S=0;continue}if(q||P){if(P)y=z;else if(n.multiline&&(p+2)*(L+2)+2>s)continue e}else{if(!n.multiline||(p+2)*(L+2)+2>s)continue e;y=z}}for(var W="",O=w;O<=y;O++){var Q=i[O];if(n.multiline){if(O===y){W+=Q[S]+" ",S=(S+1)%Q.length;continue}if(O===w){W+=Q[Q.length-1]+" ";continue}}W+=Q[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,h=aw(W,n,a).width,n.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=In(u)+" "+In(m)+` Td
`,e+="("+bg(W)+`) Tj
`,e+=-In(u)+` 0 Td
`,m=-(a+2),h=0,w=D?y:y+1,L++,C=""}break}return r.text=e,r.fontSize=a,r},aw=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},UK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HK=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},zK=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(lu.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(UK)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N4=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new gF,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&HK(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=OK(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Jt.createDefaultAppearanceStream(o),Dr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=BK(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var w=m[s];typeof w=="function"&&(w=w.call(i,o)),p+="/"+s+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(i,o)),p+="/"+s+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&(function(y,S){for(var C in y)if(y.hasOwnProperty(C)){var L=C,R=y[C];S.internal.newObjectDeferredBegin(R.objId,!0),Dr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete y[L]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},dF=Oi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),Dr(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+bg(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},AA=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+bg(r(n))+")"},ef=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ef.prototype.toString=function(){return this.objId+" 0 R"},ef.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ef.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:dF(i,this.objId,this.scope)}):i instanceof ef?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var pF=function(){ef.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Oo(pF,ef);var gF=function(){ef.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+bg(t(n))+")"}},set:function(t){n=t}})};Oo(gF,ef);var lu=function n(){ef.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yi(e,3)},set:function(C){C?this.F=$i(e,3):this.F=Ki(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof __)return;a="FieldObject"+n.FieldNum++}var C=function(L){return L};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+bg(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(C){s=C}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/N4:u},set:function(C){u=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof __||this instanceof Qp))return AA(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ja==0?AA(g,this.objId,this.scope):g},set:function(C){C=C.toString(),g=this instanceof ja==0?C.substr(0,1)==="("?vm(C.substr(1,C.length-2)):vm(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja==1?vm(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof ja==1?"/"+C:C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ja==0?AA(m,this.objId,this.scope):m},set:function(C){C=C.toString(),m=this instanceof ja==0?C.substr(0,1)==="("?vm(C.substr(1,C.length-2)):vm(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja==1?vm(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof ja==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(C){C=!!C,y=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,1)},set:function(C){C?this.Ff=$i(this.Ff,1):this.Ff=Ki(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,2)},set:function(C){C?this.Ff=$i(this.Ff,2):this.Ff=Ki(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,3)},set:function(C){C?this.Ff=$i(this.Ff,3):this.Ff=Ki(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');S=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(S){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Oo(lu,ef);var Vm=function(){lu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dF(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,18)},set:function(t){t?this.Ff=$i(this.Ff,18):this.Ff=Ki(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$i(this.Ff,19):this.Ff=Ki(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,20)},set:function(t){t?(this.Ff=$i(this.Ff,20),e.sort()):this.Ff=Ki(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,22)},set:function(t){t?this.Ff=$i(this.Ff,22):this.Ff=Ki(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,23)},set:function(t){t?this.Ff=$i(this.Ff,23):this.Ff=Ki(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,27)},set:function(t){t?this.Ff=$i(this.Ff,27):this.Ff=Ki(this.Ff,27)}}),this.hasAppearanceStream=!1};Oo(Vm,lu);var Wm=function(){Vm.call(this),this.fontName="helvetica",this.combo=!1};Oo(Wm,Vm);var Xm=function(){Wm.call(this),this.combo=!0};Oo(Xm,Wm);var e_=function(){Xm.call(this),this.edit=!0};Oo(e_,Xm);var ja=function(){lu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,15)},set:function(t){t?this.Ff=$i(this.Ff,15):this.Ff=Ki(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,16)},set:function(t){t?this.Ff=$i(this.Ff,16):this.Ff=Ki(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,17)},set:function(t){t?this.Ff=$i(this.Ff,17):this.Ff=Ki(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,26)},set:function(t){t?this.Ff=$i(this.Ff,26):this.Ff=Ki(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+bg(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Dr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Oo(ja,lu);var t_=function(){ja.call(this),this.pushButton=!0};Oo(t_,ja);var Ym=function(){ja.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Oo(Ym,ja);var __=function(){var n,e;lu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+bg(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oo(__,lu),Ym.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ym.prototype.createOption=function(n){var e=new __;return e.Parent=this,e.optionName=n,this.Kids.push(e),jK.call(this.scope,e),e};var n_=function(){ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Oo(n_,ja);var Qp=function(){lu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,13)},set:function(e){e?this.Ff=$i(this.Ff,13):this.Ff=Ki(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,21)},set:function(e){e?this.Ff=$i(this.Ff,21):this.Ff=Ki(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,23)},set:function(e){e?this.Ff=$i(this.Ff,23):this.Ff=Ki(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,24)},set:function(e){e?this.Ff=$i(this.Ff,24):this.Ff=Ki(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,25)},set:function(e){e?this.Ff=$i(this.Ff,25):this.Ff=Ki(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,26)},set:function(e){e?this.Ff=$i(this.Ff,26):this.Ff=Ki(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oo(Qp,lu);var r_=function(){Qp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,14)},set:function(n){n?this.Ff=$i(this.Ff,14):this.Ff=Ki(this.Ff,14)}}),this.password=!0};Oo(r_,Qp);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=FT(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+In(Jt.internal.getWidth(n))+" "+In(Jt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+In(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=Jt.internal.getHeight(n),s=Jt.internal.getWidth(n),o=FT(n,n.caption);return i.push("1 g"),i.push("0 0 "+In(s)+" "+In(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+In(s-1)+" "+In(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+In(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+In(Jt.internal.getWidth(n))+" "+In(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Circle.YesNormal,e.D[n]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Jt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+dd(Jt.internal.getWidth(n)/2)+" "+dd(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5)),s=Number((r*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dd(Jt.internal.getWidth(n)/2)+" "+dd(Jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+dd(Jt.internal.getWidth(n)/2)+" "+dd(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dd(Jt.internal.getWidth(n)/2)+" "+dd(Jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Cross.YesNormal,e.D[n]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Jt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+In(Jt.internal.getWidth(n)-2)+" "+In(Jt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(In(r.x1.x)+" "+In(r.x1.y)+" m"),t.push(In(r.x2.x)+" "+In(r.x2.y)+" l"),t.push(In(r.x4.x)+" "+In(r.x4.y)+" m"),t.push(In(r.x3.x)+" "+In(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=Jt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+In(Jt.internal.getWidth(n))+" "+In(Jt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+In(Jt.internal.getWidth(n)-2)+" "+In(Jt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(In(t.x1.x)+" "+In(t.x1.y)+" m"),r.push(In(t.x2.x)+" "+In(t.x2.y)+" l"),r.push(In(t.x4.x)+" "+In(t.x4.y)+" m"),r.push(In(t.x3.x)+" "+In(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+In(Jt.internal.getWidth(n))+" "+In(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Jt.internal.getWidth(n),t=Jt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Jt.internal.getWidth=function(n){var e=0;return Dr(n)==="object"&&(e=Y8(n.Rect[2])),e},Jt.internal.getHeight=function(n){var e=0;return Dr(n)==="object"&&(e=Y8(n.Rect[3])),e};var jK=Oi.addField=function(n){if(zK(this,n),!(n instanceof lu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=Vm,Oi.AcroFormListBox=Wm,Oi.AcroFormComboBox=Xm,Oi.AcroFormEditBox=e_,Oi.AcroFormButton=ja,Oi.AcroFormPushButton=t_,Oi.AcroFormRadioButton=Ym,Oi.AcroFormCheckBox=n_,Oi.AcroFormTextField=Qp,Oi.AcroFormPasswordField=r_,Oi.AcroFormAppearance=Jt,Oi.AcroForm={ChoiceField:Vm,ListBox:Wm,ComboBox:Xm,EditBox:e_,Button:ja,PushButton:t_,RadioButton:Ym,CheckBox:n_,TextField:Qp,PasswordField:r_,Appearance:Jt},rn.AcroForm={ChoiceField:Vm,ListBox:Wm,ComboBox:Xm,EditBox:e_,Button:ja,PushButton:t_,RadioButton:Ym,CheckBox:n_,TextField:Qp,PasswordField:r_,Appearance:Jt};rn.AcroForm;function mF(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(B,j){var ee,fe,ue,K,le,Te=t;if((j=j||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(q(B))for(le in r)for(ue=r[le],ee=0;ee<ue.length;ee+=1){for(K=!0,fe=0;fe<ue[ee].length;fe+=1)if(ue[ee][fe]!==void 0&&ue[ee][fe]!==B[fe]){K=!1;break}if(K===!0){Te=le;break}}else for(le in r)for(ue=r[le],ee=0;ee<ue.length;ee+=1){for(K=!0,fe=0;fe<ue[ee].length;fe+=1)if(ue[ee][fe]!==void 0&&ue[ee][fe]!==B.charCodeAt(fe)){K=!1;break}if(K===!0){Te=le;break}}return Te===t&&j!==t&&(Te=j),Te},a=function B(j){for(var ee=this.internal.write,fe=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:j.width}),K.push({key:"Height",value:j.height}),j.colorSpace===C.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===C.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var le="",Te=0,ge=j.transparency.length;Te<ge;Te++)le+=j.transparency[Te]+" "+j.transparency[Te]+" ";K.push({key:"Mask",value:"["+le+"]"})}j.sMask!==void 0&&K.push({key:"SMask",value:j.objectId+1+" 0 R"});var Be=j.filter!==void 0?["/"+j.filter]:void 0;if(fe({data:j.data,additionalKeyValues:K,alreadyAppliedFilters:Be,objectId:j.objectId}),ee("endobj"),"sMask"in j&&j.sMask!==void 0){var ie,M=(ie=j.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:j.bitsPerComponent,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:j.sMask};"filter"in j&&(H.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(j.width),H.filter=j.filter),B.call(this,H)}if(j.colorSpace===C.INDEXED){var G=this.internal.newObject();fe({data:W(new Uint8Array(j.palette)),objectId:G}),ee("endobj")}},s=function(){var B=this.internal.collections[e+"images"];for(var j in B)a.call(this,B[j])},o=function(){var B,j=this.internal.collections[e+"images"],ee=this.internal.write;for(var fe in j)ee("/I"+(B=j[fe]).index,B.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var B=this.internal.collections[e+"images"];return c.call(this),B},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(B){return typeof n["process"+B.toUpperCase()]=="function"},g=function(B){return Dr(B)==="object"&&B.nodeType===1},m=function(B,j){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var ee=""+B.getAttribute("src");if(ee.indexOf("data:image/")===0)return Qw(unescape(ee).split("base64,").pop());var fe=n.loadFile(ee,!0);if(fe!==void 0)return fe}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Qw(B.toDataURL(ue,1).split("base64,").pop())}},w=function(B){var j=this.internal.collections[e+"images"];if(j){for(var ee in j)if(B===j[ee].alias)return j[ee]}},y=function(B,j,ee){return B||j||(B=-96,j=-96),B<0&&(B=-1*ee.width*72/B/this.internal.scaleFactor),j<0&&(j=-1*ee.height*72/j/this.internal.scaleFactor),B===0&&(B=j*ee.width/ee.height),j===0&&(j=B*ee.height/ee.width),[B,j]},S=function(B,j,ee,fe,ue,K){var le=y.call(this,ee,fe,ue),Te=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,Be=u.call(this);if(ee=le[0],fe=le[1],Be[ue.index]=ue,K){K*=Math.PI/180;var ie=Math.cos(K),M=Math.sin(K),H=function(Y){return Y.toFixed(4)},G=[H(ie),H(M),H(-1*M),H(ie),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,Te(B),ge(j+fe),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Te(ee),"0","0",Te(fe),"0","0","cm"].join(" "))):this.internal.write([Te(ee),"0","0",Te(fe),Te(B),ge(j+fe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=n.__addimage__.sHashCode=function(B){var j,ee,fe=0;if(typeof B=="string")for(ee=B.length,j=0;j<ee;j++)fe=(fe<<5)-fe+B.charCodeAt(j),fe|=0;else if(q(B))for(ee=B.byteLength/2,j=0;j<ee;j++)fe=(fe<<5)-fe+B[j],fe|=0;return fe},D=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var j=!0;return B.length===0&&(j=!1),B.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(j=!1),j},z=n.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var j=B.indexOf(",");return j<0?null:B.substring(0,j).trim().endsWith("base64")?B.substring(j+1):null};n.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var q=n.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},P=n.__addimage__.binaryStringToUint8Array=function(B){for(var j=B.length,ee=new Uint8Array(j),fe=0;fe<j;fe++)ee[fe]=B.charCodeAt(fe);return ee},W=n.__addimage__.arrayBufferToBinaryString=function(B){for(var j="",ee=q(B)?B:new Uint8Array(B),fe=0;fe<ee.length;fe+=8192)j+=String.fromCharCode.apply(null,ee.subarray(fe,fe+8192));return j};n.addImage=function(){var B,j,ee,fe,ue,K,le,Te,ge;if(typeof arguments[1]=="number"?(j=t,ee=arguments[1],fe=arguments[2],ue=arguments[3],K=arguments[4],le=arguments[5],Te=arguments[6],ge=arguments[7]):(j=arguments[1],ee=arguments[2],fe=arguments[3],ue=arguments[4],K=arguments[5],le=arguments[6],Te=arguments[7],ge=arguments[8]),Dr(B=arguments[0])==="object"&&!g(B)&&"imageData"in B){var Be=B;B=Be.imageData,j=Be.format||j||t,ee=Be.x||ee||0,fe=Be.y||fe||0,ue=Be.w||Be.width||ue,K=Be.h||Be.height||K,le=Be.alias||le,Te=Be.compression||Te,ge=Be.rotation||Be.angle||ge}var ie=this.internal.getFilters();if(Te===void 0&&ie.indexOf("FlateEncode")!==-1&&(Te="SLOW"),isNaN(ee)||isNaN(fe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=O.call(this,B,j,le,Te);return S.call(this,ee,fe,ue,K,M,ge),this};var O=function(B,j,ee,fe){var ue,K,le;if(typeof B=="string"&&i(B)===t){B=unescape(B);var Te=Q(B,!1);(Te!==""||(Te=n.loadFile(B,!0))!==void 0)&&(B=Te)}if(g(B)&&(B=m(B,j)),j=i(B,j),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((le=ee)==null||le.length===0)&&(ee=(function(ge){return typeof ge=="string"||q(ge)?R(ge):q(ge.data)?R(ge.data):null})(B)),(ue=w.call(this,ee))||(B instanceof Uint8Array||j==="RGBA"||(K=B,B=P(B)),ue=this["process"+j.toUpperCase()](B,h.call(this),ee,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in n.image_compression?ge:L.NONE})(fe),K)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},Q=n.__addimage__.convertBase64ToBinaryString=function(B,j){j=typeof j!="boolean"||j;var ee,fe="";if(typeof B=="string"){var ue;ee=(ue=z(B))!==null&&ue!==void 0?ue:B;try{fe=Qw(ee)}catch(K){if(j)throw D(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};n.getImageProperties=function(B){var j,ee,fe="";if(g(B)&&(B=m(B)),typeof B=="string"&&i(B)===t&&((fe=Q(B,!1))===""&&(fe=n.loadFile(B)||""),B=fe),ee=i(B),!p(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(B instanceof Uint8Array||(B=P(B)),!(j=this["process"+ee.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=ee,j}})(rn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};rn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(y.objId),L=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(C(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(C(L))+") >>",y.content=a;var R=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var q=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:u(r),w:c(t+i),h:u(r+a)},options:s,type:"link"})},n.textWithLink=function(t,r,i,a){var s,o,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var h=this.splitTextToSize(t,o).length;s=Math.ceil(u*h)}else o=c,s=u;return this.text(t,r,i,a),i+=.2*u,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-u,o,s,a),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(rn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=n.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(y){var S=0,C=t,L="",R=0;for(S=0;S<y.length;S+=1)C[y.charCodeAt(S)]!==void 0?(R++,typeof(C=C[y.charCodeAt(S)])=="number"&&(L+=String.fromCharCode(C),C=t,R=0),S===y.length-1&&(C=t,L+=y.charAt(S-(R-1)),S-=R-1,R=0)):(C=t,L+=y.charAt(S-R),S-=R,R=0);return L};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(y,S,C){return s(y)?a(y)===!1?-1:!u(y)||!s(S)&&!s(C)||!s(C)&&o(S)||o(y)&&!s(S)||o(y)&&c(S)||o(y)&&o(S)?0:h(y)&&s(S)&&!o(S)&&s(C)&&u(C)?3:o(y)||!s(C)?1:2:-1},m=function(y){var S=0,C=0,L=0,R="",D="",z="",q=(y=y||"").split("\\s+"),P=[];for(S=0;S<q.length;S+=1){for(P.push(""),C=0;C<q[S].length;C+=1)R=q[S][C],D=q[S][C-1],z=q[S][C+1],s(R)?(L=g(R,D,z),P[S]+=L!==-1?String.fromCharCode(e[R.charCodeAt(0)][L]):R):P[S]+=R;P[S]=p(P[S])}return P.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(S)){var L=0;for(C=[],L=0;L<S.length;L+=1)Array.isArray(S[L])?C.push([m(S[L][0]),S[L][1],S[L][2]]):C.push([m(S[L])]);y=C}else y=m(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",w])})(rn.API),rn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(rn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,w=0,y=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=u.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,D){return R.concat(S.splitTextToSize(D,C))},[])):c=Array.isArray(c)?c:[c];for(var L=0;L<c.length;L++)m<(y=this.getStringUnitWidth(c[L],{font:p})*h)&&(m=y);return m!==0&&(w=c.length),{w:m/=g,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,u,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,w,y,S,C=[],L=[],R=[],D={},z={},q=[],P=[],W=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,Q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},e),j=typeof g.padding=="number"?g.padding:3,ee=g.headerBackgroundColor||"#c8c8c8",fe=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=fe,this.setFontSize(Q),p==null)L=C=Object.keys(h[0]),R=C.map(function(){return"left"});else if(Array.isArray(p)&&Dr(p[0])==="object")for(C=p.map(function(Be){return Be.name}),L=p.map(function(Be){return Be.prompt||Be.name||""}),R=p.map(function(Be){return Be.align||"left"}),m=0;m<p.length;m+=1)z[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=C=p,R=C.map(function(){return"left"}));if(W||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<C.length;m+=1){for(D[S=C[m]]=h.map(function(Be){return Be[S]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=D[S],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)q.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[S]=Math.max.apply(null,q)+j+j,q=[]}if(O){var ue={};for(m=0;m<C.length;m+=1)ue[C[m]]={},ue[C[m]].text=L[m],ue[C[m]].align=R[m];var K=o.call(this,ue,z);P=C.map(function(Be){return new a(c,u,z[Be],K,ue[Be].text,void 0,ue[Be].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var le=p.reduce(function(Be,ie){return Be[ie.name]=ie.align,Be},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var Te=o.call(this,h[m],z);for(y=0;y<C.length;y+=1){var ge=h[m][C[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:y,data:ge},this),s.call(this,new a(c,u,z[C[y]],Te,ge,m+2,le[C[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var w=c[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,w){return Math.max(m,w)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}})(rn.API);var vF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PT=mF(xF),yF=[100,200,300,400,500,600,700,800,900],GK=mF(yF);function EA(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return vF[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof PT[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function $8(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var qK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},K8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J8(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Z8(n){return n.trimLeft()}function VK(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function WK(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var sw,Q8,eR,xm,ow,tR,nR,rR,TA=["times"];function iR(n,e,t,r,i){var a=4,s=sR;switch(i){case rn.API.image_compression.FAST:a=1,s=aR;break;case rn.API.image_compression.MEDIUM:a=6,s=oR;break;case rn.API.image_compression.SLOW:a=9,s=lR}n=(function(c,u,h,p){for(var g,m=c.length/u,w=new Uint8Array(c.length+m),y=[XK,aR,sR,oR,lR],S=0;S<m;S+=1){var C=S*u,L=c.subarray(C,C+u);if(p)w.set(p(L,h,g),C+S);else{for(var R=y.length,D=[],z=0;z<R;z+=1)D[z]=y[z](L,h,g);var q=$K(D.concat());w.set(D[q],C+S)}g=L}return w})(n,e,Math.ceil(t*r/8),s);var o=NT(n,{level:a});return rn.API.__addimage__.arrayBufferToBinaryString(o)}function XK(n){var e=Array.apply([],n);return e.unshift(0),e}function aR(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var a=n[i-e]||0;r[i+1]=n[i]-a+256&255}return r}function sR(n,e,t){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=t&&t[a]||0;i[a+1]=n[a]-s+256&255}return i}function oR(n,e,t){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=n[a-e]||0,o=t&&t[a]||0;i[a+1]=n[a]+256-(s+o>>>1)&255}return i}function lR(n,e,t){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=YK(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=n[a]-s+256&255}return i}function YK(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),a=Math.abs(n+e-t-t);return r<=i&&r<=a?n:i<=a?e:t}function $K(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function CA(n,e,t){var r=e*t,i=Math.floor(r/8),a=16-(r-8*i+t),s=(1<<t)-1;return bF(n,i)>>a&s}function cR(n,e,t,r){var i=t*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,c=(e&o)<<s;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var g=p>>8&255;u.setUint8(h,g)}})(n,a,bF(n,a)&~(o<<s)&65535|c)}function bF(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function KK(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,s=1<<1+(7&i);n[e++],n[e++];var o=null,c=null;a&&(o=e,c=s,e+=3*s);var u=!0,h=[],p=0,g=null,m=0,w=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,w=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],1&y||(g=null),m=y>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var S=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,D=n[e++],z=D>>6&1,q=1<<1+(7&D),P=o,W=c,O=!1;D>>7&&(O=!0,P=e,W=q,e+=3*q);var Q=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:S,y:C,width:L,height:R,has_local_palette:O,palette_offset:P,palette_size:W,data_offset:Q,data_length:e-Q,transparent_index:g,interlaced:!!z,delay:p,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=h.length)throw new Error("Frame index out of range.");return h[j]},this.decodeAndBlitFrameBGRA=function(j,ee){var fe=this.frameInfo(j),ue=fe.width*fe.height,K=new Uint8Array(ue);uR(n,fe.data_offset,K,ue);var le=fe.palette_offset,Te=fe.transparent_index;Te===null&&(Te=256);var ge=fe.width,Be=t-ge,ie=ge,M=4*(fe.y*t+fe.x),H=4*((fe.y+fe.height)*t+fe.x),G=M,Y=4*Be;fe.interlaced===!0&&(Y+=4*t*7);for(var se=8,ye=0,ke=K.length;ye<ke;++ye){var Ce=K[ye];if(ie===0&&(ie=ge,(G+=Y)>=H&&(Y=4*Be+4*t*(se-1),G=M+(ge+Be)*(se<<1),se>>=1)),Ce===Te)G+=4;else{var Le=n[le+3*Ce],Re=n[le+3*Ce+1],ce=n[le+3*Ce+2];ee[G++]=ce,ee[G++]=Re,ee[G++]=Le,ee[G++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(j,ee){var fe=this.frameInfo(j),ue=fe.width*fe.height,K=new Uint8Array(ue);uR(n,fe.data_offset,K,ue);var le=fe.palette_offset,Te=fe.transparent_index;Te===null&&(Te=256);var ge=fe.width,Be=t-ge,ie=ge,M=4*(fe.y*t+fe.x),H=4*((fe.y+fe.height)*t+fe.x),G=M,Y=4*Be;fe.interlaced===!0&&(Y+=4*t*7);for(var se=8,ye=0,ke=K.length;ye<ke;++ye){var Ce=K[ye];if(ie===0&&(ie=ge,(G+=Y)>=H&&(Y=4*Be+4*t*(se-1),G=M+(ge+Be)*(se<<1),se>>=1)),Ce===Te)G+=4;else{var Le=n[le+3*Ce],Re=n[le+3*Ce+1],ce=n[le+3*Ce+2];ee[G++]=Le,ee[G++]=Re,ee[G++]=ce,ee[G++]=255}--ie}}}function uR(n,e,t,r){for(var i=n[e++],a=1<<i,s=a+1,o=s+1,c=i+1,u=(1<<c)-1,h=0,p=0,g=0,m=n[e++],w=new Int32Array(4096),y=null;;){for(;h<16&&m!==0;)p|=n[e++]<<h,h+=8,m===1?m=n[e++]:--m;if(h<c)break;var S=p&u;if(p>>=c,h-=c,S!==a){if(S===s)break;for(var C=S<o?S:y,L=0,R=C;R>a;)R=w[R]>>8,++L;var D=R;if(g+L+(C!==S?1:0)>r)return void $r.log("Warning, gif stream longer than expected.");t[g++]=D;var z=g+=L;for(C!==S&&(t[g++]=D),R=C;L--;)R=w[R],t[--z]=255&R,R>>=8;y!==null&&o<4096&&(w[o++]=y<<8|D,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=S}else o=s+1,u=(1<<(c=i+1))-1,y=null}return g!==r&&$r.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kA(n){var e,t,r,i,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),w=new Array(64),y=[],S=0,C=7,L=new Array(64),R=new Array(64),D=new Array(64),z=new Array(256),q=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(M,H){for(var G=0,Y=0,se=new Array,ye=1;ye<=16;ye++){for(var ke=1;ke<=M[ye];ke++)se[H[Y]]=[],se[H[Y]][0]=G,se[H[Y]][1]=ye,Y++,G++;G*=2}return se}function le(M){for(var H=M[0],G=M[1]-1;G>=0;)H&1<<G&&(S|=1<<C),G--,--C<0&&(S==255?(Te(255),Te(0)):Te(S),C=7,S=0)}function Te(M){y.push(M)}function ge(M){Te(M>>8&255),Te(255&M)}function Be(M,H,G,Y,se){for(var ye,ke=se[0],Ce=se[240],Le=(function(Ue,ft){var ot,St,yt,wt,Tt,Bt,on,Wt,Ct,Ge,et=0;for(Ct=0;Ct<8;++Ct){ot=Ue[et],St=Ue[et+1],yt=Ue[et+2],wt=Ue[et+3],Tt=Ue[et+4],Bt=Ue[et+5],on=Ue[et+6];var Qt=ot+(Wt=Ue[et+7]),Dt=ot-Wt,Pt=St+on,pn=St-on,Hn=yt+Bt,ln=yt-Bt,yr=wt+Tt,dn=wt-Tt,vn=Qt+yr,br=Qt-yr,Cn=Pt+Hn,Zt=Pt-Hn;Ue[et]=vn+Cn,Ue[et+4]=vn-Cn;var $n=.707106781*(Zt+br);Ue[et+2]=br+$n,Ue[et+6]=br-$n;var Bs=.382683433*((vn=dn+ln)-(Zt=pn+Dt)),ea=.5411961*vn+Bs,oo=1.306562965*Zt+Bs,fs=.707106781*(Cn=ln+pn),an=Dt+fs,Bo=Dt-fs;Ue[et+5]=Bo+ea,Ue[et+3]=Bo-ea,Ue[et+1]=an+oo,Ue[et+7]=an-oo,et+=8}for(et=0,Ct=0;Ct<8;++Ct){ot=Ue[et],St=Ue[et+8],yt=Ue[et+16],wt=Ue[et+24],Tt=Ue[et+32],Bt=Ue[et+40],on=Ue[et+48];var lo=ot+(Wt=Ue[et+56]),ha=ot-Wt,Wa=St+on,Pr=St-on,ci=yt+Bt,te=yt-Bt,Se=wt+Tt,me=wt-Tt,ve=lo+Se,be=lo-Se,Ee=Wa+ci,Ve=Wa-ci;Ue[et]=ve+Ee,Ue[et+32]=ve-Ee;var nt=.707106781*(Ve+be);Ue[et+16]=be+nt,Ue[et+48]=be-nt;var Xe=.382683433*((ve=me+te)-(Ve=Pr+ha)),Ye=.5411961*ve+Xe,Ke=1.306562965*Ve+Xe,bt=.707106781*(Ee=te+Pr),Et=ha+bt,It=ha-bt;Ue[et+40]=It+Ye,Ue[et+24]=It-Ye,Ue[et+8]=Et+Ke,Ue[et+56]=Et-Ke,et++}for(Ct=0;Ct<64;++Ct)Ge=Ue[Ct]*ft[Ct],m[Ct]=Ge>0?Ge+.5|0:Ge-.5|0;return m})(M,H),Re=0;Re<64;++Re)w[P[Re]]=Le[Re];var ce=w[0]-G;G=w[0],ce==0?le(Y[0]):(le(Y[g[ye=32767+ce]]),le(p[ye]));for(var dt=63;dt>0&&w[dt]==0;)dt--;if(dt==0)return le(ke),G;for(var gt,de=1;de<=dt;){for(var Ne=de;w[de]==0&&de<=dt;)++de;var Pe=de-Ne;if(Pe>=16){gt=Pe>>4;for(var He=1;He<=gt;++He)le(Ce);Pe&=15}ye=32767+w[de],le(se[(Pe<<4)+g[ye]]),le(p[ye]),de++}return dt!=63&&le(ke),G}function ie(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(H){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var se=s((G[Y]*H+50)/100);se=Math.min(Math.max(se,1),255),o[P[Y]]=se}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Ce=s((ye[ke]*H+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[P[ke]]=Ce}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,ce=0;ce<8;ce++)for(var dt=0;dt<8;dt++)u[Re]=1/(o[P[Re]]*Le[ce]*Le[dt]*8),h[Re]=1/(c[P[Re]]*Le[ce]*Le[dt]*8),Re++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,H){H&&ie(H),y=new Array,S=0,C=7,ge(65496),ge(65504),ge(16),Te(74),Te(70),Te(73),Te(70),Te(0),Te(1),Te(1),Te(0),ge(1),ge(1),Te(0),Te(0),(function(){ge(65499),ge(132),Te(0);for(var St=0;St<64;St++)Te(o[St]);Te(1);for(var yt=0;yt<64;yt++)Te(c[yt])})(),(function(St,yt){ge(65472),ge(17),Te(8),ge(yt),ge(St),Te(3),Te(1),Te(17),Te(0),Te(2),Te(17),Te(1),Te(3),Te(17),Te(1)})(M.width,M.height),(function(){ge(65476),ge(418),Te(0);for(var St=0;St<16;St++)Te(W[St+1]);for(var yt=0;yt<=11;yt++)Te(O[yt]);Te(16);for(var wt=0;wt<16;wt++)Te(Q[wt+1]);for(var Tt=0;Tt<=161;Tt++)Te(B[Tt]);Te(1);for(var Bt=0;Bt<16;Bt++)Te(j[Bt+1]);for(var on=0;on<=11;on++)Te(ee[on]);Te(17);for(var Wt=0;Wt<16;Wt++)Te(fe[Wt+1]);for(var Ct=0;Ct<=161;Ct++)Te(ue[Ct])})(),ge(65498),ge(12),Te(3),Te(1),Te(0),Te(2),Te(17),Te(3),Te(17),Te(0),Te(63),Te(0);var G=0,Y=0,se=0;S=0,C=7,this.encode.displayName="_encode_";for(var ye,ke,Ce,Le,Re,ce,dt,gt,de,Ne=M.data,Pe=M.width,He=M.height,Ue=4*Pe,ft=0;ft<He;){for(ye=0;ye<Ue;){for(Re=Ue*ft+ye,dt=-1,gt=0,de=0;de<64;de++)ce=Re+(gt=de>>3)*Ue+(dt=4*(7&de)),ft+gt>=He&&(ce-=Ue*(ft+1+gt-He)),ye+dt>=Ue&&(ce-=ye+dt-Ue+4),ke=Ne[ce++],Ce=Ne[ce++],Le=Ne[ce++],L[de]=(q[ke]+q[Ce+256|0]+q[Le+512|0]>>16)-128,R[de]=(q[ke+768|0]+q[Ce+1024|0]+q[Le+1280|0]>>16)-128,D[de]=(q[ke+1280|0]+q[Ce+1536|0]+q[Le+1792|0]>>16)-128;G=Be(L,u,G,e,r),Y=Be(R,h,Y,t,i),se=Be(D,h,se,t,i),ye+=32}ft+=8}if(C>=0){var ot=[];ot[1]=C+1,ot[0]=(1<<C+1)-1,le(ot)}return ge(65497),new Uint8Array(y)},n=n||50,(function(){for(var M=String.fromCharCode,H=0;H<256;H++)z[H]=M(H)})(),e=K(W,O),t=K(j,ee),r=K(Q,B),i=K(fe,ue),(function(){for(var M=1,H=2,G=1;G<=15;G++){for(var Y=M;Y<H;Y++)g[32767+Y]=G,p[32767+Y]=[],p[32767+Y][1]=G,p[32767+Y][0]=Y;for(var se=-(H-1);se<=-M;se++)g[32767+se]=G,p[32767+se]=[],p[32767+se][1]=G,p[32767+se][0]=H-1+se;M<<=1,H<<=1}})(),(function(){for(var M=0;M<256;M++)q[M]=19595*M,q[M+256|0]=38470*M,q[M+512|0]=7471*M+32768,q[M+768|0]=-11059*M,q[M+1024|0]=-21709*M,q[M+1280|0]=32768*M+8421375,q[M+1536|0]=-27439*M,q[M+1792|0]=-5329*M})(),ie(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fR(n){function e(O){if(!O)throw Error("assert :P")}function t(O,Q,B){for(var j=0;4>j;j++)if(O[Q+j]!=B.charCodeAt(j))return!0;return!1}function r(O,Q,B,j,ee){for(var fe=0;fe<ee;fe++)O[Q+fe]=B[j+fe]}function i(O,Q,B,j){for(var ee=0;ee<j;ee++)O[Q+ee]=B}function a(O){return new Int32Array(O)}function s(O,Q){for(var B=[],j=0;j<O;j++)B.push(new Q);return B}function o(O,Q){var B=[];return(function j(ee,fe,ue){for(var K=ue[fe],le=0;le<K&&(ee.push(ue.length>fe+1?[]:new Q),!(ue.length<fe+1));le++)j(ee[le],fe+1,ue)})(B,0,O),B}var c=function(){var O=this;function Q(_,k){for(var F=1<<k-1>>>0;_&F;)F>>>=1;return F?(_&F-1)+F:_}function B(_,k,F,U,Z){e(!(U%F));do _[k+(U-=F)]=Z;while(0<U)}function j(_,k,F,U,Z){if(e(2328>=Z),512>=Z)var re=a(512);else if((re=a(Z))==null)return 0;return(function(oe,pe,xe,_e,De,$e){var we,Oe,qe=pe,it=1<<xe,We=a(16),rt=a(16);for(e(De!=0),e(_e!=null),e(oe!=null),e(0<xe),Oe=0;Oe<De;++Oe){if(15<_e[Oe])return 0;++We[_e[Oe]]}if(We[0]==De)return 0;for(rt[1]=0,we=1;15>we;++we){if(We[we]>1<<we)return 0;rt[we+1]=rt[we]+We[we]}for(Oe=0;Oe<De;++Oe)we=_e[Oe],0<_e[Oe]&&($e[rt[we]++]=Oe);if(rt[15]==1)return(_e=new ee).g=0,_e.value=$e[0],B(oe,qe,1,it,_e),it;var ct,_t=-1,mt=it-1,Kt=0,Ut=1,An=1,Gt=1<<xe;for(Oe=0,we=1,De=2;we<=xe;++we,De<<=1){if(Ut+=An<<=1,0>(An-=We[we]))return 0;for(;0<We[we];--We[we])(_e=new ee).g=we,_e.value=$e[Oe++],B(oe,qe+Kt,De,Gt,_e),Kt=Q(Kt,we)}for(we=xe+1,De=2;15>=we;++we,De<<=1){if(Ut+=An<<=1,0>(An-=We[we]))return 0;for(;0<We[we];--We[we]){if(_e=new ee,(Kt&mt)!=_t){for(qe+=Gt,ct=1<<(_t=we)-xe;15>_t&&!(0>=(ct-=We[_t]));)++_t,ct<<=1;it+=Gt=1<<(ct=_t-xe),oe[pe+(_t=Kt&mt)].g=ct+xe,oe[pe+_t].value=qe-pe-_t}_e.g=we-xe,_e.value=$e[Oe++],B(oe,qe+(Kt>>xe),De,Gt,_e),Kt=Q(Kt,we)}}return Ut!=2*rt[15]-1?0:it})(_,k,F,U,Z,re)}function ee(){this.value=this.g=0}function fe(){this.value=this.g=0}function ue(){this.G=s(5,ee),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(gu,fe)}function K(_,k,F,U){e(_!=null),e(k!=null),e(2147483648>U),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=k,_.pa=F,_.Jd=k,_.Yc=F+U,_.Zc=4<=U?F+U-4+1:F,ke(_)}function le(_,k){for(var F=0;0<k--;)F|=Le(_,128)<<k;return F}function Te(_,k){var F=le(_,k);return Ce(_)?-F:F}function ge(_,k,F,U){var Z,re=0;for(e(_!=null),e(k!=null),e(4294967288>U),_.Sb=U,_.Ra=0,_.u=0,_.h=0,4<U&&(U=4),Z=0;Z<U;++Z)re+=k[F+Z]<<8*Z;_.Ra=re,_.bb=U,_.oa=k,_.pa=F}function Be(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Cl-8>>>0,++_.bb,_.u-=8;Y(_)&&(_.h=1,_.u=0)}function ie(_,k){if(e(0<=k),!_.h&&k<=Ja){var F=G(_)&ds[k];return _.u+=k,Be(_),F}return _.h=1,_.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(_){return _.Ra>>>(_.u&Cl-1)>>>0}function Y(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Cl}function se(_,k){_.u=k,_.h=Y(_)}function ye(_){_.u>=kl&&(e(_.u>=kl),Be(_))}function ke(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Ce(_){return le(_,1)}function Le(_,k){var F=_.Ca;0>_.b&&ke(_);var U=_.b,Z=F*k>>>8,re=(_.I>>>U>Z)+0;for(re?(F-=Z,_.I-=Z+1<<U>>>0):F=Z+1,U=F,Z=0;256<=U;)Z+=8,U>>=8;return U=7^Z+bc[U],_.b-=U,_.Ca=(F<<U)-1,re}function Re(_,k,F){_[k+0]=F>>24&255,_[k+1]=F>>16&255,_[k+2]=F>>8&255,_[k+3]=255&F}function ce(_,k){return _[k+0]|_[k+1]<<8}function dt(_,k){return ce(_,k)|_[k+2]<<16}function gt(_,k){return ce(_,k)|ce(_,k+2)<<16}function de(_,k){var F=1<<k;return e(_!=null),e(0<k),_.X=a(F),_.X==null?0:(_.Mb=32-k,_.Xa=k,1)}function Ne(_,k){e(_!=null),e(k!=null),e(_.Xa==k.Xa),r(k.X,0,_.X,0,1<<k.Xa)}function Pe(){this.X=[],this.Xa=this.Mb=0}function He(_,k,F,U){e(F!=null),e(U!=null);var Z=F[0],re=U[0];return Z==0&&(Z=(_*re+k/2)/k),re==0&&(re=(k*Z+_/2)/_),0>=Z||0>=re?0:(F[0]=Z,U[0]=re,1)}function Ue(_,k){return _+(1<<k)-1>>>k}function ft(_,k){return((4278255360&_)+(4278255360&k)>>>0&4278255360)+((16711935&_)+(16711935&k)>>>0&16711935)>>>0}function ot(_,k){O[k]=function(F,U,Z,re,oe,pe,xe){var _e;for(_e=0;_e<oe;++_e){var De=O[_](pe[xe+_e-1],Z,re+_e);pe[xe+_e]=ft(F[U+_e],De)}}}function St(){this.ud=this.hd=this.jd=0}function yt(_,k){return((4278124286&(_^k))>>>1)+(_&k)>>>0}function wt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Tt(_,k){return wt(_+(_-k+.5>>1))}function Bt(_,k,F){return Math.abs(k-F)-Math.abs(_-F)}function on(_,k,F,U,Z,re,oe){for(U=re[oe-1],F=0;F<Z;++F)re[oe+F]=U=ft(_[k+F],U)}function Wt(_,k,F,U,Z){var re;for(re=0;re<F;++re){var oe=_[k+re],pe=oe>>8&255,xe=16711935&(xe=(xe=16711935&oe)+((pe<<16)+pe));U[Z+re]=(4278255360&oe)+xe>>>0}}function Ct(_,k){k.jd=255&_,k.hd=_>>8&255,k.ud=_>>16&255}function Ge(_,k,F,U,Z,re){var oe;for(oe=0;oe<U;++oe){var pe=k[F+oe],xe=pe>>>8,_e=pe,De=255&(De=(De=pe>>>16)+((_.jd<<24>>24)*(xe<<24>>24)>>>5));_e=255&(_e=(_e+=(_.hd<<24>>24)*(xe<<24>>24)>>>5)+((_.ud<<24>>24)*(De<<24>>24)>>>5)),Z[re+oe]=(4278255360&pe)+(De<<16)+_e}}function et(_,k,F,U,Z){O[k]=function(re,oe,pe,xe,_e,De,$e,we,Oe){for(xe=$e;xe<we;++xe)for($e=0;$e<Oe;++$e)_e[De++]=Z(pe[U(re[oe++])])},O[_]=function(re,oe,pe,xe,_e,De,$e){var we=8>>re.b,Oe=re.Ea,qe=re.K[0],it=re.w;if(8>we)for(re=(1<<re.b)-1,it=(1<<we)-1;oe<pe;++oe){var We,rt=0;for(We=0;We<Oe;++We)We&re||(rt=U(xe[_e++])),De[$e++]=Z(qe[rt&it]),rt>>=we}else O["VP8LMapColor"+F](xe,_e,qe,it,De,$e,oe,pe,Oe)}}function Qt(_,k,F,U,Z){for(F=k+F;k<F;){var re=_[k++];U[Z++]=re>>16&255,U[Z++]=re>>8&255,U[Z++]=255&re}}function Dt(_,k,F,U,Z){for(F=k+F;k<F;){var re=_[k++];U[Z++]=re>>16&255,U[Z++]=re>>8&255,U[Z++]=255&re,U[Z++]=re>>24&255}}function Pt(_,k,F,U,Z){for(F=k+F;k<F;){var re=(oe=_[k++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;U[Z++]=re,U[Z++]=oe}}function pn(_,k,F,U,Z){for(F=k+F;k<F;){var re=(oe=_[k++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;U[Z++]=re,U[Z++]=oe}}function Hn(_,k,F,U,Z){for(F=k+F;k<F;){var re=_[k++];U[Z++]=255&re,U[Z++]=re>>8&255,U[Z++]=re>>16&255}}function ln(_,k,F,U,Z,re){if(re==0)for(F=k+F;k<F;)Re(U,((re=_[k++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else r(U,Z,_,k,F)}function yr(_,k){O[k][0]=O[_+"0"],O[k][1]=O[_+"1"],O[k][2]=O[_+"2"],O[k][3]=O[_+"3"],O[k][4]=O[_+"4"],O[k][5]=O[_+"5"],O[k][6]=O[_+"6"],O[k][7]=O[_+"7"],O[k][8]=O[_+"8"],O[k][9]=O[_+"9"],O[k][10]=O[_+"10"],O[k][11]=O[_+"11"],O[k][12]=O[_+"12"],O[k][13]=O[_+"13"],O[k][14]=O[_+"0"],O[k][15]=O[_+"0"]}function dn(_){return _==R0||_==zg||_==qh||_==jg}function vn(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vn,this.f.kb=new br,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $n(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bs(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function ea(_,k){var F=_.T,U=k.ba.f.RGBA,Z=U.eb,re=U.fb+_.ka*U.A,oe=xa[k.ba.S],pe=_.y,xe=_.O,_e=_.f,De=_.N,$e=_.ea,we=_.W,Oe=k.cc,qe=k.dc,it=k.Mc,We=k.Nc,rt=_.ka,ct=_.ka+_.T,_t=_.U,mt=_t+1>>1;for(rt==0?oe(pe,xe,null,null,_e,De,$e,we,_e,De,$e,we,Z,re,null,null,_t):(oe(k.ec,k.fc,pe,xe,Oe,qe,it,We,_e,De,$e,we,Z,re-U.A,Z,re,_t),++F);rt+2<ct;rt+=2)Oe=_e,qe=De,it=$e,We=we,De+=_.Rc,we+=_.Rc,re+=2*U.A,oe(pe,(xe+=2*_.fa)-_.fa,pe,xe,Oe,qe,it,We,_e,De,$e,we,Z,re-U.A,Z,re,_t);return xe+=_.fa,_.j+ct<_.o?(r(k.ec,k.fc,pe,xe,_t),r(k.cc,k.dc,_e,De,mt),r(k.Mc,k.Nc,$e,we,mt),F--):1&ct||oe(pe,xe,null,null,_e,De,$e,we,_e,De,$e,we,Z,re+U.A,null,null,_t),F}function oo(_,k,F){var U=_.F,Z=[_.J];if(U!=null){var re=_.U,oe=k.ba.S,pe=oe==N0||oe==qh;k=k.ba.f.RGBA;var xe=[0],_e=_.ka;xe[0]=_.T,_.Kb&&(_e==0?--xe[0]:(--_e,Z[0]-=_.width),_.j+_.ka+_.T==_.o&&(xe[0]=_.o-_.j-_e));var De=k.eb;_e=k.fb+_e*k.A,_=E0(U,Z[0],_.width,re,xe,De,_e+(pe?0:3),k.A),e(F==xe),_&&dn(oe)&&xf(De,_e,pe,re,xe,k.A)}return 0}function fs(_){var k=_.ma,F=k.ba.S,U=11>F,Z=F==La||F==po||F==N0||F==Gh||F==12||dn(F);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!yc(k.Oa,_,Z?11:12))return 0;if(Z&&dn(F)&&w0(),_.da)alert("todo:use_scaling");else{if(U){if(k.Ib=Bs,_.Kb){if(F=_.U+1>>1,k.memory=a(_.U+2*F),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+_.U,k.Mc=k.cc,k.Nc=k.dc+F,k.Ib=ea,w0()}}else alert("todo:EmitYUV");Z&&(k.Jb=oo,U&&qo())}if(U&&!_u){for(_=0;256>_;++_)ya[_]=89858*(_-128)+Xh>>bo,L5[_]=-22014*(_-128)+Xh,rb[_]=-45773*(_-128),Xg[_]=113618*(_-128)+Xh>>bo;for(_=_f;_<wu;++_)k=76283*(_-16)+Xh>>bo,I5[_-_f]=Zr(k,255),M5[_-_f]=Zr(k+8>>4,15);_u=1}return 1}function an(_){var k=_.ma,F=_.U,U=_.T;return e(!(1&_.ka)),0>=F||0>=U?0:(F=k.Ib(_,k),k.Jb!=null&&k.Jb(_,k,F),k.Dc+=F,1)}function Bo(_){_.ma.memory=null}function lo(_,k,F,U){return ie(_,8)!=47?0:(k[0]=ie(_,14)+1,F[0]=ie(_,14)+1,U[0]=ie(_,1),ie(_,3)!=0?0:!_.h)}function ha(_,k){if(4>_)return _+1;var F=_-2>>1;return(2+(1&_)<<F)+ie(k,F)+1}function Wa(_,k){return 120<k?k-120:1<=(F=((F=mo[k-1])>>4)*_+(8-(15&F)))?F:1;var F}function Pr(_,k,F){var U=G(F),Z=_[k+=255&U].g-8;return 0<Z&&(se(F,F.u+8),U=G(F),k+=_[k].value,k+=U&(1<<Z)-1),se(F,F.u+_[k].g),_[k].value}function ci(_,k,F){return F.g+=_.g,F.value+=_.value<<k>>>0,e(8>=F.g),_.g}function te(_,k,F){var U=_.xc;return e((k=U==0?0:_.vc[_.md*(F>>U)+(k>>U)])<_.Wb),_.Ya[k]}function Se(_,k,F,U){var Z=_.ab,re=_.c*k,oe=_.C;k=oe+k;var pe=F,xe=U;for(U=_.Ta,F=_.Ua;0<Z--;){var _e=_.gc[Z],De=oe,$e=k,we=pe,Oe=xe,qe=(xe=U,pe=F,_e.Ea);switch(e(De<$e),e($e<=_e.nc),_e.hc){case 2:yi(we,Oe,($e-De)*qe,xe,pe);break;case 0:var it=De,We=$e,rt=xe,ct=pe,_t=(Gt=_e).Ea;it==0&&(Uh(we,Oe,null,null,1,rt,ct),on(we,Oe+1,0,0,_t-1,rt,ct+1),Oe+=_t,ct+=_t,++it);for(var mt=1<<Gt.b,Kt=mt-1,Ut=Ue(_t,Gt.b),An=Gt.K,Gt=Gt.w+(it>>Gt.b)*Ut;it<We;){var Vn=An,Xr=Gt,Rn=1;for(Hh(we,Oe,rt,ct-_t,1,rt,ct);Rn<_t;){var Ht=(Rn&~Kt)+mt;Ht>_t&&(Ht=_t),(0,wc[Vn[Xr++]>>8&15])(we,Oe+ +Rn,rt,ct+Rn-_t,Ht-Rn,rt,ct+Rn),Rn=Ht}Oe+=_t,ct+=_t,++it&Kt||(Gt+=Ut)}$e!=_e.nc&&r(xe,pe-qe,xe,pe+($e-De-1)*qe,qe);break;case 1:for(qe=we,We=Oe,_t=(we=_e.Ea)-(ct=we&~(rt=(Oe=1<<_e.b)-1)),it=Ue(we,_e.b),mt=_e.K,_e=_e.w+(De>>_e.b)*it;De<$e;){for(Kt=mt,Ut=_e,An=new St,Gt=We+ct,Vn=We+we;We<Gt;)Ct(Kt[Ut++],An),zh(An,qe,We,Oe,xe,pe),We+=Oe,pe+=Oe;We<Vn&&(Ct(Kt[Ut++],An),zh(An,qe,We,_t,xe,pe),We+=_t,pe+=_t),++De&rt||(_e+=it)}break;case 3:if(we==xe&&Oe==pe&&0<_e.b){for(We=xe,we=qe=pe+($e-De)*qe-(ct=($e-De)*Ue(_e.Ea,_e.b)),Oe=xe,rt=pe,it=[],ct=(_t=ct)-1;0<=ct;--ct)it[ct]=Oe[rt+ct];for(ct=_t-1;0<=ct;--ct)We[we+ct]=it[ct];Pg(_e,De,$e,xe,qe,xe,pe)}else Pg(_e,De,$e,we,Oe,xe,pe)}pe=U,xe=F}xe!=F&&r(U,F,pe,xe,re)}function me(_,k){var F=_.V,U=_.Ba+_.c*_.C,Z=k-_.C;if(e(k<=_.l.o),e(16>=Z),0<Z){var re=_.l,oe=_.Ta,pe=_.Ua,xe=re.width;if(Se(_,Z,F,U),Z=pe=[pe],e((F=_.C)<(U=k)),e(re.v<re.va),U>re.o&&(U=re.o),F<re.j){var _e=re.j-F;F=re.j,Z[0]+=_e*xe}if(F>=U?F=0:(Z[0]+=4*re.v,re.ka=F-re.j,re.U=re.va-re.v,re.T=U-F,F=1),F){if(pe=pe[0],11>(F=_.ca).S){var De=F.f.RGBA,$e=(U=F.S,Z=re.U,re=re.T,_e=De.eb,De.A),we=re;for(De=De.fb+_.Ma*De.A;0<we--;){var Oe=oe,qe=pe,it=Z,We=_e,rt=De;switch(U){case Ug:jh(Oe,qe,it,We,rt);break;case La:_c(Oe,qe,it,We,rt);break;case R0:_c(Oe,qe,it,We,rt),xf(We,rt,0,it,1,0);break;case Hg:mf(Oe,qe,it,We,rt);break;case po:ln(Oe,qe,it,We,rt,1);break;case zg:ln(Oe,qe,it,We,rt,1),xf(We,rt,0,it,1,0);break;case N0:ln(Oe,qe,it,We,rt,0);break;case qh:ln(Oe,qe,it,We,rt,0),xf(We,rt,1,it,1,0);break;case Gh:Sc(Oe,qe,it,We,rt);break;case jg:Sc(Oe,qe,it,We,rt),ho(We,rt,it,1,0);break;case mu:Ll(Oe,qe,it,We,rt);break;default:e(0)}pe+=xe,De+=$e}_.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=F.height)}}_.C=k,e(_.C<=_.i)}function ve(_){var k;if(0<_.ua)return 0;for(k=0;k<_.Wb;++k){var F=_.Ya[k].G,U=_.Ya[k].H;if(0<F[1][U[1]+0].g||0<F[2][U[2]+0].g||0<F[3][U[3]+0].g)return 0}return 1}function be(_,k,F,U,Z,re){if(_.Z!=0){var oe=_.qd,pe=_.rd;for(e(Tc[_.Z]!=null);k<F;++k)Tc[_.Z](oe,pe,U,Z,U,Z,re),oe=U,pe=Z,Z+=re;_.qd=oe,_.rd=pe}}function Ee(_,k){var F=_.l.ma,U=F.Z==0||F.Z==1?_.l.j:_.C;if(U=_.C<U?U:_.C,e(k<=_.l.o),k>U){var Z=_.l.width,re=F.ca,oe=F.tb+Z*U,pe=_.V,xe=_.Ba+_.c*U,_e=_.gc;e(_.ab==1),e(_e[0].hc==3),Rl(_e[0],U,k,pe,xe,re,oe),be(F,U,k,re,oe,Z)}_.C=_.Ma=k}function Ve(_,k,F,U,Z,re,oe){var pe=_.$/U,xe=_.$%U,_e=_.m,De=_.s,$e=F+_.$,we=$e;Z=F+U*Z;var Oe=F+U*re,qe=280+De.ua,it=_.Pb?pe:16777216,We=0<De.ua?De.Wa:null,rt=De.wc,ct=$e<Oe?te(De,xe,pe):null;e(_.C<re),e(Oe<=Z);var _t=!1;e:for(;;){for(;_t||$e<Oe;){var mt=0;if(pe>=it){var Kt=$e-F;e((it=_).Pb),it.wd=it.m,it.xd=Kt,0<it.s.ua&&Ne(it.s.Wa,it.s.vb),it=pe+vu}if(xe&rt||(ct=te(De,xe,pe)),e(ct!=null),ct.Qb&&(k[$e]=ct.qb,_t=!0),!_t)if(ye(_e),ct.jc){mt=_e,Kt=k;var Ut=$e,An=ct.pd[G(mt)&gu-1];e(ct.jc),256>An.g?(se(mt,mt.u+An.g),Kt[Ut]=An.value,mt=0):(se(mt,mt.u+An.g-256),e(256<=An.value),mt=An.value),mt==0&&(_t=!0)}else mt=Pr(ct.G[0],ct.H[0],_e);if(_e.h)break;if(_t||256>mt){if(!_t)if(ct.nd)k[$e]=(ct.qb|mt<<8)>>>0;else{if(ye(_e),_t=Pr(ct.G[1],ct.H[1],_e),ye(_e),Kt=Pr(ct.G[2],ct.H[2],_e),Ut=Pr(ct.G[3],ct.H[3],_e),_e.h)break;k[$e]=(Ut<<24|_t<<16|mt<<8|Kt)>>>0}if(_t=!1,++$e,++xe>=U&&(xe=0,++pe,oe!=null&&pe<=re&&!(pe%16)&&oe(_,pe),We!=null))for(;we<$e;)mt=k[we++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt}else if(280>mt){if(mt=ha(mt-256,_e),Kt=Pr(ct.G[4],ct.H[4],_e),ye(_e),Kt=Wa(U,Kt=ha(Kt,_e)),_e.h)break;if($e-F<Kt||Z-$e<mt)break e;for(Ut=0;Ut<mt;++Ut)k[$e+Ut]=k[$e+Ut-Kt];for($e+=mt,xe+=mt;xe>=U;)xe-=U,++pe,oe!=null&&pe<=re&&!(pe%16)&&oe(_,pe);if(e($e<=Z),xe&rt&&(ct=te(De,xe,pe)),We!=null)for(;we<$e;)mt=k[we++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt}else{if(!(mt<qe))break e;for(_t=mt-280,e(We!=null);we<$e;)mt=k[we++],We.X[(506832829*mt&4294967295)>>>We.Mb]=mt;mt=$e,e(!(_t>>>(Kt=We).Xa)),k[mt]=Kt.X[_t],_t=!0}_t||e(_e.h==Y(_e))}if(_.Pb&&_e.h&&$e<Z)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Ne(_.s.vb,_.s.Wa);else{if(_e.h)break e;oe!=null&&oe(_,pe>re?re:pe),_.a=0,_.$=$e-F}return 1}return _.a=3,0}function nt(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var k=_.Wa;k!=null&&(k.X=null),_.vb=null,e(_!=null)}function Xe(){var _=new bn;return _==null?null:(_.a=0,_.xb=wv,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),yi=Wt,zh=Ge,jh=Qt,_c=Dt,Sc=Pt,Ll=pn,mf=Hn,O.VP8LMapColor32b=Nl,O.VP8LMapColor8b=ga,_)}function Ye(_,k,F,U,Z){var re=1,oe=[_],pe=[k],xe=U.m,_e=U.s,De=null,$e=0;e:for(;;){if(F)for(;re&&ie(xe,1);){var we=oe,Oe=pe,qe=U,it=1,We=qe.m,rt=qe.gc[qe.ab],ct=ie(We,2);if(qe.Oc&1<<ct)re=0;else{switch(qe.Oc|=1<<ct,rt.hc=ct,rt.Ea=we[0],rt.nc=Oe[0],rt.K=[null],++qe.ab,e(4>=qe.ab),ct){case 0:case 1:rt.b=ie(We,3)+2,it=Ye(Ue(rt.Ea,rt.b),Ue(rt.nc,rt.b),0,qe,rt.K),rt.K=rt.K[0];break;case 3:var _t,mt=ie(We,8)+1,Kt=16<mt?0:4<mt?1:2<mt?2:3;if(we[0]=Ue(rt.Ea,Kt),rt.b=Kt,_t=it=Ye(mt,1,0,qe,rt.K)){var Ut,An=mt,Gt=rt,Vn=1<<(8>>Gt.b),Xr=a(Vn);if(Xr==null)_t=0;else{var Rn=Gt.K[0],Ht=Gt.w;for(Xr[0]=Gt.K[0][0],Ut=1;Ut<1*An;++Ut)Xr[Ut]=ft(Rn[Ht+Ut],Xr[Ut-1]);for(;Ut<4*Vn;++Ut)Xr[Ut]=0;Gt.K[0]=null,Gt.K[0]=Xr,_t=1}}it=_t;break;case 2:break;default:e(0)}re=it}}if(oe=oe[0],pe=pe[0],re&&ie(xe,1)&&!(re=1<=($e=ie(xe,4))&&11>=$e)){U.a=3;break e}var Lt;if(Lt=re)t:{var ei,mn,Mn,_r=U,Gi=oe,ba=pe,Ur=$e,Ri=F,Ia=_r.m,Li=_r.s,zn=[null],ar=1,ti=0,ur=vo[Ur];n:for(;;){if(Ri&&ie(Ia,1)){var qi=ie(Ia,3)+2,ni=Ue(Gi,qi),sr=Ue(ba,qi),_i=ni*sr;if(!Ye(ni,sr,0,_r,zn))break n;for(zn=zn[0],Li.xc=qi,ei=0;ei<_i;++ei){var Sr=zn[ei]>>8&65535;zn[ei]=Sr,Sr>=ar&&(ar=Sr+1)}}if(Ia.h)break n;for(mn=0;5>mn;++mn){var Ii=bf[mn];!mn&&0<Ur&&(Ii+=1<<Ur),ti<Ii&&(ti=Ii)}var Mi=s(ar*ur,ee),Cr=ar,rr=s(Cr,ue);if(rr==null)var Ma=null;else e(65536>=Cr),Ma=rr;var fi=a(ti);if(Ma==null||fi==null||Mi==null){_r.a=1;break n}var cn=Mi;for(ei=Mn=0;ei<ar;++ei){var un=Ma[ei],or=un.G,ps=un.H,wo=0,Qa=1,Di=0;for(mn=0;5>mn;++mn){Ii=bf[mn],or[mn]=cn,ps[mn]=Mn,!mn&&0<Ur&&(Ii+=1<<Ur);i:{var Su,Au=Ii,$g=_r,Hr=fi,Sv=cn,Av=Mn,Kg=0,Cc=$g.m,D5=ie(Cc,1);if(i(Hr,0,0,Au),D5){var Ev=ie(Cc,1)+1,Tv=ie(Cc,1),Jg=ie(Cc,Tv==0?1:8);Hr[Jg]=1,Ev==2&&(Hr[Jg=ie(Cc,8)]=1);var ra=1}else{var hi=a(19),D0=ie(Cc,4)+4;if(19<D0){$g.a=3;var Eu=0;break i}for(Su=0;Su<D0;++Su)hi[L0[Su]]=ie(Cc,3);var $h=void 0,Sf=void 0,Dl=$g,Zg=hi,Kh=Au,Qg=Hr,em=0,kc=Dl.m,Cv=8,kv=s(128,ee);r:for(;j(kv,0,7,Zg,19);){if(ie(kc,1)){var ib=2+2*ie(kc,3);if(($h=2+ie(kc,ib))>Kh)break r}else $h=Kh;for(Sf=0;Sf<Kh&&$h--;){ye(kc);var Nv=kv[0+(127&G(kc))];se(kc,kc.u+Nv.g);var Tu=Nv.value;if(16>Tu)Qg[Sf++]=Tu,Tu!=0&&(Cv=Tu);else{var ab=Tu==16,sb=Tu-16,ob=Vh[sb],Rv=ie(kc,go[sb])+ob;if(Sf+Rv>Kh)break r;for(var lb=ab?Cv:0;0<Rv--;)Qg[Sf++]=lb}}em=1;break r}em||(Dl.a=3),ra=em}(ra=ra&&!Cc.h)&&(Kg=j(Sv,Av,8,Hr,Au)),ra&&Kg!=0?Eu=Kg:($g.a=3,Eu=0)}if(Eu==0)break n;if(Qa&&Gg[mn]==1&&(Qa=cn[Mn].g==0),wo+=cn[Mn].g,Mn+=Eu,3>=mn){var Af,tm=fi[0];for(Af=1;Af<Ii;++Af)fi[Af]>tm&&(tm=fi[Af]);Di+=tm}}if(un.nd=Qa,un.Qb=0,Qa&&(un.qb=(or[3][ps[3]+0].value<<24|or[1][ps[1]+0].value<<16|or[2][ps[2]+0].value)>>>0,wo==0&&256>or[0][ps[0]+0].value&&(un.Qb=1,un.qb+=or[0][ps[0]+0].value<<8)),un.jc=!un.Qb&&6>Di,un.jc){var F0,Fl=un;for(F0=0;F0<gu;++F0){var Nc=F0,Rc=Fl.pd[Nc],nm=Fl.G[0][Fl.H[0]+Nc];256<=nm.value?(Rc.g=nm.g+256,Rc.value=nm.value):(Rc.g=0,Rc.value=0,Nc>>=ci(nm,8,Rc),Nc>>=ci(Fl.G[1][Fl.H[1]+Nc],16,Rc),Nc>>=ci(Fl.G[2][Fl.H[2]+Nc],0,Rc),ci(Fl.G[3][Fl.H[3]+Nc],24,Rc))}}}Li.vc=zn,Li.Wb=ar,Li.Ya=Ma,Li.yc=Mi,Lt=1;break t}Lt=0}if(!(re=Lt)){U.a=3;break e}if(0<$e){if(_e.ua=1<<$e,!de(_e.Wa,$e)){U.a=1,re=0;break e}}else _e.ua=0;var rm=U,Ef=oe,cb=pe,Jh=rm.s,Zh=Jh.xc;if(rm.c=Ef,rm.i=cb,Jh.md=Ue(Ef,Zh),Jh.wc=Zh==0?-1:(1<<Zh)-1,F){U.xb=xu;break e}if((De=a(oe*pe))==null){U.a=1,re=0;break e}re=(re=Ve(U,De,0,oe,pe,pe,null))&&!xe.h;break e}return re?(Z!=null?Z[0]=De:(e(De==null),e(F)),U.$=0,F||nt(_e)):nt(_e),re}function Ke(_,k){var F=_.c*_.i,U=F+k+16*k;return e(_.c<=k),_.V=a(U),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+F+k,1)}function bt(_,k){var F=_.C,U=k-F,Z=_.V,re=_.Ba+_.c*F;for(e(k<=_.l.o);0<U;){var oe=16<U?16:U,pe=_.l.ma,xe=_.l.width,_e=xe*oe,De=pe.ca,$e=pe.tb+xe*F,we=_.Ta,Oe=_.Ua;Se(_,oe,Z,re),qs(we,Oe,De,$e,_e),be(pe,F,F+oe,De,$e,xe),U-=oe,Z+=oe*_.c,F+=oe}e(F==k),_.C=_.Ma=k}function Et(){this.ub=this.yd=this.td=this.Rb=0}function It(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function At(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Nt(){this.Yb=(function(){var _=[];return(function k(F,U,Z){for(var re=Z[U],oe=0;oe<re&&(F.push(Z.length>U+1?[]:0),!(Z.length<U+1));oe++)k(F[oe],U+1,Z)})(_,0,[3,11]),_})()}function jt(){this.jb=a(3),this.Wc=o([4,8],Nt),this.Xc=o([4,17],Nt)}function wr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function Xa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ho(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new Uo),this.aa=0,this.l=new oc}function Us(){this.y=a(16),this.f=a(8),this.ea=a(8)}function uu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Et,this.Kc=new It,this.ed=new wr,this.Qa=new At,this.Ic=this.$c=this.Aa=0,this.D=new Ho,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,Xa),this.Pa=new jt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Us),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uo),this.L=this.aa=0,this.gd=o([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(_,k){return 0>_?0:_>k?k:_}function oc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zo(){var _=new uu;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Vs||(Vs=fu)),_}function lr(_,k,F){return _.a==0&&(_.a=k,_.sc=F,_.cb=0),0}function f0(_,k,F){return 3<=F&&_[k+0]==157&&_[k+1]==1&&_[k+2]==42}function _l(_,k){if(_==null)return 0;if(_.a=0,_.sc="OK",k==null)return lr(_,2,"null VP8Io passed to VP8GetHeaders()");var F=k.data,U=k.w,Z=k.ha;if(4>Z)return lr(_,7,"Truncated header.");var re=F[U+0]|F[U+1]<<8|F[U+2]<<16,oe=_.Od;if(oe.Rb=!(1&re),oe.td=re>>1&7,oe.yd=re>>4&1,oe.ub=re>>5,3<oe.td)return lr(_,3,"Incorrect keyframe parameters.");if(!oe.yd)return lr(_,4,"Frame not displayable.");U+=3,Z-=3;var pe=_.Kc;if(oe.Rb){if(7>Z)return lr(_,7,"cannot parse picture header");if(!f0(F,U,Z))return lr(_,3,"Bad code word");pe.c=16383&(F[U+4]<<8|F[U+3]),pe.Td=F[U+4]>>6,pe.i=16383&(F[U+6]<<8|F[U+5]),pe.Ud=F[U+6]>>6,U+=7,Z-=7,_.za=pe.c+15>>4,_.Ub=pe.i+15>>4,k.width=pe.c,k.height=pe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((re=_.Pa).jb,0,255,re.jb.length),e((re=_.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(oe.ub>Z)return lr(_,7,"bad partition length");K(re=_.m,F,U,oe.ub),U+=oe.ub,Z-=oe.ub,oe.Rb&&(pe.Ld=Ce(re),pe.Kd=Ce(re)),pe=_.Qa;var xe,_e=_.Pa;if(e(re!=null),e(pe!=null),pe.Cb=Ce(re),pe.Cb){if(pe.Bb=Ce(re),Ce(re)){for(pe.Fb=Ce(re),xe=0;4>xe;++xe)pe.Zb[xe]=Ce(re)?Te(re,7):0;for(xe=0;4>xe;++xe)pe.Lb[xe]=Ce(re)?Te(re,6):0}if(pe.Bb)for(xe=0;3>xe;++xe)_e.jb[xe]=Ce(re)?le(re,8):255}else pe.Bb=0;if(re.Ka)return lr(_,3,"cannot parse segment header");if((pe=_.ed).zd=Ce(re),pe.Tb=le(re,6),pe.wb=le(re,3),pe.Pc=Ce(re),pe.Pc&&Ce(re)){for(_e=0;4>_e;++_e)Ce(re)&&(pe.vd[_e]=Te(re,6));for(_e=0;4>_e;++_e)Ce(re)&&(pe.od[_e]=Te(re,6))}if(_.L=pe.Tb==0?0:pe.zd?1:2,re.Ka)return lr(_,3,"cannot parse filter header");var De=Z;if(Z=xe=U,U=xe+De,pe=De,_.Xb=(1<<le(_.m,2))-1,De<3*(_e=_.Xb))F=7;else{for(xe+=3*_e,pe-=3*_e,De=0;De<_e;++De){var $e=F[Z+0]|F[Z+1]<<8|F[Z+2]<<16;$e>pe&&($e=pe),K(_.Jc[+De],F,xe,$e),xe+=$e,pe-=$e,Z+=3}K(_.Jc[+_e],F,xe,pe),F=xe<U?0:5}if(F!=0)return lr(_,F,"cannot parse partitions");for(F=le(xe=_.m,7),Z=Ce(xe)?Te(xe,4):0,U=Ce(xe)?Te(xe,4):0,pe=Ce(xe)?Te(xe,4):0,_e=Ce(xe)?Te(xe,4):0,xe=Ce(xe)?Te(xe,4):0,De=_.Qa,$e=0;4>$e;++$e){if(De.Cb){var we=De.Zb[$e];De.Fb||(we+=F)}else{if(0<$e){_.pb[$e]=_.pb[0];continue}we=F}var Oe=_.pb[$e];Oe.Sc[0]=xo[Zr(we+Z,127)],Oe.Sc[1]=yo[Zr(we+0,127)],Oe.Eb[0]=2*xo[Zr(we+U,127)],Oe.Eb[1]=101581*yo[Zr(we+pe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=xo[Zr(we+_e,117)],Oe.Qc[1]=yo[Zr(we+xe,127)],Oe.lc=we+xe}if(!oe.Rb)return lr(_,4,"Not a key frame.");for(Ce(re),oe=_.Pa,F=0;4>F;++F){for(Z=0;8>Z;++Z)for(U=0;3>U;++U)for(pe=0;11>pe;++pe)_e=Le(re,Wr[F][Z][U][pe])?le(re,8):nb[F][Z][U][pe],oe.Wc[F][Z].Yb[U][pe]=_e;for(Z=0;17>Z;++Z)oe.Xc[F][Z]=oe.Wc[F][Kn[Z]]}return _.kc=Ce(re),_.kc&&(_.Bd=le(re,8)),_.cb=1}function fu(_,k,F,U,Z,re,oe){var pe=k[Z].Yb[F];for(F=0;16>Z;++Z){if(!Le(_,pe[F+0]))return Z;for(;!Le(_,pe[F+1]);)if(pe=k[++Z].Yb[0],F=0,Z==16)return 16;var xe=k[Z+1].Yb;if(Le(_,pe[F+2])){var _e=_,De=0;if(Le(_e,(we=pe)[($e=F)+3]))if(Le(_e,we[$e+6])){for(pe=0,$e=2*(De=Le(_e,we[$e+8]))+(we=Le(_e,we[$e+9+De])),De=0,we=tb[$e];we[pe];++pe)De+=De+Le(_e,we[pe]);De+=3+(8<<$e)}else Le(_e,we[$e+7])?(De=7+2*Le(_e,165),De+=Le(_e,145)):De=5+Le(_e,159);else De=Le(_e,we[$e+4])?3+Le(_e,we[$e+5]):2;pe=xe[2]}else De=1,pe=xe[1];xe=oe+bv[Z],0>(_e=_).b&&ke(_e);var $e,we=_e.b,Oe=($e=_e.Ca>>1)-(_e.I>>we)>>31;--_e.b,_e.Ca+=Oe,_e.Ca|=1,_e.I-=($e+1&Oe)<<we,re[xe]=((De^Oe)-Oe)*U[(0<Z)+0]}return 16}function h0(_){var k=_.rb[_.sb-1];k.la=0,k.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Ya(_,k,F,U,Z){Z=_[k+F+32*U]+(Z>>3),_[k+F+32*U]=-256&Z?0>Z?0:255:Z}function zi(_,k,F,U,Z,re){Ya(_,k,0,F,U+Z),Ya(_,k,1,F,U+re),Ya(_,k,2,F,U-re),Ya(_,k,3,F,U-Z)}function ki(_){return(20091*_>>16)+_}function Ih(_,k,F,U){var Z,re=0,oe=a(16);for(Z=0;4>Z;++Z){var pe=_[k+0]+_[k+8],xe=_[k+0]-_[k+8],_e=(35468*_[k+4]>>16)-ki(_[k+12]),De=ki(_[k+4])+(35468*_[k+12]>>16);oe[re+0]=pe+De,oe[re+1]=xe+_e,oe[re+2]=xe-_e,oe[re+3]=pe-De,re+=4,k++}for(Z=re=0;4>Z;++Z)pe=(_=oe[re+0]+4)+oe[re+8],xe=_-oe[re+8],_e=(35468*oe[re+4]>>16)-ki(oe[re+12]),Ya(F,U,0,0,pe+(De=ki(oe[re+4])+(35468*oe[re+12]>>16))),Ya(F,U,1,0,xe+_e),Ya(F,U,2,0,xe-_e),Ya(F,U,3,0,pe-De),re++,U+=32}function Cg(_,k,F,U){var Z=_[k+0]+4,re=35468*_[k+4]>>16,oe=ki(_[k+4]),pe=35468*_[k+1]>>16;zi(F,U,0,Z+oe,_=ki(_[k+1]),pe),zi(F,U,1,Z+re,_,pe),zi(F,U,2,Z-re,_,pe),zi(F,U,3,Z-oe,_,pe)}function d0(_,k,F,U,Z){Ih(_,k,F,U),Z&&Ih(_,k+16,F,U+4)}function $a(_,k,F,U){Ac(_,k+0,F,U,1),Ac(_,k+32,F,U+128,1)}function p0(_,k,F,U){var Z;for(_=_[k+0]+4,Z=0;4>Z;++Z)for(k=0;4>k;++k)Ya(F,U,k,Z,_)}function g0(_,k,F,U){_[k+0]&&cr(_,k+0,F,U),_[k+16]&&cr(_,k+16,F,U+4),_[k+32]&&cr(_,k+32,F,U+128),_[k+48]&&cr(_,k+48,F,U+128+4)}function jo(_,k,F,U){var Z,re=a(16);for(Z=0;4>Z;++Z){var oe=_[k+0+Z]+_[k+12+Z],pe=_[k+4+Z]+_[k+8+Z],xe=_[k+4+Z]-_[k+8+Z],_e=_[k+0+Z]-_[k+12+Z];re[0+Z]=oe+pe,re[8+Z]=oe-pe,re[4+Z]=_e+xe,re[12+Z]=_e-xe}for(Z=0;4>Z;++Z)oe=(_=re[0+4*Z]+3)+re[3+4*Z],pe=re[1+4*Z]+re[2+4*Z],xe=re[1+4*Z]-re[2+4*Z],_e=_-re[3+4*Z],F[U+0]=oe+pe>>3,F[U+16]=_e+xe>>3,F[U+32]=oe-pe>>3,F[U+48]=_e-xe>>3,U+=64}function cf(_,k,F){var U,Z=k-32,re=Ra,oe=255-_[Z-1];for(U=0;U<F;++U){var pe,xe=re,_e=oe+_[k-1];for(pe=0;pe<F;++pe)_[k+pe]=xe[_e+_[Z+pe]];k+=32}}function kg(_,k){cf(_,k,4)}function Ng(_,k){cf(_,k,8)}function m0(_,k){cf(_,k,16)}function v0(_,k){var F;for(F=0;16>F;++F)r(_,k+32*F,_,k-32,16)}function Rg(_,k){var F;for(F=16;0<F;--F)i(_,k,_[k-1],16),k+=32}function hs(_,k,F){var U;for(U=0;16>U;++U)i(k,F+32*U,_,16)}function Go(_,k){var F,U=16;for(F=0;16>F;++F)U+=_[k-1+32*F]+_[k+F-32];hs(U>>5,_,k)}function lc(_,k){var F,U=8;for(F=0;16>F;++F)U+=_[k-1+32*F];hs(U>>4,_,k)}function uf(_,k){var F,U=8;for(F=0;16>F;++F)U+=_[k+F-32];hs(U>>4,_,k)}function hu(_,k){hs(128,_,k)}function gn(_,k,F){return _+2*k+F+2>>2}function Lg(_,k){var F,U=k-32;for(U=new Uint8Array([gn(_[U-1],_[U+0],_[U+1]),gn(_[U+0],_[U+1],_[U+2]),gn(_[U+1],_[U+2],_[U+3]),gn(_[U+2],_[U+3],_[U+4])]),F=0;4>F;++F)r(_,k+32*F,U,0,U.length)}function x0(_,k){var F=_[k-1],U=_[k-1+32],Z=_[k-1+64],re=_[k-1+96];Re(_,k+0,16843009*gn(_[k-1-32],F,U)),Re(_,k+32,16843009*gn(F,U,Z)),Re(_,k+64,16843009*gn(U,Z,re)),Re(_,k+96,16843009*gn(Z,re,re))}function Ig(_,k){var F,U=4;for(F=0;4>F;++F)U+=_[k+F-32]+_[k-1+32*F];for(U>>=3,F=0;4>F;++F)i(_,k+32*F,U,4)}function Hs(_,k){var F=_[k-1+0],U=_[k-1+32],Z=_[k-1+64],re=_[k-1-32],oe=_[k+0-32],pe=_[k+1-32],xe=_[k+2-32],_e=_[k+3-32];_[k+0+96]=gn(U,Z,_[k-1+96]),_[k+1+96]=_[k+0+64]=gn(F,U,Z),_[k+2+96]=_[k+1+64]=_[k+0+32]=gn(re,F,U),_[k+3+96]=_[k+2+64]=_[k+1+32]=_[k+0+0]=gn(oe,re,F),_[k+3+64]=_[k+2+32]=_[k+1+0]=gn(pe,oe,re),_[k+3+32]=_[k+2+0]=gn(xe,pe,oe),_[k+3+0]=gn(_e,xe,pe)}function da(_,k){var F=_[k+1-32],U=_[k+2-32],Z=_[k+3-32],re=_[k+4-32],oe=_[k+5-32],pe=_[k+6-32],xe=_[k+7-32];_[k+0+0]=gn(_[k+0-32],F,U),_[k+1+0]=_[k+0+32]=gn(F,U,Z),_[k+2+0]=_[k+1+32]=_[k+0+64]=gn(U,Z,re),_[k+3+0]=_[k+2+32]=_[k+1+64]=_[k+0+96]=gn(Z,re,oe),_[k+3+32]=_[k+2+64]=_[k+1+96]=gn(re,oe,pe),_[k+3+64]=_[k+2+96]=gn(oe,pe,xe),_[k+3+96]=gn(pe,xe,xe)}function y0(_,k){var F=_[k-1+0],U=_[k-1+32],Z=_[k-1+64],re=_[k-1-32],oe=_[k+0-32],pe=_[k+1-32],xe=_[k+2-32],_e=_[k+3-32];_[k+0+0]=_[k+1+64]=re+oe+1>>1,_[k+1+0]=_[k+2+64]=oe+pe+1>>1,_[k+2+0]=_[k+3+64]=pe+xe+1>>1,_[k+3+0]=xe+_e+1>>1,_[k+0+96]=gn(Z,U,F),_[k+0+64]=gn(U,F,re),_[k+0+32]=_[k+1+96]=gn(F,re,oe),_[k+1+32]=_[k+2+96]=gn(re,oe,pe),_[k+2+32]=_[k+3+96]=gn(oe,pe,xe),_[k+3+32]=gn(pe,xe,_e)}function ff(_,k){var F=_[k+0-32],U=_[k+1-32],Z=_[k+2-32],re=_[k+3-32],oe=_[k+4-32],pe=_[k+5-32],xe=_[k+6-32],_e=_[k+7-32];_[k+0+0]=F+U+1>>1,_[k+1+0]=_[k+0+64]=U+Z+1>>1,_[k+2+0]=_[k+1+64]=Z+re+1>>1,_[k+3+0]=_[k+2+64]=re+oe+1>>1,_[k+0+32]=gn(F,U,Z),_[k+1+32]=_[k+0+96]=gn(U,Z,re),_[k+2+32]=_[k+1+96]=gn(Z,re,oe),_[k+3+32]=_[k+2+96]=gn(re,oe,pe),_[k+3+64]=gn(oe,pe,xe),_[k+3+96]=gn(pe,xe,_e)}function zs(_,k){var F=_[k-1+0],U=_[k-1+32],Z=_[k-1+64],re=_[k-1+96];_[k+0+0]=F+U+1>>1,_[k+2+0]=_[k+0+32]=U+Z+1>>1,_[k+2+32]=_[k+0+64]=Z+re+1>>1,_[k+1+0]=gn(F,U,Z),_[k+3+0]=_[k+1+32]=gn(U,Z,re),_[k+3+32]=_[k+1+64]=gn(Z,re,re),_[k+3+64]=_[k+2+64]=_[k+0+96]=_[k+1+96]=_[k+2+96]=_[k+3+96]=re}function hf(_,k){var F=_[k-1+0],U=_[k-1+32],Z=_[k-1+64],re=_[k-1+96],oe=_[k-1-32],pe=_[k+0-32],xe=_[k+1-32],_e=_[k+2-32];_[k+0+0]=_[k+2+32]=F+oe+1>>1,_[k+0+32]=_[k+2+64]=U+F+1>>1,_[k+0+64]=_[k+2+96]=Z+U+1>>1,_[k+0+96]=re+Z+1>>1,_[k+3+0]=gn(pe,xe,_e),_[k+2+0]=gn(oe,pe,xe),_[k+1+0]=_[k+3+32]=gn(F,oe,pe),_[k+1+32]=_[k+3+64]=gn(U,F,oe),_[k+1+64]=_[k+3+96]=gn(Z,U,F),_[k+1+96]=gn(re,Z,U)}function Sl(_,k){var F;for(F=0;8>F;++F)r(_,k+32*F,_,k-32,8)}function Mg(_,k){var F;for(F=0;8>F;++F)i(_,k,_[k-1],8),k+=32}function co(_,k,F){var U;for(U=0;8>U;++U)i(k,F+32*U,_,8)}function Mh(_,k){var F,U=8;for(F=0;8>F;++F)U+=_[k+F-32]+_[k-1+32*F];co(U>>4,_,k)}function Dh(_,k){var F,U=4;for(F=0;8>F;++F)U+=_[k+F-32];co(U>>3,_,k)}function ta(_,k){var F,U=4;for(F=0;8>F;++F)U+=_[k-1+32*F];co(U>>3,_,k)}function Al(_,k){co(128,_,k)}function uo(_,k,F){var U=_[k-F],Z=_[k+0],re=3*(Z-U)+Ec[1020+_[k-2*F]-_[k+F]],oe=k0[112+(re+4>>3)];_[k-F]=Ra[255+U+k0[112+(re+3>>3)]],_[k+0]=Ra[255+Z-oe]}function cc(_,k,F,U){var Z=_[k+0],re=_[k+F];return ma[255+_[k-2*F]-_[k-F]]>U||ma[255+re-Z]>U}function Fh(_,k,F,U){return 4*ma[255+_[k-F]-_[k+0]]+ma[255+_[k-2*F]-_[k+F]]<=U}function df(_,k,F,U,Z){var re=_[k-3*F],oe=_[k-2*F],pe=_[k-F],xe=_[k+0],_e=_[k+F],De=_[k+2*F],$e=_[k+3*F];return 4*ma[255+pe-xe]+ma[255+oe-_e]>U?0:ma[255+_[k-4*F]-re]<=Z&&ma[255+re-oe]<=Z&&ma[255+oe-pe]<=Z&&ma[255+$e-De]<=Z&&ma[255+De-_e]<=Z&&ma[255+_e-xe]<=Z}function uc(_,k,F,U){var Z=2*U+1;for(U=0;16>U;++U)Fh(_,k+U,F,Z)&&uo(_,k+U,F)}function fc(_,k,F,U){var Z=2*U+1;for(U=0;16>U;++U)Fh(_,k+U*F,1,Z)&&uo(_,k+U*F,1)}function pf(_,k,F,U){var Z;for(Z=3;0<Z;--Z)uc(_,k+=4*F,F,U)}function b0(_,k,F,U){var Z;for(Z=3;0<Z;--Z)fc(_,k+=4,F,U)}function hc(_,k,F,U,Z,re,oe,pe){for(re=2*re+1;0<Z--;){if(df(_,k,F,re,oe))if(cc(_,k,F,pe))uo(_,k,F);else{var xe=_,_e=k,De=F,$e=xe[_e-2*De],we=xe[_e-De],Oe=xe[_e+0],qe=xe[_e+De],it=xe[_e+2*De],We=27*(ct=Ec[1020+3*(Oe-we)+Ec[1020+$e-qe]])+63>>7,rt=18*ct+63>>7,ct=9*ct+63>>7;xe[_e-3*De]=Ra[255+xe[_e-3*De]+ct],xe[_e-2*De]=Ra[255+$e+rt],xe[_e-De]=Ra[255+we+We],xe[_e+0]=Ra[255+Oe-We],xe[_e+De]=Ra[255+qe-rt],xe[_e+2*De]=Ra[255+it-ct]}k+=U}}function dc(_,k,F,U,Z,re,oe,pe){for(re=2*re+1;0<Z--;){if(df(_,k,F,re,oe))if(cc(_,k,F,pe))uo(_,k,F);else{var xe=_,_e=k,De=F,$e=xe[_e-De],we=xe[_e+0],Oe=xe[_e+De],qe=k0[112+(4+(it=3*(we-$e))>>3)],it=k0[112+(it+3>>3)],We=qe+1>>1;xe[_e-2*De]=Ra[255+xe[_e-2*De]+We],xe[_e-De]=Ra[255+$e+it],xe[_e+0]=Ra[255+we-qe],xe[_e+De]=Ra[255+Oe-We]}k+=U}}function Dg(_,k,F,U,Z,re){hc(_,k,F,1,16,U,Z,re)}function pc(_,k,F,U,Z,re){hc(_,k,1,F,16,U,Z,re)}function Fg(_,k,F,U,Z,re){var oe;for(oe=3;0<oe;--oe)dc(_,k+=4*F,F,1,16,U,Z,re)}function I(_,k,F,U,Z,re){var oe;for(oe=3;0<oe;--oe)dc(_,k+=4,1,F,16,U,Z,re)}function J(_,k,F,U,Z,re,oe,pe){hc(_,k,Z,1,8,re,oe,pe),hc(F,U,Z,1,8,re,oe,pe)}function Ae(_,k,F,U,Z,re,oe,pe){hc(_,k,1,Z,8,re,oe,pe),hc(F,U,1,Z,8,re,oe,pe)}function Me(_,k,F,U,Z,re,oe,pe){dc(_,k+4*Z,Z,1,8,re,oe,pe),dc(F,U+4*Z,Z,1,8,re,oe,pe)}function ze(_,k,F,U,Z,re,oe,pe){dc(_,k+4,1,Z,8,re,oe,pe),dc(F,U+4,1,Z,8,re,oe,pe)}function lt(){this.ba=new Cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $n,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function en(){this.ua=0,this.Wa=new Pe,this.vb=new Pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new ee}function bn(){this.xb=this.a=0,this.l=new oc,this.ca=new Cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new en,this.ab=0,this.gc=s(4,Xt),this.Oc=0}function Nn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tr(_,k,F,U,Z,re,oe){for(_=_==null?0:_[k+0],k=0;k<oe;++k)Z[re+k]=_+F[U+k]&255,_=Z[re+k]}function Qr(_,k,F,U,Z,re,oe){var pe;if(_==null)tr(null,null,F,U,Z,re,oe);else for(pe=0;pe<oe;++pe)Z[re+pe]=_[k+pe]+F[U+pe]&255}function xi(_,k,F,U,Z,re,oe){if(_==null)tr(null,null,F,U,Z,re,oe);else{var pe,xe=_[k+0],_e=xe,De=xe;for(pe=0;pe<oe;++pe)_e=De+(xe=_[k+pe])-_e,De=F[U+pe]+(-256&_e?0>_e?0:255:_e)&255,_e=xe,Z[re+pe]=De}}function Or(_,k,F,U){var Z=k.width,re=k.o;if(e(_!=null&&k!=null),0>F||0>=U||F+U>re)return null;if(!_.Cc){if(_.ga==null){var oe;if(_.ga=new Nn,(oe=_.ga==null)||(oe=k.width*k.o,e(_.Gb.length==0),_.Gb=a(oe),_.Uc=0,_.Gb==null?oe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,oe=1),oe=!oe),!oe){oe=_.ga;var pe=_.Fa,xe=_.P,_e=_.qc,De=_.mb,$e=_.nb,we=xe+1,Oe=_e-1,qe=oe.l;if(e(pe!=null&&De!=null&&k!=null),Tc[0]=null,Tc[1]=tr,Tc[2]=Qr,Tc[3]=xi,oe.ca=De,oe.tb=$e,oe.c=k.width,oe.i=k.height,e(0<oe.c&&0<oe.i),1>=_e)k=0;else if(oe.$a=3&pe[xe+0],oe.Z=pe[xe+0]>>2&3,oe.Lc=pe[xe+0]>>4&3,xe=pe[xe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||xe)k=0;else if(qe.put=an,qe.ac=fs,qe.bc=Bo,qe.ma=oe,qe.width=k.width,qe.height=k.height,qe.Da=k.Da,qe.v=k.v,qe.va=k.va,qe.j=k.j,qe.o=k.o,oe.$a)e:{e(oe.$a==1),k=Xe();t:for(;;){if(k==null){k=0;break e}if(e(oe!=null),oe.mc=k,k.c=oe.c,k.i=oe.i,k.l=oe.l,k.l.ma=oe,k.l.width=oe.c,k.l.height=oe.i,k.a=0,ge(k.m,pe,we,Oe),!Ye(oe.c,oe.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&ve(k.s)?(oe.ic=1,pe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=a(pe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(oe.ic=0,k=Ke(k,oe.c)),!k))break t;k=1;break e}oe.mc=null,k=0}else k=Oe>=oe.c*oe.i;oe=!k}if(oe)return null;_.ga.Lc!=1?_.Ga=0:U=re-F}e(_.ga!=null),e(F+U<=re);e:{if(k=(pe=_.ga).c,re=pe.l.o,pe.$a==0){if(we=_.rc,Oe=_.Vc,qe=_.Fa,xe=_.P+1+F*k,_e=_.mb,De=_.nb+F*k,e(xe<=_.P+_.qc),pe.Z!=0)for(e(Tc[pe.Z]!=null),oe=0;oe<U;++oe)Tc[pe.Z](we,Oe,qe,xe,_e,De,k),we=_e,Oe=De,De+=k,xe+=k;else for(oe=0;oe<U;++oe)r(_e,De,qe,xe,k),we=_e,Oe=De,De+=k,xe+=k;_.rc=we,_.Vc=Oe}else{if(e(pe.mc!=null),k=F+U,e((oe=pe.mc)!=null),e(k<=oe.i),oe.C>=k)k=1;else if(pe.ic||qo(),pe.ic){pe=oe.V,we=oe.Ba,Oe=oe.c;var it=oe.i,We=(qe=1,xe=oe.$/Oe,_e=oe.$%Oe,De=oe.m,$e=oe.s,oe.$),rt=Oe*it,ct=Oe*k,_t=$e.wc,mt=We<ct?te($e,_e,xe):null;e(We<=rt),e(k<=it),e(ve($e));t:for(;;){for(;!De.h&&We<ct;){if(_e&_t||(mt=te($e,_e,xe)),e(mt!=null),ye(De),256>(it=Pr(mt.G[0],mt.H[0],De)))pe[we+We]=it,++We,++_e>=Oe&&(_e=0,++xe<=k&&!(xe%16)&&Ee(oe,xe));else{if(!(280>it)){qe=0;break t}it=ha(it-256,De);var Kt,Ut=Pr(mt.G[4],mt.H[4],De);if(ye(De),!(We>=(Ut=Wa(Oe,Ut=ha(Ut,De)))&&rt-We>=it)){qe=0;break t}for(Kt=0;Kt<it;++Kt)pe[we+We+Kt]=pe[we+We+Kt-Ut];for(We+=it,_e+=it;_e>=Oe;)_e-=Oe,++xe<=k&&!(xe%16)&&Ee(oe,xe);We<ct&&_e&_t&&(mt=te($e,_e,xe))}e(De.h==Y(De))}Ee(oe,xe>k?k:xe);break t}!qe||De.h&&We<rt?(qe=0,oe.a=De.h?5:3):oe.$=We,k=qe}else k=Ve(oe,oe.V,oe.Ba,oe.c,oe.i,k,bt);if(!k){U=0;break e}}F+U>=re&&(_.Cc=1),U=1}if(!U)return null;if(_.Cc&&((U=_.ga)!=null&&(U.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+F*Z}function ji(_,k,F,U,Z,re){for(;0<Z--;){var oe,pe=_,xe=k+(F?1:0),_e=_,De=k+(F?0:3);for(oe=0;oe<U;++oe){var $e=_e[De+4*oe];$e!=255&&($e*=32897,pe[xe+4*oe+0]=pe[xe+4*oe+0]*$e>>23,pe[xe+4*oe+1]=pe[xe+4*oe+1]*$e>>23,pe[xe+4*oe+2]=pe[xe+4*oe+2]*$e>>23)}k+=re}}function Ni(_,k,F,U,Z){for(;0<U--;){var re;for(re=0;re<F;++re){var oe=_[k+2*re+0],pe=15&(_e=_[k+2*re+1]),xe=4369*pe,_e=(240&_e|_e>>4)*xe>>16;_[k+2*re+0]=(240&oe|oe>>4)*xe>>16&240|(15&oe|oe<<4)*xe>>16>>4&15,_[k+2*re+1]=240&_e|pe}k+=Z}}function pa(_,k,F,U,Z,re,oe,pe){var xe,_e,De=255;for(_e=0;_e<Z;++_e){for(xe=0;xe<U;++xe){var $e=_[k+xe];re[oe+4*xe]=$e,De&=$e}k+=F,oe+=pe}return De!=255}function gc(_,k,F,U,Z){var re;for(re=0;re<Z;++re)F[U+re]=_[k+re]>>8}function qo(){xf=ji,ho=Ni,E0=pa,qs=gc}function mc(_,k,F){O[_]=function(U,Z,re,oe,pe,xe,_e,De,$e,we,Oe,qe,it,We,rt,ct,_t){var mt,Kt=_t-1>>1,Ut=pe[xe+0]|_e[De+0]<<16,An=$e[we+0]|Oe[qe+0]<<16;e(U!=null);var Gt=3*Ut+An+131074>>2;for(k(U[Z+0],255&Gt,Gt>>16,it,We),re!=null&&(Gt=3*An+Ut+131074>>2,k(re[oe+0],255&Gt,Gt>>16,rt,ct)),mt=1;mt<=Kt;++mt){var Vn=pe[xe+mt]|_e[De+mt]<<16,Xr=$e[we+mt]|Oe[qe+mt]<<16,Rn=Ut+Vn+An+Xr+524296,Ht=Rn+2*(Vn+An)>>3;Gt=Ht+Ut>>1,Ut=(Rn=Rn+2*(Ut+Xr)>>3)+Vn>>1,k(U[Z+2*mt-1],255&Gt,Gt>>16,it,We+(2*mt-1)*F),k(U[Z+2*mt-0],255&Ut,Ut>>16,it,We+(2*mt-0)*F),re!=null&&(Gt=Rn+An>>1,Ut=Ht+Xr>>1,k(re[oe+2*mt-1],255&Gt,Gt>>16,rt,ct+(2*mt-1)*F),k(re[oe+2*mt+0],255&Ut,Ut>>16,rt,ct+(2*mt+0)*F)),Ut=Vn,An=Xr}1&_t||(Gt=3*Ut+An+131074>>2,k(U[Z+_t-1],255&Gt,Gt>>16,it,We+(_t-1)*F),re!=null&&(Gt=3*An+Ut+131074>>2,k(re[oe+_t-1],255&Gt,Gt>>16,rt,ct+(_t-1)*F)))}}function w0(){xa[Ug]=wf,xa[La]=Wh,xa[Hg]=_v,xa[po]=Vg,xa[N0]=yu,xa[Gh]=Ml,xa[mu]=bu,xa[R0]=Wh,xa[zg]=Vg,xa[qh]=yu,xa[jg]=Ml}function Ph(_){return _&-16384?0>_?0:255:_>>Wg}function El(_,k){return Ph((19077*_>>8)+(26149*k>>8)-14234)}function Vo(_,k,F){return Ph((19077*_>>8)-(6419*k>>8)-(13320*F>>8)+8708)}function gf(_,k){return Ph((19077*_>>8)+(33050*k>>8)-17685)}function vc(_,k,F,U,Z){U[Z+0]=El(_,F),U[Z+1]=Vo(_,k,F),U[Z+2]=gf(_,k)}function na(_,k,F,U,Z){U[Z+0]=gf(_,k),U[Z+1]=Vo(_,k,F),U[Z+2]=El(_,F)}function du(_,k,F,U,Z){var re=Vo(_,k,F);k=re<<3&224|gf(_,k)>>3,U[Z+0]=248&El(_,F)|re>>5,U[Z+1]=k}function pu(_,k,F,U,Z){var re=240&gf(_,k)|15;U[Z+0]=240&El(_,F)|Vo(_,k,F)>>4,U[Z+1]=re}function Oh(_,k,F,U,Z){U[Z+0]=255,vc(_,k,F,U,Z+1)}function Tl(_,k,F,U,Z){na(_,k,F,U,Z),U[Z+3]=255}function Ka(_,k,F,U,Z){vc(_,k,F,U,Z),U[Z+3]=255}function xc(_,k,F){O[_]=function(U,Z,re,oe,pe,xe,_e,De,$e){for(var we=De+(-2&$e)*F;De!=we;)k(U[Z+0],re[oe+0],pe[xe+0],_e,De),k(U[Z+1],re[oe+0],pe[xe+0],_e,De+F),Z+=2,++oe,++xe,De+=2*F;1&$e&&k(U[Z+0],re[oe+0],pe[xe+0],_e,De)}}function Bh(_,k,F){return F==0?_==0?k==0?6:5:k==0?4:0:F}function _0(_,k,F,U,Z){switch(_>>>30){case 3:Ac(k,F,U,Z,0);break;case 2:Na(k,F,U,Z);break;case 1:cr(k,F,U,Z)}}function js(_,k){var F,U,Z=k.M,re=k.Nb,oe=_.oc,pe=_.pc+40,xe=_.oc,_e=_.pc+584,De=_.oc,$e=_.pc+600;for(F=0;16>F;++F)oe[pe+32*F-1]=129;for(F=0;8>F;++F)xe[_e+32*F-1]=129,De[$e+32*F-1]=129;for(0<Z?oe[pe-1-32]=xe[_e-1-32]=De[$e-1-32]=129:(i(oe,pe-32-1,127,21),i(xe,_e-32-1,127,9),i(De,$e-32-1,127,9)),U=0;U<_.za;++U){var we=k.ya[k.aa+U];if(0<U){for(F=-1;16>F;++F)r(oe,pe+32*F-4,oe,pe+32*F+12,4);for(F=-1;8>F;++F)r(xe,_e+32*F-4,xe,_e+32*F+4,4),r(De,$e+32*F-4,De,$e+32*F+4,4)}var Oe=_.Gd,qe=_.Hd+U,it=we.ad,We=we.Hc;if(0<Z&&(r(oe,pe-32,Oe[qe].y,0,16),r(xe,_e-32,Oe[qe].f,0,8),r(De,$e-32,Oe[qe].ea,0,8)),we.Za){var rt=oe,ct=pe-32+16;for(0<Z&&(U>=_.za-1?i(rt,ct,Oe[qe].y[15],4):r(rt,ct,Oe[qe+1].y,0,4)),F=0;4>F;F++)rt[ct+128+F]=rt[ct+256+F]=rt[ct+384+F]=rt[ct+0+F];for(F=0;16>F;++F,We<<=2)rt=oe,ct=pe+wi[F],ui[we.Ob[F]](rt,ct),_0(We,it,16*+F,rt,ct)}else if(rt=Bh(U,Z,we.Ob[0]),Za[rt](oe,pe),We!=0)for(F=0;16>F;++F,We<<=2)_0(We,it,16*+F,oe,pe+wi[F]);for(F=we.Gc,rt=Bh(U,Z,we.Dd),$o[rt](xe,_e),$o[rt](De,$e),We=it,rt=xe,ct=_e,255&(we=0|F)&&(170&we?fo(We,256,rt,ct):nr(We,256,rt,ct)),we=De,We=$e,255&(F>>=8)&&(170&F?fo(it,320,we,We):nr(it,320,we,We)),Z<_.Ub-1&&(r(Oe[qe].y,0,oe,pe+480,16),r(Oe[qe].f,0,xe,_e+224,8),r(Oe[qe].ea,0,De,$e+224,8)),F=8*re*_.B,Oe=_.sa,qe=_.ta+16*U+16*re*_.R,it=_.qa,we=_.ra+8*U+F,We=_.Ha,rt=_.Ia+8*U+F,F=0;16>F;++F)r(Oe,qe+F*_.R,oe,pe+32*F,16);for(F=0;8>F;++F)r(it,we+F*_.B,xe,_e+32*F,8),r(We,rt+F*_.B,De,$e+32*F,8)}}function Wo(_,k,F,U,Z,re,oe,pe,xe){var _e=[0],De=[0],$e=0,we=xe!=null?xe.kd:0,Oe=xe??new vt;if(_==null||12>F)return 7;Oe.data=_,Oe.w=k,Oe.ha=F,k=[k],F=[F],Oe.gb=[Oe.gb];e:{var qe=k,it=F,We=Oe.gb;if(e(_!=null),e(it!=null),e(We!=null),We[0]=0,12<=it[0]&&!t(_,qe[0],"RIFF")){if(t(_,qe[0]+8,"WEBP")){We=3;break e}var rt=gt(_,qe[0]+4);if(12>rt||4294967286<rt){We=3;break e}if(we&&rt>it[0]-8){We=7;break e}We[0]=rt,qe[0]+=12,it[0]-=12}We=0}if(We!=0)return We;for(rt=0<Oe.gb[0],F=F[0];;){e:{var ct=_;it=k,We=F;var _t=_e,mt=De,Kt=qe=[0];if((Gt=$e=[$e])[0]=0,8>We[0])We=7;else{if(!t(ct,it[0],"VP8X")){if(gt(ct,it[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Ut=gt(ct,it[0]+8),An=1+dt(ct,it[0]+12);if(2147483648<=An*(ct=1+dt(ct,it[0]+15))){We=3;break e}Kt!=null&&(Kt[0]=Ut),_t!=null&&(_t[0]=An),mt!=null&&(mt[0]=ct),it[0]+=18,We[0]-=18,Gt[0]=1}We=0}}if($e=$e[0],qe=qe[0],We!=0)return We;if(it=!!(2&qe),!rt&&$e)return 3;if(re!=null&&(re[0]=!!(16&qe)),oe!=null&&(oe[0]=it),pe!=null&&(pe[0]=0),oe=_e[0],qe=De[0],$e&&it&&xe==null){We=0;break}if(4>F){We=7;break}if(rt&&$e||!rt&&!$e&&!t(_,k[0],"ALPH")){F=[F],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Ut=_,We=k,rt=F;var Gt=Oe.gb;_t=Oe.na,mt=Oe.P,Kt=Oe.Sa,An=22,e(Ut!=null),e(rt!=null),ct=We[0];var Vn=rt[0];for(e(_t!=null),e(Kt!=null),_t[0]=null,mt[0]=null,Kt[0]=0;;){if(We[0]=ct,rt[0]=Vn,8>Vn){We=7;break e}var Xr=gt(Ut,ct+4);if(4294967286<Xr){We=3;break e}var Rn=8+Xr+1&-2;if(An+=Rn,0<Gt&&An>Gt){We=3;break e}if(!t(Ut,ct,"VP8 ")||!t(Ut,ct,"VP8L")){We=0;break e}if(Vn[0]<Rn){We=7;break e}t(Ut,ct,"ALPH")||(_t[0]=Ut,mt[0]=ct+8,Kt[0]=Xr),ct+=Rn,Vn-=Rn}}if(F=F[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],We!=0)break}F=[F],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Gt=_,We=k,rt=F,_t=Oe.gb[0],mt=Oe.Ja,Kt=Oe.xa,Ut=We[0],ct=!t(Gt,Ut,"VP8 "),An=!t(Gt,Ut,"VP8L"),e(Gt!=null),e(rt!=null),e(mt!=null),e(Kt!=null),8>rt[0])We=7;else{if(ct||An){if(Gt=gt(Gt,Ut+4),12<=_t&&Gt>_t-12){We=3;break e}if(we&&Gt>rt[0]-8){We=7;break e}mt[0]=Gt,We[0]+=8,rt[0]-=8,Kt[0]=An}else Kt[0]=5<=rt[0]&&Gt[Ut+0]==47&&!(Gt[Ut+4]>>5),mt[0]=rt[0];We=0}if(F=F[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],k=k[0],We!=0)break;if(4294967286<Oe.Ja)return 3;if(pe==null||it||(pe[0]=Oe.xa?2:1),oe=[oe],qe=[qe],Oe.xa){if(5>F){We=7;break}pe=oe,we=qe,it=re,_==null||5>F?_=0:5<=F&&_[k+0]==47&&!(_[k+4]>>5)?(rt=[0],Gt=[0],_t=[0],ge(mt=new H,_,k,F),lo(mt,rt,Gt,_t)?(pe!=null&&(pe[0]=rt[0]),we!=null&&(we[0]=Gt[0]),it!=null&&(it[0]=_t[0]),_=1):_=0):_=0}else{if(10>F){We=7;break}pe=qe,_==null||10>F||!f0(_,k+3,F-3)?_=0:(we=_[k+0]|_[k+1]<<8|_[k+2]<<16,it=16383&(_[k+7]<<8|_[k+6]),_=16383&(_[k+9]<<8|_[k+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Oe.Ja||!it||!_?_=0:(oe&&(oe[0]=it),pe&&(pe[0]=_),_=1))}if(!_||(oe=oe[0],qe=qe[0],$e&&(_e[0]!=oe||De[0]!=qe)))return 3;xe!=null&&(xe[0]=Oe,xe.offset=k-xe.w,e(4294967286>k-xe.w),e(xe.offset==xe.ha-F));break}return We==0||We==7&&$e&&xe==null?(re!=null&&(re[0]|=Oe.na!=null&&0<Oe.na.length),U!=null&&(U[0]=oe),Z!=null&&(Z[0]=qe),0):We}function yc(_,k,F){var U=k.width,Z=k.height,re=0,oe=0,pe=U,xe=Z;if(k.Da=_!=null&&0<_.Da,k.Da&&(pe=_.cd,xe=_.bd,re=_.v,oe=_.j,11>F||(re&=-2,oe&=-2),0>re||0>oe||0>=pe||0>=xe||re+pe>U||oe+xe>Z))return 0;if(k.v=re,k.j=oe,k.va=re+pe,k.o=oe+xe,k.U=pe,k.T=xe,k.da=_!=null&&0<_.da,k.da){if(!He(pe,xe,F=[_.ib],re=[_.hb]))return 0;k.ib=F[0],k.hb=re[0]}return k.ob=_!=null&&_.ob,k.Kb=_==null||!_.Sd,k.da&&(k.ob=k.ib<3*U/4&&k.hb<3*Z/4,k.Kb=0),1}function S0(_){if(_==null)return 2;if(11>_.S){var k=_.f.RGBA;k.fb+=(_.height-1)*k.A,k.A=-k.A}else k=_.f.kb,_=_.height,k.O+=(_-1)*k.fa,k.fa=-k.fa,k.N+=(_-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(_-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(_-1)*k.lb,k.lb=-k.lb);return 0}function Xo(_,k,F,U){if(U==null||0>=_||0>=k)return 2;if(F!=null){if(F.Da){var Z=F.cd,re=F.bd,oe=-2&F.v,pe=-2&F.j;if(0>oe||0>pe||0>=Z||0>=re||oe+Z>_||pe+re>k)return 2;_=Z,k=re}if(F.da){if(!He(_,k,Z=[F.ib],re=[F.hb]))return 2;_=Z[0],k=re[0]}}U.width=_,U.height=k;e:{var xe=U.width,_e=U.height;if(_=U.S,0>=xe||0>=_e||!(_>=Ug&&13>_))_=2;else{if(0>=U.Rd&&U.sd==null){oe=re=Z=k=0;var De=(pe=xe*Yg[_])*_e;if(11>_||(re=(_e+1)/2*(k=(xe+1)/2),_==12&&(oe=(Z=xe)*_e)),(_e=a(De+2*re+oe))==null){_=1;break e}U.sd=_e,11>_?((xe=U.f.RGBA).eb=_e,xe.fb=0,xe.A=pe,xe.size=De):((xe=U.f.kb).y=_e,xe.O=0,xe.fa=pe,xe.Fd=De,xe.f=_e,xe.N=0+De,xe.Ab=k,xe.Cd=re,xe.ea=_e,xe.W=0+De+re,xe.Db=k,xe.Ed=re,_==12&&(xe.F=_e,xe.J=0+De+2*re),xe.Tc=oe,xe.lb=Z)}if(k=1,Z=U.S,re=U.width,oe=U.height,Z>=Ug&&13>Z)if(11>Z)_=U.f.RGBA,k&=(pe=Math.abs(_.A))*(oe-1)+re<=_.size,k&=pe>=re*Yg[Z],k&=_.eb!=null;else{_=U.f.kb,pe=(re+1)/2,De=(oe+1)/2,xe=Math.abs(_.fa),_e=Math.abs(_.Ab);var $e=Math.abs(_.Db),we=Math.abs(_.lb),Oe=we*(oe-1)+re;k&=xe*(oe-1)+re<=_.Fd,k&=_e*(De-1)+pe<=_.Cd,k=(k&=$e*(De-1)+pe<=_.Ed)&xe>=re&_e>=pe&$e>=pe,k&=_.y!=null,k&=_.f!=null,k&=_.ea!=null,Z==12&&(k&=we>=re,k&=Oe<=_.Tc,k&=_.F!=null)}else k=0;_=k?0:2}}return _!=0||F!=null&&F.fd&&(_=S0(U)),_}var gu=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,Cl=32,kl=8,bc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(_){return _},O.Predictor2=function(_,k,F){return k[F+0]},O.Predictor3=function(_,k,F){return k[F+1]},O.Predictor4=function(_,k,F){return k[F-1]},O.Predictor5=function(_,k,F){return yt(yt(_,k[F+1]),k[F+0])},O.Predictor6=function(_,k,F){return yt(_,k[F-1])},O.Predictor7=function(_,k,F){return yt(_,k[F+0])},O.Predictor8=function(_,k,F){return yt(k[F-1],k[F+0])},O.Predictor9=function(_,k,F){return yt(k[F+0],k[F+1])},O.Predictor10=function(_,k,F){return yt(yt(_,k[F-1]),yt(k[F+0],k[F+1]))},O.Predictor11=function(_,k,F){var U=k[F+0];return 0>=Bt(U>>24&255,_>>24&255,(k=k[F-1])>>24&255)+Bt(U>>16&255,_>>16&255,k>>16&255)+Bt(U>>8&255,_>>8&255,k>>8&255)+Bt(255&U,255&_,255&k)?U:_},O.Predictor12=function(_,k,F){var U=k[F+0];return(wt((_>>24&255)+(U>>24&255)-((k=k[F-1])>>24&255))<<24|wt((_>>16&255)+(U>>16&255)-(k>>16&255))<<16|wt((_>>8&255)+(U>>8&255)-(k>>8&255))<<8|wt((255&_)+(255&U)-(255&k)))>>>0},O.Predictor13=function(_,k,F){var U=k[F-1];return(Tt((_=yt(_,k[F+0]))>>24&255,U>>24&255)<<24|Tt(_>>16&255,U>>16&255)<<16|Tt(_>>8&255,U>>8&255)<<8|Tt(255&_,255&U))>>>0};var Uh=O.PredictorAdd0;O.PredictorAdd1=on,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Hh=O.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var yi,Pg=O.ColorIndexInverseTransform,Nl=O.MapARGB,Rl=O.VP8LColorIndexInverseTransformAlpha,ga=O.MapAlpha,wc=O.VP8LPredictorsAdd=[];wc.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var zh,jh,_c,Sc,Ll,mf,Gs,Ac,Na,fo,cr,nr,Br,bi,Il,Yo,vf,A0,vv,Zy,Qy,eb,xv,yv,xf,ho,E0,qs,yf=a(511),Og=a(2041),T0=a(225),C0=a(767),Bg=0,Ec=Og,k0=T0,Ra=C0,ma=yf,Ug=0,La=1,Hg=2,po=3,N0=4,Gh=5,mu=6,R0=7,zg=8,qh=9,jg=10,go=[2,3,7],Vh=[3,3,11],bf=[280,256,256,256,40],Gg=[0,1,1,1,0],L0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vu=8,xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vs=null,tb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],va=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Za=[],ui=[],$o=[],xu=1,wv=2,Tc=[],xa=[];mc("UpsampleRgbLinePair",vc,3),mc("UpsampleBgrLinePair",na,3),mc("UpsampleRgbaLinePair",Ka,4),mc("UpsampleBgraLinePair",Tl,4),mc("UpsampleArgbLinePair",Oh,4),mc("UpsampleRgba4444LinePair",pu,2),mc("UpsampleRgb565LinePair",du,2);var wf=O.UpsampleRgbLinePair,_v=O.UpsampleBgrLinePair,Wh=O.UpsampleRgbaLinePair,Vg=O.UpsampleBgraLinePair,yu=O.UpsampleArgbLinePair,Ml=O.UpsampleRgba4444LinePair,bu=O.UpsampleRgb565LinePair,bo=16,Xh=1<<bo-1,_f=-227,wu=482,Wg=6,_u=0,ya=a(256),Xg=a(256),rb=a(256),L5=a(256),I5=a(wu-_f),M5=a(wu-_f);xc("YuvToRgbRow",vc,3),xc("YuvToBgrRow",na,3),xc("YuvToRgbaRow",Ka,4),xc("YuvToBgraRow",Tl,4),xc("YuvToArgbRow",Oh,4),xc("YuvToRgba4444Row",pu,2),xc("YuvToRgb565Row",du,2);var wi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yh=[0,2,8],I0=[8,7,6,4,4,2,2,2,1,1,1,1],M0=1;this.WebPDecodeRGBA=function(_,k,F,U,Z){var re=La,oe=new lt,pe=new Cn;oe.ba=pe,pe.S=re,pe.width=[pe.width],pe.height=[pe.height];var xe=pe.width,_e=pe.height,De=new Zt;if(De==null||_==null)var $e=2;else e(De!=null),$e=Wo(_,k,F,De.width,De.height,De.Pd,De.Qd,De.format,null);if($e!=0?xe=0:(xe!=null&&(xe[0]=De.width[0]),_e!=null&&(_e[0]=De.height[0]),xe=1),xe){pe.width=pe.width[0],pe.height=pe.height[0],U!=null&&(U[0]=pe.width),Z!=null&&(Z[0]=pe.height);e:{if(U=new oc,(Z=new vt).data=_,Z.w=k,Z.ha=F,Z.kd=1,k=[0],e(Z!=null),((_=Wo(Z.data,Z.w,Z.ha,null,null,null,k,null,Z))==0||_==7)&&k[0]&&(_=4),(k=_)==0){if(e(oe!=null),U.data=Z.data,U.w=Z.w+Z.offset,U.ha=Z.ha-Z.offset,U.put=an,U.ac=fs,U.bc=Bo,U.ma=oe,Z.xa){if((_=Xe())==null){oe=1;break e}if((function(we,Oe){var qe=[0],it=[0],We=[0];t:for(;;){if(we==null)return 0;if(Oe==null)return we.a=2,0;if(we.l=Oe,we.a=0,ge(we.m,Oe.data,Oe.w,Oe.ha),!lo(we.m,qe,it,We)){we.a=3;break t}if(we.xb=wv,Oe.width=qe[0],Oe.height=it[0],!Ye(qe[0],it[0],1,we,null))break t;return 1}return e(we.a!=0),0})(_,U)){if(U=(k=Xo(U.width,U.height,oe.Oa,oe.ba))==0){t:{U=_;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((F=U.l)!=null),e((Z=F.ma)!=null),U.xb!=0){if(U.ca=Z.ba,U.tb=Z.tb,e(U.ca!=null),!yc(Z.Oa,F,po)){U.a=2;break n}if(!Ke(U,F.width)||F.da)break n;if((F.da||dn(U.ca.S))&&qo(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&qo()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!de(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!Ve(U,U.V,U.Ba,U.c,U.i,F.o,me))break n;Z.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(k=_.a)}else k=_.a}else{if((_=new zo)==null){oe=1;break e}if(_.Fa=Z.na,_.P=Z.P,_.qc=Z.Sa,_l(_,U)){if((k=Xo(U.width,U.height,oe.Oa,oe.ba))==0){if(_.Aa=0,F=oe.Oa,e((Z=_)!=null),F!=null){if(0<(xe=0>(xe=F.Md)?0:100<xe?255:255*xe/100)){for(_e=De=0;4>_e;++_e)12>($e=Z.pb[_e]).lc&&($e.ia=xe*I0[0>$e.lc?0:$e.lc]>>3),De|=$e.ia;De&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=F.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(we,Oe){if(we==null)return 0;if(Oe==null)return lr(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!_l(we,Oe))return 0;if(e(we.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(we.L=0);var qe=Yh[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Oe.v-qe>>4,we.zb=Oe.j-qe>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Oe.o+15+qe>>4,we.Hb=Oe.va+15+qe>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var it=we.ed;for(qe=0;4>qe;++qe){var We;if(we.Qa.Cb){var rt=we.Qa.Lb[qe];we.Qa.Fb||(rt+=it.Tb)}else rt=it.Tb;for(We=0;1>=We;++We){var ct=we.gd[qe][We],_t=rt;if(it.Pc&&(_t+=it.vd[0],We&&(_t+=it.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var mt=_t;0<it.wb&&(mt=4<it.wb?mt>>2:mt>>1)>9-it.wb&&(mt=9-it.wb),1>mt&&(mt=1),ct.dd=mt,ct.tc=2*_t+mt,ct.ld=40<=_t?2:15<=_t?1:0}else ct.tc=0;ct.La=We}}}qe=0}else lr(we,6,"Frame setup failed"),qe=we.a;if(qe=qe==0){if(qe){we.$c=0,0<we.Aa||(we.Ic=M0);t:{qe=we.Ic,it=4*(mt=we.za);var Kt=32*mt,Ut=mt+1,An=0<we.L?mt*(0<we.Aa?2:1):0,Gt=(we.Aa==2?2:1)*mt;if((ct=it+832+(We=3*(16*qe+Yh[we.L])/2*Kt)+(rt=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=ct)qe=0;else{if(ct>we.Vb){if(we.Vb=0,we.Ec=a(ct),we.Fc=0,we.Ec==null){qe=lr(we,1,"no memory during frame initialization.");break t}we.Vb=ct}ct=we.Ec,_t=we.Fc,we.Ac=ct,we.Bc=_t,_t+=it,we.Gd=s(Kt,Us),we.Hd=0,we.rb=s(Ut+1,Tr),we.sb=1,we.wa=An?s(An,Gn):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=mt),e(!0),we.oc=ct,we.pc=_t,_t+=832,we.ya=s(Gt,Uo),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=mt),we.R=16*mt,we.B=8*mt,mt=(Kt=Yh[we.L])*we.R,Kt=Kt/2*we.B,we.sa=ct,we.ta=_t+mt,we.qa=we.sa,we.ra=we.ta+16*qe*we.R+Kt,we.Ha=we.qa,we.Ia=we.ra+8*qe*we.B+Kt,we.$c=0,_t+=We,we.mb=rt?ct:null,we.nb=rt?_t:null,e(_t+rt<=we.Fc+we.Vb),h0(we),i(we.Ac,we.Bc,0,it),qe=1}}if(qe){if(Oe.ka=0,Oe.y=we.sa,Oe.O=we.ta,Oe.f=we.qa,Oe.N=we.ra,Oe.ea=we.Ha,Oe.Vd=we.Ia,Oe.fa=we.R,Oe.Rc=we.B,Oe.F=null,Oe.J=0,!Bg){for(qe=-255;255>=qe;++qe)yf[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)Og[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)T0[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)C0[255+qe]=0>qe?0:255<qe?255:qe;Bg=1}Gs=jo,Ac=d0,fo=$a,cr=p0,nr=g0,Na=Cg,Br=Dg,bi=pc,Il=J,Yo=Ae,vf=Fg,A0=I,vv=Me,Zy=ze,Qy=uc,eb=fc,xv=pf,yv=b0,ui[0]=Ig,ui[1]=kg,ui[2]=Lg,ui[3]=x0,ui[4]=Hs,ui[5]=y0,ui[6]=da,ui[7]=ff,ui[8]=hf,ui[9]=zs,Za[0]=Go,Za[1]=m0,Za[2]=v0,Za[3]=Rg,Za[4]=lc,Za[5]=uf,Za[6]=hu,$o[0]=Mh,$o[1]=Ng,$o[2]=Sl,$o[3]=Mg,$o[4]=ta,$o[5]=Dh,$o[6]=Al,qe=1}else qe=0}qe&&(qe=(function(Vn,Xr){for(Vn.M=0;Vn.M<Vn.Va;++Vn.M){var Rn,Ht=Vn.Jc[Vn.M&Vn.Xb],Lt=Vn.m,ei=Vn;for(Rn=0;Rn<ei.za;++Rn){var mn=Lt,Mn=ei,_r=Mn.Ac,Gi=Mn.Bc+4*Rn,ba=Mn.zc,Ur=Mn.ya[Mn.aa+Rn];if(Mn.Qa.Bb?Ur.$b=Le(mn,Mn.Pa.jb[0])?2+Le(mn,Mn.Pa.jb[2]):Le(mn,Mn.Pa.jb[1]):Ur.$b=0,Mn.kc&&(Ur.Ad=Le(mn,Mn.Bd)),Ur.Za=!Le(mn,145)+0,Ur.Za){var Ri=Ur.Ob,Ia=0;for(Mn=0;4>Mn;++Mn){var Li,zn=ba[0+Mn];for(Li=0;4>Li;++Li){zn=va[_r[Gi+Li]][zn];for(var ar=qg[Le(mn,zn[0])];0<ar;)ar=qg[2*ar+Le(mn,zn[ar])];zn=-ar,_r[Gi+Li]=zn}r(Ri,Ia,_r,Gi,4),Ia+=4,ba[0+Mn]=zn}}else zn=Le(mn,156)?Le(mn,128)?1:3:Le(mn,163)?2:0,Ur.Ob[0]=zn,i(_r,Gi,zn,4),i(ba,0,zn,4);Ur.Dd=Le(mn,142)?Le(mn,114)?Le(mn,183)?1:3:2:0}if(ei.m.Ka)return lr(Vn,7,"Premature end-of-partition0 encountered.");for(;Vn.ja<Vn.za;++Vn.ja){if(ei=Ht,mn=(Lt=Vn).rb[Lt.sb-1],_r=Lt.rb[Lt.sb+Lt.ja],Rn=Lt.ya[Lt.aa+Lt.ja],Gi=Lt.kc?Rn.Ad:0)mn.la=_r.la=0,Rn.Za||(mn.Na=_r.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var ti,ur;if(mn=_r,_r=ei,Gi=Lt.Pa.Xc,ba=Lt.ya[Lt.aa+Lt.ja],Ur=Lt.pb[ba.$b],Mn=ba.ad,Ri=0,Ia=Lt.rb[Lt.sb-1],zn=Li=0,i(Mn,Ri,0,384),ba.Za)var qi=0,ni=Gi[3];else{ar=a(16);var sr=mn.Na+Ia.Na;if(sr=Vs(_r,Gi[1],sr,Ur.Eb,0,ar,0),mn.Na=Ia.Na=(0<sr)+0,1<sr)Gs(ar,0,Mn,Ri);else{var _i=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Mn[Ri+ar]=_i}qi=1,ni=Gi[0]}var Sr=15&mn.la,Ii=15&Ia.la;for(ar=0;4>ar;++ar){var Mi=1&Ii;for(_i=ur=0;4>_i;++_i)Sr=Sr>>1|(Mi=(sr=Vs(_r,ni,sr=Mi+(1&Sr),Ur.Sc,qi,Mn,Ri))>qi)<<7,ur=ur<<2|(3<sr?3:1<sr?2:Mn[Ri+0]!=0),Ri+=16;Sr>>=4,Ii=Ii>>1|Mi<<7,Li=(Li<<8|ur)>>>0}for(ni=Sr,qi=Ii>>4,ti=0;4>ti;ti+=2){for(ur=0,Sr=mn.la>>4+ti,Ii=Ia.la>>4+ti,ar=0;2>ar;++ar){for(Mi=1&Ii,_i=0;2>_i;++_i)sr=Mi+(1&Sr),Sr=Sr>>1|(Mi=0<(sr=Vs(_r,Gi[2],sr,Ur.Qc,0,Mn,Ri)))<<3,ur=ur<<2|(3<sr?3:1<sr?2:Mn[Ri+0]!=0),Ri+=16;Sr>>=2,Ii=Ii>>1|Mi<<5}zn|=ur<<4*ti,ni|=Sr<<4<<ti,qi|=(240&Ii)<<ti}mn.la=ni,Ia.la=qi,ba.Hc=Li,ba.Gc=zn,ba.ia=43690&zn?0:Ur.ia,Gi=!(Li|zn)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Rn.$b][Rn.Za],Lt.wa[Lt.Y+Lt.ja].La|=!Gi),ei.Ka)return lr(Vn,7,"Premature end-of-file encountered.")}if(h0(Vn),Lt=Xr,ei=1,Rn=(Ht=Vn).D,mn=0<Ht.L&&Ht.M>=Ht.zb&&Ht.M<=Ht.Va,Ht.Aa==0)t:{if(Rn.M=Ht.M,Rn.uc=mn,js(Ht,Rn),ei=1,Rn=(ur=Ht.D).Nb,mn=(zn=Yh[Ht.L])*Ht.R,_r=zn/2*Ht.B,ar=16*Rn*Ht.R,_i=8*Rn*Ht.B,Gi=Ht.sa,ba=Ht.ta-mn+ar,Ur=Ht.qa,Mn=Ht.ra-_r+_i,Ri=Ht.Ha,Ia=Ht.Ia-_r+_i,Ii=(Sr=ur.M)==0,Li=Sr>=Ht.Va-1,Ht.Aa==2&&js(Ht,ur),ur.uc)for(Mi=(sr=Ht).D.M,e(sr.D.uc),ur=sr.yb;ur<sr.Hb;++ur){qi=ur,ni=Mi;var Cr=(rr=(Di=sr).D).Nb;ti=Di.R;var rr=rr.wa[rr.Y+qi],Ma=Di.sa,fi=Di.ta+16*Cr*ti+16*qi,cn=rr.dd,un=rr.tc;if(un!=0)if(e(3<=un),Di.L==1)0<qi&&eb(Ma,fi,ti,un+4),rr.La&&yv(Ma,fi,ti,un),0<ni&&Qy(Ma,fi,ti,un+4),rr.La&&xv(Ma,fi,ti,un);else{var or=Di.B,ps=Di.qa,wo=Di.ra+8*Cr*or+8*qi,Qa=Di.Ha,Di=Di.Ia+8*Cr*or+8*qi;Cr=rr.ld,0<qi&&(bi(Ma,fi,ti,un+4,cn,Cr),Yo(ps,wo,Qa,Di,or,un+4,cn,Cr)),rr.La&&(A0(Ma,fi,ti,un,cn,Cr),Zy(ps,wo,Qa,Di,or,un,cn,Cr)),0<ni&&(Br(Ma,fi,ti,un+4,cn,Cr),Il(ps,wo,Qa,Di,or,un+4,cn,Cr)),rr.La&&(vf(Ma,fi,ti,un,cn,Cr),vv(ps,wo,Qa,Di,or,un,cn,Cr))}}if(Ht.ia&&alert("todo:DitherRow"),Lt.put!=null){if(ur=16*Sr,Sr=16*(Sr+1),Ii?(Lt.y=Ht.sa,Lt.O=Ht.ta+ar,Lt.f=Ht.qa,Lt.N=Ht.ra+_i,Lt.ea=Ht.Ha,Lt.W=Ht.Ia+_i):(ur-=zn,Lt.y=Gi,Lt.O=ba,Lt.f=Ur,Lt.N=Mn,Lt.ea=Ri,Lt.W=Ia),Li||(Sr-=zn),Sr>Lt.o&&(Sr=Lt.o),Lt.F=null,Lt.J=null,Ht.Fa!=null&&0<Ht.Fa.length&&ur<Sr&&(Lt.J=Or(Ht,Lt,ur,Sr-ur),Lt.F=Ht.mb,Lt.F==null&&Lt.F.length==0)){ei=lr(Ht,3,"Could not decode alpha data.");break t}ur<Lt.j&&(zn=Lt.j-ur,ur=Lt.j,e(!(1&zn)),Lt.O+=Ht.R*zn,Lt.N+=Ht.B*(zn>>1),Lt.W+=Ht.B*(zn>>1),Lt.F!=null&&(Lt.J+=Lt.width*zn)),ur<Sr&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=ur-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Sr-ur,ei=Lt.put(Lt))}Rn+1!=Ht.Ic||Li||(r(Ht.sa,Ht.ta-mn,Gi,ba+16*Ht.R,mn),r(Ht.qa,Ht.ra-_r,Ur,Mn+8*Ht.B,_r),r(Ht.Ha,Ht.Ia-_r,Ri,Ia+8*Ht.B,_r))}if(!ei)return lr(Vn,6,"Output aborted.")}return 1})(we,Oe)),Oe.bc!=null&&Oe.bc(Oe),qe&=1}return qe?(we.cb=0,qe):0})(_,U)||(k=_.a)}}else k=_.a}k==0&&oe.Oa!=null&&oe.Oa.fd&&(k=S0(oe.ba))}oe=k}re=oe!=0?null:11>re?pe.f.RGBA.eb:pe.f.kb.y}else re=null;return re};var Yg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,Q){for(var B="",j=0;j<4;j++)B+=String.fromCharCode(O[Q++]);return B}function h(O,Q){return O[Q+0]|O[Q+1]<<8}function p(O,Q){return(O[Q+0]|O[Q+1]<<8|O[Q+2]<<16)>>>0}function g(O,Q){return(O[Q+0]|O[Q+1]<<8|O[Q+2]<<16|O[Q+3]<<24)>>>0}new c;var m=[0],w=[0],y=[],S=new c,C=n,L=(function(O,Q){var B={},j=0,ee=!1,fe=0,ue=0;if(B.frames=[],!(function(M,H){for(var G=0;G<4;G++)if(M[H+G]!="RIFF".charCodeAt(G))return!0;return!1})(O,Q)){for(g(O,Q+=4),Q+=8;Q<O.length;){var K=u(O,Q),le=g(O,Q+=4);Q+=4;var Te=le+(1&le);switch(K){case"VP8 ":case"VP8L":B.frames[j]===void 0&&(B.frames[j]={}),(ie=B.frames[j]).src_off=ee?ue:Q-8,ie.src_size=fe+le+8,j++,ee&&(ee=!1,fe=0,ue=0);break;case"VP8X":(ie=B.header={}).feature_flags=O[Q];var ge=Q+4;ie.canvas_width=1+p(O,ge),ge+=3,ie.canvas_height=1+p(O,ge),ge+=3;break;case"ALPH":ee=!0,fe=Te+8,ue=Q-8;break;case"ANIM":(ie=B.header).bgcolor=g(O,Q),ge=Q+4,ie.loop_count=h(O,ge),ge+=2;break;case"ANMF":var Be,ie;(ie=B.frames[j]={}).offset_x=2*p(O,Q),Q+=3,ie.offset_y=2*p(O,Q),Q+=3,ie.width=1+p(O,Q),Q+=3,ie.height=1+p(O,Q),Q+=3,ie.duration=p(O,Q),Q+=3,Be=O[Q++],ie.dispose=1&Be,ie.blend=Be>>1&1}K!="ANMF"&&(Q+=Te)}return B}})(C,0);L.response=C,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,D=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,m=[R.canvas_height],w=[R.canvas_width];for(var z=0;z<D.length&&D[z].blend!=0;z++);}var q=D[0],P=S.WebPDecodeRGBA(C,q.src_off,q.src_size,w,m);q.rgba=P,q.imgwidth=w[0],q.imgheight=m[0];for(var W=0;W<w[0]*m[0]*4;W++)y[W]=P[W];return this.width=w,this.height=m,this.data=y,this}(function(n){var e,t,r,i,a,s,o,c,u,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(de){G=!!de}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(de){Y=!!de}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(de){isNaN(de)||(se=de)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(de){isNaN(de)||(ye=de)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(de){var Ne;typeof de=="number"?Ne=[de,de,de,de]:((Ne=new Array(4))[0]=de[0],Ne[1]=de.length>=2?de[1]:Ne[0],Ne[2]=de.length>=3?de[2]:Ne[0],Ne[3]=de.length>=4?de[3]:Ne[1]),u.margin=Ne}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(de){ke=de}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(de){Ce=de}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(de){Le=de}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(de){de instanceof h&&(u=de)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(de){u.path=de}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(de){Re=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var Ne;Ne=g(de),this.ctx.fillStyle=Ne.style,this.ctx.isFillTransparent=Ne.a===0,this.ctx.fillOpacity=Ne.a,this.pdf.setFillColor(Ne.r,Ne.g,Ne.b,{a:Ne.a}),this.pdf.setTextColor(Ne.r,Ne.g,Ne.b,{a:Ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var Ne=g(de);this.ctx.strokeStyle=Ne.style,this.ctx.isStrokeTransparent=Ne.a===0,this.ctx.strokeOpacity=Ne.a,Ne.a===0?this.pdf.setDrawColor(255,255,255):(Ne.a,this.pdf.setDrawColor(Ne.r,Ne.g,Ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var ce=null,dt=null,gt=null;Object.defineProperty(this,"fontFaces",{get:function(){return gt},set:function(de){ce=null,dt=null,gt=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var Ne;if(this.ctx.font=de,(Ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(de))!==null){var Pe=Ne[1];Ne[2];var He=Ne[3],Ue=Ne[4];Ne[5];var ft=Ne[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(ot==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var St=(function(et){var Qt,Dt,Pt=[],pn=et.trim();if(pn==="")return TA;if(pn in K8)return[K8[pn]];for(;pn!=="";){switch(Dt=null,Qt=(pn=Z8(pn)).charAt(0)){case'"':case"'":Dt=VK(pn.substring(1),Qt);break;default:Dt=WK(pn)}if(Dt===null||(Pt.push(Dt[0]),(pn=Z8(Dt[1]))!==""&&pn.charAt(0)!==","))return TA;pn=pn.replace(/^,/,"")}return Pt})(ft);if(this.fontFaces){var yt=(function(et,Qt){var Dt=et.getFontList(),Pt=JSON.stringify(Dt);if(ce===null||dt!==Pt){var pn=(function(Hn){var ln=[];return Object.keys(Hn).forEach(function(yr){Hn[yr].forEach(function(dn){var vn=null;switch(dn){case"bold":vn={family:yr,weight:"bold"};break;case"italic":vn={family:yr,style:"italic"};break;case"bolditalic":vn={family:yr,weight:"bold",style:"italic"};break;case"":case"normal":vn={family:yr}}vn!==null&&(vn.ref={name:yr,style:dn},ln.push(vn))})}),ln})(Dt);ce=(function(Hn){for(var ln={},yr=0;yr<Hn.length;++yr){var dn=EA(Hn[yr]),vn=dn.family,br=dn.stretch,Cn=dn.style,Zt=dn.weight;ln[vn]=ln[vn]||{},ln[vn][br]=ln[vn][br]||{},ln[vn][br][Cn]=ln[vn][br][Cn]||{},ln[vn][br][Cn][Zt]=dn}return ln})(pn.concat(Qt)),dt=Pt}return ce})(this.pdf,this.fontFaces),wt=St.map(function(et){return{family:et,stretch:"normal",weight:He,style:Pe}}),Tt=(function(et,Qt,Dt){for(var Pt=(Dt=Dt||{}).defaultFontFamily||"times",pn=Object.assign({},qK,Dt.genericFontFamilies||{}),Hn=null,ln=null,yr=0;yr<Qt.length;++yr)if(pn[(Hn=EA(Qt[yr])).family]&&(Hn.family=pn[Hn.family]),et.hasOwnProperty(Hn.family)){ln=et[Hn.family];break}if(!(ln=ln||et[Pt]))throw new Error("Could not find a font-family for the rule '"+J8(Hn)+"' and default family '"+Pt+"'.");if(ln=(function(dn,vn){if(vn[dn])return vn[dn];var br=PT[dn],Cn=br<=PT.normal?-1:1,Zt=$8(vn,xF,br,Cn);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+dn);return Zt})(Hn.stretch,ln),ln=(function(dn,vn){if(vn[dn])return vn[dn];for(var br=vF[dn],Cn=0;Cn<br.length;++Cn)if(vn[br[Cn]])return vn[br[Cn]];throw new Error("Could not find a matching font-style for "+dn)})(Hn.style,ln),!(ln=(function(dn,vn){if(vn[dn])return vn[dn];if(dn===400&&vn[500])return vn[500];if(dn===500&&vn[400])return vn[400];var br=GK[dn],Cn=$8(vn,yF,br,dn<400?-1:1);if(!Cn)throw new Error("Could not find a matching font-weight for value "+dn);return Cn})(Hn.weight,ln)))throw new Error("Failed to resolve a font for the rule '"+J8(Hn)+"'.");return ln})(yt,wt);this.pdf.setFont(Tt.ref.name,Tt.ref.style)}else{var Bt="";(He==="bold"||parseInt(He,10)>=700||Pe==="bold")&&(Bt="bold"),Pe==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var on="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<St.length;Ct++){if(this.pdf.internal.getFont(St[Ct],Bt,{noFallback:!0,disableWarning:!0})!==void 0){on=St[Ct];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(St[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)on=St[Ct],Bt="bold";else if(this.pdf.internal.getFont(St[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){on=St[Ct],Bt="normal";break}}if(on===""){for(var Ge=0;Ge<St.length;Ge++)if(Wt[St[Ge]]){on=Wt[St[Ge]];break}}on=on===""?"Times":on,this.pdf.setFont(on,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(M,H)},p.prototype.closePath=function(){var M=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Dr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},p.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,H,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(M)||isNaN(H))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(G,Y)),ye=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},p.prototype.bezierCurveTo=function(M,H,G,Y,se,ye){if(isNaN(se)||isNaN(ye)||isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new s(se,ye)),Ce=this.ctx.transform.applyToPoint(new s(M,H)),Le=this.ctx.transform.applyToPoint(new s(G,Y));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Le.x,y2:Le.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new s(ke.x,ke.y)},p.prototype.arc=function(M,H,G,Y,se,ye){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y)||isNaN(se))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new s(M,H));M=ke.x,H=ke.y;var Ce=this.ctx.transform.applyToPoint(new s(0,G)),Le=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(Ce.x-Le.x,2)+Math.pow(Ce.y-Le.y,2))}Math.abs(se-Y)>=2*Math.PI&&(Y=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:G,startAngle:Y,endAngle:se,counterclockwise:ye})},p.prototype.arcTo=function(M,H,G,Y,se){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,H,G,Y){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+G,H),this.lineTo(M+G,H+Y),this.lineTo(M,H+Y),this.lineTo(M,H),this.lineTo(M+G,H),this.lineTo(M,H)},p.prototype.fillRect=function(M,H,G,Y){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,G,Y),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},p.prototype.strokeRect=function(M,H,G,Y){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,H,G,Y),this.stroke())},p.prototype.clearRect=function(M,H,G,Y){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,G,Y))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var H,G,Y,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,G=0,Y=0,se=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ye!==null)H=parseInt(ye[1]),G=parseInt(ye[2]),Y=parseInt(ye[3]),se=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(ye[1]),G=parseInt(ye[2]),Y=parseInt(ye[3]),se=parseFloat(ye[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var ke=new uF(M);M=ke.ok?ke.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,G=M.substring(2,3),G+=G,Y=M.substring(3,4),Y+=Y):(H=M.substring(1,3),G=M.substring(3,5),Y=M.substring(5,7)),H=parseInt(H,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:H,g:G,b:Y,a:se,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,H,G,Y){if(isNaN(H)||isNaN(G)||typeof M!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var se=Te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:M,x:H,y:G,scale:ye,angle:se,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(M,H,G,Y){if(isNaN(H)||isNaN(G)||typeof M!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Y=isNaN(Y)?void 0:Y;var se=Te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:M,x:H,y:G,scale:ye,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(M){if(typeof M!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,G=this.pdf.internal.scaleFactor,Y=H.internal.getFontSize(),se=H.getStringUnitWidth(M)*Y/H.internal.scaleFactor;return new function(ye){var ke=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:se*=Math.round(96*G/72*1e4)/1e4})},p.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.rotate=function(M){if(isNaN(M))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.transform=function(M,H,G,Y,se,ye){if(isNaN(M)||isNaN(H)||isNaN(G)||isNaN(Y)||isNaN(se)||isNaN(ye))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(M,H,G,Y,se,ye);this.ctx.transform=this.ctx.transform.multiply(ke)},p.prototype.setTransform=function(M,H,G,Y,se,ye){M=isNaN(M)?1:M,H=isNaN(H)?0:H,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,se=isNaN(se)?0:se,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(M,H,G,Y,se,ye)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,H,G,Y,se,ye,ke,Ce,Le){var Re=this.pdf.getImageProperties(M),ce=1,dt=1,gt=1,de=1;Y!==void 0&&Ce!==void 0&&(gt=Ce/Y,de=Le/se,ce=Re.width/Y*Ce/Y,dt=Re.height/se*Le/se),ye===void 0&&(ye=H,ke=G,H=0,G=0),Y!==void 0&&Ce===void 0&&(Ce=Y,Le=se),Y===void 0&&Ce===void 0&&(Ce=Re.width,Le=Re.height);var Ne=this.ctx.transform.decompose(),Pe=Te(Ne.rotate.shx),He=new c,Ue=(He=(He=(He=He.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new o(ye-H*gt,ke-G*de,Y*ce,se*dt));if(this.autoPaging){for(var ft,ot=S.call(this,Ue),St=[],yt=0;yt<ot.length;yt+=1)St.indexOf(ot[yt])===-1&&St.push(ot[yt]);R(St);for(var wt=St[0],Tt=St[St.length-1],Bt=wt;Bt<Tt+1;Bt++){this.pdf.setPage(Bt);var on=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=Bt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Bt===1?0:Ct+(Bt-2)*Ge;if(this.ctx.clip_path.length!==0){var Qt=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ft,this.posX+this.margin[3],-et+Wt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Qt}var Dt=JSON.parse(JSON.stringify(Ue));Dt=L([Dt],this.posX+this.margin[3],-et+Wt+this.ctx.prevPageLastElemOffset)[0];var Pt=(Bt>wt||Bt<Tt)&&y.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],on,Ge,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,Pe),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Pe)};var S=function(M,H,G){var Y=[];H=H||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Y.push(Math.floor((M.y+se)/G)+1);break;case"arc":Y.push(Math.floor((M.y+se-M.radius)/G)+1),Y.push(Math.floor((M.y+se+M.radius)/G)+1);break;case"qct":var ye=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Y.push(Math.floor((ye.y+se)/G)+1),Y.push(Math.floor((ye.y+ye.h+se)/G)+1);break;case"bct":var ke=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Y.push(Math.floor((ke.y+se)/G)+1),Y.push(Math.floor((ke.y+ke.h+se)/G)+1);break;case"rect":Y.push(Math.floor((M.y+se)/G)+1),Y.push(Math.floor((M.y+M.h+se)/G)+1)}for(var Ce=0;Ce<Y.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Y[Ce];)C.call(this);return Y},C=function(){var M=this.fillStyle,H=this.strokeStyle,G=this.font,Y=this.lineCap,se=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=G,this.lineCap=Y,this.lineWidth=se,this.lineJoin=ye},L=function(M,H,G){for(var Y=0;Y<M.length;Y++)switch(M[Y].type){case"bct":M[Y].x2+=H,M[Y].y2+=G;case"qct":M[Y].x1+=H,M[Y].y1+=G;default:M[Y].x+=H,M[Y].y+=G}return M},R=function(M){return M.sort(function(H,G){return H-G})},D=function(M,H){var G=this.fillStyle,Y=this.strokeStyle,se=this.lineCap,ye=this.lineWidth,ke=Math.abs(ye*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Le,Re,ce=JSON.parse(JSON.stringify(this.path)),dt=JSON.parse(JSON.stringify(this.path)),gt=[],de=0;de<dt.length;de++)if(dt[de].x!==void 0)for(var Ne=S.call(this,dt[de]),Pe=0;Pe<Ne.length;Pe+=1)gt.indexOf(Ne[Pe])===-1&&gt.push(Ne[Pe]);for(var He=0;He<gt.length;He++)for(;this.pdf.internal.getNumberOfPages()<gt[He];)C.call(this);R(gt);for(var Ue=gt[0],ft=gt[gt.length-1],ot=Ue;ot<ft+1;ot++){this.pdf.setPage(ot),this.fillStyle=G,this.strokeStyle=Y,this.lineCap=se,this.lineWidth=ke,this.lineJoin=Ce;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=ot===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=ot===1?0:wt+(ot-2)*Tt;if(this.ctx.clip_path.length!==0){var on=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Le,this.posX+this.margin[3],-Bt+yt+this.ctx.prevPageLastElemOffset),z.call(this,M,!0),this.path=on}if(Re=JSON.parse(JSON.stringify(ce)),this.path=L(Re,this.posX+this.margin[3],-Bt+yt+this.ctx.prevPageLastElemOffset),H===!1||ot===0){var Wt=(ot>Ue||ot<ft)&&y.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Tt,null).clip().discardPath()),z.call(this,M,H),Wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ce}else this.lineWidth=ke,z.call(this,M,H),this.lineWidth=ye},z=function(M,H){if((M!=="stroke"||H||!w.call(this))&&(M==="stroke"||H||!m.call(this))){for(var G,Y,se=[],ye=this.path,ke=0;ke<ye.length;ke++){var Ce=ye[ke];switch(Ce.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Le=se.length;if(ye[ke-1]&&!isNaN(ye[ke-1].x)&&(G=[Ce.x-ye[ke-1].x,Ce.y-ye[ke-1].y],Le>0)){for(;Le>=0;Le--)if(se[Le-1].close!==!0&&se[Le-1].begin!==!0){se[Le-1].deltas.push(G),se[Le-1].abs.push(Ce);break}}break;case"bct":G=[Ce.x1-ye[ke-1].x,Ce.y1-ye[ke-1].y,Ce.x2-ye[ke-1].x,Ce.y2-ye[ke-1].y,Ce.x-ye[ke-1].x,Ce.y-ye[ke-1].y],se[se.length-1].deltas.push(G);break;case"qct":var Re=ye[ke-1].x+2/3*(Ce.x1-ye[ke-1].x),ce=ye[ke-1].y+2/3*(Ce.y1-ye[ke-1].y),dt=Ce.x+2/3*(Ce.x1-Ce.x),gt=Ce.y+2/3*(Ce.y1-Ce.y),de=Ce.x,Ne=Ce.y;G=[Re-ye[ke-1].x,ce-ye[ke-1].y,dt-ye[ke-1].x,gt-ye[ke-1].y,de-ye[ke-1].x,Ne-ye[ke-1].y],se[se.length-1].deltas.push(G);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Ce)}}Y=H?null:M==="stroke"?"stroke":"fill";for(var Pe=!1,He=0;He<se.length;He++)if(se[He].arc)for(var Ue=se[He].abs,ft=0;ft<Ue.length;ft++){var ot=Ue[ft];ot.type==="arc"?W.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,H,!Pe):ee.call(this,ot.x,ot.y),Pe=!0}else if(se[He].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(se[He].begin!==!0){var St=se[He].start.x,yt=se[He].start.y;fe.call(this,se[He].deltas,St,yt),Pe=!0}Y&&O.call(this,Y),H&&Q.call(this)}},q=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-G;case"top":return M+H-G;case"hanging":return M+H-2*G;case"middle":return M+H/2-G;default:return M}},P=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,G){this.colorStops.push([H,G])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(M,H,G,Y,se,ye,ke,Ce,Le){for(var Re=K.call(this,G,Y,se,ye),ce=0;ce<Re.length;ce++){var dt=Re[ce];ce===0&&(Le?B.call(this,dt.x1+M,dt.y1+H):ee.call(this,dt.x1+M,dt.y1+H)),ue.call(this,M,H,dt.x2,dt.y2,dt.x3,dt.y3,dt.x4,dt.y4)}Ce?Q.call(this):O.call(this,ke)},O=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(M,H){this.pdf.internal.out(t(M)+" "+r(H)+" m")},j=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var G,Y,se,ye=this.pdf.getTextDimensions(M.text),ke=q.call(this,M.y),Ce=P.call(this,ke)-ye.h,Le=this.ctx.transform.applyToPoint(new s(M.x,ke));if(this.autoPaging){var Re=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var dt=this.ctx.transform.applyToRectangle(new o(M.x,ke,ye.w,ye.h)),gt=ce.applyToRectangle(new o(M.x,Ce,ye.w,ye.h)),de=S.call(this,gt),Ne=[],Pe=0;Pe<de.length;Pe+=1)Ne.indexOf(de[Pe])===-1&&Ne.push(de[Pe]);R(Ne);for(var He=Ne[0],Ue=Ne[Ne.length-1],ft=He;ft<Ue+1;ft++){this.pdf.setPage(ft);var ot=ft===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],wt=yt-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Tt-this.margin[3],on=ft===1?0:St+(ft-2)*wt;if(this.ctx.clip_path.length!==0){var Wt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(G,this.posX+this.margin[3],-1*on+ot),z.call(this,"fill",!0),this.path=Wt}var Ct=L([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-on+ot+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*M.scale),se=this.lineWidth,this.lineWidth=se*M.scale);var Ge=this.autoPaging!=="text";if(Ge||Ct.y+Ct.h<=yt){if(Ge||Ct.y>=ot&&Ct.x<=Tt){var et=Ge?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Tt-Ct.x)[0],Qt=L([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-on+ot+this.ctx.prevPageLastElemOffset)[0],Dt=Ge&&(ft>He||ft<Ue)&&y.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,wt,null).clip().discardPath()),this.pdf.text(et,Qt.x,Qt.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else Ct.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-Ct.y);M.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)}}else M.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*M.scale),se=this.lineWidth,this.lineWidth=se*M.scale),this.pdf.text(M.text,Le.x+this.posX,Le.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)},ee=function(M,H,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(t(M+G)+" "+r(H+Y)+" l")},fe=function(M,H,G){return this.pdf.lines(M,H,G,null,null)},ue=function(M,H,G,Y,se,ye,ke,Ce){this.pdf.internal.out([e(i(G+M)),e(a(Y+H)),e(i(se+M)),e(a(ye+H)),e(i(ke+M)),e(a(Ce+H)),"c"].join(" "))},K=function(M,H,G,Y){for(var se=2*Math.PI,ye=Math.PI/2;H>G;)H-=se;var ke=Math.abs(G-H);ke<se&&Y&&(ke=se-ke);for(var Ce=[],Le=Y?-1:1,Re=H;ke>1e-5;){var ce=Re+Le*Math.min(ke,ye);Ce.push(le.call(this,M,Re,ce)),ke-=Math.abs(ce-Re),Re=ce}return Ce},le=function(M,H,G){var Y=(G-H)/2,se=M*Math.cos(Y),ye=M*Math.sin(Y),ke=se,Ce=-ye,Le=ke*ke+Ce*Ce,Re=Le+ke*se+Ce*ye,ce=4/3*(Math.sqrt(2*Le*Re)-Re)/(ke*ye-Ce*se),dt=ke-ce*Ce,gt=Ce+ce*ke,de=dt,Ne=-gt,Pe=Y+H,He=Math.cos(Pe),Ue=Math.sin(Pe);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:dt*He-gt*Ue,y2:dt*Ue+gt*He,x3:de*He-Ne*Ue,y3:de*Ue+Ne*He,x4:M*Math.cos(G),y4:M*Math.sin(G)}},Te=function(M){return 180*M/Math.PI},ge=function(M,H,G,Y,se,ye){var ke=M+.5*(G-M),Ce=H+.5*(Y-H),Le=se+.5*(G-se),Re=ye+.5*(Y-ye),ce=Math.min(M,se,ke,Le),dt=Math.max(M,se,ke,Le),gt=Math.min(H,ye,Ce,Re),de=Math.max(H,ye,Ce,Re);return new o(ce,gt,dt-ce,de-gt)},Be=function(M,H,G,Y,se,ye,ke,Ce){var Le,Re,ce,dt,gt,de,Ne,Pe,He,Ue,ft,ot,St,yt,wt=G-M,Tt=Y-H,Bt=se-G,on=ye-Y,Wt=ke-se,Ct=Ce-ye;for(Re=0;Re<41;Re++)He=(Ne=(ce=M+(Le=Re/40)*wt)+Le*((gt=G+Le*Bt)-ce))+Le*(gt+Le*(se+Le*Wt-gt)-Ne),Ue=(Pe=(dt=H+Le*Tt)+Le*((de=Y+Le*on)-dt))+Le*(de+Le*(ye+Le*Ct-de)-Pe),Re==0?(ft=He,ot=Ue,St=He,yt=Ue):(ft=Math.min(ft,He),ot=Math.min(ot,Ue),St=Math.max(St,He),yt=Math.max(yt,Ue));return new o(Math.round(ft),Math.round(ot),Math.round(St-ft),Math.round(yt-ot))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,G=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(rn.API),(function(n){var e=function(s){var o,c,u,h,p,g,m,w,y,S;for(c=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(S=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)-(m=p%85))/85)%85,c.push(g+33,m+33,w+33,y+33,S+33)):c.push(122);return(function(C,L){for(var R=L;R>0;R--)C.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var o,c,u,h,p,g=String,m="length",w=255,y="charCodeAt",S="slice",C="replace";for(s[S](-2),s=s[S](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],h=0,p=(s+=o="uuuuu"[S](s[m]%5||5))[m];p>h;h+=5)c=52200625*(s[y](h)-33)+614125*(s[y](h+1)-33)+7225*(s[y](h+2)-33)+85*(s[y](h+3)-33)+(s[y](h+4)-33),u.push(w&c>>24,w&c>>16,w&c>>8,w&c);return(function(L,R){for(var D=R;D>0;D--)L.pop()})(u,o[m]),g.fromCharCode.apply(g,u)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=NT(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})(rn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(c,u,h){var p=new XMLHttpRequest,g=0,m=function(w){var y=w.length,S=[],C=String.fromCharCode;for(g=0;g<y;g+=1)S.push(C(255&w.charCodeAt(g)));return S.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return m(p.responseText)})(i,a,s)}catch{}return o})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(rn.API),(function(n){function e(){return(En.html2canvas?Promise.resolve(En.html2canvas):oA(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(En.DOMPurify?Promise.resolve(En.DOMPurify):oA(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Dr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},a=function o(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var w=h[m],y=w.src.find(function(S){return S.format==="truetype"});y&&u.addFont(y.url,w.ref.name,w.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||rn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,h){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,p).then(function(g){return u.updateProgress(1),g})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),g=u.call(p,o,c);return s.convert(g,h.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rn.getPageSize=function(o,c,u){if(Dr(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var w,y=0,S=0;if(m.hasOwnProperty(g))y=m[g][1]/p,S=m[g][0]/p;else try{y=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",S>y&&(w=S,S=y,y=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>S&&(w=S,S=y,y=w)}return{width:S,height:y,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(EA):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}})(rn.API),rn.API.addJS=function(n){return eR=n,this.internal.events.subscribe("postPutResources",function(){sw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Q8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sw!==void 0&&Q8!==void 0&&this.internal.out("/Names <</JavaScript "+sw+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var p=t.internal.newObject();h.push(p);var g=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(rn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,s,o){var c,u=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,y={width:0,height:0,numcomponents:1},S=4;S<w;S+=2){if(S+=m,e.indexOf(p.charCodeAt(S+1))!==-1){g=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),y={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:g,numcomponents:p.charCodeAt(S+9)};break}m=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}})(rn.API),rn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=NK(n,{checkCrc:!0}),s=a.width,o=a.height,c=a.channels,u=a.palette,h=a.depth;i=u&&c===1?(function(W){for(var O=W.width,Q=W.height,B=W.data,j=W.palette,ee=W.depth,fe=!1,ue=[],K=[],le=void 0,Te=!1,ge=0,Be=0;Be<j.length;Be++){var ie=i8(j[Be],4),M=ie[0],H=ie[1],G=ie[2],Y=ie[3];ue.push(M,H,G),Y!=null&&(Y===0?(ge++,K.length<1&&K.push(Be)):Y<255&&(Te=!0))}if(Te||ge>1){fe=!0,K=void 0;var se=O*Q;le=new Uint8Array(se);for(var ye=new DataView(B.buffer),ke=0;ke<se;ke++){var Ce=CA(ye,ke,ee),Le=i8(j[Ce],4)[3];le[ke]=Le}}else ge===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:fe?8:void 0,colorBytes:B,alphaBytes:le,needSMask:fe,palette:ue,mask:K}})(a):c===2||c===4?(function(W){for(var O=W.data,Q=W.width,B=W.height,j=W.channels,ee=W.depth,fe=j===2?"DeviceGray":"DeviceRGB",ue=j-1,K=Q*B,le=ue,Te=K*le,ge=1*K,Be=Math.ceil(Te*ee/8),ie=Math.ceil(ge*ee/8),M=new Uint8Array(Be),H=new Uint8Array(ie),G=new DataView(O.buffer),Y=new DataView(M.buffer),se=new DataView(H.buffer),ye=!1,ke=0;ke<K;ke++){for(var Ce=ke*j,Le=0;Le<le;Le++)cR(Y,CA(G,Ce+Le,ee),ke*le+Le,ee);var Re=CA(G,Ce+le,ee);Re<(1<<ee)-1&&(ye=!0),cR(se,Re,1*ke,ee)}return{colorSpace:fe,colorsPerPixel:ue,sMaskBitsPerComponent:ye?ee:void 0,colorBytes:M,alphaBytes:H,needSMask:ye}})(a):(function(W){var O=W.data,Q=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Q,colorsPerPixel:Q==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(B){for(var j=B.length,ee=new Uint8Array(2*j),fe=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),ue=0;ue<j;ue++)fe.setUint16(2*ue,B[ue],!1);return ee})(O):O,needSMask:!1}})(a);var p,g,m,w=i,y=w.colorSpace,S=w.colorsPerPixel,C=w.sMaskBitsPerComponent,L=w.colorBytes,R=w.alphaBytes,D=w.needSMask,z=w.palette,q=w.mask,P=null;return r!==rn.API.image_compression.NONE&&typeof NT=="function"?(P=(function(W){var O;switch(W){case rn.API.image_compression.FAST:O=11;break;case rn.API.image_compression.MEDIUM:O=13;break;case rn.API.image_compression.SLOW:O=14;break;default:O=12}return O})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(P," /Colors ").concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(s),n=iR(L,Math.ceil(s*S*h/8),S,h,r),D&&(m=iR(R,Math.ceil(s*C/8),1,C,r))):(p=void 0,g=void 0,n=L,D&&(m=R)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:p,decodeParameters:g,transparency:q,palette:z,sMask:m,predictor:P,width:s,height:o,bitsPerComponent:h,sMaskBitsPerComponent:C,colorSpace:y}}},(function(n){n.processGIF89A=function(e,t,r,i){var a=new KK(e),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},h=new kA(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A})(rn.API),Mc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$r.log("bit decode error:"+t)}},Mc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Mc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Mc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Mc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=u}this.pos+=n}},Mc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&t)/t*255|0,u=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=n}},Mc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Mc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Mc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var a=new Mc(e,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new kA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}})(rn.API),fR.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var a=new fR(e),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new kA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}})(rn.API),rn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var h=r[u],p=r[u+1],g=r[u+2],m=r[u+3];a[o++]=h,a[o++]=p,a[o++]=g,s[c++]=m}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},rn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xm=rn.API,ow=xm.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,m=n.length,w=0,y=o[0]||c,S=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=p&&Dr(u[r])==="object"&&!isNaN(parseInt(u[r][w],10))?u[r][w]/h:0,S.push((o[r]||y)/c+g)),w=r;return S},tR=xm.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return xm.processArabic&&(n=xm.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:ow.apply(this,arguments).reduce(function(a,s){return a+s},0)},nR=function(n,e,t,r){for(var i=[],a=0,s=n.length,o=0;a!==s&&o+e[a]<t;)o+=e[a],a++;i.push(n.slice(0,a));var c=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(n.slice(c,a)),o=0,c=a),o+=e[a],a++;return c!==a&&i.push(n.slice(c,a)),i},rR=function(n,e,t){t||(t={});var r,i,a,s,o,c,u,h=[],p=[h],g=t.textIndent||0,m=0,w=0,y=n.split(" "),S=ow.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var C=Array(c).join(" "),L=[];y.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(z,q){return(q&&z.length?`
`:"")+z})):L.push(D[0])}),y=L,c=tR.apply(this,[C,t])}for(a=0,s=y.length;a<s;a++){var R=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),R=1),g+m+(w=(i=ow.apply(this,[r,t])).reduce(function(D,z){return D+z},0))>e||R){if(w>e){for(o=nR.apply(this,[r,i,e-(g+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);w=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(D,z){return D+z},0)}else h=[r];p.push(h),g=w+c,m=S}else h.push(r),g+=m+w,m=S}return u=c?function(D,z){return(z?C:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(u)},xm.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(rR.apply(this,[r[o],s,a]));return u},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]=e[a],i[e[a]]=t[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=n.__fontmetrics__.compress=function(g){var m,w,y,S,C=["{"];for(var L in g){if(m=g[L],isNaN(parseInt(L,10))?w="'"+L+"'":(L=parseInt(L,10),w=(w=s(L).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof m=="number")m<0?(y=s(m).slice(3),S="-"):(y=s(m).slice(2),S=""),y=S+y.slice(0,-1)+i[y.slice(-1)];else{if(Dr(m)!=="object")throw new Error("Don't know what to do with value type "+Dr(m)+".");y=o(m)}C.push(w+y)}return C.push("}"),C.join("")},c=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,w,y,S,C={},L=1,R=C,D=[],z="",q="",P=g.length-1,W=1;W<P;W+=1)(S=g[W])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(S):S=="{"?(D.push([R,y]),R={},y=void 0):S=="}"?((w=D.pop())[0][w[1]]=R,y=void 0,R=w[0]):S=="-"?L=-1:y===void 0?r.hasOwnProperty(S)?(z+=r[S],y=parseInt(z,16)*L,L=1,z=""):z+=S:r.hasOwnProperty(S)?(q+=r[S],R[y]=parseInt(q,16)*L,L=1,y=void 0,q=""):q+=S;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var m=g.font,w=p.Unicode[m.postScriptName];w&&(m.metadata.Unicode={},m.metadata.Unicode.widths=w.widths,m.metadata.Unicode.kerning=w.kerning);var y=h.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(rn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Qw(o)),s.metadata=n.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(rn),rn.API.addSvgAsImage=function(n,e,t,r,i,a,s,o){if(isNaN(e)||isNaN(t))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(En.canvg?Promise.resolve(En.canvg):oA(()=>import("./index.es-oul0M5b3.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,s,o)})},rn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},rn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,h=0,p=0;function g(w,y){var S,C=!1;for(S=0;S<w.length;S+=1)w[S]===y&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Dr(n)==="object"){for(i in n)if(a=n[i],g(o,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&g(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(r=!1);r===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in t)t[w].explicitSet===!0&&(t[w].type==="name"?y.push("/"+w+" /"+t[w].value):y.push("/"+w+" "+t[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(rn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,g=a.length;p<g;++p){if(o=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},r=function(a){var s,o,c,u,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(a).sort(function(m,w){return m-w})).length;p<g;p++)s=o[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",w=0;w<g.length;w++)m+=String.fromCharCode(g[w]);var y=u();h({data:m,addLength1:!0,objectId:y}),c("endobj");var S=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Lm(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var L=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Lm(o.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+Lm(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+L+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var w=u();h({data:g,addLength1:!0,objectId:w}),c("endobj");var y=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Lm(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var C=0;C<o.metadata.hmtx.widths.length;C++)o.metadata.hmtx.widths[C]=parseInt(o.metadata.hmtx.widths[C]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Lm(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,u=a.y,h=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,w=p.fonts,y=m,S="",C=0,L="",R=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:h,mutex:p};for(L=o,y=m,Array.isArray(o)&&(L=o[0]),C=0;C<L.length;C+=1)w[y].metadata.hasOwnProperty("cmap")&&(s=w[y].metadata.cmap.unicode.codeMap[L[C].charCodeAt(0)]),s||L[C].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?S+=L[C]:S+="";var D="";return parseInt(y.slice(1))<14||R==="WinAnsiEncoding"?D=g(S,y).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(D=t(S,w[y])),p.isHex=!0,{text:D,x:c,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])})(rn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(rn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,s,o,c,u,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,R=0;this.__bidiEngine__={};var D=function(B){var j=B.charCodeAt(),ee=j>>8,fe=y[ee];return fe!==void 0?p[256*fe+(255&j)]:ee===252||ee===253?"AL":C.test(ee)?"L":ee===8?"R":"N"},z=function(B){for(var j,ee=0;ee<B.length;ee++){if((j=D(B.charAt(ee)))==="L")return!1;if(j==="R")return!0}return!1},q=function(B,j,ee,fe){var ue,K,le,Te,ge=j[fe];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ge="AN");break;case"AL":L=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":fe<1||fe+1>=j.length||(ue=ee[fe-1])!=="EN"&&ue!=="AN"||(K=j[fe+1])!=="EN"&&K!=="AN"?ge="N":L&&(K="AN"),ge=K===ue?K:"N";break;case"ES":ge=(ue=fe>0?ee[fe-1]:"B")==="EN"&&fe+1<j.length&&j[fe+1]==="EN"?"EN":"N";break;case"ET":if(fe>0&&ee[fe-1]==="EN"){ge="EN";break}if(L){ge="N";break}for(le=fe+1,Te=j.length;le<Te&&j[le]==="ET";)le++;ge=le<Te&&j[le]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(Te=j.length,le=fe+1;le<Te&&j[le]==="NSM";)le++;if(le<Te){var Be=B[fe],ie=Be>=1425&&Be<=2303||Be===64286;if(ue=j[le],ie&&(ue==="R"||ue==="AL")){ge="R";break}}}ge=fe<1||(ue=j[fe-1])==="B"?"N":ee[fe-1];break;case"B":L=!1,i=!0,ge=R;break;case"S":a=!0,ge="N"}return ge},P=function(B,j,ee){var fe=B.split("");return ee&&W(fe,ee,{hiLevel:R}),fe.reverse(),j&&j.reverse(),fe.join("")},W=function(B,j,ee){var fe,ue,K,le,Te,ge=-1,Be=B.length,ie=0,M=[],H=R?m:g,G=[];for(L=!1,i=!1,a=!1,ue=0;ue<Be;ue++)G[ue]=D(B[ue]);for(K=0;K<Be;K++){if(Te=ie,M[K]=q(B,G,M,K),fe=240&(ie=H[Te][w[M[K]]]),ie&=15,j[K]=le=H[ie][5],fe>0)if(fe===16){for(ue=ge;ue<K;ue++)j[ue]=1;ge=-1}else ge=-1;if(H[ie][6])ge===-1&&(ge=K);else if(ge>-1){for(ue=ge;ue<K;ue++)j[ue]=le;ge=-1}G[K]==="B"&&(j[K]=0),ee.hiLevel|=le}a&&(function(Y,se,ye){for(var ke=0;ke<ye;ke++)if(Y[ke]==="S"){se[ke]=R;for(var Ce=ke-1;Ce>=0&&Y[Ce]==="WS";Ce--)se[Ce]=R}})(G,j,Be)},O=function(B,j,ee,fe,ue){if(!(ue.hiLevel<B)){if(B===1&&R===1&&!i)return j.reverse(),void(ee&&ee.reverse());for(var K,le,Te,ge,Be=j.length,ie=0;ie<Be;){if(fe[ie]>=B){for(Te=ie+1;Te<Be&&fe[Te]>=B;)Te++;for(ge=ie,le=Te-1;ge<le;ge++,le--)K=j[ge],j[ge]=j[le],j[le]=K,ee&&(K=ee[ge],ee[ge]=ee[le],ee[le]=K);ie=Te}ie++}}},Q=function(B,j,ee){var fe=B.split(""),ue={hiLevel:R};return ee||(ee=[]),W(fe,ee,ue),(function(K,le,Te){if(Te.hiLevel!==0&&h)for(var ge,Be=0;Be<K.length;Be++)le[Be]===1&&(ge=S.indexOf(K[Be]))>=0&&(K[Be]=S[ge+1])})(fe,ee,ue),O(2,fe,j,ee,ue),O(1,fe,j,ee,ue),fe.join("")};return this.__bidiEngine__.doBidiReorder=function(B,j,ee){if((function(ue,K){if(K)for(var le=0;le<ue.length;le++)K[le]=le;o===void 0&&(o=z(ue)),u===void 0&&(u=z(ue))})(B,j),s||!c||u)if(s&&c&&o^u)R=o?1:0,B=P(B,j,ee);else if(!s&&c&&u)R=o?1:0,B=Q(B,j,ee),B=P(B,j);else if(!s||o||c||u){if(s&&!c&&o^u)B=P(B,j),o?(R=0,B=Q(B,j,ee)):(R=1,B=Q(B,j,ee),B=P(B,j));else if(s&&o&&!c&&u)R=1,B=Q(B,j,ee),B=P(B,j);else if(!s&&!c&&o^u){var fe=h;o?(R=1,B=Q(B,j,ee),R=0,h=!1,B=Q(B,j,ee),h=fe):(R=0,B=Q(B,j,ee),B=P(B,j),R=1,h=!1,B=Q(B,j,ee),h=fe,B=P(B,j))}}else R=0,B=Q(B,j,ee);else R=o?1:0,B=Q(B,j,ee);return B},this.__bidiEngine__.setOptions=function(B){B&&(s=B.isInputVisual,c=B.isOutputVisual,o=B.isInputRtl,u=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([t.doBidiReorder(i[o])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(rn),rn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new e0(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new fJ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new JK(this.contents),this.head=new QK(this),this.name=new iJ(this),this.cmap=new wF(this),this.toUnicode={},this.hhea=new eJ(this),this.maxp=new aJ(this),this.hmtx=new sJ(this),this.post=new nJ(this),this.os2=new tJ(this),this.loca=new uJ(this),this.glyf=new oJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var cu,e0=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,s,o,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n})(),JK=(function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,s,o,c,u,h,p,g,m,w,y;for(y in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),s=Math.floor(p/c),h=16*m-p,(i=new e0).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(s),i.writeShort(h),a=16*m,u=i.pos+a,o=null,w=[],t)for(g=t[y],i.writeString(y),i.writeInt(n(g)),i.writeInt(u),i.writeInt(g.length),w=w.concat(g),y==="head"&&(o=u),u+=g.length;u%4;)w.push(0),u++;return i.write(w),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,s;for(t=_F.call(t);t.length%4;)t.push(0);for(a=new e0(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),ZK={}.hasOwnProperty,sf=function(n,e){for(var t in e)ZK.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};cu=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var QK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new e0).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),hR=(function(){function n(e,t){var r,i,a,s,o,c,u,h,p,g,m,w,y,S,C,L,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,a=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),e.pos+=2,y=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),u=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),h=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var D,z;for(z=[],c=D=0;0<=i?D<i:D>i;c=0<=i?++D:--D)z.push(e.readUInt16());return z})(),c=C=0,R=a.length;C<R;c=++C)for(S=a[c],r=L=w=y[c];w<=S?L<=S:L>=S;r=w<=S?++L:--L)h[c]===0?s=r+u[c]:(s=o[h[c]/2+(r-w)-(g-c)]||0)!==0&&(s+=u[c]),this.codeMap[r]=65535&s}e.pos=p}return n.encode=function(e,t){var r,i,a,s,o,c,u,h,p,g,m,w,y,S,C,L,R,D,z,q,P,W,O,Q,B,j,ee,fe,ue,K,le,Te,ge,Be,ie,M,H,G,Y,se,ye,ke,Ce,Le,Re,ce;switch(fe=new e0,s=Object.keys(e).sort(function(dt,gt){return dt-gt}),t){case"macroman":for(y=0,S=(function(){var dt=[];for(w=0;w<256;++w)dt.push(0);return dt})(),L={0:0},a={},ue=0,ge=s.length;ue<ge;ue++)L[Ce=e[i=s[ue]]]==null&&(L[Ce]=++y),a[i]={old:e[i],new:L[e[i]]},S[i]=L[e[i]];return fe.writeUInt16(1),fe.writeUInt16(0),fe.writeUInt32(12),fe.writeUInt16(0),fe.writeUInt16(262),fe.writeUInt16(0),fe.write(S),{charMap:a,subtable:fe.data,maxGlyphID:y+1};case"unicode":for(j=[],p=[],R=0,L={},r={},C=u=null,K=0,Be=s.length;K<Be;K++)L[z=e[i=s[K]]]==null&&(L[z]=++R),r[i]={old:z,new:L[z]},o=L[z]-i,C!=null&&o===u||(C&&p.push(C),j.push(i),u=o),C=i;for(C&&p.push(C),p.push(65535),j.push(65535),Q=2*(O=j.length),W=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(W/2)/Math.LN2,P=2*O-W,c=[],q=[],m=[],w=le=0,ie=j.length;le<ie;w=++le){if(B=j[w],h=p[w],B===65535){c.push(0),q.push(0);break}if(B-(ee=r[B].new)>=32768)for(c.push(0),q.push(2*(m.length+O-w)),i=Te=B;B<=h?Te<=h:Te>=h;i=B<=h?++Te:--Te)m.push(r[i].new);else c.push(ee-B),q.push(0)}for(fe.writeUInt16(3),fe.writeUInt16(1),fe.writeUInt32(12),fe.writeUInt16(4),fe.writeUInt16(16+8*O+2*m.length),fe.writeUInt16(0),fe.writeUInt16(Q),fe.writeUInt16(W),fe.writeUInt16(g),fe.writeUInt16(P),ye=0,M=p.length;ye<M;ye++)i=p[ye],fe.writeUInt16(i);for(fe.writeUInt16(0),ke=0,H=j.length;ke<H;ke++)i=j[ke],fe.writeUInt16(i);for(Le=0,G=c.length;Le<G;Le++)o=c[Le],fe.writeUInt16(o);for(Re=0,Y=q.length;Re<Y;Re++)D=q[Re],fe.writeUInt16(D);for(ce=0,se=m.length;ce<se;ce++)y=m[ce],fe.writeUInt16(y);return{charMap:r,subtable:fe.data,maxGlyphID:R+1}}},n})(),wF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new hR(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=hR.encode(e,t),(i=new e0).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),eJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),tJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),nJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,c;for(c=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)c.push(e.readUInt32());return c}).call(this)}},n})(),rJ=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,a,s,o,c,u,h,p,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},a=h=0,p=r.length;h<p;a=++h)i=r[a],e.pos=i.offset,u=e.readString(i.length),s=new rJ(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),aJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),sJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,a,s,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],t=u=0;0<=i?u<i:u>i;t=0<=i?++u:--u)h.push(e.readInt16());return h})(),this.widths=(function(){var u,h,p,g;for(g=[],u=0,h=(p=this.metrics).length;u<h;u++)a=p[u],g.push(a.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),_F=[].slice,oJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,a,s,o,c,u,h,p;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,s=(o=new e0(t.read(i))).readShort(),u=o.readShort(),p=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[e]=s===-1?new cJ(o,u,p,c,h):new lJ(o,s,u,p,c,h),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,a,s,o,c;for(s=[],a=[],o=0,c=t.length;o<c;o++)i=e[t[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},n})(),lJ=(function(){function n(e,t,r,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),cJ=(function(){function n(e,t,r,i,a){var s,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new e0(_F.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),uJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sf(n,cu),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<t.length&&t[a]==s){++a,r[s]=i;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(i+=c)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},n})(),fJ=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,s,o,c;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))r=c[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,s,o,c,u,h,p,g,m,w,y,S,C;for(i in r=wF.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),m={0:0},C=r.charMap)m[(c=C[i]).old]=c.new;for(w in g=r.maxGlyphID,s)w in m||(m[w]=g++);return h=(function(L){var R,D;for(R in D={},L)D[L[R]]=R;return D})(m),p=Object.keys(h).sort(function(L,R){return L-R}),y=(function(){var L,R,D;for(D=[],L=0,R=p.length;L<R;L++)o=p[L],D.push(h[o]);return D})(),a=this.font.glyf.encode(s,y,m),u=this.font.loca.encode(a.offsets,y),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},n})();rn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+(function(){var o,c,u;for(u=[],o=0,c=t.length;o<c;o++)r=t[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+t},e})();const hJ={es:{title:"Generar Documento PDF",selectTemplate:"Seleccionar Plantilla Base",customText:"Texto Personalizado para el PDF",textPos:"Posicin del Texto",fileName:"Nombre del Archivo",generate:"Generar y Adjuntar",posTop:"Superior",posCenter:"Centro",posBottom:"Inferior",noTemplate:"Sin Plantilla (Documento en blanco)",errorSize:"El PDF generado excede el lmite de {limit}MB."},en:{title:"Generate PDF Document",selectTemplate:"Select Base Template",customText:"Custom Text for PDF",textPos:"Text Position",fileName:"File Name",generate:"Generate and Attach",posTop:"Top",posCenter:"Center",posBottom:"Bottom",noTemplate:"No Template (Blank Document)",errorSize:"The generated PDF exceeds the limit of {limit}MB."}},dJ=({templates:n,lang:e,onClose:t,onAttach:r,sizeLimitMb:i,settings:a})=>{const s=ut.useMemo(()=>hJ[e],[e]),[o,c]=ut.useState(""),[u,h]=ut.useState(""),[p,g]=ut.useState("top"),[m,w]=ut.useState("Documento_"+new Date().getTime()),y=()=>{let S=a.pageFormat;S==="custom"&&a.customDimensions&&(S=[a.customDimensions.width,a.customDimensions.height]);const C=new rn({orientation:"portrait",unit:"mm",format:S}),L=C.internal.pageSize.getWidth(),R=C.internal.pageSize.getHeight(),D=()=>{if(a.pdfLogo){let j=10,ee=10;a.logoPosition==="top-right"?j=L-25-10:a.logoPosition==="bottom-left"?ee=R-25-10:a.logoPosition==="bottom-right"&&(j=L-25-10,ee=R-25-10);try{C.addImage(a.pdfLogo,"PNG",j,ee,25,25)}catch(fe){console.error("Logo generation failed:",fe)}}},z=n.find(Q=>Q.id===o);D(),C.setFontSize(22),C.text(z?z.name:"Documento Generado",20,20),C.setFontSize(12);let q=40;if(z){const Q=z.body.replace(/<[^>]*>?/gm," "),B=C.splitTextToSize(Q,L-40);C.text(B,20,q),q+=B.length*7+20}C.setFontSize(14),C.setTextColor(79,70,229);const P=C.splitTextToSize(u,L-40);let W=q;p==="top"?W=z?q:40:p==="center"?W=R/2:p==="bottom"&&(W=R-40),C.text(P,20,W);const O=C.output("blob");if(O.size>i*1024*1024){alert(s.errorSize.replace("{limit}",i.toString()));return}r({id:Date.now().toString(),name:m.endsWith(".pdf")?m:m+".pdf",size:O.size,type:"application/pdf",label:"PDF GENERADO",previewUrl:void 0}),t()};return E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg",children:E.jsx(r5,{size:20})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:s.title})]}),E.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full",children:E.jsx(to,{size:24})})]}),E.jsxs("div",{className:"p-8 space-y-6 text-left",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(av,{size:14})," ",s.selectTemplate]}),E.jsxs("select",{value:o,onChange:S=>c(S.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200",children:[E.jsx("option",{value:"",children:s.noTemplate}),n.map(S=>E.jsx("option",{value:S.id,children:S.name},S.id))]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(i5,{size:14})," ",s.customText]}),E.jsx("textarea",{rows:3,value:u,onChange:S=>h(S.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm",placeholder:"..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(yB,{size:14})," ",s.textPos]}),E.jsx("div",{className:"flex bg-slate-50 dark:bg-slate-800 p-1 rounded-xl border border-slate-100 dark:border-slate-700",children:["top","center","bottom"].map(S=>E.jsx("button",{onClick:()=>g(S),className:`flex-1 py-1.5 text-[10px] font-bold rounded-lg transition-all ${p===S?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500"}`,children:S==="top"?s.posTop:S==="center"?s.posCenter:s.posBottom},S))})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx($c,{size:14})," ",s.fileName]}),E.jsx("input",{type:"text",value:m,onChange:S=>w(S.target.value),className:"w-full p-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm"})]})]})]}),E.jsx("footer",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:E.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 transition-all active:scale-95",children:[E.jsx(mg,{size:18})," ",s.generate]})})]})})},pJ={es:{title:"Redactar Nuevo Correo",subtitle:"Crea tu mensaje y envalo a travs de tus perfiles SMTP.",templates:"Plantillas",profiles:"Perfiles SMTP",selectProfile:"Seleccionar Perfil",noSmtp:"No hay perfil SMTP seleccionado",noSmtpDesc:"Por favor, aade o selecciona una configuracin SMTP en los ajustes para habilitar el envo.",recipient:"Direccin de correo del destinatario (separa con comas)",ccLabel:"Con copia a:",subject:"Asunto",aiAssistant:"Asistente IA:",refining:"Refinando...",placeholder:"Comienza a escribir tu mensaje aqu...",discard:"Descartar borrador",saveTemplate:"Guardar como Plantilla",saved:"Guardado!",send:"Enviar Mensaje",sending:"Enviando...",confirmTitle:"Confirmar Envo",confirmDesc:"Ests seguro de que quieres enviar este correo?",cancel:"Cancelar",confirm:"Confirmar",noTemplates:"No se encontraron plantillas.",attachments:"Adjuntos",previewNotAvailable:"Previsualizacin no disponible para este tipo de archivo",rename:"Renombrar",remove:"Eliminar",noContacts:"No hay contactos guardados.",contactsTitle:"Contactos y Grupos",groupLabel:"GRUPO",labelOrden:"ORDEN MEDICA",labelResumen:"RESUMEN MEDICO",labelOtro:"OTRO",labelPdf:"GENERAR PDF",sizeErrorTitle:"Archivo demasiado grande",sizeErrorDesc:'El archivo "{name}" excede el lmite permitido de {limit}MB.'},en:{title:"Compose New Email",subtitle:"Craft your message and send it through your SMTP profiles.",templates:"Templates",profiles:"SMTP Profiles",selectProfile:"Select Profile",noSmtp:"No SMTP profile selected",noSmtpDesc:"Please add or select an SMTP configuration in the settings to enable sending.",recipient:"Recipient email address (separate with commas)",ccLabel:"Copy to:",subject:"Subject line",aiAssistant:"AI Assistant:",refining:"Refining...",placeholder:"Start writing your message here...",discard:"Discard draft",saveTemplate:"Save as Template",saved:"Saved!",send:"Send Message",sending:"Sending...",confirmTitle:"Confirm Send",confirmDesc:"Are you sure you want to send this email?",cancel:"Cancel",confirm:"Confirm",noTemplates:"No templates found.",attachments:"Attachments",previewNotAvailable:"Preview not available for this file type",rename:"Rename",remove:"Remove",noContacts:"No contacts saved yet.",contactsTitle:"Contacts & Groups",groupLabel:"GROUP",labelOrden:"MEDICAL ORDER",labelResumen:"MEDICAL SUMMARY",labelOtro:"OTHER",labelPdf:"GENERATE PDF",sizeErrorTitle:"File too large",sizeErrorDesc:'The file "{name}" exceeds the allowed limit of {limit}MB.'}},gJ=({onSend:n,isSending:e,smtpReady:t,smtpProfiles:r,activeProfileId:i,onSelectProfile:a,contacts:s,contactGroups:o,templates:c,pdfTemplates:u,groupEmails:h,onSaveTemplate:p,lang:g,attachmentSizeLimit:m,pdfSettings:w})=>{const y=ut.useMemo(()=>pJ[g],[g]),[S,C]=ut.useState(""),[L,R]=ut.useState(""),[D,z]=ut.useState(""),[q,P]=ut.useState(!1),[W,O]=ut.useState(!1),[Q,B]=ut.useState(!1),[j,ee]=ut.useState(!1),[fe,ue]=ut.useState(!1),[K,le]=ut.useState([]),[Te,ge]=ut.useState(null),[Be,ie]=ut.useState(!1),[M,H]=ut.useState(!1),[G,Y]=ut.useState(null),[se,ye]=ut.useState(""),[ke,Ce]=ut.useState(null),[Le,Re]=ut.useState(new Set),[ce,dt]=ut.useState(void 0),gt=ut.useRef(null),de=ut.useRef(null),Ne=r.find(Ge=>Ge.id===i);ut.useEffect(()=>{de.current&&de.current.innerHTML!==D&&(de.current.innerHTML=D)},[D]);const Pe=async Ge=>{if(!D)return;P(!0);const et=await wY(L,D,{tone:Ge},g);R(et.subject),z(et.body),P(!1)},He=()=>{!S||!L||!D||H(!0)},Ue=()=>{const Ge=[];h.forEach(et=>{if(Le.has(et.id)&&et.emails){const Qt=et.emails.split(",").map(Dt=>Dt.trim()).filter(Dt=>!!Dt);Ge.push(...Qt)}}),n(S,L,D,K,Ge),H(!1)},ft=Ge=>{const et=new Set(Le);et.has(Ge)?et.delete(Ge):et.add(Ge),Re(et)},ot=Ge=>{const et=[];if(Ge.contactIds.forEach(Qt=>{const Dt=s.find(Pt=>Pt.id===Qt);Dt&&et.push(...Dt.emails)}),et.length>0){const Qt=S.split(",").map(Pt=>Pt.trim()).filter(Pt=>!!Pt),Dt=Array.from(new Set([...Qt,...et])).join(", ");C(Dt)}B(!1)},St=()=>{if(!L||!D)return;const Ge=prompt(g==="es"?"Nombre de la plantilla:":"Template name:",L)||`Template ${new Date().toLocaleDateString()}`;p({id:Date.now().toString(),name:Ge,subject:L,body:D}),ie(!0),setTimeout(()=>ie(!1),2e3)},yt=Ge=>{var et;dt(Ge),(et=gt.current)==null||et.click()},wt=Ge=>{var Qt;const et=(Qt=Ge.target.files)==null?void 0:Qt[0];if(et){const Dt=m*1024*1024;if(et.size>Dt){Ce({title:y.sizeErrorTitle,desc:y.sizeErrorDesc.replace("{name}",et.name).replace("{limit}",m.toString())}),setTimeout(()=>Ce(null),5e3),gt.current&&(gt.current.value="");return}const Pt=et.type.startsWith("image/")?URL.createObjectURL(et):void 0;le(pn=>[...pn,{id:Date.now().toString(),name:et.name,file:et,size:et.size,type:et.type,label:ce,previewUrl:Pt}])}gt.current&&(gt.current.value="")},Tt=Ge=>{Y(Ge.id),ye(Ge.name)},Bt=()=>{G&&(le(Ge=>Ge.map(et=>et.id===G?{...et,name:se||et.name}:et)),Y(null))},on=Ge=>{if(Ge===0)return"0 Bytes";const et=1024,Qt=["Bytes","KB","MB","GB"],Dt=Math.floor(Math.log(Ge)/Math.log(et));return parseFloat((Ge/Math.pow(et,Dt)).toFixed(2))+" "+Qt[Dt]},Wt=Ge=>{le(et=>et.filter(Qt=>Qt.id!==Ge))},Ct=Ge=>{document.execCommand(Ge,!1),de.current&&z(de.current.innerHTML)};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left relative",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:y.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:y.subtitle})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>ee(!j),className:"flex items-center gap-2 px-4 py-2 border text-sm font-medium rounded-xl transition-all shadow-sm bg-indigo-50 dark:bg-indigo-900/30 border-indigo-100 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 hover:bg-indigo-100",children:[E.jsx(av,{size:14})," ",y.templates," ",c.length>0&&`(${c.length})`,E.jsx(C9,{size:14,className:`transition-transform ${j?"rotate-180":""}`})]}),j&&E.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-40 py-2",children:c.length>0?c.map(Ge=>E.jsxs("button",{onClick:()=>{R(Ge.subject),z(Ge.body),ee(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[E.jsx("span",{className:"text-sm font-semibold block text-slate-700 dark:text-slate-200",children:Ge.name}),E.jsx("span",{className:"text-xs text-slate-400 truncate block",children:Ge.subject})]},Ge.id)):E.jsx("div",{className:"px-4 py-4 text-xs text-slate-400 italic text-center",children:y.noTemplates})})]}),r.length>0&&E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>O(!W),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium shadow-sm text-slate-700 dark:text-slate-200",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),Ne?Ne.name:y.selectProfile]}),W&&E.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl z-40 py-2",children:r.map(Ge=>E.jsxs("button",{onClick:()=>{a(Ge.id),O(!1)},className:"w-full px-4 py-2 text-sm text-left hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",children:[Ge.name," ",i===Ge.id&&""]},Ge.id))})]})]})]}),!t&&E.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl text-amber-800 dark:text-amber-400 flex items-start gap-3",children:[E.jsx($S,{size:18,className:"shrink-0 mt-0.5"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:y.noSmtp}),E.jsx("p",{className:"text-sm opacity-90",children:y.noSmtpDesc})]})]}),ke&&E.jsxs("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-[100] bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-900 rounded-2xl p-4 shadow-2xl flex items-start gap-4 max-w-md w-full animate-in slide-in-from-top-4 duration-300",children:[E.jsx("div",{className:"bg-red-100 dark:bg-red-900/50 p-2 rounded-full text-red-600 dark:text-red-400 shrink-0",children:E.jsx($S,{size:24})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h4",{className:"font-bold text-red-800 dark:text-red-200",children:ke.title}),E.jsx("p",{className:"text-sm text-red-600 dark:text-red-400/80",children:ke.desc})]}),E.jsx("button",{onClick:()=>Ce(null),className:"text-red-400 hover:text-red-600 transition-colors",children:E.jsx(to,{size:18})})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4 relative",children:[E.jsx(Wx,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsx("input",{type:"text",placeholder:y.recipient,className:"flex-1 bg-transparent outline-none text-slate-700 dark:text-slate-200",value:S,onChange:Ge=>C(Ge.target.value)}),E.jsxs("div",{className:"relative shrink-0 ml-2",children:[E.jsx("button",{onClick:()=>B(!Q),className:"p-2 text-slate-400 hover:text-indigo-500 transition-colors",children:E.jsx(Hm,{size:18})}),Q&&E.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-50 max-h-80 overflow-y-auto py-2 animate-in zoom-in-95 duration-150",children:[E.jsx("div",{className:"px-4 py-2 border-b border-slate-50 dark:border-slate-700/50 mb-1",children:E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:y.contactsTitle})}),o.length>0&&E.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700/50 pb-2",children:o.map(Ge=>E.jsxs("button",{onClick:()=>ot(Ge),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors border-b border-slate-50 dark:border-slate-800 last:border-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(yw,{size:14,className:"text-indigo-500"}),E.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:Ge.name}),E.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-md font-bold",children:y.groupLabel})]}),E.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 ml-6",children:[Ge.contactIds.length," contactos"]})]},Ge.id))}),s.length>0?s.map(Ge=>E.jsxs("div",{className:"border-b last:border-0 border-slate-50 dark:border-slate-700/50",children:[E.jsx("div",{className:"px-4 py-1 text-[10px] font-bold text-indigo-500 uppercase bg-slate-50/50 dark:bg-slate-800/50",children:Ge.name}),Ge.emails.map(et=>E.jsx("button",{onClick:()=>{const Qt=S.split(",").map(Pt=>Pt.trim()).filter(Pt=>!!Pt),Dt=Array.from(new Set([...Qt,et])).join(", ");C(Dt),B(!1)},className:"w-full px-6 py-2 text-left text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-slate-600 dark:text-slate-300 transition-colors",children:et},et))]},Ge.id)):o.length===0&&E.jsx("div",{className:"px-4 py-6 text-center",children:E.jsx("p",{className:"text-xs text-slate-400 italic",children:y.noContacts})})]})]})]}),E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[E.jsx(t4,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:y.ccLabel}),h.length>0?h.map(Ge=>E.jsxs("label",{className:`flex items-center gap-2 cursor-pointer transition-opacity ${Ge.emails?"opacity-100":"opacity-30 cursor-not-allowed"}`,children:[E.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500",checked:Le.has(Ge.id),disabled:!Ge.emails,onChange:()=>ft(Ge.id)}),E.jsx("span",{className:"text-sm font-medium capitalize text-slate-600 dark:text-slate-400",children:Ge.name})]},Ge.id)):E.jsx("span",{className:"text-xs text-slate-400 italic opacity-50",children:"Configura grupos en los ajustes"})]})]}),E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[E.jsx(i5,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsx("input",{type:"text",placeholder:y.subject,className:"flex-1 bg-transparent outline-none font-medium text-slate-700 dark:text-slate-200",value:L,onChange:Ge=>R(Ge.target.value)})]}),E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 px-4 py-2 flex flex-wrap items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-1 pr-4 border-r border-slate-200 dark:border-slate-800",children:[E.jsx("button",{onClick:()=>Ct("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(ZT,{size:16})}),E.jsx("button",{onClick:()=>Ct("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(r4,{size:16})}),E.jsx("button",{onClick:()=>Ct("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(i4,{size:16})})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:y.aiAssistant}),["Professional","Friendly","Concise","Urgent"].map(Ge=>E.jsx("button",{onClick:()=>Pe(Ge.toLowerCase()),disabled:q||!D,className:"px-2 py-1 text-[10px] bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 rounded hover:border-indigo-500 disabled:opacity-50 transition-all",children:Ge},Ge)),q&&E.jsx("span",{className:"text-[10px] text-indigo-500 animate-pulse",children:y.refining})]})]}),E.jsx("div",{ref:de,contentEditable:!0,onInput:Ge=>{const et=Ge.currentTarget.innerHTML;z(et)},className:"w-full min-h-[18rem] p-6 outline-none text-slate-600 dark:text-slate-300 leading-relaxed text-left","data-placeholder":y.placeholder}),K.length>0&&E.jsx("div",{className:"mx-6 mb-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:K.map(Ge=>E.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center justify-between group/att hover:border-indigo-300 dark:hover:border-indigo-500 transition-all",children:[E.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[Ge.previewUrl?E.jsx("img",{src:Ge.previewUrl,className:"w-10 h-10 rounded object-cover cursor-pointer",onClick:()=>ge(Ge)}):E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded",children:E.jsx($c,{size:20})}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[G===Ge.id?E.jsxs("div",{className:"flex gap-1",children:[E.jsx("input",{type:"text",autoFocus:!0,className:"text-sm font-semibold bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded outline-indigo-500 w-full text-slate-700 dark:text-slate-200",value:se,onChange:et=>ye(et.target.value),onBlur:Bt,onKeyDown:et=>et.key==="Enter"&&Bt()}),E.jsx("button",{onClick:Bt,className:"text-emerald-500",children:E.jsx(QT,{size:14})})]}):E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("p",{className:"text-sm font-semibold truncate text-slate-700 dark:text-slate-200",children:Ge.name}),E.jsx("button",{onClick:()=>Tt(Ge),className:"opacity-0 group-hover/att:opacity-100 text-slate-400 hover:text-indigo-500 transition-opacity",children:E.jsx(HL,{size:12})})]}),E.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:[Ge.label||"FILE","  ",on(Ge.size)]})]})]}),E.jsx("button",{onClick:()=>Wt(Ge.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:E.jsx(to,{size:16})})]},Ge.id))})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>{C(""),R(""),z(""),le([]),de.current&&(de.current.innerHTML="")},className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:y.discard,children:E.jsx(nf,{size:20})}),E.jsxs("button",{onClick:St,disabled:!L||!D,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${Be?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[Be?E.jsx(e4,{size:18}):E.jsx(rf,{size:18}),E.jsx("span",{className:"text-xs font-semibold",children:Be?y.saved:y.saveTemplate})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-8 bg-slate-200 dark:bg-slate-800"}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("input",{type:"file",ref:gt,onChange:wt,className:"hidden"}),E.jsxs("button",{onClick:()=>yt(y.labelOrden),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Nx,{size:16})," ",y.labelOrden]}),E.jsxs("button",{onClick:()=>yt(y.labelResumen),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Nx,{size:16})," ",y.labelResumen]}),E.jsxs("button",{onClick:()=>yt(y.labelOtro),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Nx,{size:16})," ",y.labelOtro]}),E.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 hidden sm:block"}),E.jsxs("button",{onClick:()=>ue(!0),className:"px-4 py-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 text-[11px] font-bold rounded-xl shadow-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(r5,{size:16})," ",y.labelPdf]})]})]}),E.jsxs("button",{onClick:He,disabled:e||!t||!S||!L||!D,className:"flex items-center gap-3 px-8 py-3 bg-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:bg-indigo-700 disabled:opacity-50 transition-all active:scale-95 shrink-0",children:[e?y.sending:y.send," ",E.jsx(i_,{size:18})]})]}),M&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[110] flex items-center justify-center p-6 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-8 max-w-sm w-full text-center space-y-4 shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto text-indigo-600 dark:text-indigo-400",children:E.jsx($S,{size:32})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:y.confirmTitle}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:y.confirmDesc}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[E.jsx("button",{onClick:()=>H(!1),className:"px-4 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:y.cancel}),E.jsx("button",{onClick:Ue,className:"px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:y.confirm})]})]})}),fe&&E.jsx(dJ,{lang:g,templates:u,onClose:()=>ue(!1),onAttach:Ge=>le(et=>[...et,Ge]),sizeLimitMb:m,settings:w}),Te&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/80 z-[120] flex items-center justify-center p-8 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl max-w-4xl w-full max-h-full flex flex-col overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Te.name}),E.jsx("button",{onClick:()=>ge(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:Te.previewUrl?E.jsx("img",{src:Te.previewUrl,className:"max-w-full max-h-full rounded-lg shadow-xl"}):E.jsxs("div",{className:"text-center opacity-50",children:[E.jsx($c,{size:80,className:"mx-auto mb-4 text-slate-300 dark:text-slate-700"}),y.previewNotAvailable]})})]})})]})},mJ={es:{title:"Historial de Correos",subtitle:"Rastrea y gestiona tus mensajes enviados recientemente.",searchPlaceholder:"Buscar destinatario, asunto...",filterByDate:"Filtrar por fecha",startDate:"Desde",endDate:"Hasta",exportExcel:"Excel",exportPDF:"Imprimir PDF",noSearchResults:"No se encontraron correos que coincidan con los filtros.",noHistory:"Sin historial an",noHistoryDesc:"Los correos que enves aparecern aqu con su estado de entrega.",thRecipient:"Destinatario",thSubject:"Asunto",thDate:"Fecha",thStatus:"Estado",thAction:"Accin",statusSent:"Entregado",statusFailed:"Error",statusSending:"En cola",modalTitle:"Detalles del Correo",toLabel:"Para:",ccLabel:"CC:",dateLabel:"Fecha:",subjectLabel:"Asunto:",bodyLabel:"Mensaje:",attachmentsLabel:"Archivos Adjuntos",closeBtn:"Cerrar",reportTitle:"Reporte de Actividad de Correos",serverLabel:"Servidor SMTP:"},en:{title:"Email History",subtitle:"Track and manage your recently sent messages.",searchPlaceholder:"Search recipient, subject...",filterByDate:"Filter by date",startDate:"From",endDate:"To",exportExcel:"Excel",exportPDF:"Print PDF",noSearchResults:"No emails found matching the filters.",noHistory:"No History Yet",noHistoryDesc:"Emails you send will appear here with their delivery status.",thRecipient:"Recipient",thSubject:"Subject",thDate:"Date",thStatus:"Status",thAction:"Action",statusSent:"Delivered",statusFailed:"Error",statusSending:"Queued",modalTitle:"Email Details",toLabel:"To:",ccLabel:"CC:",dateLabel:"Date:",subjectLabel:"Subject:",bodyLabel:"Message:",attachmentsLabel:"Attachments",closeBtn:"Close",reportTitle:"Email Activity Report",serverLabel:"SMTP Server:"}},vJ=({history:n,lang:e})=>{const t=ut.useMemo(()=>mJ[e],[e]),[r,i]=ut.useState(null),[a,s]=ut.useState(""),[o,c]=ut.useState(""),[u,h]=ut.useState(""),p=ut.useMemo(()=>{let y=n;if(a.trim()){const S=a.toLowerCase();y=y.filter(C=>C.to.toLowerCase().includes(S)||C.subject.toLowerCase().includes(S)||C.status.toLowerCase().includes(S))}if(o){const S=new Date(o).setHours(0,0,0,0);y=y.filter(C=>C.timestamp>=S)}if(u){const S=new Date(u).setHours(23,59,59,999);y=y.filter(C=>C.timestamp<=S)}return y},[n,a,o,u]),g=()=>{const y=[t.thRecipient,t.thSubject,t.thDate,t.thStatus,t.ccLabel],S=p.map(z=>[z.to,`"${z.subject.replace(/"/g,'""')}"`,new Date(z.timestamp).toLocaleString(),z.status,`"${z.cc.join("; ")}"`]),C=[y,...S].map(z=>z.join(",")).join(`
`),L=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(L),D=document.createElement("a");D.setAttribute("href",R),D.setAttribute("download",`reporte_correos_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},m=()=>{window.print()},w=y=>{if(y===0)return"0 Bytes";const S=1024,C=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(y)/Math.log(S));return parseFloat((y/Math.pow(S,L)).toFixed(2))+" "+C[L]};return n.length===0?E.jsxs("div",{className:"text-center py-20 space-y-4 animate-in fade-in duration-700",children:[E.jsx("div",{className:"bg-slate-100 dark:bg-slate-900 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:E.jsx(Jk,{className:"text-slate-300 dark:text-slate-700",size:32})}),E.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200",children:t.noHistory}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.noHistoryDesc})]}):E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("header",{className:"text-left flex flex-col md:flex-row md:items-end justify-between gap-4 no-print",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:t.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t.subtitle})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:g,disabled:p.length===0,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-all disabled:opacity-30",children:[E.jsx(r5,{size:16})," ",t.exportExcel]}),E.jsxs("button",{onClick:m,disabled:p.length===0,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800/50 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-all disabled:opacity-30",children:[E.jsx(zL,{size:16})," ",t.exportPDF]})]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-4 no-print",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[E.jsxs("div",{className:"lg:col-span-6 relative",children:[E.jsx(Uy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:t.searchPlaceholder,className:"w-full pl-12 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/20 transition-all placeholder:text-slate-400 text-sm",value:a,onChange:y=>s(y.target.value)})]}),E.jsxs("div",{className:"lg:col-span-6 flex items-center gap-2",children:[E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.startDate}),E.jsx("input",{type:"date",className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:o,onChange:y=>c(y.target.value)})]}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.endDate}),E.jsx("input",{type:"date",className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:u,onChange:y=>h(y.target.value)})]}),(o||u||a)&&E.jsx("button",{onClick:()=>{s(""),c(""),h("")},className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:E.jsx(to,{size:18})})]})]})}),E.jsxs("div",{className:"hidden print-only mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.reportTitle}),E.jsxs("p",{className:"text-sm text-slate-500",children:[new Date().toLocaleString()," | ",o?`${t.startDate}: ${o}`:""," ",u?` ${t.endDate}: ${u}`:""]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors text-left",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thRecipient}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thSubject}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thDate}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thStatus}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right no-print",children:t.thAction})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[p.map(y=>E.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 break-all",children:y.to}),E.jsx("div",{className:"md:hidden mt-1 text-[10px] text-slate-400",children:new Date(y.timestamp).toLocaleDateString()})]}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-1",children:y.subject}),y.attachments.length>0&&E.jsx(Nx,{size:14,className:"text-indigo-400 shrink-0 no-print"})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("span",{className:"text-xs text-slate-400",children:new Date(y.timestamp).toLocaleString()})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="sent"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(DL,{size:10})," ",t.statusSent]}),y.status==="failed"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(D9,{size:10})," ",t.statusFailed]}),y.status==="sending"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(Jk,{size:10})," ",t.statusSending]})]})}),E.jsx("td",{className:"px-6 py-4 text-right no-print",children:E.jsx("button",{onClick:()=>i(y),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Ver detalles",children:E.jsx(PL,{size:16})})})]},y.id)),p.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400 italic",children:t.noSearchResults})})]})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[150] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800 transition-colors text-left",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-white dark:bg-slate-900 z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(By,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white leading-none",children:t.modalTitle}),E.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.status==="sent"&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-emerald-100 text-emerald-600 rounded uppercase",children:t.statusSent}),r.status==="failed"&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-red-100 text-red-600 rounded uppercase",children:t.statusFailed}),E.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[E.jsx(ML,{size:10})," ",new Date(r.timestamp).toLocaleString()]})]})]})]}),E.jsx("button",{onClick:()=>i(null),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-left bg-slate-50 dark:bg-slate-950/50",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(Wx,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.toLabel}),E.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 break-all",children:r.to})]})]}),r.cc&&r.cc.length>0&&E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(t4,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.ccLabel}),E.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 break-all",children:r.cc.join(", ")})]})]}),r.smtpProfileName&&E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(qx,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.serverLabel}),E.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:r.smtpProfileName})]})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx($c,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.subjectLabel}),E.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white leading-snug",children:r.subject})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.bodyLabel}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm text-slate-700 dark:text-slate-300 leading-relaxed min-h-[150px] transition-colors",dangerouslySetInnerHTML:{__html:r.body}})]}),r.attachments&&r.attachments.length>0&&E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.attachmentsLabel}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.attachments.map(y=>E.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center gap-3 transition-colors",children:[E.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800 text-indigo-500 rounded-lg shrink-0",children:y.type.startsWith("image/")?E.jsx(tB,{size:20}):E.jsx($c,{size:20})}),E.jsxs("div",{className:"overflow-hidden flex-1",children:[E.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 truncate",children:y.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[y.label&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded uppercase",children:y.label}),E.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:w(y.size)})]})]})]},y.id))})]})]}),E.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end",children:E.jsx("button",{onClick:()=>i(null),className:"px-6 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:t.closeBtn})})]})})]})},xJ={es:{title:"Agenda de Contactos",subtitle:"Gestiona tus destinatarios frecuentes con mltiples correos y grupos.",tabContacts:"Todos los Contactos",tabGroups:"Grupos de Contactos",addBtn:"Aadir Contacto",addGroupBtn:"Crear Grupo",searchPlaceholder:"Buscar en la agenda...",thContact:"Contacto",thEmails:"Correos",thActions:"Acciones",thGroup:"Nombre del Grupo",thMembers:"Miembros",noContacts:"Tu agenda est vaca.",noGroups:"No has creado grupos an.",noSearch:"No hay resultados que coincidan.",editTitle:"Editar Contacto",newTitle:"Nuevo Contacto",editGroupTitle:"Editar Grupo",newGroupTitle:"Nuevo Grupo",fullName:"Nombre Completo",groupName:"Nombre del Grupo",addEmail:"Aadir otro correo",saveBtn:"Guardar",updateBtn:"Actualizar",selectContacts:"Seleccionar Contactos para el Grupo",membersCount:"{count} miembros"},en:{title:"Contact Agenda",subtitle:"Manage your frequently used recipients with multiple emails and groups.",tabContacts:"All Contacts",tabGroups:"Contact Groups",addBtn:"Add Contact",addGroupBtn:"Create Group",searchPlaceholder:"Search agenda...",thContact:"Contact",thEmails:"Emails",thActions:"Actions",thGroup:"Group Name",thMembers:"Members",noContacts:"Your agenda is empty.",noGroups:"No groups created yet.",noSearch:"No results found match your search.",editTitle:"Edit Contact",newTitle:"Add New Contact",editGroupTitle:"Edit Group",newGroupTitle:"Create New Group",fullName:"Full Name",groupName:"Group Name",addEmail:"Add another",saveBtn:"Save",updateBtn:"Update",selectContacts:"Select Contacts for Group",membersCount:"{count} members"}},yJ=({contacts:n,onAction:e,contactGroups:t,onGroupAction:r,lang:i})=>{const a=ut.useMemo(()=>xJ[i],[i]),[s,o]=ut.useState("contacts"),[c,u]=ut.useState(null),[h,p]=ut.useState(!1),[g,m]=ut.useState(null),[w,y]=ut.useState(!1),[S,C]=ut.useState(""),[L,R]=ut.useState({id:"",name:"",emails:[""]}),[D,z]=ut.useState({id:"",name:"",contactIds:[]}),q=ut.useMemo(()=>n.filter(ue=>ue.name.toLowerCase().includes(S.toLowerCase())||ue.emails.some(K=>K.toLowerCase().includes(S.toLowerCase()))),[n,S]),P=ut.useMemo(()=>t.filter(ue=>ue.name.toLowerCase().includes(S.toLowerCase())),[t,S]),W=()=>{R({id:Date.now().toString(),name:"",emails:[""]}),p(!0),u(null)},O=ue=>{R(ue),u(ue),p(!1)},Q=()=>{z({id:Date.now().toString(),name:"",contactIds:[]}),y(!0),m(null)},B=ue=>{z(ue),m(ue),y(!1)},j=ue=>{ue.preventDefault();const K={...L,emails:L.emails.filter(le=>le.trim()!=="")};K.emails.length!==0&&(c?e.update(K):e.add(K),p(!1),u(null))},ee=ue=>{ue.preventDefault(),D.name.trim()&&(g?r.update(D):r.add(D),y(!1),m(null))},fe=ue=>{z(K=>({...K,contactIds:K.contactIds.includes(ue)?K.contactIds.filter(le=>le!==ue):[...K.contactIds,ue]}))};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:a.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:a.subtitle})]}),!h&&!c&&!w&&!g&&E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium shadow-md hover:bg-indigo-700 transition-all active:scale-95",children:[E.jsx(WB,{size:18})," ",a.addBtn]}),E.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-indigo-600 dark:text-indigo-400 rounded-xl font-medium shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:[E.jsx(X9,{size:18})," ",a.addGroupBtn]})]})]}),!h&&!c&&!w&&!g?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl border border-slate-200 dark:border-slate-800",children:[E.jsxs("button",{onClick:()=>o("contacts"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${s==="contacts"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[E.jsx(Hm,{size:16})," ",a.tabContacts]}),E.jsxs("button",{onClick:()=>o("groups"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${s==="groups"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[E.jsx(yw,{size:16})," ",a.tabGroups]})]}),E.jsxs("div",{className:"relative flex-1 max-w-md",children:[E.jsx(Uy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),E.jsx("input",{type:"text",placeholder:a.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:S,onChange:ue=>C(ue.target.value)})]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-all",children:s==="contacts"?E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:a.thContact}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:a.thEmails}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:a.thActions})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[q.map(ue=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center text-xs font-bold",children:ue.name.charAt(0).toUpperCase()}),E.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:ue.name})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("div",{className:"flex flex-wrap gap-1.5",children:ue.emails.map(K=>E.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 rounded-md font-medium",children:K},K))})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>O(ue),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(Gx,{size:16})}),E.jsx("button",{onClick:()=>window.confirm("Eliminar contacto?")&&e.delete(ue.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(nf,{size:16})})]})})]},ue.id)),q.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[E.jsx(Hm,{size:48}),E.jsx("p",{children:S?a.noSearch:a.noContacts})]})})})]})]})}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:a.thGroup}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:a.thMembers}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:a.thActions})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[P.map(ue=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(yw,{size:18})}),E.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:ue.name})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 px-3 py-1 bg-slate-50 dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700",children:a.membersCount.replace("{count}",ue.contactIds.length.toString())})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>B(ue),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(Gx,{size:16})}),E.jsx("button",{onClick:()=>window.confirm("Eliminar grupo?")&&r.delete(ue.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(nf,{size:16})})]})})]},ue.id)),P.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[E.jsx(yw,{size:48}),E.jsx("p",{children:S?a.noSearch:a.noGroups})]})})})]})]})})})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:c?a.editTitle:h?a.newTitle:g?a.editGroupTitle:a.newGroupTitle}),E.jsx("button",{onClick:()=>{p(!1),u(null),y(!1),m(null)},className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),h||c?E.jsxs("form",{onSubmit:j,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:a.fullName}),E.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:L.name,onChange:ue=>R({...L,name:ue.target.value}),required:!0})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:a.thEmails}),E.jsxs("button",{type:"button",onClick:()=>R({...L,emails:[...L.emails,""]}),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[E.jsx(mg,{size:12})," ",a.addEmail]})]}),E.jsx("div",{className:"space-y-3",children:L.emails.map((ue,K)=>E.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-top-2 duration-200",children:[E.jsx("input",{type:"email",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:ue,onChange:le=>{const Te=[...L.emails];Te[K]=le.target.value,R({...L,emails:Te})},required:K===0}),L.emails.length>1&&E.jsx("button",{type:"button",onClick:()=>R({...L,emails:L.emails.filter((le,Te)=>Te!==K)}),className:"p-3 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:E.jsx(nf,{size:18})})]},K))})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(rf,{size:18})," ",c?a.updateBtn:a.saveBtn]})]}):E.jsxs("form",{onSubmit:ee,className:"space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:a.groupName}),E.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:D.name,onChange:ue=>z({...D,name:ue.target.value}),required:!0})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(Hm,{size:16,className:"text-indigo-500"})," ",a.selectContacts]}),E.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden max-h-64 overflow-y-auto custom-scrollbar",children:E.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.length>0?n.map(ue=>E.jsx("button",{type:"button",onClick:()=>fe(ue.id),className:`w-full flex items-center justify-between p-4 transition-all hover:bg-white dark:hover:bg-slate-800 ${D.contactIds.includes(ue.id)?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${D.contactIds.includes(ue.id)?"bg-indigo-600 border-indigo-600":"border-slate-300"}`,children:D.contactIds.includes(ue.id)&&E.jsx(QT,{size:12,className:"text-white"})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:ue.name}),E.jsx("p",{className:"text-[10px] text-slate-400",children:ue.emails[0]})]})]})},ue.id)):E.jsx("div",{className:"p-8 text-center text-slate-400 italic text-xs",children:a.noContacts})})})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(rf,{size:18})," ",g?a.updateBtn:a.saveBtn]})]})]})]})},bJ={es:{title:"Plantillas de Correo",subtitle:"Guarda estructuras de correo frecuentes para agilizar tu trabajo.",newBtn:"Nueva Plantilla",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas guardadas an.",editTitle:"Editar Plantilla",newTitle:"Nueva Plantilla",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Reporte Mensual, Saludos, Seguimiento...",subjectLabel:"Lnea de Asunto",subjectPlaceholder:"Importante: Actualizacin sobre...",bodyLabel:"Contenido del Cuerpo (Texto Enriquecido)",bodyPlaceholder:"Comienza a redactar tu plantilla aqu...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla"},en:{title:"Email Templates",subtitle:"Save frequently used email structures to speed up your work.",newBtn:"New Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No templates saved yet.",editTitle:"Edit Template",newTitle:"New Template",nameLabel:"Template Name",namePlaceholder:"Monthly Report, Greetings, Follow-up...",subjectLabel:"Subject Line",subjectPlaceholder:"Important: Update regarding...",bodyLabel:"Body Content (Rich Text)",bodyPlaceholder:"Start drafting your template here...",updateBtn:"Update Template",saveBtn:"Save Template"}},wJ=({templates:n,onAction:e,lang:t})=>{const r=ut.useMemo(()=>bJ[t],[t]),[i,a]=ut.useState(null),[s,o]=ut.useState(!1),[c,u]=ut.useState(""),[h,p]=ut.useState({id:"",name:"",subject:"",body:""}),g=ut.useRef(null),m=n.filter(L=>L.name.toLowerCase().includes(c.toLowerCase())||L.subject.toLowerCase().includes(c.toLowerCase()));ut.useEffect(()=>{(s||i)&&g.current&&g.current.innerHTML!==h.body&&(g.current.innerHTML=h.body)},[s,i,h.body]);const w=()=>{p({id:Date.now().toString(),name:"",subject:"",body:""}),o(!0),a(null)},y=L=>{p(L),a(L),o(!1)},S=L=>{L.preventDefault(),i?e.update(h):e.add(h),o(!1),a(null)},C=L=>{document.execCommand(L,!1),g.current&&p(R=>({...R,body:g.current.innerHTML}))};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!s&&!i&&E.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(mg,{size:18})," ",r.newBtn]})]}),!s&&!i?E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Uy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:c,onChange:L=>u(L.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.map(L=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>y(L),children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:L.name}),E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:R=>{R.stopPropagation(),y(L)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(Gx,{size:14})}),E.jsx("button",{onClick:R=>{R.stopPropagation(),e.delete(L.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(nf,{size:14})})]})]}),E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium line-clamp-1 mb-2",children:L.subject}),E.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:L.body.replace(/<[^>]*>?/gm," ")}})]})},L.id)),m.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:c?r.noSearch:r.noTemplates})]})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),E.jsx("button",{onClick:()=>{o(!1),a(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:20})})]}),E.jsxs("form",{onSubmit:S,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.name,onChange:L=>p({...h,name:L.target.value}),placeholder:r.namePlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(i5,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.subjectLabel]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.subject,onChange:L=>p({...h,subject:L.target.value}),placeholder:r.subjectPlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx($c,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),E.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>C("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(ZT,{size:16})}),E.jsx("button",{type:"button",onClick:()=>C("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(r4,{size:16})}),E.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),E.jsx("button",{type:"button",onClick:()=>C("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(i4,{size:16})})]}),E.jsx("div",{ref:g,contentEditable:!0,onInput:L=>{const R=L.currentTarget.innerHTML;p(D=>({...D,body:R}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),E.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[E.jsx(rf,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})},_J={es:{title:"Configuracin CC Grupal",subtitle:"Crea y gestiona grupos de copia automtica con mltiples correos.",saved:"Configuracin Guardada",saveBtn:"Guardar Todos los Grupos",addGroup:"Nuevo Grupo",groupName:"Nombre del Grupo",emailsPlaceholder:"correo1@ejemplo.com, correo2@ejemplo.com...",hint:"Los correos deben estar separados por comas.",noGroups:"No has creado grupos an.",deleteConfirm:"Eliminar este grupo?"},en:{title:"Group CC Settings",subtitle:"Create and manage automated CC groups with multiple emails.",saved:"Settings Saved",saveBtn:"Save All Groups",addGroup:"New Group",groupName:"Group Name",emailsPlaceholder:"email1@example.com, email2@example.com...",hint:"Emails must be separated by commas.",noGroups:"No groups created yet.",deleteConfirm:"Delete this group?"}},SJ=({emails:n,onSave:e,lang:t})=>{const r=ut.useMemo(()=>_J[t],[t]),[i,a]=ut.useState(n.length>0?[...n]:[]),[s,o]=ut.useState(!1),c=g=>{g.preventDefault(),e(i),o(!0),setTimeout(()=>o(!1),2e3)},u=()=>{a([...i,{id:Date.now().toString(),name:"",emails:""}])},h=g=>{a(i.filter(m=>m.id!==g))},p=(g,m,w)=>{a(i.map(y=>y.id===g?{...y,[m]:w}:y))};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),E.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl font-bold hover:bg-indigo-100 transition-all border border-indigo-100 dark:border-indigo-800",children:[E.jsx(mg,{size:18})," ",r.addGroup]})]}),E.jsx("div",{className:"max-w-3xl",children:E.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.length>0?i.map((g,m)=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm transition-all group animate-in slide-in-from-right-4 duration-300",style:{animationDelay:`${m*50}ms`},children:E.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(Vx,{size:12,className:"text-indigo-500"})," ",r.groupName]}),E.jsx("button",{type:"button",onClick:()=>h(g.id),className:"text-slate-400 hover:text-red-500 transition-colors md:opacity-0 group-hover:opacity-100",children:E.jsx(nf,{size:16})})]}),E.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-800 dark:text-slate-200 transition-all font-semibold",value:g.name,onChange:w=>p(g.id,"name",w.target.value),placeholder:"Ej. Departamento Mdico"})]}),E.jsxs("div",{className:"flex-[2] space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(By,{size:12,className:"text-indigo-500"})," Correos (separados por coma)"]}),E.jsx("textarea",{rows:1,className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-600 dark:text-slate-400 transition-all text-sm min-h-[42px]",value:g.emails,onChange:w=>p(g.id,"emails",w.target.value),placeholder:r.emailsPlaceholder})]})]})},g.id)):E.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:[E.jsx(Vx,{className:"mx-auto text-slate-200 dark:text-slate-800 mb-4",size:48}),E.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-medium",children:r.noGroups})]}),i.length>0&&E.jsxs("div",{className:"pt-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[E.jsx(n4,{size:14}),E.jsx("span",{className:"text-xs",children:r.hint})]}),E.jsx("button",{type:"submit",className:`w-full md:w-auto flex items-center gap-2 px-10 py-3 rounded-xl font-bold transition-all ${s?"bg-emerald-500 text-white shadow-lg shadow-emerald-200 dark:shadow-none":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95"}`,children:s?E.jsxs(E.Fragment,{children:[E.jsx(e4,{size:18})," ",r.saved]}):E.jsxs(E.Fragment,{children:[E.jsx(rf,{size:18})," ",r.saveBtn]})})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var S_={};S_.version="0.18.5";var SF=1252,AJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],R4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},L4=function(n){AJ.indexOf(n)!=-1&&(SF=R4[0]=n)};function EJ(){L4(1252)}var Jc=function(n){L4(n)};function I4(){Jc(1200),EJ()}function dR(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function TJ(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function AF(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var Tx=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?TJ(n.slice(2)):e==254&&t==255?AF(n.slice(2)):e==65279?n.slice(1):n},lw=function(e){return String.fromCharCode(e)},pR=function(e){return String.fromCharCode(e)},Qx,$d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function e2(n){for(var e="",t=0,r=0,i=0,a=0,s=0,o=0,c=0,u=0;u<n.length;)t=n.charCodeAt(u++),a=t>>2,r=n.charCodeAt(u++),s=(t&3)<<4|r>>4,i=n.charCodeAt(u++),o=(r&15)<<2|i>>6,c=i&63,isNaN(r)?o=c=64:isNaN(i)&&(c=64),e+=$d.charAt(a)+$d.charAt(s)+$d.charAt(o)+$d.charAt(c);return e}function wl(n){var e="",t=0,r=0,i=0,a=0,s=0,o=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)a=$d.indexOf(n.charAt(u++)),s=$d.indexOf(n.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=$d.indexOf(n.charAt(u++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=$d.indexOf(n.charAt(u++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var qn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Nh=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function t0(n){return qn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function gR(n){return qn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var vl=function(e){return qn?Nh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function w5(n){if(typeof ArrayBuffer>"u")return vl(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function l0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function CJ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function M4(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return M4(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var Ga=qn?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Nh(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function kJ(n){for(var e=[],t=0,r=n.length+250,i=t0(n.length+255),a=0;a<n.length;++a){var s=n.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=n.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>r&&(e.push(i.slice(0,t)),t=0,i=t0(65535),r=65530)}return e.push(i.slice(0,t)),Ga(e)}var ro=/\u0000/g,Cx=/[\u0001-\u0006]/g;function $m(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Zc(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}function D4(n,e){var t=""+n;return t.length>=e?t:Bi(" ",e-t.length)+t}function A_(n,e){var t=""+n;return t.length>=e?t:t+Bi(" ",e-t.length)}function NJ(n,e){var t=""+Math.round(n);return t.length>=e?t:Bi("0",e-t.length)+t}function RJ(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}var mR=Math.pow(2,32);function ym(n,e){if(n>mR||n<-mR)return NJ(n,e);var t=Math.round(n);return RJ(t,e)}function E_(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var vR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],NA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function LJ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var wn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},xR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},IJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function T_(n,e,t){for(var r=n<0?-1:1,i=n*r,a=0,s=1,o=0,c=1,u=0,h=0,p=Math.floor(i);u<e&&(p=Math.floor(i),o=p*s+a,h=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=s,s=o,c=u,u=h;if(h>e&&(u>e?(h=c,o=a):(h=u,o=s)),!t)return[0,r*o,h];var g=Math.floor(r*o/h);return[g,r*o-g*h,h]}function Y0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),a=0,s=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),r<60&&(a=(a+6)%7),t&&(a=BJ(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var EF=new Date(1899,11,31,0,0,0),MJ=EF.getTime(),DJ=new Date(1900,2,1,0,0,0);function TF(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=DJ&&(t+=1440*60*1e3),(t-(MJ+(n.getTimezoneOffset()-EF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function F4(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function FJ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function PJ(n){var e=n<0?12:11,t=F4(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function OJ(n){var e=F4(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function t2(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=PJ(n):e===10?t=n.toFixed(10).substr(0,12):t=OJ(n),F4(FJ(t.toUpperCase()))}function cg(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):t2(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return ac(14,TF(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function BJ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function UJ(n,e,t,r){var i="",a=0,s=0,o=t.y,c,u=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return NA[t.m-1][1];case 5:return NA[t.m-1][0];default:return NA[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return vR[t.q][0];default:return vR[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Zc(t.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Zc(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var h=u>0?Zc(c,u):"";return h}function Kd(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var CF=/%/g;function HJ(n,e,t){var r=e.replace(CF,""),i=e.length-r.length;return vh(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function zJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vh(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function kF(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+kF(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var NF=/# (\?+)( ?)\/( ?)(\d+)/;function jJ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return t+(a===0?"":""+a)+" "+(s===0?Bi(" ",n[1].length+1+n[4].length):D4(s,n[1].length)+n[2]+"/"+n[3]+Zc(o,n[4].length))}function GJ(n,e,t){return t+(e===0?"":""+e)+Bi(" ",n[1].length+2+n[4].length)}var RF=/^#*0*\.([0#]+)/,LF=/\).*[0#]/,IF=/\(###\) ###\\?-####/;function Qs(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function yR(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function bR(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function qJ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function VJ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Hl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(LF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Hl("n",r,t):"("+Hl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return zJ(n,e,t);if(e.indexOf("%")!==-1)return HJ(n,e,t);if(e.indexOf("E")!==-1)return kF(e,t);if(e.charCodeAt(0)===36)return"$"+Hl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+ym(c,e.length);if(e.match(/^[#?]+$/))return i=ym(t,0),i==="0"&&(i=""),i.length>e.length?i:Qs(e.substr(0,e.length-i.length))+i;if(a=e.match(NF))return jJ(a,c,u);if(e.match(/^#+0+$/))return u+ym(c,e.length-e.indexOf("0"));if(a=e.match(RF))return i=yR(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Qs(a[1])).replace(/\.$/,"."+Qs(a[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+Bi("0",Qs(a[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+yR(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Kd(ym(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Hl(n,e,-t):Kd(""+(Math.floor(t)+qJ(t,a[1].length)))+"."+Zc(bR(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Hl(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$m(Hl(n,e.replace(/[\\-]/g,""),t)),s=0,$m($m(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return s<i.length?i.charAt(s++):w==="0"?"0":""}));if(e.match(IF))return i=Hl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=T_(c,Math.pow(10,s)-1,!1),i=""+u,h=vh("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=A_(o[2],s),h.length<a[4].length&&(h=Qs(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=T_(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?D4(o[1],s)+a[2]+"/"+a[3]+A_(o[2],s):Bi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=ym(t,0),e.length<=i.length?i:Qs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,g=e.length-i.length-p;return Qs(e.substr(0,p)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=bR(t,a[1].length),t<0?"-"+Hl(n,e,-t):Kd(VJ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Zc(0,3-w.length):"")+w})+"."+Zc(s,a[1].length);switch(e){case"###,##0.00":return Hl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Kd(ym(c,0));return m!=="0"?u+m:"";case"###,###.00":return Hl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Hl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function WJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vh(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function XJ(n,e,t){var r=e.replace(CF,""),i=e.length-r.length;return vh(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function MF(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+MF(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Fu(n,e,t){if(n.charCodeAt(0)===40&&!e.match(LF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Fu("n",r,t):"("+Fu("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return WJ(n,e,t);if(e.indexOf("%")!==-1)return XJ(n,e,t);if(e.indexOf("E")!==-1)return MF(e,t);if(e.charCodeAt(0)===36)return"$"+Fu(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Zc(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Qs(e.substr(0,e.length-i.length))+i;if(a=e.match(NF))return GJ(a,c,u);if(e.match(/^#+0+$/))return u+Zc(c,e.length-e.indexOf("0"));if(a=e.match(RF))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Qs(a[1])).replace(/\.$/,"."+Qs(a[1])),i=i.replace(/\.(\d*)$/,function(w,y){return"."+y+Bi("0",Qs(a[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Kd(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Fu(n,e,-t):Kd(""+t)+"."+Bi("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Fu(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$m(Fu(n,e.replace(/[\\-]/g,""),t)),s=0,$m($m(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return s<i.length?i.charAt(s++):w==="0"?"0":""}));if(e.match(IF))return i=Fu(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=T_(c,Math.pow(10,s)-1,!1),i=""+u,h=vh("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=A_(o[2],s),h.length<a[4].length&&(h=Qs(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=T_(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?D4(o[1],s)+a[2]+"/"+a[3]+A_(o[2],s):Bi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Qs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,g=e.length-i.length-p;return Qs(e.substr(0,p)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Fu(n,e,-t):Kd(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Zc(0,3-w.length):"")+w})+"."+Zc(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Kd(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Fu(n,e.slice(0,e.lastIndexOf(".")),t)+Qs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function vh(n,e,t){return(t|0)===t?Fu(n,e,t):Hl(n,e,t)}function YJ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var DF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dv(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":E_(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(DF))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function $J(n,e,t,r){for(var i=[],a="",s=0,o="",c="t",u,h,p,g="H";s<n.length;)switch(o=n.charAt(s)){case"G":if(!E_(n,s))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=n.charCodeAt(++s))!==34&&s<n.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var m=n.charAt(++s),w=m==="("||m===")"?m:"t";i[i.length]={t:w,v:m},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(n.charAt(s+1)==="1"||n.charAt(s+1)==="2"){if(u==null&&(u=Y0(e,t,n.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Y0(e,t),u==null))return"";for(a=o;++s<n.length&&n.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var y={t:o,v:o};if(u==null&&(u=Y0(e,t)),n.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",s+=3):n.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",s+=5,g="h"):n.substr(s,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",s+=5,g="h"):(y.t="t",++s),u==null&&y.t==="T")return"";i[i.length]=y,c=o;break;case"[":for(a=o;n.charAt(s++)!=="]"&&s<n.length;)a+=n.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(DF)){if(u==null&&(u=Y0(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",dv(n)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<n.length&&(o=n.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;n.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(n.charAt(s)==" "||n.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<n.length&&"0123456789".indexOf(n.charAt(++s))>-1;)a+=n.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++s;break}var S=0,C=0,L;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=g,c="h",S<1&&(S=1);break;case"s":(L=i[s].v.match(/\.0+$/))&&(C=Math.max(C,L[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[s].v.match(/[Hh]/)&&(S=1),S<2&&i[s].v.match(/[Mm]/)&&(S=2),S<3&&i[s].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var R="",D;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=UJ(i[s].t.charCodeAt(0),i[s].v,u,C),i[s].t="t";break;case"n":case"?":for(D=s+1;i[D]!=null&&((o=i[D].t)==="?"||o==="D"||(o===" "||o==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[s].v+=i[D].v,i[D]={v:"",t:";"},++D;R+=i[s].v,s=D-1;break;case"G":i[s].t="t",i[s].v=cg(e,t);break}var z="",q,P;if(R.length>0){R.charCodeAt(0)==40?(q=e<0&&R.charCodeAt(0)===45?-e:e,P=vh("n",R,q)):(q=e<0&&r>1?-e:e,P=vh("n",R,q),q<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),D=P.length-1;var W=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){W=s;break}var O=i.length;if(W===i.length&&P.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(D>=i[s].v.length-1?(D-=i[s].v.length,i[s].v=P.substr(D+1,i[s].v.length)):D<0?i[s].v="":(i[s].v=P.substr(0,D+1),D=-1),i[s].t="t",O=s);D>=0&&O<i.length&&(i[O].v=P.substr(0,D+1)+i[O].v)}else if(W!==i.length&&P.indexOf("E")===-1){for(D=P.indexOf(".")-1,s=W;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(h=i[s].v.indexOf(".")>-1&&s===W?i[s].v.indexOf(".")-1:i[s].v.length-1,z=i[s].v.substr(h+1);h>=0;--h)D>=0&&(i[s].v.charAt(h)==="0"||i[s].v.charAt(h)==="#")&&(z=P.charAt(D--)+z);i[s].v=z,i[s].t="t",O=s}for(D>=0&&O<i.length&&(i[O].v=P.substr(0,D+1)+i[O].v),D=P.indexOf(".")+1,s=W;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==W)){for(h=i[s].v.indexOf(".")>-1&&s===W?i[s].v.indexOf(".")+1:0,z=i[s].v.substr(0,h);h<i[s].v.length;++h)D<P.length&&(z+=P.charAt(D++));i[s].v=z,i[s].t="t",O=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(q=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=vh(i[s].t,i[s].v,q),i[s].t="t");var Q="";for(s=0;s!==i.length;++s)i[s]!=null&&(Q+=i[s].v);return Q}var wR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function _R(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function KJ(n,e){var t=YJ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(wR),o=t[1].match(wR);return _R(e,s)?[r,t[0]]:_R(e,o)?[r,t[1]]:[r,t[s!=null&&o!=null?2:1]]}return[r,a]}function ac(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:wn)[n],r==null&&(r=t.table&&t.table[xR[n]]||wn[xR[n]]),r==null&&(r=IJ[n]||"General");break}if(E_(r,0))return cg(e,t);e instanceof Date&&(e=TF(e,t.date1904));var i=KJ(r,e);if(E_(i[1]))return cg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return $J(i[1],e,t,i[0])}function xh(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(wn[t]==null){e<0&&(e=t);continue}if(wn[t]==n){e=t;break}}e<0&&(e=391)}return wn[e]=n,e}function _5(n){for(var e=0;e!=392;++e)n[e]!==void 0&&xh(n[e],e)}function pv(){wn=LJ()}var JJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ZJ(n){var e=typeof n=="number"?wn[n]:n;return e=e.replace(FF,"(\\d+)"),new RegExp("^"+e+"$")}function QJ(n,e,t){var r=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(e.match(FF)||[]).forEach(function(p,g){var m=parseInt(t[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=m;break;case"d":a=m;break;case"h":s=m;break;case"s":c=m;break;case"m":s>=0?o=m:i=m;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:r==-1&&i==-1&&a==-1?h:u+"T"+h}var eZ=(function(){var n={};n.version="1.2.0";function e(){for(var P=0,W=new Array(256),O=0;O!=256;++O)P=O,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,W[O]=P;return typeof Int32Array<"u"?new Int32Array(W):W}var t=e();function r(P){var W=0,O=0,Q=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)B[Q]=P[Q];for(Q=0;Q!=256;++Q)for(O=P[Q],W=256+Q;W<4096;W+=256)O=B[W]=O>>>8^P[O&255];var j=[];for(Q=1;Q!=16;++Q)j[Q-1]=typeof Int32Array<"u"?B.subarray(Q*256,Q*256+256):B.slice(Q*256,Q*256+256);return j}var i=r(t),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],h=i[5],p=i[6],g=i[7],m=i[8],w=i[9],y=i[10],S=i[11],C=i[12],L=i[13],R=i[14];function D(P,W){for(var O=W^-1,Q=0,B=P.length;Q<B;)O=O>>>8^t[(O^P.charCodeAt(Q++))&255];return~O}function z(P,W){for(var O=W^-1,Q=P.length-15,B=0;B<Q;)O=R[P[B++]^O&255]^L[P[B++]^O>>8&255]^C[P[B++]^O>>16&255]^S[P[B++]^O>>>24]^y[P[B++]]^w[P[B++]]^m[P[B++]]^g[P[B++]]^p[P[B++]]^h[P[B++]]^u[P[B++]]^c[P[B++]]^o[P[B++]]^s[P[B++]]^a[P[B++]]^t[P[B++]];for(Q+=15;B<Q;)O=O>>>8^t[(O^P[B++])&255];return~O}function q(P,W){for(var O=W^-1,Q=0,B=P.length,j=0,ee=0;Q<B;)j=P.charCodeAt(Q++),j<128?O=O>>>8^t[(O^j)&255]:j<2048?(O=O>>>8^t[(O^(192|j>>6&31))&255],O=O>>>8^t[(O^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,ee=P.charCodeAt(Q++)&1023,O=O>>>8^t[(O^(240|j>>8&7))&255],O=O>>>8^t[(O^(128|j>>2&63))&255],O=O>>>8^t[(O^(128|ee>>6&15|(j&3)<<4))&255],O=O>>>8^t[(O^(128|ee&63))&255]):(O=O>>>8^t[(O^(224|j>>12&15))&255],O=O>>>8^t[(O^(128|j>>6&63))&255],O=O>>>8^t[(O^(128|j&63))&255]);return~O}return n.table=t,n.bstr=D,n.buf=z,n.str=q,n})(),hn=(function(){var e={};e.version="1.2.1";function t(te,Se){for(var me=te.split("/"),ve=Se.split("/"),be=0,Ee=0,Ve=Math.min(me.length,ve.length);be<Ve;++be){if(Ee=me[be].length-ve[be].length)return Ee;if(me[be]!=ve[be])return me[be]<ve[be]?-1:1}return me.length-ve.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var Se=te.lastIndexOf("/");return Se===-1?te:te.slice(0,Se+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var Se=te.lastIndexOf("/");return Se===-1?te:te.slice(Se+1)}function a(te,Se){typeof Se=="string"&&(Se=new Date(Se));var me=Se.getHours();me=me<<6|Se.getMinutes(),me=me<<5|Se.getSeconds()>>>1,te.write_shift(2,me);var ve=Se.getFullYear()-1980;ve=ve<<4|Se.getMonth()+1,ve=ve<<5|Se.getDate(),te.write_shift(2,ve)}function s(te){var Se=te.read_shift(2)&65535,me=te.read_shift(2)&65535,ve=new Date,be=me&31;me>>>=5;var Ee=me&15;me>>>=4,ve.setMilliseconds(0),ve.setFullYear(me+1980),ve.setMonth(Ee-1),ve.setDate(be);var Ve=Se&31;Se>>>=5;var nt=Se&63;return Se>>>=6,ve.setHours(Se),ve.setMinutes(nt),ve.setSeconds(Ve<<1),ve}function o(te){cs(te,0);for(var Se={},me=0;te.l<=te.length-4;){var ve=te.read_shift(2),be=te.read_shift(2),Ee=te.l+be,Ve={};switch(ve){case 21589:me=te.read_shift(1),me&1&&(Ve.mtime=te.read_shift(4)),be>5&&(me&2&&(Ve.atime=te.read_shift(4)),me&4&&(Ve.ctime=te.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}te.l=Ee,Se[ve]=Ve}return Se}var c;function u(){return c||(c={})}function h(te,Se){if(te[0]==80&&te[1]==75)return vn(te,Se);if((te[0]|32)==109&&(te[1]|32)==105)return an(te,Se);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var me=3,ve=512,be=0,Ee=0,Ve=0,nt=0,Xe=0,Ye=[],Ke=te.slice(0,512);cs(Ke,0);var bt=p(Ke);switch(me=bt[0],me){case 3:ve=512;break;case 4:ve=4096;break;case 0:if(bt[1]==0)return vn(te,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ve!==512&&(Ke=te.slice(0,ve),cs(Ke,28));var Et=te.slice(0,ve);g(Ke,me);var It=Ke.read_shift(4,"i");if(me===3&&It!==0)throw new Error("# Directory Sectors: Expected 0 saw "+It);Ke.l+=4,Ve=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),nt=Ke.read_shift(4,"i"),be=Ke.read_shift(4,"i"),Xe=Ke.read_shift(4,"i"),Ee=Ke.read_shift(4,"i");for(var At=-1,Nt=0;Nt<109&&(At=Ke.read_shift(4,"i"),!(At<0));++Nt)Ye[Nt]=At;var jt=m(te,ve);S(Xe,Ee,jt,ve,Ye);var wr=L(jt,Ve,Ye,ve);wr[Ve].name="!Directory",be>0&&nt!==ee&&(wr[nt].name="!MiniFAT"),wr[Ye[0]].name="!FAT",wr.fat_addrs=Ye,wr.ssz=ve;var Gn={},Tr=[],Xa=[],Uo=[];R(Ve,wr,jt,Tr,be,Gn,Xa,nt),w(Xa,Uo,Tr),Tr.shift();var Ho={FileIndex:Xa,FullPaths:Uo};return Se&&Se.raw&&(Ho.raw={header:Et,sectors:jt}),Ho}function p(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(fe,"Header Signature: "),te.l+=16;var Se=te.read_shift(2,"u");return[te.read_shift(2,"u"),Se]}function g(te,Se){var me=9;switch(te.l+=2,me=te.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,Se){for(var me=Math.ceil(te.length/Se)-1,ve=[],be=1;be<me;++be)ve[be-1]=te.slice(be*Se,(be+1)*Se);return ve[me-1]=te.slice(me*Se),ve}function w(te,Se,me){for(var ve=0,be=0,Ee=0,Ve=0,nt=0,Xe=me.length,Ye=[],Ke=[];ve<Xe;++ve)Ye[ve]=Ke[ve]=ve,Se[ve]=me[ve];for(;nt<Ke.length;++nt)ve=Ke[nt],be=te[ve].L,Ee=te[ve].R,Ve=te[ve].C,Ye[ve]===ve&&(be!==-1&&Ye[be]!==be&&(Ye[ve]=Ye[be]),Ee!==-1&&Ye[Ee]!==Ee&&(Ye[ve]=Ye[Ee])),Ve!==-1&&(Ye[Ve]=ve),be!==-1&&ve!=Ye[ve]&&(Ye[be]=Ye[ve],Ke.lastIndexOf(be)<nt&&Ke.push(be)),Ee!==-1&&ve!=Ye[ve]&&(Ye[Ee]=Ye[ve],Ke.lastIndexOf(Ee)<nt&&Ke.push(Ee));for(ve=1;ve<Xe;++ve)Ye[ve]===ve&&(Ee!==-1&&Ye[Ee]!==Ee?Ye[ve]=Ye[Ee]:be!==-1&&Ye[be]!==be&&(Ye[ve]=Ye[be]));for(ve=1;ve<Xe;++ve)if(te[ve].type!==0){if(nt=ve,nt!=Ye[nt])do nt=Ye[nt],Se[ve]=Se[nt]+"/"+Se[ve];while(nt!==0&&Ye[nt]!==-1&&nt!=Ye[nt]);Ye[ve]=-1}for(Se[0]+="/",ve=1;ve<Xe;++ve)te[ve].type!==2&&(Se[ve]+="/")}function y(te,Se,me){for(var ve=te.start,be=te.size,Ee=[],Ve=ve;me&&be>0&&Ve>=0;)Ee.push(Se.slice(Ve*j,Ve*j+j)),be-=j,Ve=V0(me,Ve*4);return Ee.length===0?at(0):Ga(Ee).slice(0,te.size)}function S(te,Se,me,ve,be){var Ee=ee;if(te===ee){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ve=me[te],nt=(ve>>>2)-1;if(!Ve)return;for(var Xe=0;Xe<nt&&(Ee=V0(Ve,Xe*4))!==ee;++Xe)be.push(Ee);S(V0(Ve,ve-4),Se-1,me,ve,be)}}function C(te,Se,me,ve,be){var Ee=[],Ve=[];be||(be=[]);var nt=ve-1,Xe=0,Ye=0;for(Xe=Se;Xe>=0;){be[Xe]=!0,Ee[Ee.length]=Xe,Ve.push(te[Xe]);var Ke=me[Math.floor(Xe*4/ve)];if(Ye=Xe*4&nt,ve<4+Ye)throw new Error("FAT boundary crossed: "+Xe+" 4 "+ve);if(!te[Ke])break;Xe=V0(te[Ke],Ye)}return{nodes:Ee,data:DR([Ve])}}function L(te,Se,me,ve){var be=te.length,Ee=[],Ve=[],nt=[],Xe=[],Ye=ve-1,Ke=0,bt=0,Et=0,It=0;for(Ke=0;Ke<be;++Ke)if(nt=[],Et=Ke+Se,Et>=be&&(Et-=be),!Ve[Et]){Xe=[];var At=[];for(bt=Et;bt>=0;){At[bt]=!0,Ve[bt]=!0,nt[nt.length]=bt,Xe.push(te[bt]);var Nt=me[Math.floor(bt*4/ve)];if(It=bt*4&Ye,ve<4+It)throw new Error("FAT boundary crossed: "+bt+" 4 "+ve);if(!te[Nt]||(bt=V0(te[Nt],It),At[bt]))break}Ee[Et]={nodes:nt,data:DR([Xe])}}return Ee}function R(te,Se,me,ve,be,Ee,Ve,nt){for(var Xe=0,Ye=ve.length?2:0,Ke=Se[te].data,bt=0,Et=0,It;bt<Ke.length;bt+=128){var At=Ke.slice(bt,bt+128);cs(At,64),Et=At.read_shift(2),It=j4(At,0,Et-Ye),ve.push(It);var Nt={name:It,type:At.read_shift(1),color:At.read_shift(1),L:At.read_shift(4,"i"),R:At.read_shift(4,"i"),C:At.read_shift(4,"i"),clsid:At.read_shift(16),state:At.read_shift(4,"i"),start:0,size:0},jt=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);jt!==0&&(Nt.ct=D(At,At.l-8));var wr=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);wr!==0&&(Nt.mt=D(At,At.l-8)),Nt.start=At.read_shift(4,"i"),Nt.size=At.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=ee,Nt.name=""),Nt.type===5?(Xe=Nt.start,be>0&&Xe!==ee&&(Se[Xe].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",Se[Nt.start]===void 0&&(Se[Nt.start]=C(me,Nt.start,Se.fat_addrs,Se.ssz)),Se[Nt.start].name=Nt.name,Nt.content=Se[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:Xe!==ee&&Nt.start!==ee&&Se[Xe]&&(Nt.content=y(Nt,Se[Xe].data,(Se[nt]||{}).data))),Nt.content&&cs(Nt.content,0),Ee[It]=Nt,Ve.push(Nt)}}function D(te,Se){return new Date((pl(te,Se+4)/1e7*Math.pow(2,32)+pl(te,Se)/1e7-11644473600)*1e3)}function z(te,Se){return u(),h(c.readFileSync(te),Se)}function q(te,Se){var me=Se&&Se.type;switch(me||qn&&Buffer.isBuffer(te)&&(me="buffer"),me||"base64"){case"file":return z(te,Se);case"base64":return h(vl(wl(te)),Se);case"binary":return h(vl(te),Se)}return h(te,Se)}function P(te,Se){var me=Se||{},ve=me.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ve+"/",te.FileIndex[0]={name:ve,type:5}),me.CLSID&&(te.FileIndex[0].clsid=me.CLSID),W(te)}function W(te){var Se="Sh33tJ5";if(!hn.find(te,"/"+Se)){var me=at(4);me[0]=55,me[1]=me[3]=50,me[2]=54,te.FileIndex.push({name:Se,type:2,content:me,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+Se),O(te)}}function O(te,Se){P(te);for(var me=!1,ve=!1,be=te.FullPaths.length-1;be>=0;--be){var Ee=te.FileIndex[be];switch(Ee.type){case 0:ve?me=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ve=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(me=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!Se)){var Ve=new Date(1987,1,19),nt=0,Xe=Object.create?Object.create(null):{},Ye=[];for(be=0;be<te.FullPaths.length;++be)Xe[te.FullPaths[be]]=!0,te.FileIndex[be].type!==0&&Ye.push([te.FullPaths[be],te.FileIndex[be]]);for(be=0;be<Ye.length;++be){var Ke=r(Ye[be][0]);ve=Xe[Ke],ve||(Ye.push([Ke,{name:i(Ke).replace("/",""),type:1,clsid:K,ct:Ve,mt:Ve,content:null}]),Xe[Ke]=!0)}for(Ye.sort(function(It,At){return t(It[0],At[0])}),te.FullPaths=[],te.FileIndex=[],be=0;be<Ye.length;++be)te.FullPaths[be]=Ye[be][0],te.FileIndex[be]=Ye[be][1];for(be=0;be<Ye.length;++be){var bt=te.FileIndex[be],Et=te.FullPaths[be];if(bt.name=i(Et).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||K,be===0)bt.C=Ye.length>1?1:-1,bt.size=0,bt.type=5;else if(Et.slice(-1)=="/"){for(nt=be+1;nt<Ye.length&&r(te.FullPaths[nt])!=Et;++nt);for(bt.C=nt>=Ye.length?-1:nt,nt=be+1;nt<Ye.length&&r(te.FullPaths[nt])!=r(Et);++nt);bt.R=nt>=Ye.length?-1:nt,bt.type=1}else r(te.FullPaths[be+1]||"")==r(Et)&&(bt.R=be+1),bt.type=2}}}function Q(te,Se){var me=Se||{};if(me.fileType=="mad")return Bo(te,me);switch(O(te),me.fileType){case"zip":return Cn(te,me)}var ve=(function(It){for(var At=0,Nt=0,jt=0;jt<It.FileIndex.length;++jt){var wr=It.FileIndex[jt];if(wr.content){var Gn=wr.content.length;Gn>0&&(Gn<4096?At+=Gn+63>>6:Nt+=Gn+511>>9)}}for(var Tr=It.FullPaths.length+3>>2,Xa=At+7>>3,Uo=At+127>>7,Ho=Xa+Nt+Tr+Uo,Us=Ho+127>>7,uu=Us<=109?0:Math.ceil((Us-109)/127);Ho+Us+uu+127>>7>Us;)uu=++Us<=109?0:Math.ceil((Us-109)/127);var Zr=[1,uu,Us,Uo,Tr,Nt,At,0];return It.FileIndex[0].size=At<<6,Zr[7]=(It.FileIndex[0].start=Zr[0]+Zr[1]+Zr[2]+Zr[3]+Zr[4]+Zr[5])+(Zr[6]+7>>3),Zr})(te),be=at(ve[7]<<9),Ee=0,Ve=0;{for(Ee=0;Ee<8;++Ee)be.write_shift(1,ue[Ee]);for(Ee=0;Ee<8;++Ee)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),Ee=0;Ee<3;++Ee)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ve[2]),be.write_shift(4,ve[0]+ve[1]+ve[2]+ve[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ve[3]?ve[0]+ve[1]+ve[2]-1:ee),be.write_shift(4,ve[3]),be.write_shift(-4,ve[1]?ve[0]-1:ee),be.write_shift(4,ve[1]),Ee=0;Ee<109;++Ee)be.write_shift(-4,Ee<ve[2]?ve[1]+Ee:-1)}if(ve[1])for(Ve=0;Ve<ve[1];++Ve){for(;Ee<236+Ve*127;++Ee)be.write_shift(-4,Ee<ve[2]?ve[1]+Ee:-1);be.write_shift(-4,Ve===ve[1]-1?ee:Ve+1)}var nt=function(It){for(Ve+=It;Ee<Ve-1;++Ee)be.write_shift(-4,Ee+1);It&&(++Ee,be.write_shift(-4,ee))};for(Ve=Ee=0,Ve+=ve[1];Ee<Ve;++Ee)be.write_shift(-4,le.DIFSECT);for(Ve+=ve[2];Ee<Ve;++Ee)be.write_shift(-4,le.FATSECT);nt(ve[3]),nt(ve[4]);for(var Xe=0,Ye=0,Ke=te.FileIndex[0];Xe<te.FileIndex.length;++Xe)Ke=te.FileIndex[Xe],Ke.content&&(Ye=Ke.content.length,!(Ye<4096)&&(Ke.start=Ve,nt(Ye+511>>9)));for(nt(ve[6]+7>>3);be.l&511;)be.write_shift(-4,le.ENDOFCHAIN);for(Ve=Ee=0,Xe=0;Xe<te.FileIndex.length;++Xe)Ke=te.FileIndex[Xe],Ke.content&&(Ye=Ke.content.length,!(!Ye||Ye>=4096)&&(Ke.start=Ve,nt(Ye+63>>6)));for(;be.l&511;)be.write_shift(-4,le.ENDOFCHAIN);for(Ee=0;Ee<ve[4]<<2;++Ee){var bt=te.FullPaths[Ee];if(!bt||bt.length===0){for(Xe=0;Xe<17;++Xe)be.write_shift(4,0);for(Xe=0;Xe<3;++Xe)be.write_shift(4,-1);for(Xe=0;Xe<12;++Xe)be.write_shift(4,0);continue}Ke=te.FileIndex[Ee],Ee===0&&(Ke.start=Ke.size?Ke.start-1:ee);var Et=Ee===0&&me.root||Ke.name;if(Ye=2*(Et.length+1),be.write_shift(64,Et,"utf16le"),be.write_shift(2,Ye),be.write_shift(1,Ke.type),be.write_shift(1,Ke.color),be.write_shift(-4,Ke.L),be.write_shift(-4,Ke.R),be.write_shift(-4,Ke.C),Ke.clsid)be.write_shift(16,Ke.clsid,"hex");else for(Xe=0;Xe<4;++Xe)be.write_shift(4,0);be.write_shift(4,Ke.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Ke.start),be.write_shift(4,Ke.size),be.write_shift(4,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ke=te.FileIndex[Ee],Ke.size>=4096)if(be.l=Ke.start+1<<9,qn&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+511&-512;else{for(Xe=0;Xe<Ke.size;++Xe)be.write_shift(1,Ke.content[Xe]);for(;Xe&511;++Xe)be.write_shift(1,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ke=te.FileIndex[Ee],Ke.size>0&&Ke.size<4096)if(qn&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+63&-64;else{for(Xe=0;Xe<Ke.size;++Xe)be.write_shift(1,Ke.content[Xe]);for(;Xe&63;++Xe)be.write_shift(1,0)}if(qn)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function B(te,Se){var me=te.FullPaths.map(function(Xe){return Xe.toUpperCase()}),ve=me.map(function(Xe){var Ye=Xe.split("/");return Ye[Ye.length-(Xe.slice(-1)=="/"?2:1)]}),be=!1;Se.charCodeAt(0)===47?(be=!0,Se=me[0].slice(0,-1)+Se):be=Se.indexOf("/")!==-1;var Ee=Se.toUpperCase(),Ve=be===!0?me.indexOf(Ee):ve.indexOf(Ee);if(Ve!==-1)return te.FileIndex[Ve];var nt=!Ee.match(Cx);for(Ee=Ee.replace(ro,""),nt&&(Ee=Ee.replace(Cx,"!")),Ve=0;Ve<me.length;++Ve)if((nt?me[Ve].replace(Cx,"!"):me[Ve]).replace(ro,"")==Ee||(nt?ve[Ve].replace(Cx,"!"):ve[Ve]).replace(ro,"")==Ee)return te.FileIndex[Ve];return null}var j=64,ee=-2,fe="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ee,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Te(te,Se,me){u();var ve=Q(te,me);c.writeFileSync(Se,ve)}function ge(te){for(var Se=new Array(te.length),me=0;me<te.length;++me)Se[me]=String.fromCharCode(te[me]);return Se.join("")}function Be(te,Se){var me=Q(te,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),c.writeFileSync(Se.filename,me),me;case"binary":return typeof me=="string"?me:ge(me);case"base64":return e2(typeof me=="string"?me:ge(me));case"buffer":if(qn)return Buffer.isBuffer(me)?me:Nh(me);case"array":return typeof me=="string"?vl(me):me}return me}var ie;function M(te){try{var Se=te.InflateRaw,me=new Se;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ie=te;else throw new Error("zlib does not expose bytesRead")}catch(ve){console.error("cannot use native zlib: "+(ve.message||ve))}}function H(te,Se){if(!ie)return yr(te,Se);var me=ie.InflateRaw,ve=new me,be=ve._processChunk(te.slice(te.l),ve._finishFlushFlag);return te.l+=ve.bytesRead,be}function G(te){return ie?ie.deflateRawSync(te):Ge(te)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(te){var Se=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var Ce=typeof Uint8Array<"u",Le=Ce?new Uint8Array(256):[],Re=0;Re<256;++Re)Le[Re]=ke(Re);function ce(te,Se){var me=Le[te&255];return Se<=8?me>>>8-Se:(me=me<<8|Le[te>>8&255],Se<=16?me>>>16-Se:(me=me<<8|Le[te>>16&255],me>>>24-Se))}function dt(te,Se){var me=Se&7,ve=Se>>>3;return(te[ve]|(me<=6?0:te[ve+1]<<8))>>>me&3}function gt(te,Se){var me=Se&7,ve=Se>>>3;return(te[ve]|(me<=5?0:te[ve+1]<<8))>>>me&7}function de(te,Se){var me=Se&7,ve=Se>>>3;return(te[ve]|(me<=4?0:te[ve+1]<<8))>>>me&15}function Ne(te,Se){var me=Se&7,ve=Se>>>3;return(te[ve]|(me<=3?0:te[ve+1]<<8))>>>me&31}function Pe(te,Se){var me=Se&7,ve=Se>>>3;return(te[ve]|(me<=1?0:te[ve+1]<<8))>>>me&127}function He(te,Se,me){var ve=Se&7,be=Se>>>3,Ee=(1<<me)-1,Ve=te[be]>>>ve;return me<8-ve||(Ve|=te[be+1]<<8-ve,me<16-ve)||(Ve|=te[be+2]<<16-ve,me<24-ve)||(Ve|=te[be+3]<<24-ve),Ve&Ee}function Ue(te,Se,me){var ve=Se&7,be=Se>>>3;return ve<=5?te[be]|=(me&7)<<ve:(te[be]|=me<<ve&255,te[be+1]=(me&7)>>8-ve),Se+3}function ft(te,Se,me){var ve=Se&7,be=Se>>>3;return me=(me&1)<<ve,te[be]|=me,Se+1}function ot(te,Se,me){var ve=Se&7,be=Se>>>3;return me<<=ve,te[be]|=me&255,me>>>=8,te[be+1]=me,Se+8}function St(te,Se,me){var ve=Se&7,be=Se>>>3;return me<<=ve,te[be]|=me&255,me>>>=8,te[be+1]=me&255,te[be+2]=me>>>8,Se+16}function yt(te,Se){var me=te.length,ve=2*me>Se?2*me:Se+5,be=0;if(me>=Se)return te;if(qn){var Ee=gR(ve);if(te.copy)te.copy(Ee);else for(;be<te.length;++be)Ee[be]=te[be];return Ee}else if(Ce){var Ve=new Uint8Array(ve);if(Ve.set)Ve.set(te);else for(;be<me;++be)Ve[be]=te[be];return Ve}return te.length=ve,te}function wt(te){for(var Se=new Array(te),me=0;me<te;++me)Se[me]=0;return Se}function Tt(te,Se,me){var ve=1,be=0,Ee=0,Ve=0,nt=0,Xe=te.length,Ye=Ce?new Uint16Array(32):wt(32);for(Ee=0;Ee<32;++Ee)Ye[Ee]=0;for(Ee=Xe;Ee<me;++Ee)te[Ee]=0;Xe=te.length;var Ke=Ce?new Uint16Array(Xe):wt(Xe);for(Ee=0;Ee<Xe;++Ee)Ye[be=te[Ee]]++,ve<be&&(ve=be),Ke[Ee]=0;for(Ye[0]=0,Ee=1;Ee<=ve;++Ee)Ye[Ee+16]=nt=nt+Ye[Ee-1]<<1;for(Ee=0;Ee<Xe;++Ee)nt=te[Ee],nt!=0&&(Ke[Ee]=Ye[nt+16]++);var bt=0;for(Ee=0;Ee<Xe;++Ee)if(bt=te[Ee],bt!=0)for(nt=ce(Ke[Ee],ve)>>ve-bt,Ve=(1<<ve+4-bt)-1;Ve>=0;--Ve)Se[nt|Ve<<bt]=bt&15|Ee<<4;return ve}var Bt=Ce?new Uint16Array(512):wt(512),on=Ce?new Uint16Array(32):wt(32);if(!Ce){for(var Wt=0;Wt<512;++Wt)Bt[Wt]=0;for(Wt=0;Wt<32;++Wt)on[Wt]=0}(function(){for(var te=[],Se=0;Se<32;Se++)te.push(5);Tt(te,on,32);var me=[];for(Se=0;Se<=143;Se++)me.push(8);for(;Se<=255;Se++)me.push(9);for(;Se<=279;Se++)me.push(7);for(;Se<=287;Se++)me.push(8);Tt(me,Bt,288)})();var Ct=(function(){for(var Se=Ce?new Uint8Array(32768):[],me=0,ve=0;me<ye.length-1;++me)for(;ve<ye[me+1];++ve)Se[ve]=me;for(;ve<32768;++ve)Se[ve]=29;var be=Ce?new Uint8Array(259):[];for(me=0,ve=0;me<se.length-1;++me)for(;ve<se[me+1];++ve)be[ve]=me;function Ee(nt,Xe){for(var Ye=0;Ye<nt.length;){var Ke=Math.min(65535,nt.length-Ye),bt=Ye+Ke==nt.length;for(Xe.write_shift(1,+bt),Xe.write_shift(2,Ke),Xe.write_shift(2,~Ke&65535);Ke-- >0;)Xe[Xe.l++]=nt[Ye++]}return Xe.l}function Ve(nt,Xe){for(var Ye=0,Ke=0,bt=Ce?new Uint16Array(32768):[];Ke<nt.length;){var Et=Math.min(65535,nt.length-Ke);if(Et<10){for(Ye=Ue(Xe,Ye,+(Ke+Et==nt.length)),Ye&7&&(Ye+=8-(Ye&7)),Xe.l=Ye/8|0,Xe.write_shift(2,Et),Xe.write_shift(2,~Et&65535);Et-- >0;)Xe[Xe.l++]=nt[Ke++];Ye=Xe.l*8;continue}Ye=Ue(Xe,Ye,+(Ke+Et==nt.length)+2);for(var It=0;Et-- >0;){var At=nt[Ke];It=(It<<5^At)&32767;var Nt=-1,jt=0;if((Nt=bt[It])&&(Nt|=Ke&-32768,Nt>Ke&&(Nt-=32768),Nt<Ke))for(;nt[Nt+jt]==nt[Ke+jt]&&jt<250;)++jt;if(jt>2){At=be[jt],At<=22?Ye=ot(Xe,Ye,Le[At+1]>>1)-1:(ot(Xe,Ye,3),Ye+=5,ot(Xe,Ye,Le[At-23]>>5),Ye+=3);var wr=At<8?0:At-4>>2;wr>0&&(St(Xe,Ye,jt-se[At]),Ye+=wr),At=Se[Ke-Nt],Ye=ot(Xe,Ye,Le[At]>>3),Ye-=3;var Gn=At<4?0:At-2>>1;Gn>0&&(St(Xe,Ye,Ke-Nt-ye[At]),Ye+=Gn);for(var Tr=0;Tr<jt;++Tr)bt[It]=Ke&32767,It=(It<<5^nt[Ke])&32767,++Ke;Et-=jt-1}else At<=143?At=At+48:Ye=ft(Xe,Ye,1),Ye=ot(Xe,Ye,Le[At]),bt[It]=Ke&32767,++Ke}Ye=ot(Xe,Ye,0)-1}return Xe.l=(Ye+7)/8|0,Xe.l}return function(Xe,Ye){return Xe.length<8?Ee(Xe,Ye):Ve(Xe,Ye)}})();function Ge(te){var Se=at(50+Math.floor(te.length*1.1)),me=Ct(te,Se);return Se.slice(0,me)}var et=Ce?new Uint16Array(32768):wt(32768),Qt=Ce?new Uint16Array(32768):wt(32768),Dt=Ce?new Uint16Array(128):wt(128),Pt=1,pn=1;function Hn(te,Se){var me=Ne(te,Se)+257;Se+=5;var ve=Ne(te,Se)+1;Se+=5;var be=de(te,Se)+4;Se+=4;for(var Ee=0,Ve=Ce?new Uint8Array(19):wt(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Xe=1,Ye=Ce?new Uint8Array(8):wt(8),Ke=Ce?new Uint8Array(8):wt(8),bt=Ve.length,Et=0;Et<be;++Et)Ve[Y[Et]]=Ee=gt(te,Se),Xe<Ee&&(Xe=Ee),Ye[Ee]++,Se+=3;var It=0;for(Ye[0]=0,Et=1;Et<=Xe;++Et)Ke[Et]=It=It+Ye[Et-1]<<1;for(Et=0;Et<bt;++Et)(It=Ve[Et])!=0&&(nt[Et]=Ke[It]++);var At=0;for(Et=0;Et<bt;++Et)if(At=Ve[Et],At!=0){It=Le[nt[Et]]>>8-At;for(var Nt=(1<<7-At)-1;Nt>=0;--Nt)Dt[It|Nt<<At]=At&7|Et<<3}var jt=[];for(Xe=1;jt.length<me+ve;)switch(It=Dt[Pe(te,Se)],Se+=It&7,It>>>=3){case 16:for(Ee=3+dt(te,Se),Se+=2,It=jt[jt.length-1];Ee-- >0;)jt.push(It);break;case 17:for(Ee=3+gt(te,Se),Se+=3;Ee-- >0;)jt.push(0);break;case 18:for(Ee=11+Pe(te,Se),Se+=7;Ee-- >0;)jt.push(0);break;default:jt.push(It),Xe<It&&(Xe=It);break}var wr=jt.slice(0,me),Gn=jt.slice(me);for(Et=me;Et<286;++Et)wr[Et]=0;for(Et=ve;Et<30;++Et)Gn[Et]=0;return Pt=Tt(wr,et,286),pn=Tt(Gn,Qt,30),Se}function ln(te,Se){if(te[0]==3&&!(te[1]&3))return[t0(Se),2];for(var me=0,ve=0,be=gR(Se||1<<18),Ee=0,Ve=be.length>>>0,nt=0,Xe=0;(ve&1)==0;){if(ve=gt(te,me),me+=3,ve>>>1)ve>>1==1?(nt=9,Xe=5):(me=Hn(te,me),nt=Pt,Xe=pn);else{me&7&&(me+=8-(me&7));var Ye=te[me>>>3]|te[(me>>>3)+1]<<8;if(me+=32,Ye>0)for(!Se&&Ve<Ee+Ye&&(be=yt(be,Ee+Ye),Ve=be.length);Ye-- >0;)be[Ee++]=te[me>>>3],me+=8;continue}for(;;){!Se&&Ve<Ee+32767&&(be=yt(be,Ee+32767),Ve=be.length);var Ke=He(te,me,nt),bt=ve>>>1==1?Bt[Ke]:et[Ke];if(me+=bt&15,bt>>>=4,(bt>>>8&255)===0)be[Ee++]=bt;else{if(bt==256)break;bt-=257;var Et=bt<8?0:bt-4>>2;Et>5&&(Et=0);var It=Ee+se[bt];Et>0&&(It+=He(te,me,Et),me+=Et),Ke=He(te,me,Xe),bt=ve>>>1==1?on[Ke]:Qt[Ke],me+=bt&15,bt>>>=4;var At=bt<4?0:bt-2>>1,Nt=ye[bt];for(At>0&&(Nt+=He(te,me,At),me+=At),!Se&&Ve<It&&(be=yt(be,It+100),Ve=be.length);Ee<It;)be[Ee]=be[Ee-Nt],++Ee}}}return Se?[be,me+7>>>3]:[be.slice(0,Ee),me+7>>>3]}function yr(te,Se){var me=te.slice(te.l||0),ve=ln(me,Se);return te.l+=ve[1],ve[0]}function dn(te,Se){if(te)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function vn(te,Se){var me=te;cs(me,0);var ve=[],be=[],Ee={FileIndex:ve,FullPaths:be};P(Ee,{root:Se.root});for(var Ve=me.length-4;(me[Ve]!=80||me[Ve+1]!=75||me[Ve+2]!=5||me[Ve+3]!=6)&&Ve>=0;)--Ve;me.l=Ve+4,me.l+=4;var nt=me.read_shift(2);me.l+=6;var Xe=me.read_shift(4);for(me.l=Xe,Ve=0;Ve<nt;++Ve){me.l+=20;var Ye=me.read_shift(4),Ke=me.read_shift(4),bt=me.read_shift(2),Et=me.read_shift(2),It=me.read_shift(2);me.l+=8;var At=me.read_shift(4),Nt=o(me.slice(me.l+bt,me.l+bt+Et));me.l+=bt+Et+It;var jt=me.l;me.l=At+4,br(me,Ye,Ke,Ee,Nt),me.l=jt}return Ee}function br(te,Se,me,ve,be){te.l+=2;var Ee=te.read_shift(2),Ve=te.read_shift(2),nt=s(te);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Xe=te.read_shift(4),Ye=te.read_shift(4),Ke=te.read_shift(4),bt=te.read_shift(2),Et=te.read_shift(2),It="",At=0;At<bt;++At)It+=String.fromCharCode(te[te.l++]);if(Et){var Nt=o(te.slice(te.l,te.l+Et));(Nt[21589]||{}).mt&&(nt=Nt[21589].mt),((be||{})[21589]||{}).mt&&(nt=be[21589].mt)}te.l+=Et;var jt=te.slice(te.l,te.l+Ye);switch(Ve){case 8:jt=H(te,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var wr=!1;Ee&8&&(Xe=te.read_shift(4),Xe==134695760&&(Xe=te.read_shift(4),wr=!0),Ye=te.read_shift(4),Ke=te.read_shift(4)),Ye!=Se&&dn(wr,"Bad compressed size: "+Se+" != "+Ye),Ke!=me&&dn(wr,"Bad uncompressed size: "+me+" != "+Ke),ha(ve,It,jt,{unsafe:!0,mt:nt})}function Cn(te,Se){var me=Se||{},ve=[],be=[],Ee=at(1),Ve=me.compression?8:0,nt=0,Xe=0,Ye=0,Ke=0,bt=0,Et=te.FullPaths[0],It=Et,At=te.FileIndex[0],Nt=[],jt=0;for(Xe=1;Xe<te.FullPaths.length;++Xe)if(It=te.FullPaths[Xe].slice(Et.length),At=te.FileIndex[Xe],!(!At.size||!At.content||It=="Sh33tJ5")){var wr=Ke,Gn=at(It.length);for(Ye=0;Ye<It.length;++Ye)Gn.write_shift(1,It.charCodeAt(Ye)&127);Gn=Gn.slice(0,Gn.l),Nt[bt]=eZ.buf(At.content,0);var Tr=At.content;Ve==8&&(Tr=G(Tr)),Ee=at(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,Ve),At.mt?a(Ee,At.mt):Ee.write_shift(4,0),Ee.write_shift(-4,Nt[bt]),Ee.write_shift(4,Tr.length),Ee.write_shift(4,At.content.length),Ee.write_shift(2,Gn.length),Ee.write_shift(2,0),Ke+=Ee.length,ve.push(Ee),Ke+=Gn.length,ve.push(Gn),Ke+=Tr.length,ve.push(Tr),Ee=at(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,Ve),Ee.write_shift(4,0),Ee.write_shift(-4,Nt[bt]),Ee.write_shift(4,Tr.length),Ee.write_shift(4,At.content.length),Ee.write_shift(2,Gn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,wr),jt+=Ee.l,be.push(Ee),jt+=Gn.length,be.push(Gn),++bt}return Ee=at(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,bt),Ee.write_shift(2,bt),Ee.write_shift(4,jt),Ee.write_shift(4,Ke),Ee.write_shift(2,0),Ga([Ga(ve),Ga(be),Ee])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $n(te,Se){if(te.ctype)return te.ctype;var me=te.name||"",ve=me.match(/\.([^\.]+)$/);return ve&&Zt[ve[1]]||Se&&(ve=(me=Se).match(/[\.\\]([^\.\\])+$/),ve&&Zt[ve[1]])?Zt[ve[1]]:"application/octet-stream"}function Bs(te){for(var Se=e2(te),me=[],ve=0;ve<Se.length;ve+=76)me.push(Se.slice(ve,ve+76));return me.join(`\r
`)+`\r
`}function ea(te){var Se=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Ke=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ve=Se.split(`\r
`),be=0;be<ve.length;++be){var Ee=ve[be];if(Ee.length==0){me.push("");continue}for(var Ve=0;Ve<Ee.length;){var nt=76,Xe=Ee.slice(Ve,Ve+nt);Xe.charAt(nt-1)=="="?nt--:Xe.charAt(nt-2)=="="?nt-=2:Xe.charAt(nt-3)=="="&&(nt-=3),Xe=Ee.slice(Ve,Ve+nt),Ve+=nt,Ve<Ee.length&&(Xe+="="),me.push(Xe)}}return me.join(`\r
`)}function oo(te){for(var Se=[],me=0;me<te.length;++me){for(var ve=te[me];me<=te.length&&ve.charAt(ve.length-1)=="=";)ve=ve.slice(0,ve.length-1)+te[++me];Se.push(ve)}for(var be=0;be<Se.length;++be)Se[be]=Se[be].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return vl(Se.join(`\r
`))}function fs(te,Se,me){for(var ve="",be="",Ee="",Ve,nt=0;nt<10;++nt){var Xe=Se[nt];if(!Xe||Xe.match(/^\s*$/))break;var Ye=Xe.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":ve=Ye[2].trim();break;case"content-type":Ee=Ye[2].trim();break;case"content-transfer-encoding":be=Ye[2].trim();break}}switch(++nt,be.toLowerCase()){case"base64":Ve=vl(wl(Se.slice(nt).join("")));break;case"quoted-printable":Ve=oo(Se.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Ke=ha(te,ve.slice(me.length),Ve,{unsafe:!0});Ee&&(Ke.ctype=Ee)}function an(te,Se){if(ge(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=Se&&Se.root||"",ve=(qn&&Buffer.isBuffer(te)?te.toString("binary"):ge(te)).split(`\r
`),be=0,Ee="";for(be=0;be<ve.length;++be)if(Ee=ve[be],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),me||(me=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ee.slice(0,me.length)!=me););var Ve=(ve[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var nt="--"+(Ve[1]||""),Xe=[],Ye=[],Ke={FileIndex:Xe,FullPaths:Ye};P(Ke);var bt,Et=0;for(be=0;be<ve.length;++be){var It=ve[be];It!==nt&&It!==nt+"--"||(Et++&&fs(Ke,ve.slice(bt,be),me),bt=be)}return Ke}function Bo(te,Se){var me=Se||{},ve=me.boundary||"SheetJS";ve="------="+ve;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ve.slice(2)+'"',"","",""],Ee=te.FullPaths[0],Ve=Ee,nt=te.FileIndex[0],Xe=1;Xe<te.FullPaths.length;++Xe)if(Ve=te.FullPaths[Xe].slice(Ee.length),nt=te.FileIndex[Xe],!(!nt.size||!nt.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(jt){return"_x"+jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(jt){return"_u"+jt.charCodeAt(0).toString(16)+"_"});for(var Ye=nt.content,Ke=qn&&Buffer.isBuffer(Ye)?Ye.toString("binary"):ge(Ye),bt=0,Et=Math.min(1024,Ke.length),It=0,At=0;At<=Et;++At)(It=Ke.charCodeAt(At))>=32&&It<128&&++bt;var Nt=bt>=Et*4/5;be.push(ve),be.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ve),be.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),be.push("Content-Type: "+$n(nt,Ve)),be.push(""),be.push(Nt?ea(Ke):Bs(Ke))}return be.push(ve+`--\r
`),be.join(`\r
`)}function lo(te){var Se={};return P(Se,te),Se}function ha(te,Se,me,ve){var be=ve&&ve.unsafe;be||P(te);var Ee=!be&&hn.find(te,Se);if(!Ee){var Ve=te.FullPaths[0];Se.slice(0,Ve.length)==Ve?Ve=Se:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+Se).replace("//","/")),Ee={name:i(Se),type:2},te.FileIndex.push(Ee),te.FullPaths.push(Ve),be||hn.utils.cfb_gc(te)}return Ee.content=me,Ee.size=me?me.length:0,ve&&(ve.CLSID&&(Ee.clsid=ve.CLSID),ve.mt&&(Ee.mt=ve.mt),ve.ct&&(Ee.ct=ve.ct)),Ee}function Wa(te,Se){P(te);var me=hn.find(te,Se);if(me){for(var ve=0;ve<te.FileIndex.length;++ve)if(te.FileIndex[ve]==me)return te.FileIndex.splice(ve,1),te.FullPaths.splice(ve,1),!0}return!1}function Pr(te,Se,me){P(te);var ve=hn.find(te,Se);if(ve){for(var be=0;be<te.FileIndex.length;++be)if(te.FileIndex[be]==ve)return te.FileIndex[be].name=i(me),te.FullPaths[be]=me,!0}return!1}function ci(te){O(te,!0)}return e.find=B,e.read=q,e.parse=h,e.write=Be,e.writeFile=Te,e.utils={cfb_new:lo,cfb_add:ha,cfb_del:Wa,cfb_mov:Pr,cfb_gc:ci,ReadShift:Mx,CheckField:rP,prep_blob:cs,bconcat:Ga,use_zlib:M,_deflateRaw:Ge,_inflateRaw:yr,consts:le},e})();function tZ(n){return typeof n=="string"?w5(n):Array.isArray(n)?CJ(n):n}function qy(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=w5(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?tf(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([tZ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:n,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=n,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(n);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=l0(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function nZ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function Hi(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function SR(n,e){for(var t=[],r=Hi(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function S5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function A5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function rZ(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var C_=new Date(1899,11,30,0,0,0);function ka(n,e){var t=n.getTime(),r=C_.getTime()+(n.getTimezoneOffset()-C_.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var PF=new Date,iZ=C_.getTime()+(PF.getTimezoneOffset()-C_.getTimezoneOffset())*6e4,AR=PF.getTimezoneOffset();function E5(n){var e=new Date;return e.setTime(n*24*60*60*1e3+iZ),e.getTimezoneOffset()!==AR&&e.setTime(e.getTime()+(e.getTimezoneOffset()-AR)*6e4),e}function aZ(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var ER=new Date("2017-02-19T19:06:09.000Z"),OF=isNaN(ER.getFullYear())?new Date("2/19/17"):ER,sZ=OF.getFullYear()==2017;function oi(n,e){var t=new Date(n);if(sZ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(OF.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ug(n,e){if(qn&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return tf(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return tf(AF(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return tf(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return tf(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function li(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=li(n[t]));return e}function Bi(n,e){for(var t="";t.length<e;)t+=n;return t}function nu(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(r)))?e/t:e}var oZ=["january","february","march","april","may","june","july","august","september","october","november","december"];function sv(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=n.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&oZ.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||a>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var lZ=(function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var a=t.split(r),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function BF(n){return n?n.content&&n.type?ug(n.content,!0):n.data?Tx(n.data):n.asNodeBuffer&&qn?Tx(n.asNodeBuffer().toString("binary")):n.asBinary?Tx(n.asBinary()):n._data&&n._data.getContent?Tx(ug(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function UF(n){if(!n)return null;if(n.data)return dR(n.data);if(n.asNodeBuffer&&qn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?dR(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function cZ(n){return n&&n.name.slice(-4)===".bin"?UF(n):BF(n)}function Gl(n,e){for(var t=n.FullPaths||Hi(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return n.files?n.files[t[a]]:n.FileIndex[a]}return null}function P4(n,e){var t=Gl(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function la(n,e,t){if(!t)return cZ(P4(n,e));if(!e)return null;try{return la(n,e)}catch{return null}}function xl(n,e,t){if(!t)return BF(P4(n,e));if(!e)return null;try{return xl(n,e)}catch{return null}}function uZ(n,e,t){return UF(P4(n,e))}function TR(n){for(var e=n.FullPaths||Hi(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function On(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return qn?r=Nh(t):r=kJ(t),hn.utils.cfb_add(n,e,r)}hn.utils.cfb_add(n,e,t)}else n.file(e,t)}function O4(){return hn.utils.cfb_new()}function HF(n,e){switch(e.type){case"base64":return hn.read(n,{type:"base64"});case"binary":return hn.read(n,{type:"binary"});case"buffer":case"array":return hn.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function kx(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var Qi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,fZ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,CR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,hZ=/<[^>]*>/g,Os=Qi.match(CR)?CR:hZ,dZ=/<\w*:/,pZ=/<(\/?)\w+:/;function Sn(n,e,t){for(var r={},i=0,a=0;i!==n.length&&!((a=n.charCodeAt(i))===32||a===10||a===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var s=n.match(fZ),o=0,c="",u=0,h="",p="",g=1;if(s)for(u=0;u!=s.length;++u){for(p=s[u],a=0;a!=p.length&&p.charCodeAt(a)!==61;++a);for(h=p.slice(0,a).trim();p.charCodeAt(a+1)==32;)++a;for(g=(i=p.charCodeAt(a+1))==34||i==39?1:0,c=p.slice(a+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=c,r[h.toLowerCase()]=c;else{var m=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(r[m]&&h.slice(o-3,o)=="ext")continue;r[m]=c,r[m.toLowerCase()]=c}}return r}function of(n){return n.replace(pZ,"<$1")}var zF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},B4=S5(zF),fr=(function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(n,function(o,c){return zF[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}})(),U4=/[&<>'"]/g,gZ=/[\u0000-\u0008\u000b-\u001f]/g;function Fr(n){var e=n+"";return e.replace(U4,function(t){return B4[t]}).replace(gZ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kR(n){return Fr(n).replace(/ /g,"_x0020_")}var jF=/[\u0000-\u001f]/g;function H4(n){var e=n+"";return e.replace(U4,function(t){return B4[t]}).replace(/\n/g,"<br/>").replace(jF,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function mZ(n){var e=n+"";return e.replace(U4,function(t){return B4[t]}).replace(jF,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var NR=(function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}})();function vZ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function ai(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function RA(n){for(var e="",t=0,r=0,i=0,a=0,s=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function RR(n){var e=t0(2*n.length),t,r,i=1,a=0,s=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function LR(n){return Nh(n,"binary").toString("utf8")}var cw="foo bar baz",qr=qn&&(LR(cw)==RA(cw)&&LR||RR(cw)==RA(cw)&&RR)||RA,tf=qn?function(n){return Nh(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},n2=(function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}})(),GF=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),xZ=(function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),yZ=/<\/?(?:vt:)?variant>/g,bZ=/<(?:vt:)([^>]*)>([\s\S]*)</;function IR(n,e){var t=Sn(n),r=n.match(xZ(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(a){var s=a.replace(yZ,"").match(bZ);s&&i.push({v:qr(s[2]),t:s[1]})}),i}var qF=/(^\s|\s$|\n)/;function us(n,e){return"<"+n+(e.match(qF)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function r2(n){return Hi(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function kt(n,e,t){return"<"+n+(t!=null?r2(t):"")+(e!=null?(e.match(qF)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function OT(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function wZ(n,e){switch(typeof n){case"string":var t=kt("vt:lpwstr",Fr(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return kt((n|0)==n?"vt:i4":"vt:r8",Fr(String(n)));case"boolean":return kt("vt:bool",n?"true":"false")}if(n instanceof Date)return kt("vt:filetime",OT(n));throw new Error("Unable to serialize "+n)}function z4(n){if(qn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return qr(l0(M4(n)));throw new Error("Bad input format: expected Buffer or string")}var i2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ta={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],dl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function _Z(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,a=5;a>=0;--a)i=i*256+n[e+a];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function SZ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)n[t+o]=a&255;n[t+6]=(i&15)<<4|a&15,n[t+7]=i>>4|r}var MR=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,a=n[0][r].length;i<a;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},DR=qn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Nh(e)})):MR(n)}:MR,FR=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(gh(n,i)));return r.join("").replace(ro,"")},j4=qn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(ro,""):FR(n,e,t)}:FR,PR=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},VF=qn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):PR(n,e,t)}:PR,OR=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Im(n,i)));return r.join("")},Vy=qn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):OR(e,t,r)}:OR,WF=function(n,e){var t=pl(n,e);return t>0?Vy(n,e+4,e+4+t-1):""},XF=WF,YF=function(n,e){var t=pl(n,e);return t>0?Vy(n,e+4,e+4+t-1):""},$F=YF,KF=function(n,e){var t=2*pl(n,e);return t>0?Vy(n,e+4,e+4+t-1):""},JF=KF,ZF=function(e,t){var r=pl(e,t);return r>0?j4(e,t+4,t+4+r):""},QF=ZF,eP=function(n,e){var t=pl(n,e);return t>0?Vy(n,e+4,e+4+t):""},tP=eP,nP=function(n,e){return _Z(n,e)},k_=nP,G4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};qn&&(XF=function(e,t){if(!Buffer.isBuffer(e))return WF(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},$F=function(e,t){if(!Buffer.isBuffer(e))return YF(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},JF=function(e,t){if(!Buffer.isBuffer(e))return KF(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},QF=function(e,t){if(!Buffer.isBuffer(e))return ZF(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},tP=function(e,t){if(!Buffer.isBuffer(e))return eP(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},k_=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):nP(e,t)},G4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Im=function(n,e){return n[e]},gh=function(n,e){return n[e+1]*256+n[e]},AZ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},pl=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},V0=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},EZ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Mx(n,e){var t="",r,i,a=[],s,o,c,u;switch(e){case"dbcs":if(u=this.l,qn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(gh(this,u)),u+=2;n*=2;break;case"utf8":t=Vy(this,this.l,this.l+n);break;case"utf16le":n*=2,t=j4(this,this.l,this.l+n);break;case"wstr":return Mx.call(this,n,"dbcs");case"lpstr-ansi":t=XF(this,this.l),n=4+pl(this,this.l);break;case"lpstr-cp":t=$F(this,this.l),n=4+pl(this,this.l);break;case"lpwstr":t=JF(this,this.l),n=4+2*pl(this,this.l);break;case"lpp4":n=4+pl(this,this.l),t=QF(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+pl(this,this.l),t=tP(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(s=Im(this,this.l+n++))!==0;)a.push(lw(s));t=a.join("");break;case"_wstr":for(n=0,t="";(s=gh(this,this.l+n))!==0;)a.push(lw(s)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Im(this,u),this.l=u+1,o=Mx.call(this,n-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(lw(gh(this,u))),u+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Im(this,u),this.l=u+1,o=Mx.call(this,n-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(lw(Im(this,u))),u+=1}t=a.join("");break;default:switch(n){case 1:return r=Im(this,this.l),this.l++,r;case 2:return r=(e==="i"?AZ:gh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?V0:EZ)(this,this.l),this.l+=4,r):(i=pl(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=k_(this,this.l):i=k_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=VF(this,this.l,n);break}}return this.l+=n,t}var TZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},CZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},kZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function NZ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)kZ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,TZ(this,e,this.l);break;case 8:if(r=8,t==="f"){SZ(this,e,this.l);break}case 16:break;case-4:r=4,CZ(this,e,this.l);break}return this.l+=r,this}function rP(n,e){var t=VF(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function cs(n,e){n.l=e,n.read_shift=Mx,n.chk=rP,n.write_shift=NZ}function Ps(n,e){n.l+=e}function at(n){var e=t0(n);return cs(e,0),e}function Rh(n,e,t){if(n){var r,i,a;cs(n,n.l||0);for(var s=n.length,o=0,c=0;n.l<s;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var u=u2[o]||u2[65535];for(r=n.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=n.read_shift(1))&127)<<7*i;c=n.l+a;var h=u.f&&u.f(n,a,t);if(n.l=c,e(h,u,o))return}}}function Fo(){var n=[],e=qn?256:2048,t=function(u){var h=at(u);return cs(h,0),h},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},s=function(){return i(),Ga(n)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:n}}function xt(n,e,t,r){var i=+e,a;if(!isNaN(i)){r||(r=u2[i].p||(t||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=n.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&G4(t)&&n.push(t)}}function Dx(n,e,t){var r=li(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function BR(n,e,t){var r=li(n);return r.s=Dx(r.s,e.s,t),r.e=Dx(r.e,e.s,t),r}function Fx(n,e){if(n.cRel&&n.c<0)for(n=li(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=li(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=_n(n);return!n.cRel&&n.cRel!=null&&(t=IZ(t)),!n.rRel&&n.rRel!=null&&(t=RZ(t)),t}function LA(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ti(n.s.c)+":"+(n.e.cRel?"":"$")+Ti(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Ji(n.s.r)+":"+(n.e.rRel?"":"$")+Ji(n.e.r):Fx(n.s,e.biff)+":"+Fx(n.e,e.biff)}function q4(n){return parseInt(LZ(n),10)-1}function Ji(n){return""+(n+1)}function RZ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function LZ(n){return n.replace(/\$(\d+)$/,"$1")}function V4(n){for(var e=MZ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ti(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function IZ(n){return n.replace(/^([A-Z])/,"$$$1")}function MZ(n){return n.replace(/^\$([A-Z])/,"$1")}function DZ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ci(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function _n(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Po(n){var e=n.indexOf(":");return e==-1?{s:Ci(n),e:Ci(n)}:{s:Ci(n.slice(0,e)),e:Ci(n.slice(e+1))}}function Fn(n,e){return typeof e>"u"||typeof e=="number"?Fn(n.s,n.e):(typeof n!="string"&&(n=_n(n)),typeof e!="string"&&(e=_n(e)),n==e?n:n+":"+e)}function dr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,a=n.length;for(t=0;r<a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function UR(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=ac(n.z,t?ka(e):e)}catch{}try{return n.w=ac((n.XF||{}).numFmtId||(t?14:0),t?ka(e):e)}catch{return""+e}}function Sh(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Lh[n.v]||n.v:e==null?UR(n,n.v):UR(n,e))}function c0(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function iP(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,a=n||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=dr(a["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(u.e.r=s=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},w=s+p,y=o+g;if(u.s.r>w&&(u.s.r=w),u.s.c>y&&(u.s.c=y),u.e.r<w&&(u.e.r=w),u.e.c<y&&(u.e.c=y),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||wn[14],r.cellDates?(m.t="d",m.w=ac(m.z,ka(m.v))):(m.t="n",m.v=ka(m.v),m.w=ac(m.z,m.v))):m.t="s";if(i)a[w]||(a[w]=[]),a[w][y]&&a[w][y].z&&(m.z=a[w][y].z),a[w][y]=m;else{var S=_n({c:y,r:w});a[S]&&a[S].z&&(m.z=a[S].z),a[S]=m}}}return u.s.c<1e7&&(a["!ref"]=Fn(u)),a}function gv(n,e){return iP(null,n,e)}function FZ(n){return n.read_shift(4,"i")}function ru(n,e){return e||(e=at(4)),e.write_shift(4,n),e}function Fs(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function qa(n,e){var t=!1;return e==null&&(t=!0,e=at(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function PZ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function OZ(n,e){return e||(e=at(4)),e.write_shift(2,0),e.write_shift(2,0),e}function W4(n,e){var t=n.l,r=n.read_shift(1),i=Fs(n),a=[],s={t:i,h:i};if((r&1)!==0){for(var o=n.read_shift(4),c=0;c!=o;++c)a.push(PZ(n));s.r=a}else s.r=[{ich:0,ifnt:0}];return n.l=t+e,s}function BZ(n,e){var t=!1;return e==null&&(t=!0,e=at(15+4*n.t.length)),e.write_shift(1,0),qa(n.t,e),t?e.slice(0,e.l):e}var UZ=W4;function HZ(n,e){var t=!1;return e==null&&(t=!0,e=at(23+4*n.t.length)),e.write_shift(1,1),qa(n.t,e),e.write_shift(4,1),OZ({},e),t?e.slice(0,e.l):e}function sc(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function _g(n,e){return e==null&&(e=at(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Sg(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Ag(n,e){return e==null&&(e=at(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var zZ=Fs,aP=qa;function X4(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function N_(n,e){var t=!1;return e==null&&(t=!0,e=at(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var jZ=Fs,BT=X4,Y4=N_;function $4(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?k_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):V0(e,0)>>2;return t?i/100:i}function sP(n,e){e==null&&(e=at(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function oP(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function GZ(n,e){return e||(e=at(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Eg=oP,mv=GZ;function Ms(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function fg(n,e){return(e||at(8)).write_shift(8,n,"f")}function qZ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),a=n.read_shift(2,"i"),s=n.read_shift(1),o=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=eg[i];u&&(e.rgb=s2(u));break;case 2:e.rgb=s2([s,o,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function R_(n,e){if(e||(e=at(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function VZ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function WZ(n,e){e||(e=at(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function lP(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function XZ(n){return lP(n,1)}function YZ(n){return lP(n,2)}var K4=2,Do=3,uw=11,HR=12,L_=19,fw=64,$Z=65,KZ=71,JZ=4108,ZZ=4126,za=80,cP=81,QZ=[za,cP],UT={1:{n:"CodePage",t:K4},2:{n:"Category",t:za},3:{n:"PresentationFormat",t:za},4:{n:"ByteCount",t:Do},5:{n:"LineCount",t:Do},6:{n:"ParagraphCount",t:Do},7:{n:"SlideCount",t:Do},8:{n:"NoteCount",t:Do},9:{n:"HiddenCount",t:Do},10:{n:"MultimediaClipCount",t:Do},11:{n:"ScaleCrop",t:uw},12:{n:"HeadingPairs",t:JZ},13:{n:"TitlesOfParts",t:ZZ},14:{n:"Manager",t:za},15:{n:"Company",t:za},16:{n:"LinksUpToDate",t:uw},17:{n:"CharacterCount",t:Do},19:{n:"SharedDoc",t:uw},22:{n:"HyperlinksChanged",t:uw},23:{n:"AppVersion",t:Do,p:"version"},24:{n:"DigSig",t:$Z},26:{n:"ContentType",t:za},27:{n:"ContentStatus",t:za},28:{n:"Language",t:za},29:{n:"Version",t:za},255:{},2147483648:{n:"Locale",t:L_},2147483651:{n:"Behavior",t:L_},1919054434:{}},HT={1:{n:"CodePage",t:K4},2:{n:"Title",t:za},3:{n:"Subject",t:za},4:{n:"Author",t:za},5:{n:"Keywords",t:za},6:{n:"Comments",t:za},7:{n:"Template",t:za},8:{n:"LastAuthor",t:za},9:{n:"RevNumber",t:za},10:{n:"EditTime",t:fw},11:{n:"LastPrinted",t:fw},12:{n:"CreatedDate",t:fw},13:{n:"ModifiedDate",t:fw},14:{n:"PageCount",t:Do},15:{n:"WordCount",t:Do},16:{n:"CharCount",t:Do},17:{n:"Thumbnail",t:KZ},18:{n:"Application",t:za},19:{n:"DocSecurity",t:Do},255:{},2147483648:{n:"Locale",t:L_},2147483651:{n:"Behavior",t:L_},1919054434:{}},zR={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},eQ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function tQ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var nQ=tQ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eg=li(nQ),Lh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},uP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},zT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},hw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function J4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rQ(n){var e=J4();if(!n||!n.match)return e;var t={};if((n.match(Os)||[]).forEach(function(r){var i=Sn(r);switch(i[0].replace(dZ,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[zT[i.ContentType]]!==void 0&&e[zT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Ta.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function fP(n,e){var t=rZ(zT),r=[],i;r[r.length]=Qi,r[r.length]=kt("Types",null,{xmlns:Ta.CT,"xmlns:xsd":Ta.xsd,"xmlns:xsi":Ta.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return kt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){n[c]&&n[c].length>0&&(i=n[c][0],r[r.length]=kt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:hw[c][e.bookType]||hw[c].xlsx}))},s=function(c){(n[c]||[]).forEach(function(u){r[r.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:hw[c][e.bookType]||hw[c].xlsx})})},o=function(c){(n[c]||[]).forEach(function(u){r[r.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Xn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function a2(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Px(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Os)||[]).forEach(function(i){var a=Sn(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:kx(a.Target,e);t[o]=s,r[a.Id]=s}}),t["!id"]=r,t}function Km(n){var e=[Qi,kt("Relationships",null,{xmlns:Ta.RELS})];return Hi(n["!id"]).forEach(function(t){e[e.length]=kt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Mr(n,e,t,r,i,a){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Xn.HLINK,Xn.XPATH,Xn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}var iQ="application/vnd.oasis.opendocument.spreadsheet";function aQ(n,e){for(var t=z4(n),r,i;r=i2.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Sn(r[0],!1),i.path=="/"&&i.type!==iQ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function sQ(n){var e=[Qi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function jR(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function oQ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function lQ(n){var e=[Qi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(jR(n[t][0],n[t][1])),e.push(oQ("",n[t][0]));return e.push(jR("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function hP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+S_.version+"</meta:generator></office:meta></office:document-meta>"}var tc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],cQ=(function(){for(var n=new Array(tc.length),e=0;e<tc.length;++e){var t=tc[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n})();function dP(n){var e={};n=qr(n);for(var t=0;t<tc.length;++t){var r=tc[t],i=n.match(cQ[t]);i!=null&&i.length>0&&(e[r[1]]=fr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=oi(e[r[1]]))}return e}function IA(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Fr(e),r[r.length]=t?kt(n,e,t):us(n,e))}function pP(n,e){var t=e||{},r=[Qi,kt("cp:coreProperties",null,{"xmlns:cp":Ta.CORE_PROPS,"xmlns:dc":Ta.dc,"xmlns:dcterms":Ta.dcterms,"xmlns:dcmitype":Ta.dcmitype,"xmlns:xsi":Ta.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&IA("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:OT(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&IA("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:OT(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=tc.length;++a){var s=tc[a],o=t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:n?n[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&IA(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var tg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],gP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function mP(n,e,t,r){var i=[];if(typeof n=="string")i=IR(n,r);else for(var a=0;a<n.length;++a)i=i.concat(n[a].map(function(h){return{v:h}}));var s=typeof e=="string"?IR(e,r).map(function(h){return h.v}):e,o=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=c,t.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=s.slice(o,o+c);break}o+=c}}function uQ(n,e,t){var r={};return e||(e={}),n=qr(n),tg.forEach(function(i){var a=(n.match(n2(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=fr(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&mP(r.HeadingPairs,r.TitlesOfParts,e,t),e}function vP(n){var e=[],t=kt;return n||(n={}),n.Application="SheetJS",e[e.length]=Qi,e[e.length]=kt("Properties",null,{xmlns:Ta.EXT_PROPS,"xmlns:vt":Ta.vt}),tg.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Fr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Fr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var fQ=/<[^>]+>[^<]*/g;function hQ(n,e){var t={},r="",i=n.match(fQ);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Sn(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=fr(o.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),h=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[r]=fr(h);break;case"bool":t[r]=ai(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(h);break;case"filetime":case"date":t[r]=oi(h);break;case"cy":case"error":t[r]=fr(h);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}function xP(n){var e=[Qi,kt("Properties",null,{xmlns:Ta.CUST_PROPS,"xmlns:vt":Ta.vt})];if(!n)return e.join("");var t=1;return Hi(n).forEach(function(i){++t,e[e.length]=kt("property",wZ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Fr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var jT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},MA;function dQ(n,e,t){MA||(MA=S5(jT)),e=MA[e]||e,n[e]=t}function pQ(n,e){var t=[];return Hi(jT).map(function(r){for(var i=0;i<tc.length;++i)if(tc[i][1]==r)return tc[i];for(i=0;i<tg.length;++i)if(tg[i][1]==r)return tg[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(us(jT[r[1]]||r[1],i))}}),kt("DocumentProperties",t.join(""),{xmlns:dl.o})}function gQ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Hi(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)){for(var s=0;s<tc.length;++s)if(a==tc[s][1])return;for(s=0;s<tg.length;++s)if(a==tg[s][1])return;for(s=0;s<t.length;++s)if(a==t[s])return;var o=n[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(kt(kR(a),o,{"dt:dt":c}))}}),e&&Hi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(n&&Object.prototype.hasOwnProperty.call(n,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(kt(kR(a),s,{"dt:dt":o}))}}),"<"+r+' xmlns="'+dl.o+'">'+i.join("")+"</"+r+">"}function Z4(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function mQ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=at(8);return s.write_shift(4,r),s.write_shift(4,i),s}function yP(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function bP(n,e,t){var r=n.read_shift(0,"lpwstr");return r}function wP(n,e,t){return e===31?bP(n):yP(n,e,t)}function GT(n,e,t){return wP(n,e,t===!1?0:4)}function vQ(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return wP(n,e,0)}function xQ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(ro,""),n.l-i&2&&(n.l+=2)}return t}function yQ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(ro,"");return t}function bQ(n){var e=n.l,t=I_(n,cP);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=I_(n,Do);return[t,r]}function wQ(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(bQ(n));return t}function GR(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var a=n.read_shift(4),s=n.read_shift(4);r[a]=n.read_shift(s,e===1200?"utf16le":"utf8").replace(ro,"").replace(Cx,"!"),e===1200&&s%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function _P(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function _Q(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function I_(n,e,t){var r=n.read_shift(2),i,a=t||{};if(n.l+=2,e!==HR&&r!==e&&QZ.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===HR?r:e){case 2:return i=n.read_shift(2,"i"),a.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return yP(n,r,4).replace(ro,"");case 31:return bP(n);case 64:return Z4(n);case 65:return _P(n);case 71:return _Q(n);case 80:return GT(n,r,!a.raw).replace(ro,"");case 81:return vQ(n,r).replace(ro,"");case 4108:return wQ(n);case 4126:case 4127:return r==4127?xQ(n):yQ(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function qR(n,e){var t=at(4),r=at(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=at(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=mQ(e);break;case 31:case 80:for(r=at(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Ga([t,r])}function VR(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),a=[],s=0,o=0,c=-1,u={};for(s=0;s!=i;++s){var h=n.read_shift(4),p=n.read_shift(4);a[s]=[h,p+t]}a.sort(function(L,R){return L[1]-R[1]});var g={};for(s=0;s!=i;++s){if(n.l!==a[s][1]){var m=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:n.l+2===a[s][1]&&(n.l+=2,m=!1);break;case 80:n.l<=a[s][1]&&(n.l=a[s][1],m=!1);break;case 4108:n.l<=a[s][1]&&(n.l=a[s][1],m=!1);break}if((!e||s==0)&&n.l<=a[s][1]&&(m=!1,n.l=a[s][1]),m)throw new Error("Read Error: Expected address "+a[s][1]+" at "+n.l+" :"+s)}if(e){var w=e[a[s][0]];if(g[w.n]=I_(n,w.t,{raw:!0}),w.p==="version"&&(g[w.n]=String(g[w.n]>>16)+"."+("0000"+String(g[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(g[w.n]){case 0:g[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Jc(o=g[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[w.n])}}else if(a[s][0]===1){if(o=g.CodePage=I_(n,K4),Jc(o),c!==-1){var y=n.l;n.l=a[c][1],u=GR(n,o),n.l=y}}else if(a[s][0]===0){if(o===0){c=s,n.l=a[s+1][1];continue}u=GR(n,o)}else{var S=u[a[s][0]],C;switch(n[n.l]){case 65:n.l+=4,C=_P(n);break;case 30:n.l+=4,C=GT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,C=GT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,C=n.read_shift(4,"i");break;case 19:n.l+=4,C=n.read_shift(4);break;case 5:n.l+=4,C=n.read_shift(8,"f");break;case 11:n.l+=4,C=Vi(n,4);break;case 64:n.l+=4,C=oi(Z4(n));break;default:throw new Error("unparsed value: "+n[n.l])}g[S]=C}}return n.l=t+r,g}var SP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function SQ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function WR(n,e,t){var r=at(8),i=[],a=[],s=8,o=0,c=at(8),u=at(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),s+=8+c.length,!e){u=at(8),u.write_shift(4,0),i.unshift(u);var h=[at(4)];for(h[0].write_shift(4,n.length),o=0;o<n.length;++o){var p=n[o][0];for(c=at(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Ga(h),a.unshift(c),s+=8+c.length}for(o=0;o<n.length;++o)if(!(e&&!e[n[o][0]])&&!(SP.indexOf(n[o][0])>-1||gP.indexOf(n[o][0])>-1)&&n[o][1]!=null){var g=n[o][1],m=0;if(e){m=+e[n[o][0]];var w=t[m];if(w.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}c=qR(w.t,g)}else{var S=SQ(g);S==-1&&(S=31,g=String(g)),c=qR(S,g)}a.push(c),u=at(8),u.write_shift(4,e?m:2+o),i.push(u),s+=8+c.length}var C=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,C),C+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),Ga([r].concat(i).concat(a))}function XR(n,e,t){var r=n.content;if(!r)return{};cs(r,0);var i,a,s,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),h=r.read_shift(16);if(h!==hn.utils.consts.HEADER_CLSID&&h!==t)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(s=r.read_shift(16),c=r.read_shift(4));var p=VR(r,e),g={SystemIdentifier:u};for(var m in p)g[m]=p[m];if(g.FMTID=a,i===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var w;try{w=VR(r,null)}catch{}for(m in w)g[m]=w[m];return g.FMTID=[a,s],g}function YR(n,e,t,r,i,a){var s=at(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,hn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var c=WR(n,t,r);if(o.push(c),i){var u=WR(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Ga(o)}function pd(n,e){return n.read_shift(e),null}function AQ(n,e){e||(e=at(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function EQ(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Vi(n,e){return n.read_shift(e)===1}function eo(n,e){return e||(e=at(2)),e.write_shift(2,+!!n),e}function ca(n){return n.read_shift(2,"u")}function Jl(n,e){return e||(e=at(2)),e.write_shift(2,n),e}function AP(n,e){return EQ(n,e,ca)}function TQ(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function EP(n,e,t){return t||(t=at(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function Wy(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=r?n.read_shift(r,i):"";return s}function CQ(n){var e=n.read_shift(2),t=n.read_shift(1),r=t&4,i=t&8,a=1+(t&1),s=0,o,c={};i&&(s=n.read_shift(2)),r&&(o=n.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",h=e===0?"":n.read_shift(e,u);return i&&(n.l+=4*s),r&&(n.l+=o),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function kQ(n){var e=n.t||"",t=at(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=at(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Ga(i)}function hg(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Xy(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):hg(n,r,t)}function Tg(n,e,t){if(t.biff>5)return Xy(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function TP(n,e,t){return t||(t=at(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function NQ(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function RQ(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(ro,"");return r&&(n.l+=24),i}function LQ(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var a=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=n.read_shift(a>>1,"utf16le").replace(ro,"");return t+s}function IQ(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return RQ(n);case"0303000000000000c000000000000046":return LQ(n);default:throw new Error("Unsupported Moniker "+t)}}function dw(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(ro,""):"";return t}function $R(n,e){e||(e=at(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function MQ(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var a,s,o,c,u="",h,p;i&16&&(a=dw(n,t-n.l)),i&128&&(s=dw(n,t-n.l)),(i&257)===257&&(o=dw(n,t-n.l)),(i&257)===1&&(c=IQ(n,t-n.l)),i&8&&(u=dw(n,t-n.l)),i&32&&(h=n.read_shift(16)),i&64&&(p=Z4(n)),n.l=t;var g=s||o||c||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return h&&(m.guid=h),p&&(m.time=p),a&&(m.Tooltip=a),m}function DQ(n){var e=at(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(t=0;t<s.length;++t)e.write_shift(4,s[t]);if(a==28)r=r.slice(1),$R(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),a&8&&$R(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),t=0;t<r.length-3*c;++t)e.write_shift(1,r.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function CP(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function kP(n,e){var t=CP(n);return t[3]=0,t}function lf(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function dg(n,e,t,r){return r||(r=at(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function FQ(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function PQ(n,e,t){return e===0?"":Tg(n,e,t)}function OQ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),a=n.read_shift(r,"i"),s=n.read_shift(r,"i");return[i,a,s]}function NP(n){var e=n.read_shift(2),t=$4(n);return[e,t]}function BQ(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=Wy(n,e,t),a=n.read_shift(2);if(r-=n.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return n.l+=a,i}function T5(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function RP(n,e){return e||(e=at(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function LP(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var UQ=LP;function IP(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function HQ(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function zQ(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function bs(n){n.l+=2,n.l+=n.read_shift(2)}var jQ={0:bs,4:bs,5:bs,6:bs,7:zQ,8:bs,9:bs,10:bs,11:bs,12:bs,13:HQ,14:bs,15:bs,16:bs,17:bs,18:bs,19:bs,20:bs,21:IP};function GQ(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(jQ[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function pw(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function Q4(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=at(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function qQ(n,e){return e===0||n.read_shift(2),1200}function VQ(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=Tg(n,0,t);return n.read_shift(e+r-n.l),i}function WQ(n,e){var t=!e||e.biff==8,r=at(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function XQ(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function YQ(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,a=n.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Wy(n,0,t);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function $Q(n,e){var t=!e||e.biff>=8?2:1,r=at(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function KQ(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),a=[],s=0;s!=i&&n.l<t;++s)a.push(CQ(n));return a.Count=r,a.Unique=i,a}function JQ(n,e){var t=at(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=kQ(n[i]);var a=Ga([t].concat(r));return a.parts=[t.length].concat(r.map(function(s){return s.length})),a}function ZQ(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function QQ(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function eee(n){var e=FQ(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function tee(n){return n.read_shift(2),n.read_shift(4)}function KR(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function nee(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),o=n.read_shift(2),c=n.read_shift(2),u=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:a,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function ree(){var n=at(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function iee(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function aee(n){var e=at(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function see(){}function oee(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=Wy(n,0,t),r}function lee(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,a=at(i);return a.write_shift(2,n.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),a}function cee(n){var e=lf(n);return e.isst=n.read_shift(4),e}function uee(n,e,t,r){var i=at(10);return dg(n,e,r,i),i.write_shift(4,t),i}function fee(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=lf(n);t.biff==2&&n.l++;var a=Xy(n,r-n.l,t);return i.val=a,i}function hee(n,e,t,r,i){var a=!i||i.biff==8,s=at(8+ +a+(1+a)*t.length);return dg(n,e,r,s),s.write_shift(2,t.length),a&&s.write_shift(1,1),s.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),s}function dee(n,e,t){var r=n.read_shift(2),i=Tg(n,0,t);return[r,i]}function pee(n,e,t,r){var i=t&&t.biff==5;r||(r=at(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}var gee=Tg;function JR(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,a=n.read_shift(i),s=n.read_shift(i),o=n.read_shift(2),c=n.read_shift(2);return n.l=r,{s:{r:a,c:o},e:{r:s,c}}}function mee(n,e){var t=e.biff==8||!e.biff?4:2,r=at(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function vee(n){var e=n.read_shift(2),t=n.read_shift(2),r=NP(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function xee(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),a=[];n.l<t;)a.push(NP(n));if(n.l!==t)throw new Error("MulRK read error");var s=n.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function yee(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),a=[];n.l<t;)a.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var s=n.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function bee(n,e,t,r){var i={},a=n.read_shift(4),s=n.read_shift(4),o=n.read_shift(4),c=n.read_shift(2);return i.patternType=eQ[o>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function wee(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=bee(n,e,r.fStyle,t),r}function ZR(n,e,t,r){var i=t&&t.biff==5;r||(r=at(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var a=0;return n.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function _ee(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function See(n){var e=at(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function QR(n,e,t){var r=lf(n);(t.biff==2||e==9)&&++n.l;var i=TQ(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function Aee(n,e,t,r,i,a){var s=at(8);return dg(n,e,r,s),EP(t,a,s),s}function Eee(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=lf(n),i=Ms(n);return r.val=i,r}function Tee(n,e,t,r){var i=at(14);return dg(n,e,r,i),fg(t,i),i}var eL=PQ;function Cee(n,e,t){var r=n.l+e,i=n.read_shift(2),a=n.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=hg(n,a),o=[];r>n.l;)o.push(Xy(n));return[a,i,s,o]}function tL(n,e,t){var r=n.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=BQ(n,e-2,t)),a.body=i||n.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var kee=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nL(n,e,t){var r=n.l+e,i=n.read_shift(2),a=n.read_shift(1),s=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),c=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var u=hg(n,s,t);i&32&&(u=kee[u.charCodeAt(0)]);var h=r-n.l;t&&t.biff==2&&--h;var p=r==n.l||o===0||!(h>0)?[]:Gie(n,h,t,o);return{chKey:a,Name:u,itab:c,rgce:p}}function MP(n,e,t){if(t.biff<8)return Nee(n,e,t);for(var r=[],i=n.l+e,a=n.read_shift(t.biff>8?4:2);a--!==0;)r.push(OQ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function Nee(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=Wy(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function Ree(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),a=hg(n,r,t),s=hg(n,i,t);return[a,s]}function Lee(n,e,t){var r=LP(n);n.l++;var i=n.read_shift(1);return e-=8,[qie(n,e,t),i,r]}function rL(n,e,t){var r=UQ(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,zie(n,e,t)]}function Iee(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function Mee(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),s=n.read_shift(2),o=Tg(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},o,s,a]}}function Dee(n,e,t){return Mee(n,e,t)}function Fee(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(T5(n));return t}function Pee(n){var e=at(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)RP(n[t],e);return e}function Oee(n,e,t){if(t&&t.biff<8)return Uee(n,e,t);var r=IP(n),i=GQ(n,e-22,r[1]);return{cmo:r,ft:i}}var Bee={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function Uee(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var s=[];return s.push((Bee[r]||Ps)(n,e,t)),{cmo:[i,r,a],ft:s}}function Hee(n,e,t){var r=n.l,i="";try{n.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?n.l+=6:s=NQ(n,6,t);var o=n.read_shift(2);n.read_shift(2),ca(n,2);var c=n.read_shift(2);n.l+=c;for(var u=1;u<n.lens.length-1;++u){if(n.l-r!=n.lens[u])throw new Error("TxO: bad continue record");var h=n[n.l],p=hg(n,n.lens[u+1]-n.lens[u]-1);if(i+=p,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function zee(n,e){var t=T5(n);n.l+=16;var r=MQ(n,e-24);return[t,r]}function jee(n){var e=at(24),t=Ci(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Ga([e,DQ(n[1])])}function Gee(n,e){n.read_shift(2);var t=T5(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(ro,""),[t,r]}function qee(n){var e=n[1].Tooltip,t=at(10+2*(e.length+1));t.write_shift(2,2048);var r=Ci(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function Vee(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=zR[t]||t,t=n.read_shift(2),e[1]=zR[t]||t,e}function Wee(n){return n||(n=at(4)),n.write_shift(2,1),n.write_shift(2,1),n}function Xee(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(kP(n));return t}function Yee(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(kP(n));return t}function $ee(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function DP(n,e,t){if(!t.cellStyles)return Ps(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),a=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function Kee(n,e){var t=at(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function Jee(n,e){var t={};return e<32||(n.l+=16,t.header=Ms(n),t.footer=Ms(n),n.l+=2),t}function Zee(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}function Qee(n){for(var e=at(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}var ete=lf,tte=AP,nte=Xy;function rte(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function ite(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=lf(n);++n.l;var i=Tg(n,e-7,t);return r.t="str",r.val=i,r}function ate(n){var e=lf(n);++n.l;var t=Ms(n);return e.t="n",e.val=t,e}function ste(n,e,t){var r=at(15);return Jy(r,n,e),r.write_shift(8,t,"f"),r}function ote(n){var e=lf(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function lte(n,e,t){var r=at(9);return Jy(r,n,e),r.write_shift(2,t),r}function cte(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function ute(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function fte(n,e,t){var r=n.l+e,i=lf(n),a=n.read_shift(2),s=hg(n,a,t);return n.l=r,i.t="str",i.val=s,i}var hte=[2,3,48,49,131,139,140,245],qT=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=S5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var u=[],h=t0(1);switch(c.type){case"base64":h=vl(wl(o));break;case"binary":h=vl(o);break;case"buffer":case"array":h=o;break}cs(h,0);var p=h.read_shift(1),g=!!(p&136),m=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,S=521;p==2&&(y=h.read_shift(2)),h.l+=3,p!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(S=h.read_shift(2));var C=h.read_shift(2),L=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(L=n[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var R=[],D={},z=Math.min(h.length,p==2?521:S-10-(m?264:0)),q=w?32:11;h.l<z&&h[h.l]!=13;)switch(D={},D.name=Qx.utils.decode(L,h.slice(h.l,h.l+q)).replace(/[\u0000\r\n].*$/g,""),h.l+=q,D.type=String.fromCharCode(h.read_shift(1)),p!=2&&!w&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),p==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&R.push(D),p!=2&&(h.l+=w?13:14),D.type){case"B":(!m||D.len!=8)&&c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=S-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=S;var P=0,W=0;for(u[0]=[],W=0;W!=R.length;++W)u[0][W]=R[W].name;for(;y-- >0;){if(h[h.l]===42){h.l+=C;continue}for(++h.l,u[++P]=[],W=0,W=0;W!=R.length;++W){var O=h.slice(h.l,h.l+R[W].len);h.l+=R[W].len,cs(O,0);var Q=Qx.utils.decode(L,O);switch(R[W].type){case"C":Q.trim().length&&(u[P][W]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?u[P][W]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):u[P][W]=Q;break;case"F":u[P][W]=parseFloat(Q.trim());break;case"+":case"I":u[P][W]=w?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":u[P][W]=!0;break;case"N":case"F":u[P][W]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[P][W]="##MEMO##"+(w?parseInt(Q.trim(),10):O.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(u[P][W]=+Q||0);break;case"@":u[P][W]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[P][W]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[P][W]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][W]=-O.read_shift(-8,"f");break;case"B":if(m&&R[W].len==8){u[P][W]=O.read_shift(8,"f");break}case"G":case"P":O.l+=R[W].len;break;case"0":if(R[W].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[W].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=R,u}function r(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=gv(t(o,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function i(o,c){try{return c0(r(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Jc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Fo(),p=F_(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),w=o["!cols"]||[],y=0,S=0,C=0,L=1;for(y=0;y<g.length;++y){if(((w[y]||{}).DBF||{}).name){g[y]=w[y].DBF.name,++C;continue}if(g[y]!=null){if(++C,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(S=0;S<1024;++S)if(g.indexOf(g[y]+"_"+S)==-1){g[y]+="_"+S;break}}}}var R=dr(o["!ref"]),D=[],z=[],q=[];for(y=0;y<=R.e.c-R.s.c;++y){var P="",W="",O=0,Q=[];for(S=0;S<m.length;++S)m[S][y]!=null&&Q.push(m[S][y]);if(Q.length==0||g[y]==null){D[y]="?";continue}for(S=0;S<Q.length;++S){switch(typeof Q[S]){case"number":W="B";break;case"string":W="C";break;case"boolean":W="L";break;case"object":W=Q[S]instanceof Date?"D":"C";break;default:W="C"}O=Math.max(O,String(Q[S]).length),P=P&&P!=W?"C":W}O>250&&(O=250),W=((w[y]||{}).DBF||{}).type,W=="C"&&w[y].DBF.len>O&&(O=w[y].DBF.len),P=="B"&&W=="N"&&(P="N",q[y]=w[y].DBF.dec,O=w[y].DBF.len),z[y]=P=="C"||W=="N"?O:a[P]||0,L+=z[y],D[y]=P}var B=h.next(32);for(B.write_shift(4,318902576),B.write_shift(4,m.length),B.write_shift(2,296+32*C),B.write_shift(2,L),y=0;y<4;++y)B.write_shift(4,0);for(B.write_shift(4,0|(+e[SF]||3)<<8),y=0,S=0;y<g.length;++y)if(g[y]!=null){var j=h.next(32),ee=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,ee,"sbcs"),j.write_shift(1,D[y]=="?"?"C":D[y],"sbcs"),j.write_shift(4,S),j.write_shift(1,z[y]||a[D[y]]||0),j.write_shift(1,q[y]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),S+=z[y]||a[D[y]]||0}var fe=h.next(264);for(fe.write_shift(4,13),y=0;y<65;++y)fe.write_shift(4,0);for(y=0;y<m.length;++y){var ue=h.next(L);for(ue.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(D[S]){case"L":ue.write_shift(1,m[y][S]==null?63:m[y][S]?84:70);break;case"B":ue.write_shift(8,m[y][S]||0,"f");break;case"N":var K="0";for(typeof m[y][S]=="number"&&(K=m[y][S].toFixed(q[S]||0)),C=0;C<z[S]-K.length;++C)ue.write_shift(1,32);ue.write_shift(1,K,"sbcs");break;case"D":m[y][S]?(ue.write_shift(4,("0000"+m[y][S].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(m[y][S].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+m[y][S].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var le=String(m[y][S]!=null?m[y][S]:"").slice(0,z[S]);for(ue.write_shift(1,le,"sbcs"),C=0;C<z[S]-le.length;++C)ue.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),FP=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,m){var w=n[m];return typeof w=="number"?pR(w):w},r=function(g,m,w){var y=m.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?g:pR(y)};n["|"]=254;function i(g,m){switch(m.type){case"base64":return a(wl(g),m);case"binary":return a(g,m);case"buffer":return a(qn&&Buffer.isBuffer(g)?g.toString("binary"):l0(g),m);case"array":return a(ug(g),m)}throw new Error("Unrecognized type "+m.type)}function a(g,m){var w=g.split(/[\n\r]+/),y=-1,S=-1,C=0,L=0,R=[],D=[],z=null,q={},P=[],W=[],O=[],Q=0,B;for(+m.codepage>=0&&Jc(+m.codepage);C!==w.length;++C){Q=0;var j=w[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),ee=j.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),fe=ee[0],ue;if(j.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ee[1].charAt(0)=="P"&&D.push(j.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,le=!1,Te=!1,ge=!1,Be=-1,ie=-1;for(L=1;L<ee.length;++L)switch(ee[L].charAt(0)){case"A":break;case"X":S=parseInt(ee[L].slice(1))-1,le=!0;break;case"Y":for(y=parseInt(ee[L].slice(1))-1,le||(S=0),B=R.length;B<=y;++B)R[B]=[];break;case"K":ue=ee[L].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(nu(ue))?isNaN(sv(ue).getDate())||(ue=oi(ue)):(ue=nu(ue),z!==null&&dv(z)&&(ue=E5(ue))),K=!0;break;case"E":ge=!0;var M=Jm(ee[L].slice(1),{r:y,c:S});R[y][S]=[R[y][S],M];break;case"S":Te=!0,R[y][S]=[R[y][S],"S5S"];break;case"G":break;case"R":Be=parseInt(ee[L].slice(1))-1;break;case"C":ie=parseInt(ee[L].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}if(K&&(R[y][S]&&R[y][S].length==2?R[y][S][0]=ue:R[y][S]=ue,z=null),Te){if(ge)throw new Error("SYLK shared formula cannot have own formula");var H=Be>-1&&R[Be][ie];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");R[y][S][1]=QP(H[1],{r:y-Be,c:S-ie})}break;case"F":var G=0;for(L=1;L<ee.length;++L)switch(ee[L].charAt(0)){case"X":S=parseInt(ee[L].slice(1))-1,++G;break;case"Y":for(y=parseInt(ee[L].slice(1))-1,B=R.length;B<=y;++B)R[B]=[];break;case"M":Q=parseInt(ee[L].slice(1))/20;break;case"F":break;case"G":break;case"P":z=D[parseInt(ee[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=ee[L].slice(1).split(" "),B=parseInt(O[0],10);B<=parseInt(O[1],10);++B)Q=parseInt(O[2],10),W[B-1]=Q===0?{hidden:!0}:{wch:Q},n0(W[B-1]);break;case"C":S=parseInt(ee[L].slice(1))-1,W[S]||(W[S]={});break;case"R":y=parseInt(ee[L].slice(1))-1,P[y]||(P[y]={}),Q>0?(P[y].hpt=Q,P[y].hpx=lv(Q)):Q===0&&(P[y].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}G<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}}return P.length>0&&(q["!rows"]=P),W.length>0&&(q["!cols"]=W),m&&m.sheetRows&&(R=R.slice(0,m.sheetRows)),[R,q]}function s(g,m){var w=i(g,m),y=w[0],S=w[1],C=gv(y,m);return Hi(S).forEach(function(L){C[L]=S[L]}),C}function o(g,m){return c0(s(g,m),m)}function c(g,m,w,y){var S="C;Y"+(w+1)+";X"+(y+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+aC(g.f,{r:w,c:y}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(g,m){m.forEach(function(w,y){var S="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?S+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=o2(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=l2(w.wpx)),typeof w.wch=="number"&&(S+=Math.round(w.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function h(g,m){m.forEach(function(w,y){var S="F;";w.hidden?S+="M0;":w.hpt?S+="M"+20*w.hpt+";":w.hpx&&(S+="M"+20*c2(w.hpx)+";"),S.length>2&&g.push(S+"R"+(y+1))})}function p(g,m){var w=["ID;PWXL;N;E"],y=[],S=dr(g["!ref"]),C,L=Array.isArray(g),R=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&u(w,g["!cols"]),g["!rows"]&&h(w,g["!rows"]),w.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var D=S.s.r;D<=S.e.r;++D)for(var z=S.s.c;z<=S.e.c;++z){var q=_n({r:D,c:z});C=L?(g[D]||[])[z]:g[q],!(!C||C.v==null&&(!C.f||C.F))&&y.push(c(C,g,D,z))}return w.join(R)+R+y.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:s,from_sheet:p}})(),PP=(function(){function n(a,s){switch(s.type){case"base64":return e(wl(a),s);case"binary":return e(a,s);case"buffer":return e(qn&&Buffer.isBuffer(a)?a.toString("binary"):l0(a),s);case"array":return e(ug(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),c=-1,u=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=o[h].trim().split(","),m=g[0],w=g[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+m){case-1:if(y==="BOT"){p[++c]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[c][u]=!0:y==="FALSE"?p[c][u]=!1:isNaN(nu(w))?isNaN(sv(w).getDate())?p[c][u]=w:p[c][u]=oi(w):p[c][u]=nu(w),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[c][u++]=y!==""?y:null;break}if(y==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function t(a,s){return gv(n(a,s),s)}function r(a,s){return c0(t(a,s),s)}var i=(function(){var a=function(c,u,h,p,g){c.push(u),c.push(h+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},s=function(c,u,h,p){c.push(u+","+h),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],h=dr(c["!ref"]),p,g=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,h.e.r-h.s.r+1,""),a(u,"TUPLES",0,h.e.c-h.s.c+1,""),a(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){s(u,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var y=_n({r:m,c:w});if(p=g?(c[m]||[])[w]:c[y],!p){s(u,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?s(u,1,0,"="+p.f):s(u,1,0,""):s(u,0,S,"V");break;case"b":s(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=ac(p.z||wn[14],ka(oi(p.v)))),s(u,0,p.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var C=`\r
`,L=u.join(C);return L}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),OP=(function(){function n(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,g){for(var m=p.split(`
`),w=-1,y=-1,S=0,C=[];S!==m.length;++S){var L=m[S].trim().split(":");if(L[0]==="cell"){var R=Ci(L[1]);if(C.length<=R.r)for(w=C.length;w<=R.r;++w)C[w]||(C[w]=[]);switch(w=R.r,y=R.c,L[2]){case"t":C[w][y]=n(L[3]);break;case"v":C[w][y]=+L[3];break;case"vtf":var D=L[L.length-1];case"vtc":switch(L[3]){case"nl":C[w][y]=!!+L[4];break;default:C[w][y]=+L[4];break}L[2]=="vtf"&&(C[w][y]=[C[w][y],D])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function r(p,g){return gv(t(p,g),g)}function i(p,g){return c0(r(p,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],w,y="",S=Po(p["!ref"]),C=Array.isArray(p),L=S.s.r;L<=S.e.r;++L)for(var R=S.s.c;R<=S.e.c;++R)if(y=_n({r:L,c:R}),w=C?(p[L]||[])[R]:p[y],!(!w||w.v==null||w.t==="z")){switch(m=["cell",y,"t"],w.t){case"s":case"str":m.push(e(w.v));break;case"n":w.f?(m[2]="vtf",m[3]="n",m[4]=w.v,m[5]=e(w.f)):(m[2]="v",m[3]=w.v);break;case"b":m[2]="vt"+(w.f?"f":"c"),m[3]="nl",m[4]=w.v?"1":"0",m[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=ka(oi(w.v));m[2]="vtc",m[3]="nd",m[4]=""+D,m[5]=w.w||ac(w.z||wn[14],D);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[a,s,o,s,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),ov=(function(){function n(h,p,g,m,w){w.raw?p[g][m]=h:h===""||(h==="TRUE"?p[g][m]=!0:h==="FALSE"?p[g][m]=!1:isNaN(nu(h))?isNaN(sv(h).getDate())?p[g][m]=h:p[g][m]=oi(h):p[g][m]=nu(h))}function e(h,p){var g=p||{},m=[];if(!h||h.length===0)return m;for(var w=h.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var S=10,C=0,L=0;L<=y;++L)C=w[L].indexOf(" "),C==-1?C=w[L].length:C++,S=Math.max(S,C);for(L=0;L<=y;++L){m[L]=[];var R=0;for(n(w[L].slice(0,S).trim(),m,L,R,g),R=1;R<=(w[L].length-S)/10+1;++R)n(w[L].slice(S+(R-1)*10,S+R*10).trim(),m,L,R,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var p={},g=!1,m=0,w=0;m<h.length;++m)(w=h.charCodeAt(m))==34?g=!g:!g&&w in t&&(p[w]=(p[w]||0)+1);w=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&w.push([p[m],m]);if(!w.length){p=r;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&w.push([p[m],m])}return w.sort(function(y,S){return y[0]-S[0]||r[y[1]]-r[S[1]]}),t[w.pop()[1]]||44}function a(h,p){var g=p||{},m="",w=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):g&&g.FS?m=g.FS:m=i(h.slice(0,1024));var S=0,C=0,L=0,R=0,D=0,z=m.charCodeAt(0),q=!1,P=0,W=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?ZJ(g.dateNF):null;function Q(){var B=h.slice(R,D),j={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)j.t="z";else if(g.raw)j.t="s",j.v=B;else if(B.trim().length===0)j.t="s",j.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(j.t="s",j.v=B.slice(2,-1).replace(/""/g,'"')):Cre(B)?(j.t="n",j.f=B.slice(1)):(j.t="s",j.v=B);else if(B=="TRUE")j.t="b",j.v=!0;else if(B=="FALSE")j.t="b",j.v=!1;else if(!isNaN(L=nu(B)))j.t="n",g.cellText!==!1&&(j.w=B),j.v=L;else if(!isNaN(sv(B).getDate())||O&&B.match(O)){j.z=g.dateNF||wn[14];var ee=0;O&&B.match(O)&&(B=QJ(B,g.dateNF,B.match(O)||[]),ee=1),g.cellDates?(j.t="d",j.v=oi(B,ee)):(j.t="n",j.v=ka(oi(B,ee))),g.cellText!==!1&&(j.w=ac(j.z,j.v instanceof Date?ka(j.v):j.v)),g.cellNF||delete j.z}else j.t="s",j.v=B;if(j.t=="z"||(g.dense?(w[S]||(w[S]=[]),w[S][C]=j):w[_n({c:C,r:S})]=j),R=D+1,W=h.charCodeAt(R),y.e.c<C&&(y.e.c=C),y.e.r<S&&(y.e.r=S),P==z)++C;else if(C=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;D<h.length;++D)switch(P=h.charCodeAt(D)){case 34:W===34&&(q=!q);break;case z:case 10:case 13:if(!q&&Q())break e;break}return D-R>0&&Q(),w["!ref"]=Fn(y),w}function s(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,p):gv(e(h,p),p)}function o(h,p){var g="",m=p.type=="string"?[0,0,0,0]:dC(h,p);switch(p.type){case"base64":g=wl(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof Qx<"u"||(g=qn&&Buffer.isBuffer(h)?h.toString("binary"):l0(h));break;case"array":g=ug(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=qr(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=qr(g):p.type=="binary"&&typeof Qx<"u",g.slice(0,19)=="socialcalc:version:"?OP.to_sheet(p.type=="string"?g:qr(g),p):s(g,p)}function c(h,p){return c0(o(h,p),p)}function u(h){for(var p=[],g=dr(h["!ref"]),m,w=Array.isArray(h),y=g.s.r;y<=g.e.r;++y){for(var S=[],C=g.s.c;C<=g.e.c;++C){var L=_n({r:y,c:C});if(m=w?(h[y]||[])[C]:h[L],!m||m.v==null){S.push("          ");continue}for(var R=(m.w||(Sh(m),m.w)||"").slice(0,10);R.length<10;)R+=" ";S.push(R+(C===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function dte(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=FP.to_workbook(n,t);return t.WTF=r,i}catch(a){if(t.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return ov.to_workbook(n,e)}}var ng=(function(){function n(M,H,G){if(M){cs(M,M.l||0);for(var Y=G.Enum||Be;M.l<M.length;){var se=M.read_shift(2),ye=Y[se]||Y[65535],ke=M.read_shift(2),Ce=M.l+ke,Le=ye.f&&ye.f(M,ke,G);if(M.l=Ce,H(Le,ye,se))return}}}function e(M,H){switch(H.type){case"base64":return t(vl(wl(M)),H);case"binary":return t(vl(M),H);case"buffer":case"array":return t(M,H)}throw"Unsupported type "+H.type}function t(M,H){if(!M)return M;var G=H||{},Y=G.dense?[]:{},se="Sheet1",ye="",ke=0,Ce={},Le=[],Re=[],ce={s:{r:0,c:0},e:{r:0,c:0}},dt=G.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)G.Enum=Be,n(M,function(Pe,He,Ue){switch(Ue){case 0:G.vers=Pe,Pe>=4096&&(G.qpro=!0);break;case 6:ce=Pe;break;case 204:Pe&&(ye=Pe);break;case 222:ye=Pe;break;case 15:case 51:G.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=G.dateNF||wn[14],G.cellDates&&(Pe[1].t="d",Pe[1].v=E5(Pe[1].v))),G.qpro&&Pe[3]>ke&&(Y["!ref"]=Fn(ce),Ce[se]=Y,Le.push(se),Y=G.dense?[]:{},ce={s:{r:0,c:0},e:{r:0,c:0}},ke=Pe[3],se=ye||"Sheet"+(ke+1),ye="");var ft=G.dense?(Y[Pe[0].r]||[])[Pe[0].c]:Y[_n(Pe[0])];if(ft){ft.t=Pe[1].t,ft.v=Pe[1].v,Pe[1].z!=null&&(ft.z=Pe[1].z),Pe[1].f!=null&&(ft.f=Pe[1].f);break}G.dense?(Y[Pe[0].r]||(Y[Pe[0].r]=[]),Y[Pe[0].r][Pe[0].c]=Pe[1]):Y[_n(Pe[0])]=Pe[1];break}},G);else if(M[2]==26||M[2]==14)G.Enum=ie,M[2]==14&&(G.qpro=!0,M.l=0),n(M,function(Pe,He,Ue){switch(Ue){case 204:se=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>ke&&(Y["!ref"]=Fn(ce),Ce[se]=Y,Le.push(se),Y=G.dense?[]:{},ce={s:{r:0,c:0},e:{r:0,c:0}},ke=Pe[3],se="Sheet"+(ke+1)),dt>0&&Pe[0].r>=dt)break;G.dense?(Y[Pe[0].r]||(Y[Pe[0].r]=[]),Y[Pe[0].r][Pe[0].c]=Pe[1]):Y[_n(Pe[0])]=Pe[1],ce.e.c<Pe[0].c&&(ce.e.c=Pe[0].c),ce.e.r<Pe[0].r&&(ce.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(Re[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:Re[Pe[0]]=Pe[1],Pe[0]==ke&&(se=Pe[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(Y["!ref"]=Fn(ce),Ce[ye||se]=Y,Le.push(ye||se),!Re.length)return{SheetNames:Le,Sheets:Ce};for(var gt={},de=[],Ne=0;Ne<Re.length;++Ne)Ce[Le[Ne]]?(de.push(Re[Ne]||Le[Ne]),gt[Re[Ne]]=Ce[Re[Ne]]||Ce[Le[Ne]]):(de.push(Re[Ne]),gt[Re[Ne]]={"!ref":"A1"});return{SheetNames:de,Sheets:gt}}function r(M,H){var G=H||{};if(+G.codepage>=0&&Jc(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Fo(),se=dr(M["!ref"]),ye=Array.isArray(M),ke=[];Rt(Y,0,a(1030)),Rt(Y,6,c(se));for(var Ce=Math.min(se.e.r,8191),Le=se.s.r;Le<=Ce;++Le)for(var Re=Ji(Le),ce=se.s.c;ce<=se.e.c;++ce){Le===se.s.r&&(ke[ce]=Ti(ce));var dt=ke[ce]+Re,gt=ye?(M[Le]||[])[ce]:M[dt];if(!(!gt||gt.t=="z"))if(gt.t=="n")(gt.v|0)==gt.v&&gt.v>=-32768&&gt.v<=32767?Rt(Y,13,m(Le,ce,gt.v)):Rt(Y,14,y(Le,ce,gt.v));else{var de=Sh(gt);Rt(Y,15,p(Le,ce,de.slice(0,239)))}}return Rt(Y,1),Y.end()}function i(M,H){var G=H||{};if(+G.codepage>=0&&Jc(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Fo();Rt(Y,0,s(M));for(var se=0,ye=0;se<M.SheetNames.length;++se)(M.Sheets[M.SheetNames[se]]||{})["!ref"]&&Rt(Y,27,ge(M.SheetNames[se],ye++));var ke=0;for(se=0;se<M.SheetNames.length;++se){var Ce=M.Sheets[M.SheetNames[se]];if(!(!Ce||!Ce["!ref"])){for(var Le=dr(Ce["!ref"]),Re=Array.isArray(Ce),ce=[],dt=Math.min(Le.e.r,8191),gt=Le.s.r;gt<=dt;++gt)for(var de=Ji(gt),Ne=Le.s.c;Ne<=Le.e.c;++Ne){gt===Le.s.r&&(ce[Ne]=Ti(Ne));var Pe=ce[Ne]+de,He=Re?(Ce[gt]||[])[Ne]:Ce[Pe];if(!(!He||He.t=="z"))if(He.t=="n")Rt(Y,23,Q(gt,Ne,ke,He.v));else{var Ue=Sh(He);Rt(Y,22,P(gt,Ne,ke,Ue.slice(0,239)))}}++ke}}return Rt(Y,1),Y.end()}function a(M){var H=at(2);return H.write_shift(2,M),H}function s(M){var H=at(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var G=0,Y=0,se=0,ye=0;ye<M.SheetNames.length;++ye){var ke=M.SheetNames[ye],Ce=M.Sheets[ke];if(!(!Ce||!Ce["!ref"])){++se;var Le=Po(Ce["!ref"]);G<Le.e.r&&(G=Le.e.r),Y<Le.e.c&&(Y=Le.e.c)}}return G>8191&&(G=8191),H.write_shift(2,G),H.write_shift(1,se),H.write_shift(1,Y),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(M,H,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&G.qpro?(Y.s.c=M.read_shift(1),M.l++,Y.s.r=M.read_shift(2),Y.e.c=M.read_shift(1),M.l++,Y.e.r=M.read_shift(2),Y):(Y.s.c=M.read_shift(2),Y.s.r=M.read_shift(2),H==12&&G.qpro&&(M.l+=2),Y.e.c=M.read_shift(2),Y.e.r=M.read_shift(2),H==12&&G.qpro&&(M.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(M){var H=at(8);return H.write_shift(2,M.s.c),H.write_shift(2,M.s.r),H.write_shift(2,M.e.c),H.write_shift(2,M.e.r),H}function u(M,H,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=M.read_shift(1),Y[3]=M.read_shift(1),Y[0].r=M.read_shift(2),M.l+=2):(Y[2]=M.read_shift(1),Y[0].c=M.read_shift(2),Y[0].r=M.read_shift(2)),Y}function h(M,H,G){var Y=M.l+H,se=u(M,H,G);if(se[1].t="s",G.vers==20768){M.l++;var ye=M.read_shift(1);return se[1].v=M.read_shift(ye,"utf8"),se}return G.qpro&&M.l++,se[1].v=M.read_shift(Y-M.l,"cstr"),se}function p(M,H,G){var Y=at(7+G.length);Y.write_shift(1,255),Y.write_shift(2,H),Y.write_shift(2,M),Y.write_shift(1,39);for(var se=0;se<Y.length;++se){var ye=G.charCodeAt(se);Y.write_shift(1,ye>=128?95:ye)}return Y.write_shift(1,0),Y}function g(M,H,G){var Y=u(M,H,G);return Y[1].v=M.read_shift(2,"i"),Y}function m(M,H,G){var Y=at(7);return Y.write_shift(1,255),Y.write_shift(2,H),Y.write_shift(2,M),Y.write_shift(2,G,"i"),Y}function w(M,H,G){var Y=u(M,H,G);return Y[1].v=M.read_shift(8,"f"),Y}function y(M,H,G){var Y=at(13);return Y.write_shift(1,255),Y.write_shift(2,H),Y.write_shift(2,M),Y.write_shift(8,G,"f"),Y}function S(M,H,G){var Y=M.l+H,se=u(M,H,G);if(se[1].v=M.read_shift(8,"f"),G.qpro)M.l=Y;else{var ye=M.read_shift(2);D(M.slice(M.l,M.l+ye),se),M.l+=ye}return se}function C(M,H,G){var Y=H&32768;return H&=-32769,H=(Y?M:0)+(H>=8192?H-16384:H),(Y?"":"$")+(G?Ti(H):Ji(H))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(M,H){cs(M,0);for(var G=[],Y=0,se="",ye="",ke="",Ce="";M.l<M.length;){var Le=M[M.l++];switch(Le){case 0:G.push(M.read_shift(8,"f"));break;case 1:ye=C(H[0].c,M.read_shift(2),!0),se=C(H[0].r,M.read_shift(2),!1),G.push(ye+se);break;case 2:{var Re=C(H[0].c,M.read_shift(2),!0),ce=C(H[0].r,M.read_shift(2),!1);ye=C(H[0].c,M.read_shift(2),!0),se=C(H[0].r,M.read_shift(2),!1),G.push(Re+ce+":"+ye+se)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(M.read_shift(2));break;case 6:{for(var dt="";Le=M[M.l++];)dt+=String.fromCharCode(Le);G.push('"'+dt.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Ce=G.pop(),ke=G.pop(),G.push(["AND","OR"][Le-20]+"("+ke+","+Ce+")");break;default:if(Le<32&&R[Le])Ce=G.pop(),ke=G.pop(),G.push(ke+R[Le]+Ce);else if(L[Le]){if(Y=L[Le][1],Y==69&&(Y=M[M.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+Le.toString(16)+":|"+G.join("|")+"|");return}var gt=G.slice(-Y);G.length-=Y,G.push(L[Le][0]+"("+gt.join(",")+")")}else return Le<=7?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=24?console.error("WK1 unsupported op "+Le.toString(16)):Le<=30?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=115?console.error("WK1 unsupported function opcode "+Le.toString(16)):console.error("WK1 unrecognized opcode "+Le.toString(16))}}G.length==1?H[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function z(M){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=M.read_shift(2),H[3]=M[M.l++],H[0].c=M[M.l++],H}function q(M,H){var G=z(M);return G[1].t="s",G[1].v=M.read_shift(H-4,"cstr"),G}function P(M,H,G,Y){var se=at(6+Y.length);se.write_shift(2,M),se.write_shift(1,G),se.write_shift(1,H),se.write_shift(1,39);for(var ye=0;ye<Y.length;++ye){var ke=Y.charCodeAt(ye);se.write_shift(1,ke>=128?95:ke)}return se.write_shift(1,0),se}function W(M,H){var G=z(M);G[1].v=M.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function O(M,H){var G=z(M),Y=M.read_shift(4),se=M.read_shift(4),ye=M.read_shift(2);if(ye==65535)return Y===0&&se===3221225472?(G[1].t="e",G[1].v=15):Y===0&&se===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ke=ye&32768;return ye=(ye&32767)-16446,G[1].v=(1-ke*2)*(se*Math.pow(2,ye+32)+Y*Math.pow(2,ye)),G}function Q(M,H,G,Y){var se=at(14);if(se.write_shift(2,M),se.write_shift(1,G),se.write_shift(1,H),Y==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var ye=0,ke=0,Ce=0,Le=0;return Y<0&&(ye=1,Y=-Y),ke=Math.log2(Y)|0,Y/=Math.pow(2,ke-31),Le=Y>>>0,(Le&2147483648)==0&&(Y/=2,++ke,Le=Y>>>0),Y-=Le,Le|=2147483648,Le>>>=0,Y*=Math.pow(2,32),Ce=Y>>>0,se.write_shift(4,Ce),se.write_shift(4,Le),ke+=16383+(ye?32768:0),se.write_shift(2,ke),se}function B(M,H){var G=O(M);return M.l+=H-14,G}function j(M,H){var G=z(M),Y=M.read_shift(4);return G[1].v=Y>>6,G}function ee(M,H){var G=z(M),Y=M.read_shift(8,"f");return G[1].v=Y,G}function fe(M,H){var G=ee(M);return M.l+=H-10,G}function ue(M,H){return M[M.l+H-1]==0?M.read_shift(H,"cstr"):""}function K(M,H){var G=M[M.l++];G>H-1&&(G=H-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(M[M.l++]);return Y}function le(M,H,G){if(!(!G.qpro||H<21)){var Y=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var se=M.read_shift(H-21,"cstr");return[Y,se]}}function Te(M,H){for(var G={},Y=M.l+H;M.l<Y;){var se=M.read_shift(2);if(se==14e3){for(G[se]=[0,""],G[se][0]=M.read_shift(2);M[M.l];)G[se][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return G}function ge(M,H){var G=at(5+M.length);G.write_shift(2,14e3),G.write_shift(2,H);for(var Y=0;Y<M.length;++Y){var se=M.charCodeAt(Y);G[G.l++]=se>127?95:se}return G[G.l++]=0,G}var Be={0:{n:"BOF",f:ca},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:q},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:W},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:ee},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function pte(n){var e={},t=n.match(Os),r=0,i=!1;if(t)for(;r!=t.length;++r){var a=Sn(t[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=R4[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var gte=(function(){var n=n2("t"),e=n2("rPr");function t(a){var s=a.match(n);if(!s)return{t:"s",v:""};var o={t:"s",v:fr(s[1])},c=a.match(e);return c&&(o.s=pte(c[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(t).filter(function(o){return o.v})}})(),mte=(function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}})(),vte=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,xte=/<(?:\w+:)?r>/,yte=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function eC(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=fr(qr(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(n),t&&(r.h=H4(r.t))):n.match(xte)&&(r.r=qr(n),r.t=fr(qr((n.replace(yte,"").match(vte)||[]).join("").replace(Os,""))),t&&(r.h=mte(gte(r.r)))),r):{t:""}}var bte=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,wte=/<(?:\w+:)?(?:si|sstItem)>/g,_te=/<\/(?:\w+:)?(?:si|sstItem)>/;function Ste(n,e){var t=[],r="";if(!n)return t;var i=n.match(bte);if(i){r=i[2].replace(wte,"").split(_te);for(var a=0;a!=r.length;++a){var s=eC(r[a].trim(),e);s!=null&&(t[t.length]=s)}i=Sn(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}var Ate=/^\s|\s$|[\t\n\r]/;function BP(n,e){if(!e.bookSST)return"";var t=[Qi];t[t.length]=kt("sst",null,{xmlns:wg[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Ate)&&(a+=' xml:space="preserve"'),a+=">"+Fr(i.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function Ete(n){return[n.read_shift(4),n.read_shift(4)]}function Tte(n,e){var t=[],r=!1;return Rh(n,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Cte(n,e){return e||(e=at(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var kte=BZ;function Nte(n){var e=Fo();xt(e,159,Cte(n));for(var t=0;t<n.length;++t)xt(e,19,kte(n[t]));return xt(e,160),e.end()}function UP(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function yh(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function Rte(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=yh(n,4),e.U=yh(n,4),e.W=yh(n,4),e}function Lte(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),a=[];i-- >0;)a.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=a,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function Ite(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(Lte(n));return e}function Mte(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function Dte(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=yh(n,4),e.U=yh(n,4),e.W=yh(n,4),e}function Fte(n){var e=Dte(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function HP(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function zP(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function Pte(n){var e=yh(n);switch(e.Minor){case 2:return[e.Minor,Ote(n)];case 3:return[e.Minor,Bte()];case 4:return[e.Minor,Ute(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Ote(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=HP(n,t),i=zP(n,n.length-n.l);return{t:"Std",h:r,v:i}}function Bte(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Ute(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Os,function(a){var s=Sn(a);switch(of(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=s[o]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function Hte(n,e){var t={},r=t.EncryptionVersionInfo=yh(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=HP(n,i),e-=i,t.EncryptionVerifier=zP(n,e),t}function zte(n){var e={},t=e.EncryptionVersionInfo=yh(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function tC(n){var e=0,t,r=UP(n),i=r.length+1,a,s,o,c,u;for(t=t0(i),t[0]=r.length,a=1;a!=i;++a)t[a]=r[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,c=e<<1&32767,u=o|c,e=u^s;return e^52811}var jP=(function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,o){return r(s^o)},a=function(s){for(var o=e[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var h=s[u],p=0;p!=7;++p)h&64&&(o^=t[c]),h*=2,--c;return o};return function(s){for(var o=UP(s),c=a(o),u=o.length,h=t0(16),p=0;p!=16;++p)h[p]=0;var g,m,w;for((u&1)===1&&(g=c>>8,h[u]=i(n[0],g),--u,g=c&255,m=o[o.length-1],h[u]=i(m,g));u>0;)--u,g=c>>8,h[u]=i(o[u],g),--u,g=c&255,h[u]=i(o[u],g);for(u=15,w=15-o.length;w>0;)g=c>>8,h[u]=i(n[w],g),--u,--w,g=c&255,h[u]=i(o[u],g),--u,--w;return h}})(),jte=function(n,e,t,r,i){i||(i=e),r||(r=jP(n));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=r[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,r]},Gte=function(n){var e=0,t=jP(n);return function(r){var i=jte("",r,e,t);return e=i[1],i[0]}};function qte(n,e,t,r){var i={key:ca(n),verificationBytes:ca(n)};return t.password&&(i.verifier=tC(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=Gte(t.password)),i}function Vte(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=zte(n):r.Data=Hte(n,e),r}function Wte(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?Vte(n,e-2,r):qte(n,t.biff>=8?e:e-2,t,r),r}var GP=(function(){function n(i,a){switch(a.type){case"base64":return e(wl(i),a);case"binary":return e(i,a);case"buffer":return e(qn&&Buffer.isBuffer(i)?i.toString("binary"):l0(i),a);case"array":return e(ug(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,w,y=-1;w=g.exec(h);){switch(w[0]){case"\\cell":var S=h.slice(m,g.lastIndex-w[0].length);if(S[0]==" "&&(S=S.slice(1)),++y,S.length){var C={v:S,t:"s"};Array.isArray(o)?o[p][y]=C:o[_n({r:p,c:y})]=C}break}m=g.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=Fn(u),o}function t(i,a){return c0(n(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=dr(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var p=_n({r:u,c:h});o=c?(i[u]||[])[h]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Sh(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function Xte(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function s2(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function Yte(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),a=Math.min(e,t,r),s=i-a;if(s===0)return[0,0,e];var o=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case e:o=((t-r)/s+6)%6;break;case t:o=(r-e)/s+2;break;case r:o=(e-t)/s+4;break}return[o/6,c,u/2]}function $te(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],o=6*e,c;if(t!==0)switch(o|0){case 0:case 6:c=i*o,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-o),s[0]+=c,s[1]+=i;break;case 2:c=i*(o-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-o),s[1]+=c,s[2]+=i;break;case 4:c=i*(o-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-o),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function M_(n,e){if(e===0)return n;var t=Yte(Xte(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),s2($te(t))}var qP=6,Kte=15,Jte=1,Ls=qP;function o2(n){return Math.floor((n+Math.round(128/Ls)/256)*Ls)}function l2(n){return Math.floor((n-5)/Ls*100+.5)/100}function D_(n){return Math.round((n*Ls+5)/Ls*256)/256}function DA(n){return D_(l2(o2(n)))}function nC(n){var e=Math.abs(n-DA(n)),t=Ls;if(e>.005)for(Ls=Jte;Ls<Kte;++Ls)Math.abs(n-DA(n))<=e&&(e=Math.abs(n-DA(n)),t=Ls);Ls=t}function n0(n){n.width?(n.wpx=o2(n.width),n.wch=l2(n.wpx),n.MDW=Ls):n.wpx?(n.wch=l2(n.wpx),n.width=D_(n.wch),n.MDW=Ls):typeof n.wch=="number"&&(n.width=D_(n.wch),n.wpx=o2(n.width),n.MDW=Ls),n.customWidth&&delete n.customWidth}var Zte=96,VP=Zte;function c2(n){return n*96/VP}function lv(n){return n*VP/96}var Qte={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ene(n,e,t,r){e.Borders=[];var i={},a=!1;(n[0].match(Os)||[]).forEach(function(s){var o=Sn(s);switch(of(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=ai(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=ai(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function tne(n,e,t,r){e.Fills=[];var i={},a=!1;(n[0].match(Os)||[]).forEach(function(s){var o=Sn(s);switch(of(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function nne(n,e,t,r){e.Fonts=[];var i={},a=!1;(n[0].match(Os)||[]).forEach(function(s){var o=Sn(s);switch(of(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=qr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?ai(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?ai(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?ai(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?ai(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?ai(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?ai(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?ai(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=R4[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=ai(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=eg[i.color.index];i.color.index==81&&(c=eg[1]),c||(c=eg[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=M_(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function rne(n,e,t){e.NumberFmt=[];for(var r=Hi(wn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=wn[r[i]];var a=n[0].match(Os);if(a)for(i=0;i<a.length;++i){var s=Sn(a[i]);switch(of(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=fr(qr(s.formatCode)),c=parseInt(s.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}xh(o,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function ine(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=kt("numFmt",null,{numFmtId:r,formatCode:Fr(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=kt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var gw=["numFmtId","fillId","fontId","borderId","xfId"],mw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function ane(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Os)||[]).forEach(function(a){var s=Sn(a),o=0;switch(of(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<gw.length;++o)r[gw[o]]&&(r[gw[o]]=parseInt(r[gw[o]],10));for(o=0;o<mw.length;++o)r[mw[o]]&&(r[mw[o]]=ai(r[mw[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=ai(s.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function sne(n){var e=[];return e[e.length]=kt("cellXfs",null),n.forEach(function(t){e[e.length]=kt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=kt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var one=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&rne(p,h,u),(p=o.match(i))&&nne(p,h,c,u),(p=o.match(r))&&tne(p,h,c,u),(p=o.match(a))&&ene(p,h,c,u),(p=o.match(t))&&ane(p,h,u),h}})();function WP(n,e){var t=[Qi,kt("styleSheet",null,{xmlns:wg[0],"xmlns:vt":Ta.vt})],r;return n.SSF&&(r=ine(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=sne(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function lne(n,e){var t=n.read_shift(2),r=Fs(n);return[t,r]}function cne(n,e,t){t||(t=at(6+4*e.length)),t.write_shift(2,n),qa(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function une(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=VZ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=n.read_shift(2);switch(a===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=n.read_shift(1);s!=0&&(r.underline=s);var o=n.read_shift(1);o>0&&(r.family=o);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=qZ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Fs(n),r}function fne(n,e){e||(e=at(153)),e.write_shift(2,n.sz*20),WZ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),R_(n.color,e);var r=0;return r=2,e.write_shift(1,r),qa(n.name,e),e.length>e.l?e.slice(0,e.l):e}var hne=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],FA,dne=Ps;function iL(n,e){e||(e=at(84)),FA||(FA=S5(hne));var t=FA[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(R_({auto:1},e),R_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function pne(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function XP(n,e,t){t||(t=at(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function lx(n,e){return e||(e=at(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var gne=Ps;function mne(n,e){return e||(e=at(51)),e.write_shift(1,0),lx(null,e),lx(null,e),lx(null,e),lx(null,e),lx(null,e),e.length>e.l?e.slice(0,e.l):e}function vne(n,e){return e||(e=at(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),N_(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function xne(n,e,t){var r=at(2052);return r.write_shift(4,n),N_(e,r),N_(t,r),r.length>r.l?r.slice(0,r.l):r}function yne(n,e,t){var r={};r.NumberFmt=[];for(var i in wn)r.NumberFmt[i]=wn[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return Rh(n,function(c,u,h){switch(h){case 44:r.NumberFmt[c[0]]=c[1],xh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=M_(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(h),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(h);else if(u.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}function bne(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(xt(n,615,ru(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&xt(n,44,cne(i,e[i]))}),xt(n,616))}}function wne(n){var e=1;xt(n,611,ru(e)),xt(n,43,fne({sz:12,color:{theme:1},name:"Calibri",family:2})),xt(n,612)}function _ne(n){var e=2;xt(n,603,ru(e)),xt(n,45,iL({patternType:"none"})),xt(n,45,iL({patternType:"gray125"})),xt(n,604)}function Sne(n){var e=1;xt(n,613,ru(e)),xt(n,46,mne()),xt(n,614)}function Ane(n){var e=1;xt(n,626,ru(e)),xt(n,47,XP({numFmtId:0},65535)),xt(n,627)}function Ene(n,e){xt(n,617,ru(e.length)),e.forEach(function(t){xt(n,47,XP(t,0))}),xt(n,618)}function Tne(n){var e=1;xt(n,619,ru(e)),xt(n,48,vne({xfId:0,name:"Normal"})),xt(n,620)}function Cne(n){var e=0;xt(n,505,ru(e)),xt(n,506)}function kne(n){var e=0;xt(n,508,xne(e,"TableStyleMedium9","PivotStyleMedium4")),xt(n,509)}function Nne(n,e){var t=Fo();return xt(t,278),bne(t,n.SSF),wne(t),_ne(t),Sne(t),Ane(t),Ene(t,e.cellXfs),Tne(t),Cne(t),kne(t),xt(t,279),t.end()}var Rne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Lne(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Os)||[]).forEach(function(i){var a=Sn(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[Rne.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function Ine(){}function Mne(){}var Dne=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Fne=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Pne=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function One(n,e,t){e.themeElements={};var r;[["clrScheme",Dne,Lne],["fontScheme",Fne,Ine],["fmtScheme",Pne,Mne]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var Bne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function YP(n,e){(!n||n.length===0)&&(n=rC());var t,r={};if(!(t=n.match(Bne)))throw new Error("themeElements not found in theme");return One(t[0],r,e),r.raw=n,r}function rC(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Qi];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Une(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var a=n.slice(n.l);n.l=r;var s;try{s=HF(a,{type:"array"})}catch{return}var o=xl(s,"theme/theme/theme1.xml",!0);if(o)return YP(o,t)}}function Hne(n){return n.read_shift(4)}function zne(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=jne(n,4);break;case 2:e.xclrValue=CP(n);break;case 3:e.xclrValue=Hne(n);break;case 4:n.l+=4;break}return n.l+=8,e}function jne(n,e){return Ps(n,e)}function Gne(n,e){return Ps(n,e)}function qne(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=zne(n);break;case 6:r[1]=Gne(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function Vne(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),a=[];i-- >0;)a.push(qne(n,t-n.l));return{ixfe:r,ext:a}}function Wne(n,e){e.forEach(function(t){t[0]})}function Xne(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Fs(n)}}function Yne(n){var e=at(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),qa(n.name,e),e.slice(0,e.l)}function $ne(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Kne(n){var e=at(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function Jne(n,e){var t=at(8+2*e.length);return t.write_shift(4,n),qa(e,t),t.slice(0,t.l)}function Zne(n){return n.l+=4,n.read_shift(4)!=0}function Qne(n,e){var t=at(8);return t.write_shift(4,n),t.write_shift(4,1),t}function ere(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return Rh(n,function(c,u,h){switch(h){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(h),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function tre(){var n=Fo();return xt(n,332),xt(n,334,ru(1)),xt(n,335,Yne({name:"XLDAPR",version:12e4,flags:3496657072})),xt(n,336),xt(n,339,Jne(1,"XLDAPR")),xt(n,52),xt(n,35,ru(514)),xt(n,4096,ru(0)),xt(n,4097,Jl(1)),xt(n,36),xt(n,53),xt(n,340),xt(n,337,Qne(1)),xt(n,51,Kne([[1,0]])),xt(n,338),xt(n,333),n.end()}function nre(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,a=2,s;return n.replace(Os,function(o){var c=Sn(o);switch(of(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==c.name&&(s=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):a==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function $P(){var n=[Qi];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function rre(n){var e=[];if(!n)return e;var t=1;return(n.match(Os)||[]).forEach(function(r){var i=Sn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function ire(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=_n(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function are(n,e,t){var r=[];return Rh(n,function(a,s,o){switch(o){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function sre(n,e,t,r){if(!n)return n;var i=r||{},a=!1;Rh(n,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function ore(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var Pm=1024;function KP(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[kt("xml",null,{"xmlns:v":dl.v,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:mv":dl.mv}).replace(/\/>/,">"),kt("o:shapelayout",kt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),kt("v:shapetype",[kt("v:stroke",null,{joinstyle:"miter"}),kt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Pm<n*1e3;)Pm+=1e3;return e.forEach(function(a){var s=Ci(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?kt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=kt("v:fill",c,o),h={on:"t",obscured:"t"};++Pm,i=i.concat(["<v:shape"+r2({id:"_x0000_s"+Pm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,kt("v:shadow",null,h),kt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",us("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),us("x:AutoFill","False"),us("x:Row",String(s.r)),us("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function aL(n,e,t,r){var i=Array.isArray(n),a;e.forEach(function(s){var o=Ci(s.ref);if(i?(n[o.r]||(n[o.r]=[]),a=n[o.r][o.c]):a=n[s.ref],!a){a={t:"z"},i?n[o.r][o.c]=a:n[s.ref]=a;var c=dr(n["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Fn(c);u!==n["!ref"]&&(n["!ref"]=u)}a.c||(a.c=[]);var h={a:s.author,t:s.t,r:s.r,T:t};s.h&&(h.h=s.h);for(var p=a.c.length-1;p>=0;--p){if(!t&&a.c[p].T)return;t&&!a.c[p].T&&a.c.splice(p,1)}if(t&&r){for(p=0;p<r.length;++p)if(h.a==r[p].id){h.a=r[p].name||h.a;break}}a.c.push(h)})}function lre(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Sn(o[0]),u={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Ci(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&eC(p[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),r.push(u)}}}}),r}function JP(n){var e=[Qi,kt("comments",null,{xmlns:wg[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var a=Fr(i.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=t.indexOf(Fr(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(us("t",Fr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(us("t",Fr(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function cre(n,e){var t=[],r=!1,i={},a=0;return n.replace(Os,function(o,c){var u=Sn(o);switch(of(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":i.t=n.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function ure(n,e,t){var r=[Qi,kt("ThreadedComments",null,{xmlns:Ta.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(kt("threadedComment",us("text",s.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function fre(n,e){var t=[],r=!1;return n.replace(Os,function(a){var s=Sn(a);switch(of(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function hre(n){var e=[Qi,kt("personList",null,{xmlns:Ta.TCMNT,"xmlns:x":wg[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(kt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function dre(n){var e={};e.iauthor=n.read_shift(4);var t=Eg(n);return e.rfx=t.s,e.ref=_n(t.s),n.l+=16,e}function pre(n,e){return e==null&&(e=at(36)),e.write_shift(4,n[1].iauthor),mv(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var gre=Fs;function mre(n){return qa(n.slice(0,54))}function vre(n,e){var t=[],r=[],i={},a=!1;return Rh(n,function(o,c,u){switch(u){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}function xre(n){var e=Fo(),t=[];return xt(e,628),xt(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),xt(e,632,mre(i.a)))})}),xt(e,631),xt(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var a={s:Ci(r[0]),e:Ci(r[0])};xt(e,635,pre([a,i])),i.t&&i.t.length>0&&xt(e,637,HZ(i)),xt(e,636),delete i.iauthor})}),xt(e,634),xt(e,629),e.end()}var yre="application/vnd.ms-office.vbaProject";function bre(n){var e=hn.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");hn.utils.cfb_add(e,i,n.FileIndex[r].content)}}),hn.write(e)}function wre(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&hn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var ZP=["xlsb","xlsm","xlam","biff8","xla"];function _re(){return{"!type":"dialog"}}function Sre(){return{"!type":"dialog"}}function Are(){return{"!type":"macro"}}function Ere(){return{"!type":"macro"}}var Jm=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=e.c:--h,c?u+=e.r:--u,i+(o?"":"$")+Ti(h)+(c?"":"$")+Ji(u)}return function(i,a){return e=a,i.replace(n,t)}})(),iC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aC=(function(){return function(e,t){return e.replace(iC,function(r,i,a,s,o,c){var u=V4(s)-(a?0:t.c),h=q4(c)-(o?0:t.r),p=h==0?"":o?h+1:"["+h+"]",g=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+g})}})();function QP(n,e){return n.replace(iC,function(t,r,i,a,s,o){return r+(i=="$"?i+a:Ti(V4(a)+e.c))+(s=="$"?s+o:Ji(q4(o)+e.r))})}function Tre(n,e,t){var r=Po(e),i=r.s,a=Ci(t),s={r:a.r-i.r,c:a.c-i.c};return QP(n,s)}function Cre(n){return n.length!=1}function sL(n){return n.replace(/_xlfn\./g,"")}function oa(n){n.l+=1}function r0(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function e7(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return t7(n);t.biff==12&&(r=4)}var i=n.read_shift(r),a=n.read_shift(r),s=r0(n),o=r0(n);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function t7(n){var e=r0(n),t=r0(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function kre(n,e,t){if(t.biff<8)return t7(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),a=r0(n),s=r0(n);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function n7(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Nre(n);var r=n.read_shift(t&&t.biff==12?4:2),i=r0(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Nre(n){var e=r0(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Rre(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Lre(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Ire(n);var i=n.read_shift(r>=12?4:2),a=n.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function Ire(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Mre(n,e,t){var r=(n[n.l++]&96)>>5,i=e7(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Dre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var s=e7(n,a,t);return[r,i,s]}function Fre(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Pre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[r,i]}function Ore(n,e,t){var r=(n[n.l++]&96)>>5,i=kre(n,e-1,t);return[r,i]}function Bre(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function oL(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Ure(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function Hre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function zre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function jre(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Gre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function r7(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function qre(n){return n.read_shift(2),r7(n)}function Vre(n){return n.read_shift(2),r7(n)}function Wre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n7(n,0,t);return[r,i]}function Xre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Lre(n,0,t);return[r,i]}function Yre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=n7(n,0,t);return[r,i,a]}function $re(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[Zie[i],s7[i],r]}function Kre(n,e,t){var r=n[n.l++],i=n.read_shift(1),a=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Jre(n);return[i,(a[0]===0?s7:Jie)[a[1]]]}function Jre(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Zre(n,e,t){n.l+=t&&t.biff==2?3:4}function Qre(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function eie(n){return n.l++,Lh[n.read_shift(1)]}function tie(n){return n.l++,n.read_shift(2)}function nie(n){return n.l++,n.read_shift(1)!==0}function rie(n){return n.l++,Ms(n)}function iie(n,e,t){return n.l++,Wy(n,e-1,t)}function aie(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Vi(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Lh[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Ms(n);break;case 2:t[1]=Tg(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function sie(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((t.biff==12?Eg:T5)(n));return i}function oie(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=aie(n,t.biff);return s}function lie(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,a]}function cie(n,e,t){if(t.biff==5)return uie(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),a=n.read_shift(4);return[r,i,a]}function uie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function fie(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function hie(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function die(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function pie(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[r,i]}var gie=Ps,mie=Ps,vie=Ps;function Yy(n,e,t){return n.l+=2,[Rre(n)]}function sC(n){return n.l+=6,[]}var xie=Yy,yie=sC,bie=sC,wie=Yy;function i7(n){return n.l+=2,[ca(n),n.read_shift(2)&1]}var _ie=Yy,Sie=i7,Aie=sC,Eie=Yy,Tie=Yy,Cie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kie(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),a=n.read_shift(2),s=Cie[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:r,c:i,C:a}}function Nie(n){return n.l+=2,[n.read_shift(4)]}function Rie(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Lie(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Iie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Mie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Die(n){return n.l+=4,[0,0]}var lL={1:{n:"PtgExp",f:Qre},2:{n:"PtgTbl",f:vie},3:{n:"PtgAdd",f:oa},4:{n:"PtgSub",f:oa},5:{n:"PtgMul",f:oa},6:{n:"PtgDiv",f:oa},7:{n:"PtgPower",f:oa},8:{n:"PtgConcat",f:oa},9:{n:"PtgLt",f:oa},10:{n:"PtgLe",f:oa},11:{n:"PtgEq",f:oa},12:{n:"PtgGe",f:oa},13:{n:"PtgGt",f:oa},14:{n:"PtgNe",f:oa},15:{n:"PtgIsect",f:oa},16:{n:"PtgUnion",f:oa},17:{n:"PtgRange",f:oa},18:{n:"PtgUplus",f:oa},19:{n:"PtgUminus",f:oa},20:{n:"PtgPercent",f:oa},21:{n:"PtgParen",f:oa},22:{n:"PtgMissArg",f:oa},23:{n:"PtgStr",f:iie},26:{n:"PtgSheet",f:Rie},27:{n:"PtgEndSheet",f:Lie},28:{n:"PtgErr",f:eie},29:{n:"PtgBool",f:nie},30:{n:"PtgInt",f:tie},31:{n:"PtgNum",f:rie},32:{n:"PtgArray",f:Bre},33:{n:"PtgFunc",f:$re},34:{n:"PtgFuncVar",f:Kre},35:{n:"PtgName",f:lie},36:{n:"PtgRef",f:Wre},37:{n:"PtgArea",f:Mre},38:{n:"PtgMemArea",f:fie},39:{n:"PtgMemErr",f:gie},40:{n:"PtgMemNoMem",f:mie},41:{n:"PtgMemFunc",f:hie},42:{n:"PtgRefErr",f:die},43:{n:"PtgAreaErr",f:Fre},44:{n:"PtgRefN",f:Xre},45:{n:"PtgAreaN",f:Ore},46:{n:"PtgMemAreaN",f:Iie},47:{n:"PtgMemNoMemN",f:Mie},57:{n:"PtgNameX",f:cie},58:{n:"PtgRef3d",f:Yre},59:{n:"PtgArea3d",f:Dre},60:{n:"PtgRefErr3d",f:pie},61:{n:"PtgAreaErr3d",f:Pre},255:{}},Fie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pie={1:{n:"PtgElfLel",f:i7},2:{n:"PtgElfRw",f:Eie},3:{n:"PtgElfCol",f:xie},6:{n:"PtgElfRwV",f:Tie},7:{n:"PtgElfColV",f:wie},10:{n:"PtgElfRadical",f:_ie},11:{n:"PtgElfRadicalS",f:Aie},13:{n:"PtgElfColS",f:yie},15:{n:"PtgElfColSV",f:bie},16:{n:"PtgElfRadicalLel",f:Sie},25:{n:"PtgList",f:kie},29:{n:"PtgSxName",f:Nie},255:{}},Oie={0:{n:"PtgAttrNoop",f:Die},1:{n:"PtgAttrSemi",f:Gre},2:{n:"PtgAttrIf",f:zre},4:{n:"PtgAttrChoose",f:Ure},8:{n:"PtgAttrGoto",f:Hre},16:{n:"PtgAttrSum",f:Zre},32:{n:"PtgAttrBaxcel",f:oL},33:{n:"PtgAttrBaxcel",f:oL},64:{n:"PtgAttrSpace",f:qre},65:{n:"PtgAttrSpaceSemi",f:Vre},128:{n:"PtgAttrIfError",f:jre},255:{}};function $y(n,e,t,r){if(r.biff<8)return Ps(n,e);for(var i=n.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=oie(n,0,r),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=sie(n,t[s][1],r),a.push(t[s][2]);break;case"PtgExp":r&&r.biff==12&&(t[s][1][1]=n.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-n.l,e!==0&&a.push(Ps(n,e)),a}function Ky(n,e,t){for(var r=n.l+e,i,a,s=[];r!=n.l;)e=r-n.l,a=n[n.l],i=lL[a]||lL[Fie[a]],(a===24||a===25)&&(i=(a===24?Pie:Oie)[n[n.l+1]]),!i||!i.f?Ps(n,e):s.push([i.n,i.f(n,e,t)]);return s}function Bie(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Uie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Hie(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function a7(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function cL(n,e,t){var r=a7(n,e,t);return r=="#REF"?r:Hie(r,t)}function Rs(n,e,t,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,h,p=0,g=0,m,w="";if(!n[0]||!n[0][0])return"";for(var y=-1,S="",C=0,L=n[0].length;C<L;++C){var R=n[0][C];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),y>=0){switch(n[0][y][1][0]){case 0:S=Bi(" ",n[0][y][1][1]);break;case 1:S=Bi("\r",n[0][y][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][y][1][0])}u=u+S,y=-1}o.push(u+Uie[R[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Dx(R[1][1],s,i),o.push(Fx(h,a));break;case"PtgRefN":h=t?Dx(R[1][1],t,i):R[1][1],o.push(Fx(h,a));break;case"PtgRef3d":p=R[1][1],h=Dx(R[1][2],s,i),w=cL(r,p,i),o.push(w+"!"+Fx(h,a));break;case"PtgFunc":case"PtgFuncVar":var D=R[1][0],z=R[1][1];D||(D=0),D&=127;var q=D==0?[]:o.slice(-D);o.length-=D,z==="User"&&(z=q.shift()),o.push(z+"("+q.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":m=BR(R[1][1],t?{s:t}:s,i),o.push(LA(m,i));break;case"PtgArea":m=BR(R[1][1],s,i),o.push(LA(m,i));break;case"PtgArea3d":p=R[1][1],m=R[1][2],w=cL(r,p,i),o.push(w+"!"+LA(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var P=(r.names||[])[g-1]||(r[0]||[])[g],W=P?P.Name:"SH33TJSNAME"+String(g);W&&W.slice(0,6)=="_xlfn."&&!i.xlfn&&(W=W.slice(6)),o.push(W);break;case"PtgNameX":var O=R[1][1];g=R[1][2];var Q;if(i.biff<=5)O<0&&(O=-O),r[O]&&(Q=r[O][g]);else{var B="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][g]&&r[O][g].itab>0&&(B=r.SheetNames[r[O][g].itab-1]+"!"):B=r.SheetNames[g-1]+"!"),r[O]&&r[O][g])B+=r[O][g].Name;else if(r[0]&&r[0][g])B+=r[0][g].Name;else{var j=(a7(r,O,i)||"").split(";;");j[g-1]?B=j[g-1]:B+="SH33TJSERRX"}o.push(B);break}Q||(Q={Name:"SH33TJSERRY"}),o.push(Q.Name);break;case"PtgParen":var ee="(",fe=")";if(y>=0){switch(S="",n[0][y][1][0]){case 2:ee=Bi(" ",n[0][y][1][1])+ee;break;case 3:ee=Bi("\r",n[0][y][1][1])+ee;break;case 4:fe=Bi(" ",n[0][y][1][1])+fe;break;case 5:fe=Bi("\r",n[0][y][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][y][1][0])}y=-1}o.push(ee+o.pop()+fe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:R[1][1],r:R[1][0]};var ue={c:t.c,r:t.r};if(r.sharedf[_n(h)]){var K=r.sharedf[_n(h)];o.push(Rs(K,s,ue,r,i))}else{var le=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(Rs(u[1],s,ue,r,i)),le=!0;break}le||o.push(R[1])}break;case"PtgArray":o.push("{"+Bie(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var Te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&Te.indexOf(n[0][C][0])==-1){R=n[0][y];var ge=!0;switch(R[1][0]){case 4:ge=!1;case 0:S=Bi(" ",R[1][1]);break;case 5:ge=!1;case 1:S=Bi("\r",R[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((ge?S:"")+o.pop()+(ge?"":S)),y=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function zie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,a,s=n.read_shift(i);if(s==65535)return[[],Ps(n,e-2)];var o=Ky(n,s,t);return e!==s+i&&(a=$y(n,e-s-i,o,t)),n.l=r,[o,a]}function jie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,a,s=n.read_shift(i);if(s==65535)return[[],Ps(n,e-2)];var o=Ky(n,s,t);return e!==s+i&&(a=$y(n,e-s-i,o,t)),n.l=r,[o,a]}function Gie(n,e,t,r){var i=n.l+e,a=Ky(n,r,t),s;return i!==n.l&&(s=$y(n,i-n.l,a,t)),[a,s]}function qie(n,e,t){var r=n.l+e,i,a=n.read_shift(2),s=Ky(n,a,t);return a==65535?[[],Ps(n,e-2)]:(e!==a+2&&(i=$y(n,r-a-2,s,t)),[s,i])}function Vie(n){var e;if(gh(n,n.l+6)!==65535)return[Ms(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function Wie(n){if(n==null){var e=at(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return fg(n);return fg(0)}function PA(n,e,t){var r=n.l+e,i=lf(n);t.biff==2&&++n.l;var a=Vie(n),s=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=jie(n,r-n.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function Xie(n,e,t,r,i){var a=dg(e,t,i),s=Wie(n.v),o=at(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=at(n.bf.length),h=0;h<n.bf.length;++h)u[h]=n.bf[h];var p=Ga([a,s,o,u]);return p}function C5(n,e,t){var r=n.read_shift(4),i=Ky(n,r,t),a=n.read_shift(4),s=a>0?$y(n,a,i,t):null;return[i,s]}var Yie=C5,k5=C5,$ie=C5,Kie=C5,Jie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},s7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Zie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uL(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function Qie(n){var e="of:="+n.replace(iC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function OA(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function eae(n){return n.replace(/\./,"!")}var Ox={},Zm={},Bx=typeof Map<"u";function oC(n,e,t){var r=0,i=n.length;if(t){if(Bx?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=Bx?t.get(e):t[e];r<a.length;++r)if(n[a[r]].t===e)return n.Count++,a[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(Bx?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function N5(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Ls=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=l2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=D_(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function rg(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function u0(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,a=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){xh(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(n[i].numFmtId===r)return i;return n[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function o7(n,e,t,r,i,a){try{r.cellNF&&(n.z=wn[e])}catch(o){if(r.WTF)throw o}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=oi(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(wn[e]==null&&xh(JJ[e]||"General",e),n.t==="e")n.w=n.w||Lh[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v);else if(n.t==="d"){var s=ka(n.v);(s|0)===s?n.w=s.toString(10):n.w=t2(s)}else{if(n.v===void 0)return"";n.w=cg(n.v,Zm)}else n.t==="d"?n.w=ac(e,ka(n.v),Zm):n.w=ac(e,n.v,Zm)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&t!=null)try{n.s=a.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=M_(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=M_(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function tae(n,e,t){if(n&&n["!ref"]){var r=dr(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function nae(n,e){var t=dr(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Fn(t))}var rae=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,iae=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,aae=/<(?:\w:)?hyperlink [^>]*>/mg,sae=/"(\w*:\w*)"/,oae=/<(?:\w:)?col\b[^>]*[\/]?>/g,lae=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cae=/<(?:\w:)?pageMargins[^>]*\/>/g,l7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uae=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fae=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function hae(n,e,t,r,i,a,s){if(!n)return n;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",p=n.match(iae);p?(u=n.slice(0,p.index),h=n.slice(p.index+p[0].length)):u=h=n;var g=u.match(l7);g?lC(g[0],o,i,t):(g=u.match(uae))&&pae(g[0],g[1]||"",o,i,t);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var w=u.slice(m,m+50).match(sae);w&&nae(o,w[1])}var y=u.match(fae);y&&y[1]&&Cae(y[1],i);var S=[];if(e.cellStyles){var C=u.match(oae);C&&_ae(S,C)}p&&Rae(p[1],o,e,c,a,s);var L=h.match(lae);L&&(o["!autofilter"]=Aae(L[0]));var R=[],D=h.match(rae);if(D)for(m=0;m!=D.length;++m)R[m]=dr(D[m].slice(D[m].indexOf('"')+1));var z=h.match(aae);z&&yae(o,z,r);var q=h.match(cae);if(q&&(o["!margins"]=bae(Sn(q[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Fn(c)),e.sheetRows>0&&o["!ref"]){var P=dr(o["!ref"]);e.sheetRows<=+P.e.r&&(P.e.r=e.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Fn(P))}return S.length>0&&(o["!cols"]=S),R.length>0&&(o["!merges"]=R),o}function dae(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Fn(n[t])+'"/>';return e+"</mergeCells>"}function lC(n,e,t,r){var i=Sn(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=fr(qr(i.codeName)))}function pae(n,e,t,r,i){lC(n.slice(0,n.indexOf(">")),t,r,i)}function gae(n,e,t,r,i){var a=!1,s={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}a=!0,s.codeName=tf(Fr(c))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),o=(o||"")+kt("outlinePr",null,u)}!a&&!o||(i[i.length]=kt("sheetPr",o,s))}var mae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],vae=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function xae(n){var e={sheet:1};return mae.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),vae.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=tC(n.password).toString(16).toUpperCase()),kt("sheetProtection",null,e)}function yae(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var a=Sn(qr(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+fr(a.location))):(a.Target="#"+fr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=dr(a.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var h=_n({c:u,r:c});r?(n[c]||(n[c]=[]),n[c][u]||(n[c][u]={t:"z",v:void 0}),n[c][u].l=a):(n[h]||(n[h]={t:"z",v:void 0}),n[h].l=a)}}}function bae(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function wae(n){return rg(n),kt("pageMargins",null,n)}function _ae(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=Sn(e[r],!0);i.hidden&&(i.hidden=ai(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,nC(i.width)),n0(i);a<=s;)n[a++]=li(i)}}function Sae(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=kt("col",null,N5(i,r)));return t[t.length]="</cols>",t.join("")}function Aae(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}function Eae(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Fn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,s=Po(i);s.s.r==s.e.r&&(s.e.r=Po(e["!ref"]).e.r,i=Fn(s));for(var o=0;o<a.length;++o){var c=a[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),kt("autoFilter",null,{ref:i})}var Tae=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Cae(n,e){e.Views||(e.Views=[{}]),(n.match(Tae)||[]).forEach(function(t,r){var i=Sn(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),ai(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function kae(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),kt("sheetViews",kt("sheetView",null,i),{})}function Nae(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",a=n.t,s=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Lh[n.v];break;case"d":r&&r.cellDates?i=oi(n.v,-1).toISOString():(n=li(n),n.t="n",i=""+(n.v=ka(oi(n.v)))),typeof n.z>"u"&&(n.z=wn[14]);break;default:i=n.v;break}var o=us("v",Fr(i)),c={r:e},u=u0(r.cellXfs,n,r);switch(u!==0&&(c.s=u),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=us("v",""+oC(r.Strings,n.v,r.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=a&&(n.t=a,n.v=s),typeof n.f=="string"&&n.f){var h=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;o=kt("f",Fr(n.f),h)+(n.v!=null?o:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),kt("c",o,c)}var Rae=(function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=n2("v"),s=n2("f");return function(c,u,h,p,g,m){for(var w=0,y="",S=[],C=[],L=0,R=0,D=0,z="",q,P,W=0,O=0,Q,B,j=0,ee=0,fe=Array.isArray(m.CellXf),ue,K=[],le=[],Te=Array.isArray(u),ge=[],Be={},ie=!1,M=!!h.sheetStubs,H=c.split(e),G=0,Y=H.length;G!=Y;++G){y=H[G].trim();var se=y.length;if(se!==0){var ye=0;e:for(w=0;w<se;++w)switch(y[w]){case">":if(y[w-1]!="/"){++w;break e}if(h&&h.cellStyles){if(P=Sn(y.slice(ye,w),!0),W=P.r!=null?parseInt(P.r,10):W+1,O=-1,h.sheetRows&&h.sheetRows<W)continue;Be={},ie=!1,P.ht&&(ie=!0,Be.hpt=parseFloat(P.ht),Be.hpx=lv(Be.hpt)),P.hidden=="1"&&(ie=!0,Be.hidden=!0),P.outlineLevel!=null&&(ie=!0,Be.level=+P.outlineLevel),ie&&(ge[W-1]=Be)}break;case"<":ye=w;break}if(ye>=w)break;if(P=Sn(y.slice(ye,w),!0),W=P.r!=null?parseInt(P.r,10):W+1,O=-1,!(h.sheetRows&&h.sheetRows<W)){p.s.r>W-1&&(p.s.r=W-1),p.e.r<W-1&&(p.e.r=W-1),h&&h.cellStyles&&(Be={},ie=!1,P.ht&&(ie=!0,Be.hpt=parseFloat(P.ht),Be.hpx=lv(Be.hpt)),P.hidden=="1"&&(ie=!0,Be.hidden=!0),P.outlineLevel!=null&&(ie=!0,Be.level=+P.outlineLevel),ie&&(ge[W-1]=Be)),S=y.slice(w).split(n);for(var ke=0;ke!=S.length&&S[ke].trim().charAt(0)=="<";++ke);for(S=S.slice(ke),w=0;w!=S.length;++w)if(y=S[w].trim(),y.length!==0){if(C=y.match(t),L=w,R=0,D=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,C!=null&&C.length===2){for(L=0,z=C[1],R=0;R!=z.length&&!((D=z.charCodeAt(R)-64)<1||D>26);++R)L=26*L+D;--L,O=L}else++O;for(R=0;R!=y.length&&y.charCodeAt(R)!==62;++R);if(++R,P=Sn(y.slice(0,R),!0),P.r||(P.r=_n({r:W-1,c:O})),z=y.slice(R),q={t:""},(C=z.match(a))!=null&&C[1]!==""&&(q.v=fr(C[1])),h.cellFormula){if((C=z.match(s))!=null&&C[1]!==""){if(q.f=fr(qr(C[1])).replace(/\r\n/g,`
`),h.xlfn||(q.f=sL(q.f)),C[0].indexOf('t="array"')>-1)q.F=(z.match(i)||[])[1],q.F.indexOf(":")>-1&&K.push([dr(q.F),q.F]);else if(C[0].indexOf('t="shared"')>-1){B=Sn(C[0]);var Ce=fr(qr(C[1]));h.xlfn||(Ce=sL(Ce)),le[parseInt(B.si,10)]=[B,Ce,P.r]}}else(C=z.match(/<f[^>]*\/>/))&&(B=Sn(C[0]),le[B.si]&&(q.f=Tre(le[B.si][1],le[B.si][2],P.r)));var Le=Ci(P.r);for(R=0;R<K.length;++R)Le.r>=K[R][0].s.r&&Le.r<=K[R][0].e.r&&Le.c>=K[R][0].s.c&&Le.c<=K[R][0].e.c&&(q.F=K[R][1])}if(P.t==null&&q.v===void 0)if(q.f||q.F)q.v=0,q.t="n";else if(M)q.t="z";else continue;else q.t=P.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),q.t){case"n":if(q.v==""||q.v==null){if(!M)continue;q.t="z"}else q.v=parseFloat(q.v);break;case"s":if(typeof q.v>"u"){if(!M)continue;q.t="z"}else Q=Ox[parseInt(q.v,10)],q.v=Q.t,q.r=Q.r,h.cellHTML&&(q.h=Q.h);break;case"str":q.t="s",q.v=q.v!=null?qr(q.v):"",h.cellHTML&&(q.h=H4(q.v));break;case"inlineStr":C=z.match(r),q.t="s",C!=null&&(Q=eC(C[1]))?(q.v=Q.t,h.cellHTML&&(q.h=Q.h)):q.v="";break;case"b":q.v=ai(q.v);break;case"d":h.cellDates?q.v=oi(q.v,1):(q.v=ka(oi(q.v,1)),q.t="n");break;case"e":(!h||h.cellText!==!1)&&(q.w=q.v),q.v=uP[q.v];break}if(j=ee=0,ue=null,fe&&P.s!==void 0&&(ue=m.CellXf[P.s],ue!=null&&(ue.numFmtId!=null&&(j=ue.numFmtId),h.cellStyles&&ue.fillId!=null&&(ee=ue.fillId))),o7(q,j,ee,h,g,m),h.cellDates&&fe&&q.t=="n"&&dv(wn[j])&&(q.t="d",q.v=E5(q.v)),P.cm&&h.xlmeta){var Re=(h.xlmeta.Cell||[])[+P.cm-1];Re&&Re.type=="XLDAPR"&&(q.D=!0)}if(Te){var ce=Ci(P.r);u[ce.r]||(u[ce.r]=[]),u[ce.r][ce.c]=q}else u[P.r]=q}}}}ge.length>0&&(u["!rows"]=ge)}})();function Lae(n,e,t,r){var i=[],a=[],s=dr(n["!ref"]),o="",c,u="",h=[],p=0,g=0,m=n["!rows"],w=Array.isArray(n),y={r:u},S,C=-1;for(g=s.s.c;g<=s.e.c;++g)h[g]=Ti(g);for(p=s.s.r;p<=s.e.r;++p){for(a=[],u=Ji(p),g=s.s.c;g<=s.e.c;++g){c=h[g]+u;var L=w?(n[p]||[])[g]:n[c];L!==void 0&&(o=Nae(L,c,n,e))!=null&&a.push(o)}(a.length>0||m&&m[p])&&(y={r:u},m&&m[p]&&(S=m[p],S.hidden&&(y.hidden=1),C=-1,S.hpx?C=c2(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(y.ht=C,y.customHeight=1),S.level&&(y.outlineLevel=S.level)),i[i.length]=kt("row",a.join(""),y))}if(m)for(;p<m.length;++p)m&&m[p]&&(y={r:p+1},S=m[p],S.hidden&&(y.hidden=1),C=-1,S.hpx?C=c2(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(y.ht=C,y.customHeight=1),S.level&&(y.outlineLevel=S.level),i[i.length]=kt("row","",y));return i.join("")}function c7(n,e,t,r){var i=[Qi,kt("worksheet",null,{xmlns:wg[0],"xmlns:r":Ta.r})],a=t.SheetNames[n],s=0,o="",c=t.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",h=dr(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Fn(h)}r||(r={}),c["!comments"]=[];var p=[];gae(c,t,n,e,i),i[i.length]=kt("dimension",null,{ref:u}),i[i.length]=kae(c,e,n,t),e.sheetFormat&&(i[i.length]=kt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Sae(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Lae(c,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=xae(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Eae(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=dae(c["!merges"]));var g=-1,m,w=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(y){y[1].Target&&(m={ref:y[0]},y[1].Target.charAt(0)!="#"&&(w=Mr(r,-1,Fr(y[1].Target).replace(/#.*$/,""),Xn.HLINK),m["r:id"]="rId"+w),(g=y[1].Target.indexOf("#"))>-1&&(m.location=Fr(y[1].Target.slice(g+1))),y[1].Tooltip&&(m.tooltip=Fr(y[1].Tooltip)),i[i.length]=kt("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=wae(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=us("ignoredErrors",kt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(w=Mr(r,-1,"../drawings/drawing"+(n+1)+".xml",Xn.DRAW),i[i.length]=kt("drawing",null,{"r:id":"rId"+w}),c["!drawing"]=p),c["!comments"].length>0&&(w=Mr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Xn.VML),i[i.length]=kt("legacyDrawing",null,{"r:id":"rId"+w}),c["!legacy"]=w),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Iae(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=r,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}function Mae(n,e,t){var r=at(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var a=320;i.hpx?a=c2(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var u={r:n,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,g=-1,m=h<<10;m<h+1<<10;++m){u.c=m;var w=Array.isArray(t)?(t[u.r]||[])[u.c]:t[_n(u)];w&&(p<0&&(p=m),g=m)}p<0||(++o,r.write_shift(4,p),r.write_shift(4,g))}var y=r.l;return r.l=c,r.write_shift(4,o),r.l=y,r.length>r.l?r.slice(0,r.l):r}function Dae(n,e,t,r){var i=Mae(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&xt(n,0,i)}var Fae=Eg,Pae=mv;function Oae(){}function Bae(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=zZ(n),t}function Uae(n,e,t){t==null&&(t=at(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return R_({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),aP(n,t),t.slice(0,t.l)}function Hae(n){var e=sc(n);return[e]}function zae(n,e,t){return t==null&&(t=at(8)),_g(e,t)}function jae(n){var e=Sg(n);return[e]}function Gae(n,e,t){return t==null&&(t=at(4)),Ag(e,t)}function qae(n){var e=sc(n),t=n.read_shift(1);return[e,t,"b"]}function Vae(n,e,t){return t==null&&(t=at(9)),_g(e,t),t.write_shift(1,n.v?1:0),t}function Wae(n){var e=Sg(n),t=n.read_shift(1);return[e,t,"b"]}function Xae(n,e,t){return t==null&&(t=at(5)),Ag(e,t),t.write_shift(1,n.v?1:0),t}function Yae(n){var e=sc(n),t=n.read_shift(1);return[e,t,"e"]}function $ae(n,e,t){return t==null&&(t=at(9)),_g(e,t),t.write_shift(1,n.v),t}function Kae(n){var e=Sg(n),t=n.read_shift(1);return[e,t,"e"]}function Jae(n,e,t){return t==null&&(t=at(8)),Ag(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function Zae(n){var e=sc(n),t=n.read_shift(4);return[e,t,"s"]}function Qae(n,e,t){return t==null&&(t=at(12)),_g(e,t),t.write_shift(4,e.v),t}function ese(n){var e=Sg(n),t=n.read_shift(4);return[e,t,"s"]}function tse(n,e,t){return t==null&&(t=at(8)),Ag(e,t),t.write_shift(4,e.v),t}function nse(n){var e=sc(n),t=Ms(n);return[e,t,"n"]}function rse(n,e,t){return t==null&&(t=at(16)),_g(e,t),fg(n.v,t),t}function u7(n){var e=Sg(n),t=Ms(n);return[e,t,"n"]}function ise(n,e,t){return t==null&&(t=at(12)),Ag(e,t),fg(n.v,t),t}function ase(n){var e=sc(n),t=$4(n);return[e,t,"n"]}function sse(n,e,t){return t==null&&(t=at(12)),_g(e,t),sP(n.v,t),t}function ose(n){var e=Sg(n),t=$4(n);return[e,t,"n"]}function lse(n,e,t){return t==null&&(t=at(8)),Ag(e,t),sP(n.v,t),t}function cse(n){var e=sc(n),t=W4(n);return[e,t,"is"]}function use(n){var e=sc(n),t=Fs(n);return[e,t,"str"]}function fse(n,e,t){return t==null&&(t=at(12+4*n.v.length)),_g(e,t),qa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function hse(n){var e=Sg(n),t=Fs(n);return[e,t,"str"]}function dse(n,e,t){return t==null&&(t=at(8+4*n.v.length)),Ag(e,t),qa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function pse(n,e,t){var r=n.l+e,i=sc(n);i.r=t["!row"];var a=n.read_shift(1),s=[i,a,"b"];if(t.cellFormula){n.l+=2;var o=k5(n,r-n.l,t);s[3]=Rs(o,null,i,t.supbooks,t)}else n.l=r;return s}function gse(n,e,t){var r=n.l+e,i=sc(n);i.r=t["!row"];var a=n.read_shift(1),s=[i,a,"e"];if(t.cellFormula){n.l+=2;var o=k5(n,r-n.l,t);s[3]=Rs(o,null,i,t.supbooks,t)}else n.l=r;return s}function mse(n,e,t){var r=n.l+e,i=sc(n);i.r=t["!row"];var a=Ms(n),s=[i,a,"n"];if(t.cellFormula){n.l+=2;var o=k5(n,r-n.l,t);s[3]=Rs(o,null,i,t.supbooks,t)}else n.l=r;return s}function vse(n,e,t){var r=n.l+e,i=sc(n);i.r=t["!row"];var a=Fs(n),s=[i,a,"str"];if(t.cellFormula){n.l+=2;var o=k5(n,r-n.l,t);s[3]=Rs(o,null,i,t.supbooks,t)}else n.l=r;return s}var xse=Eg,yse=mv;function bse(n,e){return e==null&&(e=at(4)),e.write_shift(4,n),e}function wse(n,e){var t=n.l+e,r=Eg(n),i=X4(n),a=Fs(n),s=Fs(n),o=Fs(n);n.l=t;var c={rfx:r,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function _se(n,e){var t=at(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));mv({s:Ci(n[0]),e:Ci(n[0])},t),Y4("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return qa(i||"",t),qa(n[1].Tooltip||"",t),qa("",t),t.slice(0,t.l)}function Sse(){}function Ase(n,e,t){var r=n.l+e,i=oP(n),a=n.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=Yie(n,r-n.l,t);s[1]=o}else n.l=r;return s}function Ese(n,e,t){var r=n.l+e,i=Eg(n),a=[i];if(t.cellFormula){var s=Kie(n,r-n.l,t);a[1]=s,n.l=r}else n.l=r;return a}function Tse(n,e,t){t==null&&(t=at(18));var r=N5(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var f7=["left","right","top","bottom","header","footer"];function Cse(n){var e={};return f7.forEach(function(t){e[t]=Ms(n)}),e}function kse(n,e){return e==null&&(e=at(48)),rg(n),f7.forEach(function(t){fg(n[t],e)}),e}function Nse(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function Rse(n,e,t){t==null&&(t=at(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Lse(n){var e=at(24);return e.write_shift(4,4),e.write_shift(4,1),mv(n,e),e}function Ise(n,e){return e==null&&(e=at(66)),e.write_shift(2,n.password?tC(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Mse(){}function Dse(){}function Fse(n,e,t,r,i,a,s){if(!n)return n;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,w,y,S,C,L,R,D,z,q=[];o.biff=12,o["!row"]=0;var P=0,W=!1,O=[],Q={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=Q,B.arrayf=O,B.SheetNames=i.SheetNames||i.Sheets.map(function(Te){return Te.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var j=0;j<i.Names.length;++j)B[0][j+1]=i.Names[j];var ee=[],fe=[],ue=!1;u2[16]={n:"BrtShortReal",f:u7};var K;if(Rh(n,function(ge,Be,ie){if(!g)switch(ie){case 148:u=ge;break;case 0:m=ge,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),D=Ji(S=m.r),o["!row"]=m.r,(ge.hidden||ge.hpt||ge.level!=null)&&(ge.hpt&&(ge.hpx=lv(ge.hpt)),fe[ge.r]=ge);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:ge[2]},ge[2]){case"n":w.v=ge[1];break;case"s":R=Ox[ge[1]],w.v=R.t,w.r=R.r;break;case"b":w.v=!!ge[1];break;case"e":w.v=ge[1],o.cellText!==!1&&(w.w=Lh[w.v]);break;case"str":w.t="s",w.v=ge[1];break;case"is":w.t="s",w.v=ge[1].t;break}if((y=s.CellXf[ge[0].iStyleRef])&&o7(w,y.numFmtId,null,o,a,s),C=ge[0].c==-1?C+1:ge[0].c,o.dense?(c[S]||(c[S]=[]),c[S][C]=w):c[Ti(C)+D]=w,o.cellFormula){for(W=!1,P=0;P<O.length;++P){var M=O[P];m.r>=M[0].s.r&&m.r<=M[0].e.r&&C>=M[0].s.c&&C<=M[0].e.c&&(w.F=Fn(M[0]),W=!0)}!W&&ge.length>3&&(w.f=ge[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>C&&(h.s.c=C),h.e.r<m.r&&(h.e.r=m.r),h.e.c<C&&(h.e.c=C),o.cellDates&&y&&w.t=="n"&&dv(wn[y.numFmtId])){var H=Y0(w.v);H&&(w.t="d",w.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;w={t:"z",v:void 0},C=ge[0].c==-1?C+1:ge[0].c,o.dense?(c[S]||(c[S]=[]),c[S][C]=w):c[Ti(C)+D]=w,h.s.r>m.r&&(h.s.r=m.r),h.s.c>C&&(h.s.c=C),h.e.r<m.r&&(h.e.r=m.r),h.e.c<C&&(h.e.c=C),K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 176:q.push(ge);break;case 49:K=((o.xlmeta||{}).Cell||[])[ge-1];break;case 494:var G=r["!id"][ge.relId];for(G?(ge.Target=G.Target,ge.loc&&(ge.Target+="#"+ge.loc),ge.Rel=G):ge.relId==""&&(ge.Target="#"+ge.loc),S=ge.rfx.s.r;S<=ge.rfx.e.r;++S)for(C=ge.rfx.s.c;C<=ge.rfx.e.c;++C)o.dense?(c[S]||(c[S]=[]),c[S][C]||(c[S][C]={t:"z",v:void 0}),c[S][C].l=ge):(L=_n({c:C,r:S}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=ge);break;case 426:if(!o.cellFormula)break;O.push(ge),z=o.dense?c[S][C]:c[Ti(C)+D],z.f=Rs(ge[1],h,{r:m.r,c:C},B,o),z.F=Fn(ge[0]);break;case 427:if(!o.cellFormula)break;Q[_n(ge[0].s)]=ge[1],z=o.dense?c[S][C]:c[Ti(C)+D],z.f=Rs(ge[1],h,{r:m.r,c:C},B,o);break;case 60:if(!o.cellStyles)break;for(;ge.e>=ge.s;)ee[ge.e--]={width:ge.w/256,hidden:!!(ge.flags&1),level:ge.level},ue||(ue=!0,nC(ge.w/256)),n0(ee[ge.e+1]);break;case 161:c["!autofilter"]={ref:Fn(ge)};break;case 476:c["!margins"]=ge;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),ge.name&&(i.Sheets[t].CodeName=ge.name),(ge.above||ge.left)&&(c["!outline"]={above:ge.above,left:ge.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ge.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Be.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+ie.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Fn(u||h)),o.sheetRows&&c["!ref"]){var le=dr(c["!ref"]);o.sheetRows<=+le.e.r&&(le.e.r=o.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Fn(le))}return q.length>0&&(c["!merges"]=q),ee.length>0&&(c["!cols"]=ee),fe.length>0&&(c["!rows"]=fe),c}function Pse(n,e,t,r,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=li(e),e.z=e.z||wn[14],e.v=ka(oi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r:t,c:r};switch(c.s=u0(i.cellXfs,e,i),e.l&&a["!links"].push([_n(c),e.l]),e.c&&a["!comments"].push([_n(c),e.c]),e.t){case"s":case"str":return i.bookSST?(o=oC(i.Strings,e.v,i.revStrings),c.t="s",c.v=o,s?xt(n,18,tse(e,c)):xt(n,7,Qae(e,c))):(c.t="str",s?xt(n,17,dse(e,c)):xt(n,6,fse(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?xt(n,13,lse(e,c)):xt(n,2,sse(e,c)):s?xt(n,16,ise(e,c)):xt(n,5,rse(e,c)),!0;case"b":return c.t="b",s?xt(n,15,Xae(e,c)):xt(n,4,Vae(e,c)),!0;case"e":return c.t="e",s?xt(n,14,Jae(e,c)):xt(n,3,$ae(e,c)),!0}return s?xt(n,12,Gae(e,c)):xt(n,1,zae(e,c)),!0}function Ose(n,e,t,r){var i=dr(e["!ref"]||"A1"),a,s="",o=[];xt(n,145);var c=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=u;++h){s=Ji(h),Dae(n,e,i,h);var p=!1;if(h<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){h===i.s.r&&(o[g]=Ti(g)),a=o[g]+s;var m=c?(e[h]||[])[g]:e[a];if(!m){p=!1;continue}p=Pse(n,m,h,g,r,e,p)}}xt(n,146)}function Bse(n,e){!e||!e["!merges"]||(xt(n,177,bse(e["!merges"].length)),e["!merges"].forEach(function(t){xt(n,176,yse(t))}),xt(n,178))}function Use(n,e){!e||!e["!cols"]||(xt(n,390),e["!cols"].forEach(function(t,r){t&&xt(n,60,Tse(r,t))}),xt(n,391))}function Hse(n,e){!e||!e["!ref"]||(xt(n,648),xt(n,649,Lse(dr(e["!ref"]))),xt(n,650))}function zse(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Mr(t,-1,r[1].Target.replace(/#.*$/,""),Xn.HLINK);xt(n,494,_se(r,i))}}),delete e["!links"]}function jse(n,e,t,r){if(e["!comments"].length>0){var i=Mr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Xn.VML);xt(n,551,Y4("rId"+i)),e["!legacy"]=i}}function Gse(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Fn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Po(a);o.s.r==o.e.r&&(o.e.r=Po(e["!ref"]).e.r,a=Fn(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),xt(n,161,mv(dr(a))),xt(n,162)}}function qse(n,e,t){xt(n,133),xt(n,137,Rse(e,t)),xt(n,138),xt(n,134)}function Vse(n,e){e["!protect"]&&xt(n,535,Ise(e["!protect"]))}function Wse(n,e,t,r){var i=Fo(),a=t.SheetNames[n],s=t.Sheets[a]||{},o=a;try{t&&t.Workbook&&(o=t.Workbook.Sheets[n].CodeName||o)}catch{}var c=dr(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],xt(i,129),(t.vbaraw||s["!outline"])&&xt(i,147,Uae(o,s["!outline"])),xt(i,148,Pae(c)),qse(i,s,t.Workbook),Use(i,s),Ose(i,s,n,e),Vse(i,s),Gse(i,s,t,n),Bse(i,s),zse(i,s,r),s["!margins"]&&xt(i,476,kse(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Hse(i,s),jse(i,s,n,r),xt(i,130),i.end()}function Xse(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=fr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[e,i,r]}function Yse(n,e,t,r,i,a){var s=a||{"!type":"chart"};if(!n)return a;var o=0,c=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=Xse(p);h.s.r=h.s.c=0,h.e.c=o,u=Ti(o),g[0].forEach(function(m,w){s[u+Ji(w)]={t:"n",v:m,z:g[1]},c=w}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(s["!ref"]=Fn(h)),s}function $se(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=n.match(l7);return o&&lC(o[0],a,i,t),(s=n.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function Kse(n,e){n.l+=10;var t=Fs(n);return{name:t}}function Jse(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Rh(n,function(c,u,h){switch(h){case 550:a["!rel"]=c;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),c.name&&(i.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var cC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Zse=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Qse=[],eoe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fL(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var a=e[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=ai(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function hL(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=ai(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function h7(n){hL(n.WBProps,cC),hL(n.CalcPr,eoe),fL(n.WBView,Zse),fL(n.Sheets,Qse),Zm.date1904=ai(n.WBProps.date1904)}function toe(n){return!n.Workbook||!n.Workbook.WBProps?"false":ai(n.Workbook.WBProps.date1904)?"true":"false"}var noe="][*?/\\".split("");function d7(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return noe.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function roe(n,e,t){n.forEach(function(r,i){d7(r);for(var a=0;a<i;++a)if(r==n[a])throw new Error("Duplicate Sheet Name: "+r);if(t){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function ioe(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];roe(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)tae(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}var aoe=/<\w+:workbook/;function soe(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(n.replace(Os,function(c,u){var h=Sn(c);switch(of(h[0])){case"<?xml":break;case"<workbook":c.match(aoe)&&(i="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],t.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":cC.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":t.WBProps[p[0]]=ai(h[p[0]]);break;case"int":t.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:t.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(t.WBProps.CodeName=qr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],t.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=fr(qr(h.name)),delete h[0],t.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=qr(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),ai(h.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=fr(qr(n.slice(s,u))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],t.CalcPr=h;break;case"<calcPr/>":delete h[0],t.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),wg.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return h7(t),t}function p7(n){var e=[Qi];e[e.length]=kt("workbook",null,{xmlns:wg[0],"xmlns:r":Ta.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(cC.forEach(function(o){n.Workbook.WBProps[o[0]]!=null&&n.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=n.Workbook.WBProps[o[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=kt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=n.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==n.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=n.SheetNames.length;++a){var s={name:Fr(n.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=kt("sheet",null,s)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=kt("definedName",Fr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function ooe(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=BT(n),t.name=Fs(n),t}function loe(n,e){return e||(e=at(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Y4(n.strRelID,e),qa(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function coe(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Fs(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function uoe(n,e){e||(e=at(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),aP(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function foe(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function hoe(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),a=jZ(n),s=$ie(n,0,t),o=X4(n);n.l=r;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function doe(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],u2[16]={n:"BrtFRTArchID$",f:foe},Rh(n,function(c,u,h){switch(h){case 156:s.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Rs(c.Ptg,null,null,s,e),delete e.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,c]):s[0]=[h,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),h7(t),t.Names=a,t.supbooks=s,t}function poe(n,e){xt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};xt(n,156,loe(i))}xt(n,144)}function goe(n,e){e||(e=at(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return qa("SheetJS",e),qa(S_.version,e),qa(S_.version,e),qa("7262",e),e.length>e.l?e.slice(0,e.l):e}function moe(n,e){e||(e=at(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function voe(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,a=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&a==-1&&(a=r);a>i||(xt(n,135),xt(n,158,moe(i)),xt(n,136))}}function xoe(n,e){var t=Fo();return xt(t,131),xt(t,128,goe()),xt(t,153,uoe(n.Workbook&&n.Workbook.WBProps||null)),voe(t,n),poe(t,n),xt(t,132),t.end()}function yoe(n,e,t){return e.slice(-4)===".bin"?doe(n,t):soe(n,t)}function boe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?Fse(n,r,t,i,a,s,o):hae(n,r,t,i,a,s,o)}function woe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?Jse(n,r,t,i,a):$se(n,r,t,i,a)}function _oe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?Are():Ere()}function Soe(n,e,t,r,i,a,s,o){return e.slice(-4)===".bin"?_re():Sre()}function Aoe(n,e,t,r){return e.slice(-4)===".bin"?yne(n,t,r):one(n,t,r)}function Eoe(n,e,t){return YP(n,t)}function Toe(n,e,t){return e.slice(-4)===".bin"?Tte(n,t):Ste(n,t)}function Coe(n,e,t){return e.slice(-4)===".bin"?vre(n,t):lre(n,t)}function koe(n,e,t){return e.slice(-4)===".bin"?are(n):rre(n)}function Noe(n,e,t,r){return t.slice(-4)===".bin"?sre(n,e,t,r):void 0}function Roe(n,e,t){return e.slice(-4)===".bin"?ere(n,e,t):nre(n,e,t)}function Loe(n,e,t){return(e.slice(-4)===".bin"?xoe:p7)(n)}function Ioe(n,e,t,r,i){return(e.slice(-4)===".bin"?Wse:c7)(n,t,r,i)}function Moe(n,e,t){return(e.slice(-4)===".bin"?Nne:WP)(n,t)}function Doe(n,e,t){return(e.slice(-4)===".bin"?Nte:BP)(n,t)}function Foe(n,e,t){return(e.slice(-4)===".bin"?xre:JP)(n)}function Poe(n){return(n.slice(-4)===".bin"?tre:$P)()}var g7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,m7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Dc(n,e){var t=n.split(/\s+/),r=[];if(r[0]=t[0],t.length===1)return r;var i=n.match(g7),a,s,o,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(m7),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}function Ooe(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(g7),i,a,s,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(m7),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var Ux;function Boe(n,e){var t=Ux[n]||fr(n);return t==="General"?cg(e):ac(t,e)}function Uoe(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ai(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=oi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[fr(e)]=i}function Hoe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Lh[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v):n.w=cg(n.v):n.w=Boe(e||"General",n.v)}catch(a){if(t.WTF)throw a}try{var r=Ux[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&dv(r)){var i=Y0(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function zoe(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Qte[r.Pattern]||r.Pattern)}n[e.ID]=e}function joe(n,e,t,r,i,a,s,o,c,u){var h="General",p=r.StyleID,g={};u=u||{};var m=[],w=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&s&&(p=s.StyleID);a[p]!==void 0&&(a[p].nf&&(h=a[p].nf),a[p].Interior&&m.push(a[p].Interior),!!a[p].Parent);)p=a[p].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=ai(n);break;case"String":r.t="s",r.r=NR(fr(n)),r.v=n.indexOf("<")>-1?fr(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(oi(n)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=fr(n):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=uP[n],u.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=NR(e||n));break}if(Hoe(r,h,u),u.cellFormula!==!1)if(r.Formula){var y=fr(r.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),r.f=Jm(y,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Jm("RC:RC",i):r.ArrayRange&&(r.F=Jm(r.ArrayRange,i),c.push([dr(r.F),r.F]))}else for(w=0;w<c.length;++w)i.r>=c[w][0].s.r&&i.r<=c[w][0].e.r&&i.c>=c[w][0].s.c&&i.c<=c[w][0].e.c&&(r.F=c[w][1]);u.cellStyles&&(m.forEach(function(S){!g.patternType&&S.patternType&&(g.patternType=S.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Goe(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function BA(n,e){var t=e||{};pv();var r=Tx(z4(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(r=qr(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=li(t);return s.type="string",ov.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(He){i.indexOf("<"+He)>=0&&(a=!0)}),a)return kle(r,t);Ux={"General Number":"General","General Date":wn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":wn[15],"Short Date":wn[14],"Long Time":wn[19],"Medium Time":wn[18],"Short Time":wn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:wn[2],Standard:wn[4],Percent:wn[10],Scientific:wn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,h={},p=[],g=t.dense?[]:{},m="",w={},y={},S=Dc('<Data ss:Type="String">'),C=0,L=0,R=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},q={},P="",W=0,O=[],Q={},B={},j=0,ee=[],fe=[],ue={},K=[],le,Te=!1,ge=[],Be=[],ie={},M=0,H=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};i2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";o=i2.exec(r);)switch(o[3]=(se=o[3]).toLowerCase()){case"data":if(se=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?joe(r.slice(C,o.index),P,S,c[c.length-1][0]=="comment"?ue:w,{c:L,r:R},z,K[L],y,ge,t):(P="",S=Dc(o[0]),C=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(fe.length>0&&(w.c=fe),(!t.sheetRows||t.sheetRows>R)&&w.v!==void 0&&(t.dense?(g[R]||(g[R]=[]),g[R][L]=w):g[Ti(L)+Ji(R)]=w),w.HRef&&(w.l={Target:fr(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(M=L+(parseInt(w.MergeAcross,10)|0),H=R+(parseInt(w.MergeDown,10)|0),O.push({s:{c:L,r:R},e:{c:M,r:H}})),!t.sheetStubs)w.MergeAcross?L=M+1:++L;else if(w.MergeAcross||w.MergeDown){for(var ye=L;ye<=M;++ye)for(var ke=R;ke<=H;++ke)(ye>L||ke>R)&&(t.dense?(g[ke]||(g[ke]=[]),g[ke][ye]={t:"z"}):g[Ti(ye)+Ji(ke)]={t:"z"});L=M+1}else++L;else w=Ooe(o[0]),w.Index&&(L=+w.Index-1),L<D.s.c&&(D.s.c=L),L>D.e.c&&(D.e.c=L),o[0].slice(-2)==="/>"&&++L,fe=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<D.s.r&&(D.s.r=R),R>D.e.r&&(D.e.r=R),o[0].slice(-2)==="/>"&&(y=Dc(o[0]),y.Index&&(R=+y.Index-1)),L=0,++R):(y=Dc(o[0]),y.Index&&(R=+y.Index-1),ie={},(y.AutoFitHeight=="0"||y.Height)&&(ie.hpx=parseInt(y.Height,10),ie.hpt=c2(ie.hpx),Be[R]=ie),y.Hidden=="1"&&(ie.hidden=!0,Be[R]=ie));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(m),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=Fn(D),t.sheetRows&&t.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=t.sheetRows-1,g["!ref"]=Fn(D))),O.length&&(g["!merges"]=O),K.length>0&&(g["!cols"]=K),Be.length>0&&(g["!rows"]=Be),h[m]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=L=0,c.push([o[3],!1]),u=Dc(o[0]),m=fr(u.Name),g=t.dense?[]:{},O=[],ge=[],Be=[],Y={name:m,Hidden:0},G.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),K=[],Te=!1}break;case"style":o[1]==="/"?zoe(z,q,t):q=Dc(o[0]);break;case"numberformat":q.nf=fr(Dc(o[0]).Format||"General"),Ux[q.nf]&&(q.nf=Ux[q.nf]);for(var Ce=0;Ce!=392&&wn[Ce]!=q.nf;++Ce);if(Ce==392){for(Ce=57;Ce!=392;++Ce)if(wn[Ce]==null){xh(q.nf,Ce);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(le=Dc(o[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!Te&&le.wpx>10){Te=!0,Ls=qP;for(var Le=0;Le<K.length;++Le)K[Le]&&n0(K[Le])}Te&&n0(le),K[le.Index-1||K.length]=le;for(var Re=0;Re<+le.Span;++Re)K[K.length]=li(le);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var ce=Sn(o[0]),dt={Name:ce.Name,Ref:Jm(ce.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(dt.Sheet=G.Sheets.length-1),G.Names.push(dt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=r.slice(W,o.index):W=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;q.Interior=Dc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?dQ(Q,se,r.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Goe(ue),fe.push(ue)}else c.push([o[3],!1]),u=Dc(o[0]),ue={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var gt=Dc(o[0]);g["!autofilter"]={ref:Jm(gt.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return vL(r,t);var de=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(j,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else j=o.index+o[0].length;break;case"header":g["!margins"]||rg(g["!margins"]={},"xlml"),isNaN(+Sn(o[0]).Margin)||(g["!margins"].header=+Sn(o[0]).Margin);break;case"footer":g["!margins"]||rg(g["!margins"]={},"xlml"),isNaN(+Sn(o[0]).Margin)||(g["!margins"].footer=+Sn(o[0]).Margin);break;case"pagemargins":var Ne=Sn(o[0]);g["!margins"]||rg(g["!margins"]={},"xlml"),isNaN(+Ne.Top)||(g["!margins"].top=+Ne.Top),isNaN(+Ne.Left)||(g["!margins"].left=+Ne.Left),isNaN(+Ne.Right)||(g["!margins"].right=+Ne.Right),isNaN(+Ne.Bottom)||(g["!margins"].bottom=+Ne.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Uoe(B,se,ee,r.slice(j,o.index)):(ee=o,j=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Pe={};return!t.bookSheets&&!t.bookProps&&(Pe.Sheets=h),Pe.SheetNames=p,Pe.Workbook=G,Pe.SSF=li(wn),Pe.Props=Q,Pe.Custprops=B,Pe}function VT(n,e){switch(fC(e=e||{}),e.type||"base64"){case"base64":return BA(wl(n),e);case"binary":case"buffer":case"file":return BA(n,e);case"array":return BA(l0(n),e)}}function qoe(n,e){var t=[];return n.Props&&t.push(pQ(n.Props,e)),n.Custprops&&t.push(gQ(n.Props,n.Custprops)),t.join("")}function Voe(){return""}function Woe(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(kt("NumberFormat",null,{"ss:Format":Fr(wn[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};t.push(kt("Style",a.join(""),s))}),kt("Styles",t.join(""))}function v7(n){return kt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+aC(n.Ref,{r:0,c:0})})}function Xoe(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(v7(i)))}return kt("Names",t.join(""))}function Yoe(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||a.push(v7(o)))}return a.join("")}function $oe(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(kt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(kt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(kt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(kt("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(us("ProtectContents","True")),n["!protect"].objects&&i.push(us("ProtectObjects","True")),n["!protect"].scenarios&&i.push(us("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(us("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(us("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){n["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":kt("WorksheetOptions",i.join(""),{xmlns:dl.x})}function Koe(n){return n.map(function(e){var t=vZ(e.t||""),r=kt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return kt("Comment",r,{"ss:Author":e.a})}).join("")}function Joe(n,e,t,r,i,a,s){if(!n||n.v==null&&n.f==null)return"";var o={};if(n.f&&(o["ss:Formula"]="="+Fr(aC(n.f,s))),n.F&&n.F.slice(0,e.length)==e){var c=Ci(n.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(n.l&&n.l.Target&&(o["ss:HRef"]=Fr(n.l.Target),n.l.Tooltip&&(o["x:HRefScreenTip"]=Fr(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],h=0;h!=u.length;++h)u[h].s.c!=s.c||u[h].s.r!=s.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":p="Number",g=String(n.v);break;case"b":p="Boolean",g=n.v?"1":"0";break;case"e":p="Error",g=Lh[n.v];break;case"d":p="DateTime",g=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||wn[14]);break;case"s":p="String",g=mZ(n.v||"");break}var m=u0(r.cellXfs,n,r);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var w=n.v!=null?g:"",y=n.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(n.c||[]).length>0&&(y+=Koe(n.c)),kt("Cell",y,o)}function Zoe(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=lv(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Qoe(n,e,t,r){if(!n["!ref"])return"";var i=dr(n["!ref"]),a=n["!merges"]||[],s=0,o=[];n["!cols"]&&n["!cols"].forEach(function(S,C){n0(S);var L=!!S.width,R=N5(C,S),D={"ss:Index":C+1};L&&(D["ss:Width"]=o2(R.width)),S.hidden&&(D["ss:Hidden"]="1"),o.push(kt("Column",null,D))});for(var c=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var h=[Zoe(u,(n["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>p)&&!(a[s].s.r>u)&&!(a[s].e.c<p)&&!(a[s].e.r<u)){(a[s].s.c!=p||a[s].s.r!=u)&&(g=!0);break}if(!g){var m={r:u,c:p},w=_n(m),y=c?(n[u]||[])[p]:n[w];h.push(Joe(y,w,n,e,t,r,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function ele(n,e,t){var r=[],i=t.SheetNames[n],a=t.Sheets[i],s=a?Yoe(a,e,n,t):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?Qoe(a,e,n,t):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push($oe(a,e,n,t)),r.join("")}function tle(n,e){e||(e={}),n.SSF||(n.SSF=li(wn)),n.SSF&&(pv(),_5(n.SSF),e.revssf=A5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],u0(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(qoe(n,e)),t.push(Voe()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(kt("Worksheet",ele(r,e,n),{"ss:Name":Fr(n.SheetNames[r])}));return t[2]=Woe(n,e),t[3]=Xoe(n),Qi+kt("Workbook",t.join(""),{xmlns:dl.ss,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:ss":dl.ss,"xmlns:dt":dl.dt,"xmlns:html":dl.html})}function nle(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=XZ(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=YZ(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var rle=[60,1084,2066,2165,2175];function ile(n,e,t,r,i){var a=r,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var c=gh(t,t.l),u=WT[c],h=0;u!=null&&rle.indexOf(c)>-1;)a=gh(t,t.l+2),h=t.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=t.slice(h,t.l+4+a),s.push(o),t.l+=4+a,u=WT[c=gh(t,t.l)];var p=Ga(s);cs(p,0);var g=0;p.lens=[];for(var m=0;m<s.length;++m)p.lens.push(g),g+=s[m].length;if(p.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,i)}function Iu(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=wn[r])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Lh[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v):n.w=cg(n.v):n.w=ac(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&n.t=="n"&&dv(wn[r]||String(r))){var i=Y0(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function vw(n,e,t){return{v:n,ixfe:e,t}}function ale(n,e){var t={opts:{}},r={},i=e.dense?[]:{},a={},s={},o=null,c=[],u="",h={},p,g="",m,w,y,S,C={},L=[],R,D,z=[],q=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},W={},O=function(Ge){return Ge<8?eg[Ge]:Ge<64&&q[Ge-8]||eg[Ge]},Q=function(Ge,et,Qt){var Dt=et.XF.data;if(!(!Dt||!Dt.patternType||!Qt||!Qt.cellStyles)){et.s={},et.s.patternType=Dt.patternType;var Pt;(Pt=s2(O(Dt.icvFore)))&&(et.s.fgColor={rgb:Pt}),(Pt=s2(O(Dt.icvBack)))&&(et.s.bgColor={rgb:Pt})}},B=function(Ge,et,Qt){if(!(ie>1)&&!(Qt.sheetRows&&Ge.r>=Qt.sheetRows)){if(Qt.cellStyles&&et.XF&&et.XF.data&&Q(Ge,et,Qt),delete et.ixfe,delete et.XF,p=Ge,g=_n(Ge),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Ge.r<s.s.r&&(s.s.r=Ge.r),Ge.c<s.s.c&&(s.s.c=Ge.c),Ge.r+1>s.e.r&&(s.e.r=Ge.r+1),Ge.c+1>s.e.c&&(s.e.c=Ge.c+1),Qt.cellFormula&&et.f){for(var Dt=0;Dt<L.length;++Dt)if(!(L[Dt][0].s.c>Ge.c||L[Dt][0].s.r>Ge.r)&&!(L[Dt][0].e.c<Ge.c||L[Dt][0].e.r<Ge.r)){et.F=Fn(L[Dt][0]),(L[Dt][0].s.c!=Ge.c||L[Dt][0].s.r!=Ge.r)&&delete et.f,et.f&&(et.f=""+Rs(L[Dt][1],s,Ge,ge,j));break}}Qt.dense?(i[Ge.r]||(i[Ge.r]=[]),i[Ge.r][Ge.c]=et):i[g]=et}},j={enc:!1,sbcch:0,snames:[],sharedf:C,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(j.password=e.password);var ee,fe=[],ue=[],K=[],le=[],Te=!1,ge=[];ge.SheetNames=j.snames,ge.sharedf=j.sharedf,ge.arrayf=j.arrayf,ge.names=[],ge.XTI=[];var Be=0,ie=0,M=0,H=[],G=[],Y;j.codepage=1200,Jc(1200);for(var se=!1;n.l<n.length-1;){var ye=n.l,ke=n.read_shift(2);if(ke===0&&Be===10)break;var Ce=n.l===n.length?0:n.read_shift(2),Le=WT[ke];if(Le&&Le.f){if(e.bookSheets&&Be===133&&ke!==133)break;if(Be=ke,Le.r===2||Le.r==12){var Re=n.read_shift(2);if(Ce-=2,!j.enc&&Re!==ke&&((Re&255)<<8|Re>>8)!==ke)throw new Error("rt mismatch: "+Re+"!="+ke);Le.r==12&&(n.l+=10,Ce-=10)}var ce={};if(ke===10?ce=Le.f(n,Ce,j):ce=ile(ke,Le,n,Ce,j),ie==0&&[9,521,1033,2057].indexOf(Be)===-1)continue;switch(ke){case 34:t.opts.Date1904=P.WBProps.date1904=ce;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(j.enc||(n.l=0),j.enc=ce,!e.password)throw new Error("File is password-protected");if(ce.valid==null)throw new Error("Encryption scheme unsupported");if(!ce.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=ce;break;case 66:var dt=Number(ce);switch(dt){case 21010:dt=1200;break;case 32768:dt=1e4;break;case 32769:dt=1252;break}Jc(j.codepage=dt),se=!0;break;case 317:j.rrtabid=ce;break;case 25:j.winlocked=ce;break;case 439:t.opts.RefreshAll=ce;break;case 12:t.opts.CalcCount=ce;break;case 16:t.opts.CalcDelta=ce;break;case 17:t.opts.CalcIter=ce;break;case 13:t.opts.CalcMode=ce;break;case 14:t.opts.CalcPrecision=ce;break;case 95:t.opts.CalcSaveRecalc=ce;break;case 15:j.CalcRefMode=ce;break;case 2211:t.opts.FullCalc=ce;break;case 129:ce.fDialog&&(i["!type"]="dialog"),ce.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ce.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:z.push(ce);break;case 430:ge.push([ce]),ge[ge.length-1].XTI=[];break;case 35:case 547:ge[ge.length-1].push(ce);break;case 24:case 536:Y={Name:ce.Name,Ref:Rs(ce.rgce,s,null,ge,j)},ce.itab>0&&(Y.Sheet=ce.itab-1),ge.names.push(Y),ge[0]||(ge[0]=[],ge[0].XTI=[]),ge[ge.length-1].push(ce),ce.Name=="_xlnm._FilterDatabase"&&ce.itab>0&&ce.rgce&&ce.rgce[0]&&ce.rgce[0][0]&&ce.rgce[0][0][0]=="PtgArea3d"&&(G[ce.itab-1]={ref:Fn(ce.rgce[0][0][1][2])});break;case 22:j.ExternCount=ce;break;case 23:ge.length==0&&(ge[0]=[],ge[0].XTI=[]),ge[ge.length-1].XTI=ge[ge.length-1].XTI.concat(ce),ge.XTI=ge.XTI.concat(ce);break;case 2196:if(j.biff<8)break;Y!=null&&(Y.Comment=ce[1]);break;case 18:i["!protect"]=ce;break;case 19:ce!==0&&j.WTF&&console.error("Password verifier: "+ce);break;case 133:a[ce.pos]=ce,j.snames.push(ce.name);break;case 10:{if(--ie)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Fn(s),e.sheetRows&&e.sheetRows<=s.e.r){var gt=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Fn(s),s.e.r=gt}s.e.r++,s.e.c++}fe.length>0&&(i["!merges"]=fe),ue.length>0&&(i["!objects"]=ue),K.length>0&&(i["!cols"]=K),le.length>0&&(i["!rows"]=le),P.Sheets.push(W)}u===""?h=i:r[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ce.BIFFVer]||8),j.biffguess=ce.BIFFVer==0,ce.BIFFVer==0&&ce.dt==4096&&(j.biff=5,se=!0,Jc(j.codepage=28591)),j.biff==8&&ce.BIFFVer==0&&ce.dt==16&&(j.biff=2),ie++)break;if(i=e.dense?[]:{},j.biff<8&&!se&&(se=!0,Jc(j.codepage=e.codepage||1252)),j.biff<5||ce.BIFFVer==0&&ce.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:n.l-Ce,name:u};a[de.pos]=de,j.snames.push(u)}else u=(a[ye]||{name:""}).name;ce.dt==32&&(i["!type"]="chart"),ce.dt==64&&(i["!type"]="macro"),fe=[],ue=[],j.arrayf=L=[],K=[],le=[],Te=!1,W={Hidden:(a[ye]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ce.r]||[])[ce.c]:i[_n({c:ce.c,r:ce.r})])&&++ce.c,R={ixfe:ce.ixfe,XF:z[ce.ixfe]||{},v:ce.val,t:"n"},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e);break;case 5:case 517:R={ixfe:ce.ixfe,XF:z[ce.ixfe],v:ce.val,t:ce.t},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e);break;case 638:R={ixfe:ce.ixfe,XF:z[ce.ixfe],v:ce.rknum,t:"n"},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e);break;case 189:for(var Ne=ce.c;Ne<=ce.C;++Ne){var Pe=ce.rkrec[Ne-ce.c][0];R={ixfe:Pe,XF:z[Pe],v:ce.rkrec[Ne-ce.c][1],t:"n"},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:Ne,r:ce.r},R,e)}break;case 6:case 518:case 1030:{if(ce.val=="String"){o=ce;break}if(R=vw(ce.val,ce.cell.ixfe,ce.tt),R.XF=z[R.ixfe],e.cellFormula){var He=ce.formula;if(He&&He[0]&&He[0][0]&&He[0][0][0]=="PtgExp"){var Ue=He[0][0][1][0],ft=He[0][0][1][1],ot=_n({r:Ue,c:ft});C[ot]?R.f=""+Rs(ce.formula,s,ce.cell,ge,j):R.F=((e.dense?(i[Ue]||[])[ft]:i[ot])||{}).F}else R.f=""+Rs(ce.formula,s,ce.cell,ge,j)}M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B(ce.cell,R,e),o=ce}break;case 7:case 519:if(o)o.val=ce,R=vw(ce,o.cell.ixfe,"s"),R.XF=z[R.ixfe],e.cellFormula&&(R.f=""+Rs(o.formula,s,o.cell,ge,j)),M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B(o.cell,R,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(ce);var St=_n(ce[0].s);if(m=e.dense?(i[ce[0].s.r]||[])[ce[0].s.c]:i[St],e.cellFormula&&m){if(!o||!St||!m)break;m.f=""+Rs(ce[1],s,ce[0],ge,j),m.F=Fn(ce[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;C[_n(o.cell)]=ce[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[_n(o.cell)],(m||{}).f=""+Rs(ce[0],s,p,ge,j)}}break;case 253:R=vw(c[ce.isst].t,ce.ixfe,"s"),c[ce.isst].h&&(R.h=c[ce.isst].h),R.XF=z[R.ixfe],M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e);break;case 513:e.sheetStubs&&(R={ixfe:ce.ixfe,XF:z[ce.ixfe],t:"z"},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e));break;case 190:if(e.sheetStubs)for(var yt=ce.c;yt<=ce.C;++yt){var wt=ce.ixfe[yt-ce.c];R={ixfe:wt,XF:z[wt],t:"z"},M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:yt,r:ce.r},R,e)}break;case 214:case 516:case 4:R=vw(ce.val,ce.ixfe,"s"),R.XF=z[R.ixfe],M>0&&(R.z=H[R.ixfe>>8&63]),Iu(R,e,t.opts.Date1904),B({c:ce.c,r:ce.r},R,e);break;case 0:case 512:ie===1&&(s=ce);break;case 252:c=ce;break;case 1054:if(j.biff==4){H[M++]=ce[1];for(var Tt=0;Tt<M+163&&wn[Tt]!=ce[1];++Tt);Tt>=163&&xh(ce[1],M+163)}else xh(ce[1],ce[0]);break;case 30:{H[M++]=ce;for(var Bt=0;Bt<M+163&&wn[Bt]!=ce;++Bt);Bt>=163&&xh(ce,M+163)}break;case 229:fe=fe.concat(ce);break;case 93:ue[ce.cmo[0]]=j.lastobj=ce;break;case 438:j.lastobj.TxO=ce;break;case 127:j.lastobj.ImData=ce;break;case 440:for(S=ce[0].s.r;S<=ce[0].e.r;++S)for(y=ce[0].s.c;y<=ce[0].e.c;++y)m=e.dense?(i[S]||[])[y]:i[_n({c:y,r:S})],m&&(m.l=ce[1]);break;case 2048:for(S=ce[0].s.r;S<=ce[0].e.r;++S)for(y=ce[0].s.c;y<=ce[0].e.c;++y)m=e.dense?(i[S]||[])[y]:i[_n({c:y,r:S})],m&&m.l&&(m.l.Tooltip=ce[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;m=e.dense?(i[ce[0].r]||[])[ce[0].c]:i[_n(ce[0])];var on=ue[ce[2]];m||(e.dense?(i[ce[0].r]||(i[ce[0].r]=[]),m=i[ce[0].r][ce[0].c]={t:"z"}):m=i[_n(ce[0])]={t:"z"},s.e.r=Math.max(s.e.r,ce[0].r),s.s.r=Math.min(s.s.r,ce[0].r),s.e.c=Math.max(s.e.c,ce[0].c),s.s.c=Math.min(s.s.c,ce[0].c)),m.c||(m.c=[]),w={a:ce[1],t:on.TxO.t},m.c.push(w)}break;case 2173:Wne(z[ce.ixfe],ce.ext);break;case 125:{if(!j.cellStyles)break;for(;ce.e>=ce.s;)K[ce.e--]={width:ce.w/256,level:ce.level||0,hidden:!!(ce.flags&1)},Te||(Te=!0,nC(ce.w/256)),n0(K[ce.e+1])}break;case 520:{var Wt={};ce.level!=null&&(le[ce.r]=Wt,Wt.level=ce.level),ce.hidden&&(le[ce.r]=Wt,Wt.hidden=!0),ce.hpt&&(le[ce.r]=Wt,Wt.hpt=ce.hpt,Wt.hpx=lv(ce.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||rg(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=ce;break;case 161:i["!margins"]||rg(i["!margins"]={}),i["!margins"].header=ce.header,i["!margins"].footer=ce.footer;break;case 574:ce.RTL&&(P.Views[0].RTL=!0);break;case 146:q=ce;break;case 2198:ee=ce;break;case 140:D=ce;break;case 442:u?W.CodeName=ce||W.name:P.WBProps.CodeName=ce||"ThisWorkbook";break}}else Le||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),n.l+=Ce}return t.SheetNames=Hi(a).sort(function(Ct,Ge){return Number(Ct)-Number(Ge)}).map(function(Ct){return a[Ct].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&h["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=h)):t.Preamble=h,t.Sheets&&G.forEach(function(Ct,Ge){t.Sheets[t.SheetNames[Ge]]["!autofilter"]=Ct}),t.Strings=c,t.SSF=li(wn),j.enc&&(t.Encryption=j.enc),ee&&(t.Themes=ee),t.Metadata={},D!==void 0&&(t.Metadata.Country=D),ge.names.length>0&&(P.Names=ge.names),t.Workbook=P,t}var Hx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function sle(n,e,t){var r=hn.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=XR(r,UT,Hx.DSI);for(var a in i)e[a]=i[a]}catch(u){if(t.WTF)throw u}var s=hn.find(n,"/!SummaryInformation");if(s&&s.size>0)try{var o=XR(s,HT,Hx.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(mP(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function ole(n,e){var t=[],r=[],i=[],a=0,s,o=SR(UT,"n"),c=SR(HT,"n");if(n.Props)for(s=Hi(n.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?t:Object.prototype.hasOwnProperty.call(c,s[a])?r:i).push([s[a],n.Props[s[a]]]);if(n.Custprops)for(s=Hi(n.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(n.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?t:Object.prototype.hasOwnProperty.call(c,s[a])?r:i).push([s[a],n.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)SP.indexOf(i[a][0])>-1||gP.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);r.length&&hn.utils.cfb_add(e,"/SummaryInformation",YR(r,Hx.SI,c,HT)),(t.length||u.length)&&hn.utils.cfb_add(e,"/DocumentSummaryInformation",YR(t,Hx.DSI,o,UT,u.length?u:null,Hx.UDI))}function x7(n,e){e||(e={}),fC(e),I4(),e.codepage&&L4(e.codepage);var t,r;if(n.FullPaths){if(hn.find(n,"/encryption"))throw new Error("File is password-protected");t=hn.find(n,"!CompObj"),r=hn.find(n,"/Workbook")||hn.find(n,"/Book")}else{switch(e.type){case"base64":n=vl(wl(n));break;case"binary":n=vl(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}cs(n,0),r={content:n}}var i,a;if(t&&nle(t),e.bookProps&&!e.bookSheets)i={};else{var s=qn?"buffer":"array";if(r&&r.content)i=ale(r.content,e);else if((a=hn.find(n,"PerfectOffice_MAIN"))&&a.content)i=ng.to_workbook(a.content,(e.type=s,e));else if((a=hn.find(n,"NativeContent_MAIN"))&&a.content)i=ng.to_workbook(a.content,(e.type=s,e));else throw(a=hn.find(n,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&hn.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=bre(n))}var o={};return n.FullPaths&&sle(n,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=n),i}function lle(n,e){var t=e||{},r=hn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return hn.utils.cfb_add(r,i,y7(n,t)),t.biff==8&&(n.Props||n.Custprops)&&ole(n,r),t.biff==8&&n.vbaraw&&wre(r,hn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var u2={0:{f:Iae},1:{f:Hae},2:{f:ase},3:{f:Yae},4:{f:qae},5:{f:nse},6:{f:use},7:{f:Zae},8:{f:vse},9:{f:mse},10:{f:pse},11:{f:gse},12:{f:jae},13:{f:ose},14:{f:Kae},15:{f:Wae},16:{f:u7},17:{f:hse},18:{f:ese},19:{f:W4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:hoe},40:{},42:{},43:{f:une},44:{f:lne},45:{f:dne},46:{f:gne},47:{f:pne},48:{},49:{f:FZ},50:{},51:{f:$ne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DP},62:{f:cse},63:{f:ire},64:{f:Mse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Nse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Bae},148:{f:Fae,p:16},151:{f:Sse},152:{},153:{f:coe},154:{},155:{},156:{f:ooe},157:{},158:{},159:{T:1,f:Ete},160:{T:-1},161:{T:1,f:Eg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Xne},336:{T:-1},337:{f:Zne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:BT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:MP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ase},427:{f:Ese},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Cse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Oae},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:BT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gre},633:{T:1},634:{T:-1},635:{T:1,f:dre},636:{T:-1},637:{f:UZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Kse},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Dse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},WT={6:{f:PA},10:{f:pd},12:{f:ca},13:{f:ca},14:{f:Vi},15:{f:Vi},16:{f:Ms},17:{f:Vi},18:{f:Vi},19:{f:ca},20:{f:eL},21:{f:eL},23:{f:MP},24:{f:nL},25:{f:Vi},26:{},27:{},28:{f:Dee},29:{},34:{f:Vi},35:{f:tL},38:{f:Ms},39:{f:Ms},40:{f:Ms},41:{f:Ms},42:{f:Vi},43:{f:Vi},47:{f:Wte},49:{f:oee},51:{f:ca},60:{},61:{f:nee},64:{f:Vi},65:{f:see},66:{f:ca},77:{},80:{},81:{},82:{},85:{f:ca},89:{},90:{},91:{},92:{f:VQ},93:{f:Oee},94:{},95:{f:Vi},96:{},97:{},99:{f:Vi},125:{f:DP},128:{f:_ee},129:{f:XQ},130:{f:ca},131:{f:Vi},132:{f:Vi},133:{f:YQ},134:{},140:{f:Vee},141:{f:ca},144:{},146:{f:Yee},151:{},152:{},153:{},154:{},155:{},156:{f:ca},157:{},158:{},160:{f:tte},161:{f:Jee},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:xee},190:{f:yee},193:{f:pd},197:{},198:{},199:{},200:{},201:{},202:{f:Vi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ca},220:{},221:{f:Vi},222:{},224:{f:wee},225:{f:qQ},226:{f:pd},227:{},229:{f:Fee},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:KQ},253:{f:cee},255:{f:ZQ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:AP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Vi},353:{f:pd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Cee},431:{f:Vi},432:{},433:{},434:{},437:{},438:{f:Hee},439:{f:Vi},440:{f:zee},441:{},442:{f:Xy},443:{},444:{f:ca},445:{},446:{},448:{f:pd},449:{f:tee,r:2},450:{f:pd},512:{f:JR},513:{f:ete},515:{f:Eee},516:{f:fee},517:{f:QR},519:{f:nte},520:{f:QQ},523:{},545:{f:rL},549:{f:KR},566:{},574:{f:iee},638:{f:vee},659:{},1048:{},1054:{f:dee},1084:{},1212:{f:Lee},2048:{f:Gee},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:pw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:$ee,r:12},2173:{f:Vne,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Vi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Ree,r:12},2197:{},2198:{f:Une,r:12},2199:{},2200:{},2201:{},2202:{f:Iee,r:12},2203:{f:pd},2204:{},2205:{},2206:{},2207:{},2211:{f:eee},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ca},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Zee},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Xee},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:JR},1:{},2:{f:ote},3:{f:ate},4:{f:ite},5:{f:QR},7:{f:cte},8:{},9:{f:pw},11:{},22:{f:ca},30:{f:gee},31:{},32:{},33:{f:rL},36:{},37:{f:KR},50:{f:ute},62:{},52:{},67:{},68:{f:ca},69:{},86:{},126:{},127:{f:rte},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:fte},223:{},234:{},354:{},421:{},518:{f:PA},521:{f:pw},536:{f:nL},547:{f:tL},561:{},579:{},1030:{f:PA},1033:{f:pw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Rt(n,e,t,r){var i=e;if(!isNaN(i)){var a=r||(t||[]).length||0,s=n.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&G4(t)&&n.push(t)}}function cle(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return Rt(n,e,t,i);var a=e;if(!isNaN(a)){for(var s=t.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var h=n.next(4);for(h.write_shift(2,a),h.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u;c<i;){for(h=n.next(4),h.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;h.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u}}}function Jy(n,e,t){return n||(n=at(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function ule(n,e,t,r){var i=at(9);return Jy(i,n,e),EP(t,r||"b",i),i}function fle(n,e,t){var r=at(8+2*t.length);return Jy(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function hle(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ka(oi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Rt(n,2,lte(t,r,i)):Rt(n,3,ste(t,r,i));return;case"b":case"e":Rt(n,5,ule(t,r,e.v,e.t));return;case"s":case"str":Rt(n,4,fle(t,r,(e.v||"").slice(0,255)));return}Rt(n,1,Jy(null,t,r))}function dle(n,e,t,r){var i=Array.isArray(e),a=dr(e["!ref"]||"A1"),s,o="",c=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Fn(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Ji(u);for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(c[h]=Ti(h)),s=c[h]+o;var p=i?(e[u]||[])[h]:e[s];p&&hle(n,p,u,h)}}}function ple(n,e){for(var t=e||{},r=Fo(),i=0,a=0;a<n.SheetNames.length;++a)n.SheetNames[a]==t.sheet&&(i=a);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Rt(r,t.biff==4?1033:t.biff==3?521:9,Q4(n,16,t)),dle(r,n.Sheets[n.SheetNames[i]],i,t),Rt(r,10),r.end()}function gle(n,e,t){Rt(n,49,lee({sz:12,name:"Arial"},t))}function mle(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Rt(n,1054,pee(i,e[i],t))})}function vle(n,e){var t=at(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Rt(n,2151,t),t=at(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),RP(dr(e["!ref"]||"A1"),t),t.write_shift(4,4),Rt(n,2152,t)}function xle(n,e){for(var t=0;t<16;++t)Rt(n,224,ZR({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Rt(n,224,ZR(r,0,e))})}function yle(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Rt(n,440,jee(r)),r[1].Tooltip&&Rt(n,2048,qee(r))}delete e["!links"]}function ble(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Rt(n,125,Kee(N5(i,r),i))})}}function wle(n,e,t,r,i){var a=16+u0(i.cellXfs,e,i);if(e.v==null&&!e.bf){Rt(n,513,dg(t,r,a));return}if(e.bf)Rt(n,6,Xie(e,t,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?ka(oi(e.v)):e.v;Rt(n,515,Tee(t,r,s,a));break;case"b":case"e":Rt(n,517,Aee(t,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=oC(i.Strings,e.v,i.revStrings);Rt(n,253,uee(t,r,o,a))}else Rt(n,516,hee(t,r,(e.v||"").slice(0,255),a,i));break;default:Rt(n,513,dg(t,r,a))}}function _le(n,e,t){var r=Fo(),i=t.SheetNames[n],a=t.Sheets[i]||{},s=(t||{}).Workbook||{},o=(s.Sheets||[])[n]||{},c=Array.isArray(a),u=e.biff==8,h,p="",g=[],m=dr(a["!ref"]||"A1"),w=u?65536:16384;if(m.e.c>255||m.e.r>=w){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,w-1)}Rt(r,2057,Q4(t,16,e)),Rt(r,13,Jl(1)),Rt(r,12,Jl(100)),Rt(r,15,eo(!0)),Rt(r,17,eo(!1)),Rt(r,16,fg(.001)),Rt(r,95,eo(!0)),Rt(r,42,eo(!1)),Rt(r,43,eo(!1)),Rt(r,130,Jl(1)),Rt(r,128,See()),Rt(r,131,eo(!1)),Rt(r,132,eo(!1)),u&&ble(r,a["!cols"]),Rt(r,512,mee(m,e)),u&&(a["!links"]=[]);for(var y=m.s.r;y<=m.e.r;++y){p=Ji(y);for(var S=m.s.c;S<=m.e.c;++S){y===m.s.r&&(g[S]=Ti(S)),h=g[S]+p;var C=c?(a[y]||[])[S]:a[h];C&&(wle(r,C,y,S,e),u&&C.l&&a["!links"].push([h,C.l]))}}var L=o.CodeName||o.name||i;return u&&Rt(r,574,aee((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Rt(r,229,Pee(a["!merges"])),u&&yle(r,a),Rt(r,442,TP(L)),u&&vle(r,a),Rt(r,10),r.end()}function Sle(n,e,t){var r=Fo(),i=(n||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=t.biff==8,c=t.biff==5;if(Rt(r,2057,Q4(n,5,t)),t.bookType=="xla"&&Rt(r,135),Rt(r,225,o?Jl(1200):null),Rt(r,193,AQ(2)),c&&Rt(r,191),c&&Rt(r,192),Rt(r,226),Rt(r,92,WQ("SheetJS",t)),Rt(r,66,Jl(o?1200:1252)),o&&Rt(r,353,Jl(0)),o&&Rt(r,448),Rt(r,317,Qee(n.SheetNames.length)),o&&n.vbaraw&&Rt(r,211),o&&n.vbaraw){var u=s.CodeName||"ThisWorkbook";Rt(r,442,TP(u))}Rt(r,156,Jl(17)),Rt(r,25,eo(!1)),Rt(r,18,eo(!1)),Rt(r,19,Jl(0)),o&&Rt(r,431,eo(!1)),o&&Rt(r,444,Jl(0)),Rt(r,61,ree()),Rt(r,64,eo(!1)),Rt(r,141,Jl(0)),Rt(r,34,eo(toe(n)=="true")),Rt(r,14,eo(!0)),o&&Rt(r,439,eo(!1)),Rt(r,218,Jl(0)),gle(r,n,t),mle(r,n.SSF,t),xle(r,t),o&&Rt(r,352,eo(!1));var h=r.end(),p=Fo();o&&Rt(p,140,Wee()),o&&t.Strings&&cle(p,252,JQ(t.Strings)),Rt(p,10);var g=p.end(),m=Fo(),w=0,y=0;for(y=0;y<n.SheetNames.length;++y)w+=(o?12:11)+(o?2:1)*n.SheetNames[y].length;var S=h.length+w+g.length;for(y=0;y<n.SheetNames.length;++y){var C=a[y]||{};Rt(m,133,$Q({pos:S,hs:C.Hidden||0,dt:0,name:n.SheetNames[y]},t)),S+=e[y].length}var L=m.end();if(w!=L.length)throw new Error("BS8 "+w+" != "+L.length);var R=[];return h.length&&R.push(h),L.length&&R.push(L),g.length&&R.push(g),Ga(R)}function Ale(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=li(wn)),n&&n.SSF&&(pv(),_5(n.SSF),t.revssf=A5(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hC(t),t.cellXfs=[],u0(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=_le(i,t,n);return r.unshift(Sle(n,r,t)),Ga(r)}function y7(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Po(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Ale(n,e);case 4:case 3:case 2:return ple(n,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function dL(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=n.match(/<\/table/i),s=i.index,o=a&&a.index||n.length,c=lZ(n.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(s=0;s<c.length;++s){var y=c[s].trim(),S=y.slice(0,3).toLowerCase();if(S=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}h=0;continue}if(!(S!="<td"&&S!="<th")){var C=y.split(/<\/t[dh]>/i);for(o=0;o<C.length;++o){var L=C[o].trim();if(L.match(/<t[dh]/i)){for(var R=L,D=0;R.charAt(0)=="<"&&(D=R.indexOf(">"))>-1;)R=R.slice(D+1);for(var z=0;z<w.length;++z){var q=w[z];q.s.c==h&&q.s.r<u&&u<=q.e.r&&(h=q.e.c+1,z=-1)}var P=Sn(L.slice(0,L.indexOf(">")));g=P.colspan?+P.colspan:1,((p=+P.rowspan)>1||g>1)&&w.push({s:{r:u,c:h},e:{r:u+(p||1)-1,c:h+g-1}});var W=P.t||P["data-t"]||"";if(!R.length){h+=g;continue}if(R=GF(R),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!R.length){h+=g;continue}var O={t:"s",v:R};t.raw||!R.trim().length||W=="s"||(R==="TRUE"?O={t:"b",v:!0}:R==="FALSE"?O={t:"b",v:!1}:isNaN(nu(R))?isNaN(sv(R).getDate())||(O={t:"d",v:oi(R)},t.cellDates||(O={t:"n",v:ka(O.v)}),O.z=t.dateNF||wn[14]):O={t:"n",v:nu(R)}),t.dense?(r[u]||(r[u]=[]),r[u][h]=O):r[_n({r:u,c:h})]=O,h+=g}}}}return r["!ref"]=Fn(m),w.length&&(r["!merges"]=w),r}function Ele(n,e,t,r){for(var i=n["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var h=_n({r:t,c:s}),p=r.dense?(n[t]||[])[s]:n[h],g=p&&p.v!=null&&(p.h||H4(p.w||(Sh(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(r.id||"sjs")+"-"+h,a.push(kt("td",g,m))}}var w="<tr>";return w+a.join("")+"</tr>"}var Tle='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Cle="</body></html>";function kle(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return c0(dL(t[0],e),e);var r=gC();return t.forEach(function(i,a){mC(r,dL(i,e),"Sheet"+(a+1))}),r}function Nle(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function b7(n,e){var t=e||{},r=t.header!=null?t.header:Tle,i=t.footer!=null?t.footer:Cle,a=[r],s=Po(n["!ref"]);t.dense=Array.isArray(n),a.push(Nle(n,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(Ele(n,s,o,t));return a.push("</table>"+i),a.join("")}function w7(n,e,t){var r=t||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Ci(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(n["!ref"]){var h=Po(n["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var p=[],g=0,m=n["!rows"]||(n["!rows"]=[]),w=0,y=0,S=0,C=0,L=0,R=0;for(n["!cols"]||(n["!cols"]=[]);w<o.length&&y<c;++w){var D=o[w];if(pL(D)){if(r.display)continue;m[y]={hidden:!0}}var z=D.children;for(S=C=0;S<z.length;++S){var q=z[S];if(!(r.display&&pL(q))){var P=q.hasAttribute("data-v")?q.getAttribute("data-v"):q.hasAttribute("v")?q.getAttribute("v"):GF(q.innerHTML),W=q.getAttribute("data-z")||q.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==C+a&&O.s.r<y+i&&y+i<=O.e.r&&(C=O.e.c+1-a,g=-1)}R=+q.getAttribute("colspan")||1,((L=+q.getAttribute("rowspan")||1)>1||R>1)&&p.push({s:{r:y+i,c:C+a},e:{r:y+i+(L||1)-1,c:C+a+(R||1)-1}});var Q={t:"s",v:P},B=q.getAttribute("data-t")||q.getAttribute("t")||"";P!=null&&(P.length==0?Q.t=B||"z":r.raw||P.trim().length==0||B=="s"||(P==="TRUE"?Q={t:"b",v:!0}:P==="FALSE"?Q={t:"b",v:!1}:isNaN(nu(P))?isNaN(sv(P).getDate())||(Q={t:"d",v:oi(P)},r.cellDates||(Q={t:"n",v:ka(Q.v)}),Q.z=r.dateNF||wn[14]):Q={t:"n",v:nu(P)})),Q.z===void 0&&W!=null&&(Q.z=W);var j="",ee=q.getElementsByTagName("A");if(ee&&ee.length)for(var fe=0;fe<ee.length&&!(ee[fe].hasAttribute("href")&&(j=ee[fe].getAttribute("href"),j.charAt(0)!="#"));++fe);j&&j.charAt(0)!="#"&&(Q.l={Target:j}),r.dense?(n[y+i]||(n[y+i]=[]),n[y+i][C+a]=Q):n[_n({c:C+a,r:y+i})]=Q,u.e.c<C+a&&(u.e.c=C+a),C+=R}}++y}return p.length&&(n["!merges"]=(n["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+i),n["!ref"]=Fn(u),y>=c&&(n["!fullref"]=Fn((u.e.r=o.length-w+y-1+i,u))),n}function _7(n,e){var t=e||{},r=t.dense?[]:{};return w7(r,n,e)}function Rle(n,e){return c0(_7(n,e),e)}function pL(n){var e="",t=Lle(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Lle(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ile(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=fr(e.replace(/<[^>]*>/g,""));return[t]}var gL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function S7(n,e){var t=e||{},r=z4(n),i=[],a,s,o={name:""},c="",u=0,h,p,g={},m=[],w=t.dense?[]:{},y,S,C={value:""},L="",R=0,D=[],z=-1,q=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},W=0,O={},Q=[],B={},j=0,ee=0,fe=[],ue=1,K=1,le=[],Te={Names:[]},ge={},Be=["",""],ie=[],M={},H="",G=0,Y=!1,se=!1,ye=0;for(i2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=i2.exec(r);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?w["!ref"]=Fn(P):w["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=P.e.r&&(w["!fullref"]=w["!ref"],P.e.r=t.sheetRows-1,w["!ref"]=Fn(P)),Q.length&&(w["!merges"]=Q),fe.length&&(w["!rows"]=fe),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),g[h.name]=w,se=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=Sn(y[0],!1),z=q=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,w=t.dense?[]:{},Q=[],fe=[],se=!0);break;case"table-row-group":y[1]==="/"?--W:++W;break;case"table-row":case"":if(y[1]==="/"){z+=ue,ue=1;break}if(p=Sn(y[0],!1),p.?z=p.-1:z==-1&&(z=0),ue=+p["number-rows-repeated"]||1,ue<10)for(ye=0;ye<ue;++ye)W>0&&(fe[z+ye]={level:W});q=-1;break;case"covered-table-cell":y[1]!=="/"&&++q,t.sheetStubs&&(t.dense?(w[z]||(w[z]=[]),w[z][q]={t:"z"}):w[_n({r:z,c:q})]={t:"z"}),L="",D=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++q,C=Sn(y[0],!1),K=parseInt(C["number-columns-repeated"]||"1",10),S={t:"z",v:null},C.formula&&t.cellFormula!=!1&&(S.f=uL(fr(C.formula))),(C.||C["value-type"])=="string"&&(S.t="s",S.v=fr(C["string-value"]||""),t.dense?(w[z]||(w[z]=[]),w[z][q]=S):w[_n({r:z,c:q})]=S),q+=K-1;else if(y[1]!=="/"){++q,L="",R=0,D=[],K=1;var ke=ue?z+ue-1:z;if(q>P.e.c&&(P.e.c=q),q<P.s.c&&(P.s.c=q),z<P.s.r&&(P.s.r=z),ke>P.e.r&&(P.e.r=ke),C=Sn(y[0],!1),ie=[],M={},S={t:C.||C["value-type"],v:null},t.cellFormula)if(C.formula&&(C.formula=fr(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(j=parseInt(C["number-matrix-rows-spanned"],10)||0,ee=parseInt(C["number-matrix-columns-spanned"],10)||0,B={s:{r:z,c:q},e:{r:z+j-1,c:q+ee-1}},S.F=Fn(B),le.push([B,S.F])),C.formula)S.f=uL(C.formula);else for(ye=0;ye<le.length;++ye)z>=le[ye][0].s.r&&z<=le[ye][0].e.r&&q>=le[ye][0].s.c&&q<=le[ye][0].e.c&&(S.F=le[ye][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(j=parseInt(C["number-rows-spanned"],10)||0,ee=parseInt(C["number-columns-spanned"],10)||0,B={s:{r:z,c:q},e:{r:z+j-1,c:q+ee-1}},Q.push(B)),C["number-columns-repeated"]&&(K=parseInt(C["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=ai(C["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(C.value);break;case"percentage":S.t="n",S.v=parseFloat(C.value);break;case"currency":S.t="n",S.v=parseFloat(C.value);break;case"date":S.t="d",S.v=oi(C["date-value"]),t.cellDates||(S.t="n",S.v=ka(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=aZ(C["time-value"])/86400,t.cellDates&&(S.t="d",S.v=E5(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(C.);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",C["string-value"]!=null&&(L=fr(C["string-value"]),D=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(Y=!1,S.t==="s"&&(S.v=L||"",D.length&&(S.R=D),Y=R==0),ge.Target&&(S.l=ge),ie.length>0&&(S.c=ie,ie=[]),L&&t.cellText!==!1&&(S.w=L),Y&&(S.t="z",delete S.v),(!Y||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=z))for(var Ce=0;Ce<ue;++Ce){if(K=parseInt(C["number-columns-repeated"]||"1",10),t.dense)for(w[z+Ce]||(w[z+Ce]=[]),w[z+Ce][q]=Ce==0?S:li(S);--K>0;)w[z+Ce][q+K]=li(S);else for(w[_n({r:z+Ce,c:q})]=S;--K>0;)w[_n({r:z+Ce,c:q+K})]=li(S);P.e.c<=q&&(P.e.c=q)}K=parseInt(C["number-columns-repeated"]||"1",10),q+=K-1,K=0,S={},L="",D=[]}ge={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((a=i.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((a=i.pop())[0]!==y[3])throw"Bad state: "+a;M.t=L,D.length&&(M.R=D),M.a=H,ie.push(M)}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);H="",G=0,L="",R=0,D=[];break;case"creator":y[1]==="/"?H=r.slice(G,y.index):G=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((a=i.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&i.push([y[3],!1]);L="",R=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(O[o.name]=c,(a=i.pop())[0]!==y[3])throw"Bad state: "+a}else y[0].charAt(y[0].length-2)!=="/"&&(c="",o=Sn(y[0],!1),i.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Sn(y[0],!1),c+=gL[y[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Sn(y[0],!1),c+=gL[y[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(u,y.index);break}else u=y.index+y[0].length;break;case"named-range":s=Sn(y[0],!1),Be=OA(s["cell-range-address"]);var Le={Name:s.name,Ref:Be[0]+"!"+Be[1]};se&&(Le.Sheet=m.length),Te.Names.push(Le);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(y[1]==="/"&&(!C||!C["string-value"])){var Re=Ile(r.slice(R,y.index));L=(L.length>0?L+`
`:"")+Re[0]}else Sn(y[0],!1),R=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{Be=OA(Sn(y[0])["target-range-address"]),g[Be[0]]["!autofilter"]={ref:Be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(ge=Sn(y[0],!1),!ge.href)break;ge.Target=fr(ge.href),delete ge.href,ge.Target.charAt(0)=="#"&&ge.Target.indexOf(".")>-1?(Be=OA(ge.Target.slice(1)),ge.Target="#"+Be[0]+"!"+Be[1]):ge.Target.match(/^\.\.[\\\/]/)&&(ge.Target=ge.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(y)}}var ce={Sheets:g,SheetNames:m,Workbook:Te};return t.bookSheets&&delete ce.Sheets,ce}function mL(n,e){e=e||{},Gl(n,"META-INF/manifest.xml")&&aQ(la(n,"META-INF/manifest.xml"),e);var t=xl(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=S7(qr(t),e);return Gl(n,"meta.xml")&&(r.Props=dP(la(n,"meta.xml"))),r}function vL(n,e){return S7(n,e)}var Mle=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+r2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Qi+e}})(),xL=(function(){var n=function(a){return Fr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(a,s,o){var c=[];c.push('      <table:table table:name="'+Fr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,p=Po(a["!ref"]||"A1"),g=a["!merges"]||[],m=0,w=Array.isArray(a);if(a["!cols"])for(h=0;h<=p.e.c;++h)c.push("        <table:table-column"+(a["!cols"][h]?' table:style-name="co'+a["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",S=a["!rows"]||[];for(u=0;u<p.s.r;++u)y=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+y+`>
`),h=0;h<p.s.c;++h)c.push(e);for(;h<=p.e.c;++h){var C=!1,L={},R="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>h)&&!(g[m].s.r>u)&&!(g[m].e.c<h)&&!(g[m].e.r<u)){(g[m].s.c!=h||g[m].s.r!=u)&&(C=!0),L["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,L["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(C){c.push(t);continue}var D=_n({r:u,c:h}),z=w?(a[u]||[])[h]:a[D];if(z&&z.f&&(L["table:formula"]=Fr(Qie(z.f)),z.F&&z.F.slice(0,D.length)==D)){var q=Po(z.F);L["table:number-matrix-columns-spanned"]=q.e.c-q.s.c+1,L["table:number-matrix-rows-spanned"]=q.e.r-q.s.r+1}if(!z){c.push(e);continue}switch(z.t){case"b":R=z.v?"TRUE":"FALSE",L["office:value-type"]="boolean",L["office:boolean-value"]=z.v?"true":"false";break;case"n":R=z.w||String(z.v||0),L["office:value-type"]="float",L["office:value"]=z.v||0;break;case"s":case"str":R=z.v==null?"":z.v,L["office:value-type"]="string";break;case"d":R=z.w||oi(z.v).toISOString(),L["office:value-type"]="date",L["office:date-value"]=oi(z.v).toISOString(),L["table:style-name"]="ce1";break;default:c.push(e);continue}var P=n(R);if(z.l&&z.l.Target){var W=z.l.Target;W=W.charAt(0)=="#"?"#"+eae(W.slice(1)):W,W.charAt(0)!="#"&&!W.match(/^\w+:/)&&(W="../"+W),P=kt("text:a",P,{"xlink:href":W.replace(/&/g,"&amp;")})}c.push("          "+kt("table:table-cell",kt("text:p",P,{}),L)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;n0(p),p.ods=o;var g=u["!cols"][h].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var p=u["!rows"][h].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var c=[Qi],u=r2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=r2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(hP().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)c.push(r(s.Sheets[s.SheetNames[p]],s,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function A7(n,e){if(e.bookType=="fods")return xL(n,e);var t=O4(),r="",i=[],a=[];return r="mimetype",On(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",On(t,r,xL(n,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",On(t,r,Mle(n,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",On(t,r,Qi+hP()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",On(t,r,lQ(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",On(t,r,sQ(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function XT(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):qr(l0(n))}function Dle(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):vl(tf(n))}function Fle(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function i0(n){var e=n.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function yL(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function Ple(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function Ole(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)n[e+a]=i&255;n[e+15]|=t>=0?0:128}function f2(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Ir(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Ui(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function mr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=f2(n,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=t[0];n[t[0]++]>=128;);o=n.slice(c,t[0])}break;case 5:s=4,o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=f2(n,t),o=n.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ns(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Ir(r*8+i.type)),i.type==2&&e.push(Ir(i.data.length)),e.push(i.data))})}),i0(e)}function uC(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function zl(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=f2(n,r),a=mr(n.slice(r[0],r[0]+i));r[0]+=i;var s={id:Ui(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=mr(o.data),u=Ui(c[3][0].data);s.messages.push({meta:c,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Ui(a[3][0].data)>>>0>0),t.push(s)}return t}function bm(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Ir(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Ir(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Ir(s.data.length)}],r[2].push({data:ns(s.meta),type:2})});var a=ns(r);e.push(Ir(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),i0(e)}function Ble(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=f2(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[i0(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var h=i0(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function jl(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Ble(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return i0(e)}function wm(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var a=Ir(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,t+=r}return i0(e)}function Ule(n,e,t,r){var i=pg(n),a=i.getUint32(4,!0),s=(r>1?12:8)+yL(a&(r>1?3470:398))*4,o=-1,c=-1,u=NaN,h=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=yL(a&(r>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(h.setTime(h.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var p;switch(n[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:t[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return p}function Hle(n,e,t){var r=pg(n),i=r.getUint32(8,!0),a=12,s=-1,o=-1,c=NaN,u=NaN,h=new Date(2001,0,1);i&1&&(c=Ple(n,a),a+=16),i&2&&(u=r.getFloat64(a,!0),a+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var p;switch(n[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return p}function UA(n,e){var t=new Uint8Array(32),r=pg(t),i=12,a=0;switch(t[0]=5,n.t){case"n":t[1]=2,Ole(t,i,n.v),a|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,a,!0),t.slice(0,i)}function HA(n,e){var t=new Uint8Array(32),r=pg(t),i=12,a=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),a|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,a,!0),t.slice(0,i)}function zle(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return Ule(n,e,t,n[0]);case 5:return Hle(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function ks(n){var e=mr(n);return f2(e[1][0].data)}function bL(n,e){var t=mr(e.data),r=Ui(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=mr(s.data),c=Ui(o[1][0].data)>>>0;switch(r){case 1:a[c]=XT(o[3][0].data);break;case 8:{var u=n[ks(o[9][0].data)][0],h=mr(u.data),p=n[ks(h[1][0].data)][0],g=Ui(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=mr(p.data);a[c]=m[3].map(function(w){return XT(w.data)}).join("")}break}}),a}function jle(n,e){var t,r,i,a,s,o,c,u,h,p,g,m,w,y,S=mr(n),C=Ui(S[1][0].data)>>>0,L=Ui(S[2][0].data)>>>0,R=((r=(t=S[8])==null?void 0:t[0])==null?void 0:r.data)&&Ui(S[8][0].data)>0||!1,D,z;if((a=(i=S[7])==null?void 0:i[0])!=null&&a.data&&e!=0)D=(o=(s=S[7])==null?void 0:s[0])==null?void 0:o.data,z=(u=(c=S[6])==null?void 0:c[0])==null?void 0:u.data;else if((p=(h=S[4])==null?void 0:h[0])!=null&&p.data&&e!=1)D=(m=(g=S[4])==null?void 0:g[0])==null?void 0:m.data,z=(y=(w=S[3])==null?void 0:w[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var q=R?4:1,P=pg(D),W=[],O=0;O<D.length/2;++O){var Q=P.getUint16(O*2,!0);Q<65535&&W.push([O,Q])}if(W.length!=L)throw"Expected ".concat(L," cells, found ").concat(W.length);var B=[];for(O=0;O<W.length-1;++O)B[W[O][0]]=z.subarray(W[O][1]*q,W[O+1][1]*q);return W.length>=1&&(B[W[W.length-1][0]]=z.subarray(W[W.length-1][1]*q)),{R:C,cells:B}}function Gle(n,e){var t,r=mr(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?Ui(r[7][0].data)>>>0>0?1:0:-1,a=uC(r[5],function(s){return jle(s,i)});return{nrows:Ui(r[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function qle(n,e,t){var r,i=mr(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Ui(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Ui(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Fn(a);var s=mr(i[4][0].data),o=bL(n,n[ks(s[4][0].data)][0]),c=(r=s[17])!=null&&r[0]?bL(n,n[ks(s[17][0].data)][0]):[],u=mr(s[3][0].data),h=0;u[1].forEach(function(p){var g=mr(p.data),m=n[ks(g[2][0].data)][0],w=Ui(m.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var y=Gle(n,m);y.data.forEach(function(S,C){S.forEach(function(L,R){var D=_n({r:h+C,c:R}),z=zle(L,o,c);z&&(t[D]=z)})}),h+=y.nrows})}function Vle(n,e){var t=mr(e.data),r={"!ref":"A1"},i=n[ks(t[2][0].data)],a=Ui(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return qle(n,i[0],r),r}function Wle(n,e){var t,r=mr(e.data),i={name:(t=r[1])!=null&&t[0]?XT(r[1][0].data):"",sheets:[]},a=uC(r[2],ks);return a.forEach(function(s){n[s].forEach(function(o){var c=Ui(o.meta[1][0].data);c==6e3&&i.sheets.push(Vle(n,o))})}),i}function Xle(n,e){var t=gC(),r=mr(e.data),i=uC(r[1],ks);if(i.forEach(function(a){n[a].forEach(function(s){var o=Ui(s.meta[1][0].data);if(o==2){var c=Wle(n,s);c.sheets.forEach(function(u,h){mC(t,u,h==0?c.name:c.name+"_"+h,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function zA(n){var e,t,r,i,a={},s=[];if(n.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=jl(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var h;try{h=zl(u)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){a[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(r=(t=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Ui(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(c){a[c].forEach(function(u){var h=Ui(u.meta[1][0].data)>>>0;if(h==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Xle(a,o)}function Yle(n,e,t){var r,i,a,s;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=n[8])==null?void 0:a[0])==null?void 0:s.data)&&Ui(n[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=pg(n[7][0].data),h=0,p=[],g=pg(n[4][0].data),m=0,w=[],y=0;y<e.length;++y){if(e[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,h,!0),g.setUint16(y*2,m,!0);var S,C;switch(typeof e[y]){case"string":S=UA({t:"s",v:e[y]},t),C=HA({t:"s",v:e[y]},t);break;case"number":S=UA({t:"n",v:e[y]},t),C=HA({t:"n",v:e[y]},t);break;case"boolean":S=UA({t:"b",v:e[y]},t),C=HA({t:"b",v:e[y]},t);break;default:throw new Error("Unsupported value "+e[y])}p.push(S),h+=S.length,w.push(C),m+=C.length,++c}for(n[2][0].data=Ir(c);y<n[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return n[6][0].data=i0(p),n[3][0].data=i0(w),c}function $le(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Po(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Fn(r)));var a=F_(t,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(H){return H.forEach(function(G){typeof G=="string"&&s.push(G)})});var o={},c=[],u=hn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(H,G){return[H,u.FullPaths[G]]}).forEach(function(H){var G=H[0],Y=H[1];if(G.type==2&&G.name.match(/\.iwa/)){var se=G.content,ye=jl(se),ke=zl(ye);ke.forEach(function(Ce){c.push(Ce.id),o[Ce.id]={deps:[],location:Y,type:Ui(Ce.messages[0].meta[1][0].data)}})}}),c.sort(function(H,G){return H-G});var h=c.filter(function(H){return H>1}).map(function(H){return[H,Ir(H)]});u.FileIndex.map(function(H,G){return[H,u.FullPaths[G]]}).forEach(function(H){var G=H[0];if(H[1],!!G.name.match(/\.iwa/)){var Y=zl(jl(G.content));Y.forEach(function(se){se.messages.forEach(function(ye){h.forEach(function(ke){se.messages.some(function(Ce){return Ui(Ce.meta[1][0].data)!=11006&&Fle(Ce.data,ke[1])})&&o[ke[0]].deps.push(se.id)})})})}});for(var p=hn.find(u,o[1].location),g=zl(jl(p.content)),m,w=0;w<g.length;++w){var y=g[w];y.id==1&&(m=y)}var S=ks(mr(m.messages[0].data)[1][0].data);for(p=hn.find(u,o[S].location),g=zl(jl(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(m=y);for(S=ks(mr(m.messages[0].data)[2][0].data),p=hn.find(u,o[S].location),g=zl(jl(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(m=y);for(S=ks(mr(m.messages[0].data)[2][0].data),p=hn.find(u,o[S].location),g=zl(jl(p.content)),w=0;w<g.length;++w)y=g[w],y.id==S&&(m=y);var C=mr(m.messages[0].data);{C[6][0].data=Ir(r.e.r+1),C[7][0].data=Ir(r.e.c+1);var L=ks(C[46][0].data),R=hn.find(u,o[L].location),D=zl(jl(R.content));{for(var z=0;z<D.length&&D[z].id!=L;++z);if(D[z].id!=L)throw"Bad ColumnRowUIDMapArchive";var q=mr(D[z].messages[0].data);q[1]=[],q[2]=[],q[3]=[];for(var P=0;P<=r.e.c;++P){var W=[];W[1]=W[2]=[{type:0,data:Ir(P+420690)}],q[1].push({type:2,data:ns(W)}),q[2].push({type:0,data:Ir(P)}),q[3].push({type:0,data:Ir(P)})}q[4]=[],q[5]=[],q[6]=[];for(var O=0;O<=r.e.r;++O)W=[],W[1]=W[2]=[{type:0,data:Ir(O+726270)}],q[4].push({type:2,data:ns(W)}),q[5].push({type:0,data:Ir(O)}),q[6].push({type:0,data:Ir(O)});D[z].messages[0].data=ns(q)}R.content=wm(bm(D)),R.size=R.content.length,delete C[46];var Q=mr(C[4][0].data);{Q[7][0].data=Ir(r.e.r+1);var B=mr(Q[1][0].data),j=ks(B[2][0].data);R=hn.find(u,o[j].location),D=zl(jl(R.content));{if(D[0].id!=j)throw"Bad HeaderStorageBucket";var ee=mr(D[0].messages[0].data);for(O=0;O<a.length;++O){var fe=mr(ee[2][0].data);fe[1][0].data=Ir(O),fe[4][0].data=Ir(a[O].length),ee[2][O]={type:ee[2][0].type,data:ns(fe)}}D[0].messages[0].data=ns(ee)}R.content=wm(bm(D)),R.size=R.content.length;var ue=ks(Q[2][0].data);R=hn.find(u,o[ue].location),D=zl(jl(R.content));{if(D[0].id!=ue)throw"Bad HeaderStorageBucket";for(ee=mr(D[0].messages[0].data),P=0;P<=r.e.c;++P)fe=mr(ee[2][0].data),fe[1][0].data=Ir(P),fe[4][0].data=Ir(r.e.r+1),ee[2][P]={type:ee[2][0].type,data:ns(fe)};D[0].messages[0].data=ns(ee)}R.content=wm(bm(D)),R.size=R.content.length;var K=ks(Q[4][0].data);(function(){for(var H=hn.find(u,o[K].location),G=zl(jl(H.content)),Y,se=0;se<G.length;++se){var ye=G[se];ye.id==K&&(Y=ye)}var ke=mr(Y.messages[0].data);{ke[3]=[];var Ce=[];s.forEach(function(ce,dt){Ce[1]=[{type:0,data:Ir(dt)}],Ce[2]=[{type:0,data:Ir(1)}],Ce[3]=[{type:2,data:Dle(ce)}],ke[3].push({type:2,data:ns(Ce)})})}Y.messages[0].data=ns(ke);var Le=bm(G),Re=wm(Le);H.content=Re,H.size=H.content.length})();var le=mr(Q[3][0].data);{var Te=le[1][0];delete le[2];var ge=mr(Te.data);{var Be=ks(ge[2][0].data);(function(){for(var H=hn.find(u,o[Be].location),G=zl(jl(H.content)),Y,se=0;se<G.length;++se){var ye=G[se];ye.id==Be&&(Y=ye)}var ke=mr(Y.messages[0].data);{delete ke[6],delete le[7];var Ce=new Uint8Array(ke[5][0].data);ke[5]=[];for(var Le=0,Re=0;Re<=r.e.r;++Re){var ce=mr(Ce);Le+=Yle(ce,a[Re],s),ce[1][0].data=Ir(Re),ke[5].push({data:ns(ce),type:2})}ke[1]=[{type:0,data:Ir(r.e.c+1)}],ke[2]=[{type:0,data:Ir(r.e.r+1)}],ke[3]=[{type:0,data:Ir(Le)}],ke[4]=[{type:0,data:Ir(r.e.r+1)}]}Y.messages[0].data=ns(ke);var dt=bm(G),gt=wm(dt);H.content=gt,H.size=H.content.length})()}Te.data=ns(ge)}Q[3][0].data=ns(le)}C[4][0].data=ns(Q)}m.messages[0].data=ns(C);var ie=bm(g),M=wm(ie);return p.content=M,p.size=p.content.length,u}function E7(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function fC(n){E7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function hC(n){E7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Kle(n){return Xn.WS.indexOf(n)>-1?"sheet":n==Xn.CS?"chart":n==Xn.DS?"dialog":n==Xn.MS?"macro":n&&n.length?n:"sheet"}function Jle(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,Kle(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function Zle(n,e,t,r,i,a,s,o,c,u,h,p){try{a[r]=Px(xl(n,t,!0),e);var g=la(n,e),m;switch(o){case"sheet":m=boe(g,e,i,c,a[r],u,h,p);break;case"chart":if(m=woe(g,e,i,c,a[r],u,h,p),!m||!m["!drawel"])break;var w=kx(m["!drawel"].Target,e),y=a2(w),S=ore(xl(n,w,!0),Px(xl(n,y,!0),w)),C=kx(S,w),L=a2(C);m=Yse(xl(n,C,!0),C,c,Px(xl(n,L,!0),C),u,m);break;case"macro":m=_oe(g,e,i,c,a[r],u,h,p);break;case"dialog":m=Soe(g,e,i,c,a[r],u,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=m;var R=[];a&&a[r]&&Hi(a[r]).forEach(function(D){var z="";if(a[r][D].Type==Xn.CMNT){z=kx(a[r][D].Target,e);var q=Coe(la(n,z,!0),z,c);if(!q||!q.length)return;aL(m,q,!1)}a[r][D].Type==Xn.TCMNT&&(z=kx(a[r][D].Target,e),R=R.concat(cre(la(n,z,!0),c)))}),R&&R.length&&aL(m,R,!0,c.people||[])}catch(D){if(c.WTF)throw D}}function Ul(n){return n.charAt(0)=="/"?n.slice(1):n}function Qle(n,e){if(pv(),e=e||{},fC(e),Gl(n,"META-INF/manifest.xml")||Gl(n,"objectdata.xml"))return mL(n,e);if(Gl(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof zA<"u"){if(n.FileIndex)return zA(n);var t=hn.utils.cfb_new();return TR(n).forEach(function(fe){On(t,fe,uZ(n,fe))}),zA(t)}throw new Error("Unsupported NUMBERS file")}if(!Gl(n,"[Content_Types].xml"))throw Gl(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Gl(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=TR(n),i=rQ(xl(n,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",la(n,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!la(n,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!e.bookSheets&&!e.bookProps){if(Ox=[],i.sst)try{Ox=Toe(la(n,Ul(i.sst)),i.sst,e)}catch(fe){if(e.WTF)throw fe}e.cellStyles&&i.themes.length&&(c=Eoe(xl(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=Aoe(la(n,Ul(i.style)),i.style,c,e))}i.links.map(function(fe){try{var ue=Px(xl(n,a2(Ul(fe))),fe);return Noe(la(n,Ul(fe)),ue,fe,e)}catch{}});var h=yoe(la(n,Ul(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=la(n,Ul(i.coreprops[0]),!0),g&&(p=dP(g)),i.extprops.length!==0&&(g=la(n,Ul(i.extprops[0]),!0),g&&uQ(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=xl(n,Ul(i.custprops[0]),!0),g&&(m=hQ(g,e)));var w={};if((e.bookSheets||e.bookProps)&&(h.Sheets?s=h.Sheets.map(function(ue){return ue.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),e.bookProps&&(w.Props=p,w.Custprops=m),e.bookSheets&&typeof s<"u"&&(w.SheetNames=s),e.bookSheets?w.SheetNames:e.bookProps))return w;s={};var y={};e.bookDeps&&i.calcchain&&(y=koe(la(n,Ul(i.calcchain)),i.calcchain));var S=0,C={},L,R;{var D=h.Sheets;p.Worksheets=D.length,p.SheetNames=[];for(var z=0;z!=D.length;++z)p.SheetNames[z]=D[z].name}var q=a?"bin":"xml",P=i.workbooks[0].lastIndexOf("/"),W=(i.workbooks[0].slice(0,P+1)+"_rels/"+i.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");Gl(n,W)||(W="xl/_rels/workbook."+q+".rels");var O=Px(xl(n,W,!0),W.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Roe(la(n,Ul(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=fre(la(n,Ul(i.people[0])),e)),O&&(O=Jle(O,h.Sheets));var Q=la(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=p.Worksheets;++S){var B="sheet";if(O&&O[S]?(L="xl/"+O[S][1].replace(/[\/]?xl\//,""),Gl(n,L)||(L=O[S][1]),Gl(n,L)||(L=W.replace(/_rels\/.*$/,"")+O[S][1]),B=O[S][2]):(L="xl/worksheets/sheet"+(S+1-Q)+"."+q,L=L.replace(/sheet0\./,"sheet.")),R=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(S!=e.sheets)continue e;break;case"string":if(p.SheetNames[S].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var j=!1,ee=0;ee!=e.sheets.length;++ee)typeof e.sheets[ee]=="number"&&e.sheets[ee]==S&&(j=1),typeof e.sheets[ee]=="string"&&e.sheets[ee].toLowerCase()==p.SheetNames[S].toLowerCase()&&(j=1);if(!j)continue e}}Zle(n,L,R,p.SheetNames[S],S,C,s,B,e,h,c,u)}return w={Directory:i,Workbook:h,Props:p,Custprops:m,Deps:y,Sheets:s,SheetNames:p.SheetNames,Strings:Ox,Styles:u,Themes:c,SSF:li(wn)},e&&e.bookFiles&&(n.files?(w.keys=r,w.files=n.files):(w.keys=[],w.files={},n.FullPaths.forEach(function(fe,ue){fe=fe.replace(/^Root Entry[\/]/,""),w.keys.push(fe),w.files[fe]=n.FileIndex[ue]}))),e&&e.bookVBA&&(i.vba.length>0?w.vbaraw=la(n,Ul(i.vba[0]),!0):i.defaults&&i.defaults.bin===yre&&(w.vbaraw=la(n,"xl/vbaProject.bin",!0))),w}function ece(n,e){var t=e||{},r="Workbook",i=hn.find(n,r);try{if(r="/!DataSpaces/Version",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Rte(i.content),r="/!DataSpaces/DataSpaceMap",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Ite(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Mte(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Fte(i.content)}catch{}if(r="/EncryptionInfo",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Pte(i.content);if(r="/EncryptedPackage",i=hn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function tce(n,e){return e.bookType=="ods"?A7(n,e):e.bookType=="numbers"?$le(n,e):e.bookType=="xlsb"?nce(n,e):rce(n,e)}function nce(n,e){Pm=1024,n&&!n.SSF&&(n.SSF=li(wn)),n&&n.SSF&&(pv(),_5(n.SSF),e.revssf=A5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Bx?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=ZP.indexOf(e.bookType)>-1,i=J4();hC(e=e||{});var a=O4(),s="",o=0;if(e.cellXfs=[],u0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),s="docProps/core.xml",On(a,s,pP(n.Props,e)),i.coreprops.push(s),Mr(e.rels,2,s,Xn.CORE_PROPS),s="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,On(a,s,vP(n.Props)),i.extprops.push(s),Mr(e.rels,3,s,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(s="docProps/custom.xml",On(a,s,xP(n.Custprops)),i.custprops.push(s),Mr(e.rels,4,s,Xn.CUST_PROPS)),o=1;o<=n.SheetNames.length;++o){var h={"!id":{}},p=n.Sheets[n.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,On(a,s,Ioe(o-1,s,e,n,h)),i.sheets.push(s),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(p){var m=p["!comments"],w=!1,y="";m&&m.length>0&&(y="xl/comments"+o+"."+t,On(a,y,Foe(m,y)),i.comments.push(y),Mr(h,-1,"../comments"+o+"."+t,Xn.CMNT),w=!0),p["!legacy"]&&w&&On(a,"xl/drawings/vmlDrawing"+o+".vml",KP(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&On(a,a2(s),Km(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,On(a,s,Doe(e.Strings,s,e)),i.strs.push(s),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),s="xl/workbook."+t,On(a,s,Loe(n,s)),i.workbooks.push(s),Mr(e.rels,1,s,Xn.WB),s="xl/theme/theme1.xml",On(a,s,rC(n.Themes,e)),i.themes.push(s),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),s="xl/styles."+t,On(a,s,Moe(n,s,e)),i.styles.push(s),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(s="xl/vbaProject.bin",On(a,s,n.vbaraw),i.vba.push(s),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),s="xl/metadata."+t,On(a,s,Poe(s)),i.metadata.push(s),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),On(a,"[Content_Types].xml",fP(i,e)),On(a,"_rels/.rels",Km(e.rels)),On(a,"xl/_rels/workbook."+t+".rels",Km(e.wbrels)),delete e.revssf,delete e.ssf,a}function rce(n,e){Pm=1024,n&&!n.SSF&&(n.SSF=li(wn)),n&&n.SSF&&(pv(),_5(n.SSF),e.revssf=A5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Bx?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=ZP.indexOf(e.bookType)>-1,i=J4();hC(e=e||{});var a=O4(),s="",o=0;if(e.cellXfs=[],u0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),s="docProps/core.xml",On(a,s,pP(n.Props,e)),i.coreprops.push(s),Mr(e.rels,2,s,Xn.CORE_PROPS),s="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,On(a,s,vP(n.Props)),i.extprops.push(s),Mr(e.rels,3,s,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(s="docProps/custom.xml",On(a,s,xP(n.Custprops)),i.custprops.push(s),Mr(e.rels,4,s,Xn.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=n.SheetNames.length;++o){var p={"!id":{}},g=n.Sheets[n.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,On(a,s,c7(o-1,e,n,p)),i.sheets.push(s),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(g){var w=g["!comments"],y=!1,S="";if(w&&w.length>0){var C=!1;w.forEach(function(L){L[1].forEach(function(R){R.T==!0&&(C=!0)})}),C&&(S="xl/threadedComments/threadedComment"+o+"."+t,On(a,S,ure(w,h,e)),i.threadedcomments.push(S),Mr(p,-1,"../threadedComments/threadedComment"+o+"."+t,Xn.TCMNT)),S="xl/comments"+o+"."+t,On(a,S,JP(w)),i.comments.push(S),Mr(p,-1,"../comments"+o+"."+t,Xn.CMNT),y=!0}g["!legacy"]&&y&&On(a,"xl/drawings/vmlDrawing"+o+".vml",KP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&On(a,a2(s),Km(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,On(a,s,BP(e.Strings,e)),i.strs.push(s),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),s="xl/workbook."+t,On(a,s,p7(n)),i.workbooks.push(s),Mr(e.rels,1,s,Xn.WB),s="xl/theme/theme1.xml",On(a,s,rC(n.Themes,e)),i.themes.push(s),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),s="xl/styles."+t,On(a,s,WP(n,e)),i.styles.push(s),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(s="xl/vbaProject.bin",On(a,s,n.vbaraw),i.vba.push(s),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),s="xl/metadata."+t,On(a,s,$P()),i.metadata.push(s),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),h.length>1&&(s="xl/persons/person.xml",On(a,s,hre(h)),i.people.push(s),Mr(e.wbrels,-1,"persons/person.xml",Xn.PEOPLE)),On(a,"[Content_Types].xml",fP(i,e)),On(a,"_rels/.rels",Km(e.rels)),On(a,"xl/_rels/workbook."+t+".rels",Km(e.wbrels)),delete e.revssf,delete e.ssf,a}function dC(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=wl(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function ice(n,e){return hn.find(n,"EncryptedPackage")?ece(n,e):x7(n,e)}function ace(n,e){var t,r=n,i=e||{};return i.type||(i.type=qn&&Buffer.isBuffer(n)?"buffer":"base64"),t=HF(r,i),Qle(t,i)}function T7(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return VT(n.slice(t),e);default:break e}return ov.to_workbook(n,e)}function sce(n,e){var t="",r=dC(n,e);switch(e.type){case"base64":t=wl(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=ug(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=qr(t)),e.type="binary",T7(t,e)}function oce(n,e){var t=n;return e.type=="base64"&&(t=wl(t)),t=Qx.utils.decode(1200,t.slice(2),"str"),e.type="binary",T7(t,e)}function lce(n){return n.match(/[^\x00-\x7F]/)?tf(n):n}function jA(n,e,t,r){return r?(t.type="string",ov.to_workbook(n,t)):ov.to_workbook(e,t)}function Om(n,e){I4();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return Om(new Uint8Array(n),(t=li(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Zm={},t.dateNF&&(Zm.dateNF=t.dateNF),t.type||(t.type=qn&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=qn?"buffer":"binary",r=nZ(n),typeof Uint8Array<"u"&&!qn&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,r=lce(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=li(t),t.type="array",Om(M4(r),t)}switch((i=dC(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return ice(hn.read(r,t),t);break;case 9:if(i[1]<=8)return x7(r,t);break;case 60:return VT(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return dte(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return PP.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?ace(r,t):jA(n,r,t,a);case 239:return i[3]===60?VT(r,t):jA(n,r,t,a);case 255:if(i[1]===254)return oce(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return ng.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return ng.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return qT.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return GP.to_workbook(r,t);break;case 10:case 13:case 32:return sce(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return hte.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?qT.to_workbook(r,t):jA(n,r,t,a)}function C7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return qy(e.file,hn.write(n,{type:qn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return hn.write(n,e)}function cce(n,e){var t=li(e||{}),r=tce(n,t);return uce(r,t)}function uce(n,e){var t={},r=qn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?hn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(w5(i))}return e.password&&typeof encrypt_agile<"u"?C7(encrypt_agile(i,e.password),e):e.type==="file"?qy(e.file,i):e.type=="string"?qr(i):i}function fce(n,e){var t=e||{},r=lle(n,t);return C7(r,t)}function Pu(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return e2(tf(r));case"binary":return tf(r);case"string":return n;case"file":return qy(e.file,r,"utf8");case"buffer":return qn?Nh(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Pu(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function hce(n,e){switch(e.type){case"base64":return e2(n);case"binary":return n;case"string":return n;case"file":return qy(e.file,n,"binary");case"buffer":return qn?Nh(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function xw(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?e2(t):e.type=="string"?qr(t):t;case"file":return qy(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function k7(n,e){I4(),ioe(n);var t=li(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=k7(n,t);return t.type="array",w5(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Pu(tle(n,t),t);case"slk":case"sylk":return Pu(FP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Pu(b7(n.Sheets[n.SheetNames[i]],t),t);case"txt":return hce(N7(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Pu(pC(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Pu(PP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return xw(qT.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Pu(ov.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Pu(GP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Pu(OP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Pu(A7(n,t),t);case"wk1":return xw(ng.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return xw(ng.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),xw(y7(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),fce(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cce(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function dce(n,e,t,r,i,a,s,o){var c=Ji(t),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!s||n[t])for(var m=e.s.c;m<=e.e.c;++m){var w=s?n[t][m]:n[r[m]+c];if(w===void 0||w.t===void 0){if(u===void 0)continue;a[m]!=null&&(g[a[m]]=u);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[m]!=null){if(y==null)if(w.t=="e"&&y===null)g[a[m]]=null;else if(u!==void 0)g[a[m]]=u;else if(h&&y===null)g[a[m]]=null;else continue;else g[a[m]]=h&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?y:Sh(w,y,o);y!=null&&(p=!1)}}return{row:g,isempty:p}}function F_(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof h){case"string":c=dr(h);break;case"number":c=dr(n["!ref"]),c.s.r=h;break;default:c=h}r>0&&(i=0);var p=Ji(c.s.r),g=[],m=[],w=0,y=0,S=Array.isArray(n),C=c.s.r,L=0,R={};S&&!n[C]&&(n[C]=[]);var D=u.skipHidden&&n["!cols"]||[],z=u.skipHidden&&n["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(D[L]||{}).hidden)switch(g[L]=Ti(L),t=S?n[C][L]:n[g[L]+p],r){case 1:a[L]=L-c.s.c;break;case 2:a[L]=g[L];break;case 3:a[L]=u.header[L-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=Sh(t,null,u),y=R[s]||0,!y)R[s]=1;else{do o=s+"_"+y++;while(R[o]);R[s]=y,R[o]=1}a[L]=o}for(C=c.s.r+i;C<=c.e.r;++C)if(!(z[C]||{}).hidden){var q=dce(n,c,C,g,r,a,S,u);(q.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(m[w++]=q.row)}return m.length=w,m}var wL=/"/g;function pce(n,e,t,r,i,a,s,o){for(var c=!0,u=[],h="",p=Ji(t),g=e.s.c;g<=e.e.c;++g)if(r[g]){var m=o.dense?(n[t]||[])[g]:n[r[g]+p];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:Sh(m,null,o));for(var w=0,y=0;w!==h.length;++w)if((y=h.charCodeAt(w))===i||y===a||y===34||o.forceQuotes){h='"'+h.replace(wL,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(wL,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&c?null:u.join(s)}function pC(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=dr(n["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),h="",p=[];r.dense=Array.isArray(n);for(var g=r.skipHidden&&n["!cols"]||[],m=r.skipHidden&&n["!rows"]||[],w=i.s.c;w<=i.e.c;++w)(g[w]||{}).hidden||(p[w]=Ti(w));for(var y=0,S=i.s.r;S<=i.e.r;++S)(m[S]||{}).hidden||(h=pce(n,i,S,p,s,c,a,r),h!=null&&(r.strip&&(h=h.replace(u,"")),(h||r.blankrows!==!1)&&t.push((y++?o:"")+h)));return delete r.dense,t.join("")}function N7(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=pC(n,e);return t}function gce(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=dr(n["!ref"]),a="",s=[],o,c=[],u=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)s[o]=Ti(o);for(var h=i.s.r;h<=i.e.r;++h)for(a=Ji(h),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(n[h]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function R7(n,e,t){var r=t||{},i=+!r.skipHeader,a=n||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;s=c.r,o=c.c}var u,h={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var p=dr(a["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),s==-1&&(s=p.e.r+1,h.e.r=s+e.length-1+i)}else s==-1&&(s=0,h.e.r=e.length-1+i);var g=r.header||[],m=0;e.forEach(function(y,S){Hi(y).forEach(function(C){(m=g.indexOf(C))==-1&&(g[m=g.length]=C);var L=y[C],R="z",D="",z=_n({c:o+m,r:s+S+i});u=h2(a,z),L&&typeof L=="object"&&!(L instanceof Date)?a[z]=L:(typeof L=="number"?R="n":typeof L=="boolean"?R="b":typeof L=="string"?R="s":L instanceof Date?(R="d",r.cellDates||(R="n",L=ka(L)),D=r.dateNF||wn[14]):L===null&&r.nullError&&(R="e",L=0),u?(u.t=R,u.v=L,delete u.w,delete u.R,D&&(u.z=D)):a[z]=u={t:R,v:L},D&&(u.z=D))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var w=Ji(s);if(i)for(m=0;m<g.length;++m)a[Ti(m+o)+w]={t:"s",v:g[m]};return a["!ref"]=Fn(h),a}function mce(n,e){return R7(null,n,e)}function h2(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ci(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?h2(n,_n(e)):h2(n,_n({r:e,c:t||0}))}function vce(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function gC(){return{SheetNames:[],Sheets:{}}}function mC(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=s+i)!=-1;++i);}if(d7(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function xce(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=vce(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function yce(n,e){return n.z=e,n}function L7(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function bce(n,e,t){return L7(n,"#"+e,t)}function wce(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function _ce(n,e,t,r){for(var i=typeof e!="string"?e:dr(e),a=typeof e=="string"?e:Fn(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=h2(n,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var gd={encode_col:Ti,encode_row:Ji,encode_cell:_n,encode_range:Fn,decode_col:V4,decode_row:q4,split_cell:DZ,decode_cell:Ci,decode_range:Po,format_cell:Sh,sheet_add_aoa:iP,sheet_add_json:R7,sheet_add_dom:w7,aoa_to_sheet:gv,json_to_sheet:mce,table_to_sheet:_7,table_to_book:Rle,sheet_to_csv:pC,sheet_to_txt:N7,sheet_to_json:F_,sheet_to_html:b7,sheet_to_formulae:gce,sheet_to_row_object_array:F_,sheet_get_cell:h2,book_new:gC,book_append_sheet:mC,book_set_sheet_visibility:xce,cell_set_number_format:yce,cell_set_hyperlink:L7,cell_set_internal_link:bce,cell_add_comment:wce,sheet_set_array_formula:_ce,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function I7(n,e,t,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*c,h=/\r\n|\r|\n/g,p="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof n=="string"?n.split(h):n,g=p.length||1),t+=o*(2-a),r.valign==="middle"?t-=g/2*u:r.valign==="bottom"&&(t-=g*u),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),p&&g>=1){for(var w=0;w<p.length;w++)i.text(p[w],e-i.getStringUnitWidth(p[w])*m,t),t+=u;return i}e-=i.getStringUnitWidth(n)*m}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var _L={},Qm=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:_L=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=n.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=n.unifyColor(e.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return _L||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),YT=function(n,e){return YT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},YT(n,e)};function M7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YT(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var D7=(function(n){M7(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function Sce(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ace(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function P_(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function F7(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var s=P7(i,!1);s&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,s)}function P7(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function R5(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function O7(n,e){var t=R5(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function Ece(n,e,t,r,i){var a={},s=1.3333333333333333,o=GA(e,function(R){return i.getComputedStyle(R).backgroundColor});o!=null&&(a.fillColor=o);var c=GA(e,function(R){return i.getComputedStyle(R).color});c!=null&&(a.textColor=c);var u=Cce(r,t);u&&(a.cellPadding=u);var h="borderTopColor",p=s*t,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(a.lineWidth=m)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var w=GA(e,function(R){return i.getComputedStyle(R)[h]});w!=null&&(a.lineColor=w);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var S=parseInt(r.fontSize||"");isNaN(S)||(a.fontSize=S/s);var C=Tce(r);C&&(a.fontStyle=C);var L=(r.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(a.font=L),a}function Tce(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function GA(n,e){var t=B7(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function B7(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:B7(n.parentElement,e):t}function Cce(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(o){return parseInt(o||"0")/r}),s=R5(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function U7(n,e,t,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var c=Object.keys(n.getFontList()),u=n.scaleFactor(),h=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var w=o.rows[m],y=(s=(a=w==null?void 0:w.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),S=kce(c,u,t,w,r,i);S&&(y==="thead"?h.push(S):y==="tfoot"?g.push(S):p.push(S))}return{head:h,body:p,foot:g}}function kce(n,e,t,r,i,a){for(var s=new D7(r),o=0;o<r.cells.length;o++){var c=r.cells[o],u=t.getComputedStyle(c);if(i||u.display!=="none"){var h=void 0;a&&(h=Ece(n,c,e,u,t)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:Nce(c)})}}var p=t.getComputedStyle(r);if(s.length>0&&(i||p.display!=="none"))return s}function Nce(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Rce(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function mh(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a}function H7(n,e){var t=new Qm(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();Rce(i,r,e);var a=mh({},i,r,e),s;typeof window<"u"&&(s=window);var o=Lce(i,r,e),c=Ice(i,r,e),u=Mce(t,a),h=Fce(t,a,s);return{id:e.tableId,content:h,hooks:c,styles:o,settings:u}}function Lce(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=n[c],h=e[c],p=t[c];r.columnStyles=mh({},u,h,p)}else{var g=[n,e,t],m=g.map(function(w){return w[c]||{}});r[c]=mh({},m[0],m[1],m[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function Ice(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Mce(n,e){var t,r,i,a,s,o,c,u,h,p,g,m,w=R5(e.margin,40/n.scaleFactor()),y=(t=Dce(n,e.startY))!==null&&t!==void 0?t:w.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(a=e.useCss)!==null&&a!==void 0?a:!1,R=e.theme||(L?"plain":"striped"),D=!!e.horizontalPageBreak,z=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:L,theme:R,startY:y,margin:w,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:C,showFoot:S,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Dce(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var s=t.startPageNumber+t.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function Fce(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(t){var o=U7(n,e.html,t,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Pce(r,i,a);return{columns:c,head:r,body:i,foot:a}}function Pce(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(c>0?"_".concat(c):"");var h={dataKey:u};i.push(h)}}),i}var $T=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),Oce=(function(n){M7(e,n);function e(t,r,i,a,s,o){var c=n.call(this,t,r,o)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return e})($T),Bce=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,s){for(var o=0,c=t;o<c.length;o++){var u=c[o],h=new Oce(e,this,r,i,a,s),p=u(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new $T(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new $T(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),z7=(function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof D7&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=t.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+o;return u>i?u:i},0)},n})(),j7=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=R5(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),Uce=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(t=Math.max(t,s.styles.cellWidth))}return t},n})();function Hce(n,e){zce(n,e);var t=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=KT(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=KT(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Gce(e),qce(e,n),jce(e)}function zce(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=O7(n,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(n,h,u,a,c,null);var p=u.padding("horizontal");u.contentWidth=P_(u.text,u.styles,n)+p;var g=P_(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,n);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/t;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function KT(n,e,t){for(var r=e,i=n.reduce(function(m,w){return m+w.wrappedWidth},0),a=0;a<n.length;a++){var s=n[a],o=s.wrappedWidth/i,c=r*o,u=s.width+c,h=t(s),p=u<h?h:u;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=n.filter(function(m){return e<0?m.width>t(m):!0});g.length&&(e=KT(g,e,t))}return e}function jce(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=n.columns;s<o.length;s++){var c=o[s],u=e[c.index];if(t>1)t--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,t=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var h=a.cells[c.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=r.length-i,g=h.rowSpan>p?p:h.rowSpan;e[c.index]={cell:h,left:g,row:a}}}}}function Gce(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,s=0,o=0;o<n.columns.length;o++){var c=n.columns[o];if(s-=1,s>1&&n.columns[o+1])a+=c.width,delete r.cells[c.index];else if(i){var u=i;delete r.cells[c.index],i=null,u.width=c.width+a}else{var u=r.cells[c.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function qce(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],s=0,o=n.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=SL(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=SL(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<g*u.rowSpan?t={height:g,count:u.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>a.height&&(a.height=g)}}t.count--}}function SL(n,e,t,r,i){return n.map(function(a){return Vce(a,e,t,r,i)})}function Vce(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=P_(n,t,r))return n;for(;e<P_(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function G7(n,e){var t=new Qm(n),r=Wce(e,t.scaleFactor()),i=new Bce(e,r);return Hce(t,i),t.applyStyles(t.userStyles),i}function Wce(n,e){var t=n.content,r=Yce(t.columns);if(t.head.length===0){var i=AL(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=AL(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,s=n.styles;return{columns:r,head:qA("head",t.head,r,s,a,e),body:qA("body",t.body,r,s,a,e),foot:qA("foot",t.foot,r,s,a,e)}}function qA(n,e,t,r,i,a){var s={},o=e.map(function(c,u){for(var h=0,p={},g=0,m=0,w=0,y=t;w<y.length;w++){var S=y[w];if(s[S.index]==null||s[S.index].left===0)if(m===0){var C=void 0;Array.isArray(c)?C=c[S.index-g-h]:C=c[S.dataKey];var L={};typeof C=="object"&&!Array.isArray(C)&&(L=(C==null?void 0:C.styles)||{});var R=$ce(n,S,u,i,r,a,L),D=new j7(C,R,n);p[S.dataKey]=D,p[S.index]=D,m=D.colSpan-1,s[S.index]={left:D.rowSpan-1,times:m}}else m--,g++;else s[S.index].left--,m=s[S.index].times,h++}return new z7(c,u,n,p)});return o}function AL(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=Xce(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Xce(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Yce(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new Uce(i,e,t)})}function $ce(n,e,t,r,i,a,s){var o=Ace(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var u=mh({},o.table,o[n],i.styles,c),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=n==="body"?h:{},g=n==="body"&&t%2===0?mh({},o.alternateRow,i.alternateRowStyles):{},m=Sce(a),w=mh({},m,u,g,p);return mh(w,s)}function Kce(n,e,t){var r;t===void 0&&(t={});var i=O7(n,e),a=new Map,s=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var m=e.columns.find(function(w){return w.dataKey===g||w.index===g});m&&!a.has(m.index)&&(a.set(m.index,!0),s.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,h=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;h<e.columns.length;){if(a.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,s.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:s,columns:o,lastIndex:h-1}}function Jce(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=Kce(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function q7(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(t.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,m){return g+m.height},0);o+=u}var h=new Qm(n);(t.pageBreak==="always"||t.startY!=null&&o>h.pageSize().height)&&(W7(h),a.y=i.top),e.callWillDrawPageHooks(h,a);var p=mh({},a);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?Zce(h,e,p,a):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return Ah(h,e,g,a,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(g,m){var w=m===e.body.length-1;O_(h,e,g,w,p,a,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ah(h,e,g,a,e.columns)})),F7(h,e,p,a),e.callEndPageHooks(h,a),e.finalY=a.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function Zce(n,e,t,r){var i=Jce(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){n.applyStyles(n.userStyles),h>0?zx(n,e,t,r,u.columns,!0):EL(n,e,r,u.columns),Qce(n,e,t,r,u.columns),VA(n,e,r,u.columns)});else for(var s=-1,o=i[0],c=function(){var u=s;if(o){n.applyStyles(n.userStyles);var h=o.columns;s>=0?zx(n,e,t,r,h,!0):EL(n,e,r,h),u=TL(n,e,s+1,r,h),VA(n,e,r,h)}var p=u-s;i.slice(1).forEach(function(g){n.applyStyles(n.userStyles),zx(n,e,t,r,g.columns,!0),TL(n,e,s+1,r,g.columns,p),VA(n,e,r,g.columns)}),s=u};s<e.body.length-1;)c()}function EL(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Ah(n,e,a,t,r)})}function Qce(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;O_(n,e,a,o,t,r,i)})}function TL(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var s=Math.min(t+a,e.body.length),o=-1;return e.body.slice(t,s).forEach(function(c,u){var h=t+u===e.body.length-1,p=V7(n,e,h,r);c.canEntireRowFit(p,i)&&(Ah(n,e,c,r,i),o=t+u)}),o}function VA(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Ah(n,e,a,t,r)})}function eue(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function tue(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,s=0,o=t.columns;s<o.length;s++){var c=o[s],u=n.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new j7(u.raw,u.styles,u.section);h=mh(h,u),h.text=[];var p=eue(u,e,r);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>n.height&&(n.height=u.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>a&&(a=h.contentHeight),i[c.index]=h}}var w=new z7(n.raw,-1,n.section,i,!0);w.height=a;for(var y=0,S=t.columns;y<S.length;y++){var c=S[y],h=w.cells[c.index];h&&(h.height=w.height);var u=n.cells[c.index];u&&(u.height=n.height)}return w}function nue(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),u=c<t;if(c>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>o;return p?(h&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function O_(n,e,t,r,i,a,s){var o=V7(n,e,r,a);if(t.canEntireRowFit(o,s))Ah(n,e,t,a,s);else if(nue(n,t,o,e)){var c=tue(t,o,e,n);Ah(n,e,t,a,s),zx(n,e,i,a,s),O_(n,e,c,r,i,a,s)}else zx(n,e,i,a,s),O_(n,e,t,r,i,a,s)}function Ah(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],c=t.cells[o.index];if(!c){r.x+=o.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(n,e.hooks.willDrawCell,c,t,o,r);if(u===!1){r.x+=o.width;continue}rue(n,c,r);var h=c.getTextPos();I7(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,o,r),r.x+=o.width}r.y+=t.height}function rue(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=P7(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),iue(n,e,t,r.lineWidth))}function iue(n,e,t,r){var i,a,s,o;r.top&&(i=t.x,a=t.y,s=t.x+e.width,o=t.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,s,o)),r.bottom&&(i=t.x,a=t.y+e.height,s=t.x+e.width,o=t.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,s,o)),r.left&&(i=t.x,a=t.y,s=t.x,o=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,i,a,s,o)),r.right&&(i=t.x+e.width,a=t.y,s=t.x+e.width,o=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,i,a,s,o));function c(u,h,p,g,m){n.getDocument().setLineWidth(u),n.getDocument().line(h,p,g,m,"S")}}function V7(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function zx(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return Ah(n,e,o,r,i)}),e.callEndPageHooks(n,r);var s=e.settings.margin;F7(n,e,t,r),W7(n),e.pageNumber++,r.x=s.left,r.y=s.top,t.y=s.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Ah(n,e,o,r,i)}),n.applyStyles(n.userStyles))}function W7(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function aue(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=H7(this,r),a=G7(this,i);return q7(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){I7(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Qm.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Qm.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Qm(this),a=U7(i,e,window,t,!1),s=a.head,o=a.body,c=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var WA;function CL(n,e){var t=H7(n,e),r=G7(n,t);q7(n,r)}try{if(typeof window<"u"&&window){var kL=window,NL=kL.jsPDF||((WA=kL.jspdf)===null||WA===void 0?void 0:WA.jsPDF);NL&&aue(NL)}}catch(n){console.error("Could not apply autoTable plugin",n)}const sue={es:{title:"Censos",subtitle:"Carga y organiza registros censales para su posterior uso o referencia.",uploadTitle:"Subir nuevo censo",uploadDesc:"Arrastra y suelta tu archivo aqu o haz clic para buscar.",uploadHint:"Soporta CSV, Excel (XLSX, XLS).",searchPlaceholder:"Buscar en censos guardados...",noFiles:"No hay censos registrados an.",thFile:"Archivo",thDate:"Fecha de Carga",thSize:"Tamao",thActions:"Acciones",deleteConfirm:"Ests seguro de eliminar este registro?",successUpload:"Archivo cargado con xito!",viewTitle:"Visualizacin de Censo",closeBtn:"Cerrar Vista",rowsCount:"{count} registros encontrados",noData:"No hay datos disponibles en este archivo.",errorParsing:"Error al procesar el archivo Excel.",configTitle:"Configuracin de Columnas",configDesc:"Sube un archivo de ejemplo para detectar y elegir qu columnas mostrar globalmente.",coverageColLabel:"Columna de Cobertura",coverageColHint:"Indica el nombre exacto de la columna que contiene las obras sociales/seguros.",isolationColLabel:"Columna de Aislamiento",isolationColHint:"Columna que indica aislamiento.",isolationValueLabel:"Valor de Aislamiento",isolationValueHint:"Texto exacto a buscar (ej: AISLADO).",segmentationTitleLabel:"Ttulo del Reporte",segmentationTitleHint:"Ttulo principal que aparecer en los PDF y la vista segmentada.",customFileNameSuffixLabel:"Sufijo de Nombre de Archivo",customFileNameSuffixHint:"Texto al final del nombre (Ej: COBERTURA-FECHA-TEXTO.pdf)",visibleColsLabel:"Columnas Visibles y Alias",aliasPlaceholder:"Alias (opcional)",detailTitle:"Detalle del Censo",statsTotal:"Total Registros",statsCoverages:"Coberturas Detectadas",coverageListTitle:"Distribucin de Coberturas",backBtn:"Volver",saveSettingsBtn:"Guardar Configuracin",generateBtn:"Generar Tablas por Cobertura",generateTitle:"Segmentacin de Reporte",generateSubtitle:"Tablas individuales generadas automticamente para cada cobertura detectada.",noCoverageConfig:'Primero debes configurar la "Columna de Cobertura" en las opciones del censo.',downloadCsv:"Descargar CSV",downloadPdf:"Descargar PDF",printGroup:"Imprimir Todo",pdfSummaryTitle:"RESUMEN FINAL",pdfTotalPatients:"Total de Pacientes segmentados:",pdfIsolationTitle:"PACIENTES EN AISLAMIENTO",pdfIsolationCount:"Cantidad de aislamientos:",pdfNoIsolation:"No se detectaron aislamientos para esta cobertura.",pageLabel:"Pgina",sendCensusBtn:"Enviar Censo",previewTitle:"Confirmar Envo de Censo",previewRecipients:"Para:",previewSubject:"Asunto:",previewBody:"Cuerpo del mensaje:",previewAttachment:"Adjuntos:",confirmSend:"Confirmar Envo",cancel:"Cancelar",noSmtp:"SMTP no configurado o no listo.",sendSuccess:"Censo enviado con xito!",previewDocTitle:"Vista Previa de Censo",previewBtn:"Vista Previa",smtpSelectorLabel:"Enviar desde perfil SMTP:"},en:{title:"Census",subtitle:"Upload and organize census records for future use or reference.",uploadTitle:"Upload new census",uploadDesc:"Drag and drop your file here or click to browse.",uploadHint:"Supports CSV, Excel (XLSX, XLS).",searchPlaceholder:"Search in saved census records...",noFiles:"No census records found yet.",thFile:"File",thDate:"Upload Date",thSize:"Size",thActions:"Actions",deleteConfirm:"Are you sure you want to delete this record?",successUpload:"File uploaded successfully!",viewTitle:"Census Data Viewer",closeBtn:"Close View",rowsCount:"{count} records found",noData:"No data available in this file.",errorParsing:"Error processing Excel file.",configTitle:"Column Configuration",configDesc:"Upload a sample file to detect and choose which columns to display globally.",coverageColLabel:"Coverage Column",coverageColHint:"Enter the exact name of the column containing the insurance providers.",isolationColLabel:"Isolation Column",isolationColHint:"Column indicating isolation.",isolationValueLabel:"Isolation Value",isolationValueHint:"Exact text to search (e.g., ISOLATED).",segmentationTitleLabel:"Report Title",segmentationTitleHint:"Main title that will appear in PDFs and segmented view.",customFileNameSuffixLabel:"File Name Suffix",customFileNameSuffixHint:"Text at the end of name (e.g., COVERAGE-DATE-TEXT.pdf)",visibleColsLabel:"Visible Columns & Aliases",aliasPlaceholder:"Alias (optional)",detailTitle:"Census Details",statsTotal:"Total Records",statsCoverages:"Detected Coverages",coverageListTitle:"Coverage Distribution",backBtn:"Back",saveSettingsBtn:"Save Settings",generateBtn:"Generate Coverage Tables",generateTitle:"Report Segmentation",generateSubtitle:"Individual tables automatically generated for each detected coverage.",noCoverageConfig:'You must first configure the "Coverage Column" in the census options.',downloadCsv:"Download CSV",downloadPdf:"Download PDF",printGroup:"Print All",pdfSummaryTitle:"FINAL SUMMARY",pdfTotalPatients:"Total segmented patients:",pdfIsolationTitle:"PATIENTS IN ISOLATION",pdfIsolationCount:"Isolation count:",pdfNoIsolation:"No isolations detected for this coverage.",pageLabel:"Page",sendCensusBtn:"Send Census",previewTitle:"Confirm Census Dispatch",previewRecipients:"To:",previewSubject:"Subject:",previewBody:"Email Body:",previewAttachment:"Attachments:",confirmSend:"Confirm Dispatch",cancel:"Cancel",noSmtp:"SMTP not configured or not ready.",sendSuccess:"Census sent successfully!",previewDocTitle:"Census Preview",previewBtn:"Preview",smtpSelectorLabel:"Send from SMTP profile:"}},oue=({files:n,settings:e,onAction:t,lang:r,onSendEmail:i,smtpProfiles:a,globalSmtpId:s})=>{const o=ut.useMemo(()=>sue[r],[r]),[c,u]=ut.useState(""),[h,p]=ut.useState(!1),[g,m]=ut.useState(!1),[w,y]=ut.useState(null),[S,C]=ut.useState(null),[L,R]=ut.useState(null),[D,z]=ut.useState(null),[q,P]=ut.useState(null),[W,O]=ut.useState(e),[Q,B]=ut.useState([]),j=ut.useRef(null),ee=ut.useRef(null),fe=ut.useMemo(()=>n.filter(Ne=>Ne.name.toLowerCase().includes(c.toLowerCase())),[n,c]),ue=Ne=>{var He;const Pe=(He=Ne.target.files)==null?void 0:He[0];if(Pe){const Ue=new FileReader;Ue.onload=ft=>{var St;const ot=(St=ft.target)==null?void 0:St.result;t.add({id:Date.now().toString(),name:Pe.name,size:Pe.size,type:Pe.type,uploadDate:Date.now(),content:ot})},Ue.readAsDataURL(Pe)}j.current&&(j.current.value="")},K=Ne=>{var Ue;const Pe=(Ue=Ne.target.files)==null?void 0:Ue[0];if(!Pe)return;const He=new FileReader;He.onload=ft=>{var ot;try{const St=new Uint8Array((ot=ft.target)==null?void 0:ot.result),yt=Om(St,{type:"array"}),wt=yt.Sheets[yt.SheetNames[0]],Tt=gd.sheet_to_json(wt,{header:1});if(Tt.length>0){const Bt=Tt[0].map(on=>String(on||""));B(Bt)}}catch{alert(o.errorParsing)}},He.readAsArrayBuffer(Pe),ee.current&&(ee.current.value="")},le=Ne=>{const Pe=W.visibleColumns||[];O(He=>({...He,visibleColumns:Pe.includes(Ne)?Pe.filter(Ue=>Ue!==Ne):[...Pe,Ne]}))},Te=(Ne,Pe)=>{O(He=>({...He,columnAliases:{...He.columnAliases||{},[Ne]:Pe}}))},ge=()=>{t.saveSettings(W),m(!1)},Be=Ne=>{let Pe=e.pageFormat;Pe==="custom"&&e.customDimensions&&(Pe=[e.customDimensions.width,e.customDimensions.height]);const He=new rn({orientation:"landscape",unit:"mm",format:Pe}),Ue=He.internal.pageSize.getWidth(),ft=He.internal.pageSize.getHeight(),ot=Tt=>{if(e.pdfLogo){let Ct=10,Ge=10;e.logoPosition==="top-right"?Ct=Ue-25-10:e.logoPosition==="bottom-left"?Ge=ft-25-10:e.logoPosition==="bottom-right"&&(Ct=Ue-25-10,Ge=ft-25-10);try{He.addImage(e.pdfLogo,"PNG",Ct,Ge,25,25)}catch(et){console.error("PDF Logo placement failed:",et)}}He.setFontSize(18),He.setTextColor(79,70,229),He.setFont("helvetica","bold");const Bt=e.segmentationTitle||"Censo";He.text(`${Bt}: ${Ne.coverage}`,14,20),He.setFontSize(9),He.setTextColor(100,116,139),He.setFont("helvetica","normal"),He.text(`Generado el: ${new Date().toLocaleString()}`,14,28),He.text(`Total Pacientes: ${Ne.rows.length}`,14,33),He.setFontSize(8),He.setTextColor(148,163,184),He.text(`${o.pageLabel} ${Tt}`,Ue-25,ft-10)};let St=[];if(e.isolationColumn){const Tt=Ne.headers.indexOf(e.isolationColumn),Bt=(e.isolationValue||"AISLADO").trim().toUpperCase();Tt!==-1&&(St=Ne.rows.filter(on=>{const Wt=on[Tt];return String(Wt||"").trim().toUpperCase()===Bt}))}const yt=Ne.headers.map(Tt=>e.columnAliases&&e.columnAliases[Tt]||Tt);CL(He,{head:[yt],body:Ne.rows,startY:40,theme:"striped",headStyles:{fillColor:[79,70,229],textColor:255,fontSize:9,fontStyle:"bold"},styles:{fontSize:8,cellPadding:2},alternateRowStyles:{fillColor:[248,250,252]},margin:{top:40,bottom:25},didDrawPage:Tt=>ot(Tt.pageNumber)});let wt=He.lastAutoTable.finalY+15;if(wt+60>ft&&(He.addPage(),ot(He.getNumberOfPages()),wt=40),He.setDrawColor(226,232,240),He.setFillColor(248,250,252),He.roundedRect(14,wt,Ue/2-20,20,3,3,"FD"),He.setFontSize(10),He.setTextColor(79,70,229),He.setFont("helvetica","bold"),He.text(o.pdfSummaryTitle,20,wt+7),He.setFontSize(12),He.setTextColor(30,41,59),He.text(`${o.pdfTotalPatients} ${Ne.rows.length}`,20,wt+14),e.isolationColumn){const Tt=St.length>0,Bt=Tt?255:248,on=Tt?245:250,Wt=Tt?245:252;if(He.setFillColor(Bt,on,Wt),Tt&&He.setDrawColor(239,68,68),He.roundedRect(Ue/2+5,wt,Ue/2-20,20,3,3,"FD"),Tt?He.setTextColor(239,68,68):He.setTextColor(79,70,229),He.setFontSize(10),He.text(o.pdfIsolationTitle,Ue/2+10,wt+7),He.setFontSize(12),He.setTextColor(30,41,59),He.text(`${o.pdfIsolationCount} ${St.length}`,Ue/2+10,wt+14),Tt){wt+=25,wt+30>ft&&(He.addPage(),ot(He.getNumberOfPages()),wt=40),He.setFontSize(9),He.setTextColor(100,116,139);const Ct=r==="es"?"Detalle de pacientes en aislamiento:":"Isolation details:";He.text(Ct,14,wt),wt+=5,CL(He,{head:[yt],body:St,startY:wt,theme:"grid",headStyles:{fillColor:[239,68,68],textColor:255,fontSize:8},styles:{fontSize:7,cellPadding:1},margin:{left:14,right:14}})}}return He.output("blob")},ie=Ne=>{const He=[Ne.headers.map(St=>e.columnAliases&&e.columnAliases[St]||St),...Ne.rows],Ue=gd.aoa_to_sheet(He),ft=gd.book_new();gd.book_append_sheet(ft,Ue,"Censo");const ot=k7(ft,{bookType:"xlsx",type:"array"});return new Blob([ot],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})},M=Ne=>{const Pe=new Date,He=String(Pe.getDate()).padStart(2,"0"),Ue=String(Pe.getMonth()+1).padStart(2,"0"),ft=Pe.getFullYear(),ot=`${He}-${Ue}-${ft}`,St=(e.customFileNameSuffix||"REPORTE").trim();return`${Ne.toUpperCase()}-${ot}-${St}`},H=Ne=>{const Pe=Be(Ne),He=URL.createObjectURL(Pe);P(He)},G=()=>{q&&(URL.revokeObjectURL(q),P(null))},Y=Ne=>{const He=(e.associations||[]).find(yt=>yt.coverageName.toLowerCase()===Ne.coverage.toLowerCase());if(!He)return;const Ue=Be(Ne),ft=ie(Ne),ot=M(Ne.coverage),St=s||(a.length>0?a[0].id:"");z({assoc:He,group:Ne,pdfBlob:Ue,xlsxBlob:ft,selectedSmtpId:St,finalBaseName:ot})},se=async()=>{if(!D||!D.selectedSmtpId)return;const Ne=ot=>new Promise(St=>{const yt=new FileReader;yt.onloadend=()=>St(yt.result),yt.readAsDataURL(ot)}),Pe=await Ne(D.pdfBlob),He=await Ne(D.xlsxBlob),Ue=[{id:"pdf-"+Date.now(),name:`${D.finalBaseName}.pdf`,size:D.pdfBlob.size,type:"application/pdf",label:"CENSO PDF",data:Pe},{id:"xlsx-"+Date.now(),name:`${D.finalBaseName}.xlsx`,size:D.xlsxBlob.size,type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"CENSO EXCEL",data:He}];await i(D.assoc.emails,D.assoc.subject,D.assoc.body,Ue,[],D.selectedSmtpId)&&(alert(o.sendSuccess),z(null))},ye=Ne=>{if(Ne.content)try{const Pe=Ne.content.split(",")[1],He=Om(Pe,{type:"base64"}),Ue=gd.sheet_to_json(He.Sheets[He.SheetNames[0]],{header:1});let ft=Ue;const ot=e.visibleColumns||[];if(ot.length>0&&Ue.length>0){const St=Ue[0].map(wt=>String(wt||"")),yt=ot.map(wt=>St.indexOf(wt)).filter(wt=>wt!==-1);yt.length>0&&(ft=Ue.map(wt=>yt.map(Tt=>wt[Tt])))}y({name:Ne.name,data:ft})}catch{alert(o.errorParsing)}},ke=Ne=>{if(Ne.content){if(!e.coverageColumn){alert(o.noCoverageConfig),m(!0);return}try{const Pe=Ne.content.split(",")[1],He=Om(Pe,{type:"base64"}),Ue=He.Sheets[He.SheetNames[0]],ft=gd.sheet_to_json(Ue),ot=gd.sheet_to_json(Ue,{header:1});if(ft.length===0)return;const St=e.coverageColumn,yt={};ft.forEach(et=>{const Qt=String(et[St]||"Sin Especificar");yt[Qt]||(yt[Qt]=[]),yt[Qt].push(et)});const wt=ot[0].map(et=>String(et||""));let Tt=wt,Bt=wt.map((et,Qt)=>Qt);const on=e.visibleColumns||[];on.length>0&&(Tt=on,Bt=on.map(et=>wt.indexOf(et)).filter(et=>et!==-1));const Ct=Object.entries(yt).map(([et,Qt])=>({coverage:et,headers:Tt,rows:Qt.map(Dt=>Bt.map(Pt=>Dt[wt[Pt]]))})).sort((et,Qt)=>Qt.rows.length-et.rows.length),Ge=Ne.name.replace(/\.[^/.]+$/,"");R({name:Ne.name,fileName:Ge,groups:Ct})}catch(Pe){console.error(Pe),alert(o.errorParsing)}}},Ce=Ne=>{const He=Ne.headers.map(Tt=>e.columnAliases&&e.columnAliases[Tt]||Tt).join(","),Ue=Ne.rows.map(Tt=>Tt.map(Bt=>`"${String(Bt).replace(/"/g,'""')}"`).join(",")),ft=[He,...Ue].join(`
`),ot=new Blob(["\uFEFF"+ft],{type:"text/csv;charset=utf-8;"}),St=URL.createObjectURL(ot),yt=document.createElement("a"),wt=M(Ne.coverage);yt.setAttribute("href",St),yt.setAttribute("download",`${wt}.csv`),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt)},Le=Ne=>{const Pe=Be(Ne),He=URL.createObjectURL(Pe),Ue=document.createElement("a"),ft=M(Ne.coverage);Ue.setAttribute("href",He),Ue.setAttribute("download",`${ft}.pdf`),document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue)},Re=Ne=>{if(Ne.content)try{const Pe=Ne.content.split(",")[1],He=Om(Pe,{type:"base64"}),Ue=gd.sheet_to_json(He.Sheets[He.SheetNames[0]]),ft=Ue.length,ot=e.coverageColumn,St={};ot&&Ue.forEach(wt=>{const Tt=String(wt[ot]||"Sin Especificar");St[Tt]=(St[Tt]||0)+1});const yt=Object.entries(St).map(([wt,Tt])=>({name:wt,count:Tt})).sort((wt,Tt)=>Tt.count-wt.count);C({name:Ne.name,stats:{total:ft,coverages:yt}})}catch{alert(o.errorParsing)}},ce=Ne=>{Ne.preventDefault(),p(!0)},dt=()=>{p(!1)},gt=Ne=>{var He;Ne.preventDefault(),p(!1);const Pe=(He=Ne.dataTransfer.files)==null?void 0:He[0];if(Pe){const Ue=new FileReader;Ue.onload=ft=>{var ot;t.add({id:Date.now().toString(),name:Pe.name,size:Pe.size,type:Pe.type,uploadDate:Date.now(),content:(ot=ft.target)==null?void 0:ot.result})},Ue.readAsDataURL(Pe)}},de=Ne=>{if(Ne===0)return"0 Bytes";const Pe=1024,He=["Bytes","KB","MB","GB"],Ue=Math.floor(Math.log(Ne)/Math.log(Pe)),ft=(Ne/Math.pow(Pe,Ue)).toFixed(2);return parseFloat(ft)+" "+He[Ue]};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex items-center justify-between no-print",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:o.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:o.subtitle})]}),E.jsxs("button",{onClick:()=>{O(e),m(!0)},className:"p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm flex items-center gap-2 font-semibold text-sm",children:[E.jsx($A,{size:18})," Configurar"]})]}),!g&&!L&&E.jsxs("div",{onDragOver:ce,onDragLeave:dt,onDrop:gt,onClick:()=>{var Ne;return(Ne=j.current)==null?void 0:Ne.click()},className:`relative group p-12 border-2 border-dashed rounded-3xl transition-all cursor-pointer flex flex-col items-center justify-center text-center space-y-4 no-print ${h?"border-indigo-50 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-800 hover:border-indigo-400 dark:hover:border-indigo-700 bg-white dark:bg-slate-900/50"}`,children:[E.jsx("input",{type:"file",ref:j,className:"hidden",onChange:ue,accept:".csv,.xlsx,.xls"}),E.jsx("div",{className:`p-4 rounded-2xl transition-all ${h?"bg-indigo-500 text-white shadow-xl shadow-indigo-200 dark:shadow-none":"bg-slate-100 dark:bg-slate-800 text-slate-400 group-hover:text-indigo-500 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/30"}`,children:E.jsx(BL,{size:40})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:o.uploadTitle}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:o.uploadDesc})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:[E.jsx(n4,{size:14})," ",o.uploadHint]})]}),g&&E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl p-8 animate-in zoom-in-95 duration-200 no-print",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[E.jsx($A,{className:"text-indigo-500"})," ",o.configTitle]}),E.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 text-left",children:[E.jsxs("div",{className:"space-y-6 text-left",children:[E.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 text-center space-y-4",children:[E.jsx("input",{type:"file",ref:ee,className:"hidden",onChange:K,accept:".csv,.xlsx,.xls"}),E.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm w-fit mx-auto",children:E.jsx(av,{size:24,className:"text-indigo-500"})}),E.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:o.configDesc}),E.jsx("button",{onClick:()=>{var Ne;return(Ne=ee.current)==null?void 0:Ne.click()},className:"px-6 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:Q.length>0?"Cambiar archivo":"Detectar Columnas"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(i5,{size:16,className:"text-indigo-500"})," ",o.segmentationTitleLabel]}),E.jsx("input",{type:"text",placeholder:"Ej: CENSO DIARIO",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none",value:W.segmentationTitle||"",onChange:Ne=>O({...W,segmentationTitle:Ne.target.value})}),E.jsx("p",{className:"text-xs text-slate-400 italic",children:o.segmentationTitleHint})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx($c,{size:16,className:"text-indigo-500"})," ",o.customFileNameSuffixLabel]}),E.jsx("input",{type:"text",placeholder:"Ej: REPORTE",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none",value:W.customFileNameSuffix||"",onChange:Ne=>O({...W,customFileNameSuffix:Ne.target.value})}),E.jsx("p",{className:"text-xs text-slate-400 italic",children:o.customFileNameSuffixHint})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:o.coverageColLabel}),E.jsx("input",{type:"text",placeholder:"Ej: OBRA SOCIAL",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none",value:W.coverageColumn,onChange:Ne=>O({...W,coverageColumn:Ne.target.value})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(Vx,{size:16,className:"text-red-500"})," ",o.isolationColLabel]}),E.jsx("input",{type:"text",placeholder:"Ej: AISLAMIENTO",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none",value:W.isolationColumn||"",onChange:Ne=>O({...W,isolationColumn:Ne.target.value})}),E.jsx("p",{className:"text-xs text-slate-400 italic",children:o.isolationColHint})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:o.isolationValueLabel}),E.jsx("input",{type:"text",placeholder:"Ej: AISLADO",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none",value:W.isolationValue||"",onChange:Ne=>O({...W,isolationValue:Ne.target.value})}),E.jsx("p",{className:"text-xs text-slate-400 italic",children:o.isolationValueHint})]})]}),E.jsxs("div",{className:"space-y-6 text-left",children:[E.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:o.visibleColsLabel}),E.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-4 max-h-[400px] overflow-y-auto custom-scrollbar border border-slate-200 dark:border-slate-700",children:Q.length>0?E.jsx("div",{className:"flex flex-col gap-3",children:Q.map(Ne=>{const Pe=(W.visibleColumns||[]).includes(Ne),He=(W.columnAliases||{})[Ne]||"";return E.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-700 rounded-2xl transition-all shadow-sm",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>le(Ne),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${Pe?"bg-indigo-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-800 text-slate-400 border border-slate-200 dark:border-slate-700"}`,children:E.jsx(QT,{size:18,className:Pe?"opacity-100":"opacity-0"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Original"}),E.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:Ne})]})]})}),Pe&&E.jsx("div",{className:"mt-1 animate-in slide-in-from-top-1 duration-200",children:E.jsx("input",{type:"text",placeholder:o.aliasPlaceholder,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs outline-none focus:ring-1 focus:ring-indigo-500 font-medium text-slate-600 dark:text-slate-300",value:He,onChange:Ue=>Te(Ne,Ue.target.value)})})]},Ne)})}):E.jsx("div",{className:"text-center py-12 text-slate-400 italic text-sm",children:"Detecta columnas subiendo un archivo primero."})}),E.jsxs("button",{onClick:ge,className:"w-full py-4 bg-slate-900 dark:bg-indigo-600 text-white rounded-2xl font-bold shadow-xl flex items-center justify-center gap-2",children:[E.jsx(rf,{size:18})," ",o.saveSettingsBtn]})]})]})]}),L&&E.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-500",children:[E.jsxs("div",{className:"flex items-center justify-between gap-4 no-print",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>R(null),className:"p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-500 hover:text-indigo-600 transition-all shadow-sm",children:E.jsx(N9,{className:"rotate-180",size:20})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.segmentationTitle||o.generateTitle}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:L.name})]})]}),E.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-bold shadow-sm hover:bg-slate-200 transition-all",children:[E.jsx(zL,{size:18})," ",o.printGroup]})]}),E.jsx("div",{className:"grid grid-cols-1 gap-8",children:L.groups.map((Ne,Pe)=>{const Ue=(e.associations||[]).find(ft=>ft.coverageName.toLowerCase()===Ne.coverage.toLowerCase());return E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden flex flex-col transition-all hover:shadow-md",children:[E.jsxs("header",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/30",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(Zk,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:Ne.coverage}),E.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:[Ne.rows.length," registros"]})]})]}),E.jsxs("div",{className:"flex gap-2 no-print action-buttons",children:[Ue&&E.jsxs("button",{onClick:()=>Y(Ne),className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-600 text-white rounded-lg text-[10px] font-bold hover:bg-emerald-700 transition-all shadow-sm",children:[E.jsx(i_,{size:14})," ",o.sendCensusBtn]}),E.jsxs("button",{onClick:()=>H(Ne),className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-[10px] font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-200 transition-all shadow-sm",children:[E.jsx(KS,{size:14})," ",o.previewBtn]}),E.jsxs("button",{onClick:()=>Le(Ne),className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white rounded-lg text-[10px] font-bold hover:bg-indigo-700 transition-all shadow-sm",children:[E.jsx(OL,{size:14})," ",o.downloadPdf]}),E.jsxs("button",{onClick:()=>Ce(Ne),className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-[10px] font-bold text-slate-600 hover:bg-slate-50 transition-all",children:[E.jsx(r5,{size:14})," ",o.downloadCsv]})]})]}),E.jsx("div",{className:"overflow-x-auto custom-scrollbar text-left",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-100 dark:border-slate-800",children:E.jsx("tr",{children:Ne.headers.map((ft,ot)=>{const St=e.columnAliases&&e.columnAliases[ft]||ft;return E.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-slate-400 uppercase tracking-wider whitespace-nowrap",children:St},ot)})})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:Ne.rows.map((ft,ot)=>E.jsx("tr",{className:"hover:bg-indigo-50/10 transition-colors",children:ft.map((St,yt)=>E.jsx("td",{className:"px-6 py-2.5 text-xs text-slate-600 dark:text-slate-400 whitespace-nowrap",children:String(St||"-")},yt))},ot))})]})})]},Pe)})})]}),q&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[170] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full h-full max-w-6xl flex flex-col shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-200",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(KS,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:o.previewDocTitle})]}),E.jsx("button",{onClick:G,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:E.jsx(to,{size:24})})]}),E.jsx("div",{className:"flex-1 bg-slate-100 dark:bg-slate-950 overflow-hidden relative",children:E.jsx("iframe",{src:q,className:"w-full h-full border-none",title:"PDF Preview"})}),E.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end",children:E.jsx("button",{onClick:G,className:"px-8 py-2.5 bg-slate-900 dark:bg-indigo-600 text-white rounded-xl font-bold hover:opacity-90 transition-all active:scale-95",children:o.closeBtn})})]})}),D&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[160] flex items-center justify-center p-4 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-2xl flex flex-col shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-200",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-xl",children:E.jsx(By,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:o.previewTitle})]}),E.jsx("button",{onClick:()=>z(null),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:E.jsx(to,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 text-left bg-slate-50 dark:bg-slate-950/50",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[E.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(qx,{size:12})," ",o.smtpSelectorLabel]}),E.jsxs("select",{value:D.selectedSmtpId,onChange:Ne=>z({...D,selectedSmtpId:Ne.target.value}),className:"w-full p-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm outline-none font-semibold text-slate-700 dark:text-slate-200",children:[a.map(Ne=>E.jsxs("option",{value:Ne.id,children:[Ne.name," (",Ne.username,")"]},Ne.id)),a.length===0&&E.jsx("option",{value:"",children:"No hay perfiles disponibles"})]})]}),E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx(Wx,{size:18,className:"text-slate-400 mt-1 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:o.previewRecipients}),E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:D.assoc.emails})]})]}),E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx($c,{size:18,className:"text-slate-400 mt-1 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:o.previewSubject}),E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:D.assoc.subject})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:o.previewBody}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 text-sm text-slate-600 dark:text-slate-300 leading-relaxed whitespace-pre-wrap",children:D.assoc.body})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:o.previewAttachment}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[E.jsx($c,{size:16,className:"text-red-500"}),E.jsxs("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 truncate",children:[D.finalBaseName,".pdf"]})]}),E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[E.jsx(Zk,{size:16,className:"text-emerald-500"}),E.jsxs("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 truncate",children:[D.finalBaseName,".xlsx"]})]})]})]})]})}),E.jsxs("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>z(null),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200",children:o.cancel}),E.jsxs("button",{onClick:se,disabled:!D.selectedSmtpId,className:"px-8 py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-100 dark:shadow-none hover:bg-emerald-700 transition-all flex items-center gap-2",children:[E.jsx(i_,{size:18})," ",o.confirmSend]})]})]})}),!g&&!L&&E.jsxs("div",{className:"space-y-4 pt-4 no-print",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Uy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:o.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all text-sm shadow-sm",value:c,onChange:Ne=>u(Ne.target.value)})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-all text-left",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:o.thFile}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:o.thDate}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:o.thSize}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:o.thActions})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[fe.map(Ne=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx($c,{size:20})}),E.jsx("div",{children:E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 break-all",children:Ne.name})})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-medium",children:[E.jsx(ML,{size:14,className:"text-slate-300"})," ",new Date(Ne.uploadDate).toLocaleString()]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-medium",children:[E.jsx(J9,{size:14,className:"text-slate-300"})," ",de(Ne.size)]})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>ke(Ne),className:"p-2.5 rounded-xl text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30",title:o.generateBtn,children:E.jsx(KB,{size:18})}),E.jsx("button",{onClick:()=>Re(Ne),className:"p-2.5 rounded-xl text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30",title:"Ver Detalle",children:E.jsx(Kk,{size:18})}),E.jsx("button",{onClick:()=>ye(Ne),className:"p-2.5 rounded-xl text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30",title:"Visualizar Tabla",children:E.jsx(KS,{size:18})}),E.jsx("button",{onClick:()=>window.confirm(o.deleteConfirm)&&t.delete(Ne.id),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:E.jsx(nf,{size:18})})]})})]},Ne.id)),fe.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:4,className:"px-6 py-20 text-center",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400 italic",children:[E.jsx(XA,{size:40,className:"opacity-20"}),E.jsx("p",{children:o.noFiles})]})})})]})]})})})]}),w&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[150] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full h-full flex flex-col shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 transition-colors animate-in zoom-in-95 duration-200",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(PB,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white truncate max-w-md",children:w.name}),E.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:o.rowsCount.replace("{count}",(w.data.length>0?w.data.length-1:0).toString())})]})]}),E.jsx("button",{onClick:()=>y(null),className:"p-2.5 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-auto bg-slate-50 dark:bg-slate-950 p-6 custom-scrollbar text-left",children:w.data.length>0?E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:E.jsxs("table",{className:"min-w-full border-collapse",children:[E.jsx("thead",{className:"sticky top-0 bg-slate-100 dark:bg-slate-800 z-10",children:E.jsx("tr",{children:w.data[0].map((Ne,Pe)=>E.jsx("th",{className:"px-4 py-3 text-xs font-bold text-slate-500 dark:text-slate-300 uppercase tracking-wider border-b border-slate-200 dark:border-slate-700",children:Ne||`Col ${Pe+1}`},Pe))})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:w.data.slice(1).map((Ne,Pe)=>E.jsx("tr",{className:"hover:bg-indigo-50/30 dark:hover:bg-indigo-900/10 transition-colors",children:Ne.map((He,Ue)=>E.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 dark:text-slate-400 whitespace-nowrap",children:He==null?"":String(He)},Ue))},Pe))})]})}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[E.jsx(XA,{size:64,className:"mb-4 opacity-20"}),E.jsx("p",{children:o.noData})]})}),E.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end gap-3",children:E.jsx("button",{onClick:()=>y(null),className:"px-8 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:o.closeBtn})})]})}),S&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[150] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-2xl flex flex-col shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800 transition-colors animate-in zoom-in-95 duration-200",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(w9,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white truncate max-w-md",children:o.detailTitle}),E.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:S.name})]})]}),E.jsx("button",{onClick:()=>C(null),className:"p-2.5 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(to,{size:24})})]}),E.jsxs("div",{className:"p-8 space-y-8 bg-slate-50 dark:bg-slate-950/50 flex-1 overflow-y-auto custom-scrollbar text-left",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[E.jsx(Hm,{size:16}),E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:o.statsTotal})]}),E.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white tracking-tight",children:S.stats.total})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-emerald-500",children:[E.jsx(av,{size:16}),E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:o.statsCoverages})]}),E.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white tracking-tight",children:S.stats.coverages.length})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(Kk,{size:14,className:"text-indigo-400"})," ",o.coverageListTitle]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm",children:E.jsxs("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar divide-y divide-slate-100 dark:divide-slate-800",children:[S.stats.coverages.map((Ne,Pe)=>E.jsxs("div",{className:"px-6 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"w-8 h-8 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:["#",Pe+1]}),E.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:Ne.name})]}),E.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold",children:Ne.count})]},Pe)),S.stats.coverages.length===0&&E.jsx("div",{className:"p-8 text-center text-slate-400 italic text-sm",children:"Configura la columna de cobertura para ver este desglose."})]})})]})]}),E.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end gap-3",children:E.jsx("button",{onClick:()=>C(null),className:"px-8 py-2.5 bg-slate-900 dark:bg-indigo-600 text-white rounded-xl font-bold hover:opacity-90 transition-all active:scale-95 flex items-center gap-2",children:o.backBtn})})]})})]})},lue={es:{navCompose:"Redactar",navContacts:"Contactos",navTemplates:"Plantillas",navGroups:"CC Grupal",navHistory:"Historial",navCensos:"Censos",navOptions:"Opciones",navSignOut:"Cerrar Sesin",sendingMessage:"Enviando mensaje va SMTP...",appTitle:"MailJet Pro"},en:{navCompose:"Compose",navContacts:"Contacts",navTemplates:"Templates",navGroups:"Group CC",navHistory:"History",navCensos:"Census",navOptions:"Options",navSignOut:"Sign Out",sendingMessage:"Sending message via SMTP...",appTitle:"MailJet Pro"}},cue=()=>{const[n,e]=ut.useState("compose"),[t,r]=ut.useState([]),[i,a]=ut.useState(null),[s,o]=ut.useState([]),[c,u]=ut.useState([]),[h,p]=ut.useState([]),[g,m]=ut.useState([]),[w,y]=ut.useState([]),[S,C]=ut.useState(()=>{const Re=localStorage.getItem("census_settings"),ce={visibleColumns:[],columnAliases:{},coverageColumn:"",isolationColumn:"",isolationValue:"AISLADO",segmentationTitle:"CENSO DIARIO",customFileNameSuffix:"REPORTE",logoPosition:"top-right",pageFormat:"a4",customDimensions:{width:210,height:297},associations:[]};return Re?{...ce,...JSON.parse(Re)}:ce}),[L,R]=ut.useState([]),[D,z]=ut.useState(""),[q,P]=ut.useState([]),[W,O]=ut.useState(!1),[Q,B]=ut.useState(10),[j,ee]=ut.useState(()=>localStorage.getItem("app_lang")||"es"),[fe,ue]=ut.useState(()=>{const Re=localStorage.getItem("theme");return Re==="dark"||!Re&&window.matchMedia("(prefers-color-scheme: dark)").matches}),K=ut.useMemo(()=>lue[j],[j]);ut.useEffect(()=>{fe?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[fe]),ut.useEffect(()=>{localStorage.setItem("app_lang",j)},[j]),ut.useEffect(()=>{const Re=localStorage.getItem("smtp_configs");if(Re){const ot=JSON.parse(Re);r(ot),ot.length>0&&a(ot[0].id)}const ce=localStorage.getItem("email_history");ce&&R(JSON.parse(ce));const dt=localStorage.getItem("email_contacts");dt&&o(JSON.parse(dt));const gt=localStorage.getItem("email_contact_groups");gt&&u(JSON.parse(gt));const de=localStorage.getItem("email_templates");de&&p(JSON.parse(de));const Ne=localStorage.getItem("pdf_templates");Ne&&m(JSON.parse(Ne));const Pe=localStorage.getItem("census_files");Pe&&y(JSON.parse(Pe));const He=localStorage.getItem("attachment_size_limit");He&&B(Number(He));const Ue=localStorage.getItem("group_emails_v2");P(Ue?JSON.parse(Ue):[{id:"1",name:"Admisin",emails:""},{id:"2",name:"Facturacin",emails:""}]);const ft=localStorage.getItem("google_sheets_url");ft&&z(ft)},[]),ut.useEffect(()=>{localStorage.setItem("email_history",JSON.stringify(L))},[L]),ut.useEffect(()=>{localStorage.setItem("census_files",JSON.stringify(w))},[w]),ut.useEffect(()=>{localStorage.setItem("census_settings",JSON.stringify(S))},[S]);const le=Re=>{r(Re),localStorage.setItem("smtp_configs",JSON.stringify(Re)),Re.length>0&&!i&&a(Re[0].id)},Te=Re=>{o(Re),localStorage.setItem("email_contacts",JSON.stringify(Re))},ge=Re=>{u(Re),localStorage.setItem("email_contact_groups",JSON.stringify(Re))},Be=Re=>{p(Re),localStorage.setItem("email_templates",JSON.stringify(Re))},ie=Re=>{m(Re),localStorage.setItem("pdf_templates",JSON.stringify(Re))},M=Re=>{P(Re),localStorage.setItem("group_emails_v2",JSON.stringify(Re))},H=Re=>{B(Re),localStorage.setItem("attachment_size_limit",Re.toString())},G={add:Re=>{const ce=[...t,Re];le(ce),a(Re.id)},update:Re=>{const ce=t.map(dt=>dt.id===Re.id?Re:dt);le(ce)},delete:Re=>{const ce=t.filter(dt=>dt.id!==Re);le(ce),i===Re&&a(ce.length>0?ce[0].id:null)},setActive:Re=>a(Re)},Y={add:Re=>Te([...s,Re]),update:Re=>Te(s.map(ce=>ce.id===Re.id?Re:ce)),delete:Re=>Te(s.filter(ce=>ce.id!==Re))},se={add:Re=>ge([...c,Re]),update:Re=>ge(c.map(ce=>ce.id===Re.id?Re:ce)),delete:Re=>ge(c.filter(ce=>ce.id!==Re))},ye={add:Re=>Be([...h,Re]),update:Re=>Be(h.map(ce=>ce.id===Re.id?Re:ce)),delete:Re=>Be(h.filter(ce=>ce.id!==Re))},ke={add:Re=>ie([...g,Re]),update:Re=>ie(g.map(ce=>ce.id===Re.id?Re:ce)),delete:Re=>ie(g.filter(ce=>ce.id!==Re))},Ce={add:Re=>y(ce=>[Re,...ce]),delete:Re=>y(ce=>ce.filter(dt=>dt.id!==Re)),saveSettings:Re=>C(Re)},Le=async(Re,ce,dt,gt,de)=>{O(!0);const Ne={id:Date.now().toString(),to:Re,cc:de,subject:ce,body:dt,timestamp:Date.now(),status:"sending",attachments:gt.map(Pe=>({name:Pe.name,size:Pe.size})),smtpProfileName:"Brevo API"};R(Pe=>[Ne,...Pe].slice(0,50));try{const He=(await Promise.all(gt.map(async ft=>ft.file?new Promise((ot,St)=>{const yt=new FileReader;yt.onload=()=>{const wt=yt.result.split(",")[1];ot({name:ft.name,content:wt})},yt.onerror=wt=>St(wt),yt.readAsDataURL(ft.file)}):null))).filter(ft=>ft!==null);if(!(await fetch("https://abundant-freedom-production-d5c4.up.railway.app/api/Mail/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Re,subject:ce,body:dt,cc:de.length>0?de:null,attachments:He})})).ok)throw new Error("Error en el servidor de Railway");return R(ft=>ft.map(ot=>ot.id===Ne.id?{...ot,status:"sent"}:ot)),!0}catch(Pe){return console.error("Error enviando con adjuntos:",Pe),R(He=>He.map(Ue=>Ue.id===Ne.id?{...Ue,status:"failed"}:Ue)),!1}finally{O(!1)}};return E.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 overflow-hidden text-left font-sans",children:[E.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 dark:bg-slate-900 dark:border-slate-800 flex flex-col shrink-0",children:[E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[E.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-200 dark:shadow-none",children:E.jsx(By,{className:"text-white w-6 h-6"})}),E.jsx("h1",{className:"font-bold text-xl tracking-tight dark:text-white",children:K.appTitle})]}),E.jsx("nav",{className:"space-y-1",children:[{id:"compose",label:K.navCompose,icon:i_},{id:"agenda",label:K.navContacts,icon:Hm},{id:"templates",label:K.navTemplates,icon:av},{id:"groups",label:K.navGroups,icon:Vx},{id:"censos",label:K.navCensos,icon:XA},{id:"history",label:K.navHistory,icon:Q9}].map(Re=>E.jsxs("button",{onClick:()=>e(Re.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n===Re.id?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:bg-slate-50 dark:text-slate-400 dark:hover:bg-slate-800/50"}`,children:[E.jsx(Re.icon,{size:18,strokeWidth:n===Re.id?2.5:2})," ",Re.label]},Re.id))})]}),E.jsxs("div",{className:"mt-auto p-6 border-t border-slate-100 dark:border-slate-800 space-y-2",children:[E.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="settings"?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:bg-slate-50 dark:text-slate-400 dark:hover:bg-slate-800/50"}`,children:[E.jsx($A,{size:18,strokeWidth:n==="settings"?2.5:2})," ",K.navOptions]}),E.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-slate-400 dark:text-slate-500 opacity-60",children:[E.jsx(fB,{size:18}),E.jsx("span",{className:"text-sm font-medium",children:K.navSignOut})]})]})]}),E.jsx("main",{className:"flex-1 overflow-y-auto",children:E.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-8",children:[n==="compose"&&E.jsx(gJ,{onSend:Le,isSending:W,smtpReady:!!t.find(Re=>Re.id===i),smtpProfiles:t,activeProfileId:i,onSelectProfile:G.setActive,contacts:s,contactGroups:c,templates:h,pdfTemplates:g,groupEmails:q,onSaveTemplate:ye.add,lang:j,attachmentSizeLimit:Q,pdfSettings:S}),n==="agenda"&&E.jsx(yJ,{contacts:s,onAction:Y,contactGroups:c,onGroupAction:se,lang:j}),n==="templates"&&E.jsx(wJ,{templates:h,onAction:ye,lang:j}),n==="groups"&&E.jsx(SJ,{emails:q,onSave:M,lang:j}),n==="censos"&&E.jsx(oue,{files:w,settings:S,onAction:Ce,lang:j,onSendEmail:Le,smtpProfiles:t,globalSmtpId:i}),n==="history"&&E.jsx(vJ,{history:L,lang:j}),n==="settings"&&E.jsx(oz,{smtpConfigs:t,onSmtpAction:G,activeSmtpId:i,sheetUrl:D,onSaveSheetUrl:Re=>{z(Re),localStorage.setItem("google_sheets_url",Re)},lang:j,onLangChange:ee,isDarkMode:fe,onToggleMode:()=>ue(!fe),attachmentSizeLimit:Q,onSaveAttachmentSizeLimit:H,pdfTemplates:g,onPdfTemplateAction:ke,censusSettings:S,onSaveCensusSettings:Ce.saveSettings})]})}),W&&E.jsxs("div",{className:"fixed bottom-8 right-8 bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-bounce z-50",children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),E.jsx("span",{className:"font-medium",children:K.sendingMessage})]})]})},X7=document.getElementById("root");if(!X7)throw new Error("Could not find root element to mount to");const uue=p9.createRoot(X7);uue.render(E.jsx(s9.StrictMode,{children:E.jsx(cue,{})}));export{Dr as _,hue as c,LL as g};
