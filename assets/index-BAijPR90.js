var i9=Object.defineProperty;var $k=n=>{throw TypeError(n)};var s9=(n,e,t)=>e in n?i9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pt=(n,e,t)=>s9(n,typeof e!="symbol"?e+"":e,t),XS=(n,e,t)=>e.has(n)||$k("Cannot "+t);var x=(n,e,t)=>(XS(n,e,"read from private field"),t?t.call(n):e.get(n)),ne=(n,e,t)=>e.has(n)?$k("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),X=(n,e,t,r)=>(XS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ae=(n,e,t)=>(XS(n,e,"access private method"),t);var Ya=(n,e,t,r)=>({set _(i){X(n,e,i,t)},get _(){return x(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Due=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YS={exports:{}},sx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function a9(){if(Xk)return sx;Xk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return sx.Fragment=e,sx.jsx=t,sx.jsxs=t,sx}var Yk;function o9(){return Yk||(Yk=1,YS.exports=a9()),YS.exports}var S=o9(),KS={exports:{}},Mn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk;function l9(){if(Kk)return Mn;Kk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function T(se,I,U){this.props=se,this.context=I,this.refs=_,this.updater=U||b}T.prototype.isReactComponent={},T.prototype.setState=function(se,I){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,I,"setState")},T.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function L(){}L.prototype=T.prototype;function R(se,I,U){this.props=se,this.context=I,this.refs=_,this.updater=U||b}var D=R.prototype=new L;D.constructor=R,w(D,T.prototype),D.isPureReactComponent=!0;var j=Array.isArray;function G(){}var P={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function O(se,I,U){var z=U.ref;return{$$typeof:n,type:se,key:I,ref:z!==void 0?z:null,props:U}}function ee(se,I){return O(se.type,I,se.props)}function B(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function q(se){var I={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(U){return I[U]})}var Q=/\/+/g;function re(se,I){return typeof se=="object"&&se!==null&&se.key!=null?q(""+se.key):I.toString(36)}function ge(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(G,G):(se.status="pending",se.then(function(I){se.status==="pending"&&(se.status="fulfilled",se.value=I)},function(I){se.status==="pending"&&(se.status="rejected",se.reason=I)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function K(se,I,U,z,Y){var oe=typeof se;(oe==="undefined"||oe==="boolean")&&(se=null);var ye=!1;if(se===null)ye=!0;else switch(oe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(se.$$typeof){case n:case e:ye=!0;break;case h:return ye=se._init,K(ye(se._payload),I,U,z,Y)}}if(ye)return Y=Y(se),ye=z===""?"."+re(se,0):z,j(Y)?(U="",ye!=null&&(U=ye.replace(Q,"$&/")+"/"),K(Y,I,U,"",function(Re){return Re})):Y!=null&&(B(Y)&&(Y=ee(Y,U+(Y.key==null||se&&se.key===Y.key?"":(""+Y.key).replace(Q,"$&/")+"/")+ye)),I.push(Y)),1;ye=0;var fe=z===""?".":z+":";if(j(se))for(var Ae=0;Ae<se.length;Ae++)z=se[Ae],oe=fe+re(z,Ae),ye+=K(z,I,U,oe,Y);else if(Ae=m(se),typeof Ae=="function")for(se=Ae.call(se),Ae=0;!(z=se.next()).done;)z=z.value,oe=fe+re(z,Ae++),ye+=K(z,I,U,oe,Y);else if(oe==="object"){if(typeof se.then=="function")return K(ge(se),I,U,z,Y);throw I=String(se),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ce(se,I,U){if(se==null)return se;var z=[],Y=0;return K(se,z,"","",function(oe){return I.call(U,oe,Y++)}),z}function Te(se){if(se._status===-1){var I=se._result;I=I(),I.then(function(U){(se._status===0||se._status===-1)&&(se._status=1,se._result=U)},function(U){(se._status===0||se._status===-1)&&(se._status=2,se._result=U)}),se._status===-1&&(se._status=0,se._result=I)}if(se._status===1)return se._result.default;throw se._result}var me=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)},Oe={map:ce,forEach:function(se,I,U){ce(se,function(){I.apply(this,arguments)},U)},count:function(se){var I=0;return ce(se,function(){I++}),I},toArray:function(se){return ce(se,function(I){return I})||[]},only:function(se){if(!B(se))throw Error("React.Children.only expected to receive a single React element child.");return se}};return Mn.Activity=p,Mn.Children=Oe,Mn.Component=T,Mn.Fragment=t,Mn.Profiler=i,Mn.PureComponent=R,Mn.StrictMode=r,Mn.Suspense=c,Mn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Mn.__COMPILER_RUNTIME={__proto__:null,c:function(se){return P.H.useMemoCache(se)}},Mn.cache=function(se){return function(){return se.apply(null,arguments)}},Mn.cacheSignal=function(){return null},Mn.cloneElement=function(se,I,U){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var z=w({},se.props),Y=se.key;if(I!=null)for(oe in I.key!==void 0&&(Y=""+I.key),I)!W.call(I,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&I.ref===void 0||(z[oe]=I[oe]);var oe=arguments.length-2;if(oe===1)z.children=U;else if(1<oe){for(var ye=Array(oe),fe=0;fe<oe;fe++)ye[fe]=arguments[fe+2];z.children=ye}return O(se.type,Y,z)},Mn.createContext=function(se){return se={$$typeof:a,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:s,_context:se},se},Mn.createElement=function(se,I,U){var z,Y={},oe=null;if(I!=null)for(z in I.key!==void 0&&(oe=""+I.key),I)W.call(I,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Y[z]=I[z]);var ye=arguments.length-2;if(ye===1)Y.children=U;else if(1<ye){for(var fe=Array(ye),Ae=0;Ae<ye;Ae++)fe[Ae]=arguments[Ae+2];Y.children=fe}if(se&&se.defaultProps)for(z in ye=se.defaultProps,ye)Y[z]===void 0&&(Y[z]=ye[z]);return O(se,oe,Y)},Mn.createRef=function(){return{current:null}},Mn.forwardRef=function(se){return{$$typeof:o,render:se}},Mn.isValidElement=B,Mn.lazy=function(se){return{$$typeof:h,_payload:{_status:-1,_result:se},_init:Te}},Mn.memo=function(se,I){return{$$typeof:u,type:se,compare:I===void 0?null:I}},Mn.startTransition=function(se){var I=P.T,U={};P.T=U;try{var z=se(),Y=P.S;Y!==null&&Y(U,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(G,me)}catch(oe){me(oe)}finally{I!==null&&U.types!==null&&(I.types=U.types),P.T=I}},Mn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Mn.use=function(se){return P.H.use(se)},Mn.useActionState=function(se,I,U){return P.H.useActionState(se,I,U)},Mn.useCallback=function(se,I){return P.H.useCallback(se,I)},Mn.useContext=function(se){return P.H.useContext(se)},Mn.useDebugValue=function(){},Mn.useDeferredValue=function(se,I){return P.H.useDeferredValue(se,I)},Mn.useEffect=function(se,I){return P.H.useEffect(se,I)},Mn.useEffectEvent=function(se){return P.H.useEffectEvent(se)},Mn.useId=function(){return P.H.useId()},Mn.useImperativeHandle=function(se,I,U){return P.H.useImperativeHandle(se,I,U)},Mn.useInsertionEffect=function(se,I){return P.H.useInsertionEffect(se,I)},Mn.useLayoutEffect=function(se,I){return P.H.useLayoutEffect(se,I)},Mn.useMemo=function(se,I){return P.H.useMemo(se,I)},Mn.useOptimistic=function(se,I){return P.H.useOptimistic(se,I)},Mn.useReducer=function(se,I,U){return P.H.useReducer(se,I,U)},Mn.useRef=function(se){return P.H.useRef(se)},Mn.useState=function(se){return P.H.useState(se)},Mn.useSyncExternalStore=function(se,I,U){return P.H.useSyncExternalStore(se,I,U)},Mn.useTransition=function(){return P.H.useTransition()},Mn.version="19.2.4",Mn}var Jk;function a4(){return Jk||(Jk=1,KS.exports=l9()),KS.exports}var nt=a4();const c9=OL(nt);var JS={exports:{}},ax={},ZS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk;function u9(){return Zk||(Zk=1,(function(n){function e(K,ce){var Te=K.length;K.push(ce);e:for(;0<Te;){var me=Te-1>>>1,Oe=K[me];if(0<i(Oe,ce))K[me]=ce,K[Te]=Oe,Te=me;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ce=K[0],Te=K.pop();if(Te!==ce){K[0]=Te;e:for(var me=0,Oe=K.length,se=Oe>>>1;me<se;){var I=2*(me+1)-1,U=K[I],z=I+1,Y=K[z];if(0>i(U,Te))z<Oe&&0>i(Y,U)?(K[me]=Y,K[z]=Te,me=z):(K[me]=U,K[I]=Te,me=I);else if(z<Oe&&0>i(Y,Te))K[me]=Y,K[z]=Te,me=z;else break e}}return ce}function i(K,ce){var Te=K.sortIndex-ce.sortIndex;return Te!==0?Te:K.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,g=3,m=!1,b=!1,w=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var ce=t(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=K)r(u),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=t(u)}}function j(K){if(w=!1,D(K),!b)if(t(c)!==null)b=!0,G||(G=!0,q());else{var ce=t(u);ce!==null&&ge(j,ce.startTime-K)}}var G=!1,P=-1,W=5,O=-1;function ee(){return _?!0:!(n.unstable_now()-O<W)}function B(){if(_=!1,G){var K=n.unstable_now();O=K;var ce=!0;try{e:{b=!1,w&&(w=!1,L(P),P=-1),m=!0;var Te=g;try{t:{for(D(K),p=t(c);p!==null&&!(p.expirationTime>K&&ee());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var Oe=me(p.expirationTime<=K);if(K=n.unstable_now(),typeof Oe=="function"){p.callback=Oe,D(K),ce=!0;break t}p===t(c)&&r(c),D(K)}else r(c);p=t(c)}if(p!==null)ce=!0;else{var se=t(u);se!==null&&ge(j,se.startTime-K),ce=!1}}break e}finally{p=null,g=Te,m=!1}ce=void 0}}finally{ce?q():G=!1}}}var q;if(typeof R=="function")q=function(){R(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=B,q=function(){re.postMessage(null)}}else q=function(){T(B,0)};function ge(K,ce){P=T(function(){K(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ce=3;break;default:ce=g}var Te=g;g=ce;try{return K()}finally{g=Te}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Te=g;g=K;try{return ce()}finally{g=Te}},n.unstable_scheduleCallback=function(K,ce,Te){var me=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?me+Te:me):Te=me,K){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=Te+Oe,K={id:h++,callback:ce,priorityLevel:K,startTime:Te,expirationTime:Oe,sortIndex:-1},Te>me?(K.sortIndex=Te,e(u,K),t(c)===null&&K===t(u)&&(w?(L(P),P=-1):w=!0,ge(j,Te-me))):(K.sortIndex=Oe,e(c,K),b||m||(b=!0,G||(G=!0,q()))),K},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(K){var ce=g;return function(){var Te=g;g=ce;try{return K.apply(this,arguments)}finally{g=Te}}}})(QS)),QS}var Qk;function f9(){return Qk||(Qk=1,ZS.exports=u9()),ZS.exports}var eA={exports:{}},va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function h9(){if(eN)return va;eN=1;var n=a4();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:u,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,va.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,h)},va.flushSync=function(c){var u=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=u,r.p=h,r.d.f()}},va.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},va.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},va.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},va.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},va.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},va.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=o(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},va.requestFormReset=function(c){r.d.r(c)},va.unstable_batchedUpdates=function(c,u){return c(u)},va.useFormState=function(c,u,h){return a.H.useFormState(c,u,h)},va.useFormStatus=function(){return a.H.useHostTransitionStatus()},va.version="19.2.4",va}var tN;function d9(){if(tN)return eA.exports;tN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eA.exports=h9(),eA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function p9(){if(nN)return ax;nN=1;var n=f9(),e=a4(),t=d9();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var f=l,d=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(d=f.return),l=f.return;while(l)}return f.tag===3?d:null}function a(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(r(188))}function u(l){var f=l.alternate;if(!f){if(f=s(l),f===null)throw Error(r(188));return f!==l?null:l}for(var d=l,v=f;;){var C=d.return;if(C===null)break;var N=C.alternate;if(N===null){if(v=C.return,v!==null){d=v;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===d)return c(C),l;if(N===v)return c(C),f;N=N.sibling}throw Error(r(188))}if(d.return!==v.return)d=C,v=N;else{for(var V=!1,ue=C.child;ue;){if(ue===d){V=!0,d=C,v=N;break}if(ue===v){V=!0,v=C,d=N;break}ue=ue.sibling}if(!V){for(ue=N.child;ue;){if(ue===d){V=!0,d=N,v=C;break}if(ue===v){V=!0,v=N,d=C;break}ue=ue.sibling}if(!V)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Symbol.for("react.client.reference");function re(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Q?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case R:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case D:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return f=l.displayName||null,f!==null?f:re(l.type)||"Memo";case W:f=l._payload,l=l._init;try{return re(l(f))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},me=[],Oe=-1;function se(l){return{current:l}}function I(l){0>Oe||(l.current=me[Oe],me[Oe]=null,Oe--)}function U(l,f){Oe++,me[Oe]=l.current,l.current=f}var z=se(null),Y=se(null),oe=se(null),ye=se(null);function fe(l,f){switch(U(oe,f),U(Y,l),U(z,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?mk(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=mk(f),l=vk(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}I(z),U(z,l)}function Ae(){I(z),I(Y),I(oe)}function Re(l){l.memoizedState!==null&&U(ye,l);var f=z.current,d=vk(f,l.type);f!==d&&(U(Y,l),U(z,d))}function et(l){Y.current===l&&(I(z),I(Y)),ye.current===l&&(I(ye),tx._currentValue=Te)}var de,gt;function vt(l){if(de===void 0)try{throw Error()}catch(d){var f=d.stack.trim().match(/\n( *(at )?)/);de=f&&f[1]||"",gt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+l+gt}var pe=!1;function He(l,f){if(!l||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(tt){var Ze=tt}Reflect.construct(l,[],mt)}else{try{mt.call()}catch(tt){Ze=tt}l.call(mt.prototype)}}else{try{throw Error()}catch(tt){Ze=tt}(mt=l())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(tt){if(tt&&Ze&&typeof tt.stack=="string")return[tt.stack,Ze.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),V=N[0],ue=N[1];if(V&&ue){var Le=V.split(`
`),Ye=ue.split(`
`);for(C=v=0;v<Le.length&&!Le[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Ye.length&&!Ye[C].includes("DetermineComponentFrameRoot");)C++;if(v===Le.length||C===Ye.length)for(v=Le.length-1,C=Ye.length-1;1<=v&&0<=C&&Le[v]!==Ye[C];)C--;for(;1<=v&&0<=C;v--,C--)if(Le[v]!==Ye[C]){if(v!==1||C!==1)do if(v--,C--,0>C||Le[v]!==Ye[C]){var ct=`
`+Le[v].replace(" at new "," at ");return l.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",l.displayName)),ct}while(1<=v&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?vt(d):""}function Ke(l,f){switch(l.tag){case 26:case 27:case 5:return vt(l.type);case 16:return vt("Lazy");case 13:return l.child!==f&&f!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return He(l.type,!1);case 11:return He(l.type.render,!1);case 1:return He(l.type,!0);case 31:return vt("Activity");default:return""}}function St(l){try{var f="",d=null;do f+=Ke(l,d),d=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var it=Object.prototype.hasOwnProperty,Dt=n.unstable_scheduleCallback,Ct=n.unstable_cancelCallback,$t=n.unstable_shouldYield,_e=n.unstable_requestPaint,Je=n.unstable_now,ut=n.unstable_getCurrentPriorityLevel,pt=n.unstable_ImmediatePriority,Ut=n.unstable_UserBlockingPriority,wt=n.unstable_NormalPriority,lt=n.unstable_LowPriority,Pe=n.unstable_IdlePriority,Qe=n.log,Ht=n.unstable_setDisableYieldValue,kt=null,Nt=null;function Bt(l){if(typeof Qe=="function"&&Ht(l),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(kt,l)}catch{}}var En=Math.clz32?Math.clz32:Wt,Gt=Math.log,Rn=Math.LN2;function Wt(l){return l>>>=0,l===0?32:31-(Gt(l)/Rn|0)|0}var dn=256,Kn=262144,fn=4194304;function Xt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Jn(l,f,d){var v=l.pendingLanes;if(v===0)return 0;var C=0,N=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var ue=v&134217727;return ue!==0?(v=ue&~N,v!==0?C=Xt(v):(V&=ue,V!==0?C=Xt(V):d||(d=ue&~l,d!==0&&(C=Xt(d))))):(ue=v&~N,ue!==0?C=Xt(ue):V!==0?C=Xt(V):d||(d=v&~l,d!==0&&(C=Xt(d)))),C===0?0:f!==0&&f!==C&&(f&N)===0&&(N=C&-C,d=f&-f,N>=d||N===32&&(d&4194048)!==0)?f:C}function za(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function ts(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var l=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),l}function da(l){for(var f=[],d=0;31>d;d++)f.push(l);return f}function cn(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function jo(l,f,d,v,C,N){var V=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var ue=l.entanglements,Le=l.expirationTimes,Ye=l.hiddenUpdates;for(d=V&~d;0<d;){var ct=31-En(d),mt=1<<ct;ue[ct]=0,Le[ct]=-1;var Ze=Ye[ct];if(Ze!==null)for(Ye[ct]=null,ct=0;ct<Ze.length;ct++){var tt=Ze[ct];tt!==null&&(tt.lane&=-536870913)}d&=~mt}v!==0&&ho(l,v,0),N!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=N&~(V&~f))}function ho(l,f,d){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-En(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|d&261930}function ds(l,f){var d=l.entangledLanes|=f;for(l=l.entanglements;d;){var v=31-En(d),C=1<<v;C&f|l[v]&f&&(l[v]|=f),d&=~C}}function Xs(l,f){var d=f&-f;return d=(d&42)!==0?1:Pr(d),(d&(l.suspendedLanes|f))!==0?0:d}function Pr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ci(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=ce.p;return l!==0?l:(l=window.event,l===void 0?32:Hk(l.type))}function Ce(l,f){var d=ce.p;try{return ce.p=l,f()}finally{ce.p=d}}var ve=Math.random().toString(36).slice(2),xe="__reactFiber$"+ve,we="__reactProps$"+ve,Ne="__reactContainer$"+ve,je="__reactEvents$"+ve,rt="__reactListeners$"+ve,qe="__reactHandles$"+ve,Ve="__reactResources$"+ve,$e="__reactMarker$"+ve;function _t(l){delete l[xe],delete l[we],delete l[je],delete l[rt],delete l[qe]}function Tt(l){var f=l[xe];if(f)return f;for(var d=l.parentNode;d;){if(f=d[Ne]||d[xe]){if(d=f.alternate,f.child!==null||d!==null&&d.child!==null)for(l=Ak(l);l!==null;){if(d=l[xe])return d;l=Ak(l)}return f}l=d,d=l.parentNode}return null}function Ft(l){if(l=l[xe]||l[Ne]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Et(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function Lt(l){var f=l[Ve];return f||(f=l[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Kt(l){l[$e]=!0}var wr=new Set,qn={};function Tr(l,f){Ys(l,f),Ys(l+"Capture",f)}function Ys(l,f){for(qn[l]=f,l=0;l<f.length;l++)wr.add(f[l])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},ja={};function gu(l){return it.call(ja,l)?!0:it.call(qo,l)?!1:Go.test(l)?ja[l]=!0:(qo[l]=!0,!1)}function Zr(l,f,d){if(gu(f))if(d===null)l.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+d)}}function fc(l,f,d){if(d===null)l.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+d)}}function Vo(l,f,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(f,d,""+v)}}function ur(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function x0(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Tl(l,f,d){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var C=v.get,N=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return C.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function mu(l){if(!l._valueTracker){var f=x0(l)?"checked":"value";l._valueTracker=Tl(l,f,""+l[f])}}function y0(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var d=f.getValue(),v="";return l&&(v=x0(l)?l.checked?"true":"false":l.value),l=v,l!==d?(f.setValue(l),!0):!1}function Ks(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zi=/[\n"\\]/g;function ki(l){return l.replace(zi,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Oh(l,f,d,v,C,N,V,ue){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),f!=null?V==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+ur(f)):l.value!==""+ur(f)&&(l.value=""+ur(f)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),f!=null?b0(l,V,ur(f)):d!=null?b0(l,V,ur(d)):v!=null&&l.removeAttribute("value"),C==null&&N!=null&&(l.defaultChecked=!!N),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?l.name=""+ur(ue):l.removeAttribute("name")}function Mg(l,f,d,v,C,N,V,ue){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),f!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||f!=null)){mu(l);return}d=d!=null?""+ur(d):"",f=f!=null?""+ur(f):d,ue||f===l.value||(l.value=f),l.defaultValue=f}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=ue?l.checked:!!v,l.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),mu(l)}function b0(l,f,d){f==="number"&&Ks(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function Js(l,f,d,v){if(l=l.options,f){f={};for(var C=0;C<d.length;C++)f["$"+d[C]]=!0;for(d=0;d<l.length;d++)C=f.hasOwnProperty("$"+l[d].value),l[d].selected!==C&&(l[d].selected=C),C&&v&&(l[d].defaultSelected=!0)}else{for(d=""+ur(d),f=null,C=0;C<l.length;C++){if(l[C].value===d){l[C].selected=!0,v&&(l[C].defaultSelected=!0);return}f!==null||l[C].disabled||(f=l[C])}f!==null&&(f.selected=!0)}}function w0(l,f,d){if(f!=null&&(f=""+ur(f),f!==l.value&&(l.value=f),d==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=d!=null?""+ur(d):""}function _0(l,f,d,v){if(f==null){if(v!=null){if(d!=null)throw Error(r(92));if(ge(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),f=d}d=ur(f),l.defaultValue=d,v=l.textContent,v===d&&v!==""&&v!==null&&(l.value=v),mu(l)}function Wo(l,f){if(f){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=f;return}}l.textContent=f}var df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dg(l,f,d){var v=f.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,d):typeof d!="number"||d===0||df.has(f)?f==="float"?l.cssFloat=d:l[f]=(""+d).trim():l[f]=d+"px"}function Fg(l,f,d){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var C in f)v=f[C],f.hasOwnProperty(C)&&d[C]!==v&&Dg(l,C,v)}else for(var N in f)f.hasOwnProperty(N)&&Dg(l,N,f[N])}function S0(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(l){return Pg.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function $o(){}var hc=null;function pf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var vu=null,vn=null;function Og(l){var f=Ft(l);if(f&&(l=f.stateNode)){var d=l[we]||null;e:switch(l=f.stateNode,f.type){case"input":if(Oh(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),f=d.name,d.type==="radio"&&f!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ki(""+f)+'"][type="radio"]'),f=0;f<d.length;f++){var v=d[f];if(v!==l&&v.form===l.form){var C=v[we]||null;if(!C)throw Error(r(90));Oh(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<d.length;f++)v=d[f],v.form===l.form&&y0(v)}break e;case"textarea":w0(l,d.value,d.defaultValue);break e;case"select":f=d.value,f!=null&&Js(l,!!d.multiple,f,!1)}}}var E0=!1;function Bg(l,f,d){if(E0)return l(f,d);E0=!0;try{var v=l(f);return v}finally{if(E0=!1,(vu!==null||vn!==null)&&(Tb(),vu&&(f=vu,l=vn,vn=vu=null,Og(f),l)))for(f=0;f<l.length;f++)Og(l[f])}}function Ga(l,f){var d=l.stateNode;if(d===null)return null;var v=d[we]||null;if(v===null)return null;d=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,f,typeof d));return d}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=!1;if(ps)try{var gf={};Object.defineProperty(gf,"passive",{get:function(){T0=!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{T0=!1}var qa=null,mf=null,Cl=null;function Ug(){if(Cl)return Cl;var l,f=mf,d=f.length,v,C="value"in qa?qa.value:qa.textContent,N=C.length;for(l=0;l<d&&f[l]===C[l];l++);var V=d-l;for(v=1;v<=V&&f[d-v]===C[N-v];v++);return Cl=C.slice(l,1<v?1-v:void 0)}function po(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Bh(){return!0}function Uh(){return!1}function ns(l){function f(d,v,C,N,V){this._reactName=d,this._targetInst=C,this.type=v,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(d=l[ue],this[ue]=d?d(N):N[ue]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Bh:Uh,this.isPropagationStopped=Uh,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),f}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=ns(kl),dc=p({},kl,{view:0,detail:0}),Hh=ns(dc),vf,pc,gc,xf=p({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==gc&&(gc&&l.type==="mousemove"?(vf=l.screenX-gc.screenX,pc=l.screenY-gc.screenY):pc=vf=0,gc=l),vf)},movementY:function(l){return"movementY"in l?l.movementY:pc}}),C0=ns(xf),mc=p({},xf,{dataTransfer:0}),vc=ns(mc),Hg=p({},dc,{relatedTarget:0}),xc=ns(Hg),zg=p({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),M=ns(zg),J=p({},kl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ke=ns(J),Ie=p({},kl,{data:0}),Be=ns(Ie),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sn(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Qt[l])?!!f[l]:!1}function wn(){return sn}var Ln=p({},dc,{key:function(l){if(l.key){var f=ft[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=po(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?yt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(l){return l.type==="keypress"?po(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?po(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),rr=ns(Ln),Qr=p({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ns(Qr),Or=p({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),ji=ns(Or),Ni=p({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gs=ns(Ni),yc=p({},xf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=ns(yc),bc=p({},kl,{newState:0,oldState:0}),k0=ns(bc),zh=[9,13,27,32],Nl=ps&&"CompositionEvent"in window,Yo=null;ps&&"documentMode"in document&&(Yo=document.documentMode);var yf=ps&&"TextEvent"in window&&!Yo,wc=ps&&(!Nl||Yo&&8<Yo&&11>=Yo),rs=" ",xu=!1;function yu(l,f){switch(l){case"keyup":return zh.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Rl=!1;function Zs(l,f){switch(l){case"compositionend":return jh(f);case"keypress":return f.which!==32?null:(xu=!0,rs);case"textInput":return l=f.data,l===rs&&xu?null:l;default:return null}}function _c(l,f){if(Rl)return l==="compositionend"||!Nl&&yu(l,f)?(l=Ug(),Cl=mf=qa=null,Rl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return wc&&f.locale!=="ko"?null:f.data;default:return null}}var Gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!Gh[l.type]:f==="textarea"}function Va(l,f,d,v){vu?vn?vn.push(v):vn=[v]:vu=v,f=Mb(f,"onChange"),0<f.length&&(d=new go("onChange","change",null,d,v),l.push({event:d,listeners:f}))}var Ko=null,Sc=null;function R0(l){uk(l,0)}function Jo(l){var f=Et(l);if(y0(f))return l}function bu(l,f){if(l==="change")return f}var ga=!1;if(ps){var Qs;if(ps){var Ll="oninput"in document;if(!Ll){var Il=document.createElement("div");Il.setAttribute("oninput","return;"),Ll=typeof Il.oninput=="function"}Qs=Ll}else Qs=!1;ga=Qs&&(!document.documentMode||9<document.documentMode)}function Ac(){Ko&&(Ko.detachEvent("onpropertychange",qh),Sc=Ko=null)}function qh(l){if(l.propertyName==="value"&&Jo(Sc)){var f=[];Va(f,Sc,l,pf(l)),Bg(R0,f)}}function Vh(l,f,d){l==="focusin"?(Ac(),Ko=f,Sc=d,Ko.attachEvent("onpropertychange",qh)):l==="focusout"&&Ac()}function yi(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Jo(Sc)}function jg(l,f){if(l==="click")return Jo(f)}function Ml(l,f){if(l==="input"||l==="change")return Jo(f)}function Dl(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var ms=typeof Object.is=="function"?Object.is:Dl;function Ec(l,f){if(ms(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var d=Object.keys(l),v=Object.keys(f);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var C=d[v];if(!it.call(f,C)||!ms(l[C],f[C]))return!1}return!0}function Wh(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function $h(l,f){var d=Wh(l);l=0;for(var v;d;){if(d.nodeType===3){if(v=l+d.textContent.length,l<=f&&v>=f)return{node:d,offset:f-l};l=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Wh(d)}}function Tc(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Tc(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Cc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Ks(l.document);f instanceof l.HTMLIFrameElement;){try{var d=typeof f.contentWindow.location.href=="string"}catch{d=!1}if(d)l=f.contentWindow;else break;f=Ks(l.document)}return f}function Fl(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var bf=ps&&"documentMode"in document&&11>=document.documentMode,Wa=null,kc=null,Ls=null,mo=!1;function fr(l,f,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;mo||Wa==null||Wa!==Ks(v)||(v=Wa,"selectionStart"in v&&Fl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ls&&Ec(Ls,v)||(Ls=v,v=Mb(kc,"onSelect"),0<v.length&&(f=new go("onSelect","select",null,f,d),l.push({event:f,listeners:v}),f.target=Wa)))}function ir(l,f){var d={};return d[l.toLowerCase()]=f.toLowerCase(),d["Webkit"+l]="webkit"+f,d["Moz"+l]="moz"+f,d}var Br={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},bi={},Pl={};ps&&(Pl=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Zo(l){if(bi[l])return bi[l];if(!Br[l])return l;var f=Br[l],d;for(d in f)if(f.hasOwnProperty(d)&&d in Pl)return bi[l]=f[d];return l}var wf=Zo("animationend"),L0=Zo("animationiteration"),Av=Zo("animationstart"),nb=Zo("transitionrun"),rb=Zo("transitionstart"),ib=Zo("transitioncancel"),Ev=Zo("transitionend"),Tv=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function vo(l,f){Tv.set(l,f),Tr(f,[l])}var I0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},$a=[],Sf=0,Gg=0;function M0(){for(var l=Sf,f=Gg=Sf=0;f<l;){var d=$a[f];$a[f++]=null;var v=$a[f];$a[f++]=null;var C=$a[f];$a[f++]=null;var N=$a[f];if($a[f++]=null,v!==null&&C!==null){var V=v.pending;V===null?C.next=C:(C.next=V.next,V.next=C),v.pending=C}N!==0&&F0(d,C,N)}}function D0(l,f,d,v){$a[Sf++]=l,$a[Sf++]=f,$a[Sf++]=d,$a[Sf++]=v,Gg|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function qg(l,f,d,v){return D0(l,f,d,v),Is(l)}function Nc(l,f){return D0(l,null,null,f),Is(l)}function F0(l,f,d){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d);for(var C=!1,N=l.return;N!==null;)N.childLanes|=d,v=N.alternate,v!==null&&(v.childLanes|=d),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(C=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,C&&f!==null&&(C=31-En(d),l=N.hiddenUpdates,v=l[C],v===null?l[C]=[f]:v.push(f),f.lane=d|536870912),N):null}function Is(l){if(50<Xv)throw Xv=0,xS=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var vs={};function Vg(l,f,d,v){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(l,f,d,v){return new Vg(l,f,d,v)}function Wg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function xo(l,f){var d=l.alternate;return d===null?(d=Ms(l.tag,f,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=f,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,f=l.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function P0(l,f){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,f=d.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Xh(l,f,d,v,C,N){var V=0;if(v=l,typeof l=="function")Wg(l)&&(V=1);else if(typeof l=="string")V=WO(l,d,z.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=Ms(31,d,f,C),l.elementType=O,l.lanes=N,l;case w:return wu(d.children,C,N,f);case _:V=8,C|=24;break;case T:return l=Ms(12,d,f,C|2),l.elementType=T,l.lanes=N,l;case j:return l=Ms(13,d,f,C),l.elementType=j,l.lanes=N,l;case G:return l=Ms(19,d,f,C),l.elementType=G,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:V=10;break e;case L:V=9;break e;case D:V=11;break e;case P:V=14;break e;case W:V=16,v=null;break e}V=29,d=Error(r(130,l===null?"null":typeof l,"")),v=null}return f=Ms(V,d,f,C),f.elementType=l,f.type=v,f.lanes=N,f}function wu(l,f,d,v){return l=Ms(7,l,v,f),l.lanes=d,l}function O0(l,f,d){return l=Ms(6,l,null,f),l.lanes=d,l}function $g(l){var f=Ms(18,null,null,0);return f.stateNode=l,f}function Yh(l,f,d){return f=Ms(4,l.children!==null?l.children:[],l.key,f),f.lanes=d,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var Xg=new WeakMap;function yo(l,f){if(typeof l=="object"&&l!==null){var d=Xg.get(l);return d!==void 0?d:(f={value:l,source:f,stack:St(f)},Xg.set(l,f),f)}return{value:l,source:f,stack:St(f)}}var Kh=[],Af=0,Yg=null,B0=0,bo=[],wo=0,_u=null,_o=1,So="";function Xa(l,f){Kh[Af++]=B0,Kh[Af++]=Yg,Yg=l,B0=f}function sb(l,f,d){bo[wo++]=_o,bo[wo++]=So,bo[wo++]=_u,_u=l;var v=_o;l=So;var C=32-En(v)-1;v&=~(1<<C),d+=1;var N=32-En(f)+C;if(30<N){var V=C-C%5;N=(v&(1<<V)-1).toString(32),v>>=V,C-=V,_o=1<<32-En(f)+C|d<<C|v,So=N+l}else _o=1<<N|d<<C|v,So=l}function Cv(l){l.return!==null&&(Xa(l,1),sb(l,1,0))}function Kg(l){for(;l===Yg;)Yg=Kh[--Af],Kh[Af]=null,B0=Kh[--Af],Kh[Af]=null;for(;l===_u;)_u=bo[--wo],bo[wo]=null,So=bo[--wo],bo[wo]=null,_o=bo[--wo],bo[wo]=null}function ab(l,f){bo[wo++]=_o,bo[wo++]=So,bo[wo++]=_u,_o=f.id,So=f.overflow,_u=l}var xs=null,Wr=null,Zn=!1,ea=null,ui=!1,Qo=Error(r(519));function Su(l){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jh(yo(f,l)),Qo}function kv(l){var f=l.stateNode,d=l.type,v=l.memoizedProps;switch(f[xe]=l,f[we]=v,d){case"dialog":er("cancel",f),er("close",f);break;case"iframe":case"object":case"embed":er("load",f);break;case"video":case"audio":for(d=0;d<Kv.length;d++)er(Kv[d],f);break;case"source":er("error",f);break;case"img":case"image":case"link":er("error",f),er("load",f);break;case"details":er("toggle",f);break;case"input":er("invalid",f),Mg(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":er("invalid",f);break;case"textarea":er("invalid",f),_0(f,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||f.textContent===""+d||v.suppressHydrationWarning===!0||pk(f.textContent,d)?(v.popover!=null&&(er("beforetoggle",f),er("toggle",f)),v.onScroll!=null&&er("scroll",f),v.onScrollEnd!=null&&er("scrollend",f),v.onClick!=null&&(f.onclick=$o),f=!0):f=!1,f||Su(l,!0)}function Rc(l){for(xs=l.return;xs;)switch(xs.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:xs=xs.return}}function ys(l){if(l!==xs)return!1;if(!Zn)return Rc(l),Zn=!0,!1;var f=l.tag,d;if((d=f!==3&&f!==27)&&((d=f===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||MS(l.type,l.memoizedProps)),d=!d),d&&Wr&&Su(l),Rc(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=Sk(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=Sk(l)}else f===27?(f=Wr,fd(l.type)?(l=BS,BS=null,Wr=l):Wr=f):Wr=xs?Hl(l.stateNode.nextSibling):null;return!0}function Ef(){Wr=xs=null,Zn=!1}function Nv(){var l=ea;return l!==null&&(No===null?No=l:No.push.apply(No,l),ea=null),l}function Jh(l){ea===null?ea=[l]:ea.push(l)}var Jg=se(null),Au=null,Ol=null;function Eu(l,f,d){U(Jg,f._currentValue),f._currentValue=d}function Ao(l){l._currentValue=Jg.current,I(Jg)}function Zh(l,f,d){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===d)break;l=l.return}}function Tf(l,f,d,v){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var N=C.dependencies;if(N!==null){var V=C.child;N=N.firstContext;e:for(;N!==null;){var ue=N;N=C;for(var Le=0;Le<f.length;Le++)if(ue.context===f[Le]){N.lanes|=d,ue=N.alternate,ue!==null&&(ue.lanes|=d),Zh(N.return,d,l),v||(V=null);break e}N=ue.next}}else if(C.tag===18){if(V=C.return,V===null)throw Error(r(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),Zh(V,d,l),V=null}else V=C.child;if(V!==null)V.return=C;else for(V=C;V!==null;){if(V===l){V=null;break}if(C=V.sibling,C!==null){C.return=V.return,V=C;break}V=V.return}C=V}}function Tu(l,f,d,v){l=null;for(var C=f,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var V=C.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var ue=C.type;ms(C.pendingProps.value,V.value)||(l!==null?l.push(ue):l=[ue])}}else if(C===ye.current){if(V=C.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(tx):l=[tx])}C=C.return}l!==null&&Tf(f,l,d,v),f.flags|=262144}function Zg(l){for(l=l.firstContext;l!==null;){if(!ms(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Cu(l){Au=l,Ol=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function bs(l){return ob(Au,l)}function Qg(l,f){return Au===null&&Cu(l),ob(l,f)}function ob(l,f){var d=f._currentValue;if(f={context:f,memoizedValue:d,next:null},Ol===null){if(l===null)throw Error(r(308));Ol=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else Ol=Ol.next=f;return d}var O5=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(d,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(d){return d()})}},B5=n.unstable_scheduleCallback,U5=n.unstable_NormalPriority,wi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new O5,data:new Map,refCount:0}}function U0(l){l.refCount--,l.refCount===0&&B5(U5,function(){l.controller.abort()})}var H0=null,em=0,A=0,k=null;function F(l,f){if(H0===null){var d=H0=[];em=0,A=AS(),k={status:"pending",value:void 0,then:function(v){d.push(v)}}}return em++,f.then(H,H),f}function H(){if(--em===0&&H0!==null){k!==null&&(k.status="fulfilled");var l=H0;H0=null,A=0,k=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function Z(l,f){var d=[],v={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var C=0;C<d.length;C++)(0,d[C])(f)},function(C){for(v.status="rejected",v.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),v}var ie=K.S;K.S=function(l,f){B3=Je(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&F(l,f),ie!==null&&ie(l,f)};var le=se(null);function he(){var l=le.current;return l!==null?l:Xr.pooledCache}function be(l,f){f===null?U(le,le.current):U(le,f.pool)}function Ee(){var l=he();return l===null?null:{parent:wi._currentValue,pool:l}}var Me=Error(r(460)),We=Error(r(474)),Se=Error(r(542)),Fe={then:function(){}};function ze(l){return l=l.status,l==="fulfilled"||l==="rejected"}function at(l,f,d){switch(d=l[d],d===void 0?l.push(f):d!==f&&(f.then($o,$o),f=d),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,At(l),l;default:if(typeof f.status=="string")f.then($o,$o);else{if(l=Xr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=v}},function(v){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,At(l),l}throw st=f,Me}}function Ge(l){try{var f=l._init;return f(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,Me):d}}var st=null;function ht(){if(st===null)throw Error(r(459));var l=st;return st=null,l}function At(l){if(l===Me||l===Se)throw Error(r(483))}var xt=null,nn=0;function qt(l){var f=nn;return nn+=1,xt===null&&(xt=[]),at(xt,l,f)}function Tn(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Jt(l,f){throw f.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Wn(l){function f(Ue,De){if(l){var Xe=Ue.deletions;Xe===null?(Ue.deletions=[De],Ue.flags|=16):Xe.push(De)}}function d(Ue,De){if(!l)return null;for(;De!==null;)f(Ue,De),De=De.sibling;return null}function v(Ue){for(var De=new Map;Ue!==null;)Ue.key!==null?De.set(Ue.key,Ue):De.set(Ue.index,Ue),Ue=Ue.sibling;return De}function C(Ue,De){return Ue=xo(Ue,De),Ue.index=0,Ue.sibling=null,Ue}function N(Ue,De,Xe){return Ue.index=Xe,l?(Xe=Ue.alternate,Xe!==null?(Xe=Xe.index,Xe<De?(Ue.flags|=67108866,De):Xe):(Ue.flags|=67108866,De)):(Ue.flags|=1048576,De)}function V(Ue){return l&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function ue(Ue,De,Xe,dt){return De===null||De.tag!==6?(De=O0(Xe,Ue.mode,dt),De.return=Ue,De):(De=C(De,Xe),De.return=Ue,De)}function Le(Ue,De,Xe,dt){var gn=Xe.type;return gn===w?ct(Ue,De,Xe.props.children,dt,Xe.key):De!==null&&(De.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===W&&Ge(gn)===De.type)?(De=C(De,Xe.props),Tn(De,Xe),De.return=Ue,De):(De=Xh(Xe.type,Xe.key,Xe.props,null,Ue.mode,dt),Tn(De,Xe),De.return=Ue,De)}function Ye(Ue,De,Xe,dt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Xe.containerInfo||De.stateNode.implementation!==Xe.implementation?(De=Yh(Xe,Ue.mode,dt),De.return=Ue,De):(De=C(De,Xe.children||[]),De.return=Ue,De)}function ct(Ue,De,Xe,dt,gn){return De===null||De.tag!==7?(De=wu(Xe,Ue.mode,dt,gn),De.return=Ue,De):(De=C(De,Xe),De.return=Ue,De)}function mt(Ue,De,Xe){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=O0(""+De,Ue.mode,Xe),De.return=Ue,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case m:return Xe=Xh(De.type,De.key,De.props,null,Ue.mode,Xe),Tn(Xe,De),Xe.return=Ue,Xe;case b:return De=Yh(De,Ue.mode,Xe),De.return=Ue,De;case W:return De=Ge(De),mt(Ue,De,Xe)}if(ge(De)||q(De))return De=wu(De,Ue.mode,Xe,null),De.return=Ue,De;if(typeof De.then=="function")return mt(Ue,qt(De),Xe);if(De.$$typeof===R)return mt(Ue,Qg(Ue,De),Xe);Jt(Ue,De)}return null}function Ze(Ue,De,Xe,dt){var gn=De!==null?De.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return gn!==null?null:ue(Ue,De,""+Xe,dt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case m:return Xe.key===gn?Le(Ue,De,Xe,dt):null;case b:return Xe.key===gn?Ye(Ue,De,Xe,dt):null;case W:return Xe=Ge(Xe),Ze(Ue,De,Xe,dt)}if(ge(Xe)||q(Xe))return gn!==null?null:ct(Ue,De,Xe,dt,null);if(typeof Xe.then=="function")return Ze(Ue,De,qt(Xe),dt);if(Xe.$$typeof===R)return Ze(Ue,De,Qg(Ue,Xe),dt);Jt(Ue,Xe)}return null}function tt(Ue,De,Xe,dt,gn){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Ue=Ue.get(Xe)||null,ue(De,Ue,""+dt,gn);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case m:return Ue=Ue.get(dt.key===null?Xe:dt.key)||null,Le(De,Ue,dt,gn);case b:return Ue=Ue.get(dt.key===null?Xe:dt.key)||null,Ye(De,Ue,dt,gn);case W:return dt=Ge(dt),tt(Ue,De,Xe,dt,gn)}if(ge(dt)||q(dt))return Ue=Ue.get(Xe)||null,ct(De,Ue,dt,gn,null);if(typeof dt.then=="function")return tt(Ue,De,Xe,qt(dt),gn);if(dt.$$typeof===R)return tt(Ue,De,Xe,Qg(De,dt),gn);Jt(De,dt)}return null}function en(Ue,De,Xe,dt){for(var gn=null,mr=null,an=De,Bn=De=0,nr=null;an!==null&&Bn<Xe.length;Bn++){an.index>Bn?(nr=an,an=null):nr=an.sibling;var vr=Ze(Ue,an,Xe[Bn],dt);if(vr===null){an===null&&(an=nr);break}l&&an&&vr.alternate===null&&f(Ue,an),De=N(vr,De,Bn),mr===null?gn=vr:mr.sibling=vr,mr=vr,an=nr}if(Bn===Xe.length)return d(Ue,an),Zn&&Xa(Ue,Bn),gn;if(an===null){for(;Bn<Xe.length;Bn++)an=mt(Ue,Xe[Bn],dt),an!==null&&(De=N(an,De,Bn),mr===null?gn=an:mr.sibling=an,mr=an);return Zn&&Xa(Ue,Bn),gn}for(an=v(an);Bn<Xe.length;Bn++)nr=tt(an,Ue,Bn,Xe[Bn],dt),nr!==null&&(l&&nr.alternate!==null&&an.delete(nr.key===null?Bn:nr.key),De=N(nr,De,Bn),mr===null?gn=nr:mr.sibling=nr,mr=nr);return l&&an.forEach(function(md){return f(Ue,md)}),Zn&&Xa(Ue,Bn),gn}function yn(Ue,De,Xe,dt){if(Xe==null)throw Error(r(151));for(var gn=null,mr=null,an=De,Bn=De=0,nr=null,vr=Xe.next();an!==null&&!vr.done;Bn++,vr=Xe.next()){an.index>Bn?(nr=an,an=null):nr=an.sibling;var md=Ze(Ue,an,vr.value,dt);if(md===null){an===null&&(an=nr);break}l&&an&&md.alternate===null&&f(Ue,an),De=N(md,De,Bn),mr===null?gn=md:mr.sibling=md,mr=md,an=nr}if(vr.done)return d(Ue,an),Zn&&Xa(Ue,Bn),gn;if(an===null){for(;!vr.done;Bn++,vr=Xe.next())vr=mt(Ue,vr.value,dt),vr!==null&&(De=N(vr,De,Bn),mr===null?gn=vr:mr.sibling=vr,mr=vr);return Zn&&Xa(Ue,Bn),gn}for(an=v(an);!vr.done;Bn++,vr=Xe.next())vr=tt(an,Ue,Bn,vr.value,dt),vr!==null&&(l&&vr.alternate!==null&&an.delete(vr.key===null?Bn:vr.key),De=N(vr,De,Bn),mr===null?gn=vr:mr.sibling=vr,mr=vr);return l&&an.forEach(function(r9){return f(Ue,r9)}),Zn&&Xa(Ue,Bn),gn}function jr(Ue,De,Xe,dt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===w&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case m:e:{for(var gn=Xe.key;De!==null;){if(De.key===gn){if(gn=Xe.type,gn===w){if(De.tag===7){d(Ue,De.sibling),dt=C(De,Xe.props.children),dt.return=Ue,Ue=dt;break e}}else if(De.elementType===gn||typeof gn=="object"&&gn!==null&&gn.$$typeof===W&&Ge(gn)===De.type){d(Ue,De.sibling),dt=C(De,Xe.props),Tn(dt,Xe),dt.return=Ue,Ue=dt;break e}d(Ue,De);break}else f(Ue,De);De=De.sibling}Xe.type===w?(dt=wu(Xe.props.children,Ue.mode,dt,Xe.key),dt.return=Ue,Ue=dt):(dt=Xh(Xe.type,Xe.key,Xe.props,null,Ue.mode,dt),Tn(dt,Xe),dt.return=Ue,Ue=dt)}return V(Ue);case b:e:{for(gn=Xe.key;De!==null;){if(De.key===gn)if(De.tag===4&&De.stateNode.containerInfo===Xe.containerInfo&&De.stateNode.implementation===Xe.implementation){d(Ue,De.sibling),dt=C(De,Xe.children||[]),dt.return=Ue,Ue=dt;break e}else{d(Ue,De);break}else f(Ue,De);De=De.sibling}dt=Yh(Xe,Ue.mode,dt),dt.return=Ue,Ue=dt}return V(Ue);case W:return Xe=Ge(Xe),jr(Ue,De,Xe,dt)}if(ge(Xe))return en(Ue,De,Xe,dt);if(q(Xe)){if(gn=q(Xe),typeof gn!="function")throw Error(r(150));return Xe=gn.call(Xe),yn(Ue,De,Xe,dt)}if(typeof Xe.then=="function")return jr(Ue,De,qt(Xe),dt);if(Xe.$$typeof===R)return jr(Ue,De,Qg(Ue,Xe),dt);Jt(Ue,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,De!==null&&De.tag===6?(d(Ue,De.sibling),dt=C(De,Xe),dt.return=Ue,Ue=dt):(d(Ue,De),dt=O0(Xe,Ue.mode,dt),dt.return=Ue,Ue=dt),V(Ue)):d(Ue,De)}return function(Ue,De,Xe,dt){try{nn=0;var gn=jr(Ue,De,Xe,dt);return xt=null,gn}catch(an){if(an===Me||an===Se)throw an;var mr=Ms(29,an,null,Ue.mode);return mr.lanes=dt,mr.return=Ue,mr}finally{}}}var $r=Wn(!0),In=Wn(!1),Vt=!1;function Mt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ei(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function xn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Fn(l,f,d){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Ar&2)!==0){var C=v.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),v.pending=f,f=Is(l),F0(l,null,d),f}return D0(l,v,f,d),Is(l)}function _r(l,f,d){if(f=f.updateQueue,f!==null&&(f=f.shared,(d&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,d|=v,f.lanes=d,ds(l,d)}}function Gi(l,f){var d=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var C=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?C=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?C=N=f:N=N.next=f}else C=N=f;d={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=f:l.next=f,d.lastBaseUpdate=f}var ws=!1;function Ur(){if(ws){var l=k;if(l!==null)throw l}}function Ri(l,f,d,v){ws=!1;var C=l.updateQueue;Vt=!1;var N=C.firstBaseUpdate,V=C.lastBaseUpdate,ue=C.shared.pending;if(ue!==null){C.shared.pending=null;var Le=ue,Ye=Le.next;Le.next=null,V===null?N=Ye:V.next=Ye,V=Le;var ct=l.alternate;ct!==null&&(ct=ct.updateQueue,ue=ct.lastBaseUpdate,ue!==V&&(ue===null?ct.firstBaseUpdate=Ye:ue.next=Ye,ct.lastBaseUpdate=Le))}if(N!==null){var mt=C.baseState;V=0,ct=Ye=Le=null,ue=N;do{var Ze=ue.lane&-536870913,tt=Ze!==ue.lane;if(tt?(tr&Ze)===Ze:(v&Ze)===Ze){Ze!==0&&Ze===A&&(ws=!0),ct!==null&&(ct=ct.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var en=l,yn=ue;Ze=f;var jr=d;switch(yn.tag){case 1:if(en=yn.payload,typeof en=="function"){mt=en.call(jr,mt,Ze);break e}mt=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=yn.payload,Ze=typeof en=="function"?en.call(jr,mt,Ze):en,Ze==null)break e;mt=p({},mt,Ze);break e;case 2:Vt=!0}}Ze=ue.callback,Ze!==null&&(l.flags|=64,tt&&(l.flags|=8192),tt=C.callbacks,tt===null?C.callbacks=[Ze]:tt.push(Ze))}else tt={lane:Ze,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ct===null?(Ye=ct=tt,Le=mt):ct=ct.next=tt,V|=Ze;if(ue=ue.next,ue===null){if(ue=C.shared.pending,ue===null)break;tt=ue,ue=tt.next,tt.next=null,C.lastBaseUpdate=tt,C.shared.pending=null}}while(!0);ct===null&&(Le=mt),C.baseState=Le,C.firstBaseUpdate=Ye,C.lastBaseUpdate=ct,N===null&&(C.shared.lanes=0),ad|=V,l.lanes=V,l.memoizedState=mt}}function Ds(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function Li(l,f){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)Ds(d[l],f)}var jn=se(null),or=se(0);function ti(l,f){l=Pf,U(or,l),U(jn,f),Pf=l|f.baseLanes}function hr(){U(or,Pf),U(jn,jn.current)}function qi(){Pf=or.current,I(jn),I(or)}var ni=se(null),lr=null;function _i(l){var f=l.alternate;U(sr,sr.current&1),U(ni,l),lr===null&&(f===null||jn.current!==null||f.memoizedState!==null)&&(lr=l)}function Sr(l){U(sr,sr.current),U(ni,l),lr===null&&(lr=l)}function Ii(l){l.tag===22?(U(sr,sr.current),U(ni,l),lr===null&&(lr=l)):Mi()}function Mi(){U(sr,sr.current),U(ni,ni.current)}function Cr(l){I(ni),lr===l&&(lr=null),I(sr)}var sr=se(0);function Fs(l){for(var f=l;f!==null;){if(f.tag===13){var d=f.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||PS(d)||OS(d)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var fi=0,hn=null,pn=null,cr=null,ma=!1,Eo=!1,ta=!1,Di=0,ku=0,Nu=null,tm=0;function Hr(){throw Error(r(321))}function Rv(l,f){if(f===null)return!1;for(var d=0;d<f.length&&d<l.length;d++)if(!ms(l[d],f[d]))return!1;return!0}function Lv(l,f,d,v,C,N){return fi=N,hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K.H=l===null||l.memoizedState===null?YC:$5,ta=!1,N=d(v,C),ta=!1,Eo&&(N=Lc(f,d,v,C)),nm(l),N}function nm(l){K.H=Uv;var f=pn!==null&&pn.next!==null;if(fi=0,cr=pn=hn=null,ma=!1,ku=0,Nu=null,f)throw Error(r(300));l===null||ss||(l=l.dependencies,l!==null&&Zg(l)&&(ss=!0))}function Lc(l,f,d,v){hn=l;var C=0;do{if(Eo&&(Nu=null),ku=0,Eo=!1,25<=C)throw Error(r(301));if(C+=1,cr=pn=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}K.H=KC,N=f(d,v)}while(Eo);return N}function H5(){var l=K.H,f=l.useState()[0];return f=typeof f.then=="function"?Ru(f):f,l=l.useState()[0],(pn!==null?pn.memoizedState:null)!==l&&(hn.flags|=1024),f}function Iv(){var l=Di!==0;return Di=0,l}function Mv(l,f,d){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~d}function rm(l){if(ma){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}ma=!1}fi=0,cr=pn=hn=null,Eo=!1,ku=Di=0,Nu=null}function is(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?hn.memoizedState=cr=l:cr=cr.next=l,cr}function hi(){if(pn===null){var l=hn.alternate;l=l!==null?l.memoizedState:null}else l=pn.next;var f=cr===null?hn.memoizedState:cr.next;if(f!==null)cr=f,pn=l;else{if(l===null)throw hn.alternate===null?Error(r(467)):Error(r(310));pn=l,l={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},cr===null?hn.memoizedState=cr=l:cr=cr.next=l}return cr}function z0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(l){var f=ku;return ku+=1,Nu===null&&(Nu=[]),l=at(Nu,l,f),f=hn,(cr===null?f.memoizedState:cr.next)===null&&(f=f.alternate,K.H=f===null||f.memoizedState===null?YC:$5),l}function ed(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ru(l);if(l.$$typeof===R)return bs(l)}throw Error(r(438,String(l)))}function Cf(l){var f=null,d=hn.updateQueue;if(d!==null&&(f=d.memoCache),f==null){var v=hn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),d===null&&(d=z0(),hn.updateQueue=d),d.memoCache=f,d=f.data[f.index],d===void 0)for(d=f.data[f.index]=Array(l),v=0;v<l;v++)d[v]=ee;return f.index++,d}function Bl(l,f){return typeof f=="function"?f(l):f}function im(l){var f=hi();return td(f,pn,l)}function td(l,f,d){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var C=l.baseQueue,N=v.pending;if(N!==null){if(C!==null){var V=C.next;C.next=N.next,N.next=V}f.baseQueue=C=N,v.pending=null}if(N=l.baseState,C===null)l.memoizedState=N;else{f=C.next;var ue=V=null,Le=null,Ye=f,ct=!1;do{var mt=Ye.lane&-536870913;if(mt!==Ye.lane?(tr&mt)===mt:(fi&mt)===mt){var Ze=Ye.revertLane;if(Ze===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),mt===A&&(ct=!0);else if((fi&Ze)===Ze){Ye=Ye.next,Ze===A&&(ct=!0);continue}else mt={lane:0,revertLane:Ye.revertLane,gesture:null,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Le===null?(ue=Le=mt,V=N):Le=Le.next=mt,hn.lanes|=Ze,ad|=Ze;mt=Ye.action,ta&&d(N,mt),N=Ye.hasEagerState?Ye.eagerState:d(N,mt)}else Ze={lane:mt,revertLane:Ye.revertLane,gesture:Ye.gesture,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Le===null?(ue=Le=Ze,V=N):Le=Le.next=Ze,hn.lanes|=mt,ad|=mt;Ye=Ye.next}while(Ye!==null&&Ye!==f);if(Le===null?V=N:Le.next=ue,!ms(N,l.memoizedState)&&(ss=!0,ct&&(d=k,d!==null)))throw d;l.memoizedState=N,l.baseState=V,l.baseQueue=Le,v.lastRenderedState=N}return C===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function sm(l){var f=hi(),d=f.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=d.dispatch,C=d.pending,N=f.memoizedState;if(C!==null){d.pending=null;var V=C=C.next;do N=l(N,V.action),V=V.next;while(V!==C);ms(N,f.memoizedState)||(ss=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),d.lastRenderedState=N}return[N,v]}function am(l,f,d){var v=hn,C=hi(),N=Zn;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=f();var V=!ms((pn||C).memoizedState,d);if(V&&(C.memoizedState=d,ss=!0),C=C.queue,z5(Fv.bind(null,v,C,l),[l]),C.getSnapshot!==f||V||cr!==null&&cr.memoizedState.tag&1){if(v.flags|=2048,Nf(9,{destroy:void 0},Dv.bind(null,v,C,d,f),null),Xr===null)throw Error(r(349));N||(fi&127)!==0||Ic(v,f,d)}return d}function Ic(l,f,d){l.flags|=16384,l={getSnapshot:f,value:d},f=hn.updateQueue,f===null?(f=z0(),hn.updateQueue=f,f.stores=[l]):(d=f.stores,d===null?f.stores=[l]:d.push(l))}function Dv(l,f,d,v){f.value=d,f.getSnapshot=v,lb(f)&&Pv(l)}function Fv(l,f,d){return d(function(){lb(f)&&Pv(l)})}function lb(l){var f=l.getSnapshot;l=l.value;try{var d=f();return!ms(l,d)}catch{return!0}}function Pv(l){var f=Nc(l,2);f!==null&&Ro(f,l,2)}function Lu(l){var f=is();if(typeof l=="function"){var d=l;if(l=d(),ta){Bt(!0);try{d()}finally{Bt(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:l},f}function cb(l,f,d,v){return l.baseState=d,td(l,pn,typeof v=="function"?v:Bl)}function ub(l,f,d,v,C){if(pb(l))throw Error(r(485));if(l=f.action,l!==null){var N={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};K.T!==null?d(!0):N.isTransition=!1,v(N),d=f.pending,d===null?(N.next=f.pending=N,fb(f,N)):(N.next=d.next,f.pending=d.next=N)}}function fb(l,f){var d=f.action,v=f.payload,C=l.state;if(f.isTransition){var N=K.T,V={};K.T=V;try{var ue=d(C,v),Le=K.S;Le!==null&&Le(V,ue),Ov(l,f,ue)}catch(Ye){kf(l,f,Ye)}finally{N!==null&&V.types!==null&&(N.types=V.types),K.T=N}}else try{N=d(C,v),Ov(l,f,N)}catch(Ye){kf(l,f,Ye)}}function Ov(l,f,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){hb(l,f,v)},function(v){return kf(l,f,v)}):hb(l,f,d)}function hb(l,f,d){f.status="fulfilled",f.value=d,om(f),l.state=d,f=l.pending,f!==null&&(d=f.next,d===f?l.pending=null:(d=d.next,f.next=d,fb(l,d)))}function kf(l,f,d){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=d,om(f),f=f.next;while(f!==v)}l.action=null}function om(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function j0(l,f){return f}function Ul(l,f){if(Zn){var d=Xr.formState;if(d!==null){e:{var v=hn;if(Zn){if(Wr){t:{for(var C=Wr,N=ui;C.nodeType!==8;){if(!N){C=null;break t}if(C=Hl(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){Wr=Hl(C.nextSibling),v=C.data==="F!";break e}}Su(v)}v=!1}v&&(f=d[0])}}return d=is(),d.memoizedState=d.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:f},d.queue=v,d=WC.bind(null,hn,v),v.dispatch=d,v=Lu(!1),N=W5.bind(null,hn,!1,v.queue),v=is(),C={state:f,dispatch:null,action:l,pending:null},v.queue=C,d=ub.bind(null,hn,C,N,d),C.dispatch=d,v.memoizedState=l,[f,d,!1]}function Mc(l){var f=hi();return Dc(f,pn,l)}function Dc(l,f,d){if(f=td(l,f,j0)[0],l=im(Bl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=Ru(f)}catch(V){throw V===Me?Se:V}else v=f;f=hi();var C=f.queue,N=C.dispatch;return d!==f.memoizedState&&(hn.flags|=2048,Nf(9,{destroy:void 0},lm.bind(null,C,d),null)),[v,N,l]}function lm(l,f){l.action=f}function cm(l){var f=hi(),d=pn;if(d!==null)return Dc(f,d,l);hi(),f=f.memoizedState,d=hi();var v=d.queue.dispatch;return d.memoizedState=l,[f,v,!1]}function Nf(l,f,d,v){return l={tag:l,create:d,deps:v,inst:f,next:null},f=hn.updateQueue,f===null&&(f=z0(),hn.updateQueue=f),d=f.lastEffect,d===null?f.lastEffect=l.next=l:(v=d.next,d.next=l,l.next=v,f.lastEffect=l),l}function db(){return hi().memoizedState}function nd(l,f,d,v){var C=is();hn.flags|=l,C.memoizedState=Nf(1|f,{destroy:void 0},d,v===void 0?null:v)}function rd(l,f,d,v){var C=hi();v=v===void 0?null:v;var N=C.memoizedState.inst;pn!==null&&v!==null&&Rv(v,pn.memoizedState.deps)?C.memoizedState=Nf(f,N,d,v):(hn.flags|=l,C.memoizedState=Nf(1|f,N,d,v))}function IC(l,f){nd(8390656,8,l,f)}function z5(l,f){rd(2048,8,l,f)}function J7(l){hn.flags|=4;var f=hn.updateQueue;if(f===null)f=z0(),hn.updateQueue=f,f.events=[l];else{var d=f.events;d===null?f.events=[l]:d.push(l)}}function MC(l){var f=hi().memoizedState;return J7({ref:f,nextImpl:l}),function(){if((Ar&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function DC(l,f){return rd(4,2,l,f)}function FC(l,f){return rd(4,4,l,f)}function PC(l,f){if(typeof f=="function"){l=l();var d=f(l);return function(){typeof d=="function"?d():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function OC(l,f,d){d=d!=null?d.concat([l]):null,rd(4,4,PC.bind(null,f,l),d)}function j5(){}function BC(l,f){var d=hi();f=f===void 0?null:f;var v=d.memoizedState;return f!==null&&Rv(f,v[1])?v[0]:(d.memoizedState=[l,f],l)}function UC(l,f){var d=hi();f=f===void 0?null:f;var v=d.memoizedState;if(f!==null&&Rv(f,v[1]))return v[0];if(v=l(),ta){Bt(!0);try{l()}finally{Bt(!1)}}return d.memoizedState=[v,f],v}function G5(l,f,d){return d===void 0||(fi&1073741824)!==0&&(tr&261930)===0?l.memoizedState=f:(l.memoizedState=d,l=H3(),hn.lanes|=l,ad|=l,d)}function HC(l,f,d,v){return ms(d,f)?d:jn.current!==null?(l=G5(l,d,v),ms(l,f)||(ss=!0),l):(fi&42)===0||(fi&1073741824)!==0&&(tr&261930)===0?(ss=!0,l.memoizedState=d):(l=H3(),hn.lanes|=l,ad|=l,f)}function zC(l,f,d,v,C){var N=ce.p;ce.p=N!==0&&8>N?N:8;var V=K.T,ue={};K.T=ue,W5(l,!1,f,d);try{var Le=C(),Ye=K.S;if(Ye!==null&&Ye(ue,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var ct=Z(Le,v);Bv(l,f,ct,nl(l))}else Bv(l,f,v,nl(l))}catch(mt){Bv(l,f,{then:function(){},status:"rejected",reason:mt},nl())}finally{ce.p=N,V!==null&&ue.types!==null&&(V.types=ue.types),K.T=V}}function Z7(){}function q5(l,f,d,v){if(l.tag!==5)throw Error(r(476));var C=jC(l).queue;zC(l,C,f,Te,d===null?Z7:function(){return GC(l),d(v)})}function jC(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:Te},next:null};var d={};return f.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:d},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function GC(l){var f=jC(l);f.next===null&&(f=l.alternate.memoizedState),Bv(l,f.next.queue,{},nl())}function V5(){return bs(tx)}function qC(){return hi().memoizedState}function VC(){return hi().memoizedState}function Q7(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var d=nl();l=xn(d);var v=Fn(f,l,d);v!==null&&(Ro(v,f,d),_r(v,f,d)),f={cache:Qh()},l.payload=f;return}f=f.return}}function eO(l,f,d){var v=nl();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},pb(l)?$C(f,d):(d=qg(l,f,d,v),d!==null&&(Ro(d,l,v),XC(d,f,v)))}function WC(l,f,d){var v=nl();Bv(l,f,d,v)}function Bv(l,f,d,v){var C={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(pb(l))$C(f,C);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var V=f.lastRenderedState,ue=N(V,d);if(C.hasEagerState=!0,C.eagerState=ue,ms(ue,V))return D0(l,f,C,0),Xr===null&&M0(),!1}catch{}finally{}if(d=qg(l,f,C,v),d!==null)return Ro(d,l,v),XC(d,f,v),!0}return!1}function W5(l,f,d,v){if(v={lane:2,revertLane:AS(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},pb(l)){if(f)throw Error(r(479))}else f=qg(l,d,v,2),f!==null&&Ro(f,l,2)}function pb(l){var f=l.alternate;return l===hn||f!==null&&f===hn}function $C(l,f){Eo=ma=!0;var d=l.pending;d===null?f.next=f:(f.next=d.next,d.next=f),l.pending=f}function XC(l,f,d){if((d&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,d|=v,f.lanes=d,ds(l,d)}}var Uv={readContext:bs,use:ed,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useLayoutEffect:Hr,useInsertionEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useSyncExternalStore:Hr,useId:Hr,useHostTransitionStatus:Hr,useFormState:Hr,useActionState:Hr,useOptimistic:Hr,useMemoCache:Hr,useCacheRefresh:Hr};Uv.useEffectEvent=Hr;var YC={readContext:bs,use:ed,useCallback:function(l,f){return is().memoizedState=[l,f===void 0?null:f],l},useContext:bs,useEffect:IC,useImperativeHandle:function(l,f,d){d=d!=null?d.concat([l]):null,nd(4194308,4,PC.bind(null,f,l),d)},useLayoutEffect:function(l,f){return nd(4194308,4,l,f)},useInsertionEffect:function(l,f){nd(4,2,l,f)},useMemo:function(l,f){var d=is();f=f===void 0?null:f;var v=l();if(ta){Bt(!0);try{l()}finally{Bt(!1)}}return d.memoizedState=[v,f],v},useReducer:function(l,f,d){var v=is();if(d!==void 0){var C=d(f);if(ta){Bt(!0);try{d(f)}finally{Bt(!1)}}}else C=f;return v.memoizedState=v.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},v.queue=l,l=l.dispatch=eO.bind(null,hn,l),[v.memoizedState,l]},useRef:function(l){var f=is();return l={current:l},f.memoizedState=l},useState:function(l){l=Lu(l);var f=l.queue,d=WC.bind(null,hn,f);return f.dispatch=d,[l.memoizedState,d]},useDebugValue:j5,useDeferredValue:function(l,f){var d=is();return G5(d,l,f)},useTransition:function(){var l=Lu(!1);return l=zC.bind(null,hn,l.queue,!0,!1),is().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,d){var v=hn,C=is();if(Zn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=f(),Xr===null)throw Error(r(349));(tr&127)!==0||Ic(v,f,d)}C.memoizedState=d;var N={value:d,getSnapshot:f};return C.queue=N,IC(Fv.bind(null,v,N,l),[l]),v.flags|=2048,Nf(9,{destroy:void 0},Dv.bind(null,v,N,d,f),null),d},useId:function(){var l=is(),f=Xr.identifierPrefix;if(Zn){var d=So,v=_o;d=(v&~(1<<32-En(v)-1)).toString(32)+d,f="_"+f+"R_"+d,d=Di++,0<d&&(f+="H"+d.toString(32)),f+="_"}else d=tm++,f="_"+f+"r_"+d.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:V5,useFormState:Ul,useActionState:Ul,useOptimistic:function(l){var f=is();f.memoizedState=f.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=d,f=W5.bind(null,hn,!0,d),d.dispatch=f,[l,f]},useMemoCache:Cf,useCacheRefresh:function(){return is().memoizedState=Q7.bind(null,hn)},useEffectEvent:function(l){var f=is(),d={impl:l};return f.memoizedState=d,function(){if((Ar&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},$5={readContext:bs,use:ed,useCallback:BC,useContext:bs,useEffect:z5,useImperativeHandle:OC,useInsertionEffect:DC,useLayoutEffect:FC,useMemo:UC,useReducer:im,useRef:db,useState:function(){return im(Bl)},useDebugValue:j5,useDeferredValue:function(l,f){var d=hi();return HC(d,pn.memoizedState,l,f)},useTransition:function(){var l=im(Bl)[0],f=hi().memoizedState;return[typeof l=="boolean"?l:Ru(l),f]},useSyncExternalStore:am,useId:qC,useHostTransitionStatus:V5,useFormState:Mc,useActionState:Mc,useOptimistic:function(l,f){var d=hi();return cb(d,pn,l,f)},useMemoCache:Cf,useCacheRefresh:VC};$5.useEffectEvent=MC;var KC={readContext:bs,use:ed,useCallback:BC,useContext:bs,useEffect:z5,useImperativeHandle:OC,useInsertionEffect:DC,useLayoutEffect:FC,useMemo:UC,useReducer:sm,useRef:db,useState:function(){return sm(Bl)},useDebugValue:j5,useDeferredValue:function(l,f){var d=hi();return pn===null?G5(d,l,f):HC(d,pn.memoizedState,l,f)},useTransition:function(){var l=sm(Bl)[0],f=hi().memoizedState;return[typeof l=="boolean"?l:Ru(l),f]},useSyncExternalStore:am,useId:qC,useHostTransitionStatus:V5,useFormState:cm,useActionState:cm,useOptimistic:function(l,f){var d=hi();return pn!==null?cb(d,pn,l,f):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:VC};KC.useEffectEvent=MC;function X5(l,f,d,v){f=l.memoizedState,d=d(v,f),d=d==null?f:p({},f,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var Y5={enqueueSetState:function(l,f,d){l=l._reactInternals;var v=nl(),C=xn(v);C.payload=f,d!=null&&(C.callback=d),f=Fn(l,C,v),f!==null&&(Ro(f,l,v),_r(f,l,v))},enqueueReplaceState:function(l,f,d){l=l._reactInternals;var v=nl(),C=xn(v);C.tag=1,C.payload=f,d!=null&&(C.callback=d),f=Fn(l,C,v),f!==null&&(Ro(f,l,v),_r(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var d=nl(),v=xn(d);v.tag=2,f!=null&&(v.callback=f),f=Fn(l,v,d),f!==null&&(Ro(f,l,d),_r(f,l,d))}};function JC(l,f,d,v,C,N,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,N,V):f.prototype&&f.prototype.isPureReactComponent?!Ec(d,v)||!Ec(C,N):!0}function ZC(l,f,d,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(d,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(d,v),f.state!==l&&Y5.enqueueReplaceState(f,f.state,null)}function G0(l,f){var d=f;if("ref"in f){d={};for(var v in f)v!=="ref"&&(d[v]=f[v])}if(l=l.defaultProps){d===f&&(d=p({},d));for(var C in l)d[C]===void 0&&(d[C]=l[C])}return d}function QC(l){I0(l)}function e3(l){console.error(l)}function t3(l){I0(l)}function gb(l,f){try{var d=l.onUncaughtError;d(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function n3(l,f,d){try{var v=l.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function K5(l,f,d){return d=xn(d),d.tag=3,d.payload={element:null},d.callback=function(){gb(l,f)},d}function r3(l){return l=xn(l),l.tag=3,l}function i3(l,f,d,v){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var N=v.value;l.payload=function(){return C(N)},l.callback=function(){n3(f,d,v)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){n3(f,d,v),typeof C!="function"&&(od===null?od=new Set([this]):od.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})})}function tO(l,f,d,v,C){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=d.alternate,f!==null&&Tu(f,d,C,!0),d=ni.current,d!==null){switch(d.tag){case 31:case 13:return lr===null?Cb():d.alternate===null&&Fi===0&&(Fi=3),d.flags&=-257,d.flags|=65536,d.lanes=C,v===Fe?d.flags|=16384:(f=d.updateQueue,f===null?d.updateQueue=new Set([v]):f.add(v),wS(l,v,C)),!1;case 22:return d.flags|=65536,v===Fe?d.flags|=16384:(f=d.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=f):(d=f.retryQueue,d===null?f.retryQueue=new Set([v]):d.add(v)),wS(l,v,C)),!1}throw Error(r(435,d.tag))}return wS(l,v,C),Cb(),!1}if(Zn)return f=ni.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,v!==Qo&&(l=Error(r(422),{cause:v}),Jh(yo(l,d)))):(v!==Qo&&(f=Error(r(423),{cause:v}),Jh(yo(f,d))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,v=yo(v,d),C=K5(l.stateNode,v,C),Gi(l,C),Fi!==4&&(Fi=2)),!1;var N=Error(r(520),{cause:v});if(N=yo(N,d),$v===null?$v=[N]:$v.push(N),Fi!==4&&(Fi=2),f===null)return!0;v=yo(v,d),d=f;do{switch(d.tag){case 3:return d.flags|=65536,l=C&-C,d.lanes|=l,l=K5(d.stateNode,v,l),Gi(d,l),!1;case 1:if(f=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(od===null||!od.has(N))))return d.flags|=65536,C&=-C,d.lanes|=C,C=r3(C),i3(C,l,d,v),Gi(d,C),!1}d=d.return}while(d!==null);return!1}var J5=Error(r(461)),ss=!1;function na(l,f,d,v){f.child=l===null?In(f,null,d,v):$r(f,l.child,d,v)}function s3(l,f,d,v,C){d=d.render;var N=f.ref;if("ref"in v){var V={};for(var ue in v)ue!=="ref"&&(V[ue]=v[ue])}else V=v;return Cu(f),v=Lv(l,f,d,V,N,C),ue=Iv(),l!==null&&!ss?(Mv(l,f,C),Rf(l,f,C)):(Zn&&ue&&Cv(f),f.flags|=1,na(l,f,v,C),f.child)}function a3(l,f,d,v,C){if(l===null){var N=d.type;return typeof N=="function"&&!Wg(N)&&N.defaultProps===void 0&&d.compare===null?(f.tag=15,f.type=N,o3(l,f,N,v,C)):(l=Xh(d.type,null,v,f,f.mode,C),l.ref=f.ref,l.return=f,f.child=l)}if(N=l.child,!sS(l,C)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:Ec,d(V,v)&&l.ref===f.ref)return Rf(l,f,C)}return f.flags|=1,l=xo(N,v),l.ref=f.ref,l.return=f,f.child=l}function o3(l,f,d,v,C){if(l!==null){var N=l.memoizedProps;if(Ec(N,v)&&l.ref===f.ref)if(ss=!1,f.pendingProps=v=N,sS(l,C))(l.flags&131072)!==0&&(ss=!0);else return f.lanes=l.lanes,Rf(l,f,C)}return Z5(l,f,d,v,C)}function l3(l,f,d,v){var C=v.children,N=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,l!==null){for(v=f.child=l.child,C=0;v!==null;)C=C|v.lanes|v.childLanes,v=v.sibling;v=C&~N}else v=0,f.child=null;return c3(l,f,N,d,v)}if((d&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&be(f,N!==null?N.cachePool:null),N!==null?ti(f,N):hr(),Ii(f);else return v=f.lanes=536870912,c3(l,f,N!==null?N.baseLanes|d:d,d,v)}else N!==null?(be(f,N.cachePool),ti(f,N),Mi(),f.memoizedState=null):(l!==null&&be(f,null),hr(),Mi());return na(l,f,C,d),f.child}function Hv(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function c3(l,f,d,v,C){var N=he();return N=N===null?null:{parent:wi._currentValue,pool:N},f.memoizedState={baseLanes:d,cachePool:N},l!==null&&be(f,null),hr(),Ii(f),l!==null&&Tu(l,f,v,!0),f.childLanes=C,null}function mb(l,f){return f=xb({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function u3(l,f,d){return $r(f,l.child,null,d),l=mb(f,f.pendingProps),l.flags|=2,Cr(f),f.memoizedState=null,l}function nO(l,f,d){var v=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Zn){if(v.mode==="hidden")return l=mb(f,v),f.lanes=536870912,Hv(null,l);if(Sr(f),(l=Wr)?(l=_k(l,ui),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:_u!==null?{id:_o,overflow:So}:null,retryLane:536870912,hydrationErrors:null},d=$g(l),d.return=f,f.child=d,xs=f,Wr=null)):l=null,l===null)throw Su(f);return f.lanes=536870912,null}return mb(f,v)}var N=l.memoizedState;if(N!==null){var V=N.dehydrated;if(Sr(f),C)if(f.flags&256)f.flags&=-257,f=u3(l,f,d);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(r(558));else if(ss||Tu(l,f,d,!1),C=(d&l.childLanes)!==0,ss||C){if(v=Xr,v!==null&&(V=Xs(v,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Nc(l,V),Ro(v,l,V),J5;Cb(),f=u3(l,f,d)}else l=N.treeContext,Wr=Hl(V.nextSibling),xs=f,Zn=!0,ea=null,ui=!1,l!==null&&ab(f,l),f=mb(f,v),f.flags|=4096;return f}return l=xo(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function vb(l,f){var d=f.ref;if(d===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(f.flags|=4194816)}}function Z5(l,f,d,v,C){return Cu(f),d=Lv(l,f,d,v,void 0,C),v=Iv(),l!==null&&!ss?(Mv(l,f,C),Rf(l,f,C)):(Zn&&v&&Cv(f),f.flags|=1,na(l,f,d,C),f.child)}function f3(l,f,d,v,C,N){return Cu(f),f.updateQueue=null,d=Lc(f,v,d,C),nm(l),v=Iv(),l!==null&&!ss?(Mv(l,f,N),Rf(l,f,N)):(Zn&&v&&Cv(f),f.flags|=1,na(l,f,d,N),f.child)}function h3(l,f,d,v,C){if(Cu(f),f.stateNode===null){var N=vs,V=d.contextType;typeof V=="object"&&V!==null&&(N=bs(V)),N=new d(v,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Y5,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=v,N.state=f.memoizedState,N.refs={},Mt(f),V=d.contextType,N.context=typeof V=="object"&&V!==null?bs(V):vs,N.state=f.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(X5(f,d,V,v),N.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Y5.enqueueReplaceState(N,N.state,null),Ri(f,v,N,C),Ur(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){N=f.stateNode;var ue=f.memoizedProps,Le=G0(d,ue);N.props=Le;var Ye=N.context,ct=d.contextType;V=vs,typeof ct=="object"&&ct!==null&&(V=bs(ct));var mt=d.getDerivedStateFromProps;ct=typeof mt=="function"||typeof N.getSnapshotBeforeUpdate=="function",ue=f.pendingProps!==ue,ct||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ue||Ye!==V)&&ZC(f,N,v,V),Vt=!1;var Ze=f.memoizedState;N.state=Ze,Ri(f,v,N,C),Ur(),Ye=f.memoizedState,ue||Ze!==Ye||Vt?(typeof mt=="function"&&(X5(f,d,mt,v),Ye=f.memoizedState),(Le=Vt||JC(f,d,Le,v,Ze,Ye,V))?(ct||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Ye),N.props=v,N.state=Ye,N.context=V,v=Le):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{N=f.stateNode,ei(l,f),V=f.memoizedProps,ct=G0(d,V),N.props=ct,mt=f.pendingProps,Ze=N.context,Ye=d.contextType,Le=vs,typeof Ye=="object"&&Ye!==null&&(Le=bs(Ye)),ue=d.getDerivedStateFromProps,(Ye=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==mt||Ze!==Le)&&ZC(f,N,v,Le),Vt=!1,Ze=f.memoizedState,N.state=Ze,Ri(f,v,N,C),Ur();var tt=f.memoizedState;V!==mt||Ze!==tt||Vt||l!==null&&l.dependencies!==null&&Zg(l.dependencies)?(typeof ue=="function"&&(X5(f,d,ue,v),tt=f.memoizedState),(ct=Vt||JC(f,d,ct,v,Ze,tt,Le)||l!==null&&l.dependencies!==null&&Zg(l.dependencies))?(Ye||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,tt,Le),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,tt,Le)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Ze===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Ze===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=tt),N.props=v,N.state=tt,N.context=Le,v=ct):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Ze===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Ze===l.memoizedState||(f.flags|=1024),v=!1)}return N=v,vb(l,f),v=(f.flags&128)!==0,N||v?(N=f.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,l!==null&&v?(f.child=$r(f,l.child,null,C),f.child=$r(f,null,d,C)):na(l,f,d,C),f.memoizedState=N.state,l=f.child):l=Rf(l,f,C),l}function d3(l,f,d,v){return Ef(),f.flags|=256,na(l,f,d,v),f.child}var Q5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eS(l){return{baseLanes:l,cachePool:Ee()}}function tS(l,f,d){return l=l!==null?l.childLanes&~d:0,f&&(l|=tl),l}function p3(l,f,d){var v=f.pendingProps,C=!1,N=(f.flags&128)!==0,V;if((V=N)||(V=l!==null&&l.memoizedState===null?!1:(sr.current&2)!==0),V&&(C=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,l===null){if(Zn){if(C?_i(f):Mi(),(l=Wr)?(l=_k(l,ui),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:_u!==null?{id:_o,overflow:So}:null,retryLane:536870912,hydrationErrors:null},d=$g(l),d.return=f,f.child=d,xs=f,Wr=null)):l=null,l===null)throw Su(f);return OS(l)?f.lanes=32:f.lanes=536870912,null}var ue=v.children;return v=v.fallback,C?(Mi(),C=f.mode,ue=xb({mode:"hidden",children:ue},C),v=wu(v,C,d,null),ue.return=f,v.return=f,ue.sibling=v,f.child=ue,v=f.child,v.memoizedState=eS(d),v.childLanes=tS(l,V,d),f.memoizedState=Q5,Hv(null,v)):(_i(f),nS(f,ue))}var Le=l.memoizedState;if(Le!==null&&(ue=Le.dehydrated,ue!==null)){if(N)f.flags&256?(_i(f),f.flags&=-257,f=rS(l,f,d)):f.memoizedState!==null?(Mi(),f.child=l.child,f.flags|=128,f=null):(Mi(),ue=v.fallback,C=f.mode,v=xb({mode:"visible",children:v.children},C),ue=wu(ue,C,d,null),ue.flags|=2,v.return=f,ue.return=f,v.sibling=ue,f.child=v,$r(f,l.child,null,d),v=f.child,v.memoizedState=eS(d),v.childLanes=tS(l,V,d),f.memoizedState=Q5,f=Hv(null,v));else if(_i(f),OS(ue)){if(V=ue.nextSibling&&ue.nextSibling.dataset,V)var Ye=V.dgst;V=Ye,v=Error(r(419)),v.stack="",v.digest=V,Jh({value:v,source:null,stack:null}),f=rS(l,f,d)}else if(ss||Tu(l,f,d,!1),V=(d&l.childLanes)!==0,ss||V){if(V=Xr,V!==null&&(v=Xs(V,d),v!==0&&v!==Le.retryLane))throw Le.retryLane=v,Nc(l,v),Ro(V,l,v),J5;PS(ue)||Cb(),f=rS(l,f,d)}else PS(ue)?(f.flags|=192,f.child=l.child,f=null):(l=Le.treeContext,Wr=Hl(ue.nextSibling),xs=f,Zn=!0,ea=null,ui=!1,l!==null&&ab(f,l),f=nS(f,v.children),f.flags|=4096);return f}return C?(Mi(),ue=v.fallback,C=f.mode,Le=l.child,Ye=Le.sibling,v=xo(Le,{mode:"hidden",children:v.children}),v.subtreeFlags=Le.subtreeFlags&65011712,Ye!==null?ue=xo(Ye,ue):(ue=wu(ue,C,d,null),ue.flags|=2),ue.return=f,v.return=f,v.sibling=ue,f.child=v,Hv(null,v),v=f.child,ue=l.child.memoizedState,ue===null?ue=eS(d):(C=ue.cachePool,C!==null?(Le=wi._currentValue,C=C.parent!==Le?{parent:Le,pool:Le}:C):C=Ee(),ue={baseLanes:ue.baseLanes|d,cachePool:C}),v.memoizedState=ue,v.childLanes=tS(l,V,d),f.memoizedState=Q5,Hv(l.child,v)):(_i(f),d=l.child,l=d.sibling,d=xo(d,{mode:"visible",children:v.children}),d.return=f,d.sibling=null,l!==null&&(V=f.deletions,V===null?(f.deletions=[l],f.flags|=16):V.push(l)),f.child=d,f.memoizedState=null,d)}function nS(l,f){return f=xb({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function xb(l,f){return l=Ms(22,l,null,f),l.lanes=0,l}function rS(l,f,d){return $r(f,l.child,null,d),l=nS(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function g3(l,f,d){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),Zh(l.return,f,d)}function iS(l,f,d,v,C,N){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:C,treeForkCount:N}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=d,V.tailMode=C,V.treeForkCount=N)}function m3(l,f,d){var v=f.pendingProps,C=v.revealOrder,N=v.tail;v=v.children;var V=sr.current,ue=(V&2)!==0;if(ue?(V=V&1|2,f.flags|=128):V&=1,U(sr,V),na(l,f,v,d),v=Zn?B0:0,!ue&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&g3(l,d,f);else if(l.tag===19)g3(l,d,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(C){case"forwards":for(d=f.child,C=null;d!==null;)l=d.alternate,l!==null&&Fs(l)===null&&(C=d),d=d.sibling;d=C,d===null?(C=f.child,f.child=null):(C=d.sibling,d.sibling=null),iS(f,!1,C,d,N,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=f.child,f.child=null;C!==null;){if(l=C.alternate,l!==null&&Fs(l)===null){f.child=C;break}l=C.sibling,C.sibling=d,d=C,C=l}iS(f,!0,d,null,N,v);break;case"together":iS(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function Rf(l,f,d){if(l!==null&&(f.dependencies=l.dependencies),ad|=f.lanes,(d&f.childLanes)===0)if(l!==null){if(Tu(l,f,d,!1),(d&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,d=xo(l,l.pendingProps),f.child=d,d.return=f;l.sibling!==null;)l=l.sibling,d=d.sibling=xo(l,l.pendingProps),d.return=f;d.sibling=null}return f.child}function sS(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Zg(l)))}function rO(l,f,d){switch(f.tag){case 3:fe(f,f.stateNode.containerInfo),Eu(f,wi,l.memoizedState.cache),Ef();break;case 27:case 5:Re(f);break;case 4:fe(f,f.stateNode.containerInfo);break;case 10:Eu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Sr(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(_i(f),f.flags|=128,null):(d&f.child.childLanes)!==0?p3(l,f,d):(_i(f),l=Rf(l,f,d),l!==null?l.sibling:null);_i(f);break;case 19:var C=(l.flags&128)!==0;if(v=(d&f.childLanes)!==0,v||(Tu(l,f,d,!1),v=(d&f.childLanes)!==0),C){if(v)return m3(l,f,d);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),U(sr,sr.current),v)break;return null;case 22:return f.lanes=0,l3(l,f,d,f.pendingProps);case 24:Eu(f,wi,l.memoizedState.cache)}return Rf(l,f,d)}function v3(l,f,d){if(l!==null)if(l.memoizedProps!==f.pendingProps)ss=!0;else{if(!sS(l,d)&&(f.flags&128)===0)return ss=!1,rO(l,f,d);ss=(l.flags&131072)!==0}else ss=!1,Zn&&(f.flags&1048576)!==0&&sb(f,B0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=Ge(f.elementType),f.type=l,typeof l=="function")Wg(l)?(v=G0(l,v),f.tag=1,f=h3(null,f,l,v,d)):(f.tag=0,f=Z5(null,f,l,v,d));else{if(l!=null){var C=l.$$typeof;if(C===D){f.tag=11,f=s3(null,f,l,v,d);break e}else if(C===P){f.tag=14,f=a3(null,f,l,v,d);break e}}throw f=re(l)||l,Error(r(306,f,""))}}return f;case 0:return Z5(l,f,f.type,f.pendingProps,d);case 1:return v=f.type,C=G0(v,f.pendingProps),h3(l,f,v,C,d);case 3:e:{if(fe(f,f.stateNode.containerInfo),l===null)throw Error(r(387));v=f.pendingProps;var N=f.memoizedState;C=N.element,ei(l,f),Ri(f,v,null,d);var V=f.memoizedState;if(v=V.cache,Eu(f,wi,v),v!==N.cache&&Tf(f,[wi],d,!0),Ur(),v=V.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=d3(l,f,v,d);break e}else if(v!==C){C=yo(Error(r(424)),f),Jh(C),f=d3(l,f,v,d);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Wr=Hl(l.firstChild),xs=f,Zn=!0,ea=null,ui=!0,d=In(f,null,v,d),f.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ef(),v===C){f=Rf(l,f,d);break e}na(l,f,v,d)}f=f.child}return f;case 26:return vb(l,f),l===null?(d=kk(f.type,null,f.pendingProps,null))?f.memoizedState=d:Zn||(d=f.type,l=f.pendingProps,v=Db(oe.current).createElement(d),v[xe]=f,v[we]=l,ra(v,d,l),Kt(v),f.stateNode=v):f.memoizedState=kk(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Re(f),l===null&&Zn&&(v=f.stateNode=Ek(f.type,f.pendingProps,oe.current),xs=f,ui=!0,C=Wr,fd(f.type)?(BS=C,Wr=Hl(v.firstChild)):Wr=C),na(l,f,f.pendingProps.children,d),vb(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Zn&&((C=v=Wr)&&(v=MO(v,f.type,f.pendingProps,ui),v!==null?(f.stateNode=v,xs=f,Wr=Hl(v.firstChild),ui=!1,C=!0):C=!1),C||Su(f)),Re(f),C=f.type,N=f.pendingProps,V=l!==null?l.memoizedProps:null,v=N.children,MS(C,N)?v=null:V!==null&&MS(C,V)&&(f.flags|=32),f.memoizedState!==null&&(C=Lv(l,f,H5,null,null,d),tx._currentValue=C),vb(l,f),na(l,f,v,d),f.child;case 6:return l===null&&Zn&&((l=d=Wr)&&(d=DO(d,f.pendingProps,ui),d!==null?(f.stateNode=d,xs=f,Wr=null,l=!0):l=!1),l||Su(f)),null;case 13:return p3(l,f,d);case 4:return fe(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=$r(f,null,v,d):na(l,f,v,d),f.child;case 11:return s3(l,f,f.type,f.pendingProps,d);case 7:return na(l,f,f.pendingProps,d),f.child;case 8:return na(l,f,f.pendingProps.children,d),f.child;case 12:return na(l,f,f.pendingProps.children,d),f.child;case 10:return v=f.pendingProps,Eu(f,f.type,v.value),na(l,f,v.children,d),f.child;case 9:return C=f.type._context,v=f.pendingProps.children,Cu(f),C=bs(C),v=v(C),f.flags|=1,na(l,f,v,d),f.child;case 14:return a3(l,f,f.type,f.pendingProps,d);case 15:return o3(l,f,f.type,f.pendingProps,d);case 19:return m3(l,f,d);case 31:return nO(l,f,d);case 22:return l3(l,f,d,f.pendingProps);case 24:return Cu(f),v=bs(wi),l===null?(C=he(),C===null&&(C=Xr,N=Qh(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=d),C=N),f.memoizedState={parent:v,cache:C},Mt(f),Eu(f,wi,C)):((l.lanes&d)!==0&&(ei(l,f),Ri(f,null,null,d),Ur()),C=l.memoizedState,N=f.memoizedState,C.parent!==v?(C={parent:v,cache:v},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Eu(f,wi,v)):(v=N.cache,Eu(f,wi,v),v!==C.cache&&Tf(f,[wi],d,!0))),na(l,f,f.pendingProps.children,d),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Lf(l){l.flags|=4}function aS(l,f,d,v,C){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(C&335544128)===C)if(l.stateNode.complete)l.flags|=8192;else if(q3())l.flags|=8192;else throw st=Fe,We}else l.flags&=-16777217}function x3(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Mk(f))if(q3())l.flags|=8192;else throw st=Fe,We}function yb(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?fo():536870912,l.lanes|=f,dm|=f)}function zv(l,f){if(!Zn)switch(l.tailMode){case"hidden":f=l.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function ri(l){var f=l.alternate!==null&&l.alternate.child===l.child,d=0,v=0;if(f)for(var C=l.child;C!==null;)d|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)d|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=v,l.childLanes=d,f}function iO(l,f,d){var v=f.pendingProps;switch(Kg(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(f),null;case 1:return ri(f),null;case 3:return d=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Ao(wi),Ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(ys(f)?Lf(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Nv())),ri(f),null;case 26:var C=f.type,N=f.memoizedState;return l===null?(Lf(f),N!==null?(ri(f),x3(f,N)):(ri(f),aS(f,C,null,v,d))):N?N!==l.memoizedState?(Lf(f),ri(f),x3(f,N)):(ri(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&Lf(f),ri(f),aS(f,C,l,v,d)),null;case 27:if(et(f),d=oe.current,C=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Lf(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ri(f),null}l=z.current,ys(f)?kv(f):(l=Ek(C,v,d),f.stateNode=l,Lf(f))}return ri(f),null;case 5:if(et(f),C=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Lf(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ri(f),null}if(N=z.current,ys(f))kv(f);else{var V=Db(oe.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?V.createElement(C,{is:v.is}):V.createElement(C)}}N[xe]=f,N[we]=v;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=N;e:switch(ra(N,C,v),C){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Lf(f)}}return ri(f),aS(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,d),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&Lf(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(r(166));if(l=oe.current,ys(f)){if(l=f.stateNode,d=f.memoizedProps,v=null,C=xs,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}l[xe]=f,l=!!(l.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||pk(l.nodeValue,d)),l||Su(f,!0)}else l=Db(l).createTextNode(v),l[xe]=f,f.stateNode=l}return ri(f),null;case 31:if(d=f.memoizedState,l===null||l.memoizedState!==null){if(v=ys(f),d!==null){if(l===null){if(!v)throw Error(r(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[xe]=f}else Ef(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ri(f),l=!1}else d=Nv(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return f.flags&256?(Cr(f),f):(Cr(f),null);if((f.flags&128)!==0)throw Error(r(558))}return ri(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=ys(f),v!==null&&v.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[xe]=f}else Ef(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ri(f),C=!1}else C=Nv(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(Cr(f),f):(Cr(f),null)}return Cr(f),(f.flags&128)!==0?(f.lanes=d,f):(d=v!==null,l=l!==null&&l.memoizedState!==null,d&&(v=f.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==C&&(v.flags|=2048)),d!==l&&d&&(f.child.flags|=8192),yb(f,f.updateQueue),ri(f),null);case 4:return Ae(),l===null&&kS(f.stateNode.containerInfo),ri(f),null;case 10:return Ao(f.type),ri(f),null;case 19:if(I(sr),v=f.memoizedState,v===null)return ri(f),null;if(C=(f.flags&128)!==0,N=v.rendering,N===null)if(C)zv(v,!1);else{if(Fi!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(N=Fs(l),N!==null){for(f.flags|=128,zv(v,!1),l=N.updateQueue,f.updateQueue=l,yb(f,l),f.subtreeFlags=0,l=d,d=f.child;d!==null;)P0(d,l),d=d.sibling;return U(sr,sr.current&1|2),Zn&&Xa(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&Je()>Ab&&(f.flags|=128,C=!0,zv(v,!1),f.lanes=4194304)}else{if(!C)if(l=Fs(N),l!==null){if(f.flags|=128,C=!0,l=l.updateQueue,f.updateQueue=l,yb(f,l),zv(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Zn)return ri(f),null}else 2*Je()-v.renderingStartTime>Ab&&d!==536870912&&(f.flags|=128,C=!0,zv(v,!1),f.lanes=4194304);v.isBackwards?(N.sibling=f.child,f.child=N):(l=v.last,l!==null?l.sibling=N:f.child=N,v.last=N)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Je(),l.sibling=null,d=sr.current,U(sr,C?d&1|2:d&1),Zn&&Xa(f,v.treeForkCount),l):(ri(f),null);case 22:case 23:return Cr(f),qi(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(d&536870912)!==0&&(f.flags&128)===0&&(ri(f),f.subtreeFlags&6&&(f.flags|=8192)):ri(f),d=f.updateQueue,d!==null&&yb(f,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==d&&(f.flags|=2048),l!==null&&I(le),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),f.memoizedState.cache!==d&&(f.flags|=2048),Ao(wi),ri(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function sO(l,f){switch(Kg(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return Ao(wi),Ae(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return et(f),null;case 31:if(f.memoizedState!==null){if(Cr(f),f.alternate===null)throw Error(r(340));Ef()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Cr(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Ef()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return I(sr),null;case 4:return Ae(),null;case 10:return Ao(f.type),null;case 22:case 23:return Cr(f),qi(),l!==null&&I(le),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return Ao(wi),null;case 25:return null;default:return null}}function y3(l,f){switch(Kg(f),f.tag){case 3:Ao(wi),Ae();break;case 26:case 27:case 5:et(f);break;case 4:Ae();break;case 31:f.memoizedState!==null&&Cr(f);break;case 13:Cr(f);break;case 19:I(sr);break;case 10:Ao(f.type);break;case 22:case 23:Cr(f),qi(),l!==null&&I(le);break;case 24:Ao(wi)}}function jv(l,f){try{var d=f.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var C=v.next;d=C;do{if((d.tag&l)===l){v=void 0;var N=d.create,V=d.inst;v=N(),V.destroy=v}d=d.next}while(d!==C)}}catch(ue){Nr(f,f.return,ue)}}function id(l,f,d){try{var v=f.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var N=C.next;v=N;do{if((v.tag&l)===l){var V=v.inst,ue=V.destroy;if(ue!==void 0){V.destroy=void 0,C=f;var Le=d,Ye=ue;try{Ye()}catch(ct){Nr(C,Le,ct)}}}v=v.next}while(v!==N)}}catch(ct){Nr(f,f.return,ct)}}function b3(l){var f=l.updateQueue;if(f!==null){var d=l.stateNode;try{Li(f,d)}catch(v){Nr(l,l.return,v)}}}function w3(l,f,d){d.props=G0(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(v){Nr(l,f,v)}}function Gv(l,f){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof d=="function"?l.refCleanup=d(v):d.current=v}}catch(C){Nr(l,f,C)}}function Iu(l,f){var d=l.ref,v=l.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(C){Nr(l,f,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Nr(l,f,C)}else d.current=null}function _3(l){var f=l.type,d=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(C){Nr(l,l.return,C)}}function oS(l,f,d){try{var v=l.stateNode;CO(v,l.type,d,f),v[we]=f}catch(C){Nr(l,l.return,C)}}function S3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&fd(l.type)||l.tag===4}function lS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||S3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&fd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function cS(l,f,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,f):(f=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,f.appendChild(l),d=d._reactRootContainer,d!=null||f.onclick!==null||(f.onclick=$o));else if(v!==4&&(v===27&&fd(l.type)&&(d=l.stateNode,f=null),l=l.child,l!==null))for(cS(l,f,d),l=l.sibling;l!==null;)cS(l,f,d),l=l.sibling}function bb(l,f,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?d.insertBefore(l,f):d.appendChild(l);else if(v!==4&&(v===27&&fd(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(bb(l,f,d),l=l.sibling;l!==null;)bb(l,f,d),l=l.sibling}function A3(l){var f=l.stateNode,d=l.memoizedProps;try{for(var v=l.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);ra(f,v,d),f[xe]=l,f[we]=d}catch(N){Nr(l,l.return,N)}}var If=!1,as=!1,uS=!1,E3=typeof WeakSet=="function"?WeakSet:Set,Ps=null;function aO(l,f){if(l=l.containerInfo,LS=zb,l=Cc(l),Fl(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var C=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,ue=-1,Le=-1,Ye=0,ct=0,mt=l,Ze=null;t:for(;;){for(var tt;mt!==d||C!==0&&mt.nodeType!==3||(ue=V+C),mt!==N||v!==0&&mt.nodeType!==3||(Le=V+v),mt.nodeType===3&&(V+=mt.nodeValue.length),(tt=mt.firstChild)!==null;)Ze=mt,mt=tt;for(;;){if(mt===l)break t;if(Ze===d&&++Ye===C&&(ue=V),Ze===N&&++ct===v&&(Le=V),(tt=mt.nextSibling)!==null)break;mt=Ze,Ze=mt.parentNode}mt=tt}d=ue===-1||Le===-1?null:{start:ue,end:Le}}else d=null}d=d||{start:0,end:0}}else d=null;for(IS={focusedElem:l,selectionRange:d},zb=!1,Ps=f;Ps!==null;)if(f=Ps,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Ps=l;else for(;Ps!==null;){switch(f=Ps,N=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)C=l[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,d=f,C=N.memoizedProps,N=N.memoizedState,v=d.stateNode;try{var en=G0(d.type,C);l=v.getSnapshotBeforeUpdate(en,N),v.__reactInternalSnapshotBeforeUpdate=l}catch(yn){Nr(d,d.return,yn)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,d=l.nodeType,d===9)FS(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":FS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,Ps=l;break}Ps=f.return}}function T3(l,f,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Df(l,d),v&4&&jv(5,d);break;case 1:if(Df(l,d),v&4)if(l=d.stateNode,f===null)try{l.componentDidMount()}catch(V){Nr(d,d.return,V)}else{var C=G0(d.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(C,f,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Nr(d,d.return,V)}}v&64&&b3(d),v&512&&Gv(d,d.return);break;case 3:if(Df(l,d),v&64&&(l=d.updateQueue,l!==null)){if(f=null,d.child!==null)switch(d.child.tag){case 27:case 5:f=d.child.stateNode;break;case 1:f=d.child.stateNode}try{Li(l,f)}catch(V){Nr(d,d.return,V)}}break;case 27:f===null&&v&4&&A3(d);case 26:case 5:Df(l,d),f===null&&v&4&&_3(d),v&512&&Gv(d,d.return);break;case 12:Df(l,d);break;case 31:Df(l,d),v&4&&N3(l,d);break;case 13:Df(l,d),v&4&&R3(l,d),v&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=gO.bind(null,d),FO(l,d))));break;case 22:if(v=d.memoizedState!==null||If,!v){f=f!==null&&f.memoizedState!==null||as,C=If;var N=as;If=v,(as=f)&&!N?Ff(l,d,(d.subtreeFlags&8772)!==0):Df(l,d),If=C,as=N}break;case 30:break;default:Df(l,d)}}function C3(l){var f=l.alternate;f!==null&&(l.alternate=null,C3(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&_t(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var di=null,To=!1;function Mf(l,f,d){for(d=d.child;d!==null;)k3(l,f,d),d=d.sibling}function k3(l,f,d){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(kt,d)}catch{}switch(d.tag){case 26:as||Iu(d,f),Mf(l,f,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:as||Iu(d,f);var v=di,C=To;fd(d.type)&&(di=d.stateNode,To=!1),Mf(l,f,d),Zv(d.stateNode),di=v,To=C;break;case 5:as||Iu(d,f);case 6:if(v=di,C=To,di=null,Mf(l,f,d),di=v,To=C,di!==null)if(To)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(d.stateNode)}catch(N){Nr(d,f,N)}else try{di.removeChild(d.stateNode)}catch(N){Nr(d,f,N)}break;case 18:di!==null&&(To?(l=di,bk(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),wm(l)):bk(di,d.stateNode));break;case 4:v=di,C=To,di=d.stateNode.containerInfo,To=!0,Mf(l,f,d),di=v,To=C;break;case 0:case 11:case 14:case 15:id(2,d,f),as||id(4,d,f),Mf(l,f,d);break;case 1:as||(Iu(d,f),v=d.stateNode,typeof v.componentWillUnmount=="function"&&w3(d,f,v)),Mf(l,f,d);break;case 21:Mf(l,f,d);break;case 22:as=(v=as)||d.memoizedState!==null,Mf(l,f,d),as=v;break;default:Mf(l,f,d)}}function N3(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{wm(l)}catch(d){Nr(f,f.return,d)}}}function R3(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{wm(l)}catch(d){Nr(f,f.return,d)}}function oO(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new E3),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new E3),f;default:throw Error(r(435,l.tag))}}function wb(l,f){var d=oO(l);f.forEach(function(v){if(!d.has(v)){d.add(v);var C=mO.bind(null,l,v);v.then(C,C)}})}function Co(l,f){var d=f.deletions;if(d!==null)for(var v=0;v<d.length;v++){var C=d[v],N=l,V=f,ue=V;e:for(;ue!==null;){switch(ue.tag){case 27:if(fd(ue.type)){di=ue.stateNode,To=!1;break e}break;case 5:di=ue.stateNode,To=!1;break e;case 3:case 4:di=ue.stateNode.containerInfo,To=!0;break e}ue=ue.return}if(di===null)throw Error(r(160));k3(N,V,C),di=null,To=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)L3(f,l),f=f.sibling}var Fc=null;function L3(l,f){var d=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Co(f,l),ko(l),v&4&&(id(3,l,l.return),jv(3,l),id(5,l,l.return));break;case 1:Co(f,l),ko(l),v&512&&(as||d===null||Iu(d,d.return)),v&64&&If&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var C=Fc;if(Co(f,l),ko(l),v&512&&(as||d===null||Iu(d,d.return)),v&4){var N=d!==null?d.memoizedState:null;if(v=l.memoizedState,d===null)if(v===null)if(l.stateNode===null){e:{v=l.type,d=l.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":N=C.getElementsByTagName("title")[0],(!N||N[$e]||N[xe]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(v),C.head.insertBefore(N,C.querySelector("head > title"))),ra(N,v,d),N[xe]=l,Kt(N),v=N;break e;case"link":var V=Lk("link","href",C).get(v+(d.href||""));if(V){for(var ue=0;ue<V.length;ue++)if(N=V[ue],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(ue,1);break t}}N=C.createElement(v),ra(N,v,d),C.head.appendChild(N);break;case"meta":if(V=Lk("meta","content",C).get(v+(d.content||""))){for(ue=0;ue<V.length;ue++)if(N=V[ue],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(ue,1);break t}}N=C.createElement(v),ra(N,v,d),C.head.appendChild(N);break;default:throw Error(r(468,v))}N[xe]=l,Kt(N),v=N}l.stateNode=v}else Ik(C,l.type,l.stateNode);else l.stateNode=Rk(C,v,l.memoizedProps);else N!==v?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,v===null?Ik(C,l.type,l.stateNode):Rk(C,v,l.memoizedProps)):v===null&&l.stateNode!==null&&oS(l,l.memoizedProps,d.memoizedProps)}break;case 27:Co(f,l),ko(l),v&512&&(as||d===null||Iu(d,d.return)),d!==null&&v&4&&oS(l,l.memoizedProps,d.memoizedProps);break;case 5:if(Co(f,l),ko(l),v&512&&(as||d===null||Iu(d,d.return)),l.flags&32){C=l.stateNode;try{Wo(C,"")}catch(en){Nr(l,l.return,en)}}v&4&&l.stateNode!=null&&(C=l.memoizedProps,oS(l,C,d!==null?d.memoizedProps:C)),v&1024&&(uS=!0);break;case 6:if(Co(f,l),ko(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,d=l.stateNode;try{d.nodeValue=v}catch(en){Nr(l,l.return,en)}}break;case 3:if(Ob=null,C=Fc,Fc=Fb(f.containerInfo),Co(f,l),Fc=C,ko(l),v&4&&d!==null&&d.memoizedState.isDehydrated)try{wm(f.containerInfo)}catch(en){Nr(l,l.return,en)}uS&&(uS=!1,I3(l));break;case 4:v=Fc,Fc=Fb(l.stateNode.containerInfo),Co(f,l),ko(l),Fc=v;break;case 12:Co(f,l),ko(l);break;case 31:Co(f,l),ko(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,wb(l,v)));break;case 13:Co(f,l),ko(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Sb=Je()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,wb(l,v)));break;case 22:C=l.memoizedState!==null;var Le=d!==null&&d.memoizedState!==null,Ye=If,ct=as;if(If=Ye||C,as=ct||Le,Co(f,l),as=ct,If=Ye,ko(l),v&8192)e:for(f=l.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(d===null||Le||If||as||q0(l)),d=null,f=l;;){if(f.tag===5||f.tag===26){if(d===null){Le=d=f;try{if(N=Le.stateNode,C)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ue=Le.stateNode;var mt=Le.memoizedProps.style,Ze=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;ue.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(en){Nr(Le,Le.return,en)}}}else if(f.tag===6){if(d===null){Le=f;try{Le.stateNode.nodeValue=C?"":Le.memoizedProps}catch(en){Nr(Le,Le.return,en)}}}else if(f.tag===18){if(d===null){Le=f;try{var tt=Le.stateNode;C?wk(tt,!0):wk(Le.stateNode,!1)}catch(en){Nr(Le,Le.return,en)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,wb(l,d))));break;case 19:Co(f,l),ko(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,wb(l,v)));break;case 30:break;case 21:break;default:Co(f,l),ko(l)}}function ko(l){var f=l.flags;if(f&2){try{for(var d,v=l.return;v!==null;){if(S3(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var C=d.stateNode,N=lS(l);bb(l,N,C);break;case 5:var V=d.stateNode;d.flags&32&&(Wo(V,""),d.flags&=-33);var ue=lS(l);bb(l,ue,V);break;case 3:case 4:var Le=d.stateNode.containerInfo,Ye=lS(l);cS(l,Ye,Le);break;default:throw Error(r(161))}}catch(ct){Nr(l,l.return,ct)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function I3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;I3(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Df(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)T3(l,f.alternate,f),f=f.sibling}function q0(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:id(4,f,f.return),q0(f);break;case 1:Iu(f,f.return);var d=f.stateNode;typeof d.componentWillUnmount=="function"&&w3(f,f.return,d),q0(f);break;case 27:Zv(f.stateNode);case 26:case 5:Iu(f,f.return),q0(f);break;case 22:f.memoizedState===null&&q0(f);break;case 30:q0(f);break;default:q0(f)}l=l.sibling}}function Ff(l,f,d){for(d=d&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,C=l,N=f,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ff(C,N,d),jv(4,N);break;case 1:if(Ff(C,N,d),v=N,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ye){Nr(v,v.return,Ye)}if(v=N,C=v.updateQueue,C!==null){var ue=v.stateNode;try{var Le=C.shared.hiddenCallbacks;if(Le!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Le.length;C++)Ds(Le[C],ue)}catch(Ye){Nr(v,v.return,Ye)}}d&&V&64&&b3(N),Gv(N,N.return);break;case 27:A3(N);case 26:case 5:Ff(C,N,d),d&&v===null&&V&4&&_3(N),Gv(N,N.return);break;case 12:Ff(C,N,d);break;case 31:Ff(C,N,d),d&&V&4&&N3(C,N);break;case 13:Ff(C,N,d),d&&V&4&&R3(C,N);break;case 22:N.memoizedState===null&&Ff(C,N,d),Gv(N,N.return);break;case 30:break;default:Ff(C,N,d)}f=f.sibling}}function fS(l,f){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&U0(d))}function hS(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&U0(l))}function Pc(l,f,d,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)M3(l,f,d,v),f=f.sibling}function M3(l,f,d,v){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Pc(l,f,d,v),C&2048&&jv(9,f);break;case 1:Pc(l,f,d,v);break;case 3:Pc(l,f,d,v),C&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&U0(l)));break;case 12:if(C&2048){Pc(l,f,d,v),l=f.stateNode;try{var N=f.memoizedProps,V=N.id,ue=N.onPostCommit;typeof ue=="function"&&ue(V,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Le){Nr(f,f.return,Le)}}else Pc(l,f,d,v);break;case 31:Pc(l,f,d,v);break;case 13:Pc(l,f,d,v);break;case 23:break;case 22:N=f.stateNode,V=f.alternate,f.memoizedState!==null?N._visibility&2?Pc(l,f,d,v):qv(l,f):N._visibility&2?Pc(l,f,d,v):(N._visibility|=2,um(l,f,d,v,(f.subtreeFlags&10256)!==0||!1)),C&2048&&fS(V,f);break;case 24:Pc(l,f,d,v),C&2048&&hS(f.alternate,f);break;default:Pc(l,f,d,v)}}function um(l,f,d,v,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var N=l,V=f,ue=d,Le=v,Ye=V.flags;switch(V.tag){case 0:case 11:case 15:um(N,V,ue,Le,C),jv(8,V);break;case 23:break;case 22:var ct=V.stateNode;V.memoizedState!==null?ct._visibility&2?um(N,V,ue,Le,C):qv(N,V):(ct._visibility|=2,um(N,V,ue,Le,C)),C&&Ye&2048&&fS(V.alternate,V);break;case 24:um(N,V,ue,Le,C),C&&Ye&2048&&hS(V.alternate,V);break;default:um(N,V,ue,Le,C)}f=f.sibling}}function qv(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var d=l,v=f,C=v.flags;switch(v.tag){case 22:qv(d,v),C&2048&&fS(v.alternate,v);break;case 24:qv(d,v),C&2048&&hS(v.alternate,v);break;default:qv(d,v)}f=f.sibling}}var Vv=8192;function fm(l,f,d){if(l.subtreeFlags&Vv)for(l=l.child;l!==null;)D3(l,f,d),l=l.sibling}function D3(l,f,d){switch(l.tag){case 26:fm(l,f,d),l.flags&Vv&&l.memoizedState!==null&&$O(d,Fc,l.memoizedState,l.memoizedProps);break;case 5:fm(l,f,d);break;case 3:case 4:var v=Fc;Fc=Fb(l.stateNode.containerInfo),fm(l,f,d),Fc=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=Vv,Vv=16777216,fm(l,f,d),Vv=v):fm(l,f,d));break;default:fm(l,f,d)}}function F3(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function Wv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var v=f[d];Ps=v,O3(v,l)}F3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)P3(l),l=l.sibling}function P3(l){switch(l.tag){case 0:case 11:case 15:Wv(l),l.flags&2048&&id(9,l,l.return);break;case 3:Wv(l);break;case 12:Wv(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,_b(l)):Wv(l);break;default:Wv(l)}}function _b(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var v=f[d];Ps=v,O3(v,l)}F3(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:id(8,f,f.return),_b(f);break;case 22:d=f.stateNode,d._visibility&2&&(d._visibility&=-3,_b(f));break;default:_b(f)}l=l.sibling}}function O3(l,f){for(;Ps!==null;){var d=Ps;switch(d.tag){case 0:case 11:case 15:id(8,d,f);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:U0(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Ps=v;else e:for(d=l;Ps!==null;){v=Ps;var C=v.sibling,N=v.return;if(C3(v),v===d){Ps=null;break e}if(C!==null){C.return=N,Ps=C;break e}Ps=N}}}var lO={getCacheForType:function(l){var f=bs(wi),d=f.data.get(l);return d===void 0&&(d=l(),f.data.set(l,d)),d},cacheSignal:function(){return bs(wi).controller.signal}},cO=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Xr=null,Qn=null,tr=0,kr=0,el=null,sd=!1,hm=!1,dS=!1,Pf=0,Fi=0,ad=0,V0=0,pS=0,tl=0,dm=0,$v=null,No=null,gS=!1,Sb=0,B3=0,Ab=1/0,Eb=null,od=null,_s=0,ld=null,pm=null,Of=0,mS=0,vS=null,U3=null,Xv=0,xS=null;function nl(){return(Ar&2)!==0&&tr!==0?tr&-tr:K.T!==null?AS():te()}function H3(){if(tl===0)if((tr&536870912)===0||Zn){var l=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),tl=l}else tl=536870912;return l=ni.current,l!==null&&(l.flags|=32),tl}function Ro(l,f,d){(l===Xr&&(kr===2||kr===9)||l.cancelPendingCommit!==null)&&(gm(l,0),cd(l,tr,tl,!1)),cn(l,d),((Ar&2)===0||l!==Xr)&&(l===Xr&&((Ar&2)===0&&(V0|=d),Fi===4&&cd(l,tr,tl,!1)),Mu(l))}function z3(l,f,d){if((Ar&6)!==0)throw Error(r(327));var v=!d&&(f&127)===0&&(f&l.expiredLanes)===0||za(l,f),C=v?hO(l,f):bS(l,f,!0),N=v;do{if(C===0){hm&&!v&&cd(l,f,0,!1);break}else{if(d=l.current.alternate,N&&!uO(d)){C=bS(l,f,!1),N=!1;continue}if(C===2){if(N=f,l.errorRecoveryDisabledLanes&N)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var ue=l;C=$v;var Le=ue.current.memoizedState.isDehydrated;if(Le&&(gm(ue,V).flags|=256),V=bS(ue,V,!1),V!==2){if(dS&&!Le){ue.errorRecoveryDisabledLanes|=N,V0|=N,C=4;break e}N=No,No=C,N!==null&&(No===null?No=N:No.push.apply(No,N))}C=V}if(N=!1,C!==2)continue}}if(C===1){gm(l,0),cd(l,f,0,!0);break}e:{switch(v=l,N=C,N){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:cd(v,f,tl,!sd);break e;case 2:No=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(C=Sb+300-Je(),10<C)){if(cd(v,f,tl,!sd),Jn(v,0,!0)!==0)break e;Of=f,v.timeoutHandle=xk(j3.bind(null,v,d,No,Eb,gS,f,tl,V0,dm,sd,N,"Throttled",-0,0),C);break e}j3(v,d,No,Eb,gS,f,tl,V0,dm,sd,N,null,-0,0)}}break}while(!0);Mu(l)}function j3(l,f,d,v,C,N,V,ue,Le,Ye,ct,mt,Ze,tt){if(l.timeoutHandle=-1,mt=f.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$o},D3(f,N,mt);var en=(N&62914560)===N?Sb-Je():(N&4194048)===N?B3-Je():0;if(en=XO(mt,en),en!==null){Of=N,l.cancelPendingCommit=en(K3.bind(null,l,f,N,d,v,C,V,ue,Le,ct,mt,null,Ze,tt)),cd(l,N,V,!Ye);return}}K3(l,f,N,d,v,C,V,ue,Le)}function uO(l){for(var f=l;;){var d=f.tag;if((d===0||d===11||d===15)&&f.flags&16384&&(d=f.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var C=d[v],N=C.getSnapshot;C=C.value;try{if(!ms(N(),C))return!1}catch{return!1}}if(d=f.child,f.subtreeFlags&16384&&d!==null)d.return=f,f=d;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function cd(l,f,d,v){f&=~pS,f&=~V0,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var C=f;0<C;){var N=31-En(C),V=1<<N;v[N]=-1,C&=~V}d!==0&&ho(l,d,f)}function Tb(){return(Ar&6)===0?(Yv(0),!1):!0}function yS(){if(Qn!==null){if(kr===0)var l=Qn.return;else l=Qn,Ol=Au=null,rm(l),xt=null,nn=0,l=Qn;for(;l!==null;)y3(l.alternate,l),l=l.return;Qn=null}}function gm(l,f){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,RO(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),Of=0,yS(),Xr=l,Qn=d=xo(l.current,null),tr=f,kr=0,el=null,sd=!1,hm=za(l,f),dS=!1,dm=tl=pS=V0=ad=Fi=0,No=$v=null,gS=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var C=31-En(v),N=1<<C;f|=l[C],v&=~N}return Pf=f,M0(),d}function G3(l,f){hn=null,K.H=Uv,f===Me||f===Se?(f=ht(),kr=3):f===We?(f=ht(),kr=4):kr=f===J5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,el=f,Qn===null&&(Fi=1,gb(l,yo(f,l.current)))}function q3(){var l=ni.current;return l===null?!0:(tr&4194048)===tr?lr===null:(tr&62914560)===tr||(tr&536870912)!==0?l===lr:!1}function V3(){var l=K.H;return K.H=Uv,l===null?Uv:l}function W3(){var l=K.A;return K.A=lO,l}function Cb(){Fi=4,sd||(tr&4194048)!==tr&&ni.current!==null||(hm=!0),(ad&134217727)===0&&(V0&134217727)===0||Xr===null||cd(Xr,tr,tl,!1)}function bS(l,f,d){var v=Ar;Ar|=2;var C=V3(),N=W3();(Xr!==l||tr!==f)&&(Eb=null,gm(l,f)),f=!1;var V=Fi;e:do try{if(kr!==0&&Qn!==null){var ue=Qn,Le=el;switch(kr){case 8:yS(),V=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(f=!0);var Ye=kr;if(kr=0,el=null,mm(l,ue,Le,Ye),d&&hm){V=0;break e}break;default:Ye=kr,kr=0,el=null,mm(l,ue,Le,Ye)}}fO(),V=Fi;break}catch(ct){G3(l,ct)}while(!0);return f&&l.shellSuspendCounter++,Ol=Au=null,Ar=v,K.H=C,K.A=N,Qn===null&&(Xr=null,tr=0,M0()),V}function fO(){for(;Qn!==null;)$3(Qn)}function hO(l,f){var d=Ar;Ar|=2;var v=V3(),C=W3();Xr!==l||tr!==f?(Eb=null,Ab=Je()+500,gm(l,f)):hm=za(l,f);e:do try{if(kr!==0&&Qn!==null){f=Qn;var N=el;t:switch(kr){case 1:kr=0,el=null,mm(l,f,N,1);break;case 2:case 9:if(ze(N)){kr=0,el=null,X3(f);break}f=function(){kr!==2&&kr!==9||Xr!==l||(kr=7),Mu(l)},N.then(f,f);break e;case 3:kr=7;break e;case 4:kr=5;break e;case 7:ze(N)?(kr=0,el=null,X3(f)):(kr=0,el=null,mm(l,f,N,7));break;case 5:var V=null;switch(Qn.tag){case 26:V=Qn.memoizedState;case 5:case 27:var ue=Qn;if(V?Mk(V):ue.stateNode.complete){kr=0,el=null;var Le=ue.sibling;if(Le!==null)Qn=Le;else{var Ye=ue.return;Ye!==null?(Qn=Ye,kb(Ye)):Qn=null}break t}}kr=0,el=null,mm(l,f,N,5);break;case 6:kr=0,el=null,mm(l,f,N,6);break;case 8:yS(),Fi=6;break e;default:throw Error(r(462))}}dO();break}catch(ct){G3(l,ct)}while(!0);return Ol=Au=null,K.H=v,K.A=C,Ar=d,Qn!==null?0:(Xr=null,tr=0,M0(),Fi)}function dO(){for(;Qn!==null&&!$t();)$3(Qn)}function $3(l){var f=v3(l.alternate,l,Pf);l.memoizedProps=l.pendingProps,f===null?kb(l):Qn=f}function X3(l){var f=l,d=f.alternate;switch(f.tag){case 15:case 0:f=f3(d,f,f.pendingProps,f.type,void 0,tr);break;case 11:f=f3(d,f,f.pendingProps,f.type.render,f.ref,tr);break;case 5:rm(f);default:y3(d,f),f=Qn=P0(f,Pf),f=v3(d,f,Pf)}l.memoizedProps=l.pendingProps,f===null?kb(l):Qn=f}function mm(l,f,d,v){Ol=Au=null,rm(f),xt=null,nn=0;var C=f.return;try{if(tO(l,C,f,d,tr)){Fi=1,gb(l,yo(d,l.current)),Qn=null;return}}catch(N){if(C!==null)throw Qn=C,N;Fi=1,gb(l,yo(d,l.current)),Qn=null;return}f.flags&32768?(Zn||v===1?l=!0:hm||(tr&536870912)!==0?l=!1:(sd=l=!0,(v===2||v===9||v===3||v===6)&&(v=ni.current,v!==null&&v.tag===13&&(v.flags|=16384))),Y3(f,l)):kb(f)}function kb(l){var f=l;do{if((f.flags&32768)!==0){Y3(f,sd);return}l=f.return;var d=iO(f.alternate,f,Pf);if(d!==null){Qn=d;return}if(f=f.sibling,f!==null){Qn=f;return}Qn=f=l}while(f!==null);Fi===0&&(Fi=5)}function Y3(l,f){do{var d=sO(l.alternate,l);if(d!==null){d.flags&=32767,Qn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!f&&(l=l.sibling,l!==null)){Qn=l;return}Qn=l=d}while(l!==null);Fi=6,Qn=null}function K3(l,f,d,v,C,N,V,ue,Le){l.cancelPendingCommit=null;do Nb();while(_s!==0);if((Ar&6)!==0)throw Error(r(327));if(f!==null){if(f===l.current)throw Error(r(177));if(N=f.lanes|f.childLanes,N|=Gg,jo(l,d,N,V,ue,Le),l===Xr&&(Qn=Xr=null,tr=0),pm=f,ld=l,Of=d,mS=N,vS=C,U3=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,vO(wt,function(){return tk(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=K.T,K.T=null,C=ce.p,ce.p=2,V=Ar,Ar|=4;try{aO(l,f,d)}finally{Ar=V,ce.p=C,K.T=v}}_s=1,J3(),Z3(),Q3()}}function J3(){if(_s===1){_s=0;var l=ld,f=pm,d=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var v=ce.p;ce.p=2;var C=Ar;Ar|=4;try{L3(f,l);var N=IS,V=Cc(l.containerInfo),ue=N.focusedElem,Le=N.selectionRange;if(V!==ue&&ue&&ue.ownerDocument&&Tc(ue.ownerDocument.documentElement,ue)){if(Le!==null&&Fl(ue)){var Ye=Le.start,ct=Le.end;if(ct===void 0&&(ct=Ye),"selectionStart"in ue)ue.selectionStart=Ye,ue.selectionEnd=Math.min(ct,ue.value.length);else{var mt=ue.ownerDocument||document,Ze=mt&&mt.defaultView||window;if(Ze.getSelection){var tt=Ze.getSelection(),en=ue.textContent.length,yn=Math.min(Le.start,en),jr=Le.end===void 0?yn:Math.min(Le.end,en);!tt.extend&&yn>jr&&(V=jr,jr=yn,yn=V);var Ue=$h(ue,yn),De=$h(ue,jr);if(Ue&&De&&(tt.rangeCount!==1||tt.anchorNode!==Ue.node||tt.anchorOffset!==Ue.offset||tt.focusNode!==De.node||tt.focusOffset!==De.offset)){var Xe=mt.createRange();Xe.setStart(Ue.node,Ue.offset),tt.removeAllRanges(),yn>jr?(tt.addRange(Xe),tt.extend(De.node,De.offset)):(Xe.setEnd(De.node,De.offset),tt.addRange(Xe))}}}}for(mt=[],tt=ue;tt=tt.parentNode;)tt.nodeType===1&&mt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<mt.length;ue++){var dt=mt[ue];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}zb=!!LS,IS=LS=null}finally{Ar=C,ce.p=v,K.T=d}}l.current=f,_s=2}}function Z3(){if(_s===2){_s=0;var l=ld,f=pm,d=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var v=ce.p;ce.p=2;var C=Ar;Ar|=4;try{T3(l,f.alternate,f)}finally{Ar=C,ce.p=v,K.T=d}}_s=3}}function Q3(){if(_s===4||_s===3){_s=0,_e();var l=ld,f=pm,d=Of,v=U3;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?_s=5:(_s=0,pm=ld=null,ek(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(od=null),ci(d),f=f.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(kt,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=K.T,C=ce.p,ce.p=2,K.T=null;try{for(var N=l.onRecoverableError,V=0;V<v.length;V++){var ue=v[V];N(ue.value,{componentStack:ue.stack})}}finally{K.T=f,ce.p=C}}(Of&3)!==0&&Nb(),Mu(l),C=l.pendingLanes,(d&261930)!==0&&(C&42)!==0?l===xS?Xv++:(Xv=0,xS=l):Xv=0,Yv(0)}}function ek(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,U0(f)))}function Nb(){return J3(),Z3(),Q3(),tk()}function tk(){if(_s!==5)return!1;var l=ld,f=mS;mS=0;var d=ci(Of),v=K.T,C=ce.p;try{ce.p=32>d?32:d,K.T=null,d=vS,vS=null;var N=ld,V=Of;if(_s=0,pm=ld=null,Of=0,(Ar&6)!==0)throw Error(r(331));var ue=Ar;if(Ar|=4,P3(N.current),M3(N,N.current,V,d),Ar=ue,Yv(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(kt,N)}catch{}return!0}finally{ce.p=C,K.T=v,ek(l,f)}}function nk(l,f,d){f=yo(d,f),f=K5(l.stateNode,f,2),l=Fn(l,f,2),l!==null&&(cn(l,2),Mu(l))}function Nr(l,f,d){if(l.tag===3)nk(l,l,d);else for(;f!==null;){if(f.tag===3){nk(f,l,d);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(od===null||!od.has(v))){l=yo(d,l),d=r3(2),v=Fn(f,d,2),v!==null&&(i3(d,v,f,l),cn(v,2),Mu(v));break}}f=f.return}}function wS(l,f,d){var v=l.pingCache;if(v===null){v=l.pingCache=new cO;var C=new Set;v.set(f,C)}else C=v.get(f),C===void 0&&(C=new Set,v.set(f,C));C.has(d)||(dS=!0,C.add(d),l=pO.bind(null,l,f,d),f.then(l,l))}function pO(l,f,d){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,Xr===l&&(tr&d)===d&&(Fi===4||Fi===3&&(tr&62914560)===tr&&300>Je()-Sb?(Ar&2)===0&&gm(l,0):pS|=d,dm===tr&&(dm=0)),Mu(l)}function rk(l,f){f===0&&(f=fo()),l=Nc(l,f),l!==null&&(cn(l,f),Mu(l))}function gO(l){var f=l.memoizedState,d=0;f!==null&&(d=f.retryLane),rk(l,d)}function mO(l,f){var d=0;switch(l.tag){case 31:case 13:var v=l.stateNode,C=l.memoizedState;C!==null&&(d=C.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(f),rk(l,d)}function vO(l,f){return Dt(l,f)}var Rb=null,vm=null,_S=!1,Lb=!1,SS=!1,ud=0;function Mu(l){l!==vm&&l.next===null&&(vm===null?Rb=vm=l:vm=vm.next=l),Lb=!0,_S||(_S=!0,yO())}function Yv(l,f){if(!SS&&Lb){SS=!0;do for(var d=!1,v=Rb;v!==null;){if(l!==0){var C=v.pendingLanes;if(C===0)var N=0;else{var V=v.suspendedLanes,ue=v.pingedLanes;N=(1<<31-En(42|l)+1)-1,N&=C&~(V&~ue),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,ok(v,N))}else N=tr,N=Jn(v,v===Xr?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||za(v,N)||(d=!0,ok(v,N));v=v.next}while(d);SS=!1}}function xO(){ik()}function ik(){Lb=_S=!1;var l=0;ud!==0&&NO()&&(l=ud);for(var f=Je(),d=null,v=Rb;v!==null;){var C=v.next,N=sk(v,f);N===0?(v.next=null,d===null?Rb=C:d.next=C,C===null&&(vm=d)):(d=v,(l!==0||(N&3)!==0)&&(Lb=!0)),v=C}_s!==0&&_s!==5||Yv(l),ud!==0&&(ud=0)}function sk(l,f){for(var d=l.suspendedLanes,v=l.pingedLanes,C=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var V=31-En(N),ue=1<<V,Le=C[V];Le===-1?((ue&d)===0||(ue&v)!==0)&&(C[V]=ts(ue,f)):Le<=f&&(l.expiredLanes|=ue),N&=~ue}if(f=Xr,d=tr,d=Jn(l,l===f?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,d===0||l===f&&(kr===2||kr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Ct(v),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||za(l,d)){if(f=d&-d,f===l.callbackPriority)return f;switch(v!==null&&Ct(v),ci(d)){case 2:case 8:d=Ut;break;case 32:d=wt;break;case 268435456:d=Pe;break;default:d=wt}return v=ak.bind(null,l),d=Dt(d,v),l.callbackPriority=f,l.callbackNode=d,f}return v!==null&&v!==null&&Ct(v),l.callbackPriority=2,l.callbackNode=null,2}function ak(l,f){if(_s!==0&&_s!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(Nb()&&l.callbackNode!==d)return null;var v=tr;return v=Jn(l,l===Xr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(z3(l,v,f),sk(l,Je()),l.callbackNode!=null&&l.callbackNode===d?ak.bind(null,l):null)}function ok(l,f){if(Nb())return null;z3(l,f,!0)}function yO(){LO(function(){(Ar&6)!==0?Dt(pt,xO):ik()})}function AS(){if(ud===0){var l=A;l===0&&(l=dn,dn<<=1,(dn&261888)===0&&(dn=256)),ud=l}return ud}function lk(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:pa(""+l)}function ck(l,f){var d=f.ownerDocument.createElement("input");return d.name=f.name,d.value=f.value,l.id&&d.setAttribute("form",l.id),f.parentNode.insertBefore(d,f),l=new FormData(l),d.parentNode.removeChild(d),l}function bO(l,f,d,v,C){if(f==="submit"&&d&&d.stateNode===C){var N=lk((C[we]||null).action),V=v.submitter;V&&(f=(f=V[we]||null)?lk(f.formAction):V.getAttribute("formAction"),f!==null&&(N=f,V=null));var ue=new go("action","action",null,v,C);l.push({event:ue,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ud!==0){var Le=V?ck(C,V):new FormData(C);q5(d,{pending:!0,data:Le,method:C.method,action:N},null,Le)}}else typeof N=="function"&&(ue.preventDefault(),Le=V?ck(C,V):new FormData(C),q5(d,{pending:!0,data:Le,method:C.method,action:N},N,Le))},currentTarget:C}]})}}for(var ES=0;ES<_f.length;ES++){var TS=_f[ES],wO=TS.toLowerCase(),_O=TS[0].toUpperCase()+TS.slice(1);vo(wO,"on"+_O)}vo(wf,"onAnimationEnd"),vo(L0,"onAnimationIteration"),vo(Av,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(nb,"onTransitionRun"),vo(rb,"onTransitionStart"),vo(ib,"onTransitionCancel"),vo(Ev,"onTransitionEnd"),Ys("onMouseEnter",["mouseout","mouseover"]),Ys("onMouseLeave",["mouseout","mouseover"]),Ys("onPointerEnter",["pointerout","pointerover"]),Ys("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kv));function uk(l,f){f=(f&4)!==0;for(var d=0;d<l.length;d++){var v=l[d],C=v.event;v=v.listeners;e:{var N=void 0;if(f)for(var V=v.length-1;0<=V;V--){var ue=v[V],Le=ue.instance,Ye=ue.currentTarget;if(ue=ue.listener,Le!==N&&C.isPropagationStopped())break e;N=ue,C.currentTarget=Ye;try{N(C)}catch(ct){I0(ct)}C.currentTarget=null,N=Le}else for(V=0;V<v.length;V++){if(ue=v[V],Le=ue.instance,Ye=ue.currentTarget,ue=ue.listener,Le!==N&&C.isPropagationStopped())break e;N=ue,C.currentTarget=Ye;try{N(C)}catch(ct){I0(ct)}C.currentTarget=null,N=Le}}}}function er(l,f){var d=f[je];d===void 0&&(d=f[je]=new Set);var v=l+"__bubble";d.has(v)||(fk(f,l,2,!1),d.add(v))}function CS(l,f,d){var v=0;f&&(v|=4),fk(d,l,v,f)}var Ib="_reactListening"+Math.random().toString(36).slice(2);function kS(l){if(!l[Ib]){l[Ib]=!0,wr.forEach(function(d){d!=="selectionchange"&&(SO.has(d)||CS(d,!1,l),CS(d,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[Ib]||(f[Ib]=!0,CS("selectionchange",!1,f))}}function fk(l,f,d,v){switch(Hk(f)){case 2:var C=JO;break;case 8:C=ZO;break;default:C=GS}d=C.bind(null,f,d,l),C=void 0,!T0||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),v?C!==void 0?l.addEventListener(f,d,{capture:!0,passive:C}):l.addEventListener(f,d,!0):C!==void 0?l.addEventListener(f,d,{passive:C}):l.addEventListener(f,d,!1)}function NS(l,f,d,v,C){var N=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var ue=v.stateNode.containerInfo;if(ue===C)break;if(V===4)for(V=v.return;V!==null;){var Le=V.tag;if((Le===3||Le===4)&&V.stateNode.containerInfo===C)return;V=V.return}for(;ue!==null;){if(V=Tt(ue),V===null)return;if(Le=V.tag,Le===5||Le===6||Le===26||Le===27){v=N=V;continue e}ue=ue.parentNode}}v=v.return}Bg(function(){var Ye=N,ct=pf(d),mt=[];e:{var Ze=Tv.get(l);if(Ze!==void 0){var tt=go,en=l;switch(l){case"keypress":if(po(d)===0)break e;case"keydown":case"keyup":tt=rr;break;case"focusin":en="focus",tt=xc;break;case"focusout":en="blur",tt=xc;break;case"beforeblur":case"afterblur":tt=xc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=ji;break;case wf:case L0:case Av:tt=M;break;case Ev:tt=gs;break;case"scroll":case"scrollend":tt=Hh;break;case"wheel":tt=Xo;break;case"copy":case"cut":case"paste":tt=ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=xi;break;case"toggle":case"beforetoggle":tt=k0}var yn=(f&4)!==0,jr=!yn&&(l==="scroll"||l==="scrollend"),Ue=yn?Ze!==null?Ze+"Capture":null:Ze;yn=[];for(var De=Ye,Xe;De!==null;){var dt=De;if(Xe=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||Xe===null||Ue===null||(dt=Ga(De,Ue),dt!=null&&yn.push(Jv(De,dt,Xe))),jr)break;De=De.return}0<yn.length&&(Ze=new tt(Ze,en,null,d,ct),mt.push({event:Ze,listeners:yn}))}}if((f&7)===0){e:{if(Ze=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",Ze&&d!==hc&&(en=d.relatedTarget||d.fromElement)&&(Tt(en)||en[Ne]))break e;if((tt||Ze)&&(Ze=ct.window===ct?ct:(Ze=ct.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,tt?(en=d.relatedTarget||d.toElement,tt=Ye,en=en?Tt(en):null,en!==null&&(jr=s(en),yn=en.tag,en!==jr||yn!==5&&yn!==27&&yn!==6)&&(en=null)):(tt=null,en=Ye),tt!==en)){if(yn=C0,dt="onMouseLeave",Ue="onMouseEnter",De="mouse",(l==="pointerout"||l==="pointerover")&&(yn=xi,dt="onPointerLeave",Ue="onPointerEnter",De="pointer"),jr=tt==null?Ze:Et(tt),Xe=en==null?Ze:Et(en),Ze=new yn(dt,De+"leave",tt,d,ct),Ze.target=jr,Ze.relatedTarget=Xe,dt=null,Tt(ct)===Ye&&(yn=new yn(Ue,De+"enter",en,d,ct),yn.target=Xe,yn.relatedTarget=jr,dt=yn),jr=dt,tt&&en)t:{for(yn=AO,Ue=tt,De=en,Xe=0,dt=Ue;dt;dt=yn(dt))Xe++;dt=0;for(var gn=De;gn;gn=yn(gn))dt++;for(;0<Xe-dt;)Ue=yn(Ue),Xe--;for(;0<dt-Xe;)De=yn(De),dt--;for(;Xe--;){if(Ue===De||De!==null&&Ue===De.alternate){yn=Ue;break t}Ue=yn(Ue),De=yn(De)}yn=null}else yn=null;tt!==null&&hk(mt,Ze,tt,yn,!1),en!==null&&jr!==null&&hk(mt,jr,en,yn,!0)}}e:{if(Ze=Ye?Et(Ye):window,tt=Ze.nodeName&&Ze.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Ze.type==="file")var mr=bu;else if(N0(Ze))if(ga)mr=Ml;else{mr=yi;var an=Vh}else tt=Ze.nodeName,!tt||tt.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Ye&&S0(Ye.elementType)&&(mr=bu):mr=jg;if(mr&&(mr=mr(l,Ye))){Va(mt,mr,d,ct);break e}an&&an(l,Ze,Ye),l==="focusout"&&Ye&&Ze.type==="number"&&Ye.memoizedProps.value!=null&&b0(Ze,"number",Ze.value)}switch(an=Ye?Et(Ye):window,l){case"focusin":(N0(an)||an.contentEditable==="true")&&(Wa=an,kc=Ye,Ls=null);break;case"focusout":Ls=kc=Wa=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,fr(mt,d,ct);break;case"selectionchange":if(bf)break;case"keydown":case"keyup":fr(mt,d,ct)}var Bn;if(Nl)e:{switch(l){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else Rl?yu(l,d)&&(nr="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(nr="onCompositionStart");nr&&(wc&&d.locale!=="ko"&&(Rl||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&Rl&&(Bn=Ug()):(qa=ct,mf="value"in qa?qa.value:qa.textContent,Rl=!0)),an=Mb(Ye,nr),0<an.length&&(nr=new Be(nr,l,null,d,ct),mt.push({event:nr,listeners:an}),Bn?nr.data=Bn:(Bn=jh(d),Bn!==null&&(nr.data=Bn)))),(Bn=yf?Zs(l,d):_c(l,d))&&(nr=Mb(Ye,"onBeforeInput"),0<nr.length&&(an=new Be("onBeforeInput","beforeinput",null,d,ct),mt.push({event:an,listeners:nr}),an.data=Bn)),bO(mt,l,Ye,d,ct)}uk(mt,f)})}function Jv(l,f,d){return{instance:l,listener:f,currentTarget:d}}function Mb(l,f){for(var d=f+"Capture",v=[];l!==null;){var C=l,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=Ga(l,d),C!=null&&v.unshift(Jv(l,C,N)),C=Ga(l,f),C!=null&&v.push(Jv(l,C,N))),l.tag===3)return v;l=l.return}return[]}function AO(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function hk(l,f,d,v,C){for(var N=f._reactName,V=[];d!==null&&d!==v;){var ue=d,Le=ue.alternate,Ye=ue.stateNode;if(ue=ue.tag,Le!==null&&Le===v)break;ue!==5&&ue!==26&&ue!==27||Ye===null||(Le=Ye,C?(Ye=Ga(d,N),Ye!=null&&V.unshift(Jv(d,Ye,Le))):C||(Ye=Ga(d,N),Ye!=null&&V.push(Jv(d,Ye,Le)))),d=d.return}V.length!==0&&l.push({event:f,listeners:V})}var EO=/\r\n?/g,TO=/\u0000|\uFFFD/g;function dk(l){return(typeof l=="string"?l:""+l).replace(EO,`
`).replace(TO,"")}function pk(l,f){return f=dk(f),dk(l)===f}function zr(l,f,d,v,C,N){switch(d){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||Wo(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&Wo(l,""+v);break;case"className":fc(l,"class",v);break;case"tabIndex":fc(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":fc(l,d,v);break;case"style":Fg(l,v,N);break;case"data":if(f!=="object"){fc(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||d!=="href")){l.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=pa(""+v),l.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(f!=="input"&&zr(l,f,"name",C.name,C,null),zr(l,f,"formEncType",C.formEncType,C,null),zr(l,f,"formMethod",C.formMethod,C,null),zr(l,f,"formTarget",C.formTarget,C,null)):(zr(l,f,"encType",C.encType,C,null),zr(l,f,"method",C.method,C,null),zr(l,f,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=pa(""+v),l.setAttribute(d,v);break;case"onClick":v!=null&&(l.onclick=$o);break;case"onScroll":v!=null&&er("scroll",l);break;case"onScrollEnd":v!=null&&er("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}d=pa(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""+v):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":v===!0?l.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,v):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(d,v):l.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(d):l.setAttribute(d,v);break;case"popover":er("beforetoggle",l),er("toggle",l),Zr(l,"popover",v);break;case"xlinkActuate":Vo(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Vo(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Vo(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Vo(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Vo(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Vo(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Vo(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Vo(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Vo(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Zr(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=A0.get(d)||d,Zr(l,d,v))}}function RS(l,f,d,v,C,N){switch(d){case"style":Fg(l,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof v=="string"?Wo(l,v):(typeof v=="number"||typeof v=="bigint")&&Wo(l,""+v);break;case"onScroll":v!=null&&er("scroll",l);break;case"onScrollEnd":v!=null&&er("scrollend",l);break;case"onClick":v!=null&&(l.onclick=$o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),f=d.slice(2,C?d.length-7:void 0),N=l[we]||null,N=N!=null?N[d]:null,typeof N=="function"&&l.removeEventListener(f,N,C),typeof v=="function")){typeof N!="function"&&N!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(f,v,C);break e}d in l?l[d]=v:v===!0?l.setAttribute(d,""):Zr(l,d,v)}}}function ra(l,f,d){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":er("error",l),er("load",l);var v=!1,C=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:zr(l,f,N,V,d,null)}}C&&zr(l,f,"srcSet",d.srcSet,d,null),v&&zr(l,f,"src",d.src,d,null);return;case"input":er("invalid",l);var ue=N=V=C=null,Le=null,Ye=null;for(v in d)if(d.hasOwnProperty(v)){var ct=d[v];if(ct!=null)switch(v){case"name":C=ct;break;case"type":V=ct;break;case"checked":Le=ct;break;case"defaultChecked":Ye=ct;break;case"value":N=ct;break;case"defaultValue":ue=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,f));break;default:zr(l,f,v,ct,d,null)}}Mg(l,N,ue,Le,Ye,V,C,!1);return;case"select":er("invalid",l),v=V=N=null;for(C in d)if(d.hasOwnProperty(C)&&(ue=d[C],ue!=null))switch(C){case"value":N=ue;break;case"defaultValue":V=ue;break;case"multiple":v=ue;default:zr(l,f,C,ue,d,null)}f=N,d=V,l.multiple=!!v,f!=null?Js(l,!!v,f,!1):d!=null&&Js(l,!!v,d,!0);return;case"textarea":er("invalid",l),N=C=v=null;for(V in d)if(d.hasOwnProperty(V)&&(ue=d[V],ue!=null))switch(V){case"value":v=ue;break;case"defaultValue":C=ue;break;case"children":N=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:zr(l,f,V,ue,d,null)}_0(l,v,C,N);return;case"option":for(Le in d)if(d.hasOwnProperty(Le)&&(v=d[Le],v!=null))switch(Le){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:zr(l,f,Le,v,d,null)}return;case"dialog":er("beforetoggle",l),er("toggle",l),er("cancel",l),er("close",l);break;case"iframe":case"object":er("load",l);break;case"video":case"audio":for(v=0;v<Kv.length;v++)er(Kv[v],l);break;case"image":er("error",l),er("load",l);break;case"details":er("toggle",l);break;case"embed":case"source":case"link":er("error",l),er("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in d)if(d.hasOwnProperty(Ye)&&(v=d[Ye],v!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:zr(l,f,Ye,v,d,null)}return;default:if(S0(f)){for(ct in d)d.hasOwnProperty(ct)&&(v=d[ct],v!==void 0&&RS(l,f,ct,v,d,void 0));return}}for(ue in d)d.hasOwnProperty(ue)&&(v=d[ue],v!=null&&zr(l,f,ue,v,d,null))}function CO(l,f,d,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,V=null,ue=null,Le=null,Ye=null,ct=null;for(tt in d){var mt=d[tt];if(d.hasOwnProperty(tt)&&mt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Le=mt;default:v.hasOwnProperty(tt)||zr(l,f,tt,null,v,mt)}}for(var Ze in v){var tt=v[Ze];if(mt=d[Ze],v.hasOwnProperty(Ze)&&(tt!=null||mt!=null))switch(Ze){case"type":N=tt;break;case"name":C=tt;break;case"checked":Ye=tt;break;case"defaultChecked":ct=tt;break;case"value":V=tt;break;case"defaultValue":ue=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,f));break;default:tt!==mt&&zr(l,f,Ze,tt,v,mt)}}Oh(l,V,ue,Le,Ye,ct,N,C);return;case"select":tt=V=ue=Ze=null;for(N in d)if(Le=d[N],d.hasOwnProperty(N)&&Le!=null)switch(N){case"value":break;case"multiple":tt=Le;default:v.hasOwnProperty(N)||zr(l,f,N,null,v,Le)}for(C in v)if(N=v[C],Le=d[C],v.hasOwnProperty(C)&&(N!=null||Le!=null))switch(C){case"value":Ze=N;break;case"defaultValue":ue=N;break;case"multiple":V=N;default:N!==Le&&zr(l,f,C,N,v,Le)}f=ue,d=V,v=tt,Ze!=null?Js(l,!!d,Ze,!1):!!v!=!!d&&(f!=null?Js(l,!!d,f,!0):Js(l,!!d,d?[]:"",!1));return;case"textarea":tt=Ze=null;for(ue in d)if(C=d[ue],d.hasOwnProperty(ue)&&C!=null&&!v.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:zr(l,f,ue,null,v,C)}for(V in v)if(C=v[V],N=d[V],v.hasOwnProperty(V)&&(C!=null||N!=null))switch(V){case"value":Ze=C;break;case"defaultValue":tt=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==N&&zr(l,f,V,C,v,N)}w0(l,Ze,tt);return;case"option":for(var en in d)if(Ze=d[en],d.hasOwnProperty(en)&&Ze!=null&&!v.hasOwnProperty(en))switch(en){case"selected":l.selected=!1;break;default:zr(l,f,en,null,v,Ze)}for(Le in v)if(Ze=v[Le],tt=d[Le],v.hasOwnProperty(Le)&&Ze!==tt&&(Ze!=null||tt!=null))switch(Le){case"selected":l.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:zr(l,f,Le,Ze,v,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in d)Ze=d[yn],d.hasOwnProperty(yn)&&Ze!=null&&!v.hasOwnProperty(yn)&&zr(l,f,yn,null,v,Ze);for(Ye in v)if(Ze=v[Ye],tt=d[Ye],v.hasOwnProperty(Ye)&&Ze!==tt&&(Ze!=null||tt!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,f));break;default:zr(l,f,Ye,Ze,v,tt)}return;default:if(S0(f)){for(var jr in d)Ze=d[jr],d.hasOwnProperty(jr)&&Ze!==void 0&&!v.hasOwnProperty(jr)&&RS(l,f,jr,void 0,v,Ze);for(ct in v)Ze=v[ct],tt=d[ct],!v.hasOwnProperty(ct)||Ze===tt||Ze===void 0&&tt===void 0||RS(l,f,ct,Ze,v,tt);return}}for(var Ue in d)Ze=d[Ue],d.hasOwnProperty(Ue)&&Ze!=null&&!v.hasOwnProperty(Ue)&&zr(l,f,Ue,null,v,Ze);for(mt in v)Ze=v[mt],tt=d[mt],!v.hasOwnProperty(mt)||Ze===tt||Ze==null&&tt==null||zr(l,f,mt,Ze,v,tt)}function gk(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kO(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var C=d[v],N=C.transferSize,V=C.initiatorType,ue=C.duration;if(N&&ue&&gk(V)){for(V=0,ue=C.responseEnd,v+=1;v<d.length;v++){var Le=d[v],Ye=Le.startTime;if(Ye>ue)break;var ct=Le.transferSize,mt=Le.initiatorType;ct&&gk(mt)&&(Le=Le.responseEnd,V+=ct*(Le<ue?1:(ue-Ye)/(Le-Ye)))}if(--v,f+=8*(N+V)/(C.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var LS=null,IS=null;function Db(l){return l.nodeType===9?l:l.ownerDocument}function mk(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vk(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function MS(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var DS=null;function NO(){var l=window.event;return l&&l.type==="popstate"?l===DS?!1:(DS=l,!0):(DS=null,!1)}var xk=typeof setTimeout=="function"?setTimeout:void 0,RO=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,LO=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(l){return yk.resolve(null).then(l).catch(IO)}:xk;function IO(l){setTimeout(function(){throw l})}function fd(l){return l==="head"}function bk(l,f){var d=f,v=0;do{var C=d.nextSibling;if(l.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(v===0){l.removeChild(C),wm(f);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Zv(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,Zv(d);for(var N=d.firstChild;N;){var V=N.nextSibling,ue=N.nodeName;N[$e]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Zv(l.ownerDocument.body);d=C}while(d);wm(f)}function wk(l,f){var d=l;l=0;do{var v=d.nextSibling;if(d.nodeType===1?f?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(f?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=v}while(d)}function FS(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var d=f;switch(f=f.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":FS(d),_t(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function MO(l,f,d,v){for(;l.nodeType===1;){var C=d;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[$e])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Hl(l.nextSibling),l===null)break}return null}function DO(l,f,d){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=Hl(l.nextSibling),l===null))return null;return l}function _k(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Hl(l.nextSibling),l===null))return null;return l}function PS(l){return l.data==="$?"||l.data==="$~"}function OS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function FO(l,f){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||d.readyState!=="loading")f();else{var v=function(){f(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Hl(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var BS=null;function Sk(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(f===0)return Hl(l.nextSibling);f--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||f++}l=l.nextSibling}return null}function Ak(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(f===0)return l;f--}else d!=="/$"&&d!=="/&"||f++}l=l.previousSibling}return null}function Ek(l,f,d){switch(f=Db(d),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Zv(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);_t(l)}var zl=new Map,Tk=new Set;function Fb(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Bf=ce.d;ce.d={f:PO,r:OO,D:BO,C:UO,L:HO,m:zO,X:GO,S:jO,M:qO};function PO(){var l=Bf.f(),f=Tb();return l||f}function OO(l){var f=Ft(l);f!==null&&f.tag===5&&f.type==="form"?GC(f):Bf.r(l)}var xm=typeof document>"u"?null:document;function Ck(l,f,d){var v=xm;if(v&&typeof f=="string"&&f){var C=ki(f);C='link[rel="'+l+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),Tk.has(C)||(Tk.add(C),l={rel:l,crossOrigin:d,href:f},v.querySelector(C)===null&&(f=v.createElement("link"),ra(f,"link",l),Kt(f),v.head.appendChild(f)))}}function BO(l){Bf.D(l),Ck("dns-prefetch",l,null)}function UO(l,f){Bf.C(l,f),Ck("preconnect",l,f)}function HO(l,f,d){Bf.L(l,f,d);var v=xm;if(v&&l&&f){var C='link[rel="preload"][as="'+ki(f)+'"]';f==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+ki(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+ki(d.imageSizes)+'"]')):C+='[href="'+ki(l)+'"]';var N=C;switch(f){case"style":N=ym(l);break;case"script":N=bm(l)}zl.has(N)||(l=p({rel:"preload",href:f==="image"&&d&&d.imageSrcSet?void 0:l,as:f},d),zl.set(N,l),v.querySelector(C)!==null||f==="style"&&v.querySelector(Qv(N))||f==="script"&&v.querySelector(ex(N))||(f=v.createElement("link"),ra(f,"link",l),Kt(f),v.head.appendChild(f)))}}function zO(l,f){Bf.m(l,f);var d=xm;if(d&&l){var v=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+ki(v)+'"][href="'+ki(l)+'"]',N=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=bm(l)}if(!zl.has(N)&&(l=p({rel:"modulepreload",href:l},f),zl.set(N,l),d.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ex(N)))return}v=d.createElement("link"),ra(v,"link",l),Kt(v),d.head.appendChild(v)}}}function jO(l,f,d){Bf.S(l,f,d);var v=xm;if(v&&l){var C=Lt(v).hoistableStyles,N=ym(l);f=f||"default";var V=C.get(N);if(!V){var ue={loading:0,preload:null};if(V=v.querySelector(Qv(N)))ue.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},d),(d=zl.get(N))&&US(l,d);var Le=V=v.createElement("link");Kt(Le),ra(Le,"link",l),Le._p=new Promise(function(Ye,ct){Le.onload=Ye,Le.onerror=ct}),Le.addEventListener("load",function(){ue.loading|=1}),Le.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Pb(V,f,v)}V={type:"stylesheet",instance:V,count:1,state:ue},C.set(N,V)}}}function GO(l,f){Bf.X(l,f);var d=xm;if(d&&l){var v=Lt(d).hoistableScripts,C=bm(l),N=v.get(C);N||(N=d.querySelector(ex(C)),N||(l=p({src:l,async:!0},f),(f=zl.get(C))&&HS(l,f),N=d.createElement("script"),Kt(N),ra(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(C,N))}}function qO(l,f){Bf.M(l,f);var d=xm;if(d&&l){var v=Lt(d).hoistableScripts,C=bm(l),N=v.get(C);N||(N=d.querySelector(ex(C)),N||(l=p({src:l,async:!0,type:"module"},f),(f=zl.get(C))&&HS(l,f),N=d.createElement("script"),Kt(N),ra(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(C,N))}}function kk(l,f,d,v){var C=(C=oe.current)?Fb(C):null;if(!C)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(f=ym(d.href),d=Lt(C).hoistableStyles,v=d.get(f),v||(v={type:"style",instance:null,count:0,state:null},d.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=ym(d.href);var N=Lt(C).hoistableStyles,V=N.get(l);if(V||(C=C.ownerDocument||C,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,V),(N=C.querySelector(Qv(l)))&&!N._p&&(V.instance=N,V.state.loading=5),zl.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},zl.set(l,d),N||VO(C,l,d,V.state))),f&&v===null)throw Error(r(528,""));return V}if(f&&v!==null)throw Error(r(529,""));return null;case"script":return f=d.async,d=d.src,typeof d=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=bm(d),d=Lt(C).hoistableScripts,v=d.get(f),v||(v={type:"script",instance:null,count:0,state:null},d.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function ym(l){return'href="'+ki(l)+'"'}function Qv(l){return'link[rel="stylesheet"]['+l+"]"}function Nk(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function VO(l,f,d,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),ra(f,"link",d),Kt(f),l.head.appendChild(f))}function bm(l){return'[src="'+ki(l)+'"]'}function ex(l){return"script[async]"+l}function Rk(l,f,d){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+ki(d.href)+'"]');if(v)return f.instance=v,Kt(v),v;var C=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Kt(v),ra(v,"style",C),Pb(v,d.precedence,l),f.instance=v;case"stylesheet":C=ym(d.href);var N=l.querySelector(Qv(C));if(N)return f.state.loading|=4,f.instance=N,Kt(N),N;v=Nk(d),(C=zl.get(C))&&US(v,C),N=(l.ownerDocument||l).createElement("link"),Kt(N);var V=N;return V._p=new Promise(function(ue,Le){V.onload=ue,V.onerror=Le}),ra(N,"link",v),f.state.loading|=4,Pb(N,d.precedence,l),f.instance=N;case"script":return N=bm(d.src),(C=l.querySelector(ex(N)))?(f.instance=C,Kt(C),C):(v=d,(C=zl.get(N))&&(v=p({},d),HS(v,C)),l=l.ownerDocument||l,C=l.createElement("script"),Kt(C),ra(C,"link",v),l.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,Pb(v,d.precedence,l));return f.instance}function Pb(l,f,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,N=C,V=0;V<v.length;V++){var ue=v[V];if(ue.dataset.precedence===f)N=ue;else if(N!==C)break}N?N.parentNode.insertBefore(l,N.nextSibling):(f=d.nodeType===9?d.head:d,f.insertBefore(l,f.firstChild))}function US(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function HS(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Ob=null;function Lk(l,f,d){if(Ob===null){var v=new Map,C=Ob=new Map;C.set(d,v)}else C=Ob,v=C.get(d),v||(v=new Map,C.set(d,v));if(v.has(l))return v;for(v.set(l,null),d=d.getElementsByTagName(l),C=0;C<d.length;C++){var N=d[C];if(!(N[$e]||N[xe]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(f)||"";V=l+V;var ue=v.get(V);ue?ue.push(N):v.set(V,[N])}}return v}function Ik(l,f,d){l=l.ownerDocument||l,l.head.insertBefore(d,f==="title"?l.querySelector("head > title"):null)}function WO(l,f,d){if(d===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Mk(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function $O(l,f,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=ym(v.href),N=f.querySelector(Qv(C));if(N){f=N._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=Bb.bind(l),f.then(l,l)),d.state.loading|=4,d.instance=N,Kt(N);return}N=f.ownerDocument||f,v=Nk(v),(C=zl.get(C))&&US(v,C),N=N.createElement("link"),Kt(N);var V=N;V._p=new Promise(function(ue,Le){V.onload=ue,V.onerror=Le}),ra(N,"link",v),d.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,f),(f=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=Bb.bind(l),f.addEventListener("load",d),f.addEventListener("error",d))}}var zS=0;function XO(l,f){return l.stylesheets&&l.count===0&&Hb(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var v=setTimeout(function(){if(l.stylesheets&&Hb(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+f);0<l.imgBytes&&zS===0&&(zS=62500*kO());var C=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Hb(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>zS?50:800)+f);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(C)}}:null}function Bb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hb(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ub=null;function Hb(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ub=new Map,f.forEach(YO,l),Ub=null,Bb.call(l))}function YO(l,f){if(!(f.state.loading&4)){var d=Ub.get(l);if(d)var v=d.get(null);else{d=new Map,Ub.set(l,d);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var V=C[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),v=V)}v&&d.set(null,v)}C=f.instance,V=C.getAttribute("data-precedence"),N=d.get(V)||v,N===v&&d.set(null,C),d.set(V,C),this.count++,v=Bb.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),N?N.parentNode.insertBefore(C,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),f.state.loading|=4}}var tx={$$typeof:R,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function KO(l,f,d,v,C,N,V,ue,Le){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function Dk(l,f,d,v,C,N,V,ue,Le,Ye,ct,mt){return l=new KO(l,f,d,V,Le,Ye,ct,mt,ue),f=1,N===!0&&(f|=24),N=Ms(3,null,null,f),l.current=N,N.stateNode=l,f=Qh(),f.refCount++,l.pooledCache=f,f.refCount++,N.memoizedState={element:v,isDehydrated:d,cache:f},Mt(N),l}function Fk(l){return l?(l=vs,l):vs}function Pk(l,f,d,v,C,N){C=Fk(C),v.context===null?v.context=C:v.pendingContext=C,v=xn(f),v.payload={element:d},N=N===void 0?null:N,N!==null&&(v.callback=N),d=Fn(l,v,f),d!==null&&(Ro(d,l,f),_r(d,l,f))}function Ok(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<f?d:f}}function jS(l,f){Ok(l,f),(l=l.alternate)&&Ok(l,f)}function Bk(l){if(l.tag===13||l.tag===31){var f=Nc(l,67108864);f!==null&&Ro(f,l,67108864),jS(l,67108864)}}function Uk(l){if(l.tag===13||l.tag===31){var f=nl();f=Pr(f);var d=Nc(l,f);d!==null&&Ro(d,l,f),jS(l,f)}}var zb=!0;function JO(l,f,d,v){var C=K.T;K.T=null;var N=ce.p;try{ce.p=2,GS(l,f,d,v)}finally{ce.p=N,K.T=C}}function ZO(l,f,d,v){var C=K.T;K.T=null;var N=ce.p;try{ce.p=8,GS(l,f,d,v)}finally{ce.p=N,K.T=C}}function GS(l,f,d,v){if(zb){var C=qS(v);if(C===null)NS(l,f,v,jb,d),zk(l,v);else if(e9(C,l,f,d,v))v.stopPropagation();else if(zk(l,v),f&4&&-1<QO.indexOf(l)){for(;C!==null;){var N=Ft(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Xt(N.pendingLanes);if(V!==0){var ue=N;for(ue.pendingLanes|=2,ue.entangledLanes|=2;V;){var Le=1<<31-En(V);ue.entanglements[1]|=Le,V&=~Le}Mu(N),(Ar&6)===0&&(Ab=Je()+500,Yv(0))}}break;case 31:case 13:ue=Nc(N,2),ue!==null&&Ro(ue,N,2),Tb(),jS(N,2)}if(N=qS(v),N===null&&NS(l,f,v,jb,d),N===C)break;C=N}C!==null&&v.stopPropagation()}else NS(l,f,v,null,d)}}function qS(l){return l=pf(l),VS(l)}var jb=null;function VS(l){if(jb=null,l=Tt(l),l!==null){var f=s(l);if(f===null)l=null;else{var d=f.tag;if(d===13){if(l=a(f),l!==null)return l;l=null}else if(d===31){if(l=o(f),l!==null)return l;l=null}else if(d===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return jb=l,null}function Hk(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case pt:return 2;case Ut:return 8;case wt:case lt:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var WS=!1,hd=null,dd=null,pd=null,nx=new Map,rx=new Map,gd=[],QO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zk(l,f){switch(l){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":nx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":rx.delete(f.pointerId)}}function ix(l,f,d,v,C,N){return l===null||l.nativeEvent!==N?(l={blockedOn:f,domEventName:d,eventSystemFlags:v,nativeEvent:N,targetContainers:[C]},f!==null&&(f=Ft(f),f!==null&&Bk(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),l)}function e9(l,f,d,v,C){switch(f){case"focusin":return hd=ix(hd,l,f,d,v,C),!0;case"dragenter":return dd=ix(dd,l,f,d,v,C),!0;case"mouseover":return pd=ix(pd,l,f,d,v,C),!0;case"pointerover":var N=C.pointerId;return nx.set(N,ix(nx.get(N)||null,l,f,d,v,C)),!0;case"gotpointercapture":return N=C.pointerId,rx.set(N,ix(rx.get(N)||null,l,f,d,v,C)),!0}return!1}function jk(l){var f=Tt(l.target);if(f!==null){var d=s(f);if(d!==null){if(f=d.tag,f===13){if(f=a(d),f!==null){l.blockedOn=f,Ce(l.priority,function(){Uk(d)});return}}else if(f===31){if(f=o(d),f!==null){l.blockedOn=f,Ce(l.priority,function(){Uk(d)});return}}else if(f===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Gb(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var d=qS(l.nativeEvent);if(d===null){d=l.nativeEvent;var v=new d.constructor(d.type,d);hc=v,d.target.dispatchEvent(v),hc=null}else return f=Ft(d),f!==null&&Bk(f),l.blockedOn=d,!1;f.shift()}return!0}function Gk(l,f,d){Gb(l)&&d.delete(f)}function t9(){WS=!1,hd!==null&&Gb(hd)&&(hd=null),dd!==null&&Gb(dd)&&(dd=null),pd!==null&&Gb(pd)&&(pd=null),nx.forEach(Gk),rx.forEach(Gk)}function qb(l,f){l.blockedOn===f&&(l.blockedOn=null,WS||(WS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,t9)))}var Vb=null;function qk(l){Vb!==l&&(Vb=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vb===l&&(Vb=null);for(var f=0;f<l.length;f+=3){var d=l[f],v=l[f+1],C=l[f+2];if(typeof v!="function"){if(VS(v||d)===null)continue;break}var N=Ft(d);N!==null&&(l.splice(f,3),f-=3,q5(N,{pending:!0,data:C,method:d.method,action:v},v,C))}}))}function wm(l){function f(Le){return qb(Le,l)}hd!==null&&qb(hd,l),dd!==null&&qb(dd,l),pd!==null&&qb(pd,l),nx.forEach(f),rx.forEach(f);for(var d=0;d<gd.length;d++){var v=gd[d];v.blockedOn===l&&(v.blockedOn=null)}for(;0<gd.length&&(d=gd[0],d.blockedOn===null);)jk(d),d.blockedOn===null&&gd.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var C=d[v],N=d[v+1],V=C[we]||null;if(typeof N=="function")V||qk(d);else if(V){var ue=null;if(N&&N.hasAttribute("formAction")){if(C=N,V=N[we]||null)ue=V.formAction;else if(VS(C)!==null)continue}else ue=V.action;typeof ue=="function"?d[v+1]=ue:(d.splice(v,3),v-=3),qk(d)}}}function Vk(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return C=V})},focusReset:"manual",scroll:"manual"})}function f(){C!==null&&(C(),C=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,C=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),C!==null&&(C(),C=null)}}}function $S(l){this._internalRoot=l}Wb.prototype.render=$S.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var d=f.current,v=nl();Pk(d,v,l,f,null,null)},Wb.prototype.unmount=$S.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;Pk(l.current,2,null,l,null,null),Tb(),f[Ne]=null}};function Wb(l){this._internalRoot=l}Wb.prototype.unstable_scheduleHydration=function(l){if(l){var f=te();l={blockedOn:null,target:l,priority:f};for(var d=0;d<gd.length&&f!==0&&f<gd[d].priority;d++);gd.splice(d,0,l),d===0&&jk(l)}};var Wk=e.version;if(Wk!=="19.2.4")throw Error(r(527,Wk,"19.2.4"));ce.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var n9={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$b.isDisabled&&$b.supportsFiber)try{kt=$b.inject(n9),Nt=$b}catch{}}return ax.createRoot=function(l,f){if(!i(l))throw Error(r(299));var d=!1,v="",C=QC,N=e3,V=t3;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=Dk(l,1,!1,null,null,d,v,null,C,N,V,Vk),l[Ne]=f.current,kS(l),new $S(f)},ax.hydrateRoot=function(l,f,d){if(!i(l))throw Error(r(299));var v=!1,C="",N=QC,V=e3,ue=t3,Le=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(ue=d.onRecoverableError),d.formState!==void 0&&(Le=d.formState)),f=Dk(l,1,!0,f,d??null,v,C,Le,N,V,ue,Vk),f.context=Fk(null),d=f.current,v=nl(),v=Pr(v),C=xn(v),C.callback=null,Fn(d,C,v),d=v,f.current.lanes=d,cn(f,d),Mu(f),l[Ne]=f.current,kS(l),new Wb(f)},ax.version="19.2.4",ax}var rN;function g9(){if(rN)return JS.exports;rN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),JS.exports=p9(),JS.exports}var m9=g9();const v9=OL(m9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),iN=n=>{const e=y9(n);return e.charAt(0).toUpperCase()+e.slice(1)},BL=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),b9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=nt.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>nt.createElement("svg",{ref:c,...w9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BL("lucide",i),...!s&&!b9(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,h])=>nt.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=(n,e)=>{const t=nt.forwardRef(({className:r,...i},s)=>nt.createElement(_9,{ref:s,iconNode:e,className:BL(`lucide-${x9(iN(n))}`,`lucide-${n}`,r),...i}));return t.displayName=iN(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],tA=zt("bed-double",S9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],o4=zt("bold",A9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],T9=zt("calendar",E9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k9=zt("chart-column",C9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],R9=zt("chart-pie",N9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],l_=zt("check",L9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M9=zt("chevron-down",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F9=zt("chevron-right",D9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QA=zt("circle-alert",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UL=zt("circle-check-big",O9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HL=zt("circle-check",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H9=zt("circle-x",U9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sw=zt("clipboard-list",z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eE=zt("clock",j9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],q9=zt("cloud-upload",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],l4=zt("copy",V9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zL=zt("database",W9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],c4=zt("download",$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jL=zt("external-link",X9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tE=zt("eye-off",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Px=zt("eye",K9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],nE=zt("file-down",J9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],sN=zt("file-spreadsheet",Z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qc=zt("file-text",Q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],GL=zt("file-up",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],nB=zt("folder-plus",tB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],iB=zt("funnel",rB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],aB=zt("globe",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lB=zt("history",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],uB=zt("image",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qL=zt("info",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],u4=zt("italic",hB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],pB=zt("key",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ox=zt("layers",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rE=zt("link",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],f4=zt("list",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r0=zt("loader-circle",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iE=zt("lock",yB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],wB=zt("log-in",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SB=zt("log-out",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wh=zt("mail",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],TB=zt("maximize",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],aN=zt("monitor",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],NB=zt("moon",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],LB=zt("move",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],u5=zt("panels-top-left",IB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Wm=zt("paperclip",MB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fv=zt("pen-line",DB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],c_=zt("pen",FB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],i0=zt("plus",PB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],BB=zt("printer",OB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lf=zt("save",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hv=zt("search",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u_=zt("send",zB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],f_=zt("server",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sE=zt("settings",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],VB=zt("shield-alert",qB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bx=zt("shield-check",WB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],XB=zt("sun",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],KB=zt("table",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ZB=zt("terminal",JB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iu=zt("trash-2",QB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tU=zt("triangle-alert",eU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],h4=zt("type",nU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iU=zt("upload",rU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aU=zt("user-check",sU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lU=zt("user-plus",oU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],uU=zt("user-x",cU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zx=zt("user",fU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t0=zt("users",hU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],pU=zt("wand-sparkles",dU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mU=zt("wifi-off",gU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],so=zt("x",vU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nA=zt("zap",xU),yU={es:{title:"Configuracin SMTP",subtitle:"Gestiona mltiples perfiles de servidor de correo saliente.",newBtn:"Nuevo Perfil",activeProfile:"Perfil Activo",selectProfile:"Seleccionar",noProfiles:"No hay perfiles SMTP guardados.",cancelBtn:"Cancelar",editTitle:"Editando: ",newTitle:"Nuevo Perfil SMTP",profileName:"Nombre del Perfil",profilePlaceholder:"Gmail Personal, Outlook Empresa, etc.",hostname:"Nombre del Host",portSecurity:"Puerto y Seguridad",username:"Nombre de Usuario",password:"Contrasea / App Key",saved:"Guardado con xito!",updateBtn:"Actualizar Perfil",saveBtn:"Guardar Perfil",testBtn:"Probar Conexin",testing:"Probando...",testSuccess:"Funciona correctamente!",testError:"No funciona. Revisa los datos.",fillRequired:"Por favor, completa los campos requeridos.",presetsTitle:"Ajustes Rpidos",gmailNotice:'Nota: Para Gmail debes usar una "Contrasea de Aplicacin" si tienes 2FA activado.'},en:{title:"SMTP Settings",subtitle:"Manage multiple outgoing mail server profiles.",newBtn:"New Profile",activeProfile:"Active Profile",selectProfile:"Select",noProfiles:"No SMTP profiles saved yet.",cancelBtn:"Cancel",editTitle:"Editing: ",newTitle:"New SMTP Profile",profileName:"Profile Name",profilePlaceholder:"Personal Gmail, Company Outlook, etc.",hostname:"Hostname",portSecurity:"Port & Security",username:"Username",password:"Password / App Key",saved:"Saved Successfully!",updateBtn:"Update Profile",saveBtn:"Save Profile",testBtn:"Test Connection",testing:"Testing...",testSuccess:"Connection successful!",testError:"Connection failed. Check your data.",fillRequired:"Please fill in all required fields.",presetsTitle:"Quick Presets",gmailNotice:'Note: For Gmail you must use an "App Password" if 2FA is enabled.'}},bU=({configs:n,activeId:e,onAction:t,lang:r})=>{const i=nt.useMemo(()=>yU[r],[r]),[s,a]=nt.useState(null),[o,c]=nt.useState(n.length===0),[u,h]=nt.useState(!1),[p,g]=nt.useState(!1),[m,b]=nt.useState(null),w={id:"",name:"",host:"",port:587,secure:!0,username:"",password:""},[_,T]=nt.useState(w),L=P=>{a(P),T(P),c(!1),b(null)},R=()=>{c(!0),a(null),T({...w,id:Date.now().toString()}),b(null)},D=P=>{P==="gmail"?T(W=>({...W,name:W.name||"Gmail",host:"smtp.gmail.com",port:587,secure:!0})):P==="outlook"&&T(W=>({...W,name:W.name||"Outlook",host:"smtp.office365.com",port:587,secure:!0}))},j=async()=>{if(!_.host||!_.username){alert(i.fillRequired);return}g(!0),b(null),await new Promise(W=>setTimeout(W,2e3));const P=_.host.length>5&&!_.host.includes("error");b(P?"success":"error"),g(!1)},G=P=>{P.preventDefault(),s?t.update(_):t.add(_),h(!0),setTimeout(()=>{h(!1),c(!1),a(null)},1500)};return S.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:i.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:i.subtitle})]}),!o&&!s&&S.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[S.jsx(i0,{size:18})," ",i.newBtn]})]}),!o&&!s&&S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(P=>S.jsxs("div",{className:`group p-6 rounded-2xl border-2 transition-all relative ${e===P.id?"bg-white dark:bg-slate-900 border-indigo-500 dark:border-indigo-600 shadow-lg shadow-indigo-100 dark:shadow-none":"bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800 hover:border-slate-200 dark:hover:border-slate-700"}`,children:[e===P.id&&S.jsx("div",{className:"absolute top-4 right-4 text-indigo-500 dark:text-indigo-400",children:S.jsx(HL,{size:20,fill:"currentColor",className:"text-white dark:text-slate-900"})}),S.jsxs("div",{className:"flex flex-col gap-1 pr-8 text-left",children:[S.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:P.name}),S.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[S.jsx(f_,{size:12})," ",P.host,":",P.port]}),S.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[S.jsx(Zx,{size:12})," ",P.username]})]}),S.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[S.jsx("button",{onClick:()=>t.setActive(P.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${e===P.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:e===P.id?i.activeProfile:i.selectProfile}),S.jsx("button",{onClick:()=>L(P),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:S.jsx(fv,{size:16})}),S.jsx("button",{onClick:()=>t.delete(P.id),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:S.jsx(iu,{size:16})})]})]},P.id)),n.length===0&&S.jsx("div",{className:"col-span-full py-12 text-center bg-slate-50 dark:bg-slate-900/30 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:S.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-medium",children:i.noProfiles})})]}),(o||s)&&S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm animate-in fade-in zoom-in-95 duration-200 transition-colors",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8 text-left",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:s?`${i.editTitle}${s.name}`:i.newTitle}),S.jsx("button",{onClick:()=>{c(!1),a(null)},className:"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 text-sm font-medium",children:i.cancelBtn})]}),S.jsxs("div",{className:"mb-8 p-4 bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-2xl",children:[S.jsxs("p",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[S.jsx(nA,{size:14})," ",i.presetsTitle]}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsxs("button",{type:"button",onClick:()=>D("gmail"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[S.jsx("img",{src:"https://www.google.com/favicon.ico",className:"w-3 h-3",alt:"Gmail"})," Gmail"]}),S.jsxs("button",{type:"button",onClick:()=>D("outlook"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[S.jsx("img",{src:"https://outlook.live.com/favicon.ico",className:"w-3 h-3",alt:"Outlook"})," Outlook / Hotmail"]})]})]}),S.jsxs("form",{onSubmit:G,className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[S.jsxs("div",{className:"col-span-full space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:i.profileName}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:_.name,onChange:P=>T({..._,name:P.target.value}),placeholder:i.profilePlaceholder,required:!0})]}),S.jsxs("div",{className:"col-span-1 space-y-2",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(f_,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.hostname]}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:_.host,onChange:P=>T({..._,host:P.target.value}),placeholder:"smtp.gmail.com",required:!0})]}),S.jsxs("div",{className:"col-span-1 space-y-2",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(Bx,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.portSecurity]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("input",{type:"number",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:_.port,onChange:P=>T({..._,port:parseInt(P.target.value)}),placeholder:"587",required:!0}),S.jsx("button",{type:"button",onClick:()=>T({..._,secure:!_.secure}),className:`px-4 rounded-xl border transition-all text-xs font-bold ${_.secure?"bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:_.secure?"SSL/TLS":"Plain"})]})]}),S.jsxs("div",{className:"col-span-1 space-y-2",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(Zx,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.username]}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:_.username,onChange:P=>T({..._,username:P.target.value}),placeholder:"user@example.com",required:!0})]}),S.jsxs("div",{className:"col-span-1 space-y-2",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(pB,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.password]}),S.jsx("input",{type:"password",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:_.password||"",onChange:P=>T({..._,password:P.target.value}),placeholder:""})]}),_.host.includes("gmail.com")&&S.jsxs("div",{className:"col-span-full flex items-start gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl text-amber-700 dark:text-amber-400",children:[S.jsx(qL,{size:16,className:"shrink-0 mt-0.5"}),S.jsx("p",{className:"text-[11px] leading-relaxed",children:i.gmailNotice})]}),S.jsxs("div",{className:"col-span-full pt-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsx("div",{className:"flex items-center gap-4",children:S.jsxs("button",{type:"button",onClick:j,disabled:p,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all border-2 ${m==="success"?"border-emerald-500 text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":m==="error"?"border-red-500 text-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"} disabled:opacity-50`,children:[p?S.jsx(r0,{size:18,className:"animate-spin"}):m==="success"?S.jsx(nA,{size:18,className:"fill-current"}):m==="error"?S.jsx(tU,{size:18}):S.jsx(nA,{size:18}),p?i.testing:m==="success"?i.testSuccess:m==="error"?i.testError:i.testBtn]})}),S.jsxs("button",{type:"submit",className:`flex items-center gap-2 px-8 py-3 rounded-xl font-semibold transition-all ${u?"bg-emerald-500 text-white":"bg-slate-900 dark:bg-indigo-600 text-white hover:bg-slate-800 dark:hover:bg-indigo-700 shadow-lg shadow-slate-200 dark:shadow-none"}`,children:[u?i.saved:s?i.updateBtn:i.saveBtn,S.jsx(lf,{size:18})]})]})]})]})]})},wU={es:{title:"Integraciones",subtitle:"Conecta tus datos de correo con plataformas externas como Google Sheets.",sheetsTitle:"Registro en Google Sheets",urlLabel:"URL de Web App (Google Apps Script)",urlHint:"Cada correo enviado con xito se aadir automticamente como una nueva fila en tu hoja.",saveBtn:"Guardar Integracin",saved:"Configuracin Guardada",guideTitle:"Gua de Configuracin Rpida",guideSteps:["Abre una Google Sheet.","Ve a Extensiones > Apps Script.","Pega el fragmento de cdigo a la derecha.","Haz clic en Implementar > Nueva implementacin.",'Selecciona Aplicacin Web y acceso a "Cualquiera".',"Copia la URL de la Web App y pgala aqu."],snippetTitle:"Fragmento de Apps Script",copyBtn:"Copiar Cdigo"},en:{title:"Integrations",subtitle:"Connect your email data with external platforms like Google Sheets.",sheetsTitle:"Google Sheets Logging",urlLabel:"Web App URL (Google Apps Script)",urlHint:"Every successfully sent email will be automatically appended as a new row in your sheet.",saveBtn:"Save Integration",saved:"Configuration Saved",guideTitle:"Quick Setup Guide",guideSteps:["Open a Google Sheet.","Go to Extensions > Apps Script.","Paste the code snippet provided on the right.","Click Deploy > New Deployment.",'Select Web App and set access to "Anyone".',"Copy the Web App URL and paste it here."],snippetTitle:"Apps Script Snippet",copyBtn:"Copy Code"}},_U=({sheetUrl:n,onSave:e,lang:t})=>{const r=nt.useMemo(()=>wU[t],[t]),[i,s]=nt.useState(n),[a,o]=nt.useState(!1),c=h=>{h.preventDefault(),e(i),o(!0),setTimeout(()=>o(!1),2e3)},u=`function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
  var data = JSON.parse(e.postData.contents);
  
  sheet.appendRow([
    data.timestamp,
    data.recipient,
    data.cc,
    data.subject,
    data.status,
    data.attachments,
    data.messageId
  ]);
  
  return ContentService.createTextOutput("Success").setMimeType(ContentService.MimeType.TEXT);
}`;return S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[S.jsxs("header",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg",children:S.jsx(zL,{size:24})}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:r.sheetsTitle})]}),S.jsxs("form",{onSubmit:c,className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(rE,{size:14,className:"text-indigo-500"})," ",r.urlLabel]}),S.jsx("input",{type:"url",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all text-sm",value:i,onChange:h=>s(h.target.value),placeholder:"https://script.google.com/macros/s/.../exec"}),S.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:r.urlHint})]}),S.jsx("button",{type:"submit",className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl font-semibold transition-all ${a?"bg-emerald-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-100 dark:shadow-none"}`,children:a?S.jsxs(S.Fragment,{children:[S.jsx(UL,{size:18})," ",r.saved]}):S.jsxs(S.Fragment,{children:[S.jsx(lf,{size:18})," ",r.saveBtn]})})]})]}),S.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-800/50",children:[S.jsxs("h4",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[S.jsx(jL,{size:16})," ",r.guideTitle]}),S.jsx("ol",{className:"text-xs text-indigo-700 dark:text-indigo-400 space-y-2 list-decimal list-inside",children:r.guideSteps.map((h,p)=>S.jsx("li",{children:h},p))})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between px-2",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(ZB,{size:14})," ",r.snippetTitle]}),S.jsxs("button",{onClick:()=>navigator.clipboard.writeText(u),className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1 font-medium",children:[S.jsx(l4,{size:12})," ",r.copyBtn]})]}),S.jsx("div",{className:"bg-slate-900 rounded-3xl p-6 overflow-hidden border border-slate-800 shadow-xl",children:S.jsx("pre",{className:"text-indigo-300 font-mono text-xs overflow-x-auto leading-relaxed",children:u})})]})]})]})};var Ux={};Ux.d=(n,e)=>{for(var t in e)Ux.o(e,t)&&!Ux.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ux.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var kn=globalThis.pdfjsLib={};Ux.d(kn,{AbortException:()=>s0,AnnotationEditorLayer:()=>pT,AnnotationEditorParamsType:()=>ar,AnnotationEditorType:()=>Hn,AnnotationEditorUIManager:()=>hg,AnnotationLayer:()=>vz,AnnotationMode:()=>wd,ColorPicker:()=>v_,DOMSVGFactory:()=>w4,DrawLayer:()=>vT,FeatureTest:()=>ao,GlobalWorkerOptions:()=>xh,ImageKind:()=>Aw,InvalidPDFException:()=>oE,MissingPDFException:()=>Qx,OPS:()=>Hc,OutputScale:()=>cE,PDFDataRangeTransport:()=>WI,PDFDateString:()=>v4,PDFWorker:()=>Xm,PasswordResponses:()=>TU,PermissionFlag:()=>EU,PixelsPerInch:()=>a0,RenderingCancelledException:()=>g4,TextLayer:()=>e2,TouchManager:()=>g_,UnexpectedResponseException:()=>h_,Util:()=>un,VerbosityLevel:()=>f5,XfaLayer:()=>XI,build:()=>JH,createValidAbsoluteUrl:()=>RU,fetchData:()=>g5,getDocument:()=>jH,getFilenameFromUrl:()=>UU,getPdfFilenameFromUrl:()=>HU,getXfaPageViewport:()=>zU,isDataScheme:()=>m5,isPdfFile:()=>m4,noContextMenu:()=>cu,normalizeUnicode:()=>PU,setLayerDimensions:()=>fg,shadow:()=>Yn,stopEvent:()=>bl,version:()=>KH});const Fa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),VL=[1,0,0,1,0,0],aE=[.001,0,0,.001,0,0],SU=1e7,rA=1.35,ml={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AU="pdfjs_internal_editor_",Hn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ar={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},EU={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Sa={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Aw={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},As={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},ox={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},f5={ERRORS:0,WARNINGS:1,INFOS:5},Hc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},TU={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h5=f5.WARNINGS;function CU(n){Number.isInteger(n)&&(h5=n)}function kU(){return h5}function d5(n){h5>=f5.INFOS&&console.log(`Info: ${n}`)}function zn(n){h5>=f5.WARNINGS&&console.log(`Warning: ${n}`)}function Kr(n){throw new Error(n)}function fs(n,e){n||Kr(e)}function NU(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function RU(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=FU(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(NU(r))return r}catch{}return null}function Yn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const d0=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class oN extends d0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iA extends d0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class oE extends d0{constructor(e){super(e,"InvalidPDFException")}}class Qx extends d0{constructor(e){super(e,"MissingPDFException")}}class h_ extends d0{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class LU extends d0{constructor(e){super(e,"FormatError")}}class s0 extends d0{constructor(e){super(e,"AbortException")}}function WL(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Kr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function p5(n){typeof n!="string"&&Kr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function IU(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function d4(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function MU(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function DU(){try{return new Function(""),!0}catch{return!1}}class ao{static get isLittleEndian(){return Yn(this,"isLittleEndian",MU())}static get isEvalSupported(){return Yn(this,"isEvalSupported",DU())}static get isOffscreenCanvasSupported(){return Yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Yn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const sA=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Eh,Ew,lE;class un{static makeHexColor(e,t,r){return`#${sA[e]}${sA[t]}${sA[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,c=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,u=o+c||1,h=o-c||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,o,c,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],ae(this,Eh,lE).call(this,e,r,s,o,t,i,a,c,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),ae(this,Eh,lE).call(this,e,r,s,o,t,i,a,c,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),u),u}}Eh=new WeakSet,Ew=function(e,t,r,i,s,a,o,c,u,h){if(u<=0||u>=1)return;const p=1-u,g=u*u,m=g*u,b=p*(p*(p*e+3*u*t)+3*g*r)+m*i,w=p*(p*(p*s+3*u*a)+3*g*o)+m*c;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],w)},lE=function(e,t,r,i,s,a,o,c,u,h,p,g){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&ae(this,Eh,Ew).call(this,e,t,r,i,s,a,o,c,-p/h,g);return}const m=h**2-4*p*u;if(m<0)return;const b=Math.sqrt(m),w=2*u;ae(this,Eh,Ew).call(this,e,t,r,i,s,a,o,c,(-h+b)/w,g),ae(this,Eh,Ew).call(this,e,t,r,i,s,a,o,c,(-h-b)/w,g)},ne(un,Eh);function FU(n){return decodeURIComponent(escape(n))}let aA=null,lN=null;function PU(n){return aA||(aA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lN=new Map([["","t"]])),n.replaceAll(aA,(e,t,r)=>t?t.normalize("NFKC"):lN.get(r))}function OU(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),WL(n)}const p4="pdfjs_internal_id_";function BU(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(WL(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const zf="http://www.w3.org/2000/svg",Q0=class Q0{};Pt(Q0,"CSS",96),Pt(Q0,"PDF",72),Pt(Q0,"PDF_TO_CSS_UNITS",Q0.CSS/Q0.PDF);let a0=Q0;async function g5(n,e="text"){if(mx(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class qy{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,p=0,g=0,m=1;break;case 90:h=0,p=1,g=1,m=0;break;case 270:h=0,p=-1,g=-1,m=0;break;case 0:h=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,m=-m);let b,w,_,T;h===0?(b=Math.abs(u-e[1])*r+s,w=Math.abs(c-e[0])*r+a,_=(e[3]-e[1])*r,T=(e[2]-e[0])*r):(b=Math.abs(c-e[0])*r+s,w=Math.abs(u-e[1])*r+a,_=(e[2]-e[0])*r,T=(e[3]-e[1])*r),this.transform=[h*r,p*r,g*r,m*r,b-h*r*c-g*r*u,w-p*r*c-m*r*u],this.width=_,this.height=T}get rawDims(){const{userUnit:e,viewBox:t}=this,r=t.map(i=>i*e);return Yn(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new qy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return un.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=un.applyTransform([e[0],e[1]],this.transform),r=un.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return un.applyInverseTransform([e,t],this.transform)}}class g4 extends d0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function m5(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function m4(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function UU(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function HU(n,e="document.pdf"){if(typeof n!="string")return e;if(m5(n))return zn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class cN{constructor(){Pt(this,"started",Object.create(null));Pt(this,"times",[])}time(e){e in this.started&&zn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||zn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function mx(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function cu(n){n.preventDefault()}function bl(n){n.preventDefault(),n.stopPropagation()}var y2;class v4{static toDateObject(e){if(!e||typeof e!="string")return null;x(this,y2)||X(this,y2,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=x(this,y2).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,u==="-"?(a+=h,o+=p):u==="+"&&(a-=h,o-=p),new Date(Date.UTC(r,i,s,a,o,c))}}y2=new WeakMap,ne(v4,y2);function zU(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new qy({viewBox:s,userUnit:1,scale:e,rotation:t})}function x4(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(zn(`Not a valid color format: "${n}"`),[0,0,0])}function jU(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,x4(r))}e.remove()}function mi(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Du(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function fg(n,e,t=!1,r=!0){if(e instanceof qy){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=ao.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,h=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class cE{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var _d,np,zc,rp,b2,w2,V_,$L,lo,XL,YL,Tw,KL,fE;const qf=class qf{constructor(e){ne(this,lo);ne(this,_d,null);ne(this,np,null);ne(this,zc);ne(this,rp,null);ne(this,b2,null);X(this,zc,e),x(qf,w2)||X(qf,w2,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=X(this,_d,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=x(this,zc)._uiManager._signal;e.addEventListener("contextmenu",cu,{signal:t}),e.addEventListener("pointerdown",ae(qf,V_,$L),{signal:t});const r=X(this,rp,document.createElement("div"));r.className="buttons",e.append(r);const i=x(this,zc).toolbarPosition;if(i){const{style:s}=e,a=x(this,zc)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ae(this,lo,KL).call(this),e}get div(){return x(this,_d)}hide(){var e;x(this,_d).classList.add("hidden"),(e=x(this,np))==null||e.hideDropdown()}show(){var e;x(this,_d).classList.remove("hidden"),(e=x(this,b2))==null||e.shown()}async addAltText(e){const t=await e.render();ae(this,lo,Tw).call(this,t),x(this,rp).prepend(t,x(this,lo,fE)),X(this,b2,e)}addColorPicker(e){X(this,np,e);const t=e.renderButton();ae(this,lo,Tw).call(this,t),x(this,rp).prepend(t,x(this,lo,fE))}remove(){var e;x(this,_d).remove(),(e=x(this,np))==null||e.destroy(),X(this,np,null)}};_d=new WeakMap,np=new WeakMap,zc=new WeakMap,rp=new WeakMap,b2=new WeakMap,w2=new WeakMap,V_=new WeakSet,$L=function(e){e.stopPropagation()},lo=new WeakSet,XL=function(e){x(this,zc)._focusEventsAllowed=!1,bl(e)},YL=function(e){x(this,zc)._focusEventsAllowed=!0,bl(e)},Tw=function(e){const t=x(this,zc)._uiManager._signal;e.addEventListener("focusin",ae(this,lo,XL).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ae(this,lo,YL).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",cu,{signal:t})},KL=function(){const{editorType:e,_uiManager:t}=x(this,zc),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",x(qf,w2)[e]),ae(this,lo,Tw).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),x(this,rp).append(r)},fE=function(){const e=document.createElement("div");return e.className="divider",e},ne(qf,V_),ne(qf,w2,null);let uE=qf;var _2,ip,sp,h0,JL,ZL,QL;class GU{constructor(e){ne(this,h0);ne(this,_2,null);ne(this,ip,null);ne(this,sp);X(this,sp,e)}show(e,t,r){const[i,s]=ae(this,h0,ZL).call(this,t,r),{style:a}=x(this,ip)||X(this,ip,ae(this,h0,JL).call(this));e.append(x(this,ip)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,ip).remove()}}_2=new WeakMap,ip=new WeakMap,sp=new WeakMap,h0=new WeakSet,JL=function(){const e=X(this,ip,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",cu,{signal:x(this,sp)._signal});const t=X(this,_2,document.createElement("div"));return t.className="buttons",e.append(t),ae(this,h0,QL).call(this),e},ZL=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},QL=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=x(this,sp)._signal;e.addEventListener("contextmenu",cu,{signal:r}),e.addEventListener("click",()=>{x(this,sp).highlightSelection("floating_button")},{signal:r}),x(this,_2).append(e)};function d_(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var W_;class qU{constructor(){ne(this,W_,0)}get id(){return`${AU}${Ya(this,W_)._++}`}}W_=new WeakMap;var a1,S2,Ca,o1,Cw;const TC=class TC{constructor(){ne(this,o1);ne(this,a1,OU());ne(this,S2,0);ne(this,Ca,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Yn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return ae(this,o1,Cw).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return ae(this,o1,Cw).call(this,e,e)}async getFromBlob(e,t){const r=await t;return ae(this,o1,Cw).call(this,e,r)}async getFromId(e){x(this,Ca)||X(this,Ca,new Map);const t=x(this,Ca).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){x(this,Ca)||X(this,Ca,new Map);let r=x(this,Ca).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${x(this,a1)}_${Ya(this,S2)._++}`,refCounter:1,isSvg:!1},x(this,Ca).set(e,r),x(this,Ca).set(r.id,r),r}getSvgUrl(e){const t=x(this,Ca).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;x(this,Ca)||X(this,Ca,new Map);const t=x(this,Ca).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${x(this,a1)}_`)}};a1=new WeakMap,S2=new WeakMap,Ca=new WeakMap,o1=new WeakSet,Cw=async function(e,t){x(this,Ca)||X(this,Ca,new Map);let r=x(this,Ca).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${x(this,a1)}_${Ya(this,S2)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await g5(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=TC._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((u,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const p=r.svgUrl=a.result;o.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=a.onerror=h});a.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){zn(i),r=null}return x(this,Ca).set(e,r),r&&x(this,Ca).set(r.id,r),r};let hE=TC;var $i,Sd,A2,Si;class VU{constructor(e=128){ne(this,$i,[]);ne(this,Sd,!1);ne(this,A2);ne(this,Si,-1);X(this,A2,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),x(this,Sd))return;const c={cmd:e,undo:t,post:r,type:s};if(x(this,Si)===-1){x(this,$i).length>0&&(x(this,$i).length=0),X(this,Si,0),x(this,$i).push(c);return}if(a&&x(this,$i)[x(this,Si)].type===s){o&&(c.undo=x(this,$i)[x(this,Si)].undo),x(this,$i)[x(this,Si)]=c;return}const u=x(this,Si)+1;u===x(this,A2)?x(this,$i).splice(0,1):(X(this,Si,u),u<x(this,$i).length&&x(this,$i).splice(u)),x(this,$i).push(c)}undo(){if(x(this,Si)===-1)return;X(this,Sd,!0);const{undo:e,post:t}=x(this,$i)[x(this,Si)];e(),t==null||t(),X(this,Sd,!1),X(this,Si,x(this,Si)-1)}redo(){if(x(this,Si)<x(this,$i).length-1){X(this,Si,x(this,Si)+1),X(this,Sd,!0);const{cmd:e,post:t}=x(this,$i)[x(this,Si)];e(),t==null||t(),X(this,Sd,!1)}}hasSomethingToUndo(){return x(this,Si)!==-1}hasSomethingToRedo(){return x(this,Si)<x(this,$i).length-1}cleanType(e){if(x(this,Si)!==-1){for(let t=x(this,Si);t>=0;t--)if(x(this,$i)[t].type!==e){x(this,$i).splice(t+1,x(this,Si)-t),X(this,Si,t);return}x(this,$i).length=0,X(this,Si,-1)}}destroy(){X(this,$i,null)}}$i=new WeakMap,Sd=new WeakMap,A2=new WeakMap,Si=new WeakMap;var $_,eI;class Vy{constructor(e){ne(this,$_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ao.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(ae(this,$_,eI).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||bl(t))}}$_=new WeakSet,eI=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const X_=class X_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jU(e),Yn(this,"_colors",e)}convert(e){const t=x4(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return X_._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?un.makeHexColor(...t):e}};Pt(X_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dE=X_;var l1,il,Ts,sa,c1,$f,u1,Xl,Ad,ap,f1,op,ju,jc,lp,E2,T2,h1,C2,Gu,Ed,d1,Td,qu,Y_,Cd,k2,kd,cp,N2,R2,Os,Rr,Xf,up,L2,I2,Nd,Vu,Yf,M2,Yl,Ot,kw,pE,tI,nI,Nw,rI,iI,sI,gE,aI,mE,vE,oI,Ja,jf,lI,cI,xE,uI,vx,yE;const qm=class qm{constructor(e,t,r,i,s,a,o,c,u,h,p,g,m){ne(this,Ot);ne(this,l1,new AbortController);ne(this,il,null);ne(this,Ts,new Map);ne(this,sa,new Map);ne(this,c1,null);ne(this,$f,null);ne(this,u1,null);ne(this,Xl,new VU);ne(this,Ad,null);ne(this,ap,null);ne(this,f1,0);ne(this,op,new Set);ne(this,ju,null);ne(this,jc,null);ne(this,lp,new Set);Pt(this,"_editorUndoBar",null);ne(this,E2,!1);ne(this,T2,!1);ne(this,h1,!1);ne(this,C2,null);ne(this,Gu,null);ne(this,Ed,null);ne(this,d1,null);ne(this,Td,!1);ne(this,qu,null);ne(this,Y_,new qU);ne(this,Cd,!1);ne(this,k2,!1);ne(this,kd,null);ne(this,cp,null);ne(this,N2,null);ne(this,R2,null);ne(this,Os,Hn.NONE);ne(this,Rr,new Set);ne(this,Xf,null);ne(this,up,null);ne(this,L2,null);ne(this,I2,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ne(this,Nd,[0,0]);ne(this,Vu,null);ne(this,Yf,null);ne(this,M2,null);ne(this,Yl,null);const b=this._signal=x(this,l1).signal;X(this,Yf,e),X(this,M2,t),X(this,c1,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:b}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),i._on("setpreference",this.onSetPreference.bind(this),{signal:b}),i._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:b}),ae(this,Ot,rI).call(this),ae(this,Ot,oI).call(this),ae(this,Ot,gE).call(this),X(this,$f,s.annotationStorage),X(this,C2,s.filterFactory),X(this,up,a),X(this,d1,o||null),X(this,E2,c),X(this,T2,u),X(this,h1,h),X(this,R2,p||null),this.viewParameters={realScale:a0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=qm.prototype,t=a=>x(a,Yf).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new Vy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,Yf).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,Yf).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s;(e=x(this,Yl))==null||e.resolve(),X(this,Yl,null),(t=x(this,l1))==null||t.abort(),X(this,l1,null),this._signal=null;for(const a of x(this,sa).values())a.destroy();x(this,sa).clear(),x(this,Ts).clear(),x(this,lp).clear(),X(this,il,null),x(this,Rr).clear(),x(this,Xl).destroy(),(r=x(this,c1))==null||r.destroy(),(i=x(this,qu))==null||i.hide(),X(this,qu,null),x(this,Gu)&&(clearTimeout(x(this,Gu)),X(this,Gu,null)),x(this,Vu)&&(clearTimeout(x(this,Vu)),X(this,Vu,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return x(this,R2)}get useNewAltTextFlow(){return x(this,T2)}get useNewAltTextWhenAddingImage(){return x(this,h1)}get hcmFilter(){return Yn(this,"hcmFilter",x(this,up)?x(this,C2).addHCMFilter(x(this,up).foreground,x(this,up).background):"none")}get direction(){return Yn(this,"direction",getComputedStyle(x(this,Yf)).direction)}get highlightColors(){return Yn(this,"highlightColors",x(this,d1)?new Map(x(this,d1).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),X(this,ap,e)}setMainHighlightColorPicker(e){X(this,N2,e)}editAltText(e,t=!1){var r;(r=x(this,c1))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":X(this,h1,t);break}}onPageChanging({pageNumber:e}){X(this,f1,e-1)}focusMainContainer(){x(this,Yf).focus()}findParent(e,t){for(const r of x(this,sa).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){x(this,M2).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,lp).add(e)}removeShouldRescale(e){x(this,lp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*a0.PDF_TO_CSS_UNITS;for(const r of x(this,lp))r.onScaleChanging();(t=x(this,ap))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),u=ae(this,Ot,kw).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;t.empty();const p=ae(this,Ot,pE).call(this,u),g=x(this,Os)===Hn.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(Hn.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&x(this,$f)&&!x(this,$f).has(e.id)&&x(this,$f).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,Td)&&(X(this,Td,!1),ae(this,Ot,Nw).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of x(this,Rr))if(t.div.contains(e)){X(this,cp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!x(this,cp))return;const[e,t]=x(this,cp);X(this,cp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ae(this,Ot,gE).call(this),ae(this,Ot,mE).call(this)}removeEditListeners(){ae(this,Ot,aI).call(this),ae(this,Ot,vE).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of x(this,jc))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of x(this,jc))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=x(this,il))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of x(this,Rr)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of x(this,jc))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){zn(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of r){const u=await i.deserialize(c);if(!u)return;s.push(u)}const a=()=>{for(const c of s)ae(this,Ot,xE).call(this,c);ae(this,Ot,yE).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){zn(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,Os)!==Hn.NONE&&!this.isEditorHandlingKeyboard&&qm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,Td)&&(X(this,Td,!1),ae(this,Ot,Nw).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ae(this,Ot,iI).call(this),ae(this,Ot,mE).call(this),ae(this,Ot,Ja).call(this,{isEditing:x(this,Os)!==Hn.NONE,isEmpty:ae(this,Ot,vx).call(this),hasSomethingToUndo:x(this,Xl).hasSomethingToUndo(),hasSomethingToRedo:x(this,Xl).hasSomethingToRedo(),hasSelectedEditor:!1})):(ae(this,Ot,sI).call(this),ae(this,Ot,vE).call(this),ae(this,Ot,Ja).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,jc)){X(this,jc,e);for(const t of x(this,jc))ae(this,Ot,jf).call(this,t.defaultPropertiesToUpdate)}}getId(){return x(this,Y_).id}get currentLayer(){return x(this,sa).get(x(this,f1))}getLayer(e){return x(this,sa).get(e)}get currentPageIndex(){return x(this,f1)}addLayer(e){x(this,sa).set(e.pageIndex,e),x(this,Cd)?e.enable():e.disable()}removeLayer(e){x(this,sa).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){var i;if(x(this,Os)!==e&&!(x(this,Yl)&&(await x(this,Yl).promise,!x(this,Yl)))){if(X(this,Yl,Promise.withResolvers()),X(this,Os,e),e===Hn.NONE){this.setEditingState(!1),ae(this,Ot,cI).call(this),(i=this._editorUndoBar)==null||i.hide(),x(this,Yl).resolve();return}this.setEditingState(!0),await ae(this,Ot,lI).call(this),this.unselectAll();for(const s of x(this,sa).values())s.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),x(this,Yl).resolve();return}for(const s of x(this,Ts).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();x(this,Yl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,Os)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(x(this,jc)){switch(e){case ar.CREATE:this.currentLayer.addNewEditor();return;case ar.HIGHLIGHT_DEFAULT_COLOR:(r=x(this,N2))==null||r.updateColor(t);break;case ar.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,L2)||X(this,L2,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of x(this,Rr))i.updateParams(e,t);for(const i of x(this,jc))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of x(this,Ts).values())a.editorType===e&&a.show(t);(((s=x(this,L2))==null?void 0:s.get(ar.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ae(this,Ot,jf).call(this,[[ar.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(x(this,k2)!==e){X(this,k2,e);for(const t of x(this,sa).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of x(this,Ts).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return x(this,Ts).get(e)}addEditor(e){x(this,Ts).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(x(this,Gu)&&clearTimeout(x(this,Gu)),X(this,Gu,setTimeout(()=>{this.focusMainContainer(),X(this,Gu,null)},0))),x(this,Ts).delete(e.id),this.unselect(e),(!e.annotationElementId||!x(this,op).has(e.annotationElementId))&&((t=x(this,$f))==null||t.remove(e.id))}addDeletedAnnotationElement(e){x(this,op).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,op).has(e)}removeDeletedAnnotationElement(e){x(this,op).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,il)!==e&&(X(this,il,e),e&&ae(this,Ot,jf).call(this,e.propertiesToUpdate))}updateUI(e){x(this,Ot,uI)===e&&ae(this,Ot,jf).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ae(this,Ot,jf).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(x(this,Rr).has(e)){x(this,Rr).delete(e),e.unselect(),ae(this,Ot,Ja).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,Rr).add(e),e.select(),ae(this,Ot,jf).call(this,e.propertiesToUpdate),ae(this,Ot,Ja).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=x(this,ap))==null||t.commitOrRemove();for(const r of x(this,Rr))r!==e&&r.unselect();x(this,Rr).clear(),x(this,Rr).add(e),e.select(),ae(this,Ot,jf).call(this,e.propertiesToUpdate),ae(this,Ot,Ja).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,Rr).has(e)}get firstSelectedEditor(){return x(this,Rr).values().next().value}unselect(e){e.unselect(),x(this,Rr).delete(e),ae(this,Ot,Ja).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,Rr).size!==0}get isEnterHandled(){return x(this,Rr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;x(this,Xl).undo(),ae(this,Ot,Ja).call(this,{hasSomethingToUndo:x(this,Xl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ae(this,Ot,vx).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){x(this,Xl).redo(),ae(this,Ot,Ja).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,Xl).hasSomethingToRedo(),isEmpty:ae(this,Ot,vx).call(this)})}addCommands(e){x(this,Xl).add(e),ae(this,Ot,Ja).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ae(this,Ot,vx).call(this)})}cleanUndoStack(e){x(this,Xl).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...x(this,Rr)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)ae(this,Ot,xE).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=x(this,il))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,il)||this.hasSelection}selectAll(){for(const e of x(this,Rr))e.commit();ae(this,Ot,yE).call(this,x(this,Ts).values())}unselectAll(){var e;if(!(x(this,il)&&(x(this,il).commitOrRemove(),x(this,Os)!==Hn.NONE))&&!((e=x(this,ap))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear(),ae(this,Ot,Ja).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;x(this,Nd)[0]+=e,x(this,Nd)[1]+=t;const[i,s]=x(this,Nd),a=[...x(this,Rr)],o=1e3;x(this,Vu)&&clearTimeout(x(this,Vu)),X(this,Vu,setTimeout(()=>{X(this,Vu,null),x(this,Nd)[0]=x(this,Nd)[1]=0,this.addCommands({cmd:()=>{for(const c of a)x(this,Ts).has(c.id)&&c.translateInPage(i,s)},undo:()=>{for(const c of a)x(this,Ts).has(c.id)&&c.translateInPage(-i,-s)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),X(this,ju,new Map);for(const e of x(this,Rr))x(this,ju).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,ju))return!1;this.disableUserSelect(!1);const e=x(this,ju);X(this,ju,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(x(this,Ts).has(i.id)){const c=x(this,sa).get(o);c?i._setParentAndPosition(c,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(x(this,ju))for(const r of x(this,ju).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,Rr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,il)===e}getActive(){return x(this,il)}getMode(){return x(this,Os)}get imageManager(){return Yn(this,"imageManager",new hE)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,p,g)=>({x:(h-i)/a,y:1-(u+p-r)/s,width:g/a,height:p/s});break;case"180":o=(u,h,p,g)=>({x:1-(u+p-r)/s,y:1-(h+g-i)/a,width:p/s,height:g/a});break;case"270":o=(u,h,p,g)=>({x:1-(h+g-i)/a,y:(u-r)/s,width:g/a,height:p/s});break;default:o=(u,h,p,g)=>({x:(u-r)/s,y:(h-i)/a,width:p/s,height:g/a});break}const c=[];for(let u=0,h=t.rangeCount;u<h;u++){const p=t.getRangeAt(u);if(!p.collapsed)for(const{x:g,y:m,width:b,height:w}of p.getClientRects())b===0||w===0||c.push(o(g,m,b,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(x(this,u1)||X(this,u1,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=x(this,u1))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=x(this,u1))==null?void 0:i.get(e.data.id);if(!t)return;const r=x(this,$f).getRawValue(t);r&&(x(this,Os)===Hn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};l1=new WeakMap,il=new WeakMap,Ts=new WeakMap,sa=new WeakMap,c1=new WeakMap,$f=new WeakMap,u1=new WeakMap,Xl=new WeakMap,Ad=new WeakMap,ap=new WeakMap,f1=new WeakMap,op=new WeakMap,ju=new WeakMap,jc=new WeakMap,lp=new WeakMap,E2=new WeakMap,T2=new WeakMap,h1=new WeakMap,C2=new WeakMap,Gu=new WeakMap,Ed=new WeakMap,d1=new WeakMap,Td=new WeakMap,qu=new WeakMap,Y_=new WeakMap,Cd=new WeakMap,k2=new WeakMap,kd=new WeakMap,cp=new WeakMap,N2=new WeakMap,R2=new WeakMap,Os=new WeakMap,Rr=new WeakMap,Xf=new WeakMap,up=new WeakMap,L2=new WeakMap,I2=new WeakMap,Nd=new WeakMap,Vu=new WeakMap,Yf=new WeakMap,M2=new WeakMap,Yl=new WeakMap,Ot=new WeakSet,kw=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},pE=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of x(this,sa).values())if(r.hasTextLayer(e))return r;return null},tI=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ae(this,Ot,kw).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(x(this,qu)||X(this,qu,new GU(this)),x(this,qu).show(r,i,this.direction==="ltr"))},nI=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){x(this,Xf)&&((s=x(this,qu))==null||s.hide(),X(this,Xf,null),ae(this,Ot,Ja).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===x(this,Xf))return;const i=ae(this,Ot,kw).call(this,e).closest(".textLayer");if(!i){x(this,Xf)&&((a=x(this,qu))==null||a.hide(),X(this,Xf,null),ae(this,Ot,Ja).call(this,{hasSelectedText:!1}));return}if((o=x(this,qu))==null||o.hide(),X(this,Xf,t),ae(this,Ot,Ja).call(this,{hasSelectedText:!0}),!(x(this,Os)!==Hn.HIGHLIGHT&&x(this,Os)!==Hn.NONE)&&(x(this,Os)===Hn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),X(this,Td,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=x(this,Os)===Hn.HIGHLIGHT?ae(this,Ot,pE).call(this,i):null;c==null||c.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),p=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),g.type==="pointerup"&&ae(this,Ot,Nw).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},Nw=function(e=""){x(this,Os)===Hn.HIGHLIGHT?this.highlightSelection(e):x(this,E2)&&ae(this,Ot,tI).call(this)},rI=function(){document.addEventListener("selectionchange",ae(this,Ot,nI).bind(this),{signal:this._signal})},iI=function(){if(x(this,Ed))return;X(this,Ed,new AbortController);const e=this.combinedSignal(x(this,Ed));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},sI=function(){var e;(e=x(this,Ed))==null||e.abort(),X(this,Ed,null)},gE=function(){if(x(this,kd))return;X(this,kd,new AbortController);const e=this.combinedSignal(x(this,kd));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},aI=function(){var e;(e=x(this,kd))==null||e.abort(),X(this,kd,null)},mE=function(){if(x(this,Ad))return;X(this,Ad,new AbortController);const e=this.combinedSignal(x(this,Ad));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},vE=function(){var e;(e=x(this,Ad))==null||e.abort(),X(this,Ad,null)},oI=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ja=function(e){Object.entries(e).some(([r,i])=>x(this,I2)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,I2),e)}),x(this,Os)===Hn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ae(this,Ot,jf).call(this,[[ar.HIGHLIGHT_FREE,!0]]))},jf=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},lI=async function(){if(!x(this,Cd)){X(this,Cd,!0);const e=[];for(const t of x(this,sa).values())e.push(t.enable());await Promise.all(e);for(const t of x(this,Ts).values())t.enable()}},cI=function(){if(this.unselectAll(),x(this,Cd)){X(this,Cd,!1);for(const e of x(this,sa).values())e.disable();for(const e of x(this,Ts).values())e.disable()}},xE=function(e){const t=x(this,sa).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},uI=function(){let e=null;for(e of x(this,Rr));return e},vx=function(){if(x(this,Ts).size===0)return!0;if(x(this,Ts).size===1)for(const e of x(this,Ts).values())return e.isEmpty();return!1},yE=function(e){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear();for(const t of e)t.isEmpty()||(x(this,Rr).add(t),t.select());ae(this,Ot,Ja).call(this,{hasSelectedEditor:this.hasSelection})},Pt(qm,"TRANSLATE_SMALL",1),Pt(qm,"TRANSLATE_BIG",10);let hg=qm;var Bs,Wu,Gc,p1,$u,sl,g1,Xu,Do,Kf,fp,Yu,Rd,ru,xx,Rw;const Za=class Za{constructor(e){ne(this,ru);ne(this,Bs,null);ne(this,Wu,!1);ne(this,Gc,null);ne(this,p1,null);ne(this,$u,null);ne(this,sl,null);ne(this,g1,!1);ne(this,Xu,null);ne(this,Do,null);ne(this,Kf,null);ne(this,fp,null);ne(this,Yu,!1);X(this,Do,e),X(this,Yu,e._uiManager.useNewAltTextFlow),x(Za,Rd)||X(Za,Rd,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Za._l10n??(Za._l10n=e)}async render(){const e=X(this,Gc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=X(this,p1,document.createElement("span"));e.append(t),x(this,Yu)?(e.classList.add("new"),e.setAttribute("data-l10n-id",x(Za,Rd).missing),t.setAttribute("data-l10n-id",x(Za,Rd)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=x(this,Do)._uiManager._signal;e.addEventListener("contextmenu",cu,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),x(this,Do)._uiManager.editAltText(x(this,Do)),x(this,Yu)&&x(this,Do)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:x(this,ru,xx)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(X(this,g1,!0),i(s))},{signal:r}),await ae(this,ru,Rw).call(this),e}finish(){x(this,Gc)&&(x(this,Gc).focus({focusVisible:x(this,g1)}),X(this,g1,!1))}isEmpty(){return x(this,Yu)?x(this,Bs)===null:!x(this,Bs)&&!x(this,Wu)}hasData(){return x(this,Yu)?x(this,Bs)!==null||!!x(this,Kf):this.isEmpty()}get guessedText(){return x(this,Kf)}async setGuessedText(e){x(this,Bs)===null&&(X(this,Kf,e),X(this,fp,await Za._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ae(this,ru,Rw).call(this))}toggleAltTextBadge(e=!1){var t;if(!x(this,Yu)||x(this,Bs)){(t=x(this,Xu))==null||t.remove(),X(this,Xu,null);return}if(!x(this,Xu)){const r=X(this,Xu,document.createElement("div"));r.className="noAltTextBadge",x(this,Do).div.append(r)}x(this,Xu).classList.toggle("hidden",!e)}serialize(e){let t=x(this,Bs);return!e&&x(this,Kf)===t&&(t=x(this,fp)),{altText:t,decorative:x(this,Wu),guessedText:x(this,Kf),textWithDisclaimer:x(this,fp)}}get data(){return{altText:x(this,Bs),decorative:x(this,Wu)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(X(this,Kf,r),X(this,fp,i)),!(x(this,Bs)===e&&x(this,Wu)===t)&&(s||(X(this,Bs,e),X(this,Wu,t)),ae(this,ru,Rw).call(this))}toggle(e=!1){x(this,Gc)&&(!e&&x(this,sl)&&(clearTimeout(x(this,sl)),X(this,sl,null)),x(this,Gc).disabled=!e)}shown(){x(this,Do)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:x(this,ru,xx)}})}destroy(){var e,t;(e=x(this,Gc))==null||e.remove(),X(this,Gc,null),X(this,p1,null),X(this,$u,null),(t=x(this,Xu))==null||t.remove(),X(this,Xu,null)}};Bs=new WeakMap,Wu=new WeakMap,Gc=new WeakMap,p1=new WeakMap,$u=new WeakMap,sl=new WeakMap,g1=new WeakMap,Xu=new WeakMap,Do=new WeakMap,Kf=new WeakMap,fp=new WeakMap,Yu=new WeakMap,Rd=new WeakMap,ru=new WeakSet,xx=function(){return x(this,Bs)&&"added"||x(this,Bs)===null&&this.guessedText&&"review"||"missing"},Rw=async function(){var i,s,a;const e=x(this,Gc);if(!e)return;if(x(this,Yu)){if(e.classList.toggle("done",!!x(this,Bs)),e.setAttribute("data-l10n-id",x(Za,Rd)[x(this,ru,xx)]),(i=x(this,p1))==null||i.setAttribute("data-l10n-id",x(Za,Rd)[`${x(this,ru,xx)}-label`]),!x(this,Bs)){(s=x(this,$u))==null||s.remove();return}}else{if(!x(this,Bs)&&!x(this,Wu)){e.classList.remove("done"),(a=x(this,$u))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=x(this,$u);if(!t){X(this,$u,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${x(this,Do).id}`;const o=100,c=x(this,Do)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(x(this,sl)),X(this,sl,null)},{once:!0}),e.addEventListener("mouseenter",()=>{X(this,sl,setTimeout(()=>{X(this,sl,null),x(this,$u).classList.add("show"),x(this,Do)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;x(this,sl)&&(clearTimeout(x(this,sl)),X(this,sl,null)),(u=x(this,$u))==null||u.classList.remove("show")},{signal:c})}x(this,Wu)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=x(this,Bs)),t.parentNode||e.append(t);const r=x(this,Do).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ne(Za,Rd,null),Pt(Za,"_l10n",null);let p_=Za;var D2,hp,F2,P2,O2,B2,U2,m1,Jf,dp,Ld,Rh,fI,hI,bE;const CC=class CC{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ne(this,Rh);ne(this,D2);ne(this,hp,!1);ne(this,F2,null);ne(this,P2);ne(this,O2);ne(this,B2);ne(this,U2);ne(this,m1);ne(this,Jf,null);ne(this,dp);ne(this,Ld,null);X(this,D2,e),X(this,F2,r),X(this,P2,t),X(this,O2,i),X(this,B2,s),X(this,U2,a),X(this,dp,new AbortController),X(this,m1,AbortSignal.any([o,x(this,dp).signal])),e.addEventListener("touchstart",ae(this,Rh,fI).bind(this),{passive:!1,signal:x(this,m1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Yn(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=x(this,dp))==null||e.abort(),X(this,dp,null)}};D2=new WeakMap,hp=new WeakMap,F2=new WeakMap,P2=new WeakMap,O2=new WeakMap,B2=new WeakMap,U2=new WeakMap,m1=new WeakMap,Jf=new WeakMap,dp=new WeakMap,Ld=new WeakMap,Rh=new WeakSet,fI=function(e){var i,s,a;if((i=x(this,P2))!=null&&i.call(this)||e.touches.length<2)return;if(!x(this,Ld)){X(this,Ld,new AbortController);const o=AbortSignal.any([x(this,m1),x(this,Ld).signal]),c=x(this,D2),u={signal:o,passive:!1};c.addEventListener("touchmove",ae(this,Rh,hI).bind(this),u),c.addEventListener("touchend",ae(this,Rh,bE).bind(this),u),c.addEventListener("touchcancel",ae(this,Rh,bE).bind(this),u),(s=x(this,O2))==null||s.call(this)}if(bl(e),e.touches.length!==2||(a=x(this,F2))!=null&&a.call(this)){X(this,Jf,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),X(this,Jf,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},hI=function(e){var D;if(!x(this,Jf)||e.touches.length!==2)return;let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,c=x(this,Jf),{touch0X:u,touch0Y:h,touch1X:p,touch1Y:g}=c,m=p-u,b=g-h,w=a-i,_=o-s,T=Math.hypot(w,_)||1,L=Math.hypot(m,b)||1;if(!x(this,hp)&&Math.abs(L-T)<=CC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,e.preventDefault(),!x(this,hp)){X(this,hp,!0);return}const R=[(i+a)/2,(s+o)/2];(D=x(this,B2))==null||D.call(this,R,L,T)},bE=function(e){var t;x(this,Ld).abort(),X(this,Ld,null),(t=x(this,U2))==null||t.call(this),x(this,Jf)&&(e.preventDefault(),X(this,Jf,null),X(this,hp,!1))};let g_=CC;var pp,qc,ii,v1,Id,H2,gp,aa,mp,Zf,Md,z2,vp,al,j2,xp,Qf,Ku,x1,y1,Kl,yp,G2,K_,bn,wE,q2,_E,Lw,dI,pI,SE,Iw,AE,gI,mI,vI,EE,xI,TE,yI,bI,wI,CE,yx;const Gn=class Gn{constructor(e){ne(this,bn);ne(this,pp,null);ne(this,qc,null);ne(this,ii,null);ne(this,v1,!1);ne(this,Id,null);ne(this,H2,"");ne(this,gp,!1);ne(this,aa,null);ne(this,mp,null);ne(this,Zf,null);ne(this,Md,null);ne(this,z2,"");ne(this,vp,!1);ne(this,al,null);ne(this,j2,!1);ne(this,xp,!1);ne(this,Qf,!1);ne(this,Ku,null);ne(this,x1,0);ne(this,y1,0);ne(this,Kl,null);ne(this,yp,null);Pt(this,"_editToolbar",null);Pt(this,"_initialOptions",Object.create(null));Pt(this,"_initialData",null);Pt(this,"_isVisible",!0);Pt(this,"_uiManager",null);Pt(this,"_focusEventsAllowed",!0);ne(this,G2,!1);ne(this,K_,Gn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Gn.prototype._resizeWithKeyboard,t=hg.TRANSLATE_SMALL,r=hg.TRANSLATE_BIG;return Yn(this,"_resizerKeyboardManager",new Vy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Gn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new WU({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Gn._l10n??(Gn._l10n=e),Gn._l10nResizer||(Gn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Gn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Gn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Kr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,G2)}set _isDraggable(e){var t;X(this,G2,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,K_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ae(this,bn,yx).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,vp)?X(this,vp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){ae(this,bn,wE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){x(this,al)||X(this,al,[this.x,this.y,this.width,this.height]),ae(this,bn,wE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){x(this,al)||X(this,al,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,u]=this.getBaseTranslation();a+=c,o+=u;const{style:h}=r;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!x(this,al)&&(x(this,al)[0]!==this.x||x(this,al)[1]!==this.y)}get _hasBeenResized(){return!!x(this,al)&&(x(this,al)[2]!==this.width||x(this,al)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Gn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=r,c*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(r-o,s)),a=Math.max(0,Math.min(i-c,a));break;case 90:s=Math.max(0,Math.min(r-c,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(r,Math.max(o,s)),a=Math.min(i,Math.max(c,a));break;case 270:s=Math.min(r,Math.max(c,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=r,this.y=a/=i;const[u,h]=this.getBaseTranslation();s+=u,a+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return ae(r=Gn,q2,_E).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return ae(r=Gn,q2,_E).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,x(this,gp)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!x(this,gp)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!x(this,gp)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=x(this,ii))==null||e.finish()}async addEditToolbar(){return this._editToolbar||x(this,xp)?this._editToolbar:(this._editToolbar=new uE(this),this.div.append(this._editToolbar.render()),x(this,ii)&&await this._editToolbar.addAltText(x(this,ii)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=x(this,ii))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,ii)||(p_.initialize(Gn._l10n),X(this,ii,new p_(this)),x(this,pp)&&(x(this,ii).data=x(this,pp),X(this,pp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,ii))==null?void 0:e.data}set altTextData(e){x(this,ii)&&(x(this,ii).data=e)}get guessedAltText(){var e;return(e=x(this,ii))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=x(this,ii))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=x(this,ii))==null?void 0:t.serialize(e)}hasAltText(){return!!x(this,ii)&&!x(this,ii).isEmpty()}hasAltTextData(){var e;return((e=x(this,ii))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=x(this,v1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ae(this,bn,TE).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),d_(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(x(this,yp)||X(this,yp,new g_({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ae(this,bn,gI).bind(this),onPinching:ae(this,bn,mI).bind(this),onPinchEnd:ae(this,bn,vI).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=ao.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(X(this,vp,!0),this._isDraggable){ae(this,bn,xI).call(this,e);return}ae(this,bn,EE).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){x(this,Ku)&&clearTimeout(x(this,Ku)),X(this,Ku,setTimeout(()=>{var e;X(this,Ku,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/i,h=t/i,p=this.x*s,g=this.y*a,m=this.width*s,b=this.height*a;switch(r){case 0:return[p+u+o,a-g-h-b+c,p+u+m+o,a-g-h+c];case 90:return[p+h+o,a-g+u+c,p+h+b+o,a-g+u+m+c];case 180:return[p-u-m+o,a-g+h+c,p-u+o,a-g+h+b+c];case 270:return[p-h-b+o,a-g-u-m+c,p-h+o,a-g-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,c=a-i;switch(this.rotation){case 0:return[r,t-a,o,c];case 90:return[r,t-i,c,o];case 180:return[s,t-i,o,c];case 270:return[s,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){X(this,xp,!0)}disableEditMode(){X(this,xp,!1)}isInEditMode(){return x(this,xp)}shouldGetKeyboardEvents(){return x(this,Qf)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){ae(this,bn,TE).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Kr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,X(i,pp,e.accessibilityData);const[s,a]=i.pageDimensions,[o,c,u,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=c/a,i.width=u/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=x(this,Md))==null||e.abort(),X(this,Md,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,Ku)&&(clearTimeout(x(this,Ku)),X(this,Ku,null)),ae(this,bn,yx).call(this),this.removeEditToolbar(),x(this,Kl)){for(const r of x(this,Kl).values())clearTimeout(r);X(this,Kl,null)}this.parent=null,(t=x(this,yp))==null||t.destroy(),X(this,yp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ae(this,bn,dI).call(this),x(this,aa).classList.remove("hidden"),d_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),X(this,Zf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=x(this,aa).children;if(!x(this,qc)){X(this,qc,Array.from(t));const a=ae(this,bn,yI).bind(this),o=ae(this,bn,bI).bind(this),c=this._uiManager._signal;for(const u of x(this,qc)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",ae(this,bn,wI).bind(this,h),{signal:c}),u.setAttribute("data-l10n-id",Gn._l10nResizer[h])}}const r=x(this,qc)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(x(this,qc).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)x(this,aa).append(x(this,aa).firstChild);else if(s>i)for(let o=0;o<s-i;o++)x(this,aa).firstChild.before(x(this,aa).lastChild);let a=0;for(const o of t){const u=x(this,qc)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Gn._l10nResizer[u])}}ae(this,bn,CE).call(this,0),X(this,Qf,!0),x(this,aa).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){x(this,Qf)&&ae(this,bn,AE).call(this,x(this,z2),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ae(this,bn,yx).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=x(this,ii))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=x(this,aa))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=x(this,ii))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return x(this,j2)}set isEditing(e){X(this,j2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){X(this,gp,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){x(this,Kl)||X(this,Kl,new Map);const{action:r}=e;let i=x(this,Kl).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),x(this,Kl).delete(r),x(this,Kl).size===0&&X(this,Kl,null)},Gn._telemetryTimeout),x(this,Kl).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),X(this,v1,!1)}disable(){this.div&&(this.div.tabIndex=-1),X(this,v1,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};pp=new WeakMap,qc=new WeakMap,ii=new WeakMap,v1=new WeakMap,Id=new WeakMap,H2=new WeakMap,gp=new WeakMap,aa=new WeakMap,mp=new WeakMap,Zf=new WeakMap,Md=new WeakMap,z2=new WeakMap,vp=new WeakMap,al=new WeakMap,j2=new WeakMap,xp=new WeakMap,Qf=new WeakMap,Ku=new WeakMap,x1=new WeakMap,y1=new WeakMap,Kl=new WeakMap,yp=new WeakMap,G2=new WeakMap,K_=new WeakMap,bn=new WeakSet,wE=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},q2=new WeakSet,_E=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Lw=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},dI=function(){if(x(this,aa))return;X(this,aa,document.createElement("div")),x(this,aa).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");x(this,aa).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ae(this,bn,pI).bind(this,r),{signal:t}),i.addEventListener("contextmenu",cu,{signal:t}),i.tabIndex=-1}this.div.prepend(x(this,aa))},pI=function(e,t){var h;t.preventDefault();const{isMac:r}=ao.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=x(this,ii))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,X(this,mp,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ae(this,bn,AE).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",bl,{passive:!1,signal:a}),window.addEventListener("contextmenu",cu,{signal:a}),X(this,Zf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=x(this,ii))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=c,ae(this,bn,Iw).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},SE=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*r,a*i),this.fixAndSetPosition(),this._onResized()},Iw=function(){if(!x(this,Zf))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=x(this,Zf);X(this,Zf,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===t&&o===r&&c===i||this.addCommands({cmd:ae(this,bn,SE).bind(this,s,a,o,c),undo:ae(this,bn,SE).bind(this,e,t,r,i),mustExec:!0})},AE=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,u=Gn.MIN_SIZE/r,h=Gn.MIN_SIZE/i,p=ae(this,bn,Lw).call(this,this.rotation),g=(K,ce)=>[p[0]*K+p[2]*ce,p[1]*K+p[3]*ce],m=ae(this,bn,Lw).call(this,360-this.rotation),b=(K,ce)=>[m[0]*K+m[2]*ce,m[1]*K+m[3]*ce];let w,_,T=!1,L=!1;switch(e){case"topLeft":T=!0,w=(K,ce)=>[0,0],_=(K,ce)=>[K,ce];break;case"topMiddle":w=(K,ce)=>[K/2,0],_=(K,ce)=>[K/2,ce];break;case"topRight":T=!0,w=(K,ce)=>[K,0],_=(K,ce)=>[0,ce];break;case"middleRight":L=!0,w=(K,ce)=>[K,ce/2],_=(K,ce)=>[0,ce/2];break;case"bottomRight":T=!0,w=(K,ce)=>[K,ce],_=(K,ce)=>[0,0];break;case"bottomMiddle":w=(K,ce)=>[K/2,ce],_=(K,ce)=>[K/2,0];break;case"bottomLeft":T=!0,w=(K,ce)=>[0,ce],_=(K,ce)=>[K,0];break;case"middleLeft":L=!0,w=(K,ce)=>[0,ce/2],_=(K,ce)=>[K,ce/2];break}const R=w(o,c),D=_(o,c);let j=g(...D);const G=Gn._round(s+j[0]),P=Gn._round(a+j[1]);let W=1,O=1,ee,B;if(t.fromKeyboard)({deltaX:ee,deltaY:B}=t);else{const{screenX:K,screenY:ce}=t,[Te,me]=x(this,mp);[ee,B]=this.screenToPageTranslation(K-Te,ce-me),x(this,mp)[0]=K,x(this,mp)[1]=ce}if([ee,B]=b(ee/r,B/i),T){const K=Math.hypot(o,c);W=O=Math.max(Math.min(Math.hypot(D[0]-R[0]-ee,D[1]-R[1]-B)/K,1/o,1/c),u/o,h/c)}else L?W=Math.max(u,Math.min(1,Math.abs(D[0]-R[0]-ee)))/o:O=Math.max(h,Math.min(1,Math.abs(D[1]-R[1]-B)))/c;const q=Gn._round(o*W),Q=Gn._round(c*O);j=g(..._(q,Q));const re=G-j[0],ge=P-j[1];x(this,al)||X(this,al,[this.x,this.y,this.width,this.height]),this.width=q,this.height=Q,this.x=re,this.y=ge,this.setDims(r*q,i*Q),this.fixAndSetPosition(),this._onResizing()},gI=function(){var e;X(this,Zf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=x(this,ii))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},mI=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=ae(this,bn,Lw).call(this,this.rotation),o=(G,P)=>[a[0]*G+a[2]*P,a[1]*G+a[3]*P],[c,u]=this.parentDimensions,h=this.x,p=this.y,g=this.width,m=this.height,b=Gn.MIN_SIZE/c,w=Gn.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/m),b/g,w/m);const _=Gn._round(g*s),T=Gn._round(m*s);if(_===g&&T===m)return;x(this,al)||X(this,al,[h,p,g,m]);const L=o(g/2,m/2),R=Gn._round(h+L[0]),D=Gn._round(p+L[1]),j=o(_/2,T/2);this.x=R-j[0],this.y=D-j[1],this.width=_,this.height=T,this.setDims(c*_,u*T),this.fixAndSetPosition(),this._onResizing()},vI=function(){var e;(e=x(this,ii))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ae(this,bn,Iw).call(this)},EE=function(e){const{isMac:t}=ao.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},xI=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),X(this,Id,null),X(this,vp,!1),this._uiManager.endDragSession()||ae(this,bn,EE).call(this,u),r&&this._onStopDragging()};t&&(X(this,x1,e.clientX),X(this,y1,e.clientY),X(this,Id,e.pointerId),X(this,H2,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=u;if(g!==x(this,Id)){bl(u);return}const[m,b]=this.screenToPageTranslation(h-x(this,x1),p-x(this,y1));X(this,x1,h),X(this,y1,p),this._uiManager.dragSelectedEditors(m,b)},a),window.addEventListener("touchmove",bl,a),window.addEventListener("pointerdown",u=>{u.pointerType===x(this,H2)&&(x(this,yp)||u.isPrimary)&&o(u),bl(u)},a));const c=u=>{if(!x(this,Id)||x(this,Id)===u.pointerId){o(u);return}bl(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},TE=function(){if(x(this,Md)||!this.div)return;X(this,Md,new AbortController);const e=this._uiManager.combinedSignal(x(this,Md));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},yI=function(e){Gn._resizerKeyboardManager.exec(this,e)},bI=function(e){var t;x(this,Qf)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==x(this,aa)&&ae(this,bn,yx).call(this)},wI=function(e){X(this,z2,x(this,Qf)?e:"")},CE=function(e){if(x(this,qc))for(const t of x(this,qc))t.tabIndex=e},yx=function(){X(this,Qf,!1),ae(this,bn,CE).call(this,-1),ae(this,bn,Iw).call(this)},ne(Gn,q2),Pt(Gn,"_l10n",null),Pt(Gn,"_l10nResizer",null),Pt(Gn,"_borderLineWidth",-1),Pt(Gn,"_colorManager",new dE),Pt(Gn,"_zIndex",1),Pt(Gn,"_telemetryTimeout",1e3);let Ei=Gn;class WU extends Ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uN=3285377520,jl=4294901760,Fu=65535;class _I{constructor(e){this.h1=e?e&4294967295:uN,this.h2=e?e&4294967295:uN}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let w=0,_=e.length;w<_;w++){const T=e.charCodeAt(w);T<=255?t[r++]=T:(t[r++]=T>>>8,t[r++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,c=0,u=this.h1,h=this.h2;const p=3432918353,g=461845907,m=p&Fu,b=g&Fu;for(let w=0;w<i;w++)w&1?(o=a[w],o=o*p&jl|o*m&Fu,o=o<<15|o>>>17,o=o*g&jl|o*b&Fu,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[w],c=c*p&jl|c*m&Fu,c=c<<15|c>>>17,c=c*g&jl|c*b&Fu,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&jl|o*m&Fu,o=o<<15|o>>>17,o=o*g&jl|o*b&Fu,i&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&jl|e*36045&Fu,t=t*4283543511&jl|((t<<16|e>>>16)*2950163797&jl)>>>16,e^=t>>>1,e=e*444984403&jl|e*60499&Fu,t=t*3301882366&jl|((t<<16|e>>>16)*3120437893&jl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const kE=Object.freeze({map:null,hash:"",transfer:void 0});var bp,wp,Us,J_,SI;class y4{constructor(){ne(this,J_);ne(this,bp,!1);ne(this,wp,null);ne(this,Us,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=x(this,Us).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return x(this,Us).get(e)}remove(e){if(x(this,Us).delete(e),x(this,Us).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of x(this,Us).values())if(t instanceof Ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=x(this,Us).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,x(this,Us).set(e,t);i&&ae(this,J_,SI).call(this),t instanceof Ei&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return x(this,Us).has(e)}getAll(){return x(this,Us).size>0?d4(x(this,Us)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return x(this,Us).size}resetModified(){x(this,bp)&&(X(this,bp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new AI(this)}get serializable(){if(x(this,Us).size===0)return kE;const e=new Map,t=new _I,r=[],i=Object.create(null);let s=!1;for(const[a,o]of x(this,Us)){const c=o instanceof Ei?o.serialize(!1,i):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:kE}get editorStats(){let e=null;const t=new Map;for(const r of x(this,Us).values()){if(!(r instanceof Ei))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const h=u.get(c)??0;u.set(c,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){X(this,wp,null)}get modifiedIds(){if(x(this,wp))return x(this,wp);const e=[];for(const t of x(this,Us).values())!(t instanceof Ei)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return X(this,wp,{ids:new Set(e),hash:e.join(",")})}}bp=new WeakMap,wp=new WeakMap,Us=new WeakMap,J_=new WeakSet,SI=function(){x(this,bp)||(X(this,bp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var V2;class AI extends y4{constructor(t){super();ne(this,V2);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);X(this,V2,{map:a,hash:i,transfer:s})}get print(){Kr("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,V2)}get modifiedIds(){return Yn(this,"modifiedIds",{ids:new Set,hash:""})}}V2=new WeakMap;var b1;class $U{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ne(this,b1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,b1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||x(this,b1).has(e.loadedName))){if(fs(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),x(this,b1).add(r),t==null||t(e)}catch{zn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Kr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw zn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Fa||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(fs(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(D,j){return D.charCodeAt(j)<<24|D.charCodeAt(j+1)<<16|D.charCodeAt(j+2)<<8|D.charCodeAt(j+3)&255}function i(D,j,G,P){const W=D.substring(0,j),O=D.substring(j+G);return W+P+O}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function h(D,j){if(++u>30){zn("Load test font never loaded."),j();return}if(c.font="30px "+D,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(h.bind(null,D,j))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const b=16,w=1482184792;let _=r(g,b);for(s=0,a=p.length-3;s<a;s+=4)_=_-w+r(p,s)|0;s<p.length&&(_=_-w+r(p+"XXX",s)|0),g=i(g,b,4,IU(_));const T=`url(data:font/opentype;base64,${btoa(g)});`,L=`@font-face {font-family:"${p}";src:${T}}`;this.insertRule(L);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const D of[e.loadedName,p]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=D,R.append(j)}this._document.body.append(R),h(p,()=>{R.remove(),t.complete()})}}b1=new WeakMap;class XU{constructor(e,{disableFontFace:t=!1,fontExtraProperties:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=r===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${BU(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){zn(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}const Xb={DATA:1,ERROR:2},os={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fN(){}function Io(n){if(n instanceof s0||n instanceof oE||n instanceof Qx||n instanceof oN||n instanceof h_||n instanceof iA)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Kr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new s0(n.message);case"InvalidPDFException":return new oE(n.message);case"MissingPDFException":return new Qx(n.message);case"PasswordException":return new oN(n.message,n.code);case"UnexpectedResponseException":return new h_(n.message,n.status);case"UnknownErrorException":return new iA(n.message,n.details)}return new iA(n.message,n.toString())}var w1,ac,EI,TI,CI,Mw;class bx{constructor(e,t,r){ne(this,ac);ne(this,w1,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",ae(this,ac,EI).bind(this),{signal:x(this,w1).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:a,targetName:o,stream:os.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{fs(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:os.CANCEL,streamId:s,reason:Io(u)}),h.promise}},r)}destroy(){var e;(e=x(this,w1))==null||e.abort(),X(this,w1,null)}}w1=new WeakMap,ac=new WeakSet,EI=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ae(this,ac,CI).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Xb.DATA)i.resolve(e.data);else if(e.callback===Xb.ERROR)i.reject(Io(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Xb.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Xb.ERROR,callbackId:e.callbackId,reason:Io(a)})});return}if(e.streamId){ae(this,ac,TI).call(this,e);return}t(e.data)},TI=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(u,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:os.ENQUEUE,streamId:t,chunk:u},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:os.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){fs(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:os.ERROR,streamId:t,reason:Io(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(o,e.data,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:os.START_COMPLETE,streamId:t,reason:Io(u)})})},CI=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case os.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Io(e.reason));break;case os.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Io(e.reason));break;case os.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||fN).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,reason:Io(u)})});break;case os.ENQUEUE:if(fs(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case os.CLOSE:if(fs(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ae(this,ac,Mw).call(this,a,t);break;case os.ERROR:fs(a,"error should have stream controller"),a.controller.error(Io(e.reason)),ae(this,ac,Mw).call(this,a,t);break;case os.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Io(e.reason)),ae(this,ac,Mw).call(this,a,t);break;case os.CANCEL:if(!o)break;const c=Io(e.reason);Promise.try(o.onCancel||fN,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:os.CANCEL_COMPLETE,streamId:t,reason:Io(u)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Mw=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var W2;class kI{constructor({enableHWA:e=!1}){ne(this,W2,!1);X(this,W2,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!x(this,W2)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Kr("Abstract method `_createCanvas` called.")}}W2=new WeakMap;class YU extends kI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class NI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class RI extends NI{async _fetch(e){const t=await g5(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):p5(t)}}class LI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var _p,_1,eh,th,ka,Sp,Ap,Yt,Aa,wx,km,Dw,Nm,II,NE,Rm,_x,Sx,RE,Ax;class KU extends LI{constructor({docId:t,ownerDocument:r=globalThis.document}){super();ne(this,Yt);ne(this,_p);ne(this,_1);ne(this,eh);ne(this,th);ne(this,ka);ne(this,Sp);ne(this,Ap,0);X(this,th,t),X(this,ka,r)}addFilter(t){if(!t)return"none";let r=x(this,Yt,Aa).get(t);if(r)return r;const[i,s,a]=ae(this,Yt,Dw).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=x(this,Yt,Aa).get(o),r)return x(this,Yt,Aa).set(t,r),r;const c=`g_${x(this,th)}_transfer_map_${Ya(this,Ap)._++}`,u=ae(this,Yt,Nm).call(this,c);x(this,Yt,Aa).set(t,u),x(this,Yt,Aa).set(o,u);const h=ae(this,Yt,Rm).call(this,c);return ae(this,Yt,Sx).call(this,i,s,a,h),u}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=x(this,Yt,wx).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},x(this,Yt,wx).set(s,a)),!t||!r))return a.url;const o=ae(this,Yt,Ax).call(this,t);t=un.makeHexColor(...o);const c=ae(this,Yt,Ax).call(this,r);if(r=un.makeHexColor(...c),x(this,Yt,km).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let w=0;w<=255;w++){const _=w/255;u[w]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=u.join(","),p=`g_${x(this,th)}_hcm_filter`,g=a.filter=ae(this,Yt,Rm).call(this,p);ae(this,Yt,Sx).call(this,h,h,h,g),ae(this,Yt,NE).call(this,g);const m=(w,_)=>{const T=o[w]/255,L=c[w]/255,R=new Array(_+1);for(let D=0;D<=_;D++)R[D]=T+D/_*(L-T);return R.join(",")};return ae(this,Yt,Sx).call(this,m(0,5),m(1,5),m(2,5),g),a.url=ae(this,Yt,Nm).call(this,p),a.url}addAlphaFilter(t){let r=x(this,Yt,Aa).get(t);if(r)return r;const[i]=ae(this,Yt,Dw).call(this,[t]),s=`alpha_${i}`;if(r=x(this,Yt,Aa).get(s),r)return x(this,Yt,Aa).set(t,r),r;const a=`g_${x(this,th)}_alpha_map_${Ya(this,Ap)._++}`,o=ae(this,Yt,Nm).call(this,a);x(this,Yt,Aa).set(t,o),x(this,Yt,Aa).set(s,o);const c=ae(this,Yt,Rm).call(this,a);return ae(this,Yt,RE).call(this,i,c),o}addLuminosityFilter(t){let r=x(this,Yt,Aa).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=ae(this,Yt,Dw).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=x(this,Yt,Aa).get(s),r)return x(this,Yt,Aa).set(t,r),r;const a=`g_${x(this,th)}_luminosity_map_${Ya(this,Ap)._++}`,o=ae(this,Yt,Nm).call(this,a);x(this,Yt,Aa).set(t,o),x(this,Yt,Aa).set(s,o);const c=ae(this,Yt,Rm).call(this,a);return ae(this,Yt,II).call(this,c),t&&ae(this,Yt,RE).call(this,i,c),o}addHighlightHCMFilter(t,r,i,s,a){var L;const o=`${r}-${i}-${s}-${a}`;let c=x(this,Yt,wx).get(t);if((c==null?void 0:c.key)===o||(c?((L=c.filter)==null||L.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},x(this,Yt,wx).set(t,c)),!r||!i))return c.url;const[u,h]=[r,i].map(ae(this,Yt,Ax).bind(this));let p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,b]=[s,a].map(ae(this,Yt,Ax).bind(this));g<p&&([p,g,m,b]=[g,p,b,m]),x(this,Yt,km).style.color="";const w=(R,D,j)=>{const G=new Array(256),P=(g-p)/j,W=R/255,O=(D-R)/(255*j);let ee=0;for(let B=0;B<=j;B++){const q=Math.round(p+B*P),Q=W+B*O;for(let re=ee;re<=q;re++)G[re]=Q;ee=q+1}for(let B=ee;B<256;B++)G[B]=G[ee-1];return G.join(",")},_=`g_${x(this,th)}_hcm_${t}_filter`,T=c.filter=ae(this,Yt,Rm).call(this,_);return ae(this,Yt,NE).call(this,T),ae(this,Yt,Sx).call(this,w(m[0],b[0],5),w(m[1],b[1],5),w(m[2],b[2],5),T),c.url=ae(this,Yt,Nm).call(this,_),c.url}destroy(t=!1){var r,i,s,a;t&&((r=x(this,Sp))!=null&&r.size)||((i=x(this,eh))==null||i.parentNode.parentNode.remove(),X(this,eh,null),(s=x(this,_1))==null||s.clear(),X(this,_1,null),(a=x(this,Sp))==null||a.clear(),X(this,Sp,null),X(this,Ap,0))}}_p=new WeakMap,_1=new WeakMap,eh=new WeakMap,th=new WeakMap,ka=new WeakMap,Sp=new WeakMap,Ap=new WeakMap,Yt=new WeakSet,Aa=function(){return x(this,_1)||X(this,_1,new Map)},wx=function(){return x(this,Sp)||X(this,Sp,new Map)},km=function(){if(!x(this,eh)){const t=x(this,ka).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=x(this,ka).createElementNS(zf,"svg");i.setAttribute("width",0),i.setAttribute("height",0),X(this,eh,x(this,ka).createElementNS(zf,"defs")),t.append(i),i.append(x(this,eh)),x(this,ka).body.append(t)}return x(this,eh)},Dw=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=u[g]/255;const p=h.join(",");return[p,p,p]}const[r,i,s]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,c[u]=s[u]/255;return[a.join(","),o.join(","),c.join(",")]},Nm=function(t){if(x(this,_p)===void 0){X(this,_p,"");const r=x(this,ka).URL;r!==x(this,ka).baseURI&&(m5(r)?zn('#createUrl: ignore "data:"-URL for performance reasons.'):X(this,_p,r.split("#",1)[0]))}return`url(${x(this,_p)}#${t})`},II=function(t){const r=x(this,ka).createElementNS(zf,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},NE=function(t){const r=x(this,ka).createElementNS(zf,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Rm=function(t){const r=x(this,ka).createElementNS(zf,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),x(this,Yt,km).append(r),r},_x=function(t,r,i){const s=x(this,ka).createElementNS(zf,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Sx=function(t,r,i,s){const a=x(this,ka).createElementNS(zf,"feComponentTransfer");s.append(a),ae(this,Yt,_x).call(this,a,"feFuncR",t),ae(this,Yt,_x).call(this,a,"feFuncG",r),ae(this,Yt,_x).call(this,a,"feFuncB",i)},RE=function(t,r){const i=x(this,ka).createElementNS(zf,"feComponentTransfer");r.append(i),ae(this,Yt,_x).call(this,i,"feFuncA",t)},Ax=function(t){return x(this,Yt,km).style.color=t,x4(getComputedStyle(x(this,Yt,km)).getPropertyValue("color"))};class MI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class DI extends MI{async _fetch(e){const t=await g5(e,"arraybuffer");return new Uint8Array(t)}}Fa&&zn("Please use the `legacy` build in Node.js environments.");async function FI(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class JU extends LI{}class ZU extends kI{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class QU extends NI{async _fetch(e){return FI(e)}}class eH extends MI{async _fetch(e){return FI(e)}}const Ia={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LE(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class b4{getPattern(){Kr("Abstract method `getPattern` called.")}}class tH extends b4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ia.STROKE||i===Ia.FILL){const a=t.current.getClippedPathBoundingBox(i,mi(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,c),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=un.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),LE(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else LE(e,this._bbox),s=this._createGradient(e);return s}}function oA(n,e,t,r,i,s,a,o){const c=e.coords,u=e.colors,h=n.data,p=n.width*4;let g;c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),c[r+1]>c[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const m=(c[t]+e.offsetX)*e.scaleX,b=(c[t+1]+e.offsetY)*e.scaleY,w=(c[r]+e.offsetX)*e.scaleX,_=(c[r+1]+e.offsetY)*e.scaleY,T=(c[i]+e.offsetX)*e.scaleX,L=(c[i+1]+e.offsetY)*e.scaleY;if(b>=L)return;const R=u[s],D=u[s+1],j=u[s+2],G=u[a],P=u[a+1],W=u[a+2],O=u[o],ee=u[o+1],B=u[o+2],q=Math.round(b),Q=Math.round(L);let re,ge,K,ce,Te,me,Oe,se;for(let I=q;I<=Q;I++){if(I<_){const ye=I<b?0:(b-I)/(b-_);re=m-(m-w)*ye,ge=R-(R-G)*ye,K=D-(D-P)*ye,ce=j-(j-W)*ye}else{let ye;I>L?ye=1:_===L?ye=0:ye=(_-I)/(_-L),re=w-(w-T)*ye,ge=G-(G-O)*ye,K=P-(P-ee)*ye,ce=W-(W-B)*ye}let U;I<b?U=0:I>L?U=1:U=(b-I)/(b-L),Te=m-(m-T)*U,me=R-(R-O)*U,Oe=D-(D-ee)*U,se=j-(j-B)*U;const z=Math.round(Math.min(re,Te)),Y=Math.round(Math.max(re,Te));let oe=p*I+z*4;for(let ye=z;ye<=Y;ye++)U=(re-ye)/(re-Te),U<0?U=0:U>1&&(U=1),h[oe++]=ge-(ge-me)*U|0,h[oe++]=K-(K-Oe)*U|0,h[oe++]=ce-(ce-se)*U|0,h[oe++]=255}}function nH(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<c;s++){let h=s*o;for(let p=0;p<u;p++,h++)oA(n,t,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),oA(n,t,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)oA(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class rH extends b4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=u/p,b=h/g,w={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/m,scaleY:1/b},_=p+4,T=g+4,L=r.getCanvas("mesh",_,T),R=L.context,D=R.createImageData(p,g);if(t){const G=D.data;for(let P=0,W=G.length;P<W;P+=4)G[P]=t[0],G[P+1]=t[1],G[P+2]=t[2],G[P+3]=255}for(const G of this._figures)nH(D,G,w);return R.putImageData(D,2,2),{canvas:L.canvas,offsetX:o-2*m,offsetY:c-2*b,scaleX:m,scaleY:b}}getPattern(e,t,r,i){LE(e,this._bbox);let s;if(i===Ia.SHADING)s=un.singularValueDecompose2dScale(mi(e));else if(s=un.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=un.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Ia.SHADING?null:this._background,t.cachedCanvases);return i!==Ia.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class iH extends b4{getPattern(){return"hotpink"}}function sH(n){switch(n[0]){case"RadialAxial":return new tH(n);case"Mesh":return new rH(n);case"Dummy":return new iH}throw new Error(`Unknown IR type: ${n[0]}`)}const hN={COLORED:1,UNCOLORED:2},Z_=class Z_{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),d5("TilingType: "+s);const h=t[0],p=t[1],g=t[2],m=t[3],b=g-h,w=m-p,_=un.singularValueDecompose2dScale(this.matrix),T=un.singularValueDecompose2dScale(this.baseTransform),L=_[0]*T[0],R=_[1]*T[1];let D=b,j=w,G=!1,P=!1;const W=Math.ceil(c*L),O=Math.ceil(u*R),ee=Math.ceil(b*L),B=Math.ceil(w*R);W>=ee?D=c:G=!0,O>=B?j=u:P=!0;const q=this.getSizeAndScale(D,this.ctx.canvas.width,L),Q=this.getSizeAndScale(j,this.ctx.canvas.height,R),re=e.cachedCanvases.getCanvas("pattern",q.size,Q.size),ge=re.context,K=o.createCanvasGraphics(ge);if(K.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(K,i,a),ge.translate(-q.scale*h,-Q.scale*p),K.transform(q.scale,0,0,Q.scale,0,0),ge.save(),this.clipBbox(K,h,p,g,m),K.baseTransform=mi(K.ctx),K.executeOperatorList(r),K.endDrawing(),ge.restore(),G||P){const ce=re.canvas;G&&(D=c),P&&(j=u);const Te=this.getSizeAndScale(D,this.ctx.canvas.width,L),me=this.getSizeAndScale(j,this.ctx.canvas.height,R),Oe=Te.size,se=me.size,I=e.cachedCanvases.getCanvas("pattern-workaround",Oe,se),U=I.context,z=G?Math.floor(b/c):0,Y=P?Math.floor(w/u):0;for(let oe=0;oe<=z;oe++)for(let ye=0;ye<=Y;ye++)U.drawImage(ce,Oe*oe,se*ye,Oe,se,0,0,Oe,se);return{canvas:I.canvas,scaleX:Te.scale,scaleY:me.scale,offsetX:h,offsetY:p}}return{canvas:re.canvas,scaleX:q.scale,scaleY:Q.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,r){const i=Math.max(Z_.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),e.current.updateRectMinMax(mi(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case hN.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case hN.UNCOLORED:const o=un.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new LU(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Ia.SHADING&&(s=un.transform(s,t.baseTransform),this.matrix&&(s=un.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};Pt(Z_,"MAX_PATTERN_SIZE",3e3);let IE=Z_;function aH({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ao.isLittleEndian?4278190080:255,[c,u]=a?[s,o]:[o,s],h=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let m=0;for(let b=0;b<i;b++){for(const _=e+h;e<_;e++){const T=e<g?n[e]:255;t[m++]=T&128?u:c,t[m++]=T&64?u:c,t[m++]=T&32?u:c,t[m++]=T&16?u:c,t[m++]=T&8?u:c,t[m++]=T&4?u:c,t[m++]=T&2?u:c,t[m++]=T&1?u:c}if(p===0)continue;const w=e<g?n[e++]:255;for(let _=0;_<p;_++)t[m++]=w&1<<7-_?u:c}return{srcPos:e,destPos:m}}const dN=16,pN=100,oH=15,gN=10,mN=1e3,Oo=16;function lH(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,o,c){e.transform(r,i,s,a,o,c),this.__originalTransform(r,i,s,a,o,c)},n.setTransform=function(r,i,s,a,o,c){e.setTransform(r,i,s,a,o,c),this.__originalSetTransform(r,i,s,a,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class cH{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Yb(n,e,t,r,i,s,a,o,c,u){const[h,p,g,m,b,w]=mi(n);if(p===0&&g===0){const L=a*h+b,R=Math.round(L),D=o*m+w,j=Math.round(D),G=(a+c)*h+b,P=Math.abs(Math.round(G)-R)||1,W=(o+u)*m+w,O=Math.abs(Math.round(W)-j)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(m),R,j),n.drawImage(e,t,r,i,s,0,0,P,O),n.setTransform(h,p,g,m,b,w),[P,O]}if(h===0&&m===0){const L=o*g+b,R=Math.round(L),D=a*p+w,j=Math.round(D),G=(o+u)*g+b,P=Math.abs(Math.round(G)-R)||1,W=(a+c)*p+w,O=Math.abs(Math.round(W)-j)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,R,j),n.drawImage(e,t,r,i,s,0,0,O,P),n.setTransform(h,p,g,m,b,w),[O,P]}n.drawImage(e,t,r,i,s,a,o,c,u);const _=Math.hypot(h,p),T=Math.hypot(g,m);return[_*c,T*u]}function uH(n){const{width:e,height:t}=n;if(e>mN||t>mN)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,c,u;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const T of n.data){let L=128;for(;L>0;)p[g++]=T&L?0:255,L>>=1}let m=0;for(g=0,p[g]!==0&&(a[0]=1,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(a[c]=p[g]?2:1,++m),g++;for(p[g]!==0&&(a[c]=2,++m),o=1;o<t;o++){g=o*h,u=o*s,p[g-h]!==p[g]&&(a[u]=p[g]?1:8,++m);let T=(p[g]?4:0)+(p[g-h]?8:0);for(c=1;c<e;c++)T=(T>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[T]&&(a[u+c]=i[T],++m),g++;if(p[g-h]!==p[g]&&(a[u+c]=p[g]?2:4,++m),m>r)return null}for(g=h*(t-1),u=o*s,p[g]!==0&&(a[u]=8,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(a[u+c]=p[g]?4:8,++m),g++;if(p[g]!==0&&(a[u+c]=4,++m),m>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),w=new Path2D;for(o=0;m&&o<=t;o++){let T=o*s;const L=T+e;for(;T<L&&!a[T];)T++;if(T===L)continue;w.moveTo(T%s,o);const R=T;let D=a[T];do{const j=b[D];do T+=j;while(!a[T]);const G=a[T];G!==5&&G!==10?(D=G,a[T]=0):(D=G&51*D>>4,a[T]&=D>>2|D<<2),w.lineTo(T%s,T/s|0),a[T]||--m}while(R!==T);--o}return p=null,a=null,function(T){T.save(),T.scale(1/e,-1/t),T.translate(0,-t),T.fill(w),T.beginPath(),T.restore()}}class vN{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=VL,this.textMatrixScale=1,this.fontMatrix=aE,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Sa.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=un.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=un.applyTransform(t,e),i=un.applyTransform(t.slice(2),e),s=un.applyTransform([t[0],t[3]],e),a=un.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){un.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,o,c,u,h){const p=un.bezierBoundingBox(t,r,i,s,a,o,c,u,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Ia.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ia.STROKE){t||Kr("Stroke bounding box must include transform.");const i=un.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=un.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ia.FILL,t=null){return un.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xN(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Oo,s=(t-i)/Oo,a=i===0?s:s+1,o=n.createImageData(r,Oo);let c=0,u;const h=e.data,p=o.data;let g,m,b,w;if(e.kind===Aw.GRAYSCALE_1BPP){const _=h.byteLength,T=new Uint32Array(p.buffer,0,p.byteLength>>2),L=T.length,R=r+7>>3,D=4294967295,j=ao.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?Oo:i,u=0,m=0;m<b;m++){const G=_-c;let P=0;const W=G>R?r:G*8-7,O=W&-8;let ee=0,B=0;for(;P<O;P+=8)B=h[c++],T[u++]=B&128?D:j,T[u++]=B&64?D:j,T[u++]=B&32?D:j,T[u++]=B&16?D:j,T[u++]=B&8?D:j,T[u++]=B&4?D:j,T[u++]=B&2?D:j,T[u++]=B&1?D:j;for(;P<W;P++)ee===0&&(B=h[c++],ee=128),T[u++]=B&ee?D:j,ee>>=1}for(;u<L;)T[u++]=0;n.putImageData(o,0,g*Oo)}}else if(e.kind===Aw.RGBA_32BPP){for(m=0,w=r*Oo*4,g=0;g<s;g++)p.set(h.subarray(c,c+w)),c+=w,n.putImageData(o,0,m),m+=Oo;g<a&&(w=r*i*4,p.set(h.subarray(c,c+w)),n.putImageData(o,0,m))}else if(e.kind===Aw.RGB_24BPP)for(b=Oo,w=r*b,g=0;g<a;g++){for(g>=s&&(b=i,w=r*b),u=0,m=w;m--;)p[u++]=h[c++],p[u++]=h[c++],p[u++]=h[c++],p[u++]=255;n.putImageData(o,0,g*Oo)}else throw new Error(`bad image kind: ${e.kind}`)}function yN(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Oo,s=(t-i)/Oo,a=i===0?s:s+1,o=n.createImageData(r,Oo);let c=0;const u=e.data,h=o.data;for(let p=0;p<a;p++){const g=p<s?Oo:i;({srcPos:c}=aH({src:u,srcPos:c,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,p*Oo)}}function lx(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Kb(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Fa){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function bN(n,e){if(e)return!0;const t=un.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*a0.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const fH=["butt","round","square"],hH=["miter","round","bevel"],dH={},wN={};var fu,ME,DE,FE;const kC=class kC{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},c,u){ne(this,fu);this.ctx=e,this.current=new vN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new cH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...mi(this.compositeCtx))}this.ctx.save(),Kb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=mi(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const c=s.length;if(c===o)return o;const u=c-o>gN&&typeof r=="function",h=u?Date.now()+oH:0;let p=0;const g=this.commonObjs,m=this.objs;let b;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(b=a[o],b!==Hc.dependency)this[b].apply(this,s[o]);else for(const w of s[o]){const _=w.startsWith("g_")?g:m;if(!_.has(w))return _.get(w,r),o}if(o++,o===c)return o;if(u&&++p>gN){if(Date.now()>h)return r(),o;p=0}}}endDrawing(){ae(this,fu,ME).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ae(this,fu,DE).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,c=i,u="prescale1",h,p;for(;s>2&&o>1||a>2&&c>1;){let g=o,m=c;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/m),h=this.cachedCanvases.getCanvas(u,g,m),p=h.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,o,c,0,0,g,m),e=h.canvas,o=g,c=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=mi(t);let c,u,h,p;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(W),c||(c=new Map,this._cachedBitmapsMap.set(W,c));const O=c.get(u);if(O&&!a){const ee=Math.round(Math.min(o[0],o[2])+o[4]),B=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:ee,offsetY:B}}h=O}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),yN(p.context,e));let g=un.transform(o,[1/r,0,0,-1/i,0,0]);g=un.transform(g,[1,0,0,1,0,-i]);const[m,b,w,_]=un.getAxialAlignedBoundingBox([0,0,r,i],g),T=Math.round(w-m)||1,L=Math.round(_-b)||1,R=this.cachedCanvases.getCanvas("fillCanvas",T,L),D=R.context,j=m,G=b;D.translate(-j,-G),D.transform(...g),h||(h=this._scaleImage(p.canvas,Du(D)),h=h.img,c&&a&&c.set(u,h)),D.imageSmoothingEnabled=bN(mi(D),e.interpolate),Yb(D,h,0,0,h.width,h.height,0,0,r,i),D.globalCompositeOperation="source-in";const P=un.transform(Du(D),[1,0,0,1,-j,-G]);return D.fillStyle=a?s.getPattern(t,this,P,Ia.FILL):s,D.fillRect(0,0,r,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,R.canvas)),{canvas:R.canvas,offsetX:Math.round(j),offsetY:Math.round(G)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=fH[e]}setLineJoin(e){this.ctx.lineJoin=hH[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...mi(this.suspendedCtx)),lx(this.suspendedCtx,s),lH(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),lx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,c=i[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,r,o,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,c,u,h,p){let g=e.canvas,m=c-h,b=u-p;if(a){const _=un.makeHexColor(...a);if(m<0||b<0||m+r>g.width||b+i>g.height){const T=this.cachedCanvases.getCanvas("maskExtension",r,i),L=T.context;L.drawImage(g,-m,-b),L.globalCompositeOperation="destination-atop",L.fillStyle=_,L.fillRect(0,0,r,i),L.globalCompositeOperation="source-over",g=T.canvas,m=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(m,b,r,i),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=_,e.fillRect(m,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const w=new Path2D;w.rect(c,u,r,i),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(g,m,b,r,i,c,u,r,i),t.restore()}save(){this.inSMaskMode?(lx(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),lx(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,o=s.y,c,u;const h=mi(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?r.slice(0):null;for(let m=0,b=0,w=e.length;m<w;m++)switch(e[m]|0){case Hc.rectangle:a=t[b++],o=t[b++];const _=t[b++],T=t[b++],L=a+_,R=o+T;i.moveTo(a,o),_===0||T===0?i.lineTo(L,R):(i.lineTo(L,o),i.lineTo(L,R),i.lineTo(a,R)),p||s.updateRectMinMax(h,[a,o,L,R]),i.closePath();break;case Hc.moveTo:a=t[b++],o=t[b++],i.moveTo(a,o),p||s.updatePathMinMax(h,a,o);break;case Hc.lineTo:a=t[b++],o=t[b++],i.lineTo(a,o),p||s.updatePathMinMax(h,a,o);break;case Hc.curveTo:c=a,u=o,a=t[b+4],o=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],a,o),s.updateCurvePathMinMax(h,c,u,t[b],t[b+1],t[b+2],t[b+3],a,o,g),b+=6;break;case Hc.curveTo2:c=a,u=o,i.bezierCurveTo(a,o,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(h,c,u,a,o,t[b],t[b+1],t[b+2],t[b+3],g),a=t[b+2],o=t[b+3],b+=4;break;case Hc.curveTo3:c=a,u=o,a=t[b+2],o=t[b+3],i.bezierCurveTo(t[b],t[b+1],a,o,a,o),s.updateCurvePathMinMax(h,c,u,t[b],t[b+1],a,o,a,o,g),b+=4;break;case Hc.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Du(t),Ia.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Du(t),Ia.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dH}eoClip(){this.pendingClip=wN}beginText(){this.current.textMatrix=VL,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:c,path:u}of e)r.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(c,-c));t.clip(r),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||aE,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&zn("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const c=r.italic?"italic":"normal";let u=t;t<dN?u=dN:t>pN&&(u=pN),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const a=this.ctx,o=this.current,c=o.font,u=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,p=u&Sa.FILL_STROKE_MASK,g=!!(u&Sa.ADD_TO_PATH_FLAG),m=o.patternFill&&!c.missingFile,b=o.patternStroke&&!c.missingFile;let w;if((c.disableFontFace||g||m||b)&&(w=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||m||b){if(a.save(),a.translate(t,r),a.scale(h,-h),p===Sa.FILL||p===Sa.FILL_STROKE)if(i){const _=a.getTransform();a.setTransform(...i),a.fill(ae(this,fu,FE).call(this,w,_,i))}else a.fill(w);if(p===Sa.STROKE||p===Sa.FILL_STROKE)if(s){const _=a.getTransform();a.setTransform(...s),a.stroke(ae(this,fu,FE).call(this,w,_,s))}else a.lineWidth/=h,a.stroke(w);a.restore()}else(p===Sa.FILL||p===Sa.FILL_STROKE)&&a.fillText(e,t,r),(p===Sa.STROKE||p===Sa.FILL_STROKE)&&a.strokeText(e,t,r);g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:mi(a),x:t,y:r,fontSize:h,path:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,p=e.length,g=r.vertical,m=g?1:-1,b=r.defaultVMetrics,w=i*t.fontMatrix[0],_=t.textRenderingMode===Sa.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(h,-1):s.scale(h,1);let T,L;if(t.patternFill){s.save();const P=t.fillColor.getPattern(s,this,Du(s),Ia.FILL);T=mi(s),s.restore(),s.fillStyle=P}if(t.patternStroke){s.save();const P=t.strokeColor.getPattern(s,this,Du(s),Ia.STROKE);L=mi(s),s.restore(),s.strokeStyle=P}let R=t.lineWidth;const D=t.textMatrixScale;if(D===0||R===0){const P=t.textRenderingMode&Sa.FILL_STROKE_MASK;(P===Sa.STROKE||P===Sa.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=D;if(a!==1&&(s.scale(a,a),R/=a),s.lineWidth=R,r.isInvalidPDFjsFont){const P=[];let W=0;for(const O of e)P.push(O.unicode),W+=O.width;s.fillText(P.join(""),0,0),t.x+=W*w*h,s.restore(),this.compose();return}let j=0,G;for(G=0;G<p;++G){const P=e[G];if(typeof P=="number"){j+=m*P*i/1e3;continue}let W=!1;const O=(P.isSpace?c:0)+o,ee=P.fontChar,B=P.accent;let q,Q,re=P.width;if(g){const K=P.vmetric||b,ce=-(P.vmetric?K[1]:re*.5)*w,Te=K[2]*w;re=K?-K[0]:re,q=ce/a,Q=(j+Te)/a}else q=j/a,Q=0;if(r.remeasure&&re>0){const K=s.measureText(ee).width*1e3/i*a;if(re<K&&this.isFontSubpixelAAEnabled){const ce=re/K;W=!0,s.save(),s.scale(ce,1),q/=ce}else re!==K&&(q+=(re-K)/2e3*i/a)}if(this.contentVisible&&(P.isInFont||r.missingFile)){if(_&&!B)s.fillText(ee,q,Q);else if(this.paintChar(ee,q,Q,T,L),B){const K=q+i*B.offset.x/a,ce=Q-i*B.offset.y/a;this.paintChar(B.fontChar,K,ce,T,L)}}const ge=g?re*w-O*u:re*w+O*u;j+=ge,W&&s.restore()}g?t.y-=j:t.x+=j*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,o=i.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,h=r.textHScale*a,p=r.fontMatrix||aE,g=e.length,m=r.textRenderingMode===Sa.INVISIBLE;let b,w,_,T;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,a),b=0;b<g;++b){if(w=e[b],typeof w=="number"){T=o*w*s/1e3,this.ctx.translate(T,0),r.x+=T*h;continue}const L=(w.isSpace?u:0)+c,R=i.charProcOperatorList[w.operatorListId];if(!R){zn(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(R),this.restore()),_=un.applyTransform([w.width,0],p)[0]*s+L,t.translate(_,0),r.x+=_*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||mi(this.ctx),s={createCanvasGraphics:a=>new kC(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new IE(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=un.makeHexColor(e,t,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=un.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=sH(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Du(t),Ia.SHADING);const i=Du(t);if(i){const{width:s,height:a}=t.canvas,[o,c,u,h]=un.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,c,u-o,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Kr("Should not call beginInlineImage")}beginImageData(){Kr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=mi(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(mi(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||d5("TODO: Support non-isolated groups."),e.knockout&&zn("Knockout groups not supported.");const r=mi(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=un.getAxialAlignedBoundingBox(e.bbox,mi(t));const s=[0,0,t.canvas.width,t.canvas.height];i=un.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,u),g=p.context;g.translate(-a,-o),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),lx(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=mi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=un.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(ae(this,fu,ME).call(this),Kb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,u]=un.singularValueDecompose2dScale(mi(this.ctx)),{viewportScale:h}=this,p=Math.ceil(a*this.outputScaleX*h),g=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:m,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),Kb(this.ctx)}else Kb(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new vN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ae(this,fu,DE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=uH(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=mi(o);o.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let h=0,p=a.length;h<p;h+=2){const g=un.transform(c,[t,r,i,s,a[h],a[h+1]]),[m,b]=un.applyTransform([0,0],g);o.drawImage(u.canvas,m,b)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:c,transform:u}=s,h=this.cachedCanvases.getCanvas("maskCanvas",o,c),p=h.context;p.save();const g=this.getObject(a,s);yN(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,Du(t),Ia.FILL):r,p.fillRect(0,0,o,c),p.restore(),t.save(),t.transform(...u),t.scale(1,-1),Yb(t,h.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){zn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){zn("Dependent image isn't ready yet");return}const a=s.width,o=s.height,c=[];for(let u=0,h=i.length;u<h;u+=2)c.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Fa){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;xN(c,e),s=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(s,Du(i));i.imageSmoothingEnabled=bN(mi(i),e.interpolate),Yb(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;xN(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),Yb(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===wN?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)a=o=1/c;else{const h=c*e;a=o=h<1?1/h:1}else if(e===0)a=1/c,o=1/u;else{const h=c*e,p=u*e;a=h<1?1/h:1,o=p<1?1/p:1}}else{const c=Math.abs(t*s-r*i),u=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)a=h/c,o=u/c;else{const p=e*c;a=h>p?h/p:1,o=u>p?u/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};fu=new WeakSet,ME=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},DE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},FE=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let $m=kC;for(const n in Hc)$m.prototype[n]!==void 0&&($m.prototype[Hc[n]]=$m.prototype[n]);var $2,X2;class xh{static get workerPort(){return x(this,$2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");X(this,$2,e)}static get workerSrc(){return x(this,X2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");X(this,X2,e)}}$2=new WeakMap,X2=new WeakMap,ne(xh,$2,null),ne(xh,X2,"");var Ep,Y2;class pH{constructor({parsedData:e,rawData:t}){ne(this,Ep);ne(this,Y2);X(this,Ep,e),X(this,Y2,t)}getRaw(){return x(this,Y2)}get(e){return x(this,Ep).get(e)??null}getAll(){return d4(x(this,Ep))}has(e){return x(this,Ep).has(e)}}Ep=new WeakMap,Y2=new WeakMap;const Lm=Symbol("INTERNAL");var K2,J2,Z2,S1;class gH{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){ne(this,K2,!1);ne(this,J2,!1);ne(this,Z2,!1);ne(this,S1,!0);X(this,K2,!!(e&ml.DISPLAY)),X(this,J2,!!(e&ml.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(x(this,Z2))return x(this,S1);if(!x(this,S1))return!1;const{print:e,view:t}=this.usage;return x(this,K2)?(t==null?void 0:t.viewState)!=="OFF":x(this,J2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Lm&&Kr("Internal method `_setVisible` called."),X(this,Z2,r),X(this,S1,t)}}K2=new WeakMap,J2=new WeakMap,Z2=new WeakMap,S1=new WeakMap;var Dd,Lr,A1,E1,Q2,PE;class mH{constructor(e,t=ml.DISPLAY){ne(this,Q2);ne(this,Dd,null);ne(this,Lr,new Map);ne(this,A1,null);ne(this,E1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,X(this,E1,e.order);for(const r of e.groups)x(this,Lr).set(r.id,new gH(t,r));if(e.baseState==="OFF")for(const r of x(this,Lr).values())r._setVisible(Lm,!1);for(const r of e.on)x(this,Lr).get(r)._setVisible(Lm,!0);for(const r of e.off)x(this,Lr).get(r)._setVisible(Lm,!1);X(this,A1,this.getHash())}}isVisible(e){if(x(this,Lr).size===0)return!0;if(!e)return d5("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,Lr).has(e.id)?x(this,Lr).get(e.id).visible:(zn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ae(this,Q2,PE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return zn(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return zn(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return zn(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return zn(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!1}return!0}return zn(`Unknown optional content policy ${e.policy}.`),!0}return zn(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=x(this,Lr).get(e);if(!i){zn(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=x(this,Lr).get(o))==null||s._setVisible(Lm,!1,!0));i._setVisible(Lm,!!t,!0),X(this,Dd,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=x(this,Lr).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}X(this,Dd,null)}get hasInitialVisibility(){return x(this,A1)===null||this.getHash()===x(this,A1)}getOrder(){return x(this,Lr).size?x(this,E1)?x(this,E1).slice():[...x(this,Lr).keys()]:null}getGroups(){return x(this,Lr).size>0?d4(x(this,Lr)):null}getGroup(e){return x(this,Lr).get(e)||null}getHash(){if(x(this,Dd)!==null)return x(this,Dd);const e=new _I;for(const[t,r]of x(this,Lr))e.update(`${t}:${r.visible}`);return X(this,Dd,e.hexdigest())}}Dd=new WeakMap,Lr=new WeakMap,A1=new WeakMap,E1=new WeakMap,Q2=new WeakSet,PE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=ae(this,Q2,PE).call(this,s);else if(x(this,Lr).has(s))a=x(this,Lr).get(s).visible;else return zn(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class vH{constructor(e,{disableRange:t=!1,disableStream:r=!1}){fs(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});fs(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){fs(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new xH(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new yH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class xH{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=m4(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yH{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function bH(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=c(h),h=u(h),s(h)}if(t=a(n),t){const h=u(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=o(t);return h=u(h),s(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),m=p5(p);p=g.decode(m),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const p=[];let g;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(h))!==null;){let[,w,_,T]=g;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[_,T]}const b=[];for(let w=0;w<p.length&&w in p;++w){let[_,T]=p[w];T=o(T),_&&(T=unescape(T),w===0&&(T=c(T))),b.push(T)}return b.join("")}function o(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),b=h.slice(p+1).replace(/^[^']*'/,"");return i(g,b)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,b){if(m==="q"||m==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,_){return String.fromCharCode(parseInt(_,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function PI(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function v5(n){try{return new URL(n).origin}catch{}return null}function OI({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function BI(n){const e=n.get("Content-Disposition");if(e){let t=bH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(m4(t))return t}return null}function x5(n,e){return n===404||n===0&&e.startsWith("file:")?new Qx('Missing PDF "'+e+'".'):new h_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function UI(n){return n===200||n===206}function HI(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function zI(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(zn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class _N{constructor(e){Pt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=PI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fs(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new _H(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class wH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,HI(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=v5(s.url),!UI(s.status))throw x5(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=OI({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=BI(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:zI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class _H{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,HI(s,this._withCredentials,this._abortController)).then(o=>{const c=v5(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!UI(o.status))throw x5(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:zI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const lA=200,cA=206;function SH(n){const e=n.response;return typeof e!="string"?e:p5(e).buffer}class AH{constructor({url:e,httpHeaders:t,withCredentials:r}){Pt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=PI(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=cA):i.expectedStatus=lA,t.responseType="arraybuffer",fs(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||lA;if(!(s===lA&&r.expectedStatus===cA)&&s!==r.expectedStatus){r.onError(i.status);return}const o=SH(i);if(s===cA){const c=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(zn('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class EH{constructor(e){this._source=e,this._manager=new AH(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return fs(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new TH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new CH(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class TH{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=v5(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...u]=o.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=OI({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=BI(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=x5(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CH{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=v5((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=x5(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const kH=/^[a-z][a-z0-9\-+.]+:/i;function NH(n){if(kH.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class RH{constructor(e){this.source=e,this.url=NH(e.url),fs(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fs(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new LH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new IH(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class LH{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Qx(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class IH{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const MH=1e5,Lo=30,DH=.8;var PL,Fd,Fo,ey,ty,Tp,nh,ny,ry,Cp,T1,C1,Pd,k1,iy,N1,kp,sy,ay,Np,Rp,oy,Od,R1,Lh,jI,GI,OE,Al,Fw,BE,qI,VI;const Es=class Es{constructor({textContentSource:e,container:t,viewport:r}){ne(this,Lh);ne(this,Fd,Promise.withResolvers());ne(this,Fo,null);ne(this,ey,!1);ne(this,ty,!!((PL=globalThis.FontInspector)!=null&&PL.enabled));ne(this,Tp,null);ne(this,nh,null);ne(this,ny,0);ne(this,ry,0);ne(this,Cp,null);ne(this,T1,null);ne(this,C1,0);ne(this,Pd,0);ne(this,k1,Object.create(null));ne(this,iy,[]);ne(this,N1,null);ne(this,kp,[]);ne(this,sy,new WeakMap);ne(this,ay,null);var c;if(e instanceof ReadableStream)X(this,N1,e);else if(typeof e=="object")X(this,N1,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');X(this,Fo,X(this,T1,t)),X(this,Pd,r.scale*(globalThis.devicePixelRatio||1)),X(this,C1,r.rotation),X(this,nh,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;X(this,ay,[1,0,0,-1,-a,o+s]),X(this,ry,i),X(this,ny,s),ae(c=Es,Al,qI).call(c),fg(t,r),x(this,Fd).promise.finally(()=>{x(Es,R1).delete(this),X(this,nh,null),X(this,k1,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ao.platform;return Yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{x(this,Cp).read().then(({value:t,done:r})=>{if(r){x(this,Fd).resolve();return}x(this,Tp)??X(this,Tp,t.lang),Object.assign(x(this,k1),t.styles),ae(this,Lh,jI).call(this,t.items),e()},x(this,Fd).reject)};return X(this,Cp,x(this,N1).getReader()),x(Es,R1).add(this),e(),x(this,Fd).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==x(this,C1)&&(t==null||t(),X(this,C1,i),fg(x(this,T1),{rotation:i})),r!==x(this,Pd)){t==null||t(),X(this,Pd,r);const a={div:null,properties:null,ctx:ae(s=Es,Al,Fw).call(s,x(this,Tp))};for(const o of x(this,kp))a.properties=x(this,sy).get(o),a.div=o,ae(this,Lh,OE).call(this,a)}}cancel(){var t;const e=new s0("TextLayer task cancelled.");(t=x(this,Cp))==null||t.cancel(e).catch(()=>{}),X(this,Cp,null),x(this,Fd).reject(e)}get textDivs(){return x(this,kp)}get textContentItemsStr(){return x(this,iy)}static cleanup(){if(!(x(this,R1).size>0)){x(this,Np).clear();for(const{canvas:e}of x(this,Rp).values())e.remove();x(this,Rp).clear()}}};Fd=new WeakMap,Fo=new WeakMap,ey=new WeakMap,ty=new WeakMap,Tp=new WeakMap,nh=new WeakMap,ny=new WeakMap,ry=new WeakMap,Cp=new WeakMap,T1=new WeakMap,C1=new WeakMap,Pd=new WeakMap,k1=new WeakMap,iy=new WeakMap,N1=new WeakMap,kp=new WeakMap,sy=new WeakMap,ay=new WeakMap,Np=new WeakMap,Rp=new WeakMap,oy=new WeakMap,Od=new WeakMap,R1=new WeakMap,Lh=new WeakSet,jI=function(e){var i,s;if(x(this,ey))return;(s=x(this,nh)).ctx??(s.ctx=ae(i=Es,Al,Fw).call(i,x(this,Tp)));const t=x(this,kp),r=x(this,iy);for(const a of e){if(t.length>MH){zn("Ignoring additional textDivs for performance reasons."),X(this,ey,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=x(this,Fo);X(this,Fo,document.createElement("span")),x(this,Fo).classList.add("markedContent"),a.id!==null&&x(this,Fo).setAttribute("id",`${a.id}`),o.append(x(this,Fo))}else a.type==="endMarkedContent"&&X(this,Fo,x(this,Fo).parentNode);continue}r.push(a.str),ae(this,Lh,GI).call(this,a)}},GI=function(e){var w;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,kp).push(t);const i=un.transform(x(this,ay),e.transform);let s=Math.atan2(i[1],i[0]);const a=x(this,k1)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=x(this,ty)&&a.fontSubstitution||a.fontFamily;o=Es.fontFamilyMap.get(o)||o;const c=Math.hypot(i[2],i[3]),u=c*ae(w=Es,Al,VI).call(w,o,x(this,Tp));let h,p;s===0?(h=i[4],p=i[5]-u):(h=i[4]+u*Math.sin(s),p=i[5]-u*Math.cos(s));const g="calc(var(--scale-factor)*",m=t.style;x(this,Fo)===x(this,T1)?(m.left=`${(100*h/x(this,ry)).toFixed(2)}%`,m.top=`${(100*p/x(this,ny)).toFixed(2)}%`):(m.left=`${g}${h.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(x(Es,Od)*c).toFixed(2)}px)`,m.fontFamily=o,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,x(this,ty)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);_!==T&&Math.max(_,T)/Math.min(_,T)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),x(this,sy).set(t,r),x(this,nh).div=t,x(this,nh).properties=r,ae(this,Lh,OE).call(this,x(this,nh)),r.hasText&&x(this,Fo).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),x(this,Fo).append(_)}},OE=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(x(Es,Od)>1&&(a=`scale(${1/x(Es,Od)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:h}=r;ae(o=Es,Al,BE).call(o,i,h*x(this,Pd),c);const{width:p}=i.measureText(t.textContent);p>0&&(a=`scaleX(${u*x(this,Pd)/p}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Al=new WeakSet,Fw=function(e=null){let t=x(this,Rp).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,Rp).set(e,t),x(this,oy).set(t,{size:0,family:""})}return t},BE=function(e,t,r){const i=x(this,oy).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},qI=function(){if(x(this,Od)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),X(this,Od,e.getBoundingClientRect().height),e.remove()},VI=function(e,t){const r=x(this,Np).get(e);if(r)return r;const i=ae(this,Al,Fw).call(this,t);i.canvas.width=i.canvas.height=Lo,ae(this,Al,BE).call(this,i,Lo,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const h=a/(a+o);return x(this,Np).set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,Lo,Lo),i.strokeText("g",0,0);let c=i.getImageData(0,0,Lo,Lo).data;o=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){o=Math.ceil(h/4/Lo);break}i.clearRect(0,0,Lo,Lo),i.strokeText("A",0,Lo),c=i.getImageData(0,0,Lo,Lo).data,a=0;for(let h=0,p=c.length;h<p;h+=4)if(c[h]>0){a=Lo-Math.floor(h/4/Lo);break}i.canvas.width=i.canvas.height=0;const u=a?a/(a+o):DH;return x(this,Np).set(e,u),u},ne(Es,Al),ne(Es,Np,new Map),ne(Es,Rp,new Map),ne(Es,oy,new WeakMap),ne(Es,Od,null),ne(Es,R1,new Set);let e2=Es;class t2{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(t2.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const FH=65536,PH=100,OH=5e3,BH=Fa?ZU:YU,UH=Fa?QU:RI,HH=Fa?JU:KU,zH=Fa?eH:DI;function jH(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new UE,{docId:t}=e,r=n.url?GH(n.url):null,i=n.data?qH(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof WI?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:FH;let h=n.worker instanceof Xm?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!m5(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,w=n.CMapReaderFactory||UH,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,T=n.StandardFontDataFactory||zH,L=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,D=n.isEvalSupported!==!1,j=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Fa,G=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Fa&&(ao.platform.isFirefox||!globalThis.chrome),P=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,W=typeof n.disableFontFace=="boolean"?n.disableFontFace:Fa,O=n.fontExtraProperties===!0,ee=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,q=n.disableRange===!0,Q=n.disableStream===!0,re=n.disableAutoFetch===!0,ge=n.pdfBug===!0,K=n.CanvasFactory||BH,ce=n.FilterFactory||HH,Te=n.enableHWA===!0,me=c?c.length:n.length??NaN,Oe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Fa&&!W,se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===RI&&T===DI&&m&&_&&mx(m,document.baseURI)&&mx(_,document.baseURI),I=null;CU(p);const U={canvasFactory:new K({ownerDocument:B,enableHWA:Te}),filterFactory:new ce({docId:t,ownerDocument:B}),cMapReaderFactory:se?null:new w({baseUrl:m,isCompressed:b}),standardFontDataFactory:se?null:new T({baseUrl:_})};if(!h){const oe={verbosity:p,port:xh.workerPort};h=oe.port?Xm.fromPort(oe):new Xm(oe),e._worker=h}const z={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:re,rangeChunkSize:u,length:me,docBaseUrl:g,enableXfa:ee,evaluatorOptions:{maxImageSize:R,disableFontFace:W,ignoreErrors:L,isEvalSupported:D,isOffscreenCanvasSupported:j,isImageDecoderSupported:G,canvasMaxAreaInBytes:P,fontExtraProperties:O,useSystemFonts:Oe,cMapUrl:se?m:null,standardFontDataUrl:se?_:null}},Y={disableFontFace:W,fontExtraProperties:O,ownerDocument:B,pdfBug:ge,styleElement:I,loadingParams:{disableAutoFetch:re,enableXfa:ee}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const oe=h.messageHandler.sendWithPromise("GetDocRequest",z,i?[i.buffer]:null);let ye;if(c)ye=new vH(c,{disableRange:q,disableStream:Q});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let fe;if(Fa)if(mx(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");fe=_N}else fe=RH;else fe=mx(r)?_N:EH;ye=new fe({url:r,length:me,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:q,disableStream:Q})}return oe.then(fe=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ae=new bx(t,fe,h.port),Re=new XH(Ae,e,ye,Y,U);e._transport=Re,Ae.send("Ready",null)})}).catch(e._capability.reject),e}function GH(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Fa&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function qH(n){if(Fa&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return p5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function SN(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Q_;const e5=class e5{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ya(e5,Q_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};Q_=new WeakMap,ne(e5,Q_,0);let UE=e5;class WI{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Kr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class VH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Bd,rh,nc,Im,Pw;class WH{constructor(e,t,r,i=!1){ne(this,nc);ne(this,Bd,null);ne(this,rh,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new cN:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new $I,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new qy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=wd.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:p=!1}){var D,j;(D=this._stats)==null||D.time("Overall");const g=this._transport.getRenderingIntent(r,i,h,p),{renderingIntent:m,cacheKey:b}=g;X(this,rh,!1),ae(this,nc,Pw).call(this),o||(o=this._transport.getOptionalContentConfig(m));let w=this._intentStates.get(b);w||(w=Object.create(null),this._intentStates.set(b,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const _=!!(m&ml.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(g));const T=G=>{var P;w.renderTasks.delete(L),(this._maybeCleanupAfterRender||_)&&X(this,rh,!0),ae(this,nc,Im).call(this,!_),G?(L.capability.reject(G),this._abortOperatorList({intentState:w,reason:G instanceof Error?G:new Error(G)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new zE({callback:T,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:u});(w.renderTasks||(w.renderTasks=new Set)).add(L);const R=L.task;return Promise.all([w.displayReadyCapability.promise,o]).then(([G,P])=>{var W;if(this.destroyed){T();return}if((W=this._stats)==null||W.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:G,optionalContentConfig:P}),L.operatorListChanged()}).catch(T),R}getOperatorList({intent:e="display",annotationMode:t=wd.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>t2.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:c,done:u}){if(u){r(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),X(this,rh,!1),ae(this,nc,Pw).call(this),Promise.all(e)}cleanup(e=!1){X(this,rh,!0);const t=ae(this,nc,Im).call(this,!1);return e&&t&&this._stats&&(this._stats=new cN),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&ae(this,nc,Im).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,u),h())},p=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();ae(this,nc,Im).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(p);else if(u.opListReadCapability)u.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof g4){let i=PH;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new s0(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Bd=new WeakMap,rh=new WeakMap,nc=new WeakSet,Im=function(e=!1){if(ae(this,nc,Pw).call(this),!x(this,rh)||this.destroyed)return!1;if(e)return X(this,Bd,setTimeout(()=>{X(this,Bd,null),ae(this,nc,Im).call(this,!1)},OH)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),X(this,rh,!1),!0},Pw=function(){x(this,Bd)&&(clearTimeout(x(this,Bd)),X(this,Bd,null))};var ih,t5;class $H{constructor(){ne(this,ih,new Map);ne(this,t5,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};x(this,t5).then(()=>{for(const[i]of x(this,ih))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){zn("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}x(this,ih).set(t,i)}removeEventListener(e,t){const r=x(this,ih).get(t);r==null||r(),x(this,ih).delete(t)}terminate(){for(const[,e]of x(this,ih))e==null||e();x(this,ih).clear()}}ih=new WeakMap,t5=new WeakMap;var n5,Lp,Ip,L1,Ow,I1,Bw;const gi=class gi{constructor({name:e=null,port:t=null,verbosity:r=kU()}={}){ne(this,L1);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=x(gi,Ip))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(x(gi,Ip)||X(gi,Ip,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new bx("main","worker",e),this._messageHandler.on("ready",function(){}),ae(this,L1,Ow).call(this)}_initialize(){if(x(gi,Lp)||x(gi,I1,Bw)){this._setupFakeWorker();return}let{workerSrc:e}=gi;try{gi._isSameOrigin(window.location.href,e)||(e=gi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new bx("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,ae(this,L1,Ow).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{d5("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){x(gi,Lp)||(zn("Setting up fake worker."),X(gi,Lp,!0)),gi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new $H;this._port=t;const r=`fake${Ya(gi,n5)._++}`,i=new bx(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new bx(r,r+"_worker",t),ae(this,L1,Ow).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=x(gi,Ip))==null||t.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=x(this,Ip))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gi(e)}static get workerSrc(){if(xh.workerSrc)return xh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yn(this,"_setupFakeWorkerGlobal",(async()=>x(this,I1,Bw)?x(this,I1,Bw):(await import(this.workerSrc)).WorkerMessageHandler)())}};n5=new WeakMap,Lp=new WeakMap,Ip=new WeakMap,L1=new WeakSet,Ow=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},I1=new WeakSet,Bw=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ne(gi,I1),ne(gi,n5,0),ne(gi,Lp,!1),ne(gi,Ip),Fa&&(X(gi,Lp,!0),xh.workerSrc||(xh.workerSrc="./pdf.worker.mjs")),gi._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},gi._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Xm=gi;var sh,Ju,M1,D1,ah,Mp,Ex;class XH{constructor(e,t,r,i,s){ne(this,Mp);ne(this,sh,new Map);ne(this,Ju,new Map);ne(this,M1,new Map);ne(this,D1,new Map);ne(this,ah,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new $I,this.fontLoader=new $U({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yn(this,"annotationStorage",new y4)}getRenderingIntent(e,t=wd.ENABLE,r=null,i=!1,s=!1){let a=ml.DISPLAY,o=kE;switch(e){case"any":a=ml.ANY;break;case"display":break;case"print":a=ml.PRINT;break;default:zn(`getRenderingIntent - invalid intent: ${e}`)}const c=a&ml.PRINT&&r instanceof AI?r:this.annotationStorage;switch(t){case wd.DISABLE:a+=ml.ANNOTATIONS_DISABLE;break;case wd.ENABLE:break;case wd.ENABLE_FORMS:a+=ml.ANNOTATIONS_FORMS;break;case wd.ENABLE_STORAGE:a+=ml.ANNOTATIONS_STORAGE,o=c.serializable;break;default:zn(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=ml.IS_EDITING),s&&(a+=ml.OPLIST);const{ids:u,hash:h}=c.modifiedIds,p=[a,o.hash,h];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=x(this,ah))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of x(this,Ju).values())e.push(i._destroy());x(this,Ju).clear(),x(this,M1).clear(),x(this,D1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),x(this,sh).clear(),this.filterFactory.destroy(),e2.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new s0("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{fs(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}fs(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{fs(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}fs(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new VH(r,this))}),e.on("DocException",r=>{t._capability.reject(Io(r))}),e.on("PasswordRequest",r=>{X(this,ah,Promise.withResolvers());try{if(!t.onPassword)throw Io(r);const i=s=>{s instanceof Error?x(this,ah).reject(s):x(this,ah).resolve({password:s})};t.onPassword(i,r.code)}catch(i){x(this,ah).reject(i)}return x(this,ah).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;x(this,Ju).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in s){const m=s.error;zn(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const h=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,b)=>globalThis.FontInspector.fontAdded(m,b):null,p=new XU(s,{disableFontFace:o,fontExtraProperties:c,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:g}=s;fs(g,"The imageRef must be defined.");for(const m of x(this,Ju).values())for(const[,b]of m.objs)if((b==null?void 0:b.ref)===g)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var c;if(this.destroyed)return;const o=x(this,Ju).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":o.objs.resolve(r,a),(a==null?void 0:a.dataLen)>SU&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&zn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=x(this,M1).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&x(this,D1).set(s.refStr,e);const a=new WH(t,s,this,this._params.pdfBug);return x(this,Ju).set(t,a),a});return x(this,M1).set(t,i),i}getPageIndex(e){return SN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ae(this,Mp,Ex).call(this,"GetFieldObjects")}hasJSActions(){return ae(this,Mp,Ex).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ae(this,Mp,Ex).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ae(this,Mp,Ex).call(this,"GetOptionalContentConfig").then(t=>new mH(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=x(this,sh).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new pH(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return x(this,sh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of x(this,Ju).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,sh).clear(),this.filterFactory.destroy(!0),e2.cleanup()}}cachedPageNumber(e){if(!SN(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,D1).get(t)??null}}sh=new WeakMap,Ju=new WeakMap,M1=new WeakMap,D1=new WeakMap,ah=new WeakMap,Mp=new WeakSet,Ex=function(e,t=null){const r=x(this,sh).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return x(this,sh).set(e,i),i};const cx=Symbol("INITIAL_DATA");var ol,ly,HE;class $I{constructor(){ne(this,ly);ne(this,ol,Object.create(null))}get(e,t=null){if(t){const i=ae(this,ly,HE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=x(this,ol)[e];if(!r||r.data===cx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=x(this,ol)[e];return!!t&&t.data!==cx}delete(e){const t=x(this,ol)[e];return!t||t.data===cx?!1:(delete x(this,ol)[e],!0)}resolve(e,t=null){const r=ae(this,ly,HE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in x(this,ol)){const{data:r}=x(this,ol)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}X(this,ol,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,ol)){const{data:t}=x(this,ol)[e];t!==cx&&(yield[e,t])}}}ol=new WeakMap,ly=new WeakSet,HE=function(e){var t;return(t=x(this,ol))[e]||(t[e]={...Promise.withResolvers(),data:cx})};var Ud;class YH{constructor(e){ne(this,Ud,null);X(this,Ud,e),this.onContinue=null}get promise(){return x(this,Ud).capability.promise}cancel(e=0){x(this,Ud).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Ud).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=x(this,Ud);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ud=new WeakMap;var Hd,Dp;const ep=class ep{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){ne(this,Hd,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(x(ep,Dp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(ep,Dp).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new $m(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),x(this,Hd)&&(window.cancelAnimationFrame(x(this,Hd)),X(this,Hd,null)),x(ep,Dp).delete(this._canvas),this.callback(e||new g4(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?X(this,Hd,window.requestAnimationFrame(()=>{X(this,Hd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(ep,Dp).delete(this._canvas),this.callback())))}};Hd=new WeakMap,Dp=new WeakMap,ne(ep,Dp,new WeakSet);let zE=ep;const KH="4.10.38",JH="f9bea397f";function AN(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ux(n){return Math.max(0,Math.min(255,255*n))}class EN{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ux(e),[e,e,e]}static G_HTML([e]){const t=AN(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(ux)}static RGB_HTML(e){return`#${e.map(AN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[ux(1-Math.min(1,e+i)),ux(1-Math.min(1,r+i)),ux(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class ZH{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Kr("Abstract method `_createSVG` called.")}}class w4 extends ZH{_createSVG(e){return document.createElementNS(zf,e)}}class XI{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var p,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",c=e.div;if(c.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&t2.shouldBuildText(i.name)&&u.push(m)}return{textDivs:u}}const h=[[i,-1,a]];for(;h.length>0;){const[m,b,w]=h.at(-1);if(b+1===m.children.length){h.pop();continue}const _=m.children[++h.at(-1)[1]];if(_===null)continue;const{name:T}=_;if(T==="#text"){const R=document.createTextNode(_.value);u.push(R),w.append(R);continue}const L=(p=_==null?void 0:_.attributes)!=null&&p.xmlns?document.createElementNS(_.attributes.xmlns,T):document.createElement(T);if(w.append(L),_.attributes&&this.setAttributes({html:L,element:_,storage:t,intent:s,linkService:r}),((g=_.children)==null?void 0:g.length)>0)h.push([_,-1,L]);else if(_.value){const R=document.createTextNode(_.value);o&&t2.shouldBuildText(T)&&u.push(R),L.append(R)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Wy=1e3,QH=9,dg=new WeakSet;function n0(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class ez{static create(e){switch(e.data.annotationType){case As.LINK:return new YI(e);case As.TEXT:return new tz(e);case As.WIDGET:switch(e.data.fieldType){case"Tx":return new nz(e);case"Btn":return e.data.radioButton?new ZI(e):e.data.checkBox?new iz(e):new sz(e);case"Ch":return new az(e);case"Sig":return new rz(e)}return new Sg(e);case As.POPUP:return new GE(e);case As.FREETEXT:return new rM(e);case As.LINE:return new lz(e);case As.SQUARE:return new cz(e);case As.CIRCLE:return new uz(e);case As.POLYLINE:return new iM(e);case As.CARET:return new hz(e);case As.INK:return new _4(e);case As.POLYGON:return new fz(e);case As.HIGHLIGHT:return new sM(e);case As.UNDERLINE:return new dz(e);case As.SQUIGGLY:return new pz(e);case As.STRIKEOUT:return new gz(e);case As.STAMP:return new aM(e);case As.FILEATTACHMENT:return new mz(e);default:return new Qi(e)}}}var Fp,F1,P1,cy,jE;const NC=class NC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ne(this,cy);ne(this,Fp,null);ne(this,F1,!1);ne(this,P1,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return NC._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;x(this,Fp)||X(this,Fp,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&ae(this,cy,jE).call(this,t),(r=x(this,P1))==null||r.popup.updateEdited(e)}resetEdited(){var e;x(this,Fp)&&(ae(this,cy,jE).call(this,x(this,Fp).rect),(e=x(this,P1))==null||e.popup.resetEdited(),X(this,Fp,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Sg||(s.tabIndex=Wy);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof GE){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:o,height:c}=n0(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(w>0||_>0){const L=`calc(${w}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;a.borderRadius=L}else if(this instanceof ZI){const L=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=L}switch(t.borderStyle.style){case ox.SOLID:a.borderStyle="solid";break;case ox.DASHED:a.borderStyle="dashed";break;case ox.BEVELED:zn("Unimplemented border style: beveled");break;case ox.INSET:zn("Unimplemented border style: inset");break;case ox.UNDERLINE:a.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(X(this,F1,!0),a.borderColor=un.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):a.borderWidth=0}const u=un.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:m}=i.rawDims;a.left=`${100*(u[0]-g)/h}%`,a.top=`${100*(u[1]-m)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/h}%`,a.height=`${100*c/p}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=n0(this.data.rect);let o,c;e%180===0?(o=100*s/r,c=100*a/i):(o=100*a/r,c=100*s/i),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=EN[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:EN[`${a}_rgb`](o)})};return Yn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,_,T,L]=e.subarray(2,6);if(i===w&&s===_&&t===T&&r===L)return}const{style:a}=this.container;let o;if(x(this,F1)){const{borderColor:w,borderWidth:_}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const c=i-t,u=s-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const m=h.createElement("clipPath"),b=`clippath_${this.data.id}`;m.setAttribute("id",b),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let w=2,_=e.length;w<_;w+=8){const T=e[w],L=e[w+1],R=e[w+2],D=e[w+3],j=h.createElement("rect"),G=(R-t)/c,P=(s-L)/u,W=(T-R)/c,O=(L-D)/u;j.setAttribute("x",G),j.setAttribute("y",P),j.setAttribute("width",W),j.setAttribute("height",O),m.append(j),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${G}" y="${P}" width="${W}" height="${O}"/>`)}x(this,F1)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=X(this,P1,new GE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Kr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!dg.has(u)){zn(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:c,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&dg.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Fp=new WeakMap,F1=new WeakMap,P1=new WeakMap,cy=new WeakSet,jE=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:h}=n0(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*h/a}%`):this.setRotation(i)};let Qi=NC;var yl,W0,KI,JI;class YI extends Qi{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ne(this,yl);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(ae(this,yl,KI).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(ae(this,yl,JI).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ae(this,yl,W0).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),ae(this,yl,W0).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),ae(this,yl,W0).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ae(this,yl,W0).call(this),!this._fieldObjects){zn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:a,include:o}=r,c=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const m of s){const b=this._fieldObjects[m]||[];for(const{id:w}of b)g.add(w)}for(const m of Object.values(this._fieldObjects))for(const b of m)g.has(b.id)===o&&c.push(b)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const u=this.annotationStorage,h=[];for(const g of c){const{id:m}=g;switch(h.push(m),g.type){case"text":{const w=g.defaultValue||"";u.setValue(m,{value:w});break}case"checkbox":case"radiobutton":{const w=g.defaultValue===g.exportValues;u.setValue(m,{value:w});break}case"combobox":case"listbox":{const w=g.defaultValue||"";u.setValue(m,{value:w});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!dg.has(b)){zn(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}yl=new WeakSet,W0=function(){this.container.setAttribute("data-internal-link","")},KI=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},ae(this,yl,W0).call(this)},JI=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),ae(this,yl,W0).call(this)};class tz extends Qi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Sg extends Qi{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ao.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[c,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":un.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||QH,s=e.style;let a;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(rA*i))||1,p=u/h;a=Math.min(i,c(p/rA))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,c(u/rA))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=un.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class nz extends Sg{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),dg.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Wy,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";r.value=h.userValue=m,h.formattedValue=null});let p=g=>{const{formattedValue:m}=h;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{var w;if(h.focused)return;const{target:b}=m;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const b={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:_}=w.detail;h.formattedValue=_,_!=null&&w.target!==document.activeElement&&(w.target.value=_),e.setValue(t,{formattedValue:_})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var R;const{charLimit:_}=w.detail,{target:T}=w;if(_===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",_);let L=h.userValue;!L||L.length<=_||(L=L.slice(0,_),T.value=h.userValue=L,e.setValue(t,{value:L}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("keydown",m=>{var _;h.commitKey=1;let b=-1;if(m.key==="Escape"?b=0:m.key==="Enter"&&!this.data.multiLine?b=2:m.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:w}=m.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=p;p=null,r.addEventListener("blur",m=>{var w,_;if(!h.focused||!m.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(h.focused=!1);const{value:b}=m.target;h.userValue=b,h.lastCommittedValue!==b&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),g(m)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",m=>{var j;h.lastCommittedValue=null;const{data:b,target:w}=m,{value:_,selectionStart:T,selectionEnd:L}=w;let R=T,D=L;switch(m.inputType){case"deleteWordBackward":{const G=_.substring(0,T).match(/\w*[^\w]*$/);G&&(R-=G[0].length);break}case"deleteWordForward":{const G=_.substring(T).match(/^[^\w]*\w*/);G&&(D+=G[0].length);break}case"deleteContentBackward":T===L&&(R-=1);break;case"deleteContentForward":T===L&&(D+=1);break}m.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:b||"",willCommit:!1,selStart:R,selEnd:D}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class rz extends Sg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class iz extends Sg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return dg.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Wy,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,r)){const h=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(r,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ZI extends Sg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(dg.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Wy,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const h=a===u.detail.value;for(const p of this._getElementsByName(u.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class sz extends YI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class az extends Sg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");dg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Wy;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const p=h?"value":"textContent",{options:g,multiple:m}=i;return m?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=o(!1);const u=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){a==null||a();const m=g.detail.value,b=new Set(Array.isArray(m)?m:[m]);for(const w of i.options)w.selected=b.has(w.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const m=i.options,b=g.detail.remove;m[b].selected=!1,i.remove(b),m.length>0&&Array.prototype.findIndex.call(m,_=>_.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(g){const{index:m,displayValue:b,exportValue:w}=g.detail.insert,_=i.children[m],T=document.createElement("option");T.textContent=b,T.value=w,_?_.before(T):i.append(T),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},items(g){const{items:m}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of m){const{displayValue:w,exportValue:_}=b,T=document.createElement("option");T.textContent=w,T.value=_,i.append(T)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),c=o(!1)},indices(g){const m=new Set(g.detail.indices);for(const b of g.target.options)b.selected=m.has(b.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var m;const p=o(!0),g=o(!1);e.setValue(t,{value:p}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class GE extends Qi{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Qi._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new oz({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${p4}${r}`).join(",")),this.container}}var O1,r5,i5,B1,Pp,Pi,oh,U1,uy,fy,H1,lh,Vc,ch,hy,uh,dy,Op,Bp,Vr,Uw,qE,QI,eM,tM,nM,Hw,zw,VE;class oz{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:u,parentRect:h,open:p}){ne(this,Vr);ne(this,O1,ae(this,Vr,tM).bind(this));ne(this,r5,ae(this,Vr,VE).bind(this));ne(this,i5,ae(this,Vr,zw).bind(this));ne(this,B1,ae(this,Vr,Hw).bind(this));ne(this,Pp,null);ne(this,Pi,null);ne(this,oh,null);ne(this,U1,null);ne(this,uy,null);ne(this,fy,null);ne(this,H1,null);ne(this,lh,!1);ne(this,Vc,null);ne(this,ch,null);ne(this,hy,null);ne(this,uh,null);ne(this,dy,null);ne(this,Op,null);ne(this,Bp,!1);var g;X(this,Pi,e),X(this,dy,i),X(this,oh,a),X(this,uh,o),X(this,fy,c),X(this,Pp,t),X(this,hy,u),X(this,H1,h),X(this,uy,r),X(this,U1,v4.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",x(this,B1)),m.addEventListener("mouseenter",x(this,i5)),m.addEventListener("mouseleave",x(this,r5)),m.classList.add("popupTriggerArea");for(const m of r)(g=m.container)==null||g.addEventListener("keydown",x(this,O1));x(this,Pi).hidden=!0,p&&ae(this,Vr,Hw).call(this)}render(){if(x(this,Vc))return;const e=X(this,Vc,document.createElement("div"));if(e.className="popup",x(this,Pp)){const s=e.style.outlineColor=un.makeHexColor(...x(this,Pp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=un.makeHexColor(...x(this,Pp).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=x(this,dy),e.append(t),x(this,U1)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:x(this,U1).valueOf()})),t.append(s)}const i=x(this,Vr,Uw);if(i)XI.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(x(this,oh));e.append(s)}x(this,Pi).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];r.append(document.createTextNode(o)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;x(this,Op)||X(this,Op,{contentsObj:x(this,oh),richText:x(this,uh)}),e&&X(this,ch,null),t&&(X(this,uh,ae(this,Vr,eM).call(this,t)),X(this,oh,null)),(r=x(this,Vc))==null||r.remove(),X(this,Vc,null)}resetEdited(){var e;x(this,Op)&&({contentsObj:Ya(this,oh)._,richText:Ya(this,uh)._}=x(this,Op),X(this,Op,null),(e=x(this,Vc))==null||e.remove(),X(this,Vc,null),X(this,ch,null))}forceHide(){X(this,Bp,this.isVisible),x(this,Bp)&&(x(this,Pi).hidden=!0)}maybeShow(){x(this,Bp)&&(x(this,Vc)||ae(this,Vr,zw).call(this),X(this,Bp,!1),x(this,Pi).hidden=!1)}get isVisible(){return x(this,Pi).hidden===!1}}O1=new WeakMap,r5=new WeakMap,i5=new WeakMap,B1=new WeakMap,Pp=new WeakMap,Pi=new WeakMap,oh=new WeakMap,U1=new WeakMap,uy=new WeakMap,fy=new WeakMap,H1=new WeakMap,lh=new WeakMap,Vc=new WeakMap,ch=new WeakMap,hy=new WeakMap,uh=new WeakMap,dy=new WeakMap,Op=new WeakMap,Bp=new WeakMap,Vr=new WeakSet,Uw=function(){const e=x(this,uh),t=x(this,oh);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&x(this,uh).html||null},qE=function(){var e,t,r;return((r=(t=(e=x(this,Vr,Uw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},QI=function(){var e,t,r;return((r=(t=(e=x(this,Vr,Uw))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},eM=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:x(this,Vr,QI),fontSize:x(this,Vr,qE)?`calc(${x(this,Vr,qE)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},tM=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,lh))&&ae(this,Vr,Hw).call(this)},nM=function(){if(x(this,ch)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=x(this,fy);let a=!!x(this,H1),o=a?x(this,H1):x(this,hy);for(const b of x(this,uy))if(!o||un.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const c=un.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,p=c[0]+h,g=c[1];X(this,ch,[100*(p-i)/t,100*(g-s)/r]);const{style:m}=x(this,Pi);m.left=`${x(this,ch)[0]}%`,m.top=`${x(this,ch)[1]}%`},Hw=function(){X(this,lh,!x(this,lh)),x(this,lh)?(ae(this,Vr,zw).call(this),x(this,Pi).addEventListener("click",x(this,B1)),x(this,Pi).addEventListener("keydown",x(this,O1))):(ae(this,Vr,VE).call(this),x(this,Pi).removeEventListener("click",x(this,B1)),x(this,Pi).removeEventListener("keydown",x(this,O1)))},zw=function(){x(this,Vc)||this.render(),this.isVisible?x(this,lh)&&x(this,Pi).classList.add("focused"):(ae(this,Vr,nM).call(this),x(this,Pi).hidden=!1,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)+1e3)},VE=function(){x(this,Pi).classList.remove("focused"),!(x(this,lh)||!this.isVisible)&&(x(this,Pi).hidden=!0,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)-1e3)};class rM extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Hn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var py;class lz extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,py,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=n0(t.rect),s=this.svgFactory.create(r,i,!0),a=X(this,py,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap;var gy;class cz extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,gy,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=n0(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=X(this,gy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}gy=new WeakMap;var my;class uz extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,my,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=n0(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=X(this,my,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,my)}addHighlightArea(){this.container.classList.add("highlightArea")}}my=new WeakMap;var vy;class iM extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,vy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:a,height:o}=n0(t),c=this.svgFactory.create(a,o,!0);let u=[];for(let p=0,g=r.length;p<g;p+=2){const m=r[p]-t[0],b=t[3]-r[p+1];u.push(`${m},${b}`)}u=u.join(" ");const h=X(this,vy,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,vy)}addHighlightArea(){this.container.classList.add("highlightArea")}}vy=new WeakMap;class fz extends iM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hz extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xy,Up,yy,WE;class _4 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,yy);ne(this,xy,null);ne(this,Up,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Hn.HIGHLIGHT:Hn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:u}=ae(this,yy,WE).call(this,r,t),h=this.svgFactory.create(c,u,!0),p=X(this,xy,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",o);for(let g=0,m=i.length;g<m;g++){const b=this.svgFactory.createElement(this.svgElementName);x(this,Up).push(b),b.setAttribute("points",i[g].join(",")),p.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=x(this,xy);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,c=x(this,Up).length;o<c;o++)x(this,Up)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:c,height:u}=ae(this,yy,WE).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return x(this,Up)}addHighlightArea(){this.container.classList.add("highlightArea")}}xy=new WeakMap,Up=new WeakMap,yy=new WeakSet,WE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class sM extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Hn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class dz extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class pz extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class gz extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class aM extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Hn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var by,wy,$E;class mz extends Qi{constructor(t){var i;super(t,{isRenderable:!0});ne(this,wy);ne(this,by,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ae(this,wy,$E).bind(this)),X(this,by,i);const{isMac:s}=ao.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&ae(this,wy,$E).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return x(this,by)}addHighlightArea(){this.container.classList.add("highlightArea")}}by=new WeakMap,wy=new WeakSet,$E=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var _y,Hp,zp,Sy,_g,oM,XE;class vz{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ne(this,_g);ne(this,_y,null);ne(this,Hp,null);ne(this,zp,new Map);ne(this,Sy,null);this.div=e,X(this,_y,t),X(this,Hp,r),X(this,Sy,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return x(this,zp).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;fg(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new w4,annotationStorage:e.annotationStorage||new y4,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===As.POPUP;if(c){const p=i.get(o.id);if(!p)continue;s.elements=p}else{const{width:p,height:g}=n0(o.rect);if(p<=0||g<=0)continue}s.data=o;const u=ez.create(s);if(!u.isRenderable)continue;if(!c&&o.popupRef){const p=i.get(o.popupRef);p?p.push(u):i.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),await ae(this,_g,oM).call(this,h,o.id),u._isEditable&&(x(this,zp).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}ae(this,_g,XE).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,fg(t,{rotation:e.rotation}),ae(this,_g,XE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(x(this,zp).values())}getEditableAnnotation(e){return x(this,zp).get(e)}}_y=new WeakMap,Hp=new WeakMap,zp=new WeakMap,Sy=new WeakMap,_g=new WeakSet,oM=async function(e,t){var a,o;const r=e.firstChild||e,i=r.id=`${p4}${t}`,s=await((a=x(this,Sy))==null?void 0:a.getAriaAttributes(i));if(s)for(const[c,u]of s)r.setAttribute(c,u);this.div.append(e),(o=x(this,_y))==null||o.moveElementInDOM(this.div,e,r,!1)},XE=function(){if(!x(this,Hp))return;const e=this.div;for(const[t,r]of x(this,Hp)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}x(this,Hp).clear()};const Jb=/\r\n?|\n/g;var Wc,ll,Ay,jp,cl,hs,lM,cM,uM,jw,Th,Gw,qw,fM,KE,hM;const Jr=class Jr extends Ei{constructor(t){super({...t,name:"freeTextEditor"});ne(this,hs);ne(this,Wc);ne(this,ll,"");ne(this,Ay,`${this.id}-editor`);ne(this,jp,null);ne(this,cl);X(this,Wc,t.color||Jr._defaultColor||Ei._defaultLineColor),X(this,cl,t.fontSize||Jr._defaultFontSize)}static get _keyboardManager(){const t=Jr.prototype,r=a=>a.isEmpty(),i=hg.TRANSLATE_SMALL,s=hg.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new Vy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Ei.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ar.FREETEXT_SIZE:Jr._defaultFontSize=r;break;case ar.FREETEXT_COLOR:Jr._defaultColor=r;break}}updateParams(t,r){switch(t){case ar.FREETEXT_SIZE:ae(this,hs,lM).call(this,r);break;case ar.FREETEXT_COLOR:ae(this,hs,cM).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ar.FREETEXT_SIZE,Jr._defaultFontSize],[ar.FREETEXT_COLOR,Jr._defaultColor||Ei._defaultLineColor]]}get propertiesToUpdate(){return[[ar.FREETEXT_SIZE,x(this,cl)],[ar.FREETEXT_COLOR,x(this,Wc)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Jr._internalPadding*t,-(Jr._internalPadding+x(this,cl))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Hn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),X(this,jp,new AbortController);const t=this._uiManager.combinedSignal(x(this,jp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,Ay)),this._isDraggable=!0,(t=x(this,jp))==null||t.abort(),X(this,jp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=x(this,ll),r=X(this,ll,ae(this,hs,uM).call(this).trimEnd());if(t===r)return;const i=s=>{if(X(this,ll,s),!s){this.remove();return}ae(this,hs,qw).call(this),this._uiManager.rebuild(this),ae(this,hs,jw).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),ae(this,hs,jw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Jr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,Ay)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${x(this,cl)}px * var(--scale-factor))`,i.color=x(this,Wc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),d_(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,p]=this.pageDimensions,[g,m]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(o[0]-g)/h,w=r+this.height-(o[1]-m)/p;break;case 90:b=t+(o[0]-g)/h,w=r-(o[1]-m)/p,[c,u]=[u,-c];break;case 180:b=t-this.width+(o[0]-g)/h,w=r-(o[1]-m)/p,[c,u]=[-c,-u];break;case 270:b=t+(o[0]-g-this.height*p)/h,w=r+(o[1]-m-this.width*h)/p,[c,u]=[-u,c];break}this.setAt(b*s,w*a,c,u)}else this.setAt(t*s,r*a,this.width*s,this.height*a);ae(this,hs,qw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,w,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=ae(b=Jr,Th,KE).call(b,r.getData("text")||"").replaceAll(Jb,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const T=c.parentElement;if(p.push(c.nodeValue.slice(u).replaceAll(Jb,"")),T!==this.editorDiv){let L=h;for(const R of this.editorDiv.childNodes){if(R===T){L=p;continue}L.push(ae(w=Jr,Th,Gw).call(w,R))}}h.push(c.nodeValue.slice(0,u).replaceAll(Jb,""))}else if(c===this.editorDiv){let T=h,L=0;for(const R of this.editorDiv.childNodes)L++===u&&(T=p),T.push(ae(_=Jr,Th,Gw).call(_,R))}X(this,ll,`${h.join(`
`)}${s}${p.join(`
`)}`),ae(this,hs,qw).call(this);const g=new Range;let m=h.reduce((T,L)=>T+L.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const L=T.nodeValue.length;if(m<=L){g.setStart(T,m),g.setEnd(T,m);break}m-=L}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var o;let s=null;if(t instanceof rM){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:p,id:g,popupRef:m},textContent:b,textPosition:w,parent:{page:{pageNumber:_}}}=t;if(!b||b.length===0)return null;s=t={annotationType:Hn.FREETEXT,color:Array.from(u),fontSize:c,value:b.join(`
`),position:w,pageIndex:_-1,rect:h.slice(0),rotation:p,id:g,deleted:!1,popupRef:m}}const a=await super.deserialize(t,r,i);return X(a,cl,t.fontSize),X(a,Wc,un.makeHexColor(...t.color)),X(a,ll,ae(o=Jr,Th,KE).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Jr._internalPadding*this.parentScale,i=this.getRect(r,r),s=Ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,Wc)),a={annotationType:Hn.FREETEXT,color:s,fontSize:x(this,cl),value:ae(this,hs,fM).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!ae(this,hs,hM).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${x(this,cl)}px * var(--scale-factor))`,i.color=x(this,Wc),r.replaceChildren();for(const a of x(this,ll).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const s=Jr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:x(this,ll)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Wc=new WeakMap,ll=new WeakMap,Ay=new WeakMap,jp=new WeakMap,cl=new WeakMap,hs=new WeakSet,lM=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-x(this,cl))*this.parentScale),X(this,cl,s),ae(this,hs,jw).call(this)},i=x(this,cl);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ar.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},cM=function(t){const r=s=>{X(this,Wc,this.editorDiv.style.color=s)},i=x(this,Wc);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ar.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},uM=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ae(i=Jr,Th,Gw).call(i,s)),r=s);return t.join(`
`)},jw=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Th=new WeakSet,Gw=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Jb,"")},qw=function(){if(this.editorDiv.replaceChildren(),!!x(this,ll))for(const t of x(this,ll).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},fM=function(){return x(this,ll).replaceAll(""," ")},KE=function(t){return t.replaceAll(" ","")},hM=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,c)=>o!==s[c])||t.pageIndex!==a},ne(Jr,Th),Pt(Jr,"_freeTextDefaultContent",""),Pt(Jr,"_internalPadding",0),Pt(Jr,"_defaultColor",null),Pt(Jr,"_defaultFontSize",10),Pt(Jr,"_type","freetext"),Pt(Jr,"_editorType",Hn.FREETEXT);let YE=Jr;class Zt{toSVGPath(){Kr("Abstract method `toSVGPath` must be implemented.")}get box(){Kr("Abstract getter `box` must be implemented.")}serialize(e,t){Kr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Pt(Zt,"PRECISION",1e-4);var ul,$c,z1,j1,Zu,$n,Gp,qp,Ey,Ty,G1,q1,zd,Cy,s5,a5,Ns,Tx,dM,pM,gM,mM,vM,xM;const Vf=class Vf{constructor({x:e,y:t},r,i,s,a,o=0){ne(this,Ns);ne(this,ul);ne(this,$c,[]);ne(this,z1);ne(this,j1);ne(this,Zu,[]);ne(this,$n,new Float32Array(18));ne(this,Gp);ne(this,qp);ne(this,Ey);ne(this,Ty);ne(this,G1);ne(this,q1);ne(this,zd,[]);X(this,ul,r),X(this,q1,s*i),X(this,j1,a),x(this,$n).set([NaN,NaN,NaN,NaN,e,t],6),X(this,z1,o),X(this,Ty,x(Vf,Cy)*i),X(this,Ey,x(Vf,a5)*i),X(this,G1,i),x(this,zd).push(e,t)}isEmpty(){return isNaN(x(this,$n)[8])}add({x:e,y:t}){var O;X(this,Gp,e),X(this,qp,t);const[r,i,s,a]=x(this,ul);let[o,c,u,h]=x(this,$n).subarray(8,12);const p=e-u,g=t-h,m=Math.hypot(p,g);if(m<x(this,Ey))return!1;const b=m-x(this,Ty),w=b/m,_=w*p,T=w*g;let L=o,R=c;o=u,c=h,u+=_,h+=T,(O=x(this,zd))==null||O.push(e,t);const D=-T/b,j=_/b,G=D*x(this,q1),P=j*x(this,q1);return x(this,$n).set(x(this,$n).subarray(2,8),0),x(this,$n).set([u+G,h+P],4),x(this,$n).set(x(this,$n).subarray(14,18),12),x(this,$n).set([u-G,h-P],16),isNaN(x(this,$n)[6])?(x(this,Zu).length===0&&(x(this,$n).set([o+G,c+P],2),x(this,Zu).push(NaN,NaN,NaN,NaN,(o+G-r)/s,(c+P-i)/a),x(this,$n).set([o-G,c-P],14),x(this,$c).push(NaN,NaN,NaN,NaN,(o-G-r)/s,(c-P-i)/a)),x(this,$n).set([L,R,o,c,u,h],6),!this.isEmpty()):(x(this,$n).set([L,R,o,c,u,h],6),Math.abs(Math.atan2(R-c,L-o)-Math.atan2(T,_))<Math.PI/2?([o,c,u,h]=x(this,$n).subarray(2,6),x(this,Zu).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((c+h)/2-i)/a),[o,c,L,R]=x(this,$n).subarray(14,18),x(this,$c).push(NaN,NaN,NaN,NaN,((L+o)/2-r)/s,((R+c)/2-i)/a),!0):([L,R,o,c,u,h]=x(this,$n).subarray(0,6),x(this,Zu).push(((L+5*o)/6-r)/s,((R+5*c)/6-i)/a,((5*o+u)/6-r)/s,((5*c+h)/6-i)/a,((o+u)/2-r)/s,((c+h)/2-i)/a),[u,h,o,c,L,R]=x(this,$n).subarray(12,18),x(this,$c).push(((L+5*o)/6-r)/s,((R+5*c)/6-i)/a,((5*o+u)/6-r)/s,((5*c+h)/6-i)/a,((o+u)/2-r)/s,((c+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Zu),t=x(this,$c);if(isNaN(x(this,$n)[6])&&!this.isEmpty())return ae(this,Ns,dM).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ae(this,Ns,gM).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ae(this,Ns,pM).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new yM(e,t,r,i,s,a)}getOutlines(){var p;const e=x(this,Zu),t=x(this,$c),r=x(this,$n),[i,s,a,o]=x(this,ul),c=new Float32Array((((p=x(this,zd))==null?void 0:p.length)??0)+2);for(let g=0,m=c.length-2;g<m;g+=2)c[g]=(x(this,zd)[g]-i)/a,c[g+1]=(x(this,zd)[g+1]-s)/o;if(c[c.length-2]=(x(this,Gp)-i)/a,c[c.length-1]=(x(this,qp)-s)/o,isNaN(r[6])&&!this.isEmpty())return ae(this,Ns,mM).call(this,c);const u=new Float32Array(x(this,Zu).length+24+x(this,$c).length);let h=e.length;for(let g=0;g<h;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}h=ae(this,Ns,xM).call(this,u,h);for(let g=t.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(t[g+m])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[g+m],u[h+1]=t[g+m+1],h+=2}return ae(this,Ns,vM).call(this,u,h),this.newFreeDrawOutline(u,c,x(this,ul),x(this,G1),x(this,z1),x(this,j1))}};ul=new WeakMap,$c=new WeakMap,z1=new WeakMap,j1=new WeakMap,Zu=new WeakMap,$n=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Ey=new WeakMap,Ty=new WeakMap,G1=new WeakMap,q1=new WeakMap,zd=new WeakMap,Cy=new WeakMap,s5=new WeakMap,a5=new WeakMap,Ns=new WeakSet,Tx=function(){const e=x(this,$n).subarray(4,6),t=x(this,$n).subarray(16,18),[r,i,s,a]=x(this,ul);return[(x(this,Gp)+(e[0]-t[0])/2-r)/s,(x(this,qp)+(e[1]-t[1])/2-i)/a,(x(this,Gp)+(t[0]-e[0])/2-r)/s,(x(this,qp)+(t[1]-e[1])/2-i)/a]},dM=function(){const[e,t,r,i]=x(this,ul),[s,a,o,c]=ae(this,Ns,Tx).call(this);return`M${(x(this,$n)[2]-e)/r} ${(x(this,$n)[3]-t)/i} L${(x(this,$n)[4]-e)/r} ${(x(this,$n)[5]-t)/i} L${s} ${a} L${o} ${c} L${(x(this,$n)[16]-e)/r} ${(x(this,$n)[17]-t)/i} L${(x(this,$n)[14]-e)/r} ${(x(this,$n)[15]-t)/i} Z`},pM=function(e){const t=x(this,$c);e.push(`L${t[4]} ${t[5]} Z`)},gM=function(e){const[t,r,i,s]=x(this,ul),a=x(this,$n).subarray(4,6),o=x(this,$n).subarray(16,18),[c,u,h,p]=ae(this,Ns,Tx).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${c} ${u} L${h} ${p} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},mM=function(e){const t=x(this,$n),[r,i,s,a]=x(this,ul),[o,c,u,h]=ae(this,Ns,Tx).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(p,e,x(this,ul),x(this,G1),x(this,z1),x(this,j1))},vM=function(e,t){const r=x(this,$c);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},xM=function(e,t){const r=x(this,$n).subarray(4,6),i=x(this,$n).subarray(16,18),[s,a,o,c]=x(this,ul),[u,h,p,g]=ae(this,Ns,Tx).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c],t),t+=24},ne(Vf,Cy,8),ne(Vf,s5,2),ne(Vf,a5,x(Vf,Cy)+x(Vf,s5));let m_=Vf;var V1,Vp,fh,ky,fl,Ny,Xi,o5,bM;class yM extends Zt{constructor(t,r,i,s,a,o){super();ne(this,o5);ne(this,V1);ne(this,Vp,new Float32Array(4));ne(this,fh);ne(this,ky);ne(this,fl);ne(this,Ny);ne(this,Xi);X(this,Xi,t),X(this,fl,r),X(this,V1,i),X(this,Ny,s),X(this,fh,a),X(this,ky,o),this.lastPoint=[NaN,NaN],ae(this,o5,bM).call(this,o);const[c,u,h,p]=x(this,Vp);for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-u)/p;for(let g=0,m=r.length;g<m;g+=2)r[g]=(r[g]-c)/h,r[g+1]=(r[g+1]-u)/p}toSVGPath(){const t=[`M${x(this,Xi)[4]} ${x(this,Xi)[5]}`];for(let r=6,i=x(this,Xi).length;r<i;r+=6){if(isNaN(x(this,Xi)[r])){t.push(`L${x(this,Xi)[r+4]} ${x(this,Xi)[r+5]}`);continue}t.push(`C${x(this,Xi)[r]} ${x(this,Xi)[r+1]} ${x(this,Xi)[r+2]} ${x(this,Xi)[r+3]} ${x(this,Xi)[r+4]} ${x(this,Xi)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,c=s-r;let u,h;switch(a){case 0:u=Zt._rescale(x(this,Xi),t,s,o,-c),h=Zt._rescale(x(this,fl),t,s,o,-c);break;case 90:u=Zt._rescaleAndSwap(x(this,Xi),t,r,o,c),h=Zt._rescaleAndSwap(x(this,fl),t,r,o,c);break;case 180:u=Zt._rescale(x(this,Xi),i,r,-o,c),h=Zt._rescale(x(this,fl),i,r,-o,c);break;case 270:u=Zt._rescaleAndSwap(x(this,Xi),i,s,-o,-c),h=Zt._rescaleAndSwap(x(this,fl),i,s,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return x(this,Vp)}newOutliner(t,r,i,s,a,o=0){return new m_(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=x(this,Vp),[c,u,h,p]=x(this,V1),g=a*h,m=o*p,b=i*h+c,w=s*p+u,_=this.newOutliner({x:x(this,fl)[0]*g+b,y:x(this,fl)[1]*m+w},x(this,V1),x(this,Ny),t,x(this,ky),r??x(this,fh));for(let T=2;T<x(this,fl).length;T+=2)_.add({x:x(this,fl)[T]*g+b,y:x(this,fl)[T+1]*m+w});return _.getOutlines()}}V1=new WeakMap,Vp=new WeakMap,fh=new WeakMap,ky=new WeakMap,fl=new WeakMap,Ny=new WeakMap,Xi=new WeakMap,o5=new WeakSet,bM=function(t){const r=x(this,Xi);let i=r[4],s=r[5],a=i,o=s,c=i,u=s,h=i,p=s;const g=t?Math.max:Math.min;for(let b=6,w=r.length;b<w;b+=6){if(isNaN(r[b]))a=Math.min(a,r[b+4]),o=Math.min(o,r[b+5]),c=Math.max(c,r[b+4]),u=Math.max(u,r[b+5]),p<r[b+5]?(h=r[b+4],p=r[b+5]):p===r[b+5]&&(h=g(h,r[b+4]));else{const _=un.bezierBoundingBox(i,s,...r.slice(b,b+6));a=Math.min(a,_[0]),o=Math.min(o,_[1]),c=Math.max(c,_[2]),u=Math.max(u,_[3]),p<_[3]?(h=_[2],p=_[3]):p===_[3]&&(h=g(h,_[2]))}i=r[b+4],s=r[b+5]}const m=x(this,Vp);m[0]=a-x(this,fh),m[1]=o-x(this,fh),m[2]=c-a+2*x(this,fh),m[3]=u-o+2*x(this,fh),this.lastPoint=[h,p]};var Ry,Ly,jd,Xc,co,wM,Vw,_M,SM,ZE;class JE{constructor(e,t=0,r=0,i=!0){ne(this,co);ne(this,Ry);ne(this,Ly);ne(this,jd,[]);ne(this,Xc,[]);let s=1/0,a=-1/0,o=1/0,c=-1/0;const u=10**-4;for(const{x:_,y:T,width:L,height:R}of e){const D=Math.floor((_-t)/u)*u,j=Math.ceil((_+L+t)/u)*u,G=Math.floor((T-t)/u)*u,P=Math.ceil((T+R+t)/u)*u,W=[D,G,P,!0],O=[j,G,P,!1];x(this,jd).push(W,O),s=Math.min(s,D),a=Math.max(a,j),o=Math.min(o,G),c=Math.max(c,P)}const h=a-s+2*r,p=c-o+2*r,g=s-r,m=o-r,b=x(this,jd).at(i?-1:-2),w=[b[0],b[2]];for(const _ of x(this,jd)){const[T,L,R]=_;_[0]=(T-g)/h,_[1]=(L-m)/p,_[2]=(R-m)/p}X(this,Ry,new Float32Array([g,m,h,p])),X(this,Ly,w)}getOutlines(){x(this,jd).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of x(this,jd))t[3]?(e.push(...ae(this,co,ZE).call(this,t)),ae(this,co,_M).call(this,t)):(ae(this,co,SM).call(this,t),e.push(...ae(this,co,ZE).call(this,t)));return ae(this,co,wM).call(this,e)}}Ry=new WeakMap,Ly=new WeakMap,jd=new WeakMap,Xc=new WeakMap,co=new WeakSet,wM=function(e){const t=[],r=new Set;for(const a of e){const[o,c,u]=a;t.push([o,c,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],u=t[a+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,c,u,h,p]=a;r.delete(a);let g=o,m=c;for(s=[o,u],i.push(s);;){let b;if(r.has(h))b=h;else if(r.has(p))b=p;else break;r.delete(b),[o,c,u,h,p]=b,g!==o&&(s.push(g,m,o,m===c?c:u),g=o),m=m===c?u:c}s.push(g,m)}return new xz(i,x(this,Ry),x(this,Ly))},Vw=function(e){const t=x(this,Xc);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},_M=function([,e,t]){const r=ae(this,co,Vw).call(this,e);x(this,Xc).splice(r,0,[e,t])},SM=function([,e,t]){const r=ae(this,co,Vw).call(this,e);for(let i=r;i<x(this,Xc).length;i++){const[s,a]=x(this,Xc)[i];if(s!==e)break;if(s===e&&a===t){x(this,Xc).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=x(this,Xc)[i];if(s!==e)break;if(s===e&&a===t){x(this,Xc).splice(i,1);return}}},ZE=function(e){const[t,r,i]=e,s=[[t,r,i]],a=ae(this,co,Vw).call(this,i);for(let o=0;o<a;o++){const[c,u]=x(this,Xc)[o];for(let h=0,p=s.length;h<p;h++){const[,g,m]=s[h];if(!(u<=g||m<=c)){if(g>=c){if(m>u)s[h][1]=u;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=c,m>u&&s.push([t,u,m])}}}return s};var Iy,W1;class xz extends Zt{constructor(t,r,i){super();ne(this,Iy);ne(this,W1);X(this,W1,t),X(this,Iy,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of x(this,W1)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],c=r[a+1];o===i?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],c=i-t,u=s-r;for(const h of x(this,W1)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*c,p[g+1]=s-h[g+1]*u;o.push(p)}return o}get box(){return x(this,Iy)}get classNamesForOutlining(){return["highlightOutline"]}}Iy=new WeakMap,W1=new WeakMap;class QE extends m_{newFreeDrawOutline(e,t,r,i,s,a){return new yz(e,t,r,i,s,a)}}class yz extends yM{newOutliner(e,t,r,i,s,a=0){return new QE(e,t,r,i,s,a)}}var Yc,Wp,$1,Cs,My,X1,Dy,Fy,Gd,Kc,Y1,Py,Gr,eT,tT,nT,$0,AM,bd;const Mo=class Mo{constructor({editor:e=null,uiManager:t=null}){ne(this,Gr);ne(this,Yc,null);ne(this,Wp,null);ne(this,$1);ne(this,Cs,null);ne(this,My,!1);ne(this,X1,!1);ne(this,Dy,null);ne(this,Fy);ne(this,Gd,null);ne(this,Kc,null);ne(this,Y1);var r;e?(X(this,X1,!1),X(this,Y1,ar.HIGHLIGHT_COLOR),X(this,Dy,e)):(X(this,X1,!0),X(this,Y1,ar.HIGHLIGHT_DEFAULT_COLOR)),X(this,Kc,(e==null?void 0:e._uiManager)||t),X(this,Fy,x(this,Kc)._eventBus),X(this,$1,(e==null?void 0:e.color)||((r=x(this,Kc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),x(Mo,Py)||X(Mo,Py,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yn(this,"_keyboardManager",new Vy([[["Escape","mac+Escape"],Mo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mo.prototype._moveToPrevious],[["Home","mac+Home"],Mo.prototype._moveToBeginning],[["End","mac+End"],Mo.prototype._moveToEnd]]))}renderButton(){const e=X(this,Yc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=x(this,Kc)._signal;e.addEventListener("click",ae(this,Gr,$0).bind(this),{signal:t}),e.addEventListener("keydown",ae(this,Gr,nT).bind(this),{signal:t});const r=X(this,Wp,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=x(this,$1),e.append(r),e}renderMainDropdown(){const e=X(this,Cs,ae(this,Gr,eT).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,Yc)){ae(this,Gr,$0).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ae(this,Gr,tT).call(this,t,e)}_moveToNext(e){var t,r;if(!x(this,Gr,bd)){ae(this,Gr,$0).call(this,e);return}if(e.target===x(this,Yc)){(t=x(this,Cs).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=x(this,Cs))==null?void 0:t.firstChild)||e.target===x(this,Yc)){x(this,Gr,bd)&&this._hideDropdownFromKeyboard();return}x(this,Gr,bd)||ae(this,Gr,$0).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!x(this,Gr,bd)){ae(this,Gr,$0).call(this,e);return}(t=x(this,Cs).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!x(this,Gr,bd)){ae(this,Gr,$0).call(this,e);return}(t=x(this,Cs).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=x(this,Cs))==null||e.classList.add("hidden"),(t=x(this,Gd))==null||t.abort(),X(this,Gd,null)}_hideDropdownFromKeyboard(){var e;if(!x(this,X1)){if(!x(this,Gr,bd)){(e=x(this,Dy))==null||e.unselect();return}this.hideDropdown(),x(this,Yc).focus({preventScroll:!0,focusVisible:x(this,My)})}}updateColor(e){if(x(this,Wp)&&(x(this,Wp).style.backgroundColor=e),!x(this,Cs))return;const t=x(this,Kc).highlightColors.values();for(const r of x(this,Cs).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=x(this,Yc))==null||e.remove(),X(this,Yc,null),X(this,Wp,null),(t=x(this,Cs))==null||t.remove(),X(this,Cs,null)}};Yc=new WeakMap,Wp=new WeakMap,$1=new WeakMap,Cs=new WeakMap,My=new WeakMap,X1=new WeakMap,Dy=new WeakMap,Fy=new WeakMap,Gd=new WeakMap,Kc=new WeakMap,Y1=new WeakMap,Py=new WeakMap,Gr=new WeakSet,eT=function(){const e=document.createElement("div"),t=x(this,Kc)._signal;e.addEventListener("contextmenu",cu,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of x(this,Kc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",x(Mo,Py)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===x(this,$1)),s.addEventListener("click",ae(this,Gr,tT).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",ae(this,Gr,nT).bind(this),{signal:t}),e},tT=function(e,t){t.stopPropagation(),x(this,Fy).dispatch("switchannotationeditorparams",{source:this,type:x(this,Y1),value:e})},nT=function(e){Mo._keyboardManager.exec(this,e)},$0=function(e){if(x(this,Gr,bd)){this.hideDropdown();return}if(X(this,My,e.detail===0),x(this,Gd)||(X(this,Gd,new AbortController),window.addEventListener("pointerdown",ae(this,Gr,AM).bind(this),{signal:x(this,Kc).combinedSignal(x(this,Gd))})),x(this,Cs)){x(this,Cs).classList.remove("hidden");return}const t=X(this,Cs,ae(this,Gr,eT).call(this));x(this,Yc).append(t)},AM=function(e){var t;(t=x(this,Cs))!=null&&t.contains(e.target)||this.hideDropdown()},bd=function(){return x(this,Cs)&&!x(this,Cs).classList.contains("hidden")},ne(Mo,Py,null);let v_=Mo;var K1,Oy,hh,$p,J1,Po,By,Uy,Xp,Jl,hl,oa,Z1,dh,Na,Q1,Zl,Hy,Pn,rT,Ww,EM,TM,CM,iT,X0,rc,Mm,kM,$w,Cx,NM,RM,LM,IM,MM;const Er=class Er extends Ei{constructor(t){super({...t,name:"highlightEditor"});ne(this,Pn);ne(this,K1,null);ne(this,Oy,0);ne(this,hh);ne(this,$p,null);ne(this,J1,null);ne(this,Po,null);ne(this,By,null);ne(this,Uy,0);ne(this,Xp,null);ne(this,Jl,null);ne(this,hl,null);ne(this,oa,!1);ne(this,Z1,null);ne(this,dh);ne(this,Na,null);ne(this,Q1,"");ne(this,Zl);ne(this,Hy,"");this.color=t.color||Er._defaultColor,X(this,Zl,t.thickness||Er._defaultThickness),X(this,dh,t.opacity||Er._defaultOpacity),X(this,hh,t.boxes||null),X(this,Hy,t.methodOfCreation||""),X(this,Q1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(X(this,oa,!0),ae(this,Pn,Ww).call(this,t),ae(this,Pn,X0).call(this)):x(this,hh)&&(X(this,K1,t.anchorNode),X(this,Oy,t.anchorOffset),X(this,By,t.focusNode),X(this,Uy,t.focusOffset),ae(this,Pn,rT).call(this),ae(this,Pn,X0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Er.prototype;return Yn(this,"_keyboardManager",new Vy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,oa)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,Zl),methodOfCreation:x(this,Hy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Ei.initialize(t,r),Er._defaultColor||(Er._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ar.HIGHLIGHT_DEFAULT_COLOR:Er._defaultColor=r;break;case ar.HIGHLIGHT_THICKNESS:Er._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return x(this,Z1)}updateParams(t,r){switch(t){case ar.HIGHLIGHT_COLOR:ae(this,Pn,EM).call(this,r);break;case ar.HIGHLIGHT_THICKNESS:ae(this,Pn,TM).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ar.HIGHLIGHT_DEFAULT_COLOR,Er._defaultColor],[ar.HIGHLIGHT_THICKNESS,Er._defaultThickness]]}get propertiesToUpdate(){return[[ar.HIGHLIGHT_COLOR,this.color||Er._defaultColor],[ar.HIGHLIGHT_THICKNESS,x(this,Zl)||Er._defaultThickness],[ar.HIGHLIGHT_FREE,x(this,oa)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(X(this,J1,new v_({editor:this})),t.addColorPicker(x(this,J1))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ae(this,Pn,Cx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,ae(this,Pn,Cx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ae(this,Pn,iT).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ae(this,Pn,X0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?ae(this,Pn,iT).call(this):t&&(ae(this,Pn,X0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;x(this,oa)?(t=(t-this.rotation+360)%360,i=ae(s=Er,rc,Mm).call(s,x(this,Jl).box,t)):i=ae(a=Er,rc,Mm).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(x(this,hl),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(x(this,Na),{bbox:ae(o=Er,rc,Mm).call(o,x(this,Po).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();x(this,Q1)&&(t.setAttribute("aria-label",x(this,Q1)),t.setAttribute("role","mark")),x(this,oa)?t.classList.add("free"):this.div.addEventListener("keydown",ae(this,Pn,kM).bind(this),{signal:this._uiManager._signal});const r=X(this,Xp,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=x(this,$p);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),d_(this,x(this,Xp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,Na),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,Na),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ae(this,Pn,$w).call(this,!0);break;case 1:case 3:ae(this,Pn,$w).call(this,!1);break}}select(){var t;super.select(),x(this,Na)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,Na),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),x(this,Na)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,Na),{rootClass:{selected:!1}}),x(this,oa)||ae(this,Pn,$w).call(this,!1))}get _mustFixPosition(){return!x(this,oa)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(x(this,hl),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(x(this,Na),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:c,width:u,height:h}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),m=b=>{p.abort(),ae(this,rc,IM).call(this,t,b)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",bl,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",cu,{signal:g}),i.addEventListener("pointermove",ae(this,rc,LM).bind(this,t),{signal:g}),this._freeHighlight=new QE({x:s,y:a},[o,c,u,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var w,_,T,L;let s=null;if(t instanceof sM){const{data:{quadPoints:R,rect:D,rotation:j,id:G,color:P,opacity:W,popupRef:O},parent:{page:{pageNumber:ee}}}=t;s=t={annotationType:Hn.HIGHLIGHT,color:Array.from(P),opacity:W,quadPoints:R,boxes:null,pageIndex:ee-1,rect:D.slice(0),rotation:j,id:G,deleted:!1,popupRef:O}}else if(t instanceof _4){const{data:{inkLists:R,rect:D,rotation:j,id:G,color:P,borderStyle:{rawWidth:W},popupRef:O},parent:{page:{pageNumber:ee}}}=t;s=t={annotationType:Hn.HIGHLIGHT,color:Array.from(P),thickness:W,inkLists:R,boxes:null,pageIndex:ee-1,rect:D.slice(0),rotation:j,id:G,deleted:!1,popupRef:O}}const{color:a,quadPoints:o,inkLists:c,opacity:u}=t,h=await super.deserialize(t,r,i);h.color=un.makeHexColor(...a),X(h,dh,u||1),c&&X(h,Zl,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[p,g]=h.pageDimensions,[m,b]=h.pageTranslation;if(o){const R=X(h,hh,[]);for(let D=0;D<o.length;D+=8)R.push({x:(o[D]-m)/p,y:1-(o[D+1]-b)/g,width:(o[D+2]-o[D])/p,height:(o[D+1]-o[D+5])/g});ae(w=h,Pn,rT).call(w),ae(_=h,Pn,X0).call(_),h.rotate(h.rotation)}else if(c){X(h,oa,!0);const R=c[0],D={x:R[0]-m,y:g-(R[1]-b)},j=new QE(D,[0,0,p,g],1,x(h,Zl)/2,!0,.001);for(let W=0,O=R.length;W<O;W+=2)D.x=R[W]-m,D.y=g-(R[W+1]-b),j.add(D);const{id:G,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:j.toSVGPath()}},!0,!0);ae(T=h,Pn,Ww).call(T,{highlightOutlines:j.getOutlines(),highlightId:G,clipPathId:P}),ae(L=h,Pn,X0).call(L)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Ei._colorManager.convert(this.color),s={annotationType:Hn.HIGHLIGHT,color:i,opacity:x(this,dh),thickness:x(this,Zl),quadPoints:ae(this,Pn,NM).call(this),outlines:ae(this,Pn,RM).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ae(this,Pn,Cx).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ae(this,Pn,MM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};K1=new WeakMap,Oy=new WeakMap,hh=new WeakMap,$p=new WeakMap,J1=new WeakMap,Po=new WeakMap,By=new WeakMap,Uy=new WeakMap,Xp=new WeakMap,Jl=new WeakMap,hl=new WeakMap,oa=new WeakMap,Z1=new WeakMap,dh=new WeakMap,Na=new WeakMap,Q1=new WeakMap,Zl=new WeakMap,Hy=new WeakMap,Pn=new WeakSet,rT=function(){const t=new JE(x(this,hh),.001);X(this,Jl,t.getOutlines()),[this.x,this.y,this.width,this.height]=x(this,Jl).box;const r=new JE(x(this,hh),.0025,.001,this._uiManager.direction==="ltr");X(this,Po,r.getOutlines());const{lastPoint:i}=x(this,Po);X(this,Z1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Ww=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,g;if(X(this,Jl,t),X(this,Po,t.getNewOutline(x(this,Zl)/2+1.5,.0025)),r>=0)X(this,hl,r),X(this,$p,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),X(this,Na,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:x(this,Po).box,path:{d:x(this,Po).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(x(this,hl),{bbox:ae(p=Er,rc,Mm).call(p,x(this,Jl).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(x(this,Na),{bbox:ae(g=Er,rc,Mm).call(g,x(this,Po).box,m),path:{d:x(this,Po).toSVGPath()}})}const[a,o,c,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[m,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*b/m,this.height=u*m/b;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[m,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*b/m,this.height=u*m/b;break}}const{lastPoint:h}=x(this,Po);X(this,Z1,[(h[0]-a)/c,(h[1]-o)/u])},EM=function(t){const r=(a,o)=>{var c,u;this.color=a,X(this,dh,o),(c=this.parent)==null||c.drawLayer.updateProperties(x(this,hl),{root:{fill:a,"fill-opacity":o}}),(u=x(this,J1))==null||u.updateColor(a)},i=this.color,s=x(this,dh);this.addCommands({cmd:r.bind(this,t,Er._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ar.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},TM=function(t){const r=x(this,Zl),i=s=>{X(this,Zl,s),ae(this,Pn,CM).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ar.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},CM=function(t){if(!x(this,oa))return;ae(this,Pn,Ww).call(this,{highlightOutlines:x(this,Jl).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},iT=function(){x(this,hl)===null||!this.parent||(this.parent.drawLayer.remove(x(this,hl)),X(this,hl,null),this.parent.drawLayer.remove(x(this,Na)),X(this,Na,null))},X0=function(t=this.parent){x(this,hl)===null&&({id:Ya(this,hl)._,clipPathId:Ya(this,$p)._}=t.drawLayer.draw({bbox:x(this,Jl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":x(this,dh)},rootClass:{highlight:!0,free:x(this,oa)},path:{d:x(this,Jl).toSVGPath()}},!1,!0),X(this,Na,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:x(this,oa)},bbox:x(this,Po).box,path:{d:x(this,Po).toSVGPath()}},x(this,oa))),x(this,Xp)&&(x(this,Xp).style.clipPath=x(this,$p)))},rc=new WeakSet,Mm=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},kM=function(t){Er._keyboardManager.exec(this,t)},$w=function(t){if(!x(this,K1))return;const r=window.getSelection();t?r.setPosition(x(this,K1),x(this,Oy)):r.setPosition(x(this,By),x(this,Uy))},Cx=function(){return x(this,oa)?this.rotation:0},NM=function(){if(x(this,oa))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=x(this,hh),o=new Float32Array(a.length*8);let c=0;for(const{x:u,y:h,width:p,height:g}of a){const m=u*t+i,b=(1-h)*r+s;o[c]=o[c+4]=m,o[c+1]=o[c+3]=b,o[c+2]=o[c+6]=m+p*t,o[c+5]=o[c+7]=b-g*r,c+=8}return o},RM=function(t){return x(this,Jl).serialize(t,ae(this,Pn,Cx).call(this))},LM=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},IM=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},MM=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},ne(Er,rc),Pt(Er,"_defaultColor",null),Pt(Er,"_defaultOpacity",1),Pt(Er,"_defaultThickness",12),Pt(Er,"_type","highlight"),Pt(Er,"_editorType",Hn.HIGHLIGHT),Pt(Er,"_freeHighlightId",-1),Pt(Er,"_freeHighlight",null),Pt(Er,"_freeHighlightClipId","");let x_=Er;var Yp;class bz{constructor(){ne(this,Yp,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))this.updateProperty(t,r)}updateSVGProperty(e,t){x(this,Yp)[e]=t}toSVGProperties(){const e=x(this,Yp);return X(this,Yp,Object.create(null)),{root:e}}reset(){X(this,Yp,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Kr("Not implemented")}}Yp=new WeakMap;var dl,ev,Hs,Kp,Jp,qd,Vd,Wd,Zp,pr,aT,oT,lT,kx,DM,Xw,Nx,Dm;const tn=class tn extends Ei{constructor(t){super(t);ne(this,pr);ne(this,dl,null);ne(this,ev);Pt(this,"_drawId",null);X(this,ev,t.mustBeCommitted||!1),t.drawOutlines&&(ae(this,pr,aT).call(this,t),ae(this,pr,kx).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Kr("Not implemented")}static get typesMap(){Kr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(x(tn,Hs).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=c=>{var h;s.updateProperty(r,c);const u=x(this,dl).updateProperty(r,c);u&&ae(this,pr,Nx).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(x(this,dl).getPathResizingSVGProperties(ae(this,pr,Xw).call(this)),{bbox:ae(this,pr,Dm).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(x(this,dl).getPathResizedSVGProperties(ae(this,pr,Xw).call(this)),{bbox:ae(this,pr,Dm).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ae(this,pr,Dm).call(this,t,r)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(x(this,dl).getPathTranslatedSVGProperties(ae(this,pr,Xw).call(this),this.parentDimensions),{bbox:ae(this,pr,Dm).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,x(this,ev)&&(X(this,ev,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ae(this,pr,lT).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ae(this,pr,kx).call(this),ae(this,pr,Nx).call(this,x(this,dl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ae(this,pr,lT).call(this)):t&&(this._uiManager.addShouldRescale(this),ae(this,pr,kx).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties({bbox:ae(this,pr,Dm).call(this)},x(this,dl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ae(this,pr,Nx).call(this,x(this,dl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const r=document.createElement("div");t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,r,i,s,a){Kr("Not implemented")}static startDrawing(t,r,i,s){var _;const{target:a,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=s;if(x(tn,Vd)&&x(tn,Vd)!==h)return;const{viewport:{rotation:p}}=t,{width:g,height:m}=a.getBoundingClientRect(),b=X(tn,Kp,new AbortController),w=t.combinedSignal(b);if(x(tn,qd)||X(tn,qd,u),x(tn,Vd)??X(tn,Vd,h),window.addEventListener("pointerup",T=>{var L;x(tn,qd)===T.pointerId?this._endDraw(T):(L=x(tn,Wd))==null||L.delete(T.pointerId)},{signal:w}),window.addEventListener("pointercancel",T=>{var L;x(tn,qd)===T.pointerId?this._currentParent.endDrawingSession():(L=x(tn,Wd))==null||L.delete(T.pointerId)},{signal:w}),window.addEventListener("pointerdown",T=>{x(tn,Vd)===T.pointerType&&((x(tn,Wd)||X(tn,Wd,new Set)).add(T.pointerId),x(tn,Hs).isCancellable()&&(x(tn,Hs).removeLastElement(),x(tn,Hs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",cu,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",T=>{T.timeStamp===x(tn,Zp)&&bl(T)},{signal:w}),t.toggleDrawing(),(_=r._editorUndoBar)==null||_.hide(),x(tn,Hs)){t.drawLayer.updateProperties(this._currentDrawId,x(tn,Hs).startNew(o,c,g,m,p));return}r.updateUIForDefaultProperties(this),X(tn,Hs,this.createDrawerInstance(o,c,g,m,p)),X(tn,Jp,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(x(tn,Jp).toSVGProperties(),x(tn,Hs).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(X(tn,Zp,-1),!x(tn,Hs))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(x(tn,qd)===s){if(((a=x(tn,Wd))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,x(tn,Hs).add(r,i)),X(tn,Zp,t.timeStamp),bl(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,X(tn,Hs,null),X(tn,Jp,null),X(tn,Vd,null),X(tn,Zp,NaN)),x(tn,Kp)&&(x(tn,Kp).abort(),X(tn,Kp,null),X(tn,qd,NaN),X(tn,Wd,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),t&&r.drawLayer.updateProperties(this._currentDrawId,x(tn,Hs).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=x(tn,Hs),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:ar.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ar.DRAW_STEP),!x(tn,Hs).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:x(tn,Hs).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:x(tn,Jp),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){Kr("Not implemented")}static async deserialize(t,r,i){var p,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=r.viewport,u=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),ae(p=h,pr,aT).call(p,{drawOutlines:u}),ae(g=h,pr,kx).call(g),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return x(this,dl).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};dl=new WeakMap,ev=new WeakMap,Hs=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,qd=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,Zp=new WeakMap,pr=new WeakSet,aT=function({drawOutlines:t,drawId:r,drawingOptions:i}){X(this,dl,t),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=ae(this,pr,oT).call(this,t,this.parent),ae(this,pr,Nx).call(this,t.box)},oT=function(t,r){const{id:i}=r.drawLayer.draw(tn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},lT=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},kx=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ae(this,pr,oT).call(this,x(this,dl),t)}},DM=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},Xw=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Nx=function(t){if([this.x,this.y,this.width,this.height]=ae(this,pr,DM).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Dm=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[c,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(c/u),s*(u/c),i*(c/u)];case 5:return[1-r,t,i*(c/u),s*(u/c)];case 6:return[1-t-s*(u/c),1-r,s*(u/c),i*(c/u)];case 7:return[r-i*(c/u),1-t-s*(u/c),i*(c/u),s*(u/c)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/c),r,s*(u/c),i*(c/u)];case 13:return[1-r-i*(c/u),t-s*(u/c),i*(c/u),s*(u/c)];case 14:return[1-t,1-r-i*(c/u),s*(u/c),i*(c/u)];case 15:return[r,1-t,i*(c/u),s*(u/c)];default:return[t,r,i,s]}},Pt(tn,"_currentDrawId",-1),Pt(tn,"_currentParent",null),ne(tn,Hs,null),ne(tn,Kp,null),ne(tn,Jp,null),ne(tn,qd,NaN),ne(tn,Vd,null),ne(tn,Wd,null),ne(tn,Zp,NaN),Pt(tn,"_INNER_MARGIN",3);let sT=tn;var Qu,zs,js,Qp,tv,Qa,la,Ql,eg,tg,ng,nv,Yw;class wz{constructor(e,t,r,i,s,a){ne(this,nv);ne(this,Qu,new Float64Array(6));ne(this,zs);ne(this,js);ne(this,Qp);ne(this,tv);ne(this,Qa);ne(this,la,"");ne(this,Ql,0);ne(this,eg,new y_);ne(this,tg);ne(this,ng);X(this,tg,r),X(this,ng,i),X(this,Qp,s),X(this,tv,a),[e,t]=ae(this,nv,Yw).call(this,e,t);const o=X(this,zs,[NaN,NaN,NaN,NaN,e,t]);X(this,Qa,[e,t]),X(this,js,[{line:o,points:x(this,Qa)}]),x(this,Qu).set(o,0)}updateProperty(e,t){e==="stroke-width"&&X(this,tv,t)}isEmpty(){return!x(this,js)||x(this,js).length===0}isCancellable(){return x(this,Qa).length<=10}add(e,t){[e,t]=ae(this,nv,Yw).call(this,e,t);const[r,i,s,a]=x(this,Qu).subarray(2,6),o=e-s,c=t-a;return Math.hypot(x(this,tg)*o,x(this,ng)*c)<=2?null:(x(this,Qa).push(e,t),isNaN(r)?(x(this,Qu).set([s,a,e,t],2),x(this,zs).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(x(this,Qu)[0])&&x(this,zs).splice(6,6),x(this,Qu).set([r,i,s,a,e,t],0),x(this,zs).push(...Zt.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(x(this,Qa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){X(this,tg,r),X(this,ng,i),X(this,Qp,s),[e,t]=ae(this,nv,Yw).call(this,e,t);const a=X(this,zs,[NaN,NaN,NaN,NaN,e,t]);X(this,Qa,[e,t]);const o=x(this,js).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),x(this,js).push({line:a,points:x(this,Qa)}),x(this,Qu).set(a,0),X(this,Ql,0),this.toSVGPath(),null}getLastElement(){return x(this,js).at(-1)}setLastElement(e){return x(this,js)?(x(this,js).push(e),X(this,zs,e.line),X(this,Qa,e.points),X(this,Ql,0),{path:{d:this.toSVGPath()}}):x(this,eg).setLastElement(e)}removeLastElement(){if(!x(this,js))return x(this,eg).removeLastElement();x(this,js).pop(),X(this,la,"");for(let e=0,t=x(this,js).length;e<t;e++){const{line:r,points:i}=x(this,js)[e];X(this,zs,r),X(this,Qa,i),X(this,Ql,0),this.toSVGPath()}return{path:{d:x(this,la)}}}toSVGPath(){const e=Zt.svgRound(x(this,zs)[4]),t=Zt.svgRound(x(this,zs)[5]);if(x(this,Qa).length===2)return X(this,la,`${x(this,la)} M ${e} ${t} Z`),x(this,la);if(x(this,Qa).length<=6){const i=x(this,la).lastIndexOf("M");X(this,la,`${x(this,la).slice(0,i)} M ${e} ${t}`),X(this,Ql,6)}if(x(this,Qa).length===4){const i=Zt.svgRound(x(this,zs)[10]),s=Zt.svgRound(x(this,zs)[11]);return X(this,la,`${x(this,la)} L ${i} ${s}`),X(this,Ql,12),x(this,la)}const r=[];x(this,Ql)===0&&(r.push(`M ${e} ${t}`),X(this,Ql,6));for(let i=x(this,Ql),s=x(this,zs).length;i<s;i+=6){const[a,o,c,u,h,p]=x(this,zs).slice(i,i+6).map(Zt.svgRound);r.push(`C${a} ${o} ${c} ${u} ${h} ${p}`)}return X(this,la,x(this,la)+r.join(" ")),X(this,Ql,x(this,zs).length),x(this,la)}getOutlines(e,t,r,i){const s=x(this,js).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),x(this,eg).build(x(this,js),e,t,r,x(this,Qp),x(this,tv),i),X(this,Qu,null),X(this,zs,null),X(this,js,null),X(this,la,null),x(this,eg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Qu=new WeakMap,zs=new WeakMap,js=new WeakMap,Qp=new WeakMap,tv=new WeakMap,Qa=new WeakMap,la=new WeakMap,Ql=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,nv=new WeakSet,Yw=function(e,t){return Zt._normalizePoint(e,t,x(this,tg),x(this,ng),x(this,Qp))};var eo,zy,jy,pl,ef,tf,rv,iv,sv,ua,Gf,FM,PM,OM;const RC=class RC extends Zt{constructor(){super(...arguments);ne(this,ua);ne(this,eo);ne(this,zy,0);ne(this,jy);ne(this,pl);ne(this,ef);ne(this,tf);ne(this,rv);ne(this,iv);ne(this,sv)}build(t,r,i,s,a,o,c){X(this,ef,r),X(this,tf,i),X(this,rv,s),X(this,iv,a),X(this,sv,o),X(this,jy,c??0),X(this,pl,t),ae(this,ua,PM).call(this)}setLastElement(t){return x(this,pl).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return x(this,pl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of x(this,pl)){if(t.push(`M${Zt.svgRound(r[4])} ${Zt.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12){t.push(`L${Zt.svgRound(r[10])} ${Zt.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,c,u,h,p]=r.subarray(i,i+6).map(Zt.svgRound);t.push(`C${a} ${o} ${c} ${u} ${h} ${p}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],c=[],[u,h,p,g]=ae(this,ua,FM).call(this);let m,b,w,_,T,L,R,D,j;switch(x(this,iv)){case 0:j=Zt._rescale,m=t,b=r+s,w=i,_=-s,T=t+u*i,L=r+(1-h-g)*s,R=t+(u+p)*i,D=r+(1-h)*s;break;case 90:j=Zt._rescaleAndSwap,m=t,b=r,w=i,_=s,T=t+h*i,L=r+u*s,R=t+(h+g)*i,D=r+(u+p)*s;break;case 180:j=Zt._rescale,m=t+i,b=r,w=-i,_=s,T=t+(1-u-p)*i,L=r+h*s,R=t+(1-u)*i,D=r+(h+g)*s;break;case 270:j=Zt._rescaleAndSwap,m=t+i,b=r+s,w=-i,_=-s,T=t+(1-h-g)*i,L=r+(1-u-p)*s,R=t+(1-h)*i,D=r+(1-u)*s;break}for(const{line:G,points:P}of x(this,pl))o.push(j(G,m,b,w,_,a?new Array(G.length):null)),c.push(j(P,m,b,w,_,a?new Array(P.length):null));return{lines:o,points:c,rect:[T,L,R,D]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:c},rotation:u,thickness:h}){const p=[];let g,m,b,w,_;switch(u){case 0:_=Zt._rescale,g=-t/i,m=r/s+1,b=1/i,w=-1/s;break;case 90:_=Zt._rescaleAndSwap,g=-r/s,m=-t/i,b=1/s,w=1/i;break;case 180:_=Zt._rescale,g=t/i+1,m=-r/s,b=-1/i,w=1/s;break;case 270:_=Zt._rescaleAndSwap,g=r/s+1,m=t/i+1,b=-1/s,w=-1/i;break}if(!o){o=[];for(const L of c){const R=L.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const D=new Float32Array(3*(R-2));o.push(D);let[j,G,P,W]=L.subarray(0,4);D.set([NaN,NaN,NaN,NaN,j,G],0);for(let O=4;O<R;O+=2){const ee=L[O],B=L[O+1];D.set(Zt.createBezierPoints(j,G,P,W,ee,B),(O-2)*3),[j,G,P,W]=[P,W,ee,B]}}}for(let L=0,R=o.length;L<R;L++)p.push({line:_(o[L].map(D=>D??NaN),g,m,b,w),points:_(c[L].map(D=>D??NaN),g,m,b,w)});const T=new RC;return T.build(p,i,s,1,u,h,a),T}get box(){return x(this,eo)}updateProperty(t,r){return t==="stroke-width"?ae(this,ua,OM).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=ae(this,ua,Gf).call(this);X(this,ef,t),X(this,tf,r),X(this,rv,i);const[o,c]=ae(this,ua,Gf).call(this),u=o-s,h=c-a,p=x(this,eo);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p}updateRotation(t){return X(this,zy,t),{path:{transform:this.rotationTransform}}}get viewBox(){return x(this,eo).map(Zt.svgRound).join(" ")}get defaultProperties(){const[t,r]=x(this,eo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Zt.svgRound(t)} ${Zt.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=x(this,eo);let i=0,s=0,a=0,o=0,c=0,u=0;switch(x(this,zy)){case 90:s=r/t,a=-t/r,c=t;break;case 180:i=-1,o=-1,c=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Zt.svgRound(c)} ${Zt.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=ae(this,ua,Gf).call(this),[c,u,h,p]=x(this,eo);if(Math.abs(h-a)<=Zt.PRECISION||Math.abs(p-o)<=Zt.PRECISION){const _=t+i/2-(c+h/2),T=r+s/2-(u+p/2);return{path:{"transform-origin":`${Zt.svgRound(t)} ${Zt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${_} ${T})`}}}const g=(i-2*a)/(h-2*a),m=(s-2*o)/(p-2*o),b=h/i,w=p/s;return{path:{"transform-origin":`${Zt.svgRound(c)} ${Zt.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${w}) translate(${Zt.svgRound(a)} ${Zt.svgRound(o)}) scale(${g} ${m}) translate(${Zt.svgRound(-a)} ${Zt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=ae(this,ua,Gf).call(this),c=x(this,eo),[u,h,p,g]=c;if(c[0]=t,c[1]=r,c[2]=i,c[3]=s,Math.abs(p-a)<=Zt.PRECISION||Math.abs(g-o)<=Zt.PRECISION){const T=t+i/2-(u+p/2),L=r+s/2-(h+g/2);for(const{line:R,points:D}of x(this,pl))Zt._translate(R,T,L,R),Zt._translate(D,T,L,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Zt.svgRound(t)} ${Zt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*a)/(p-2*a),b=(s-2*o)/(g-2*o),w=-m*(u+a)+t+a,_=-b*(h+o)+r+o;if(m!==1||b!==1||w!==0||_!==0)for(const{line:T,points:L}of x(this,pl))Zt._rescale(T,w,_,m,b,T),Zt._rescale(L,w,_,m,b,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Zt.svgRound(t)} ${Zt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=x(this,eo),c=t-o[0],u=r-o[1];if(x(this,ef)===s&&x(this,tf)===a)for(const{line:h,points:p}of x(this,pl))Zt._translate(h,c,u,h),Zt._translate(p,c,u,p);else{const h=x(this,ef)/s,p=x(this,tf)/a;X(this,ef,s),X(this,tf,a);for(const{line:g,points:m}of x(this,pl))Zt._rescale(g,c,u,h,p,g),Zt._rescale(m,c,u,h,p,m);o[2]*=h,o[3]*=p}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Zt.svgRound(t)} ${Zt.svgRound(r)}`}}}get defaultSVGProperties(){const t=x(this,eo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Zt.svgRound(t[0])} ${Zt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};eo=new WeakMap,zy=new WeakMap,jy=new WeakMap,pl=new WeakMap,ef=new WeakMap,tf=new WeakMap,rv=new WeakMap,iv=new WeakMap,sv=new WeakMap,ua=new WeakSet,Gf=function(t=x(this,sv)){const r=x(this,jy)+t/2*x(this,rv);return x(this,iv)%180===0?[r/x(this,ef),r/x(this,tf)]:[r/x(this,tf),r/x(this,ef)]},FM=function(){const[t,r,i,s]=x(this,eo),[a,o]=ae(this,ua,Gf).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},PM=function(){const t=X(this,eo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of x(this,pl)){if(s.length<=12){for(let c=4,u=s.length;c<u;c+=6){const[h,p]=s.subarray(c,c+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],p),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],p)}continue}let a=s[4],o=s[5];for(let c=6,u=s.length;c<u;c+=6){const[h,p,g,m,b,w]=s.subarray(c,c+6);un.bezierBoundingBox(a,o,h,p,g,m,b,w,t),a=b,o=w}}const[r,i]=ae(this,ua,Gf).call(this);t[0]=Math.min(1,Math.max(0,t[0]-r)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+r)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},OM=function(t){const[r,i]=ae(this,ua,Gf).call(this);X(this,sv,t);const[s,a]=ae(this,ua,Gf).call(this),[o,c]=[s-r,a-i],u=x(this,eo);return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u};let y_=RC;var av;const LC=class LC extends bz{constructor(t){super();ne(this,av);X(this,av,t),super.updateProperties({fill:"none",stroke:Ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,r){t==="stroke-width"&&(r??(r=this["stroke-width"]),r*=x(this,av).realScale),super.updateSVGProperty(t,r)}clone(){const t=new LC(x(this,av));return t.updateAll(this),t}};av=new WeakMap;let cT=LC;var l5,BM;const Vm=class Vm extends sT{constructor(t){super({...t,name:"inkEditor"});ne(this,l5);this._willKeepAspectRatio=!0}static initialize(t,r){Ei.initialize(t,r),this._defaultDrawingOptions=new cT(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Yn(this,"typesMap",new Map([[ar.INK_THICKNESS,"stroke-width"],[ar.INK_COLOR,"stroke"],[ar.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new wz(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return y_.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof _4){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:p,opacity:g,borderStyle:{rawWidth:m},popupRef:b},parent:{page:{pageNumber:w}}}=t;s=t={annotationType:Hn.INK,color:Array.from(p),thickness:m,opacity:g,paths:{points:o},boxes:null,pageIndex:w-1,rect:c.slice(0),rotation:u,id:h,deleted:!1,popupRef:b}}const a=await super.deserialize(t,r,i);return a.annotationElementId=t.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Vm.getDefaultDrawingOptions({stroke:un.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,u={annotationType:Hn.INK,color:Ei._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!ae(this,l5,BM).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};l5=new WeakSet,BM=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==r[c])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Pt(Vm,"_type","ink"),Pt(Vm,"_editorType",Hn.INK),Pt(Vm,"_defaultDrawingOptions",null);let uT=Vm;var Ai,ca,$d,ph,Xd,ov,nf,rf,gl,lv,yr,Rx,Lx,Kw,hT,Jw,dT,Zw,UM;const Jx=class Jx extends Ei{constructor(t){super({...t,name:"stampEditor"});ne(this,yr);ne(this,Ai,null);ne(this,ca,null);ne(this,$d,null);ne(this,ph,null);ne(this,Xd,null);ne(this,ov,"");ne(this,nf,null);ne(this,rf,null);ne(this,gl,!1);ne(this,lv,!1);X(this,ph,t.bitmapUrl),X(this,Xd,t.bitmapFile)}static initialize(t,r){Ei.initialize(t,r)}static get supportedTypes(){return Yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Hn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;x(this,ca)&&(X(this,Ai,null),this._uiManager.imageManager.deleteId(x(this,ca)),(t=x(this,nf))==null||t.remove(),X(this,nf,null),x(this,rf)&&(clearTimeout(x(this,rf)),X(this,rf,null))),super.remove()}rebuild(){if(!this.parent){x(this,ca)&&ae(this,yr,Kw).call(this);return}super.rebuild(),this.div!==null&&(x(this,ca)&&x(this,nf)===null&&ae(this,yr,Kw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(x(this,$d)||x(this,Ai)||x(this,ph)||x(this,Xd)||x(this,ca))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),x(this,Ai)?ae(this,yr,hT).call(this):ae(this,yr,Kw).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;x(this,rf)!==null&&clearTimeout(x(this,rf)),X(this,rf,setTimeout(()=>{X(this,rf,null),ae(this,yr,dT).call(this)},200))}copyCanvas(t,r,i=!1){var m;t||(t=224);const{width:s,height:a}=x(this,Ai),o=new cE;let c=x(this,Ai),u=s,h=a,p=null;if(r){if(s>r||a>r){const W=Math.min(r/s,r/a);u=Math.floor(s*W),h=Math.floor(a*W)}p=document.createElement("canvas");const b=p.width=Math.ceil(u*o.sx),w=p.height=Math.ceil(h*o.sy);x(this,gl)||(c=ae(this,yr,Jw).call(this,b,w));const _=p.getContext("2d");_.filter=this._uiManager.hcmFilter;let T="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",L="#42414d");const R=15,D=R*o.sx,j=R*o.sy,G=new OffscreenCanvas(D*2,j*2),P=G.getContext("2d");P.fillStyle=T,P.fillRect(0,0,D*2,j*2),P.fillStyle=L,P.fillRect(0,0,D,j),P.fillRect(D,j,D,j),_.fillStyle=_.createPattern(G,"repeat"),_.fillRect(0,0,b,w),_.drawImage(c,0,0,c.width,c.height,0,0,b,w)}let g=null;if(i){let b,w;if(o.symmetric&&c.width<t&&c.height<t)b=c.width,w=c.height;else if(c=x(this,Ai),s>t||a>t){const L=Math.min(t/s,t/a);b=Math.floor(s*L),w=Math.floor(a*L),x(this,gl)||(c=ae(this,yr,Jw).call(this,b,w))}const T=new OffscreenCanvas(b,w).getContext("2d",{willReadFrequently:!0});T.drawImage(c,0,0,c.width,c.height,0,0,b,w),g={width:b,height:w,data:T.getImageData(0,0,b,w).data}}return{canvas:p,width:u,height:h,imageData:g}}getImageForAltText(){return x(this,nf)}static async deserialize(t,r,i){var w;let s=null;if(t instanceof aM){const{data:{rect:_,rotation:T,id:L,structParent:R,popupRef:D},container:j,parent:{page:{pageNumber:G}}}=t,P=j.querySelector("canvas"),W=i.imageManager.getFromCanvas(j.id,P);P.remove();const O=((w=await r._structTree.getAriaAttributes(`${p4}${L}`))==null?void 0:w.get("aria-label"))||"";s=t={annotationType:Hn.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:G-1,rect:_.slice(0),rotation:T,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:R,popupRef:D}}const a=await super.deserialize(t,r,i),{rect:o,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:p,accessibilityData:g}=t;h&&i.imageManager.isValidId(h)?(X(a,ca,h),c&&X(a,Ai,c)):X(a,ph,u),X(a,gl,p);const[m,b]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/b,a.annotationElementId=t.id||null,g&&(a.altTextData=g),a._initialData=s,X(a,lv,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Hn.STAMP,bitmapId:x(this,ca),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,gl),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=ae(this,yr,Zw).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=ae(this,yr,UM).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=x(this,gl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(x(this,ca)))r.stamps.set(x(this,ca),{area:o,serialized:i}),i.bitmap=ae(this,yr,Zw).call(this,!1);else if(x(this,gl)){const c=r.stamps.get(x(this,ca));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=ae(this,yr,Zw).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ai=new WeakMap,ca=new WeakMap,$d=new WeakMap,ph=new WeakMap,Xd=new WeakMap,ov=new WeakMap,nf=new WeakMap,rf=new WeakMap,gl=new WeakMap,lv=new WeakMap,yr=new WeakSet,Rx=function(t,r=!1){if(!t){this.remove();return}X(this,Ai,t.bitmap),r||(X(this,ca,t.id),X(this,gl,t.isSvg)),t.file&&X(this,ov,t.file.name),ae(this,yr,hT).call(this)},Lx=function(){if(X(this,$d,null),this._uiManager.enableWaiting(!1),!!x(this,nf)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Ai)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Ai)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Kw=function(){if(x(this,ca)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,ca)).then(i=>ae(this,yr,Rx).call(this,i,!0)).finally(()=>ae(this,yr,Lx).call(this));return}if(x(this,ph)){const i=x(this,ph);X(this,ph,null),this._uiManager.enableWaiting(!0),X(this,$d,this._uiManager.imageManager.getFromUrl(i).then(s=>ae(this,yr,Rx).call(this,s)).finally(()=>ae(this,yr,Lx).call(this)));return}if(x(this,Xd)){const i=x(this,Xd);X(this,Xd,null),this._uiManager.enableWaiting(!0),X(this,$d,this._uiManager.imageManager.getFromFile(i).then(s=>ae(this,yr,Rx).call(this,s)).finally(()=>ae(this,yr,Lx).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Jx.supportedTypesStr;const r=this._uiManager._signal;X(this,$d,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ae(this,yr,Rx).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ae(this,yr,Lx).call(this))),t.click()},hT=function(){var p;const{div:t}=this;let{width:r,height:i}=x(this,Ai);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const g=Math.min(o*s/r,o*a/i);r*=g,i*=g}const[c,u]=this.parentDimensions;this.setDims(r*c/s,i*u/a),this._uiManager.enableWaiting(!1);const h=X(this,nf,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/s,this.height=i/a,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ae(this,yr,dT).call(this),x(this,lv)||(this.parent.addUndoableEditor(this),X(this,lv,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,ov)&&h.setAttribute("aria-label",x(this,ov))},Jw=function(t,r){const{width:i,height:s}=x(this,Ai);let a=i,o=s,c=x(this,Ai);for(;a>2*t||o>2*r;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(a,o);p.getContext("2d").drawImage(c,0,0,u,h,0,0,a,o),c=p.transferToImageBitmap()}return c},dT=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new cE,o=Math.ceil(i*t*a.sx),c=Math.ceil(s*r*a.sy),u=x(this,nf);if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=x(this,gl)?x(this,Ai):ae(this,yr,Jw).call(this,o,c),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,o,c)},Zw=function(t){if(t){if(x(this,gl)){const s=this._uiManager.imageManager.getSvgUrl(x(this,ca));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=x(this,Ai),r.getContext("2d").drawImage(x(this,Ai),0,0),r.toDataURL()}if(x(this,gl)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*a0.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*a0.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(x(this,Ai),0,0,x(this,Ai).width,x(this,Ai).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(x(this,Ai))},UM=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Pt(Jx,"_type","stamp"),Pt(Jx,"_editorType",Hn.STAMP);let fT=Jx;var rg,cv,sf,Yd,gh,ec,Kd,uv,ig,Jc,mh,Ra,vh,ln,Jd,vi,HM,Bu,gT,mT,Qw;const Uc=class Uc{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:u,l10n:h}){ne(this,vi);ne(this,rg);ne(this,cv,!1);ne(this,sf,null);ne(this,Yd,null);ne(this,gh,null);ne(this,ec,new Map);ne(this,Kd,!1);ne(this,uv,!1);ne(this,ig,!1);ne(this,Jc,null);ne(this,mh,null);ne(this,Ra,null);ne(this,vh,null);ne(this,ln);const p=[...x(Uc,Jd).values()];if(!Uc._initialized){Uc._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),X(this,ln,e),this.pageIndex=t,this.div=r,X(this,rg,s),X(this,sf,a),this.viewport=u,X(this,Ra,c),this.drawLayer=o,this._structTree=i,x(this,ln).addLayer(this)}get isEmpty(){return x(this,ec).size===0}get isInvisible(){return this.isEmpty&&x(this,ln).getMode()===Hn.NONE}updateToolbar(e){x(this,ln).updateToolbar(e)}updateMode(e=x(this,ln).getMode()){switch(ae(this,vi,Qw).call(this),e){case Hn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Hn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Hn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of x(Uc,Jd).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=x(this,Ra))==null?void 0:t.div)}setEditingState(e){x(this,ln).setEditingState(e)}addCommands(e){x(this,ln).addCommands(e)}cleanUndoStack(e){x(this,ln).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=x(this,sf))==null||t.div.classList.toggle("disabled",!e)}async enable(){X(this,ig,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of x(this,ec).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(x(this,ln).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!x(this,sf)){X(this,ig,!1);return}const t=x(this,sf).getEditableAnnotations();for(const r of t){if(r.hide(),x(this,ln).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}X(this,ig,!1)}disable(){var i;X(this,uv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of x(this,ec).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(x(this,sf)){const s=x(this,sf).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(x(this,ln).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(x(this,ln).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}ae(this,vi,Qw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of x(Uc,Jd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),X(this,uv,!1)}getEditableAnnotation(e){var t;return((t=x(this,sf))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,ln).getActive()!==e&&x(this,ln).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=x(this,Ra))!=null&&e.div&&!x(this,vh)){X(this,vh,new AbortController);const t=x(this,ln).combinedSignal(x(this,vh));x(this,Ra).div.addEventListener("pointerdown",ae(this,vi,HM).bind(this),{signal:t}),x(this,Ra).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Ra))!=null&&e.div&&x(this,vh)&&(x(this,vh).abort(),X(this,vh,null),x(this,Ra).div.classList.remove("highlighting"))}enableClick(){if(x(this,Yd))return;X(this,Yd,new AbortController);const e=x(this,ln).combinedSignal(x(this,Yd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=x(this,Yd))==null||e.abort(),X(this,Yd,null)}attach(e){x(this,ec).set(e.id,e);const{annotationElementId:t}=e;t&&x(this,ln).isDeletedAnnotationElement(t)&&x(this,ln).removeDeletedAnnotationElement(e)}detach(e){var t;x(this,ec).delete(e.id),(t=x(this,rg))==null||t.removePointerInTextLayer(e.contentDiv),!x(this,uv)&&e.annotationElementId&&x(this,ln).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,ln).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,ln).addDeletedAnnotationElement(e.annotationElementId),Ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,ln).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!x(this,ig)),x(this,ln).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!x(this,gh)&&(e._focusEventsAllowed=!1,X(this,gh,setTimeout(()=>{X(this,gh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,ln)._signal}),t.focus())},0))),e._structTreeParentId=(r=x(this,rg))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return x(this,ln).getId()}combinedSignal(e){return x(this,ln).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=x(this,vi,Bu))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){x(this,ln).updateToolbar(e),x(this,ln).updateMode(e);const{offsetX:r,offsetY:i}=ae(this,vi,mT).call(this),s=this.getNextId(),a=ae(this,vi,gT).call(this,{parent:this,id:s,x:r,y:i,uiManager:x(this,ln),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=x(Uc,Jd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,x(this,ln)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=ae(this,vi,gT).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:x(this,ln),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(ae(this,vi,mT).call(this),!0)}setSelected(e){x(this,ln).setSelected(e)}toggleSelected(e){x(this,ln).toggleSelected(e)}unselect(e){x(this,ln).unselect(e)}pointerup(e){var r;const{isMac:t}=ao.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&x(this,Kd)&&(X(this,Kd,!1),!((r=x(this,vi,Bu))!=null&&r.isDrawer&&x(this,vi,Bu).supportMultipleDrawings))){if(!x(this,cv)){X(this,cv,!0);return}if(x(this,ln).getMode()===Hn.STAMP){x(this,ln).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(x(this,ln).getMode()===Hn.HIGHLIGHT&&this.enableTextSelection(),x(this,Kd)){X(this,Kd,!1);return}const{isMac:t}=ao.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(X(this,Kd,!0),(i=x(this,vi,Bu))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=x(this,ln).getActive();X(this,cv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),x(this,Jc)){x(this,vi,Bu).startDrawing(this,x(this,ln),!1,e);return}x(this,ln).setCurrentDrawingSession(this),X(this,Jc,new AbortController);const t=x(this,ln).combinedSignal(x(this,Jc));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(X(this,mh,null),this.commitOrRemove())},{signal:t}),x(this,vi,Bu).startDrawing(this,x(this,ln),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&X(this,mh,t);return}x(this,mh)&&setTimeout(()=>{var t;(t=x(this,mh))==null||t.focus(),X(this,mh,null)},0)}endDrawingSession(e=!1){return x(this,Jc)?(x(this,ln).setCurrentDrawingSession(null),x(this,Jc).abort(),X(this,Jc,null),X(this,mh,null),x(this,vi,Bu).endDrawing(e)):null}findNewParent(e,t,r){const i=x(this,ln).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return x(this,Jc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){x(this,Jc)&&x(this,vi,Bu).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=x(this,ln).getActive())==null?void 0:e.parent)===this&&(x(this,ln).commitOrRemove(),x(this,ln).setActiveEditor(null)),x(this,gh)&&(clearTimeout(x(this,gh)),X(this,gh,null));for(const r of x(this,ec).values())(t=x(this,rg))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,x(this,ec).clear(),x(this,ln).removeLayer(this)}render({viewport:e}){this.viewport=e,fg(this.div,e);for(const t of x(this,ln).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){x(this,ln).commitOrRemove(),ae(this,vi,Qw).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,fg(this.div,{rotation:r}),t!==r)for(const i of x(this,ec).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return x(this,ln).viewParameters.realScale}};rg=new WeakMap,cv=new WeakMap,sf=new WeakMap,Yd=new WeakMap,gh=new WeakMap,ec=new WeakMap,Kd=new WeakMap,uv=new WeakMap,ig=new WeakMap,Jc=new WeakMap,mh=new WeakMap,Ra=new WeakMap,vh=new WeakMap,ln=new WeakMap,Jd=new WeakMap,vi=new WeakSet,HM=function(e){x(this,ln).unselectAll();const{target:t}=e;if(t===x(this,Ra).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&x(this,Ra).div.contains(t)){const{isMac:r}=ao.platform;if(e.button!==0||e.ctrlKey&&r)return;x(this,ln).showAllEditors("highlight",!0,!0),x(this,Ra).div.classList.add("free"),this.toggleDrawing(),x_.startHighlighting(this,x(this,ln).direction==="ltr",{target:x(this,Ra).div,x:e.x,y:e.y}),x(this,Ra).div.addEventListener("pointerup",()=>{x(this,Ra).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:x(this,ln)._signal}),e.preventDefault()}},Bu=function(){return x(Uc,Jd).get(x(this,ln).getMode())},gT=function(e){const t=x(this,vi,Bu);return t?new t.prototype.constructor(e):null},mT=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,h=(a+c)/2-t,[p,g]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:p,offsetY:g}},Qw=function(){for(const e of x(this,ec).values())e.isEmpty()&&e.remove()},Pt(Uc,"_initialized",!1),ne(Uc,Jd,new Map([YE,uT,fT,x_].map(e=>[e._editorType,e])));let pT=Uc;var Zc,Gy,to,sg,c5,zM,cf,xT,jM,yT;const Ea=class Ea{constructor({pageIndex:e}){ne(this,cf);ne(this,Zc,null);ne(this,Gy,0);ne(this,to,new Map);ne(this,sg,new Map);this.pageIndex=e}setParent(e){if(!x(this,Zc)){X(this,Zc,e);return}if(x(this,Zc)!==e){if(x(this,to).size>0)for(const t of x(this,to).values())t.remove(),e.append(t);X(this,Zc,e)}}static get _svgFactory(){return Yn(this,"_svgFactory",new w4)}draw(e,t=!1,r=!1){const i=Ya(this,Gy)._++,s=ae(this,cf,xT).call(this),a=Ea._svgFactory.createElement("defs");s.append(a);const o=Ea._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),t&&x(this,sg).set(i,o);const u=r?ae(this,cf,jM).call(this,a,c):null,h=Ea._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(s,e),x(this,to).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=Ya(this,Gy)._++,i=ae(this,cf,xT).call(this),s=Ea._svgFactory.createElement("defs");i.append(s);const a=Ea._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=Ea._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=Ea._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Ea._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=Ea._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),c&&u.setAttribute("mask",`url(#${c})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),x(this,to).set(r,i),r}finalizeDraw(e,t){x(this,sg).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?x(this,to).get(e):e;if(o){if(r&&ae(this,cf,yT).call(this,o,r),i&&ae(c=Ea,c5,zM).call(c,o,i),s){const{classList:u}=o;for(const[h,p]of Object.entries(s))u.toggle(h,p)}if(a){const h=o.firstChild.firstChild;ae(this,cf,yT).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const r=x(this,to).get(e);r&&(x(t,Zc).append(r),x(this,to).delete(e),x(t,to).set(e,r))}remove(e){x(this,sg).delete(e),x(this,Zc)!==null&&(x(this,to).get(e).remove(),x(this,to).delete(e))}destroy(){X(this,Zc,null);for(const e of x(this,to).values())e.remove();x(this,to).clear(),x(this,sg).clear()}};Zc=new WeakMap,Gy=new WeakMap,to=new WeakMap,sg=new WeakMap,c5=new WeakSet,zM=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},cf=new WeakSet,xT=function(){const e=Ea._svgFactory.create(1,1,!0);return x(this,Zc).append(e),e.setAttribute("aria-hidden",!0),e},jM=function(e,t){const r=Ea._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Ea._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},yT=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},ne(Ea,c5);let vT=Ea;globalThis.pdfjsTestingUtils={HighlightOutliner:JE};kn.AbortException;kn.AnnotationEditorLayer;kn.AnnotationEditorParamsType;kn.AnnotationEditorType;kn.AnnotationEditorUIManager;kn.AnnotationLayer;kn.AnnotationMode;kn.ColorPicker;kn.DOMSVGFactory;kn.DrawLayer;kn.FeatureTest;var _z=kn.GlobalWorkerOptions;kn.ImageKind;kn.InvalidPDFException;kn.MissingPDFException;kn.OPS;kn.OutputScale;kn.PDFDataRangeTransport;kn.PDFDateString;kn.PDFWorker;kn.PasswordResponses;kn.PermissionFlag;kn.PixelsPerInch;kn.RenderingCancelledException;kn.TextLayer;kn.TouchManager;kn.UnexpectedResponseException;kn.Util;kn.VerbosityLevel;kn.XfaLayer;kn.build;kn.createValidAbsoluteUrl;kn.fetchData;var Sz=kn.getDocument;kn.getFilenameFromUrl;kn.getPdfFilenameFromUrl;kn.getXfaPageViewport;kn.isDataScheme;kn.isPdfFile;kn.noContextMenu;kn.normalizeUnicode;kn.setLayerDimensions;kn.shadow;kn.stopEvent;kn.version;_z.workerSrc="https://esm.sh/pdfjs-dist@4.0.379/build/pdf.worker.min.mjs";const Az={es:{title:"Plantillas para PDF",subtitle:"Define estructuras base para los documentos que generas y adjuntas.",newBtn:"Nueva Plantilla PDF",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas PDF guardadas an.",editTitle:"Editar Plantilla PDF",newTitle:"Nueva Plantilla PDF",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Encabezado Mdico, Factura Base, etc.",bodyLabel:"Contenido (Texto Enriquecido)",bodyPlaceholder:"Define aqu el texto base de tu PDF...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla",importPdf:"Importar desde PDF",extracting:"Extrayendo texto...",importSuccess:"Texto extrado correctamente.",importError:"Error al procesar el PDF."},en:{title:"PDF Templates",subtitle:"Define base structures for the documents you generate and attach.",newBtn:"New PDF Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No PDF templates saved yet.",editTitle:"Edit PDF Template",newTitle:"New PDF Template",nameLabel:"Template Name",namePlaceholder:"Medical Header, Base Invoice, etc.",bodyLabel:"Content (Rich Text)",bodyPlaceholder:"Define the base text of your PDF here...",updateBtn:"Update Template",saveBtn:"Save Template",importPdf:"Import from PDF",extracting:"Extracting text...",importSuccess:"Text extracted successfully.",importError:"Error processing PDF."}},Ez=({templates:n,onAction:e,lang:t})=>{const r=nt.useMemo(()=>Az[t],[t]),[i,s]=nt.useState(null),[a,o]=nt.useState(!1),[c,u]=nt.useState(!1),[h,p]=nt.useState(""),[g,m]=nt.useState({id:"",name:"",body:""}),b=nt.useRef(null),w=nt.useRef(null),_=n.filter(G=>G.name.toLowerCase().includes(h.toLowerCase()));nt.useEffect(()=>{(a||i)&&b.current&&b.current.innerHTML!==g.body&&(b.current.innerHTML=g.body)},[a,i,g.body]);const T=()=>{m({id:Date.now().toString(),name:"",body:""}),o(!0),s(null)},L=G=>{m(G),s(G),o(!1)},R=G=>{G.preventDefault(),i?e.update(g):e.add(g),o(!1),s(null)},D=G=>{document.execCommand(G,!1),b.current&&m(P=>({...P,body:b.current.innerHTML}))},j=async G=>{var W;const P=(W=G.target.files)==null?void 0:W[0];if(P){u(!0);try{const O=await P.arrayBuffer(),B=await Sz({data:O}).promise;let q="";for(let Q=1;Q<=B.numPages;Q++){const K=(await(await B.getPage(Q)).getTextContent()).items.map(ce=>ce.str).join(" ");q+=`<p>${K}</p>`}m(Q=>({...Q,name:Q.name||P.name.replace(".pdf",""),body:q}))}catch(O){console.error("Error al extraer PDF:",O),alert(r.importError)}finally{u(!1),w.current&&(w.current.value="")}}};return S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!a&&!i&&S.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[S.jsx(i0,{size:18})," ",r.newBtn]})]}),!a&&!i?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),S.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:h,onChange:G=>p(G.target.value)})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.map(G=>S.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>L(G),children:S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:G.name}),S.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:P=>{P.stopPropagation(),L(G)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:S.jsx(fv,{size:14})}),S.jsx("button",{onClick:P=>{P.stopPropagation(),e.delete(G.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:S.jsx(iu,{size:14})})]})]}),S.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:G.body.replace(/<[^>]*>?/gm," ")}})]})},G.id)),_.length===0&&S.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:h?r.noSearch:r.noTemplates})]})]}):S.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),S.jsx("button",{onClick:()=>{o(!1),s(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:20})})]}),S.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-3",children:[S.jsx("input",{type:"file",ref:w,accept:"application/pdf",className:"hidden",onChange:j}),S.jsxs("button",{type:"button",onClick:()=>{var G;return(G=w.current)==null?void 0:G.click()},disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold shadow-sm hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-50",children:[c?S.jsx(r0,{className:"animate-spin",size:18}):S.jsx(GL,{size:18}),c?r.extracting:r.importPdf]})]}),S.jsxs("form",{onSubmit:R,className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:g.name,onChange:G=>m({...g,name:G.target.value}),placeholder:r.namePlaceholder,required:!0})]}),S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(Qc,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),S.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[S.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[S.jsx("button",{type:"button",onClick:()=>D("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(o4,{size:16})}),S.jsx("button",{type:"button",onClick:()=>D("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(u4,{size:16})}),S.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),S.jsx("button",{type:"button",onClick:()=>D("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(f4,{size:16})})]}),S.jsx("div",{ref:b,contentEditable:!0,onInput:G=>{const P=G.currentTarget.innerHTML;m(W=>({...W,body:P}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),S.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[S.jsx(lf,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})},Tz={es:{title:"Opciones del Sistema",subtitle:"Configura perfiles de envo, integraciones y asociaciones de censo.",tabSmtp:"Servidores SMTP",tabIntegrations:"Integraciones",tabPdf:"Configuracin PDF",tabAssociations:"Asociaciones Correo",tabCc:"Copia (CC)",tabSecurity:"Seguridad",tabPreferences:"Preferencias",langLabel:"Idioma de la Aplicacin",langSpanish:"Espaol",langEnglish:"Ingls",themeLabel:"Apariencia",themeLight:"Modo Claro",themeDark:"Modo Oscuro",sizeLimitLabel:"Lmite individual de adjuntos (MB)",appTitleLabel:"Nombre de la Aplicacin",appTitlePlaceholder:"CDLVM",saveNotify:"Cambios aplicados instantneamente.",pdfLogoLabel:"Logo para Documentos PDF",pdfLogoDesc:"Este logo aparecer en todas las pginas de los PDF generados.",logoPosLabel:"Posicin del Logo",pageDimLabel:"Medidas y Formato de Pgina",pageDimHint:"Define el tamao base del papel para los reportes.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Carta (215.9 x 279.4 mm)",formatCustom:"Personalizado",width:"Ancho (mm)",height:"Alto (mm)",uploadLogo:"Subir Logo",removeLogo:"Eliminar Logo",assocTitle:"Asociaciones Cobertura-Correo",assocSubtitle:"Configura a quin y qu enviar automticamente para cada obra social.",newAssoc:"Nueva Asociacin",coverageName:"Nombre Cobertura (Exacto)",recipients:"Destinatarios (separar por comas)",subject:"Asunto del Correo",body:"Cuerpo del Correo",noAssoc:"No hay asociaciones configuradas.",editAssoc:"Editar Asociacin",deleteAssoc:"Eliminar asociacin?",saveAssoc:"Guardar Asociacin",ccTitle:"Correos para Copia (CC)",ccSubtitle:"Configura direcciones que aparecern como opciones rpidas al redactar.",ccLabel:"Etiqueta (Ej: Depto. Mdico)",ccEmail:"Correo Electrnico",ccVisible:"Visible en Redaccin",newCc:"Nueva Copia",noCc:"No hay correos CC configurados.",deleteCc:"Eliminar correo CC?",isolationColLabel:"Columna de Aislamiento",isolationColHint:'Columna que indica si el paciente requiere aislamiento (ej: "AISLAMIENTO").',isolationValueLabel:"Valor de Bsqueda para Aislamiento",isolationValueHint:"Solo se contarn pacientes cuyo valor en la columna coincida con este texto.",patientIdColLabel:"Columna ID Paciente (Clave nica)",patientIdColHint:"Columna para identificar pacientes nicos (DNI, NHC, etc.). Se usa para el Registro Histrico.",securityKeyLabel:"Clave de Acceso al Sistema",securityKeyHint:"Define una clave numrica de al menos 4 dgitos.",autoLockLabel:"Bloqueo Automtico por Inactividad (Minutos)",autoLockHint:"0 para desactivar. El sistema pedir la clave tras este tiempo sin uso.",keyMinError:"La clave debe tener al menos 4 nmeros."},en:{title:"System Options",subtitle:"Configure sending profiles, integrations, and census associations.",tabSmtp:"SMTP Servers",tabIntegrations:"Integrations",tabPdf:"PDF Configuration",tabAssociations:"Email Associations",tabCc:"Copy (CC)",tabSecurity:"Security",tabPreferences:"Preferences",langLabel:"Application Language",langSpanish:"Spanish",langEnglish:"English",themeLabel:"Appearance",themeLight:"Light Mode",themeDark:"Dark Mode",sizeLimitLabel:"Individual attachment limit (MB)",appTitleLabel:"Application Name",appTitlePlaceholder:"CDLVM",saveNotify:"Changes applied instantly.",pdfLogoLabel:"Logo for PDF Documents",pdfLogoDesc:"This logo will appear on all pages of the generated PDFs.",logoPosLabel:"Logo Position",pageDimLabel:"Page Measurements & Format",pageDimHint:"Define the base paper size for reports.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Letter (215.9 x 279.4 mm)",formatCustom:"Custom",width:"Width (mm)",height:"Height (mm)",uploadLogo:"Upload Logo",removeLogo:"Remove Logo",assocTitle:"Coverage-Email Associations",assocSubtitle:"Configure who and what to send automatically for each insurance provider.",newAssoc:"New Association",coverageName:"Coverage Name (Exact)",recipients:"Recipients (comma separated)",subject:"Email Subject",body:"Email Body",noAssoc:"No associations configured.",editAssoc:"Edit Association",deleteAssoc:"Delete association?",saveAssoc:"Save Association",ccTitle:"CC Email Addresses",ccSubtitle:"Configure addresses that will appear as quick options when composing.",ccLabel:"Label (e.g. Medical Dept.)",ccEmail:"Email Address",ccVisible:"Visible in Compose",newCc:"New CC",noCc:"No CC emails configured.",deleteCc:"Delete CC email?",isolationColLabel:"Isolation Column",isolationColHint:'Column that indicates if the patient requires isolation (e.g., "ISOLATION").',isolationValueLabel:"Isolation Search Value",isolationValueHint:"Only patients whose value matches this text will be counted.",patientIdColLabel:"Patient ID Column (Unique Key)",patientIdColHint:"Column used to identify unique patients (DNI, NHC, etc.). Used for the Historical Registry.",securityKeyLabel:"System Access Key",securityKeyHint:"Define a numeric key of at least 4 digits.",autoLockLabel:"Inactivity Auto-Lock (Minutes)",autoLockHint:"0 to disable. System will ask for the key after this idle time.",keyMinError:"The key must have at least 4 numbers."}},Cz=({smtpConfigs:n,onSmtpAction:e,activeSmtpId:t,sheetUrl:r,onSaveSheetUrl:i,lang:s,onLangChange:a,isDarkMode:o,onToggleMode:c,attachmentSizeLimit:u,onSaveAttachmentSizeLimit:h,pdfTemplates:p,onPdfTemplateAction:g,censusSettings:m,onSaveCensusSettings:b,notify:w})=>{var ye;const _=nt.useMemo(()=>Tz[s],[s]),[T,L]=nt.useState("smtp"),[R,D]=nt.useState(null),[j,G]=nt.useState(!1),[P,W]=nt.useState({id:"",coverageName:"",emails:"",subject:"",body:""}),[O,ee]=nt.useState(null),[B,q]=nt.useState(!1),[Q,re]=nt.useState({id:"",label:"",email:"",isVisible:!0}),ge=nt.useRef(null),K=fe=>{var Re;const Ae=(Re=fe.target.files)==null?void 0:Re[0];if(Ae){const et=new FileReader;et.onload=de=>{var gt;b({...m,pdfLogo:(gt=de.target)==null?void 0:gt.result})},et.readAsDataURL(Ae)}},ce=(fe,Ae)=>{b({...m,[fe]:Ae})},Te=()=>{re({id:Date.now().toString(),label:"",email:"",isVisible:!0}),q(!0),ee(null)},me=fe=>{re(fe),ee(fe),q(!1)},Oe=fe=>{fe.preventDefault();let Ae;O?Ae=(m.ccConfigs||[]).map(Re=>Re.id===O.id?Q:Re):Ae=[...m.ccConfigs||[],Q],b({...m,ccConfigs:Ae}),q(!1),ee(null),w(_.saveNotify,"success")},se=fe=>{if(window.confirm(_.deleteCc)){const Ae=(m.ccConfigs||[]).filter(Re=>Re.id!==fe);b({...m,ccConfigs:Ae}),w(_.saveNotify,"success")}},I=fe=>{const Ae=(m.ccConfigs||[]).map(Re=>Re.id===fe?{...Re,isVisible:!Re.isVisible}:Re);b({...m,ccConfigs:Ae})},U=()=>{W({id:Date.now().toString(),coverageName:"",emails:"",subject:"",body:""}),G(!0),D(null)},z=fe=>{W(fe),D(fe),G(!1)},Y=fe=>{fe.preventDefault();let Ae;R?Ae=(m.associations||[]).map(Re=>Re.id===R.id?P:Re):Ae=[...m.associations||[],P],b({...m,associations:Ae}),G(!1),D(null)},oe=fe=>{window.confirm(_.deleteAssoc)&&b({...m,associations:m.associations.filter(Ae=>Ae.id!==fe)})};return S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[S.jsxs("header",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:_.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:_.subtitle})]}),S.jsx("div",{className:"flex flex-wrap items-center gap-1 bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl w-fit border border-slate-200 dark:border-slate-800",children:[{id:"smtp",label:_.tabSmtp,icon:f_},{id:"integrations",label:_.tabIntegrations,icon:zL},{id:"pdf",label:_.tabPdf,icon:nE},{id:"assoc",label:_.tabAssociations,icon:rE},{id:"cc",label:_.tabCc,icon:wh},{id:"security",label:_.tabSecurity,icon:iE},{id:"preferences",label:_.tabPreferences,icon:aN}].map(fe=>S.jsxs("button",{onClick:()=>L(fe.id),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${T===fe.id?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[S.jsx(fe.icon,{size:16})," ",fe.label]},fe.id))}),S.jsxs("div",{className:"mt-8 transition-all",children:[T==="smtp"&&S.jsx(bU,{configs:n,onAction:e,activeId:t,lang:s}),T==="integrations"&&S.jsx(_U,{sheetUrl:r,onSave:i,lang:s}),T==="pdf"&&S.jsxs("div",{className:"space-y-12",children:[S.jsx(Ez,{templates:p,onAction:g,lang:s}),S.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-10",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[S.jsx(u5,{size:20,className:"text-indigo-50"})," ",_.pdfLogoLabel]}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:_.pdfLogoDesc})]}),S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center overflow-hidden",children:m.pdfLogo?S.jsx("img",{src:m.pdfLogo,className:"w-full h-full object-contain"}):S.jsx(iU,{className:"text-slate-300"})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{type:"file",ref:ge,className:"hidden",onChange:K,accept:"image/*"}),S.jsx("button",{onClick:()=>{var fe;return(fe=ge.current)==null?void 0:fe.click()},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold hover:bg-indigo-700 transition-all",children:_.uploadLogo}),m.pdfLogo&&S.jsx("button",{onClick:()=>ce("pdfLogo",void 0),className:"block text-xs font-bold text-red-500 hover:underline",children:_.removeLogo})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:_.logoPosLabel}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:["top-left","top-right","bottom-left","bottom-right"].map(fe=>S.jsx("button",{onClick:()=>ce("logoPosition",fe),className:`px-4 py-2 text-xs font-bold rounded-xl border transition-all ${m.logoPosition===fe?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:border-indigo-200"}`,children:fe.replace("-"," ").toUpperCase()},fe))})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[S.jsx(TB,{size:20,className:"text-indigo-500"})," ",_.pageDimLabel]}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:_.pageDimHint})]}),S.jsx("div",{className:"space-y-4",children:["a4","letter","custom"].map(fe=>S.jsxs("button",{onClick:()=>ce("pageFormat",fe),className:`w-full flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${m.pageFormat===fe?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-900/10 text-indigo-700 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 hover:border-indigo-200"}`,children:[S.jsx("span",{className:"font-bold text-sm",children:fe==="a4"?_.formatA4:fe==="letter"?_.formatLetter:_.formatCustom}),m.pageFormat===fe&&S.jsx(Bx,{size:18})]},fe))})]})]})})]}),T==="assoc"&&S.jsxs("div",{className:"space-y-8",children:[S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[S.jsx(rE,{className:"text-indigo-500"})," ",_.assocTitle]}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:_.assocSubtitle})]}),!j&&!R&&S.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all",children:[S.jsx(i0,{size:18})," ",_.newAssoc]})]}),!j&&!R?S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(m.associations||[]).map(fe=>S.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm transition-all group",children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:"COBERTURA"}),S.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white leading-none",children:fe.coverageName}),S.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-medium",children:[S.jsx(wh,{size:12})," ",fe.emails]})]}),S.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>z(fe),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:S.jsx(c_,{size:16})}),S.jsx("button",{onClick:()=>oe(fe.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:S.jsx(iu,{size:16})})]})]})},fe.id)),(m.associations||[]).length===0&&S.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 italic bg-slate-50 dark:bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:_.noAssoc})]}):S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white",children:R?_.editAssoc:_.newAssoc}),S.jsx("button",{onClick:()=>{G(!1),D(null)},className:"text-slate-400 hover:text-slate-600",children:S.jsx(so,{size:24})})]}),S.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.coverageName}),S.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.coverageName,onChange:fe=>W({...P,coverageName:fe.target.value})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.recipients}),S.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.emails,onChange:fe=>W({...P,emails:fe.target.value})})]}),S.jsxs("div",{className:"col-span-full space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.subject}),S.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.subject,onChange:fe=>W({...P,subject:fe.target.value})})]}),S.jsxs("div",{className:"col-span-full space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.body}),S.jsx("textarea",{rows:4,required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.body,onChange:fe=>W({...P,body:fe.target.value})})]})]}),S.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[S.jsx(lf,{size:18})," ",_.saveAssoc]})]})]})]}),T==="cc"&&S.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[S.jsx(wh,{className:"text-indigo-500"})," ",_.ccTitle]}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:_.ccSubtitle})]}),!B&&!O&&S.jsxs("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all shadow-md",children:[S.jsx(i0,{size:18})," ",_.newCc]})]}),!B&&!O?S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(m.ccConfigs||[]).map(fe=>S.jsx("div",{className:`p-6 rounded-2xl border transition-all group bg-white dark:bg-slate-900 ${fe.isVisible?"border-slate-200 dark:border-slate-800":"border-slate-100 dark:border-slate-800 opacity-60"}`,children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:fe.label||"Sn Etiqueta"}),!fe.isVisible&&S.jsx("span",{className:"text-[9px] bg-slate-100 dark:bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Oculto"})]}),S.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white leading-none",children:fe.email})]}),S.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>I(fe.id),className:"p-2 text-slate-400 hover:text-indigo-600",title:"Alternar Visibilidad",children:fe.isVisible?S.jsx(Px,{size:16}):S.jsx(tE,{size:16})}),S.jsx("button",{onClick:()=>me(fe),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:S.jsx(c_,{size:16})}),S.jsx("button",{onClick:()=>se(fe.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:S.jsx(iu,{size:16})})]})]})},fe.id)),(m.ccConfigs||[]).length===0&&S.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 italic bg-slate-50 dark:bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:_.noCc})]}):S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white",children:O?"Editar Copia":_.newCc}),S.jsx("button",{onClick:()=>{q(!1),ee(null)},className:"text-slate-400 hover:text-slate-600",children:S.jsx(so,{size:24})})]}),S.jsxs("form",{onSubmit:Oe,className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.ccLabel}),S.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:Q.label,onChange:fe=>re({...Q,label:fe.target.value}),placeholder:"Ej: Direccin Mdica"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:_.ccEmail}),S.jsx("input",{type:"email",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:Q.email,onChange:fe=>re({...Q,email:fe.target.value}),placeholder:"ejemplo@correo.com"})]}),S.jsx("div",{className:"col-span-full",children:S.jsxs("button",{type:"button",onClick:()=>re({...Q,isVisible:!Q.isVisible}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${Q.isVisible?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:[Q.isVisible?S.jsx(Px,{size:18}):S.jsx(tE,{size:18}),S.jsx("span",{className:"font-bold text-sm",children:_.ccVisible})]})})]}),S.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[S.jsx(lf,{size:18})," Guardar Copia"]})]})]})]}),T==="security"&&S.jsx("div",{className:"space-y-6 max-w-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(iE,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.securityKeyLabel})]}),S.jsx("input",{type:"password",pattern:"[0-9]*",inputMode:"numeric",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.appKey||"",onChange:fe=>ce("appKey",fe.target.value),placeholder:""}),S.jsx("p",{className:"text-[11px] text-slate-400 italic",children:_.securityKeyHint}),(((ye=m.appKey)==null?void 0:ye.length)||0)<4&&S.jsx("p",{className:"text-[10px] text-red-500 font-bold",children:_.keyMinError})]}),S.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(eE,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.autoLockLabel})]}),S.jsx("input",{type:"number",min:"0",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.autoLockMinutes||0,onChange:fe=>ce("autoLockMinutes",parseInt(fe.target.value))}),S.jsx("p",{className:"text-[11px] text-slate-400 italic",children:_.autoLockHint})]}),S.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex items-center gap-2 text-slate-400 text-xs",children:[S.jsx(Bx,{size:14}),_.saveNotify]})]})}),T==="preferences"&&S.jsx("div",{className:"space-y-6 max-w-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(fv,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.appTitleLabel})]}),S.jsx("input",{type:"text",placeholder:_.appTitlePlaceholder,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all font-semibold",value:m.appTitle||"",onChange:fe=>ce("appTitle",fe.target.value)})]}),S.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(aU,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.patientIdColLabel})]}),S.jsx("input",{type:"text",placeholder:"Ej: DNI, NHC, ID...",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.patientUniqueIdColumn||"",onChange:fe=>ce("patientUniqueIdColumn",fe.target.value)}),S.jsx("p",{className:"text-[11px] text-slate-400 italic",children:_.patientIdColHint})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(aB,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.langLabel})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:()=>a("es"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${s==="es"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[S.jsx("span",{children:""})," ",_.langSpanish]}),S.jsxs("button",{onClick:()=>a("en"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${s==="en"?"border-indigo-50 bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[S.jsx("span",{children:""})," ",_.langEnglish]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(aN,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.themeLabel})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:()=>o?c():null,className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-slate-800 text-slate-500 hover:bg-slate-800":"border-indigo-50 bg-indigo-50 text-indigo-600 shadow-sm"}`,children:[S.jsx(XB,{size:18})," ",_.themeLight]}),S.jsxs("button",{onClick:()=>o?null:c(),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-indigo-50 bg-indigo-900/20 text-indigo-400 shadow-sm":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[S.jsx(NB,{size:18})," ",_.themeDark]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(Wm,{size:20})}),S.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:_.sizeLimitLabel})]}),S.jsx("div",{className:"max-w-xs",children:S.jsx("input",{type:"number",min:"1",max:"100",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all font-semibold",value:u,onChange:fe=>h(Number(fe.target.value))})})]})]}),S.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex items-center gap-2 text-slate-400 text-xs",children:[S.jsx(Bx,{size:14}),_.saveNotify]})]})})]})]})};var kz={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nz,Rz;function Lz(){return{geminiUrl:Nz,vertexUrl:Rz}}function Iz(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=Lz();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ih{}function jt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const c=n[o];if(Array.isArray(t))for(let u=0;u<c.length;u++){const h=c[u];E(h,e.slice(s+1),t[u])}else for(const u of c)E(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const c=n[o];E(c[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Mz(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&s.length>o)for(let c=o;c<s.length;c++){const u=s[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}bT(n,i,s,0,a)}}function bT(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const c of o[a])bT(c,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=a[u];for(const[u,h]of Object.entries(c)){const p=[];for(const g of t.slice(r))g==="*"?p.push(u):p.push(g);E(a,p,h)}for(const u of o)delete a[u]}}else{const a=n;s in a&&bT(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S4(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dz(n){const e={},t=y(n,["operationName"]);t!=null&&E(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&E(e,["_url","resourceName"],r),e}function Fz(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],Oz(a)),e}function Pz(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response"]);return a!=null&&E(e,["response"],Bz(a)),e}function Oz(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Uz(a))),E(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Bz(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Hz(a))),E(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Uz(n){const e={},t=y(n,["video"]);return t!=null&&E(e,["video"],Wz(t)),e}function Hz(n){const e={},t=y(n,["_self"]);return t!=null&&E(e,["video"],$z(t)),e}function zz(n){const e={},t=y(n,["operationName"]);return t!=null&&E(e,["_url","operationName"],t),e}function jz(n){const e={},t=y(n,["operationName"]);return t!=null&&E(e,["_url","operationName"],t),e}function Gz(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response"]);return a!=null&&E(e,["response"],qz(a)),e}function qz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&E(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function GM(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response"]);return a!=null&&E(e,["response"],Vz(a)),e}function Vz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&E(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function Wz(n){const e={},t=y(n,["uri"]);t!=null&&E(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&E(e,["videoBytes"],S4(r));const i=y(n,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function $z(n){const e={},t=y(n,["gcsUri"]);t!=null&&E(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],S4(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TN;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TN||(TN={}));var CN;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(CN||(CN={}));var kN;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(kN||(kN={}));var eu;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(eu||(eu={}));var NN;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(NN||(NN={}));var RN;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(RN||(RN={}));var LN;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(LN||(LN={}));var IN;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(IN||(IN={}));var MN;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(MN||(MN={}));var DN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(DN||(DN={}));var FN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(FN||(FN={}));var PN;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(PN||(PN={}));var ON;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ON||(ON={}));var BN;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(BN||(BN={}));var UN;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(UN||(UN={}));var HN;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(HN||(HN={}));var zN;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(zN||(zN={}));var jN;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jN||(jN={}));var GN;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(GN||(GN={}));var qN;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(qN||(qN={}));var VN;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(VN||(VN={}));var b_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(b_||(b_={}));var WN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WN||(WN={}));var $N;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($N||($N={}));var XN;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(XN||(XN={}));var wT;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wT||(wT={}));var YN;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(YN||(YN={}));var KN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(KN||(KN={}));var _T;(function(n){n.COLLECTION="COLLECTION"})(_T||(_T={}));var JN;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(JN||(JN={}));var ZN;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZN||(ZN={}));var QN;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(QN||(QN={}));var e6;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(e6||(e6={}));var t6;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(t6||(t6={}));var n6;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(n6||(n6={}));var r6;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r6||(r6={}));var i6;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(i6||(i6={}));var s6;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(s6||(s6={}));var a6;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(a6||(a6={}));var o6;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(o6||(o6={}));var l6;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(l6||(l6={}));var c6;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(c6||(c6={}));var u6;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(u6||(u6={}));var f6;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(f6||(f6={}));var h6;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(h6||(h6={}));var d6;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(d6||(d6={}));var p6;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(p6||(p6={}));var g6;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(g6||(g6={}));var m6;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(m6||(m6={}));var v6;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(v6||(v6={}));var x6;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(x6||(x6={}));var y6;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(y6||(y6={}));var b6;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(b6||(b6={}));var w6;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(w6||(w6={}));var _6;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_6||(_6={}));var S6;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(S6||(S6={}));var Um;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Um||(Um={}));class ST{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class fx{get text(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1;const p=[];for(const g of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,b]of Object.entries(g))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(b!==null||b!==void 0)&&p.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const h=[];for(const p of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,m]of Object.entries(p))g!=="inlineData"&&(m!==null||m!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,s,a,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,s,a,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.output}}class A6{}class E6{}class Xz{}class Yz{}class Kz{}class Jz{}class T6{}class C6{}class k6{}class Zz{}class w_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new w_;let i;const s=e;return t?i=Pz(s):i=Fz(s),Object.assign(r,i),r}}class N6{}class R6{}class L6{}class I6{}class Qz{}class ej{}class tj{}class A4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new A4,s=Gz(e);return Object.assign(r,s),r}}class nj{}class rj{}class ij{}class M6{}class sj{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class aj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class E4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new E4,s=GM(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function br(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qM(n,e){const t=br(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function VM(n){return Array.isArray(n)?n.map(e=>__(e)):[__(n)]}function __(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function WM(n){const e=__(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $M(n){const e=__(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function D6(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function XM(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>D6(e)):[D6(n)]}function AT(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function F6(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function P6(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Oa(n){if(n==null)throw new Error("ContentUnion is required");return AT(n)?n:{role:"user",parts:XM(n)}}function T4(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Oa(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Oa(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Oa(t)):[Oa(e)]}function ic(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(F6(n)||P6(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Oa(n)]}const e=[],t=[],r=AT(n[0]);for(const i of n){const s=AT(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(F6(i)||P6(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:XM(t)}),e}function oj(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(eu).includes(t[0].toUpperCase())?t[0].toUpperCase():eu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(eu).includes(r.toUpperCase())?r.toUpperCase():eu.TYPE_UNSPECIFIED})}}function Ym(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&oj(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(eu).includes(o.toUpperCase())?o.toUpperCase():eu.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Ym(o);else if(r.includes(a)){const c=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}c.push(Ym(u))}e[a]=c}else if(i.includes(a)){const c={};for(const[u,h]of Object.entries(o))c[u]=Ym(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function C4(n){return Ym(n)}function k4(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function N4(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function mv(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ym(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ym(e.response));return n}function vv(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function lj(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Mh(n,e){if(typeof e!="string")throw new Error("name must be a string");return lj(n,e,"cachedContents")}function YM(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function p0(n){return S4(n)}function cj(n){return n!=null&&typeof n=="object"&&"name"in n}function uj(n){return n!=null&&typeof n=="object"&&"video"in n}function fj(n){return n!=null&&typeof n=="object"&&"uri"in n}function KM(n){var e;let t;if(cj(n)&&(t=n.name),!(fj(n)&&(t=n.uri,t===void 0))&&!(uj(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function JM(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function ZM(n){for(const e of["models","tunedModels","publisherModels"])if(hj(n,e))return n[e];return[]}function hj(n,e){return n!==null&&typeof n=="object"&&e in n}function dj(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function pj(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=dj(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function QM(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function gj(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function eD(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function xv(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function tD(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mj(n){const e={},t=y(n,["responsesFile"]);t!=null&&E(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Kj(a))),E(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["inlinedEmbedContentResponses"],s)}return e}function vj(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&E(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function xj(n){const e={},t=y(n,["format"]);t!=null&&E(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function e_(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&E(e,["state"],tD(i));const s=y(n,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const c=y(n,["metadata","model"]);c!=null&&E(e,["model"],c);const u=y(n,["metadata","output"]);return u!=null&&E(e,["dest"],mj(eD(u))),e}function ET(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(n,["state"]);i!=null&&E(e,["state"],tD(i));const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["createTime"]);a!=null&&E(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&E(e,["startTime"],o);const c=y(n,["endTime"]);c!=null&&E(e,["endTime"],c);const u=y(n,["updateTime"]);u!=null&&E(e,["updateTime"],u);const h=y(n,["model"]);h!=null&&E(e,["model"],h);const p=y(n,["inputConfig"]);p!=null&&E(e,["src"],yj(p));const g=y(n,["outputConfig"]);g!=null&&E(e,["dest"],vj(eD(g)));const m=y(n,["completionStats"]);return m!=null&&E(e,["completionStats"],m),e}function yj(n){const e={},t=y(n,["instancesFormat"]);t!=null&&E(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function bj(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&E(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Yj(n,a))),E(t,["requests","requests"],s)}return t}function wj(n){const e={},t=y(n,["format"]);t!=null&&E(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _j(n){const e={},t=y(n,["data"]);if(t!=null&&E(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Sj(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Aj(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Ej(n){const e={},t=y(n,["content"]);t!=null&&E(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Tj(r));const i=y(n,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&E(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const c=y(n,["index"]);c!=null&&E(e,["index"],c);const u=y(n,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const h=y(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),E(e,["safetyRatings"],g)}const p=y(n,["urlContextMetadata"]);return p!=null&&E(e,["urlContextMetadata"],p),e}function Tj(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function nD(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>rG(s))),E(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&E(e,["role"],r),e}function Cj(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function kj(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],xj(gj(i))),t}function O6(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["src"]);i!=null&&E(t,["batch","inputConfig"],bj(n,QM(n,i)));const s=y(e,["config"]);return s!=null&&Cj(s,t),t}function Nj(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["model"],br(n,r));const i=y(e,["src"]);i!=null&&E(t,["inputConfig"],wj(QM(n,i)));const s=y(e,["config"]);return s!=null&&kj(s,t),t}function Rj(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),t}function Lj(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["src"]);i!=null&&E(t,["batch","inputConfig"],Bj(n,i));const s=y(e,["config"]);return s!=null&&Rj(s,t),t}function Ij(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Mj(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Dj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&E(e,["name"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);return s!=null&&E(e,["error"],s),e}function Fj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&E(e,["name"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);return s!=null&&E(e,["error"],s),e}function Pj(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=T4(n,r);Array.isArray(s)&&(s=s.map(a=>a)),E(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(E(t,["_self"],Oj(i,t)),Mz(t,{"requests[].*":"requests[].request.*"})),t}function Oj(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Bj(n,e){const t={},r=y(e,["fileName"]);r!=null&&E(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&E(t,["requests"],Pj(n,i)),t}function Uj(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&E(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Hj(n){const e={},t=y(n,["id"]);t!=null&&E(e,["id"],t);const r=y(n,["args"]);r!=null&&E(e,["args"],r);const i=y(n,["name"]);if(i!=null&&E(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zj(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&E(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&E(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jj(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],nD(Oa(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&E(r,["topP"],a);const o=y(e,["topK"]);o!=null&&E(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&E(r,["candidateCount"],c);const u=y(e,["maxOutputTokens"]);u!=null&&E(r,["maxOutputTokens"],u);const h=y(e,["stopSequences"]);h!=null&&E(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&E(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&E(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&E(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&E(r,["frequencyPenalty"],b);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const _=y(e,["responseMimeType"]);_!=null&&E(r,["responseMimeType"],_);const T=y(e,["responseSchema"]);T!=null&&E(r,["responseSchema"],C4(T));const L=y(e,["responseJsonSchema"]);if(L!=null&&E(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=y(e,["safetySettings"]);if(t!==void 0&&R!=null){let Q=R;Array.isArray(Q)&&(Q=Q.map(re=>iG(re))),E(t,["safetySettings"],Q)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let Q=vv(D);Array.isArray(Q)&&(Q=Q.map(re=>aG(mv(re)))),E(t,["tools"],Q)}const j=y(e,["toolConfig"]);if(t!==void 0&&j!=null&&E(t,["toolConfig"],sG(j)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=y(e,["cachedContent"]);t!==void 0&&G!=null&&E(t,["cachedContent"],Mh(n,G));const P=y(e,["responseModalities"]);P!=null&&E(r,["responseModalities"],P);const W=y(e,["mediaResolution"]);W!=null&&E(r,["mediaResolution"],W);const O=y(e,["speechConfig"]);if(O!=null&&E(r,["speechConfig"],k4(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=y(e,["thinkingConfig"]);ee!=null&&E(r,["thinkingConfig"],ee);const B=y(e,["imageConfig"]);B!=null&&E(r,["imageConfig"],Xj(B));const q=y(e,["enableEnhancedCivicAnswers"]);if(q!=null&&E(r,["enableEnhancedCivicAnswers"],q),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Gj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Ej(u))),E(e,["candidates"],c)}const i=y(n,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&E(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function qj(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Vj(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],xv(n,r)),t}function Wj(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function $j(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function Xj(n){const e={},t=y(n,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&E(e,["imageSize"],r),y(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yj(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["request","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let o=ic(i);Array.isArray(o)&&(o=o.map(c=>nD(c))),E(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&E(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&E(t,["request","generationConfig"],jj(n,a,y(t,["request"],{}))),t}function Kj(n){const e={},t=y(n,["response"]);t!=null&&E(e,["response"],Gj(t));const r=y(n,["error"]);return r!=null&&E(e,["error"],r),e}function Jj(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Zj(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),t}function Qj(n){const e={},t=y(n,["config"]);return t!=null&&Jj(t,e),e}function eG(n){const e={},t=y(n,["config"]);return t!=null&&Zj(t,e),e}function tG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>e_(a))),E(e,["batchJobs"],s)}return e}function nG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ET(a))),E(e,["batchJobs"],s)}return e}function rG(n){const e={},t=y(n,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&E(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&E(e,["fileData"],Uj(s));const a=y(n,["functionCall"]);a!=null&&E(e,["functionCall"],Hj(a));const o=y(n,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&E(e,["inlineData"],_j(c));const u=y(n,["text"]);u!=null&&E(e,["text"],u);const h=y(n,["thought"]);h!=null&&E(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&E(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&E(e,["videoMetadata"],g),e}function iG(n){const e={},t=y(n,["category"]);if(t!=null&&E(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function sG(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&E(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&E(e,["functionCallingConfig"],zj(r)),e}function aG(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&E(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&E(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&E(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),E(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&E(e,["googleMaps"],Wj(a));const o=y(n,["googleSearch"]);o!=null&&E(e,["googleSearch"],$j(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&E(e,["googleSearchRetrieval"],c);const u=y(n,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ch;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ch||(Ch={}));class Ag{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oG extends Ih{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ag(Ch.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=O6(this.apiClient,e),r=t._url,i=jt("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,c=o.requests,u=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=g,p.request=m}u.push(p)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Nj(this.apiClient,e);return o=jt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ET(h))}else{const u=O6(this.apiClient,e);return o=jt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>e_(h))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lj(this.apiClient,e);return s=jt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>e_(c))}}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Vj(this.apiClient,e);return o=jt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ET(h))}else{const u=qj(this.apiClient,e);return o=jt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>e_(h))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Aj(this.apiClient,e);a=jt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Sj(this.apiClient,e);a=jt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=eG(e);return o=jt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=nG(h),g=new M6;return Object.assign(g,p),g})}else{const u=Qj(e);return o=jt("batches",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=tG(h),g=new M6;return Object.assign(g,p),g})}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Mj(this.apiClient,e);return o=jt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Fj(h))}else{const u=Ij(this.apiClient,e);return o=jt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Dj(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lG(n){const e={},t=y(n,["data"]);if(t!=null&&E(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function B6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>LG(s))),E(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&E(e,["role"],r),e}function cG(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=ic(a);Array.isArray(h)&&(h=h.map(p=>B6(p))),E(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],B6(Oa(o)));const c=y(n,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>MG(p))),E(e,["tools"],h)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&E(e,["toolConfig"],IG(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function uG(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let p=ic(a);Array.isArray(p)&&(p=p.map(g=>g)),E(e,["contents"],p)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],Oa(o));const c=y(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>DG(g))),E(e,["tools"],p)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&E(e,["toolConfig"],u);const h=y(n,["kmsKeyName"]);return e!==void 0&&h!=null&&E(e,["encryption_spec","kmsKeyName"],h),t}function fG(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["model"],qM(n,r));const i=y(e,["config"]);return i!=null&&cG(i,t),t}function hG(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["model"],qM(n,r));const i=y(e,["config"]);return i!=null&&uG(i,t),t}function dG(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],Mh(n,r)),t}function pG(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],Mh(n,r)),t}function gG(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function mG(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function vG(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&E(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function xG(n){const e={},t=y(n,["id"]);t!=null&&E(e,["id"],t);const r=y(n,["args"]);r!=null&&E(e,["args"],r);const i=y(n,["name"]);if(i!=null&&E(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yG(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&E(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&E(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bG(n){const e={},t=y(n,["description"]);t!=null&&E(e,["description"],t);const r=y(n,["name"]);r!=null&&E(e,["name"],r);const i=y(n,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&E(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&E(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wG(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],Mh(n,r)),t}function _G(n,e){const t={},r=y(e,["name"]);return r!=null&&E(t,["_url","name"],Mh(n,r)),t}function SG(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function AG(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function EG(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function TG(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function CG(n){const e={},t=y(n,["config"]);return t!=null&&EG(t,e),e}function kG(n){const e={},t=y(n,["config"]);return t!=null&&TG(t,e),e}function NG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["cachedContents"],s)}return e}function RG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["cachedContents"],s)}return e}function LG(n){const e={},t=y(n,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&E(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&E(e,["fileData"],vG(s));const a=y(n,["functionCall"]);a!=null&&E(e,["functionCall"],xG(a));const o=y(n,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&E(e,["inlineData"],lG(c));const u=y(n,["text"]);u!=null&&E(e,["text"],u);const h=y(n,["thought"]);h!=null&&E(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&E(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&E(e,["videoMetadata"],g),e}function IG(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&E(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&E(e,["functionCallingConfig"],yG(r)),e}function MG(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&E(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&E(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&E(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),E(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&E(e,["googleMaps"],SG(a));const o=y(n,["googleSearch"]);o!=null&&E(e,["googleSearch"],AG(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&E(e,["googleSearchRetrieval"],c);const u=y(n,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function DG(n){const e={},t=y(n,["retrieval"]);t!=null&&E(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&E(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&E(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&E(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>bG(g))),E(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&E(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=y(n,["googleSearchRetrieval"]);u!=null&&E(e,["googleSearchRetrieval"],u);const h=y(n,["urlContext"]);return h!=null&&E(e,["urlContext"],h),e}function FG(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),t}function PG(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),t}function OG(n,e){const t={},r=y(e,["name"]);r!=null&&E(t,["_url","name"],Mh(n,r));const i=y(e,["config"]);return i!=null&&FG(i,t),t}function BG(n,e){const t={},r=y(e,["name"]);r!=null&&E(t,["_url","name"],Mh(n,r));const i=y(e,["config"]);return i!=null&&PG(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UG extends Ih{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ag(Ch.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=hG(this.apiClient,e);return o=jt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const u=fG(this.apiClient,e);return o=jt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=_G(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const u=wG(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=pG(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=mG(h),g=new L6;return Object.assign(g,p),g})}else{const u=dG(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=gG(h),g=new L6;return Object.assign(g,p),g})}}async update(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=BG(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const u=OG(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=kG(e);return o=jt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=RG(h),g=new I6;return Object.assign(g,p),g})}else{const u=CG(e);return o=jt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=NG(h),g=new I6;return Object.assign(g,p),g})}}}function S_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function U6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nn(n){return this instanceof Nn?(this.v=n,this):new Nn(n)}function su(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(b){return Promise.resolve(b).then(m,p)}}function o(m,b){r[m]&&(i[m]=function(w){return new Promise(function(_,T){s.push([m,w,_,T])>1||c(m,w)})},b&&(i[m]=b(i[m])))}function c(m,b){try{u(r[m](b))}catch(w){g(s[0][3],w)}}function u(m){m.value instanceof Nn?Promise.resolve(m.value.v).then(h,p):g(s[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,b){m(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function au(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof U6=="function"?U6(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,c){a=n[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HG(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:rD(t)}function rD(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zG(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function H6(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!rD(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class jG{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new GG(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GG{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),zG(s)}async sendMessage(e){var t;await this.sendPromise;const r=Oa(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const c=await i,u=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(o=h.slice(p))!==null&&o!==void 0?o:[]);const m=u?[u]:[];this.recordHistory(r,m,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Oa(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?H6(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return su(this,arguments,function*(){var i,s,a,o,c,u;const h=[];try{for(var p=!0,g=au(e),m;m=yield Nn(g.next()),i=m.done,!i;p=!0){o=m.value,p=!1;const b=o;if(HG(b)){const w=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;w!==void 0&&h.push(w)}yield yield Nn(b)}}catch(b){s={error:b}}finally{try{!p&&!i&&(a=g.return)&&(yield Nn(a.call(g)))}finally{if(s)throw s.error}}this.recordHistory(t,h)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...H6(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n2 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n2.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qG(n){const e={},t=y(n,["file"]);return t!=null&&E(e,["file"],t),e}function VG(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function WG(n){const e={},t=y(n,["name"]);return t!=null&&E(e,["_url","file"],KM(t)),e}function $G(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function XG(n){const e={},t=y(n,["name"]);return t!=null&&E(e,["_url","file"],KM(t)),e}function YG(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function KG(n){const e={},t=y(n,["config"]);return t!=null&&YG(t,e),e}function JG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZG extends Ih{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ag(Ch.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=KG(e);return s=jt("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=JG(c),h=new nj;return Object.assign(h,u),h})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=qG(e);return s=jt("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=VG(c),h=new rj;return Object.assign(h,u),h})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=XG(e);return s=jt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=WG(e);return s=jt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=$G(c),h=new ij;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_(n){const e={},t=y(n,["data"]);if(t!=null&&E(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function QG(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>gq(s))),E(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&E(e,["role"],r),e}function eq(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&E(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function tq(n){const e={},t=y(n,["id"]);t!=null&&E(e,["id"],t);const r=y(n,["args"]);r!=null&&E(e,["args"],r);const i=y(n,["name"]);if(i!=null&&E(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nq(n){const e={},t=y(n,["description"]);t!=null&&E(e,["description"],t);const r=y(n,["name"]);r!=null&&E(e,["name"],r);const i=y(n,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&E(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&E(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function rq(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&E(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&E(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&E(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&E(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const c=y(n,["logprobs"]);c!=null&&E(e,["logprobs"],c);const u=y(n,["maxOutputTokens"]);u!=null&&E(e,["maxOutputTokens"],u);const h=y(n,["mediaResolution"]);h!=null&&E(e,["mediaResolution"],h);const p=y(n,["presencePenalty"]);p!=null&&E(e,["presencePenalty"],p);const g=y(n,["responseLogprobs"]);g!=null&&E(e,["responseLogprobs"],g);const m=y(n,["responseMimeType"]);m!=null&&E(e,["responseMimeType"],m);const b=y(n,["responseModalities"]);b!=null&&E(e,["responseModalities"],b);const w=y(n,["responseSchema"]);w!=null&&E(e,["responseSchema"],w);const _=y(n,["routingConfig"]);_!=null&&E(e,["routingConfig"],_);const T=y(n,["seed"]);T!=null&&E(e,["seed"],T);const L=y(n,["speechConfig"]);L!=null&&E(e,["speechConfig"],L);const R=y(n,["stopSequences"]);R!=null&&E(e,["stopSequences"],R);const D=y(n,["temperature"]);D!=null&&E(e,["temperature"],D);const j=y(n,["thinkingConfig"]);j!=null&&E(e,["thinkingConfig"],j);const G=y(n,["topK"]);G!=null&&E(e,["topK"],G);const P=y(n,["topP"]);if(P!=null&&E(e,["topP"],P),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function iq(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function sq(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function aq(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","maxOutputTokens"],c);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","mediaResolution"],u);const h=y(n,["seed"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","speechConfig"],N4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&E(e,["setup","systemInstruction"],QG(Oa(b)));const w=y(n,["tools"]);if(e!==void 0&&w!=null){let G=vv(w);Array.isArray(G)&&(G=G.map(P=>vq(mv(P)))),E(e,["setup","tools"],G)}const _=y(n,["sessionResumption"]);e!==void 0&&_!=null&&E(e,["setup","sessionResumption"],mq(_));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&E(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&E(e,["setup","realtimeInputConfig"],R);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&E(e,["setup","contextWindowCompression"],D);const j=y(n,["proactivity"]);if(e!==void 0&&j!=null&&E(e,["setup","proactivity"],j),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function oq(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],rq(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","maxOutputTokens"],c);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","mediaResolution"],u);const h=y(n,["seed"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","speechConfig"],N4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&E(e,["setup","systemInstruction"],Oa(b));const w=y(n,["tools"]);if(e!==void 0&&w!=null){let P=vv(w);Array.isArray(P)&&(P=P.map(W=>xq(mv(W)))),E(e,["setup","tools"],P)}const _=y(n,["sessionResumption"]);e!==void 0&&_!=null&&E(e,["setup","sessionResumption"],_);const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&E(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&E(e,["setup","realtimeInputConfig"],R);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&E(e,["setup","contextWindowCompression"],D);const j=y(n,["proactivity"]);e!==void 0&&j!=null&&E(e,["setup","proactivity"],j);const G=y(n,["explicitVadSignal"]);return e!==void 0&&G!=null&&E(e,["setup","explicitVadSignal"],G),t}function lq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["setup","model"],br(n,r));const i=y(e,["config"]);return i!=null&&E(t,["config"],aq(i,t)),t}function cq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["setup","model"],br(n,r));const i=y(e,["config"]);return i!=null&&E(t,["config"],oq(i,t)),t}function uq(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&E(e,["musicGenerationConfig"],t),e}function fq(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["weightedPrompts"],r)}return e}function hq(n){const e={},t=y(n,["media"]);if(t!=null){let u=VM(t);Array.isArray(u)&&(u=u.map(h=>t_(h))),E(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&E(e,["audio"],t_($M(r)));const i=y(n,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&E(e,["video"],t_(WM(s)));const a=y(n,["text"]);a!=null&&E(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&E(e,["activityStart"],o);const c=y(n,["activityEnd"]);return c!=null&&E(e,["activityEnd"],c),e}function dq(n){const e={},t=y(n,["media"]);if(t!=null){let u=VM(t);Array.isArray(u)&&(u=u.map(h=>h)),E(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&E(e,["audio"],$M(r));const i=y(n,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&E(e,["video"],WM(s));const a=y(n,["text"]);a!=null&&E(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&E(e,["activityStart"],o);const c=y(n,["activityEnd"]);return c!=null&&E(e,["activityEnd"],c),e}function pq(n){const e={},t=y(n,["setupComplete"]);t!=null&&E(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&E(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&E(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],yq(a));const o=y(n,["goAway"]);o!=null&&E(e,["goAway"],o);const c=y(n,["sessionResumptionUpdate"]);c!=null&&E(e,["sessionResumptionUpdate"],c);const u=y(n,["voiceActivityDetectionSignal"]);u!=null&&E(e,["voiceActivityDetectionSignal"],u);const h=y(n,["voiceActivity"]);return h!=null&&E(e,["voiceActivity"],bq(h)),e}function gq(n){const e={},t=y(n,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&E(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&E(e,["fileData"],eq(s));const a=y(n,["functionCall"]);a!=null&&E(e,["functionCall"],tq(a));const o=y(n,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&E(e,["inlineData"],t_(c));const u=y(n,["text"]);u!=null&&E(e,["text"],u);const h=y(n,["thought"]);h!=null&&E(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&E(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&E(e,["videoMetadata"],g),e}function mq(n){const e={},t=y(n,["handle"]);if(t!=null&&E(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vq(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&E(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&E(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&E(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),E(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&E(e,["googleMaps"],iq(a));const o=y(n,["googleSearch"]);o!=null&&E(e,["googleSearch"],sq(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&E(e,["googleSearchRetrieval"],c);const u=y(n,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function xq(n){const e={},t=y(n,["retrieval"]);t!=null&&E(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&E(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&E(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&E(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>nq(g))),E(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&E(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=y(n,["googleSearchRetrieval"]);u!=null&&E(e,["googleSearchRetrieval"],u);const h=y(n,["urlContext"]);return h!=null&&E(e,["urlContext"],h),e}function yq(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&E(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const c=y(n,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(b=>b)),E(e,["promptTokensDetails"],m)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(b=>b)),E(e,["cacheTokensDetails"],m)}const h=y(n,["candidatesTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(b=>b)),E(e,["responseTokensDetails"],m)}const p=y(n,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(b=>b)),E(e,["toolUsePromptTokensDetails"],m)}const g=y(n,["trafficType"]);return g!=null&&E(e,["trafficType"],g),e}function bq(n){const e={},t=y(n,["type"]);return t!=null&&E(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wq(n){const e={},t=y(n,["data"]);if(t!=null&&E(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function _q(n){const e={},t=y(n,["content"]);t!=null&&E(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Sq(r));const i=y(n,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&E(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&E(e,["groundingMetadata"],o);const c=y(n,["index"]);c!=null&&E(e,["index"],c);const u=y(n,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const h=y(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),E(e,["safetyRatings"],g)}const p=y(n,["urlContextMetadata"]);return p!=null&&E(e,["urlContextMetadata"],p),e}function Sq(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function Aq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let s=ic(i);Array.isArray(s)&&(s=s.map(a=>a)),E(t,["contents"],s)}return t}function Eq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["tokensInfo"],i)}return e}function Tq(n){const e={},t=y(n,["values"]);t!=null&&E(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&E(e,["statistics"],Cq(r)),e}function Cq(n){const e={},t=y(n,["truncated"]);t!=null&&E(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function y5(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>PV(s))),E(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&E(e,["role"],r),e}function kq(n){const e={},t=y(n,["controlType"]);t!=null&&E(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function Nq(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Rq(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],Oa(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>oD(o))),E(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],wV(s)),t}function Lq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let a=ic(i);Array.isArray(a)&&(a=a.map(o=>y5(o))),E(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Nq(s),t}function Iq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let a=ic(i);Array.isArray(a)&&(a=a.map(o=>o)),E(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Rq(s,t),t}function Mq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function Dq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function Fq(n,e){const t={},r=y(e,["model"]);return r!=null&&E(t,["_url","name"],br(n,r)),t}function Pq(n,e){const t={},r=y(e,["model"]);return r!=null&&E(t,["_url","name"],br(n,r)),t}function Oq(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function Bq(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}function Uq(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const c=y(n,["seed"]);e!==void 0&&c!=null&&E(e,["parameters","seed"],c);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&E(e,["parameters","safetySetting"],u);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&E(e,["parameters","personGeneration"],h);const p=y(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&E(e,["parameters","includeSafetyAttributes"],p);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&E(e,["parameters","includeRaiReason"],g);const m=y(n,["language"]);e!==void 0&&m!=null&&E(e,["parameters","language"],m);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","mimeType"],b);const w=y(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&E(e,["parameters","outputOptions","compressionQuality"],w);const _=y(n,["addWatermark"]);e!==void 0&&_!=null&&E(e,["parameters","addWatermark"],_);const T=y(n,["labels"]);e!==void 0&&T!=null&&E(e,["labels"],T);const L=y(n,["editMode"]);e!==void 0&&L!=null&&E(e,["parameters","editMode"],L);const R=y(n,["baseSteps"]);return e!==void 0&&R!=null&&E(e,["parameters","editConfig","baseSteps"],R),t}function Hq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>jV(c))),E(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Uq(a,t),t}function zq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>b5(s))),E(e,["generatedImages"],i)}return e}function jq(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Gq(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),t}function qq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let o=T4(n,i);Array.isArray(o)&&(o=o.map(c=>c)),E(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&jq(s,t);const a=y(e,["model"]);return a!==void 0&&E(t,["requests[]","model"],br(n,a)),t}function Vq(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let a=T4(n,i);Array.isArray(a)&&(a=a.map(o=>o)),E(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&Gq(s,t),t}function Wq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function $q(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Tq(a))),E(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function Xq(n){const e={},t=y(n,["endpoint"]);t!=null&&E(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function Yq(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&E(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Kq(n){const e={},t=y(n,["id"]);t!=null&&E(e,["id"],t);const r=y(n,["args"]);r!=null&&E(e,["args"],r);const i=y(n,["name"]);if(i!=null&&E(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jq(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&E(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&E(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zq(n){const e={},t=y(n,["description"]);t!=null&&E(e,["description"],t);const r=y(n,["name"]);r!=null&&E(e,["name"],r);const i=y(n,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&E(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&E(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Qq(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],y5(Oa(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&E(r,["topP"],a);const o=y(e,["topK"]);o!=null&&E(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&E(r,["candidateCount"],c);const u=y(e,["maxOutputTokens"]);u!=null&&E(r,["maxOutputTokens"],u);const h=y(e,["stopSequences"]);h!=null&&E(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&E(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&E(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&E(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&E(r,["frequencyPenalty"],b);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const _=y(e,["responseMimeType"]);_!=null&&E(r,["responseMimeType"],_);const T=y(e,["responseSchema"]);T!=null&&E(r,["responseSchema"],C4(T));const L=y(e,["responseJsonSchema"]);if(L!=null&&E(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=y(e,["safetySettings"]);if(t!==void 0&&R!=null){let Q=R;Array.isArray(Q)&&(Q=Q.map(re=>GV(re))),E(t,["safetySettings"],Q)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let Q=vv(D);Array.isArray(Q)&&(Q=Q.map(re=>KV(mv(re)))),E(t,["tools"],Q)}const j=y(e,["toolConfig"]);if(t!==void 0&&j!=null&&E(t,["toolConfig"],YV(j)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=y(e,["cachedContent"]);t!==void 0&&G!=null&&E(t,["cachedContent"],Mh(n,G));const P=y(e,["responseModalities"]);P!=null&&E(r,["responseModalities"],P);const W=y(e,["mediaResolution"]);W!=null&&E(r,["mediaResolution"],W);const O=y(e,["speechConfig"]);if(O!=null&&E(r,["speechConfig"],k4(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=y(e,["thinkingConfig"]);ee!=null&&E(r,["thinkingConfig"],ee);const B=y(e,["imageConfig"]);B!=null&&E(r,["imageConfig"],TV(B));const q=y(e,["enableEnhancedCivicAnswers"]);if(q!=null&&E(r,["enableEnhancedCivicAnswers"],q),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function eV(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],Oa(i));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&E(r,["topP"],a);const o=y(e,["topK"]);o!=null&&E(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&E(r,["candidateCount"],c);const u=y(e,["maxOutputTokens"]);u!=null&&E(r,["maxOutputTokens"],u);const h=y(e,["stopSequences"]);h!=null&&E(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&E(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&E(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&E(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&E(r,["frequencyPenalty"],b);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const _=y(e,["responseMimeType"]);_!=null&&E(r,["responseMimeType"],_);const T=y(e,["responseSchema"]);T!=null&&E(r,["responseSchema"],C4(T));const L=y(e,["responseJsonSchema"]);L!=null&&E(r,["responseJsonSchema"],L);const R=y(e,["routingConfig"]);R!=null&&E(r,["routingConfig"],R);const D=y(e,["modelSelectionConfig"]);D!=null&&E(r,["modelConfig"],D);const j=y(e,["safetySettings"]);if(t!==void 0&&j!=null){let ce=j;Array.isArray(ce)&&(ce=ce.map(Te=>Te)),E(t,["safetySettings"],ce)}const G=y(e,["tools"]);if(t!==void 0&&G!=null){let ce=vv(G);Array.isArray(ce)&&(ce=ce.map(Te=>oD(mv(Te)))),E(t,["tools"],ce)}const P=y(e,["toolConfig"]);t!==void 0&&P!=null&&E(t,["toolConfig"],P);const W=y(e,["labels"]);t!==void 0&&W!=null&&E(t,["labels"],W);const O=y(e,["cachedContent"]);t!==void 0&&O!=null&&E(t,["cachedContent"],Mh(n,O));const ee=y(e,["responseModalities"]);ee!=null&&E(r,["responseModalities"],ee);const B=y(e,["mediaResolution"]);B!=null&&E(r,["mediaResolution"],B);const q=y(e,["speechConfig"]);q!=null&&E(r,["speechConfig"],k4(q));const Q=y(e,["audioTimestamp"]);Q!=null&&E(r,["audioTimestamp"],Q);const re=y(e,["thinkingConfig"]);re!=null&&E(r,["thinkingConfig"],re);const ge=y(e,["imageConfig"]);if(ge!=null&&E(r,["imageConfig"],CV(ge)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=y(e,["modelArmorConfig"]);return t!==void 0&&K!=null&&E(t,["modelArmorConfig"],K),r}function z6(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let a=ic(i);Array.isArray(a)&&(a=a.map(o=>y5(o))),E(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&E(t,["generationConfig"],Qq(n,s,t)),t}function j6(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["contents"]);if(i!=null){let a=ic(i);Array.isArray(a)&&(a=a.map(o=>o)),E(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&E(t,["generationConfig"],eV(n,s,t)),t}function G6(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>_q(u))),E(e,["candidates"],c)}const i=y(n,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&E(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function q6(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),E(e,["candidates"],u)}const i=y(n,["createTime"]);i!=null&&E(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&E(e,["responseId"],o);const c=y(n,["usageMetadata"]);return c!=null&&E(e,["usageMetadata"],c),e}function tV(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const c=y(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&E(e,["parameters","includeSafetyAttributes"],c);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&E(e,["parameters","includeRaiReason"],u);const h=y(n,["language"]);e!==void 0&&h!=null&&E(e,["parameters","language"],h);const p=y(n,["outputMimeType"]);e!==void 0&&p!=null&&E(e,["parameters","outputOptions","mimeType"],p);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=y(n,["imageSize"]);if(e!==void 0&&m!=null&&E(e,["parameters","sampleImageSize"],m),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function nV(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const c=y(n,["seed"]);e!==void 0&&c!=null&&E(e,["parameters","seed"],c);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&E(e,["parameters","safetySetting"],u);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&E(e,["parameters","personGeneration"],h);const p=y(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&E(e,["parameters","includeSafetyAttributes"],p);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&E(e,["parameters","includeRaiReason"],g);const m=y(n,["language"]);e!==void 0&&m!=null&&E(e,["parameters","language"],m);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","mimeType"],b);const w=y(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&E(e,["parameters","outputOptions","compressionQuality"],w);const _=y(n,["addWatermark"]);e!==void 0&&_!=null&&E(e,["parameters","addWatermark"],_);const T=y(n,["labels"]);e!==void 0&&T!=null&&E(e,["labels"],T);const L=y(n,["imageSize"]);e!==void 0&&L!=null&&E(e,["parameters","sampleImageSize"],L);const R=y(n,["enhancePrompt"]);return e!==void 0&&R!=null&&E(e,["parameters","enhancePrompt"],R),t}function rV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&tV(s,t),t}function iV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&nV(s,t),t}function sV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>vV(a))),E(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],sD(i)),e}function aV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>b5(a))),E(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],aD(i)),e}function oV(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(n,["negativePrompt"]);e!==void 0&&c!=null&&E(e,["parameters","negativePrompt"],c);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&E(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(n,["lastFrame"]);e!==void 0&&h!=null&&E(e,["instances[0]","lastFrame"],w5(h));const p=y(n,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>cW(m))),E(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function lV(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const c=y(n,["aspectRatio"]);e!==void 0&&c!=null&&E(e,["parameters","aspectRatio"],c);const u=y(n,["resolution"]);e!==void 0&&u!=null&&E(e,["parameters","resolution"],u);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&E(e,["parameters","personGeneration"],h);const p=y(n,["pubsubTopic"]);e!==void 0&&p!=null&&E(e,["parameters","pubsubTopic"],p);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&E(e,["parameters","negativePrompt"],g);const m=y(n,["enhancePrompt"]);e!==void 0&&m!=null&&E(e,["parameters","enhancePrompt"],m);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&E(e,["parameters","generateAudio"],b);const w=y(n,["lastFrame"]);e!==void 0&&w!=null&&E(e,["instances[0]","lastFrame"],hu(w));const _=y(n,["referenceImages"]);if(e!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(D=>uW(D))),E(e,["instances[0]","referenceImages"],R)}const T=y(n,["mask"]);e!==void 0&&T!=null&&E(e,["instances[0]","mask"],lW(T));const L=y(n,["compressionQuality"]);return e!==void 0&&L!=null&&E(e,["parameters","compressionQuality"],L),t}function cV(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],dV(a)),e}function uV(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response"]);return a!=null&&E(e,["response"],pV(a)),e}function fV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(t,["instances[0]","image"],w5(s));const a=y(e,["video"]);a!=null&&E(t,["instances[0]","video"],lD(a));const o=y(e,["source"]);o!=null&&gV(o,t);const c=y(e,["config"]);return c!=null&&oV(c,t),t}function hV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["prompt"]);i!=null&&E(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(t,["instances[0]","image"],hu(s));const a=y(e,["video"]);a!=null&&E(t,["instances[0]","video"],cD(a));const o=y(e,["source"]);o!=null&&mV(o,t);const c=y(e,["config"]);return c!=null&&lV(c,t),t}function dV(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>yV(a))),E(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function pV(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>bV(a))),E(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function gV(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],w5(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],lD(s)),t}function mV(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],hu(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],cD(s)),t}function vV(n){const e={},t=y(n,["_self"]);t!=null&&E(e,["image"],kV(t));const r=y(n,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&E(e,["safetyAttributes"],sD(i)),e}function b5(n){const e={},t=y(n,["_self"]);t!=null&&E(e,["image"],iD(t));const r=y(n,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&E(e,["safetyAttributes"],aD(i));const s=y(n,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function xV(n){const e={},t=y(n,["_self"]);t!=null&&E(e,["mask"],iD(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["labels"],i)}return e}function yV(n){const e={},t=y(n,["video"]);return t!=null&&E(e,["video"],aW(t)),e}function bV(n){const e={},t=y(n,["_self"]);return t!=null&&E(e,["video"],oW(t)),e}function wV(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&E(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&E(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&E(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&E(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&E(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const c=y(n,["logprobs"]);c!=null&&E(e,["logprobs"],c);const u=y(n,["maxOutputTokens"]);u!=null&&E(e,["maxOutputTokens"],u);const h=y(n,["mediaResolution"]);h!=null&&E(e,["mediaResolution"],h);const p=y(n,["presencePenalty"]);p!=null&&E(e,["presencePenalty"],p);const g=y(n,["responseLogprobs"]);g!=null&&E(e,["responseLogprobs"],g);const m=y(n,["responseMimeType"]);m!=null&&E(e,["responseMimeType"],m);const b=y(n,["responseModalities"]);b!=null&&E(e,["responseModalities"],b);const w=y(n,["responseSchema"]);w!=null&&E(e,["responseSchema"],w);const _=y(n,["routingConfig"]);_!=null&&E(e,["routingConfig"],_);const T=y(n,["seed"]);T!=null&&E(e,["seed"],T);const L=y(n,["speechConfig"]);L!=null&&E(e,["speechConfig"],L);const R=y(n,["stopSequences"]);R!=null&&E(e,["stopSequences"],R);const D=y(n,["temperature"]);D!=null&&E(e,["temperature"],D);const j=y(n,["thinkingConfig"]);j!=null&&E(e,["thinkingConfig"],j);const G=y(n,["topK"]);G!=null&&E(e,["topK"],G);const P=y(n,["topP"]);if(P!=null&&E(e,["topP"],P),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _V(n,e){const t={},r=y(e,["model"]);return r!=null&&E(t,["_url","name"],br(n,r)),t}function SV(n,e){const t={},r=y(e,["model"]);return r!=null&&E(t,["_url","name"],br(n,r)),t}function AV(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function EV(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function TV(n){const e={},t=y(n,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&E(e,["imageSize"],r),y(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CV(n){const e={},t=y(n,["aspectRatio"]);t!=null&&E(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&E(e,["imageSize"],r);const i=y(n,["personGeneration"]);i!=null&&E(e,["personGeneration"],i);const s=y(n,["outputMimeType"]);s!=null&&E(e,["imageOutputOptions","mimeType"],s);const a=y(n,["outputCompressionQuality"]);return a!=null&&E(e,["imageOutputOptions","compressionQuality"],a),e}function kV(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&E(e,["imageBytes"],p0(t));const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function iD(n){const e={},t=y(n,["gcsUri"]);t!=null&&E(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],p0(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function w5(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&E(e,["bytesBase64Encoded"],p0(t));const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function hu(n){const e={},t=y(n,["gcsUri"]);t!=null&&E(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],p0(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function NV(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&E(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&E(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&E(t,["_url","models_url"],JM(n,o)),r}function RV(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&E(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&E(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&E(t,["_url","models_url"],JM(n,o)),r}function LV(n,e){const t={},r=y(e,["config"]);return r!=null&&NV(n,r,t),t}function IV(n,e){const t={},r=y(e,["config"]);return r!=null&&RV(n,r,t),t}function MV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=ZM(i);Array.isArray(s)&&(s=s.map(a=>TT(a))),E(e,["models"],s)}return e}function DV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=ZM(i);Array.isArray(s)&&(s=s.map(a=>CT(a))),E(e,["models"],s)}return e}function FV(n){const e={},t=y(n,["maskMode"]);t!=null&&E(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function TT(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(n,["description"]);i!=null&&E(e,["description"],i);const s=y(n,["version"]);s!=null&&E(e,["version"],s);const a=y(n,["_self"]);a!=null&&E(e,["tunedModelInfo"],JV(a));const o=y(n,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const c=y(n,["outputTokenLimit"]);c!=null&&E(e,["outputTokenLimit"],c);const u=y(n,["supportedGenerationMethods"]);u!=null&&E(e,["supportedActions"],u);const h=y(n,["temperature"]);h!=null&&E(e,["temperature"],h);const p=y(n,["maxTemperature"]);p!=null&&E(e,["maxTemperature"],p);const g=y(n,["topP"]);g!=null&&E(e,["topP"],g);const m=y(n,["topK"]);m!=null&&E(e,["topK"],m);const b=y(n,["thinking"]);return b!=null&&E(e,["thinking"],b),e}function CT(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(n,["description"]);i!=null&&E(e,["description"],i);const s=y(n,["versionId"]);s!=null&&E(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>Xq(g))),E(e,["endpoints"],p)}const o=y(n,["labels"]);o!=null&&E(e,["labels"],o);const c=y(n,["_self"]);c!=null&&E(e,["tunedModelInfo"],ZV(c));const u=y(n,["defaultCheckpointId"]);u!=null&&E(e,["defaultCheckpointId"],u);const h=y(n,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),E(e,["checkpoints"],p)}return e}function PV(n){const e={},t=y(n,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&E(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&E(e,["fileData"],Yq(s));const a=y(n,["functionCall"]);a!=null&&E(e,["functionCall"],Kq(a));const o=y(n,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&E(e,["inlineData"],wq(c));const u=y(n,["text"]);u!=null&&E(e,["text"],u);const h=y(n,["thought"]);h!=null&&E(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&E(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&E(e,["videoMetadata"],g),e}function OV(n){const e={},t=y(n,["productImage"]);return t!=null&&E(e,["image"],hu(t)),e}function BV(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const c=y(n,["personGeneration"]);e!==void 0&&c!=null&&E(e,["parameters","personGeneration"],c);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&E(e,["parameters","addWatermark"],u);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&E(e,["parameters","outputOptions","mimeType"],h);const p=y(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&E(e,["parameters","outputOptions","compressionQuality"],p);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&E(e,["parameters","enhancePrompt"],g);const m=y(n,["labels"]);return e!==void 0&&m!=null&&E(e,["labels"],m),t}function UV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["source"]);i!=null&&zV(i,t);const s=y(e,["config"]);return s!=null&&BV(s,t),t}function HV(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>b5(i))),E(e,["generatedImages"],r)}return e}function zV(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],hu(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>OV(o))),E(e,["instances[0]","productImages"],a)}return t}function jV(n){const e={},t=y(n,["referenceImage"]);t!=null&&E(e,["referenceImage"],hu(t));const r=y(n,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],FV(s));const a=y(n,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],kq(a));const o=y(n,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],o);const c=y(n,["subjectImageConfig"]);return c!=null&&E(e,["subjectImageConfig"],c),e}function sD(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&E(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function aD(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&E(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function GV(n){const e={},t=y(n,["category"]);if(t!=null&&E(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function qV(n){const e={},t=y(n,["image"]);return t!=null&&E(e,["image"],hu(t)),e}function VV(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o);const c=y(n,["labels"]);return e!==void 0&&c!=null&&E(e,["labels"],c),t}function WV(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["source"]);i!=null&&XV(i,t);const s=y(e,["config"]);return s!=null&&VV(s,t),t}function $V(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>xV(i))),E(e,["generatedMasks"],r)}return e}function XV(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],hu(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],qV(s)),t}function YV(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&E(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&E(e,["functionCallingConfig"],Jq(r)),e}function KV(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&E(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&E(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&E(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),E(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&E(e,["googleMaps"],AV(a));const o=y(n,["googleSearch"]);o!=null&&E(e,["googleSearch"],EV(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&E(e,["googleSearchRetrieval"],c);const u=y(n,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}function oD(n){const e={},t=y(n,["retrieval"]);t!=null&&E(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&E(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&E(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&E(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>Zq(g))),E(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&E(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&E(e,["googleSearch"],c);const u=y(n,["googleSearchRetrieval"]);u!=null&&E(e,["googleSearchRetrieval"],u);const h=y(n,["urlContext"]);return h!=null&&E(e,["urlContext"],h),e}function JV(n){const e={},t=y(n,["baseModel"]);t!=null&&E(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function ZV(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&E(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function QV(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),t}function eW(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),t}function tW(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","name"],br(n,r));const i=y(e,["config"]);return i!=null&&QV(i,t),t}function nW(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["config"]);return i!=null&&eW(i,t),t}function rW(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&E(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&E(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&E(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","mimeType"],o);const c=y(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&E(e,["parameters","outputOptions","compressionQuality"],c);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=y(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(n,["labels"]);e!==void 0&&p!=null&&E(e,["labels"],p);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&E(e,["parameters","sampleCount"],g);const m=y(n,["mode"]);return e!==void 0&&m!=null&&E(e,["parameters","mode"],m),t}function iW(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["_url","model"],br(n,r));const i=y(e,["image"]);i!=null&&E(t,["instances[0]","image"],hu(i));const s=y(e,["upscaleFactor"]);s!=null&&E(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&rW(a,t),t}function sW(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>b5(s))),E(e,["generatedImages"],i)}return e}function aW(n){const e={},t=y(n,["uri"]);t!=null&&E(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&E(e,["videoBytes"],p0(r));const i=y(n,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function oW(n){const e={},t=y(n,["gcsUri"]);t!=null&&E(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],p0(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function lW(n){const e={},t=y(n,["image"]);t!=null&&E(e,["_self"],hu(t));const r=y(n,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function cW(n){const e={},t=y(n,["image"]);t!=null&&E(e,["image"],w5(t));const r=y(n,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function uW(n){const e={},t=y(n,["image"]);t!=null&&E(e,["image"],hu(t));const r=y(n,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function lD(n){const e={},t=y(n,["uri"]);t!=null&&E(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&E(e,["encodedVideo"],p0(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function cD(n){const e={},t=y(n,["uri"]);t!=null&&E(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],p0(r));const i=y(n,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fW(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&E(e,["displayName"],r),t}function hW(n){const e={},t=y(n,["config"]);return t!=null&&fW(t,e),e}function dW(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&E(e,["_query","force"],r),t}function pW(n){const e={},t=y(n,["name"]);t!=null&&E(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&dW(r,e),e}function gW(n){const e={},t=y(n,["name"]);return t!=null&&E(e,["_url","name"],t),e}function mW(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&E(e,["chunkingConfig"],i),t}function vW(n){const e={},t=y(n,["name"]);t!=null&&E(e,["name"],t);const r=y(n,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(n,["done"]);i!=null&&E(e,["done"],i);const s=y(n,["error"]);s!=null&&E(e,["error"],s);const a=y(n,["response"]);return a!=null&&E(e,["response"],yW(a)),e}function xW(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&E(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&E(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&mW(i,e),e}function yW(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&E(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&E(e,["documentName"],i),e}function bW(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function wW(n){const e={},t=y(n,["config"]);return t!=null&&bW(t,e),e}function _W(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["fileSearchStores"],s)}return e}function uD(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&E(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&E(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c)),E(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&E(e,["chunkingConfig"],a),t}function SW(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&E(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&uD(r,e),e}function AW(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&E(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EW="Content-Type",TW="X-Server-Timeout",CW="User-Agent",kT="x-goog-api-client",kW="1.38.0",NW=`google-genai-sdk/${kW}`,RW="v1beta1",LW="v1beta";class IW{constructor(e){var t,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!o?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:RW}else{if(!this.clientOptions.apiKey)throw new n2({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:LW,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===_T.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&MW(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await V6(i),new ST(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await V6(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return su(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:h}=yield Nn(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=s.decode(h,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),_=w.status,T=w.code,L=`got status: ${_}. ${JSON.stringify(b)}`;if(T>=400&&T<600)throw new n2({message:L,status:T})}}catch(b){if(b.name==="ApiError")throw b}a+=p;let g=-1,m=0;for(;;){g=-1,m=0;for(const _ of c){const T=a.indexOf(_);T!==-1&&(g===-1||T<g)&&(g=T,m=_.length)}if(g===-1)break;const b=a.substring(0,g);a=a.substring(g+m);const w=b.trim();if(w.startsWith(o)){const _=w.substring(o.length).trim();try{const T=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nn(new ST(T))}catch(T){throw new Error(`exception parsing stream chunk ${_}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=NW+" "+this.clientOptions.userAgentExtra;return e[CW]=t,e[kT]=t,e[EW]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(TW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(e),h=jt("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,u,c,t==null?void 0:t.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(t),p={};r!=null&&uD(r,p);const g=await this.fetchUploadUrl(u,o,c,h,p,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function V6(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new n2({message:i,status:t}):new Error(i)}}function MW(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const u=a[c],h=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&h&&typeof h=="object"&&!Array.isArray(h)?o[c]=r(h,u):(h&&u&&typeof h!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DW="mcp_used/unknown";let FW=!1;function fD(n){for(const e of n)if(PW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return FW}function hD(n){var e;const t=(e=n[kT])!==null&&e!==void 0?e:"";n[kT]=(t+` ${DW}`).trimStart()}function PW(n){return n!==null&&typeof n=="object"&&n instanceof R4}function OW(n){return su(this,arguments,function*(t,r=100){let i,s=0;for(;s<r;){const a=yield Nn(t.listTools({cursor:i}));for(const o of a.tools)yield yield Nn(o),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class R4{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new R4(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const h of this.mcpClients)try{for(var o=!0,c=(t=void 0,au(OW(h))),u;u=await c.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const p=i;a.push(p);const g=p.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=h}}catch(p){t={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BW(n,e,t){const r=new aj;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class UW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=jW(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const h=new Promise(R=>{u=R}),p=e.callbacks,g=function(){u({})},m=this.apiClient,b={onopen:g,onmessage:R=>{BW(m,p.onmessage,R)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(R){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(R){}},w=this.webSocketFactory.create(c,zW(a),b);w.connect(),await h;const L={setup:{model:br(this.apiClient,e.model)}};return w.send(JSON.stringify(L)),new HW(w,this.apiClient)}}class HW{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=fq(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=uq(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Um.PLAY)}pause(){this.sendPlaybackControl(Um.PAUSE)}stop(){this.sendPlaybackControl(Um.STOP)}resetContext(){this.sendPlaybackControl(Um.RESET_CONTEXT)}close(){this.conn.close()}}function zW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function jW(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qW(n,e,t){const r=new sj;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=pq(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class VW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new UW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&fD(e.config.tools)&&hD(p);const g=YW(p);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),q=!!O&&!!ee||!!B;this.apiClient.getCustomBaseUrl()&&!q?h=c:(h=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const O=this.apiClient.getApiKey();let ee="BidiGenerateContent",B="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${ee}?${B}=${O}`}let m=()=>{};const b=new Promise(O=>{m=O}),w=e.callbacks,_=function(){var O;(O=w==null?void 0:w.onopen)===null||O===void 0||O.call(w),m({})},T=this.apiClient,L={onopen:_,onmessage:O=>{qW(T,w.onmessage,O)},onerror:(t=w==null?void 0:w.onerror)!==null&&t!==void 0?t:function(O){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(O){}},R=this.webSocketFactory.create(h,XW(g),L);R.connect(),await b;let D=br(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation();O&&ee&&(D=`projects/${O}/locations/${ee}/`+D)}let j={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[b_.AUDIO]}:e.config.responseModalities=[b_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],P=[];for(const O of G)if(this.isCallableTool(O)){const ee=O;P.push(await ee.tool())}else P.push(O);P.length>0&&(e.config.tools=P);const W={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=cq(this.apiClient,W):j=lq(this.apiClient,W),delete j.config,R.send(JSON.stringify(j)),new $W(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const WW={turnComplete:!0};class $W{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=ic(t.turns),e.isVertexAI()||(r=r.map(i=>y5(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(GW)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},WW),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:dq(e)}:t={realtimeInput:hq(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function XW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function YW(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W6=10;function $6(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Km(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Km(n){return"callTool"in n&&typeof n.callTool=="function"}function KW(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Km(i)))!==null&&r!==void 0?r:!1}function X6(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(Km(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function Y6(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JW extends Ih{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!KW(t)||$6(t.config))return await this.generateContentInternal(c);const u=X6(t);if(u.length>0){const w=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,p;const g=ic(c.contents),m=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:W6;let b=0;for(;b<m&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,_=[];for(const T of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Km(T)){const R=await T.callTool(h.functionCalls);_.push(...R)}b++,p={role:"user",parts:_},c.contents=ic(c.contents),c.contents.push(w),c.contents.push(p),Y6(c.config)&&(g.push(w),g.push(p))}return Y6(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),$6(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const c=X6(t);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:a.push(c);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ag(Ch.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((c=(o=t.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>Km(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&fD(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),hD(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Km(a)){const o=a,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:W6;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(u,h,p){return su(this,arguments,function*(){for(var g,m,b,w,_,T;o<s;){a&&(o++,a=!1);const j=yield Nn(u.processParamsMaybeAddMcpUsage(p)),G=yield Nn(u.generateContentStreamInternal(j)),P=[],W=[];try{for(var L=!0,R=(m=void 0,au(G)),D;D=yield Nn(R.next()),g=D.done,!g;L=!0){w=D.value,L=!1;const O=w;if(yield yield Nn(O),O.candidates&&(!((_=O.candidates[0])===null||_===void 0)&&_.content)){W.push(O.candidates[0].content);for(const ee of(T=O.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(o<s&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ee.functionCall.name)){const B=yield Nn(h.get(ee.functionCall.name).callTool([ee.functionCall]));P.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!L&&!g&&(b=R.return)&&(yield Nn(b.call(R)))}finally{if(m)throw m.error}}if(P.length>0){a=!0;const O=new fx;O.candidates=[{content:{role:"user",parts:P}}],yield yield Nn(O);const ee=[];ee.push(...W),ee.push({role:"user",parts:P});const B=ic(p.contents).concat(ee);p.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=j6(this.apiClient,e);return o=jt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=q6(h),g=new fx;return Object.assign(g,p),g})}else{const u=z6(this.apiClient,e);return o=jt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=G6(h),g=new fx;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=j6(this.apiClient,e);return o=jt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return su(this,arguments,function*(){var g,m,b,w;try{for(var _=!0,T=au(p),L;L=yield Nn(T.next()),g=L.done,!g;_=!0){w=L.value,_=!1;const R=w,D=q6(yield Nn(R.json()));D.sdkHttpResponse={headers:R.headers};const j=new fx;Object.assign(j,D),yield yield Nn(j)}}catch(R){m={error:R}}finally{try{!_&&!g&&(b=T.return)&&(yield Nn(b.call(T)))}finally{if(m)throw m.error}}})})}else{const u=z6(this.apiClient,e);return o=jt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return su(this,arguments,function*(){var g,m,b,w;try{for(var _=!0,T=au(p),L;L=yield Nn(T.next()),g=L.done,!g;_=!0){w=L.value,_=!1;const R=w,D=G6(yield Nn(R.json()));D.sdkHttpResponse={headers:R.headers};const j=new fx;Object.assign(j,D),yield yield Nn(j)}}catch(R){m={error:R}}finally{try{!_&&!g&&(b=T.return)&&(yield Nn(b.call(T)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Vq(this.apiClient,e);return o=jt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=$q(h),g=new A6;return Object.assign(g,p),g})}else{const u=qq(this.apiClient,e);return o=jt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Wq(h),g=new A6;return Object.assign(g,p),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=iV(this.apiClient,e);return o=jt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=aV(h),g=new E6;return Object.assign(g,p),g})}else{const u=rV(this.apiClient,e);return o=jt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=sV(h),g=new E6;return Object.assign(g,p),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Hq(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=zq(c),h=new Xz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=iW(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=sW(c),h=new Yz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=UV(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=HV(c),h=new Kz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=WV(this.apiClient,e);return s=jt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=$V(c),h=new Jz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=SV(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>CT(h))}else{const u=_V(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>TT(h))}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=IV(this.apiClient,e);return o=jt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=DV(h),g=new T6;return Object.assign(g,p),g})}else{const u=LV(this.apiClient,e);return o=jt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=MV(h),g=new T6;return Object.assign(g,p),g})}}async update(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=nW(this.apiClient,e);return o=jt("{model}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>CT(h))}else{const u=tW(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>TT(h))}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Pq(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Bq(h),g=new C6;return Object.assign(g,p),g})}else{const u=Fq(this.apiClient,e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Oq(h),g=new C6;return Object.assign(g,p),g})}}async countTokens(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Iq(this.apiClient,e);return o=jt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Dq(h),g=new k6;return Object.assign(g,p),g})}else{const u=Lq(this.apiClient,e);return o=jt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Mq(h),g=new k6;return Object.assign(g,p),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Aq(this.apiClient,e);return s=jt("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=Eq(c),h=new Zz;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=hV(this.apiClient,e);return o=jt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=uV(h),g=new w_;return Object.assign(g,p),g})}else{const u=fV(this.apiClient,e);return o=jt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=cV(h),g=new w_;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZW extends Ih{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=jz(e);return o=jt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const u=zz(e);return o=jt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Dz(e);return s=jt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QW(n){const e={},t=y(n,["data"]);if(t!=null&&E(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function e$(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>c$(s))),E(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&E(e,["role"],r),e}function t$(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&E(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&E(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&E(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&E(t,["bidiGenerateContentSetup"],l$(n,o));const c=y(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&E(t,["fieldMask"],c),r}function n$(n,e){const t={},r=y(e,["config"]);return r!=null&&E(t,["config"],t$(n,r,t)),t}function r$(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&E(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function i$(n){const e={},t=y(n,["id"]);t!=null&&E(e,["id"],t);const r=y(n,["args"]);r!=null&&E(e,["args"],r);const i=y(n,["name"]);if(i!=null&&E(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function s$(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&E(e,["enableWidget"],t),e}function a$(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&E(e,["timeRangeFilter"],t),e}function o$(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","maxOutputTokens"],c);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","mediaResolution"],u);const h=y(n,["seed"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","speechConfig"],N4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&E(e,["setup","systemInstruction"],e$(Oa(b)));const w=y(n,["tools"]);if(e!==void 0&&w!=null){let G=vv(w);Array.isArray(G)&&(G=G.map(P=>f$(mv(P)))),E(e,["setup","tools"],G)}const _=y(n,["sessionResumption"]);e!==void 0&&_!=null&&E(e,["setup","sessionResumption"],u$(_));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&E(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&E(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&E(e,["setup","realtimeInputConfig"],R);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&E(e,["setup","contextWindowCompression"],D);const j=y(n,["proactivity"]);if(e!==void 0&&j!=null&&E(e,["setup","proactivity"],j),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function l$(n,e){const t={},r=y(e,["model"]);r!=null&&E(t,["setup","model"],br(n,r));const i=y(e,["config"]);return i!=null&&E(t,["config"],o$(i,t)),t}function c$(n){const e={},t=y(n,["mediaResolution"]);t!=null&&E(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&E(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&E(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&E(e,["fileData"],r$(s));const a=y(n,["functionCall"]);a!=null&&E(e,["functionCall"],i$(a));const o=y(n,["functionResponse"]);o!=null&&E(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&E(e,["inlineData"],QW(c));const u=y(n,["text"]);u!=null&&E(e,["text"],u);const h=y(n,["thought"]);h!=null&&E(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&E(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&E(e,["videoMetadata"],g),e}function u$(n){const e={},t=y(n,["handle"]);if(t!=null&&E(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f$(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&E(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&E(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&E(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),E(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&E(e,["googleMaps"],s$(a));const o=y(n,["googleSearch"]);o!=null&&E(e,["googleSearch"],a$(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&E(e,["googleSearchRetrieval"],c);const u=y(n,["urlContext"]);return u!=null&&E(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h$(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function d$(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=h$(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const c=[];s&&c.push(s),o.length>0&&c.push(...o),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class p$ extends Ih{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=n$(this.apiClient,e);s=jt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=d$(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g$(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&E(e,["_query","force"],r),t}function m$(n){const e={},t=y(n,["name"]);t!=null&&E(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&g$(r,e),e}function v$(n){const e={},t=y(n,["name"]);return t!=null&&E(e,["_url","name"],t),e}function x$(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),t}function y$(n){const e={},t=y(n,["parent"]);t!=null&&E(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&x$(r,e),e}function b$(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&E(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),E(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w$ extends Ih{constructor(e){super(),this.apiClient=e,this.list=async t=>new Ag(Ch.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=v$(e);return s=jt("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=m$(e);i=jt("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=y$(e);return s=jt("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=b$(c),h=new Qz;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _$ extends Ih{constructor(e,t=new w$(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Ag(Ch.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hW(e);return s=jt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gW(e);return s=jt("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pW(e);i=jt("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wW(e);return s=jt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=_W(c),h=new ej;return Object.assign(h,u),h})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=SW(e);return s=jt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=AW(c),h=new tj;return Object.assign(h,u),h})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xW(e);return s=jt("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=vW(c),h=new A4;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dD=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return dD=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const S$=()=>dD();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NT(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const RT=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oc extends Error{}class uo extends oc{constructor(e,t,r,i){super(`${uo.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new _5({message:r,cause:RT(t)});const s=t;return e===400?new gD(e,s,r,i):e===401?new mD(e,s,r,i):e===403?new vD(e,s,r,i):e===404?new xD(e,s,r,i):e===409?new yD(e,s,r,i):e===422?new bD(e,s,r,i):e===429?new wD(e,s,r,i):e>=500?new _D(e,s,r,i):new uo(e,s,r,i)}}class LT extends uo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _5 extends uo{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class pD extends _5{constructor({message:e}={}){super({message:e??"Request timed out."})}}class gD extends uo{}class mD extends uo{}class vD extends uo{}class xD extends uo{}class yD extends uo{}class bD extends uo{}class wD extends uo{}class _D extends uo{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A$=/^[a-z][a-z0-9+.-]*:/i,E$=n=>A$.test(n);let IT=n=>(IT=Array.isArray,IT(n));const T$=IT;let C$=T$;const K6=C$;function k$(n){if(!n)return!0;for(const e in n)return!1;return!0}function N$(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const R$=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new oc(`${n} must be an integer`);if(e<0)throw new oc(`${n} must be a positive integer`);return e},L$=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I$=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fm="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M$(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const D$=()=>{var n,e,t,r,i;const s=M$();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fm,"X-Stainless-OS":Z6(Deno.build.os),"X-Stainless-Arch":J6(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fm,"X-Stainless-OS":Z6((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":J6((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=F$();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function F$(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const J6=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Z6=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Zb;const P$=()=>Zb??(Zb=D$());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O$(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function SD(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function B$(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return SD({start(){},async pull(t){const{done:r,value:i}=await e.next();r?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function AD(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function U$(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H$=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ED=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function uA(n,e,t){return ED(),new File(n,e??"unknown_file",t)}function z$(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const j$=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TD=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",G$=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&TD(n),q$=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function V$(n,e,t){if(ED(),n=await n,G$(n))return n instanceof File?n:uA([await n.arrayBuffer()],n.name);if(q$(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),uA(await MT(i),e,t)}const r=await MT(n);if(e||(e=z$(n)),!(t!=null&&t.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return uA(r,e,t)}async function MT(n){var e,t,r,i,s;let a=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)a.push(n);else if(TD(n))a.push(n instanceof Blob?n:await n.arrayBuffer());else if(j$(n))try{for(var o=!0,c=au(n),u;u=await c.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;a.push(...await MT(h))}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}else{const h=(s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof n}${h?`; constructor: ${h}`:""}${W$(n)}`)}return a}function W$(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CD{constructor(e){this._client=e}}CD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kD(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Q6=Object.freeze(Object.create(null)),$$=(n=kD)=>(function(t,...r){if(t.length===1)return t[0];let i=!1;const s=[],a=t.reduce((h,p,g)=>{var m,b,w;/[?#]/.test(p)&&(i=!0);const _=r[g];let T=(i?encodeURIComponent:n)(""+_);return g!==r.length&&(_==null||typeof _=="object"&&_.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((m=_.hasOwnProperty)!==null&&m!==void 0?m:Q6))!==null&&b!==void 0?b:Q6))===null||w===void 0?void 0:w.toString))&&(T=_+"",s.push({start:h.length+p.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":T)},""),o=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((h,p)=>h.start-p.start),s.length>0){let h=0;const p=s.reduce((g,m)=>{const b=" ".repeat(m.start-h),w="^".repeat(m.length);return h=m.start+m.length,g+b+w},"");throw new oc(`Path parameters result in path with invalid segments:
${s.map(g=>g.error).join(`
`)}
${a}
${p}`)}return a}),Qb=$$(kD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ND extends CD{create(e,t){var r;const{api_version:i=this._client.apiVersion}=e,s=S_(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new oc("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new oc("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Qb`/${i}/interactions`,Object.assign(Object.assign({body:s},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(Qb`/${i}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(Qb`/${i}/interactions/${e}/cancel`,r)}get(e,t={},r){var i;const s=t??{},{api_version:a=this._client.apiVersion}=s,o=S_(s,["api_version"]);return this._client.get(Qb`/${a}/interactions/${e}`,Object.assign(Object.assign({query:o},r),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}ND._key=Object.freeze(["interactions"]);class RD extends ND{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X$(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}let ew;function L4(n){let e;return(ew??(e=new globalThis.TextEncoder,ew=e.encode.bind(e)))(n)}let tw;function e8(n){let e;return(tw??(e=new globalThis.TextDecoder,tw=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S5{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?L4(e):e;this.buffer=X$([this.buffer,t]);const r=[];let i;for(;(i=Y$(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(e8(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=e8(this.buffer.subarray(0,s));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}S5.NEWLINE_CHARS=new Set([`
`,"\r"]);S5.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Y$(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function K$(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A_={off:0,error:200,warn:300,info:400,debug:500},t8=(n,e,t)=>{if(n){if(N$(A_,n))return n;no(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(A_))}`)}};function Ix(){}function nw(n,e,t){return!e||A_[n]>A_[t]?Ix:e[n].bind(e)}const J$={error:Ix,warn:Ix,info:Ix,debug:Ix};let n8=new WeakMap;function no(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return J$;const i=n8.get(t);if(i&&i[0]===r)return i[1];const s={error:nw("error",t,r),warn:nw("warn",t,r),info:nw("info",t,r),debug:nw("debug",t,r)};return n8.set(t,[r,s]),s}const Y0=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hm{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let i=!1;const s=r?no(r):console;function a(){return su(this,arguments,function*(){var c,u,h,p;if(i)throw new oc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,b=au(Z$(e,t)),w;w=yield Nn(b.next()),c=w.done,!c;m=!0){p=w.value,m=!1;const _=p;if(!g)if(_.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Nn(JSON.parse(_.data))}catch(T){throw s.error("Could not parse message into JSON:",_.data),s.error("From chunk:",_.raw),T}}}catch(_){u={error:_}}finally{try{!m&&!c&&(h=b.return)&&(yield Nn(h.call(b)))}finally{if(u)throw u.error}}g=!0}catch(_){if(NT(_))return yield Nn(void 0);throw _}finally{g||t.abort()}})}return new Hm(a,t,r)}static fromReadableStream(e,t,r){let i=!1;function s(){return su(this,arguments,function*(){var c,u,h,p;const g=new S5,m=AD(e);try{for(var b=!0,w=au(m),_;_=yield Nn(w.next()),c=_.done,!c;b=!0){p=_.value,b=!1;const T=p;for(const L of g.decode(T))yield yield Nn(L)}}catch(T){u={error:T}}finally{try{!b&&!c&&(h=w.return)&&(yield Nn(h.call(w)))}finally{if(u)throw u.error}}for(const T of g.flush())yield yield Nn(T)})}function a(){return su(this,arguments,function*(){var c,u,h,p;if(i)throw new oc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,b=au(s()),w;w=yield Nn(b.next()),c=w.done,!c;m=!0){p=w.value,m=!1;const _=p;g||_&&(yield yield Nn(JSON.parse(_)))}}catch(_){u={error:_}}finally{try{!m&&!c&&(h=b.return)&&(yield Nn(h.call(b)))}finally{if(u)throw u.error}}g=!0}catch(_){if(NT(_))return yield Nn(void 0);throw _}finally{g||t.abort()}})}return new Hm(a,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),t.push(a)}return s.shift()}});return[new Hm(()=>i(e),this.controller,this.client),new Hm(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return SD({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await t.next();if(s)return r.close();const a=L4(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function Z$(n,e){return su(this,arguments,function*(){var r,i,s,a;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new oc("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new oc("Attempted to iterate over a response with no body");const o=new eX,c=new S5,u=AD(n.body);try{for(var h=!0,p=au(Q$(u)),g;g=yield Nn(p.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const m=a;for(const b of c.decode(m)){const w=o.decode(b);w&&(yield yield Nn(w))}}}catch(m){i={error:m}}finally{try{!h&&!r&&(s=p.return)&&(yield Nn(s.call(p)))}finally{if(i)throw i.error}}for(const m of c.flush()){const b=o.decode(m);b&&(yield yield Nn(b))}})}function Q$(n){return su(this,arguments,function*(){var t,r,i,s;let a=new Uint8Array;try{for(var o=!0,c=au(n),u;u=yield Nn(c.next()),t=u.done,!t;o=!0){s=u.value,o=!1;const h=s;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?L4(h):h;let g=new Uint8Array(a.length+p.length);g.set(a),g.set(p,a.length),a=g;let m;for(;(m=K$(a))!==-1;)yield yield Nn(a.slice(0,m)),a=a.slice(m)}}catch(h){r={error:h}}finally{try{!o&&!t&&(i=c.return)&&(yield Nn(i.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield Nn(a))})}class eX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=tX(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function tX(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nX(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,a=await(async()=>{var o;if(e.options.stream)return no(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Hm.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),u=(o=c==null?void 0:c.split(";")[0])===null||o===void 0?void 0:o.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await t.json():await t.text()})();return no(n).debug(`[${r}] response parsed`,Y0({retryOfRequestLogID:i,url:t.url,status:t.status,body:a,durationMs:Date.now()-s})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I4 extends Promise{constructor(e,t,r=nX){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new I4(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LD=Symbol("brand.privateNullableHeaders");function*rX(n){if(!n)return;if(LD in n){const{values:r,nulls:i}=n;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,t;n instanceof Headers?t=n.entries():K6(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=K6(r[1])?r[1]:[r[1]];let a=!1;for(const o of s)o!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const hx=n=>{const e=new Headers,t=new Set;for(const r of n){const i=new Set;for(const[s,a]of rX(r)){const o=s.toLowerCase();i.has(o)||(e.delete(s),i.add(o)),a===null?(e.delete(s),t.add(o)):(e.append(s,a),t.delete(o))}}return{[LD]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fA=n=>{var e,t,r,i,s,a;if(typeof globalThis.process<"u")return(r=(t=(e=kz)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,n))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ID;class A5{constructor(e){var t,r,i,s,a,o,c,{baseURL:u=fA("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(t=fA("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:p="v1beta"}=e,g=S_(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:A5.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(a=(s=t8(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:t8(fA("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:b,this.fetchOptions=m.fetchOptions,this.maxRetries=(o=m.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:O$(),this.encoder=H$,this._options=m,this.apiKey=h,this.apiVersion=p,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=hx([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return hx([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hx([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new oc(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Fm}`}defaultIdempotencyKey(){return`stainless-node-retry-${S$()}`}makeStatusError(e,t,r,i){return uo.generate(e,t,r,i)}buildURL(e,t,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=E$(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return k$(a)||(t=Object.assign(Object.assign({},a),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new I4(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var i,s,a;const o=await e,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=c),await this.prepareOptions(o);const{req:u,url:h,timeout:p}=await this.buildRequest(o,{retryCount:c-t});await this.prepareRequest(u,{url:h,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(no(this).debug(`[${g}] sending request`,Y0({retryOfRequestLogID:r,method:o.method,url:h,options:o,headers:u.headers})),!((s=o.signal)===null||s===void 0)&&s.aborted)throw new LT;const w=new AbortController,_=await this.fetchWithTimeout(h,u,p,w).catch(RT),T=Date.now();if(_ instanceof globalThis.Error){const R=`retrying, ${t} attempts remaining`;if(!((a=o.signal)===null||a===void 0)&&a.aborted)throw new LT;const D=NT(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(t)return no(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${R}`),no(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${R})`,Y0({retryOfRequestLogID:r,url:h,durationMs:T-b,message:_.message})),this.retryRequest(o,t,r??g);throw no(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),no(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Y0({retryOfRequestLogID:r,url:h,durationMs:T-b,message:_.message})),D?new pD:new _5({cause:_})}const L=`[${g}${m}] ${u.method} ${h} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${T-b}ms`;if(!_.ok){const R=await this.shouldRetry(_);if(t&&R){const O=`retrying, ${t} attempts remaining`;return await U$(_.body),no(this).info(`${L} - ${O}`),no(this).debug(`[${g}] response error (${O})`,Y0({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:T-b})),this.retryRequest(o,t,r??g,_.headers)}const D=R?"error; no more retries left":"error; not retryable";no(this).info(`${L} - ${D}`);const j=await _.text().catch(O=>RT(O).message),G=L$(j),P=G?void 0:j;throw no(this).debug(`[${g}] response error (${D})`,Y0({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:P,durationMs:Date.now()-b})),this.makeStatusError(_.status,G,P,_.headers)}return no(this).info(L),no(this).debug(`[${g}] response start`,Y0({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:T-b})),{response:_,options:o,controller:w,requestLogID:g,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,t,r,i){const s=t||{},{signal:a,method:o}=s,c=S_(s,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(u)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,i){var s;let a;const o=i==null?void 0:i.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(a=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!a){const u=parseFloat(c);Number.isNaN(u)?a=Date.parse(c)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,u)}return await I$(a),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,i,s;const a=Object.assign({},e),{method:o,path:c,query:u,defaultBaseURL:h}=a,p=this.buildURL(c,u,h);"timeout"in a&&R$("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:m}=this.buildBody({options:a}),b=await this.buildHeaders({options:e,method:o,bodyHeaders:g,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:b},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let o=hx([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),P$()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=hx([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:B$(e)}:this.encoder({body:e,headers:r})}}A5.DEFAULT_TIMEOUT=6e4;class $s extends A5{constructor(){super(...arguments),this.interactions=new RD(this)}}ID=$s;$s.GeminiNextGenAPIClient=ID;$s.GeminiNextGenAPIClientError=oc;$s.APIError=uo;$s.APIConnectionError=_5;$s.APIConnectionTimeoutError=pD;$s.APIUserAbortError=LT;$s.NotFoundError=xD;$s.ConflictError=yD;$s.RateLimitError=wD;$s.BadRequestError=gD;$s.AuthenticationError=mD;$s.InternalServerError=_D;$s.PermissionDeniedError=vD;$s.UnprocessableEntityError=bD;$s.toFile=V$;$s.Interactions=RD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iX(n,e){const t={},r=y(n,["name"]);return r!=null&&E(t,["_url","name"],r),t}function sX(n,e){const t={},r=y(n,["name"]);return r!=null&&E(t,["_url","name"],r),t}function aX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function oX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function lX(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&E(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&E(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","batchSize"],o);const c=y(n,["learningRate"]);if(e!==void 0&&c!=null&&E(e,["tuningTask","hyperparameters","learningRate"],c),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function cX(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=y(n,["validationDataset"]);e!==void 0&&m!=null&&E(e,["supervisedTuningSpec"],r8(m))}else if(i==="PREFERENCE_TUNING"){const m=y(n,["validationDataset"]);e!==void 0&&m!=null&&E(e,["preferenceOptimizationSpec"],r8(m))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&E(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&E(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=y(n,["epochCount"]);e!==void 0&&m!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(o==="PREFERENCE_TUNING"){const m=y(n,["epochCount"]);e!==void 0&&m!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=y(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=y(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=y(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=y(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=y(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&E(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let h=y(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const m=y(n,["adapterSize"]);e!==void 0&&m!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(h==="PREFERENCE_TUNING"){const m=y(n,["adapterSize"]);e!==void 0&&m!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(n,["labels"]);e!==void 0&&p!=null&&E(e,["labels"],p);const g=y(n,["beta"]);return e!==void 0&&g!=null&&E(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function uX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&E(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&E(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&wX(s);const a=y(n,["config"]);return a!=null&&lX(a,t),t}function fX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&E(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&E(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&_X(s,t,e);const a=y(n,["config"]);return a!=null&&cX(a,t,e),t}function hX(n,e){const t={},r=y(n,["name"]);return r!=null&&E(t,["_url","name"],r),t}function dX(n,e){const t={},r=y(n,["name"]);return r!=null&&E(t,["_url","name"],r),t}function pX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&E(e,["_query","filter"],a),r}function gX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&E(e,["_query","filter"],a),r}function mX(n,e){const t={},r=y(n,["config"]);return r!=null&&pX(r,t),t}function vX(n,e){const t={},r=y(n,["config"]);return r!=null&&gX(r,t),t}function xX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&E(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>MD(o))),E(t,["tuningJobs"],a)}return t}function yX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&E(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>DT(o))),E(t,["tuningJobs"],a)}return t}function bX(n,e){const t={},r=y(n,["name"]);r!=null&&E(t,["model"],r);const i=y(n,["name"]);return i!=null&&E(t,["endpoint"],i),t}function wX(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["examples","examples"],i)}return t}function _X(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&E(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function MD(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&E(t,["name"],i);const s=y(n,["state"]);s!=null&&E(t,["state"],YM(s));const a=y(n,["createTime"]);a!=null&&E(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&E(t,["startTime"],o);const c=y(n,["tuningTask","completeTime"]);c!=null&&E(t,["endTime"],c);const u=y(n,["updateTime"]);u!=null&&E(t,["updateTime"],u);const h=y(n,["description"]);h!=null&&E(t,["description"],h);const p=y(n,["baseModel"]);p!=null&&E(t,["baseModel"],p);const g=y(n,["_self"]);return g!=null&&E(t,["tunedModel"],bX(g)),t}function DT(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&E(t,["name"],i);const s=y(n,["state"]);s!=null&&E(t,["state"],YM(s));const a=y(n,["createTime"]);a!=null&&E(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&E(t,["startTime"],o);const c=y(n,["endTime"]);c!=null&&E(t,["endTime"],c);const u=y(n,["updateTime"]);u!=null&&E(t,["updateTime"],u);const h=y(n,["error"]);h!=null&&E(t,["error"],h);const p=y(n,["description"]);p!=null&&E(t,["description"],p);const g=y(n,["baseModel"]);g!=null&&E(t,["baseModel"],g);const m=y(n,["tunedModel"]);m!=null&&E(t,["tunedModel"],m);const b=y(n,["preTunedModel"]);b!=null&&E(t,["preTunedModel"],b);const w=y(n,["supervisedTuningSpec"]);w!=null&&E(t,["supervisedTuningSpec"],w);const _=y(n,["preferenceOptimizationSpec"]);_!=null&&E(t,["preferenceOptimizationSpec"],_);const T=y(n,["tuningDataStats"]);T!=null&&E(t,["tuningDataStats"],T);const L=y(n,["encryptionSpec"]);L!=null&&E(t,["encryptionSpec"],L);const R=y(n,["partnerModelTuningSpec"]);R!=null&&E(t,["partnerModelTuningSpec"],R);const D=y(n,["customBaseModel"]);D!=null&&E(t,["customBaseModel"],D);const j=y(n,["experiment"]);j!=null&&E(t,["experiment"],j);const G=y(n,["labels"]);G!=null&&E(t,["labels"],G);const P=y(n,["outputUri"]);P!=null&&E(t,["outputUri"],P);const W=y(n,["pipelineJob"]);W!=null&&E(t,["pipelineJob"],W);const O=y(n,["serviceAccount"]);O!=null&&E(t,["serviceAccount"],O);const ee=y(n,["tunedModelDisplayName"]);ee!=null&&E(t,["tunedModelDisplayName"],ee);const B=y(n,["veoTuningSpec"]);return B!=null&&E(t,["veoTuningSpec"],B),t}function SX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&E(t,["name"],i);const s=y(n,["metadata"]);s!=null&&E(t,["metadata"],s);const a=y(n,["done"]);a!=null&&E(t,["done"],a);const o=y(n,["error"]);return o!=null&&E(t,["error"],o),t}function r8(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&E(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&E(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AX extends Ih{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ag(Ch.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:wT.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=dX(e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>DT(h))}else{const u=hX(e);return o=jt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>MD(h))}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=vX(e);return o=jt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=yX(h),g=new N6;return Object.assign(g,p),g})}else{const u=mX(e);return o=jt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=xX(h),g=new N6;return Object.assign(g,p),g})}}async cancel(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=sX(e);return o=jt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=oX(h),g=new R6;return Object.assign(g,p),g})}else{const u=iX(e);return o=jt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=aX(h),g=new R6;return Object.assign(g,p),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=fX(e,e);return s=jt("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>DT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uX(e);return s=jt("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>SX(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EX{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TX=1024*1024*8,CX=3,kX=1e3,NX=2,E_="x-goog-upload-status";async function RX(n,e,t){var r;const i=await DD(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[E_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function LX(n,e,t){var r;const i=await DD(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[E_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=GM(s),o=new E4;return Object.assign(o,a),o}async function DD(n,e,t){var r,i;let s=0,a=0,o=new ST(new Response),c="upload";for(s=n.size;a<s;){const u=Math.min(TX,s-a),h=n.slice(a,a+u);a+u>=s&&(c+=", finalize");let p=0,g=kX;for(;p<CX&&(o=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[E_]));)p++,await MX(g),g=g*NX;if(a+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[E_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function IX(n){return{size:n.size,type:n.type}}function MX(n){return new Promise(e=>setTimeout(e,n))}class DX{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RX(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LX(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IX(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FX{create(e,t,r){return new PX(e,t,r)}}class PX{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i8="x-goog-api-key";class OX{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(i8)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(i8,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BX="gl-node/";class UX{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new $s({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Iz(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new OX(this.apiKey);this.apiClient=new IW({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:BX+"web",uploader:new DX,downloader:new EX}),this.models=new JW(this.apiClient),this.live=new VW(this.apiClient,i,new FX),this.batches=new oG(this.apiClient),this.chats=new jG(this.models,this.apiClient),this.caches=new UG(this.apiClient),this.files=new ZG(this.apiClient),this.operations=new ZW(this.apiClient),this.authTokens=new p$(this.apiClient),this.tunings=new AX(this.apiClient),this.fileSearchStores=new _$(this.apiClient)}}const HX=new UX({apiKey:"PLACEHOLDER_API_KEY"}),zX=async(n,e,t,r)=>{const i=r==="es"?"Spanish (Latin America)":"English",s=`
    Refine the following email draft.
    Target Language: ${i}
    Tone: ${t.tone}
    Current Subject: ${n}
    Current Body: ${e}

    Instructions:
    - Respond in ${i}.
    - If the tone is professional, use formal structures (e.g., 'Usted' in Spanish if appropriate).
    - Provide the output in JSON format with "subject" and "body" fields.
    - Improve flow, grammar, and style while maintaining the core message.
  `;try{const a=await HX.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{responseMimeType:"application/json",responseSchema:{type:eu.OBJECT,properties:{subject:{type:eu.STRING},body:{type:eu.STRING}},required:["subject","body"]}}}),o=JSON.parse(a.text||"{}");return{subject:o.subject||n,body:o.body||e}}catch(a){return console.error("Gemini refinement failed:",a),{subject:n,body:e}}},jX="modulepreload",GX=function(n){return"/"+n},s8={},hA=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(u=>{if(u=GX(u),u in s8)return;s8[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":jX,h||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Dr(n){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(n)}var uu=Uint8Array,Sl=Uint16Array,M4=Int32Array,D4=new uu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F4=new uu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a8=new uu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FD=function(n,e){for(var t=new Sl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new M4(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},PD=FD(D4,2),qX=PD.b,FT=PD.r;qX[28]=258,FT[258]=28;var VX=FD(F4,0),o8=VX.r,PT=new Sl(32768);for(var ai=0;ai<32768;++ai){var vd=(ai&43690)>>1|(ai&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,PT[ai]=((vd&65280)>>8|(vd&255)<<8)>>1}var Hx=(function(n,e,t){for(var r=n.length,i=0,s=new Sl(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new Sl(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Sl(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],h=e-n[i],p=a[n[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[PT[p]>>c]=u}else for(o=new Sl(r),i=0;i<r;++i)n[i]&&(o[i]=PT[a[n[i]-1]++]>>15-n[i]);return o}),pg=new uu(288);for(var ai=0;ai<144;++ai)pg[ai]=8;for(var ai=144;ai<256;++ai)pg[ai]=9;for(var ai=256;ai<280;++ai)pg[ai]=7;for(var ai=280;ai<288;++ai)pg[ai]=8;var T_=new uu(32);for(var ai=0;ai<32;++ai)T_[ai]=5;var WX=Hx(pg,9,0),$X=Hx(T_,5,0),OD=function(n){return(n+7)/8|0},XX=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new uu(n.subarray(e,t))},Uf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},dx=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},dA=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:UD,l:0};if(i==1){var a=new uu(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(j,G){return j.f-G.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],u=0,h=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=t[t[u].f<t[p].f?u++:p++],c=t[u!=h&&t[u].f<t[p].f?u++:p++],t[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Sl(g+1),b=OT(t[h-1],m,0);if(b>e){var r=0,w=0,_=b-e,T=1<<_;for(s.sort(function(G,P){return m[P.s]-m[G.s]||G.f-P.f});r<i;++r){var L=s[r].s;if(m[L]>e)w+=T-(1<<b-m[L]),m[L]=e;else break}for(w>>=_;w>0;){var R=s[r].s;m[R]<e?w-=1<<e-m[R]++-1:++r}for(;r>=0&&w;--r){var D=s[r].s;m[D]==e&&(--m[D],++w)}b=e}return{t:new uu(m),l:b}},OT=function(n,e,t){return n.s==-1?Math.max(OT(n.l,e,t+1),OT(n.r,e,t+1)):e[n.s]=t},l8=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Sl(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},px=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},BD=function(n,e,t){var r=t.length,i=OD(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},c8=function(n,e,t,r,i,s,a,o,c,u,h){Uf(e,h++,t),++i[256];for(var p=dA(i,15),g=p.t,m=p.l,b=dA(s,15),w=b.t,_=b.l,T=l8(g),L=T.c,R=T.n,D=l8(w),j=D.c,G=D.n,P=new Sl(19),W=0;W<L.length;++W)++P[L[W]&31];for(var W=0;W<j.length;++W)++P[j[W]&31];for(var O=dA(P,7),ee=O.t,B=O.l,q=19;q>4&&!ee[a8[q-1]];--q);var Q=u+5<<3,re=px(i,pg)+px(s,T_)+a,ge=px(i,g)+px(s,w)+a+14+3*q+px(P,ee)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&Q<=re&&Q<=ge)return BD(e,h,n.subarray(c,c+u));var K,ce,Te,me;if(Uf(e,h,1+(ge<re)),h+=2,ge<re){K=Hx(g,m,0),ce=g,Te=Hx(w,_,0),me=w;var Oe=Hx(ee,B,0);Uf(e,h,R-257),Uf(e,h+5,G-1),Uf(e,h+10,q-4),h+=14;for(var W=0;W<q;++W)Uf(e,h+3*W,ee[a8[W]]);h+=3*q;for(var se=[L,j],I=0;I<2;++I)for(var U=se[I],W=0;W<U.length;++W){var z=U[W]&31;Uf(e,h,Oe[z]),h+=ee[z],z>15&&(Uf(e,h,U[W]>>5&127),h+=U[W]>>12)}}else K=WX,ce=pg,Te=$X,me=T_;for(var W=0;W<o;++W){var Y=r[W];if(Y>255){var z=Y>>18&31;dx(e,h,K[z+257]),h+=ce[z+257],z>7&&(Uf(e,h,Y>>23&31),h+=D4[z]);var oe=Y&31;dx(e,h,Te[oe]),h+=me[oe],oe>3&&(dx(e,h,Y>>5&8191),h+=F4[oe])}else dx(e,h,K[Y]),h+=ce[Y]}return dx(e,h,K[256]),h+ce[256]},YX=new M4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UD=new uu(0),KX=function(n,e,t,r,i,s){var a=s.z||n.length,o=new uu(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var p=YX[e-1],g=p>>13,m=p&8191,b=(1<<t)-1,w=s.p||new Sl(32768),_=s.h||new Sl(b+1),T=Math.ceil(t/3),L=2*T,R=function(vt){return(n[vt]^n[vt+1]<<T^n[vt+2]<<L)&b},D=new M4(25e3),j=new Sl(288),G=new Sl(32),P=0,W=0,O=s.i||0,ee=0,B=s.w||0,q=0;O+2<a;++O){var Q=R(O),re=O&32767,ge=_[Q];if(w[re]=ge,_[Q]=re,B<=O){var K=a-O;if((P>7e3||ee>24576)&&(K>423||!u)){h=c8(n,c,0,D,j,G,W,ee,q,O-q,h),ee=P=W=0,q=O;for(var ce=0;ce<286;++ce)j[ce]=0;for(var ce=0;ce<30;++ce)G[ce]=0}var Te=2,me=0,Oe=m,se=re-ge&32767;if(K>2&&Q==R(O-se))for(var I=Math.min(g,K)-1,U=Math.min(32767,O),z=Math.min(258,K);se<=U&&--Oe&&re!=ge;){if(n[O+Te]==n[O+Te-se]){for(var Y=0;Y<z&&n[O+Y]==n[O+Y-se];++Y);if(Y>Te){if(Te=Y,me=se,Y>I)break;for(var oe=Math.min(se,Y-2),ye=0,ce=0;ce<oe;++ce){var fe=O-se+ce&32767,Ae=w[fe],Re=fe-Ae&32767;Re>ye&&(ye=Re,ge=fe)}}}re=ge,ge=w[re],se+=re-ge&32767}if(me){D[ee++]=268435456|FT[Te]<<18|o8[me];var et=FT[Te]&31,de=o8[me]&31;W+=D4[et]+F4[de],++j[257+et],++G[de],B=O+Te,++P}else D[ee++]=n[O],++j[n[O]]}}for(O=Math.max(O,B);O<a;++O)D[ee++]=n[O],++j[n[O]];h=c8(n,c,u,D,j,G,W,ee,q,O-q,h),u||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=_,s.p=w,s.i=O,s.w=B)}else{for(var O=s.w||0;O<a+u;O+=65535){var gt=O+65535;gt>=a&&(c[h/8|0]=u,gt=a),h=BD(c,h+1,n.subarray(O,gt))}s.i=a}return XX(o,0,r+OD(h)+i)},HD=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},JX=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new uu(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return KX(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},zD=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},ZX=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=HD();i.p(e.dictionary),zD(n,2,i.d())}};function BT(n,e){e||(e={});var t=HD();t.p(n);var r=JX(n,e,e.dictionary?6:2,4);return ZX(r,e),zD(r,r.length-4,t.d()),r}var QX=typeof TextDecoder<"u"&&new TextDecoder,eY=0;try{QX.decode(UD,{stream:!0}),eY=1}catch{}function tY(n){if(Array.isArray(n))return n}function nY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function u8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function rY(n,e){if(n){if(typeof n=="string")return u8(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u8(n,e):void 0}}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f8(n,e){return tY(n)||nY(n,e)||rY(n,e)||iY()}function h8(n,e="utf8"){return new TextDecoder(e).decode(n)}const sY=new TextEncoder;function aY(n){return sY.encode(n)}const oY=1024*8,lY=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),pA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class P4{constructor(e=oY,t={}){Pt(this,"buffer");Pt(this,"byteLength");Pt(this,"byteOffset");Pt(this,"length");Pt(this,"offset");Pt(this,"lastWrittenByte");Pt(this,"littleEndian");Pt(this,"_data");Pt(this,"_mark");Pt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof P4)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=pA[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===lY&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new pA[t](o.buffer);return this.offset+=r,c.reverse(),c}const a=new pA[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return h8(this.readBytes(e))}decodeText(e=1,t="utf8"){return h8(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(aY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function yv(n){let e=n.length;for(;--e>=0;)n[e]=0}const cY=3,uY=258,jD=29,fY=256,hY=fY+1+jD,GD=30,dY=512,pY=new Array((hY+2)*2);yv(pY);const gY=new Array(GD*2);yv(gY);const mY=new Array(dY);yv(mY);const vY=new Array(uY-cY+1);yv(vY);const xY=new Array(jD);yv(xY);const yY=new Array(GD);yv(yY);const bY=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var UT=bY;const wY=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},_Y=new Uint32Array(wY()),SY=(n,e,t,r)=>{const i=_Y,s=r+t;n^=-1;for(let a=r;a<s;a++)n=n>>>8^i[(n^e[a])&255];return n^-1};var Pu=SY,HT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const AY=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var EY=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)AY(t,r)&&(n[r]=t[r])}}return n},TY=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let a=n[r];t.set(a,i),i+=a.length}return t},VD={assign:EY,flattenChunks:TY};let WD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WD=!1}const r2=new Uint8Array(256);for(let n=0;n<256;n++)r2[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;r2[254]=r2[254]=1;var CY=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,a=n.length,o=0;for(i=0;i<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const kY=(n,e)=>{if(e<65534&&n.subarray&&WD)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var NY=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let a=n[r++];if(a<128){s[i++]=a;continue}let o=r2[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|n[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return kY(s,i)},RY=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+r2[n[t]]>e?t:e},zT={string2buf:CY,buf2string:NY,utf8border:RY};function LY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IY=LY;const rw=16209,MY=16191;var DY=function(e,t){let r,i,s,a,o,c,u,h,p,g,m,b,w,_,T,L,R,D,j,G,P,W,O,ee;const B=e.state;r=e.next_in,O=e.input,i=r+(e.avail_in-5),s=e.next_out,ee=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=B.dmax,u=B.wsize,h=B.whave,p=B.wnext,g=B.window,m=B.hold,b=B.bits,w=B.lencode,_=B.distcode,T=(1<<B.lenbits)-1,L=(1<<B.distbits)-1;e:do{b<15&&(m+=O[r++]<<b,b+=8,m+=O[r++]<<b,b+=8),R=w[m&T];t:for(;;){if(D=R>>>24,m>>>=D,b-=D,D=R>>>16&255,D===0)ee[s++]=R&65535;else if(D&16){j=R&65535,D&=15,D&&(b<D&&(m+=O[r++]<<b,b+=8),j+=m&(1<<D)-1,m>>>=D,b-=D),b<15&&(m+=O[r++]<<b,b+=8,m+=O[r++]<<b,b+=8),R=_[m&L];n:for(;;){if(D=R>>>24,m>>>=D,b-=D,D=R>>>16&255,D&16){if(G=R&65535,D&=15,b<D&&(m+=O[r++]<<b,b+=8,b<D&&(m+=O[r++]<<b,b+=8)),G+=m&(1<<D)-1,G>c){e.msg="invalid distance too far back",B.mode=rw;break e}if(m>>>=D,b-=D,D=s-a,G>D){if(D=G-D,D>h&&B.sane){e.msg="invalid distance too far back",B.mode=rw;break e}if(P=0,W=g,p===0){if(P+=u-D,D<j){j-=D;do ee[s++]=g[P++];while(--D);P=s-G,W=ee}}else if(p<D){if(P+=u+p-D,D-=p,D<j){j-=D;do ee[s++]=g[P++];while(--D);if(P=0,p<j){D=p,j-=D;do ee[s++]=g[P++];while(--D);P=s-G,W=ee}}}else if(P+=p-D,D<j){j-=D;do ee[s++]=g[P++];while(--D);P=s-G,W=ee}for(;j>2;)ee[s++]=W[P++],ee[s++]=W[P++],ee[s++]=W[P++],j-=3;j&&(ee[s++]=W[P++],j>1&&(ee[s++]=W[P++]))}else{P=s-G;do ee[s++]=ee[P++],ee[s++]=ee[P++],ee[s++]=ee[P++],j-=3;while(j>2);j&&(ee[s++]=ee[P++],j>1&&(ee[s++]=ee[P++]))}}else if((D&64)===0){R=_[(R&65535)+(m&(1<<D)-1)];continue n}else{e.msg="invalid distance code",B.mode=rw;break e}break}}else if((D&64)===0){R=w[(R&65535)+(m&(1<<D)-1)];continue t}else if(D&32){B.mode=MY;break e}else{e.msg="invalid literal/length code",B.mode=rw;break e}break}}while(r<i&&s<o);j=b>>3,r-=j,b-=j<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),B.hold=m,B.bits=b};const _m=15,d8=852,p8=592,g8=0,gA=1,m8=2,FY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),BY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UY=(n,e,t,r,i,s,a,o)=>{const c=o.bits;let u=0,h=0,p=0,g=0,m=0,b=0,w=0,_=0,T=0,L=0,R,D,j,G,P,W=null,O;const ee=new Uint16Array(_m+1),B=new Uint16Array(_m+1);let q=null,Q,re,ge;for(u=0;u<=_m;u++)ee[u]=0;for(h=0;h<r;h++)ee[e[t+h]]++;for(m=c,g=_m;g>=1&&ee[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&ee[p]===0;p++);for(m<p&&(m=p),_=1,u=1;u<=_m;u++)if(_<<=1,_-=ee[u],_<0)return-1;if(_>0&&(n===g8||g!==1))return-1;for(B[1]=0,u=1;u<_m;u++)B[u+1]=B[u]+ee[u];for(h=0;h<r;h++)e[t+h]!==0&&(a[B[e[t+h]]++]=h);if(n===g8?(W=q=a,O=20):n===gA?(W=FY,q=PY,O=257):(W=OY,q=BY,O=0),L=0,h=0,u=p,P=s,b=m,w=0,j=-1,T=1<<m,G=T-1,n===gA&&T>d8||n===m8&&T>p8)return 1;for(;;){Q=u-w,a[h]+1<O?(re=0,ge=a[h]):a[h]>=O?(re=q[a[h]-O],ge=W[a[h]-O]):(re=96,ge=0),R=1<<u-w,D=1<<b,p=D;do D-=R,i[P+(L>>w)+D]=Q<<24|re<<16|ge|0;while(D!==0);for(R=1<<u-1;L&R;)R>>=1;if(R!==0?(L&=R-1,L+=R):L=0,h++,--ee[u]===0){if(u===g)break;u=e[t+a[h]]}if(u>m&&(L&G)!==j){for(w===0&&(w=m),P+=p,b=u-w,_=1<<b;b+w<g&&(_-=ee[b+w],!(_<=0));)b++,_<<=1;if(T+=1<<b,n===gA&&T>d8||n===m8&&T>p8)return 1;j=L&G,i[j]=m<<24|b<<16|P-s|0}}return L!==0&&(i[P+L]=u-w<<24|64<<16|0),o.bits=m,0};var zx=UY;const HY=0,$D=1,XD=2,{Z_FINISH:v8,Z_BLOCK:zY,Z_TREES:iw,Z_OK:gg,Z_STREAM_END:jY,Z_NEED_DICT:GY,Z_STREAM_ERROR:lc,Z_DATA_ERROR:YD,Z_MEM_ERROR:KD,Z_BUF_ERROR:qY,Z_DEFLATED:x8}=qD,E5=16180,y8=16181,b8=16182,w8=16183,_8=16184,S8=16185,A8=16186,E8=16187,T8=16188,C8=16189,C_=16190,Hf=16191,mA=16192,k8=16193,vA=16194,N8=16195,R8=16196,L8=16197,I8=16198,sw=16199,aw=16200,M8=16201,D8=16202,F8=16203,P8=16204,O8=16205,xA=16206,B8=16207,U8=16208,pi=16209,JD=16210,ZD=16211,VY=852,WY=592,$Y=15,XY=$Y,H8=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function YY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eg=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<E5||e.mode>ZD?1:0},QD=n=>{if(Eg(n))return lc;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=E5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VY),e.distcode=e.distdyn=new Int32Array(WY),e.sane=1,e.back=-1,gg},eF=n=>{if(Eg(n))return lc;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,QD(n)},tF=(n,e)=>{let t;if(Eg(n))return lc;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?lc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,eF(n))},nF=(n,e)=>{if(!n)return lc;const t=new YY;n.state=t,t.strm=n,t.window=null,t.mode=E5;const r=tF(n,e);return r!==gg&&(n.state=null),r},KY=n=>nF(n,XY);let z8=!0,yA,bA;const JY=n=>{if(z8){yA=new Int32Array(512),bA=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(zx($D,n.lens,0,288,yA,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;zx(XD,n.lens,0,32,bA,0,n.work,{bits:5}),z8=!1}n.lencode=yA,n.lenbits=9,n.distcode=bA,n.distbits=5},rF=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},ZY=(n,e)=>{let t,r,i,s,a,o,c,u,h,p,g,m,b,w,_=0,T,L,R,D,j,G,P,W;const O=new Uint8Array(4);let ee,B;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eg(n)||!n.output||!n.input&&n.avail_in!==0)return lc;t=n.state,t.mode===Hf&&(t.mode=mA),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,u=t.hold,h=t.bits,p=o,g=c,W=gg;e:for(;;)switch(t.mode){case E5:if(t.wrap===0){t.mode=mA;break}for(;h<16;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=u&255,O[1]=u>>>8&255,t.check=Pu(t.check,O,2,0),u=0,h=0,t.mode=y8;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=pi;break}if((u&15)!==x8){n.msg="unknown compression method",t.mode=pi;break}if(u>>>=4,h-=4,P=(u&15)+8,t.wbits===0&&(t.wbits=P),P>15||P>t.wbits){n.msg="invalid window size",t.mode=pi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=u&512?C8:Hf,u=0,h=0;break;case y8:for(;h<16;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(t.flags=u,(t.flags&255)!==x8){n.msg="unknown compression method",t.mode=pi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=pi;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Pu(t.check,O,2,0)),u=0,h=0,t.mode=b8;case b8:for(;h<32;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,t.check=Pu(t.check,O,4,0)),u=0,h=0,t.mode=w8;case w8:for(;h<16;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Pu(t.check,O,2,0)),u=0,h=0,t.mode=_8;case _8:if(t.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,t.check=Pu(t.check,O,2,0)),u=0,h=0}else t.head&&(t.head.extra=null);t.mode=S8;case S8:if(t.flags&1024&&(m=t.length,m>o&&(m=o),m&&(t.head&&(P=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+m),P)),t.flags&512&&t.wrap&4&&(t.check=Pu(t.check,r,m,s)),o-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=A8;case A8:if(t.flags&2048){if(o===0)break e;m=0;do P=r[s+m++],t.head&&P&&t.length<65536&&(t.head.name+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Pu(t.check,r,m,s)),o-=m,s+=m,P)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=E8;case E8:if(t.flags&4096){if(o===0)break e;m=0;do P=r[s+m++],t.head&&P&&t.length<65536&&(t.head.comment+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Pu(t.check,r,m,s)),o-=m,s+=m,P)break e}else t.head&&(t.head.comment=null);t.mode=T8;case T8:if(t.flags&512){for(;h<16;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(t.wrap&4&&u!==(t.check&65535)){n.msg="header crc mismatch",t.mode=pi;break}u=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Hf;break;case C8:for(;h<32;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}n.adler=t.check=H8(u),u=0,h=0,t.mode=C_;case C_:if(t.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=u,t.bits=h,GY;n.adler=t.check=1,t.mode=Hf;case Hf:if(e===zY||e===iw)break e;case mA:if(t.last){u>>>=h&7,h-=h&7,t.mode=xA;break}for(;h<3;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}switch(t.last=u&1,u>>>=1,h-=1,u&3){case 0:t.mode=k8;break;case 1:if(JY(t),t.mode=sw,e===iw){u>>>=2,h-=2;break e}break;case 2:t.mode=R8;break;case 3:n.msg="invalid block type",t.mode=pi}u>>>=2,h-=2;break;case k8:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=pi;break}if(t.length=u&65535,u=0,h=0,t.mode=vA,e===iw)break e;case vA:t.mode=N8;case N8:if(m=t.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;i.set(r.subarray(s,s+m),a),o-=m,s+=m,c-=m,a+=m,t.length-=m;break}t.mode=Hf;break;case R8:for(;h<14;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(t.nlen=(u&31)+257,u>>>=5,h-=5,t.ndist=(u&31)+1,u>>>=5,h-=5,t.ncode=(u&15)+4,u>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=pi;break}t.have=0,t.mode=L8;case L8:for(;t.have<t.ncode;){for(;h<3;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.lens[q[t.have++]]=u&7,u>>>=3,h-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ee={bits:t.lenbits},W=zx(HY,t.lens,0,19,t.lencode,0,t.work,ee),t.lenbits=ee.bits,W){n.msg="invalid code lengths set",t.mode=pi;break}t.have=0,t.mode=I8;case I8:for(;t.have<t.nlen+t.ndist;){for(;_=t.lencode[u&(1<<t.lenbits)-1],T=_>>>24,L=_>>>16&255,R=_&65535,!(T<=h);){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(R<16)u>>>=T,h-=T,t.lens[t.have++]=R;else{if(R===16){for(B=T+2;h<B;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(u>>>=T,h-=T,t.have===0){n.msg="invalid bit length repeat",t.mode=pi;break}P=t.lens[t.have-1],m=3+(u&3),u>>>=2,h-=2}else if(R===17){for(B=T+3;h<B;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}u>>>=T,h-=T,P=0,m=3+(u&7),u>>>=3,h-=3}else{for(B=T+7;h<B;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}u>>>=T,h-=T,P=0,m=11+(u&127),u>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=pi;break}for(;m--;)t.lens[t.have++]=P}}if(t.mode===pi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=pi;break}if(t.lenbits=9,ee={bits:t.lenbits},W=zx($D,t.lens,0,t.nlen,t.lencode,0,t.work,ee),t.lenbits=ee.bits,W){n.msg="invalid literal/lengths set",t.mode=pi;break}if(t.distbits=6,t.distcode=t.distdyn,ee={bits:t.distbits},W=zx(XD,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ee),t.distbits=ee.bits,W){n.msg="invalid distances set",t.mode=pi;break}if(t.mode=sw,e===iw)break e;case sw:t.mode=aw;case aw:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=u,t.bits=h,DY(n,g),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,u=t.hold,h=t.bits,t.mode===Hf&&(t.back=-1);break}for(t.back=0;_=t.lencode[u&(1<<t.lenbits)-1],T=_>>>24,L=_>>>16&255,R=_&65535,!(T<=h);){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(L&&(L&240)===0){for(D=T,j=L,G=R;_=t.lencode[G+((u&(1<<D+j)-1)>>D)],T=_>>>24,L=_>>>16&255,R=_&65535,!(D+T<=h);){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}u>>>=D,h-=D,t.back+=D}if(u>>>=T,h-=T,t.back+=T,t.length=R,L===0){t.mode=O8;break}if(L&32){t.back=-1,t.mode=Hf;break}if(L&64){n.msg="invalid literal/length code",t.mode=pi;break}t.extra=L&15,t.mode=M8;case M8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=D8;case D8:for(;_=t.distcode[u&(1<<t.distbits)-1],T=_>>>24,L=_>>>16&255,R=_&65535,!(T<=h);){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if((L&240)===0){for(D=T,j=L,G=R;_=t.distcode[G+((u&(1<<D+j)-1)>>D)],T=_>>>24,L=_>>>16&255,R=_&65535,!(D+T<=h);){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}u>>>=D,h-=D,t.back+=D}if(u>>>=T,h-=T,t.back+=T,L&64){n.msg="invalid distance code",t.mode=pi;break}t.offset=R,t.extra=L&15,t.mode=F8;case F8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=pi;break}t.mode=P8;case P8:if(c===0)break e;if(m=g-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=pi;break}m>t.wnext?(m-=t.wnext,b=t.wsize-m):b=t.wnext-m,m>t.length&&(m=t.length),w=t.window}else w=i,b=a-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[a++]=w[b++];while(--m);t.length===0&&(t.mode=aw);break;case O8:if(c===0)break e;i[a++]=t.length,c--,t.mode=aw;break;case xA:if(t.wrap){for(;h<32;){if(o===0)break e;o--,u|=r[s++]<<h,h+=8}if(g-=c,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Pu(t.check,i,g,a-g):UT(t.check,i,g,a-g)),g=c,t.wrap&4&&(t.flags?u:H8(u))!==t.check){n.msg="incorrect data check",t.mode=pi;break}u=0,h=0}t.mode=B8;case B8:if(t.wrap&&t.flags){for(;h<32;){if(o===0)break e;o--,u+=r[s++]<<h,h+=8}if(t.wrap&4&&u!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=pi;break}u=0,h=0}t.mode=U8;case U8:W=jY;break e;case pi:W=YD;break e;case JD:return KD;case ZD:default:return lc}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=u,t.bits=h,(t.wsize||g!==n.avail_out&&t.mode<pi&&(t.mode<xA||e!==v8))&&rF(n,n.output,n.next_out,g-n.avail_out),p-=n.avail_in,g-=n.avail_out,n.total_in+=p,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Pu(t.check,i,g,n.next_out-g):UT(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Hf?128:0)+(t.mode===sw||t.mode===vA?256:0),(p===0&&g===0||e===v8)&&W===gg&&(W=qY),W},QY=n=>{if(Eg(n))return lc;let e=n.state;return e.window&&(e.window=null),n.state=null,gg},eK=(n,e)=>{if(Eg(n))return lc;const t=n.state;return(t.wrap&2)===0?lc:(t.head=e,e.done=!1,gg)},tK=(n,e)=>{const t=e.length;let r,i,s;return Eg(n)||(r=n.state,r.wrap!==0&&r.mode!==C_)?lc:r.mode===C_&&(i=1,i=UT(i,e,t,0),i!==r.check)?YD:(s=rF(n,e,t,t),s?(r.mode=JD,KD):(r.havedict=1,gg))};var nK=eF,rK=tF,iK=QD,sK=KY,aK=nF,oK=ZY,lK=QY,cK=eK,uK=tK,fK="pako inflate (from Nodeca project)",Wf={inflateReset:nK,inflateReset2:rK,inflateResetKeep:iK,inflateInit:sK,inflateInit2:aK,inflate:oK,inflateEnd:lK,inflateGetHeader:cK,inflateSetDictionary:uK,inflateInfo:fK};function hK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dK=hK;const iF=Object.prototype.toString,{Z_NO_FLUSH:pK,Z_FINISH:gK,Z_OK:i2,Z_STREAM_END:wA,Z_NEED_DICT:_A,Z_STREAM_ERROR:mK,Z_DATA_ERROR:j8,Z_MEM_ERROR:vK}=qD;function $y(n){this.options=VD.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IY,this.strm.avail_out=0;let t=Wf.inflateInit2(this.strm,e.windowBits);if(t!==i2)throw new Error(HT[t]);if(this.header=new dK,Wf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=zT.string2buf(e.dictionary):iF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Wf.inflateSetDictionary(this.strm,e.dictionary),t!==i2)))throw new Error(HT[t])}$y.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?gK:pK,iF.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Wf.inflate(t,a),s===_A&&i&&(s=Wf.inflateSetDictionary(t,i),s===i2?s=Wf.inflate(t,a):s===j8&&(s=_A));t.avail_in>0&&s===wA&&t.state.wrap>0&&n[t.next_in]!==0;)Wf.inflateReset(t),s=Wf.inflate(t,a);switch(s){case mK:case j8:case _A:case vK:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===wA))if(this.options.to==="string"){let c=zT.utf8border(t.output,t.next_out),u=t.next_out-c,h=zT.buf2string(t.output,c);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===i2&&o===0)){if(s===wA)return s=Wf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};$y.prototype.onData=function(n){this.chunks.push(n)};$y.prototype.onEnd=function(n){n===i2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=VD.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function xK(n,e){const t=new $y(e);if(t.push(n),t.err)throw t.msg||HT[t.err];return t.result}var yK=$y,bK=xK,wK={Inflate:yK,inflate:bK};const{Inflate:_K,inflate:SK}=wK;var G8=_K,AK=SK;const sF=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;sF[n]=e}const q8=4294967295;function EK(n,e,t){let r=n;for(let i=0;i<t;i++)r=sF[(r^e[i])&255]^r>>>8;return r}function TK(n,e){return(EK(q8,n,e)^q8)>>>0}function V8(n,e,t){const r=n.readUint32(),i=TK(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function aF(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function oF(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function lF(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function cF(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function uF(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+CK(e[s-i],t[s],t[s-i])&255}}function CK(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),a=Math.abs(r-t);return i<=s&&i<=a?n:s<=a?e:t}function kK(n,e,t,r,i,s){switch(n){case 0:aF(e,t,i);break;case 1:oF(e,t,i,s);break;case 2:lF(e,t,r,i);break;case 3:cF(e,t,r,i,s);break;case 4:uF(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const NK=new Uint16Array([255]),RK=new Uint8Array(NK.buffer),LK=RK[0]===255;function IK(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*t*o);let u=0;for(let h=0;h<7;h++){const p=a[h],g=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((r-p.y)/p.yStep);if(g<=0||m<=0)continue;const b=g*o,w=new Uint8Array(b);for(let _=0;_<m;_++){const T=e[u++],L=e.subarray(u,u+b);u+=b;const R=new Uint8Array(b);kK(T,L,R,w,b,o),w.set(R);for(let D=0;D<g;D++){const j=p.x+D*p.xStep,G=p.y+_*p.yStep;if(!(j>=t||G>=r))for(let P=0;P<o;P++)c[(G*t+j)*o+P]=R[D*o+P]}}}if(s===16){const h=new Uint16Array(c.buffer);if(LK)for(let p=0;p<h.length;p++)h[p]=MK(h[p]);return h}else return c}function MK(n){return(n&255)<<8|n>>8&255}const DK=new Uint16Array([255]),FK=new Uint8Array(DK.buffer),PK=FK[0]===255,OK=new Uint8Array(0);function W8(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),c=new Uint8Array(r*o);let u=OK,h=0,p,g;for(let m=0;m<r;m++){switch(p=e.subarray(h+1,h+1+o),g=c.subarray(m*o,(m+1)*o),e[h]){case 0:aF(p,g,o);break;case 1:oF(p,g,o,a);break;case 2:lF(p,g,u,o);break;case 3:cF(p,g,u,o,a);break;case 4:uF(p,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=g,h+=o+1}if(s===16){const m=new Uint16Array(c.buffer);if(PK)for(let b=0;b<m.length;b++)m[b]=BK(m[b]);return m}else return c}function BK(n){return(n&255)<<8|n>>8&255}const n_=Uint8Array.of(137,80,78,71,13,10,26,10);function $8(n){if(!UK(n.readBytes(n_.length)))throw new Error("wrong PNG signature")}function UK(n){if(n.length<n_.length)return!1;for(let e=0;e<n_.length;e++)if(n[e]!==n_[e])return!1;return!0}const HK="tEXt",zK=0,fF=new TextDecoder("latin1");function jK(n){if(qK(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const GK=/^[\u0000-\u00FF]*$/;function qK(n){if(!GK.test(n))throw new Error("invalid latin1 text")}function VK(n,e,t){const r=hF(e);n[r]=WK(e,t-r.length-1)}function hF(n){for(n.mark();n.readByte()!==zK;);const e=n.offset;n.reset();const t=fF.decode(n.readBytes(e-n.offset-1));return n.skip(1),jK(t),t}function WK(n,e){return fF.decode(n.readBytes(e))}const rl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},SA={UNKNOWN:-1,DEFLATE:0},X8={UNKNOWN:-1,ADAPTIVE:0},AA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ow={NONE:0,BACKGROUND:1,PREVIOUS:2},EA={SOURCE:0,OVER:1};class $K extends P4{constructor(t,r={}){super(t);Pt(this,"_checkCrc");Pt(this,"_inflator");Pt(this,"_png");Pt(this,"_apng");Pt(this,"_end");Pt(this,"_hasPalette");Pt(this,"_palette");Pt(this,"_hasTransparency");Pt(this,"_transparency");Pt(this,"_compressionMethod");Pt(this,"_filterMethod");Pt(this,"_interlaceMethod");Pt(this,"_colorType");Pt(this,"_isAnimated");Pt(this,"_numberOfFrames");Pt(this,"_numberOfPlays");Pt(this,"_frames");Pt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new G8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=SA.UNKNOWN,this._filterMethod=X8.UNKNOWN,this._interlaceMethod=AA.UNKNOWN,this._colorType=rl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for($8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case HK:VK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?V8(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?V8(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=XK(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case rl.GREYSCALE:i=1;break;case rl.TRUECOLOUR:i=3;break;case rl.INDEXED_COLOUR:i=1;break;case rl.GREYSCALE_ALPHA:i=2;break;case rl.TRUECOLOUR_ALPHA:i=4;break;case rl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==SA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case rl.GREYSCALE:case rl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case rl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case rl.UNKNOWN:case rl.GREYSCALE_ALPHA:case rl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=hF(this),i=this.readUint8();if(i!==SA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:AK(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=W8({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case ow.NONE:break;case ow.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case ow.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(a,o)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case EA.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++)t.data[c+h]=r.data[u+h]}break;case EA.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=r.data[u+this._png.channels-1]/i,g=h%(this._png.channels-1)===0?1:r.data[u+h],m=Math.floor(p*g+(1-p)*t.data[c+h]);t.data[c+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==X8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===AA.NO_INTERLACE)this._png.data=W8({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===AA.ADAM7)this._png.data=IK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ow.NONE,blendOp:EA.SOURCE,data:t}),this._inflator=new G8,this._writingDataChunks=!1}}function XK(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Y8;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Y8||(Y8={}));function YK(n,e){return new $K(n,e).decode()}var Cn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function TA(){Cn.console&&typeof Cn.console.log=="function"&&Cn.console.log.apply(Cn.console,arguments)}var Yr={log:TA,warn:function(n){Cn.console&&(typeof Cn.console.warn=="function"?Cn.console.warn.apply(Cn.console,arguments):TA.call(null,arguments))},error:function(n){Cn.console&&(typeof Cn.console.error=="function"?Cn.console.error.apply(Cn.console,arguments):TA(n))}};function CA(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){K0(r.response,e,t)},r.onerror=function(){Yr.error("could not download file")},r.send()}function K8(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lw(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var K0=Cn.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==Cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Cn.URL||Cn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?K8(i.href)?CA(n,e,t):lw(i,i.target="_blank"):lw(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){lw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(K8(n))CA(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){lw(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Dr(s)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return CA(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Cn.HTMLElement)||Cn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(n)}else{var c=Cn.URL||Cn.webkitURL,u=c.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dF(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var r_=Cn.atob.bind(Cn),J8=Cn.btoa.bind(Cn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kA(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=xa(t,r,i,s,e[0],7,-680876936),s=xa(s,t,r,i,e[1],12,-389564586),i=xa(i,s,t,r,e[2],17,606105819),r=xa(r,i,s,t,e[3],22,-1044525330),t=xa(t,r,i,s,e[4],7,-176418897),s=xa(s,t,r,i,e[5],12,1200080426),i=xa(i,s,t,r,e[6],17,-1473231341),r=xa(r,i,s,t,e[7],22,-45705983),t=xa(t,r,i,s,e[8],7,1770035416),s=xa(s,t,r,i,e[9],12,-1958414417),i=xa(i,s,t,r,e[10],17,-42063),r=xa(r,i,s,t,e[11],22,-1990404162),t=xa(t,r,i,s,e[12],7,1804603682),s=xa(s,t,r,i,e[13],12,-40341101),i=xa(i,s,t,r,e[14],17,-1502002290),t=ya(t,r=xa(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ya(s,t,r,i,e[6],9,-1069501632),i=ya(i,s,t,r,e[11],14,643717713),r=ya(r,i,s,t,e[0],20,-373897302),t=ya(t,r,i,s,e[5],5,-701558691),s=ya(s,t,r,i,e[10],9,38016083),i=ya(i,s,t,r,e[15],14,-660478335),r=ya(r,i,s,t,e[4],20,-405537848),t=ya(t,r,i,s,e[9],5,568446438),s=ya(s,t,r,i,e[14],9,-1019803690),i=ya(i,s,t,r,e[3],14,-187363961),r=ya(r,i,s,t,e[8],20,1163531501),t=ya(t,r,i,s,e[13],5,-1444681467),s=ya(s,t,r,i,e[2],9,-51403784),i=ya(i,s,t,r,e[7],14,1735328473),t=ba(t,r=ya(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ba(s,t,r,i,e[8],11,-2022574463),i=ba(i,s,t,r,e[11],16,1839030562),r=ba(r,i,s,t,e[14],23,-35309556),t=ba(t,r,i,s,e[1],4,-1530992060),s=ba(s,t,r,i,e[4],11,1272893353),i=ba(i,s,t,r,e[7],16,-155497632),r=ba(r,i,s,t,e[10],23,-1094730640),t=ba(t,r,i,s,e[13],4,681279174),s=ba(s,t,r,i,e[0],11,-358537222),i=ba(i,s,t,r,e[3],16,-722521979),r=ba(r,i,s,t,e[6],23,76029189),t=ba(t,r,i,s,e[9],4,-640364487),s=ba(s,t,r,i,e[12],11,-421815835),i=ba(i,s,t,r,e[15],16,530742520),t=wa(t,r=ba(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=wa(s,t,r,i,e[7],10,1126891415),i=wa(i,s,t,r,e[14],15,-1416354905),r=wa(r,i,s,t,e[5],21,-57434055),t=wa(t,r,i,s,e[12],6,1700485571),s=wa(s,t,r,i,e[3],10,-1894986606),i=wa(i,s,t,r,e[10],15,-1051523),r=wa(r,i,s,t,e[1],21,-2054922799),t=wa(t,r,i,s,e[8],6,1873313359),s=wa(s,t,r,i,e[15],10,-30611744),i=wa(i,s,t,r,e[6],15,-1560198380),r=wa(r,i,s,t,e[13],21,1309151649),t=wa(t,r,i,s,e[4],6,-145523070),s=wa(s,t,r,i,e[11],10,-1120210379),i=wa(i,s,t,r,e[2],15,718787259),r=wa(r,i,s,t,e[9],21,-343485551),n[0]=Zd(t,n[0]),n[1]=Zd(r,n[1]),n[2]=Zd(i,n[2]),n[3]=Zd(s,n[3])}function T5(n,e,t,r,i,s){return e=Zd(Zd(e,n),Zd(r,s)),Zd(e<<i|e>>>32-i,t)}function xa(n,e,t,r,i,s,a){return T5(e&t|~e&r,n,e,i,s,a)}function ya(n,e,t,r,i,s,a){return T5(e&r|t&~r,n,e,i,s,a)}function ba(n,e,t,r,i,s,a){return T5(e^t^r,n,e,i,s,a)}function wa(n,e,t,r,i,s,a){return T5(t^(e|~r),n,e,i,s,a)}function pF(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)kA(r,KK(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kA(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,kA(r,i),r}function KK(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Z8="0123456789abcdef".split("");function JK(n){for(var e="",t=0;t<4;t++)e+=Z8[n>>8*t+4&15]+Z8[n>>8*t&15];return e}function ZK(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jT(n){return pF(n).map(ZK).join("")}var QK=(function(n){for(var e=0;e<n.length;e++)n[e]=JK(n[e]);return n.join("")})(pF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zd(n,e){if(QK){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function GT(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var h=o[c];u=(u+h+a.charCodeAt(c))%256,o[c]=o[u],o[u]=h}t=n,r=o}else o=r;var p=e.length,g=0,m=0,b="";for(c=0;c<p;c++)m=(m+(h=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=h,a=o[(o[g]+o[m])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q8={print:4,modify:8,copy:16,"annot-forms":32};function Pm(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(Q8.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Q8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=jT(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=GT(this.encryptionKey,this.padding)}function Om(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function eR(n){if(Dr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){Cn.console&&Yr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function k_(n){if(!(this instanceof k_))return new k_(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function gF(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function J0(n,e,t,r,i){if(!(this instanceof J0))return new J0(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,gF.call(this,r,i)}function zm(n,e,t,r,i){if(!(this instanceof zm))return new zm(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,gF.call(this,r,i)}function on(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,u="S",h=null;Dr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),u=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=eR;var b="1.3",w=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(M){b=M};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var T=m.__private__.getPageFormat=function(M){return _[M]};i=i||"a4";var L="compat",R="advanced",D=L;function j(){this.saveGraphicsState(),pe(new cn(Pe,0,0,-Pe,0,xc()*Pe).toString()+" cm"),this.setFontSize(this.getFontSize()/Pe),u="n",D=R}function G(){this.restoreGraphicsState(),u="S",D=L}var P=m.__private__.combineFontStyleAndFontWeight=function(M,J){if(M=="bold"&&J=="normal"||M=="bold"&&J==400||M=="normal"&&J=="italic"||M=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(M=J==400||J==="normal"?M==="italic"?"italic":"normal":J!=700&&J!=="bold"||M!=="normal"?(J==700?"bold":J)+""+M:"bold"),M};m.advancedAPI=function(M){var J=D===L;return J&&j.call(this),typeof M!="function"||(M(this),J&&G.call(this)),this},m.compatAPI=function(M){var J=D===R;return J&&G.call(this),typeof M!="function"||(M(this),J&&j.call(this)),this},m.isAdvancedAPI=function(){return D===R};var W,O=function(M){if(D!==R)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=m.roundToPrecision=m.__private__.roundToPrecision=function(M,J){var ke=e||J;if(isNaN(M)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ke).replace(/0+$/,"")};W=m.hpf=m.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,16)};var B=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return ee(M,2)},q=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return ee(M,3)},Q=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?M*Pe:D===R?M:void 0},re=function(M){return Q((function(J){return D===L?xc()-J:D===R?J:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ge,K="00000000000000000000000000000000",ce=m.__private__.getFileId=function(){return K},Te=m.__private__.setFileId=function(M){return K=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zi=new Pm(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};m.setFileId=function(M){return Te(M),this},m.getFileId=function(){return ce()};var me=m.__private__.convertDateToPDFDate=function(M){var J=M.getTimezoneOffset(),ke=J<0?"+":"-",Ie=Math.floor(Math.abs(J/60)),Be=Math.abs(J%60),ft=[ke,z(Ie),"'",z(Be),"'"].join("");return["D:",M.getFullYear(),z(M.getMonth()+1),z(M.getDate()),z(M.getHours()),z(M.getMinutes()),z(M.getSeconds()),ft].join("")},Oe=m.__private__.convertPDFDateToDate=function(M){var J=parseInt(M.substr(2,4),10),ke=parseInt(M.substr(6,2),10)-1,Ie=parseInt(M.substr(8,2),10),Be=parseInt(M.substr(10,2),10),ft=parseInt(M.substr(12,2),10),yt=parseInt(M.substr(14,2),10);return new Date(J,ke,Ie,Be,ft,yt,0)},se=m.__private__.setCreationDate=function(M){var J;if(M===void 0&&(M=new Date),M instanceof Date)J=me(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=M}return ge=J},I=m.__private__.getCreationDate=function(M){var J=ge;return M==="jsDate"&&(J=Oe(ge)),J};m.setCreationDate=function(M){return se(M),this},m.getCreationDate=function(M){return I(M)};var U,z=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Y=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},oe=0,ye=[],fe=[],Ae=0,Re=[],et=[],de=!1,gt=fe;m.__private__.setCustomOutputDestination=function(M){de=!0,gt=M};var vt=function(M){de||(gt=M)};m.__private__.resetCustomOutputDestination=function(){de=!1,gt=fe};var pe=m.__private__.out=function(M){return M=M.toString(),Ae+=M.length+1,gt.push(M),gt},He=m.__private__.write=function(M){return pe(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(M){for(var J=M.length,ke=new ArrayBuffer(J),Ie=new Uint8Array(ke);J--;)Ie[J]=M.charCodeAt(J);return ke},St=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return St};var it=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return it=D===R?M/Pe:M,this};var Dt,Ct=m.__private__.getFontSize=m.getFontSize=function(){return D===L?it:it*Pe},$t=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return $t=M,this},m.__private__.getR2L=m.getR2L=function(){return $t};var _e,Je=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Dt=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Dt=M}else Dt=parseInt(M,10)};m.__private__.getZoomMode=function(){return Dt};var ut,pt=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');_e=M};m.__private__.getPageMode=function(){return _e};var Ut=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');ut=M};m.__private__.getLayoutMode=function(){return ut},m.__private__.setDisplayMode=m.setDisplayMode=function(M,J,ke){return Je(M),Ut(J),pt(ke),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(wt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[M]},m.__private__.getDocumentProperties=function(){return wt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var J in wt)wt.hasOwnProperty(J)&&M[J]&&(wt[J]=M[J]);return this},m.__private__.setDocumentProperty=function(M,J){if(Object.keys(wt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[M]=J};var lt,Pe,Qe,Ht,kt,Nt={},Bt={},En=[],Gt={},Rn={},Wt={},dn={},Kn=null,fn=0,Xt=[],Jn=new eR(m),za=n.hotfixes||[],ts={},fo={},da=[],cn=function M(J,ke,Ie,Be,ft,yt){if(!(this instanceof M))return new M(J,ke,Ie,Be,ft,yt);isNaN(J)&&(J=1),isNaN(ke)&&(ke=0),isNaN(Ie)&&(Ie=0),isNaN(Be)&&(Be=1),isNaN(ft)&&(ft=0),isNaN(yt)&&(yt=0),this._matrix=[J,ke,Ie,Be,ft,yt]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cn.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(M)},cn.prototype.multiply=function(M){var J=M.sx*this.sx+M.shy*this.shx,ke=M.sx*this.shy+M.shy*this.sy,Ie=M.shx*this.sx+M.sy*this.shx,Be=M.shx*this.shy+M.sy*this.sy,ft=M.tx*this.sx+M.ty*this.shx+this.tx,yt=M.tx*this.shy+M.ty*this.sy+this.ty;return new cn(J,ke,Ie,Be,ft,yt)},cn.prototype.decompose=function(){var M=this.sx,J=this.shy,ke=this.shx,Ie=this.sy,Be=this.tx,ft=this.ty,yt=Math.sqrt(M*M+J*J),Qt=(M/=yt)*ke+(J/=yt)*Ie;ke-=M*Qt,Ie-=J*Qt;var sn=Math.sqrt(ke*ke+Ie*Ie);return Qt/=sn,M*(Ie/=sn)<J*(ke/=sn)&&(M=-M,J=-J,Qt=-Qt,yt=-yt),{scale:new cn(yt,0,0,sn,0,0),translate:new cn(1,0,0,1,Be,ft),rotate:new cn(M,J,-J,M,0,0),skew:new cn(1,0,Qt,1,0,0)}},cn.prototype.toString=function(M){return this.join(" ")},cn.prototype.inversed=function(){var M=this.sx,J=this.shy,ke=this.shx,Ie=this.sy,Be=this.tx,ft=this.ty,yt=1/(M*Ie-J*ke),Qt=Ie*yt,sn=-J*yt,wn=-ke*yt,Ln=M*yt;return new cn(Qt,sn,wn,Ln,-Qt*Be-wn*ft,-sn*Be-Ln*ft)},cn.prototype.applyToPoint=function(M){var J=M.x*this.sx+M.y*this.shx+this.tx,ke=M.x*this.shy+M.y*this.sy+this.ty;return new go(J,ke)},cn.prototype.applyToRectangle=function(M){var J=this.applyToPoint(M),ke=this.applyToPoint(new go(M.x+M.w,M.y+M.h));return new dc(J.x,J.y,ke.x-J.x,ke.y-J.y)},cn.prototype.clone=function(){var M=this.sx,J=this.shy,ke=this.shx,Ie=this.sy,Be=this.tx,ft=this.ty;return new cn(M,J,ke,Ie,Be,ft)},m.Matrix=cn;var jo=m.matrixMult=function(M,J){return J.multiply(M)},ho=new cn(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ho;var ds=function(M,J){if(!Rn[M]){var ke=(J instanceof J0?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);J.id=ke,Rn[M]=ke,Gt[ke]=J,Jn.publish("addPattern",J)}};m.ShadingPattern=J0,m.TilingPattern=zm,m.addShadingPattern=function(M,J){return O("addShadingPattern()"),ds(M,J),this},m.beginTilingPattern=function(M){O("beginTilingPattern()"),vf(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,J){O("endTilingPattern()"),J.stream=et[U].join(`
`),ds(M,J),Jn.publish("endTilingPattern",J),da.pop().restore()};var Xs,Pr=m.__private__.newObject=function(){var M=ci();return te(M,!0),M},ci=m.__private__.newObjectDeferred=function(){return oe++,ye[oe]=function(){return Ae},oe},te=function(M,J){return J=typeof J=="boolean"&&J,ye[M]=Ae,J&&pe(M+" 0 obj"),M},Ce=m.__private__.newAdditionalObject=function(){var M={objId:ci(),content:""};return Re.push(M),M},ve=ci(),xe=ci(),we=m.__private__.decodeColorString=function(M){var J=M.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ke=parseFloat(J[0]);J=[ke,ke,ke,"r"]}for(var Ie="#",Be=0;Be<3;Be++)Ie+=("0"+Math.floor(255*parseFloat(J[Be])).toString(16)).slice(-2);return Ie},Ne=m.__private__.encodeColorString=function(M){var J;typeof M=="string"&&(M={ch1:M});var ke=M.ch1,Ie=M.ch2,Be=M.ch3,ft=M.ch4,yt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var Qt=new dF(ke);if(Qt.ok)ke=Qt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var sn=parseInt(ke.substr(1),16);ke=sn>>16&255,Ie=sn>>8&255,Be=255&sn}if(Ie===void 0||ft===void 0&&ke===Ie&&Ie===Be)J=typeof ke=="string"?ke+" "+yt[0]:M.precision===2?B(ke/255)+" "+yt[0]:q(ke/255)+" "+yt[0];else if(ft===void 0||Dr(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",yt[1]].join(" ");J=typeof ke=="string"?[ke,Ie,Be,yt[1]].join(" "):M.precision===2?[B(ke/255),B(Ie/255),B(Be/255),yt[1]].join(" "):[q(ke/255),q(Ie/255),q(Be/255),yt[1]].join(" ")}else J=typeof ke=="string"?[ke,Ie,Be,ft,yt[2]].join(" "):M.precision===2?[B(ke),B(Ie),B(Be),B(ft),yt[2]].join(" "):[q(ke),q(Ie),q(Be),q(ft),yt[2]].join(" ");return J},je=m.__private__.getFilters=function(){return a},rt=m.__private__.putStream=function(M){var J=(M=M||{}).data||"",ke=M.filters||je(),Ie=M.alreadyAppliedFilters||[],Be=M.addLength1||!1,ft=J.length,yt=M.objectId,Qt=function(ji){return ji};if(h!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Qt=zi.encryptor(yt,0));var sn={};ke===!0&&(ke=["FlateEncode"]);var wn=M.additionalKeyValues||[],Ln=(sn=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(J,ke):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(sn.data.length!==0&&(wn.push({key:"Length",value:sn.data.length}),Be===!0&&wn.push({key:"Length1",value:ft})),Ln.length!=0)if(Ln.split("/").length-1==1)wn.push({key:"Filter",value:Ln});else{wn.push({key:"Filter",value:"["+Ln+"]"});for(var rr=0;rr<wn.length;rr+=1)if(wn[rr].key==="DecodeParms"){for(var Qr=[],xi=0;xi<sn.reverseChain.split("/").length-1;xi+=1)Qr.push("null");Qr.push(wn[rr].value),wn[rr].value="["+Qr.join(" ")+"]"}}pe("<<");for(var Or=0;Or<wn.length;Or++)pe("/"+wn[Or].key+" "+wn[Or].value);pe(">>"),sn.data.length!==0&&(pe("stream"),pe(Qt(sn.data)),pe("endstream"))},qe=m.__private__.putPage=function(M){var J=M.number,ke=M.data,Ie=M.objId,Be=M.contentsObjId;te(Ie,!0),pe("<</Type /Page"),pe("/Parent "+M.rootDictionaryObjId+" 0 R"),pe("/Resources "+M.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(W(M.mediaBox.bottomLeftX))+" "+parseFloat(W(M.mediaBox.bottomLeftY))+" "+W(M.mediaBox.topRightX)+" "+W(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&pe("/CropBox ["+W(M.cropBox.bottomLeftX)+" "+W(M.cropBox.bottomLeftY)+" "+W(M.cropBox.topRightX)+" "+W(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&pe("/BleedBox ["+W(M.bleedBox.bottomLeftX)+" "+W(M.bleedBox.bottomLeftY)+" "+W(M.bleedBox.topRightX)+" "+W(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&pe("/TrimBox ["+W(M.trimBox.bottomLeftX)+" "+W(M.trimBox.bottomLeftY)+" "+W(M.trimBox.topRightX)+" "+W(M.trimBox.topRightY)+"]"),M.artBox!==null&&pe("/ArtBox ["+W(M.artBox.bottomLeftX)+" "+W(M.artBox.bottomLeftY)+" "+W(M.artBox.topRightX)+" "+W(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&pe("/UserUnit "+M.userUnit),Jn.publish("putPage",{objId:Ie,pageContext:Xt[J],pageNumber:J,page:ke}),pe("/Contents "+Be+" 0 R"),pe(">>"),pe("endobj");var ft=ke.join(`
`);return D===R&&(ft+=`
Q`),te(Be,!0),rt({data:ft,filters:je(),objectId:Be}),pe("endobj"),Ie},Ve=m.__private__.putPages=function(){var M,J,ke=[];for(M=1;M<=fn;M++)Xt[M].objId=ci(),Xt[M].contentsObjId=ci();for(M=1;M<=fn;M++)ke.push(qe({number:M,data:et[M],objId:Xt[M].objId,contentsObjId:Xt[M].contentsObjId,mediaBox:Xt[M].mediaBox,cropBox:Xt[M].cropBox,bleedBox:Xt[M].bleedBox,trimBox:Xt[M].trimBox,artBox:Xt[M].artBox,userUnit:Xt[M].userUnit,rootDictionaryObjId:ve,resourceDictionaryObjId:xe}));te(ve,!0),pe("<</Type /Pages");var Ie="/Kids [";for(J=0;J<fn;J++)Ie+=ke[J]+" 0 R ";pe(Ie+"]"),pe("/Count "+fn),pe(">>"),pe("endobj"),Jn.publish("postPutPages")},$e=function(M){Jn.publish("putFont",{font:M,out:pe,newObject:Pr,putStream:rt}),M.isAlreadyPutted!==!0&&(M.objectNumber=Pr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Om(M.postScriptName)),pe("/Subtype /Type1"),typeof M.encoding=="string"&&pe("/Encoding /"+M.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},_t=function(M){M.objectNumber=Pr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[W(M.x),W(M.y),W(M.x+M.width),W(M.y+M.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ke=M.pages[1].join(`
`);rt({data:ke,additionalKeyValues:J,objectId:M.objectNumber}),pe("endobj")},Tt=function(M,J){J||(J=21);var ke=Pr(),Ie=(function(yt,Qt){var sn,wn=[],Ln=1/(Qt-1);for(sn=0;sn<1;sn+=Ln)wn.push(sn);if(wn.push(1),yt[0].offset!=0){var rr={offset:0,color:yt[0].color};yt.unshift(rr)}if(yt[yt.length-1].offset!=1){var Qr={offset:1,color:yt[yt.length-1].color};yt.push(Qr)}for(var xi="",Or=0,ji=0;ji<wn.length;ji++){for(sn=wn[ji];sn>yt[Or+1].offset;)Or++;var Ni=yt[Or].offset,gs=(sn-Ni)/(yt[Or+1].offset-Ni),yc=yt[Or].color,Xo=yt[Or+1].color;xi+=Y(Math.round((1-gs)*yc[0]+gs*Xo[0]).toString(16))+Y(Math.round((1-gs)*yc[1]+gs*Xo[1]).toString(16))+Y(Math.round((1-gs)*yc[2]+gs*Xo[2]).toString(16))}return xi.trim()})(M.colors,J),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+J+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Ie,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),pe("endobj"),M.objectNumber=Pr(),pe("<< /ShadingType "+M.type),pe("/ColorSpace /DeviceRGB");var ft="/Coords ["+W(parseFloat(M.coords[0]))+" "+W(parseFloat(M.coords[1]))+" ";M.type===2?ft+=W(parseFloat(M.coords[2]))+" "+W(parseFloat(M.coords[3])):ft+=W(parseFloat(M.coords[2]))+" "+W(parseFloat(M.coords[3]))+" "+W(parseFloat(M.coords[4]))+" "+W(parseFloat(M.coords[5])),pe(ft+="]"),M.matrix&&pe("/Matrix ["+M.matrix.toString()+"]"),pe("/Function "+ke+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Ft=function(M,J){var ke=ci(),Ie=Pr();J.push({resourcesOid:ke,objectOid:Ie}),M.objectNumber=Ie;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+M.boundingBox.map(W).join(" ")+"]"}),Be.push({key:"XStep",value:W(M.xStep)}),Be.push({key:"YStep",value:W(M.yStep)}),Be.push({key:"Resources",value:ke+" 0 R"}),M.matrix&&Be.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),rt({data:M.stream,additionalKeyValues:Be,objectId:M.objectNumber}),pe("endobj")},Et=function(M){for(var J in M.objectNumber=Pr(),pe("<<"),M)switch(J){case"opacity":pe("/ca "+B(M[J]));break;case"stroke-opacity":pe("/CA "+B(M[J]))}pe(">>"),pe("endobj")},Lt=function(M){te(M.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in pe("/Font <<"),Nt)Nt.hasOwnProperty(J)&&(p===!1||p===!0&&g.hasOwnProperty(J))&&pe("/"+J+" "+Nt[J].objectNumber+" 0 R");pe(">>")})(),(function(){if(Object.keys(Gt).length>0){for(var J in pe("/Shading <<"),Gt)Gt.hasOwnProperty(J)&&Gt[J]instanceof J0&&Gt[J].objectNumber>=0&&pe("/"+J+" "+Gt[J].objectNumber+" 0 R");Jn.publish("putShadingPatternDict"),pe(">>")}})(),(function(J){if(Object.keys(Gt).length>0){for(var ke in pe("/Pattern <<"),Gt)Gt.hasOwnProperty(ke)&&Gt[ke]instanceof m.TilingPattern&&Gt[ke].objectNumber>=0&&Gt[ke].objectNumber<J&&pe("/"+ke+" "+Gt[ke].objectNumber+" 0 R");Jn.publish("putTilingPatternDict"),pe(">>")}})(M.objectOid),(function(){if(Object.keys(Wt).length>0){var J;for(J in pe("/ExtGState <<"),Wt)Wt.hasOwnProperty(J)&&Wt[J].objectNumber>=0&&pe("/"+J+" "+Wt[J].objectNumber+" 0 R");Jn.publish("putGStateDict"),pe(">>")}})(),(function(){for(var J in pe("/XObject <<"),ts)ts.hasOwnProperty(J)&&ts[J].objectNumber>=0&&pe("/"+J+" "+ts[J].objectNumber+" 0 R");Jn.publish("putXobjectDict"),pe(">>")})(),pe(">>"),pe("endobj")},Kt=function(M){Bt[M.fontName]=Bt[M.fontName]||{},Bt[M.fontName][M.fontStyle]=M.id},wr=function(M,J,ke,Ie,Be){var ft={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:M,fontName:J,fontStyle:ke,encoding:Ie,isStandardFont:Be||!1,metadata:{}};return Jn.publish("addFont",{font:ft,instance:this}),Nt[ft.id]=ft,Kt(ft),ft.id},qn=m.__private__.pdfEscape=m.pdfEscape=function(M,J){return(function(ke,Ie){var Be,ft,yt,Qt,sn,wn,Ln,rr,Qr;if(yt=(Ie=Ie||{}).sourceEncoding||"Unicode",sn=Ie.outputEncoding,(Ie.autoencode||sn)&&Nt[lt].metadata&&Nt[lt].metadata[yt]&&Nt[lt].metadata[yt].encoding&&(Qt=Nt[lt].metadata[yt].encoding,!sn&&Nt[lt].encoding&&(sn=Nt[lt].encoding),!sn&&Qt.codePages&&(sn=Qt.codePages[0]),typeof sn=="string"&&(sn=Qt[sn]),sn)){for(Ln=!1,wn=[],Be=0,ft=ke.length;Be<ft;Be++)(rr=sn[ke.charCodeAt(Be)])?wn.push(String.fromCharCode(rr)):wn.push(ke[Be]),wn[Be].charCodeAt(0)>>8&&(Ln=!0);ke=wn.join("")}for(Be=ke.length;Ln===void 0&&Be!==0;)ke.charCodeAt(Be-1)>>8&&(Ln=!0),Be--;if(!Ln)return ke;for(wn=Ie.noBOM?[]:[254,255],Be=0,ft=ke.length;Be<ft;Be++){if((Qr=(rr=ke.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+ke+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wn.push(Qr),wn.push(rr-(Qr<<8))}return String.fromCharCode.apply(void 0,wn)})(M,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=m.__private__.beginPage=function(M){et[++fn]=[],Xt[fn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},qo(fn),vt(et[U])},Ys=function(M,J){var ke,Ie,Be;switch(t=J||t,typeof M=="string"&&(ke=T(M.toLowerCase()),Array.isArray(ke)&&(Ie=ke[0],Be=ke[1])),Array.isArray(M)&&(Ie=M[0]*Pe,Be=M[1]*Pe),isNaN(Ie)&&(Ie=i[0],Be=i[1]),(Ie>14400||Be>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Be=Math.min(14400,Be)),i=[Ie,Be],t.substr(0,1)){case"l":Be>Ie&&(i=[Be,Ie]);break;case"p":Ie>Be&&(i=[Be,Ie])}Tr(i),vn(pf),pe(qa),Uh!==0&&pe(Uh+" J"),ns!==0&&pe(ns+" j"),Jn.publish("addPage",{pageNumber:fn})},Go=function(M){M>0&&M<=fn&&(et.splice(M,1),Xt.splice(M,1),fn--,U>fn&&(U=fn),this.setPage(U))},qo=function(M){M>0&&M<=fn&&(U=M)},ja=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return et.length-1},gu=function(M,J,ke){var Ie,Be=void 0;return ke=ke||{},M=M!==void 0?M:Nt[lt].fontName,J=J!==void 0?J:Nt[lt].fontStyle,Ie=M.toLowerCase(),Bt[Ie]!==void 0&&Bt[Ie][J]!==void 0?Be=Bt[Ie][J]:Bt[M]!==void 0&&Bt[M][J]!==void 0?Be=Bt[M][J]:ke.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+M+"', '"+J+"'. Refer to getFontList() for available fonts."),Be||ke.noFallback||(Be=Bt.times[J])==null&&(Be=Bt.times.normal),Be},Zr=m.__private__.putInfo=function(){var M=Pr(),J=function(Ie){return Ie};for(var ke in h!==null&&(J=zi.encryptor(M,0)),pe("<<"),pe("/Producer ("+qn(J("jsPDF "+on.version))+")"),wt)wt.hasOwnProperty(ke)&&wt[ke]&&pe("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+qn(J(wt[ke]))+")");pe("/CreationDate ("+qn(J(ge))+")"),pe(">>"),pe("endobj")},fc=m.__private__.putCatalog=function(M){var J=(M=M||{}).rootDictionaryObjId||ve;switch(Pr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+J+" 0 R"),Dt||(Dt="fullwidth"),Dt){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Dt;ke.substr(ke.length-1)==="%"&&(Dt=parseInt(Dt)/100),typeof Dt=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+B(Dt)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}_e&&pe("/PageMode /"+_e),Jn.publish("putCatalog"),pe(">>"),pe("endobj")},Vo=m.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(oe+1)),pe("/Root "+oe+" 0 R"),pe("/Info "+(oe-1)+" 0 R"),h!==null&&pe("/Encrypt "+zi.oid+" 0 R"),pe("/ID [ <"+K+"> <"+K+"> ]"),pe(">>")},ur=m.__private__.putHeader=function(){pe("%PDF-"+b),pe("%")},x0=m.__private__.putXRef=function(){var M="0000000000";pe("xref"),pe("0 "+(oe+1)),pe("0000000000 65535 f ");for(var J=1;J<=oe;J++)typeof ye[J]=="function"?pe((M+ye[J]()).slice(-10)+" 00000 n "):ye[J]!==void 0?pe((M+ye[J]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Tl=m.__private__.buildDocument=function(){var M;oe=0,Ae=0,fe=[],ye=[],Re=[],ve=ci(),xe=ci(),vt(fe),Jn.publish("buildDocument"),ur(),Ve(),(function(){Jn.publish("putAdditionalObjects");for(var ke=0;ke<Re.length;ke++){var Ie=Re[ke];te(Ie.objId,!0),pe(Ie.content),pe("endobj")}Jn.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var ke in Nt)Nt.hasOwnProperty(ke)&&(p===!1||p===!0&&g.hasOwnProperty(ke))&&$e(Nt[ke])})(),(function(){var ke;for(ke in Wt)Wt.hasOwnProperty(ke)&&Et(Wt[ke])})(),(function(){for(var ke in ts)ts.hasOwnProperty(ke)&&_t(ts[ke])})(),(function(ke){var Ie;for(Ie in Gt)Gt.hasOwnProperty(Ie)&&(Gt[Ie]instanceof J0?Tt(Gt[Ie]):Gt[Ie]instanceof zm&&Ft(Gt[Ie],ke))})(M),Jn.publish("putResources"),M.forEach(Lt),Lt({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),Jn.publish("postPutResources"),h!==null&&(zi.oid=Pr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+zi.v),pe("/R "+zi.r),pe("/U <"+zi.toHexString(zi.U)+">"),pe("/O <"+zi.toHexString(zi.O)+">"),pe("/P "+zi.P),pe(">>"),pe("endobj")),Zr(),fc();var J=Ae;return x0(),Vo(),pe("startxref"),pe(""+J),pe("%%EOF"),vt(et[U]),fe.join(`
`)},mu=m.__private__.getBlob=function(M){return new Blob([Ke(M)],{type:"application/pdf"})},y0=m.output=m.__private__.output=(Xs=function(M,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",M){case void 0:return Tl();case"save":m.save(J.filename);break;case"arraybuffer":return Ke(Tl());case"blob":return mu(Tl());case"bloburi":case"bloburl":if(Cn.URL!==void 0&&typeof Cn.URL.createObjectURL=="function")return Cn.URL&&Cn.URL.createObjectURL(mu(Tl()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Ie=Tl();try{ke=J8(Ie)}catch{ke=J8(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+J.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Cn)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Be=J.pdfObjectUrl,ft="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Qt=Cn.open();return Qt!==null&&Qt.document.write(yt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Cn)==="[object Window]"){var sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',wn=Cn.open();if(wn!==null){wn.document.write(sn);var Ln=this;wn.document.documentElement.querySelector("#pdfViewer").onload=function(){wn.document.title=J.filename,wn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ln.output("bloburl"))}}return wn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Qr=Cn.open();if(Qr!==null&&(Qr.document.write(rr),Qr.document.title=J.filename),Qr||typeof safari>"u")return Qr;break;case"datauri":case"dataurl":return Cn.document.location.href=this.output("datauristring",J);default:return null}},Xs.foo=function(){try{return Xs.apply(this,arguments)}catch(ke){var M=ke.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var J="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ke.message;if(!Cn.console)throw new Error(J);Cn.console.error(J,ke),Cn.alert&&alert(J)}},Xs.foo.bar=Xs,Xs.foo),Ks=function(M){return Array.isArray(za)===!0&&za.indexOf(M)>-1};switch(r){case"pt":Pe=1;break;case"mm":Pe=72/25.4;break;case"cm":Pe=72/2.54;break;case"in":Pe=72;break;case"px":Pe=Ks("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pe=12;break;case"ex":Pe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Pe=r}var zi=null;se(),Te();var ki=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[M].objId,pageNumber:M,pageContext:Xt[M]}},Oh=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Xt)if(Xt[J].objId===M)break;return ki(J)},Mg=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Xt[U].objId,pageNumber:U,pageContext:Xt[U]}};m.addPage=function(){return Ys.apply(this,arguments),this},m.setPage=function(){return qo.apply(this,arguments),vt.call(this,et[U]),this},m.insertPage=function(M){return this.addPage(),this.movePage(U,M),this},m.movePage=function(M,J){var ke,Ie;if(M>J){ke=et[M],Ie=Xt[M];for(var Be=M;Be>J;Be--)et[Be]=et[Be-1],Xt[Be]=Xt[Be-1];et[J]=ke,Xt[J]=Ie,this.setPage(J)}else if(M<J){ke=et[M],Ie=Xt[M];for(var ft=M;ft<J;ft++)et[ft]=et[ft+1],Xt[ft]=Xt[ft+1];et[J]=ke,Xt[J]=Ie,this.setPage(J)}return this},m.deletePage=function(){return Go.apply(this,arguments),this},m.__private__.text=m.text=function(M,J,ke,Ie,Be){var ft,yt,Qt,sn,wn,Ln,rr,Qr,xi,Or=(Ie=Ie||{}).scope||this;if(typeof M=="number"&&typeof J=="number"&&(typeof ke=="string"||Array.isArray(ke))){var ji=ke;ke=J,J=M,M=ji}if(arguments[3]instanceof cn==0?(Qt=arguments[4],sn=arguments[5],Dr(rr=arguments[3])==="object"&&rr!==null||(typeof Qt=="string"&&(sn=Qt,Qt=null),typeof rr=="string"&&(sn=rr,rr=null),typeof rr=="number"&&(Qt=rr,rr=null),Ie={flags:rr,angle:Qt,align:sn})):(O("The transform parameter of text() with a Matrix value"),xi=Be),isNaN(J)||isNaN(ke)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Or;var Ni,gs="",yc=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:hc,Xo=Or.internal.scaleFactor;function bc(fr){return fr=fr.split("	").join(Array(Ie.TabLen||9).join(" ")),qn(fr,rr)}function k0(fr){for(var ir,Br=fr.concat(),bi=[],Pl=Br.length;Pl--;)typeof(ir=Br.shift())=="string"?bi.push(ir):Array.isArray(fr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?bi.push(ir[0]):bi.push([ir[0],ir[1],ir[2]]);return bi}function zh(fr,ir){var Br;if(typeof fr=="string")Br=ir(fr)[0];else if(Array.isArray(fr)){for(var bi,Pl,Zo=fr.concat(),wf=[],L0=Zo.length;L0--;)typeof(bi=Zo.shift())=="string"?wf.push(ir(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(Pl=ir(bi[0],bi[1],bi[2]),wf.push([Pl[0],Pl[1],Pl[2]]));Br=wf}return Br}var Nl=!1,Yo=!0;if(typeof M=="string")Nl=!0;else if(Array.isArray(M)){var yf=M.concat();yt=[];for(var wc,rs=yf.length;rs--;)(typeof(wc=yf.shift())!="string"||Array.isArray(wc)&&typeof wc[0]!="string")&&(Yo=!1);Nl=Yo}if(Nl===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var xu=it/Or.internal.scaleFactor,yu=xu*(yc-1);switch(Ie.baseline){case"bottom":ke-=yu;break;case"top":ke+=xu-yu;break;case"hanging":ke+=xu-2*yu;break;case"middle":ke+=xu/2-yu}if((Ln=Ie.maxWidth||0)>0&&(typeof M=="string"?M=Or.splitTextToSize(M,Ln):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(fr,ir){return fr.concat(Or.splitTextToSize(ir,Ln))},[]))),ft={text:M,x:J,y:ke,options:Ie,mutex:{pdfEscape:qn,activeFontKey:lt,fonts:Nt,activeFontSize:it}},Jn.publish("preProcessText",ft),M=ft.text,Qt=(Ie=ft.options).angle,xi instanceof cn==0&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,Ie.rotationDirection===0&&(Qt=-Qt),D===R&&(Qt=-Qt);var jh=Math.cos(Qt),Rl=Math.sin(Qt);xi=new cn(jh,Rl,-Rl,jh,0,0)}else Qt&&Qt instanceof cn&&(xi=Qt);D!==R||xi||(xi=ho),(wn=Ie.charSpace||po)!==void 0&&(gs+=W(Q(wn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qr=Ie.horizontalScale)!==void 0&&(gs+=W(100*Qr)+` Tz
`),Ie.lang;var Zs=-1,_c=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Gh=Or.internal.getCurrentPageInfo().pageContext;switch(_c){case 0:case!1:case"fill":Zs=0;break;case 1:case!0:case"stroke":Zs=1;break;case 2:case"fillThenStroke":Zs=2;break;case 3:case"invisible":Zs=3;break;case 4:case"fillAndAddForClipping":Zs=4;break;case 5:case"strokeAndAddPathForClipping":Zs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zs=6;break;case 7:case"addToPathForClipping":Zs=7}var N0=Gh.usedRenderingMode!==void 0?Gh.usedRenderingMode:-1;Zs!==-1?gs+=Zs+` Tr
`:N0!==-1&&(gs+=`0 Tr
`),Zs!==-1&&(Gh.usedRenderingMode=Zs),sn=Ie.align||"left";var Va,Ko=it*yc,Sc=Or.internal.pageSize.getWidth(),R0=Nt[lt];wn=Ie.charSpace||po,Ln=Ie.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Jo=[],bu=function(fr){return Or.getStringUnitWidth(fr,{font:R0,charSpace:wn,fontSize:it,doKerning:!1})*it/Xo};if(Object.prototype.toString.call(M)==="[object Array]"){var ga;yt=k0(M),sn!=="left"&&(Va=yt.map(bu));var Qs,Ll=0;if(sn==="right"){J-=Va[0],M=[],rs=yt.length;for(var Il=0;Il<rs;Il++)Il===0?(Qs=Ga(J),ga=ps(ke)):(Qs=Q(Ll-Va[Il]),ga=-Ko),M.push([yt[Il],Qs,ga]),Ll=Va[Il]}else if(sn==="center"){J-=Va[0]/2,M=[],rs=yt.length;for(var Ac=0;Ac<rs;Ac++)Ac===0?(Qs=Ga(J),ga=ps(ke)):(Qs=Q((Ll-Va[Ac])/2),ga=-Ko),M.push([yt[Ac],Qs,ga]),Ll=Va[Ac]}else if(sn==="left"){M=[],rs=yt.length;for(var qh=0;qh<rs;qh++)M.push(yt[qh])}else if(sn==="justify"&&R0.encoding==="Identity-H"){M=[],rs=yt.length,Ln=Ln!==0?Ln:Sc;for(var Vh=0,yi=0;yi<rs;yi++)if(ga=yi===0?ps(ke):-Ko,Qs=yi===0?Ga(J):Vh,yi<rs-1){var jg=Q((Ln-Va[yi])/(yt[yi].split(" ").length-1)),Ml=yt[yi].split(" ");M.push([Ml[0]+" ",Qs,ga]),Vh=0;for(var Dl=1;Dl<Ml.length;Dl++){var ms=(bu(Ml[Dl-1]+" "+Ml[Dl])-bu(Ml[Dl]))*Xo+jg;Dl==Ml.length-1?M.push([Ml[Dl],ms,0]):M.push([Ml[Dl]+" ",ms,0]),Vh-=ms}}else M.push([yt[yi],Qs,ga]);M.push(["",Vh,0])}else{if(sn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],rs=yt.length,Ln=Ln!==0?Ln:Sc,yi=0;yi<rs;yi++){ga=yi===0?ps(ke):-Ko,Qs=yi===0?Ga(J):0;var Ec=yt[yi].split(" ").length-1,Wh=Ec>0?(Ln-Va[yi])/Ec:0;yi<rs-1?Jo.push(W(Q(Wh))):Jo.push(0),M.push([yt[yi],Qs,ga])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:$t)===!0&&(M=zh(M,function(fr,ir,Br){return[fr.split("").reverse().join(""),ir,Br]})),ft={text:M,x:J,y:ke,options:Ie,mutex:{pdfEscape:qn,activeFontKey:lt,fonts:Nt,activeFontSize:it}},Jn.publish("postProcessText",ft),M=ft.text,Ni=ft.mutex.isHex||!1;var $h=Nt[lt].encoding;$h!=="WinAnsiEncoding"&&$h!=="StandardEncoding"||(M=zh(M,function(fr,ir,Br){return[bc(fr),ir,Br]})),yt=k0(M),M=[];for(var Tc,Cc,Fl,bf=Array.isArray(yt[0])?1:0,Wa="",kc=function(fr,ir,Br){var bi="";return Br instanceof cn?(Br=typeof Ie.angle=="number"?jo(Br,new cn(1,0,0,1,fr,ir)):jo(new cn(1,0,0,1,fr,ir),Br),D===R&&(Br=jo(new cn(1,0,0,-1,0,0),Br)),bi=Br.join(" ")+` Tm
`):bi=W(fr)+" "+W(ir)+` Td
`,bi},Ls=0;Ls<yt.length;Ls++){switch(Wa="",bf){case 1:Fl=(Ni?"<":"(")+yt[Ls][0]+(Ni?">":")"),Tc=parseFloat(yt[Ls][1]),Cc=parseFloat(yt[Ls][2]);break;case 0:Fl=(Ni?"<":"(")+yt[Ls]+(Ni?">":")"),Tc=Ga(J),Cc=ps(ke)}Jo!==void 0&&Jo[Ls]!==void 0&&(Wa=Jo[Ls]+` Tw
`),Ls===0?M.push(Wa+kc(Tc,Cc,xi)+Fl):bf===0?M.push(Wa+Fl):bf===1&&M.push(Wa+kc(Tc,Cc,xi)+Fl)}M=bf===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var mo=`BT
/`;return mo+=lt+" "+it+` Tf
`,mo+=W(it*yc)+` TL
`,mo+=Cl+`
`,mo+=gs,mo+=M,pe(mo+="ET"),g[lt]=!0,Or};var b0=m.__private__.clip=m.clip=function(M){return pe(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return b0("evenodd")},m.__private__.discardPath=m.discardPath=function(){return pe("n"),this};var Js=m.__private__.isValidStyle=function(M){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return Js(M)&&(u=M),this};var w0=m.__private__.getStyle=m.getStyle=function(M){var J=u;switch(M){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=M}return J},_0=m.close=function(){return pe("h"),this};m.stroke=function(){return pe("S"),this},m.fill=function(M){return Wo("f",M),this},m.fillEvenOdd=function(M){return Wo("f*",M),this},m.fillStroke=function(M){return Wo("B",M),this},m.fillStrokeEvenOdd=function(M){return Wo("B*",M),this};var Wo=function(M,J){Dr(J)==="object"?Fg(J,M):pe(M)},df=function(M){M===null||D===R&&M===void 0||(M=w0(M),pe(M))};function Dg(M,J,ke,Ie,Be){var ft=new zm(J||this.boundingBox,ke||this.xStep,Ie||this.yStep,this.gState,Be||this.matrix);ft.stream=this.stream;var yt=M+"$$"+this.cloneIndex+++"$$";return ds(yt,ft),ft}var Fg=function(M,J){var ke=Rn[M.key],Ie=Gt[ke];if(Ie instanceof J0)pe("q"),pe(S0(J)),Ie.gState&&m.setGState(Ie.gState),pe(M.matrix.toString()+" cm"),pe("/"+ke+" sh"),pe("Q");else if(Ie instanceof zm){var Be=new cn(1,0,0,-1,0,xc());M.matrix&&(Be=Be.multiply(M.matrix||ho),ke=Dg.call(Ie,M.key,M.boundingBox,M.xStep,M.yStep,Be).id),pe("q"),pe("/Pattern cs"),pe("/"+ke+" scn"),Ie.gState&&m.setGState(Ie.gState),pe(J),pe("Q")}},S0=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},A0=m.moveTo=function(M,J){return pe(W(Q(M))+" "+W(re(J))+" m"),this},Pg=m.lineTo=function(M,J){return pe(W(Q(M))+" "+W(re(J))+" l"),this},pa=m.curveTo=function(M,J,ke,Ie,Be,ft){return pe([W(Q(M)),W(re(J)),W(Q(ke)),W(re(Ie)),W(Q(Be)),W(re(ft)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,J,ke,Ie,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Ie)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[ke-M,Ie-J]],M,J,[1,1],Be||"S"):this.lines([[ke-M,Ie-J]],M,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,J,ke,Ie,Be,ft){var yt,Qt,sn,wn,Ln,rr,Qr,xi,Or,ji,Ni,gs;if(typeof M=="number"&&(gs=ke,ke=J,J=M,M=gs),Ie=Ie||[1,1],ft=ft||!1,isNaN(J)||isNaN(ke)||!Array.isArray(M)||!Array.isArray(Ie)||!Js(Be)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(A0(J,ke),yt=Ie[0],Qt=Ie[1],wn=M.length,ji=J,Ni=ke,sn=0;sn<wn;sn++)(Ln=M[sn]).length===2?(ji=Ln[0]*yt+ji,Ni=Ln[1]*Qt+Ni,Pg(ji,Ni)):(rr=Ln[0]*yt+ji,Qr=Ln[1]*Qt+Ni,xi=Ln[2]*yt+ji,Or=Ln[3]*Qt+Ni,ji=Ln[4]*yt+ji,Ni=Ln[5]*Qt+Ni,pa(rr,Qr,xi,Or,ji,Ni));return ft&&_0(),df(Be),this},m.path=function(M){for(var J=0;J<M.length;J++){var ke=M[J],Ie=ke.c;switch(ke.op){case"m":A0(Ie[0],Ie[1]);break;case"l":Pg(Ie[0],Ie[1]);break;case"c":pa.apply(this,Ie);break;case"h":_0()}}return this},m.__private__.rect=m.rect=function(M,J,ke,Ie,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Ie)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(Ie=-Ie),pe([W(Q(M)),W(re(J)),W(Q(ke)),W(Q(Ie)),"re"].join(" ")),df(Be),this},m.__private__.triangle=m.triangle=function(M,J,ke,Ie,Be,ft,yt){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Ie)||isNaN(Be)||isNaN(ft)||!Js(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-M,Ie-J],[Be-ke,ft-Ie],[M-Be,J-ft]],M,J,[1,1],yt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,J,ke,Ie,Be,ft,yt){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Ie)||isNaN(Be)||isNaN(ft)||!Js(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ke),ft=Math.min(ft,.5*Ie),this.lines([[ke-2*Be,0],[Be*Qt,0,Be,ft-ft*Qt,Be,ft],[0,Ie-2*ft],[0,ft*Qt,-Be*Qt,ft,-Be,ft],[2*Be-ke,0],[-Be*Qt,0,-Be,-ft*Qt,-Be,-ft],[0,2*ft-Ie],[0,-ft*Qt,Be*Qt,-ft,Be,-ft]],M+Be,J,[1,1],yt,!0),this},m.__private__.ellipse=m.ellipse=function(M,J,ke,Ie,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Ie)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*ke,yt=4/3*(Math.SQRT2-1)*Ie;return A0(M+ke,J),pa(M+ke,J-yt,M+ft,J-Ie,M,J-Ie),pa(M-ft,J-Ie,M-ke,J-yt,M-ke,J),pa(M-ke,J+yt,M-ft,J+Ie,M,J+Ie),pa(M+ft,J+Ie,M+ke,J+yt,M+ke,J),df(Be),this},m.__private__.circle=m.circle=function(M,J,ke,Ie){if(isNaN(M)||isNaN(J)||isNaN(ke)||!Js(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,J,ke,ke,Ie)},m.setFont=function(M,J,ke){return ke&&(J=P(J,ke)),lt=gu(M,J,{disableWarning:!1}),this};var $o=m.__private__.getFont=m.getFont=function(){return Nt[gu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,J,ke={};for(M in Bt)if(Bt.hasOwnProperty(M))for(J in ke[M]=[],Bt[M])Bt[M].hasOwnProperty(J)&&ke[M].push(J);return ke},m.addFont=function(M,J,ke,Ie,Be){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(ke=P(ke,Ie)),wr.call(this,M,J,ke,Be=Be||"Identity-H")};var hc,pf=n.lineWidth||.200025,vu=m.__private__.getLineWidth=m.getLineWidth=function(){return pf},vn=m.__private__.setLineWidth=m.setLineWidth=function(M){return pf=M,pe(W(Q(M))+" w"),this};m.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(M,J){if(M=M||[],J=J||0,isNaN(J)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ke){return W(Q(ke))}).join(" "),J=W(Q(J)),pe("["+M+"] "+J+" d"),this};var Og=m.__private__.getLineHeight=m.getLineHeight=function(){return it*hc};m.__private__.getLineHeight=m.getLineHeight=function(){return it*hc};var E0=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(hc=M),this},Bg=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return hc};E0(n.lineHeight);var Ga=m.__private__.getHorizontalCoordinate=function(M){return Q(M)},ps=m.__private__.getVerticalCoordinate=function(M){return D===R?M:Xt[U].mediaBox.topRightY-Xt[U].mediaBox.bottomLeftY-Q(M)},T0=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return W(Ga(M))},gf=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return W(ps(M))},qa=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return we(qa)},m.__private__.setStrokeColor=m.setDrawColor=function(M,J,ke,Ie){return qa=Ne({ch1:M,ch2:J,ch3:ke,ch4:Ie,pdfColorType:"draw",precision:2}),pe(qa),this};var mf=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return we(mf)},m.__private__.setFillColor=m.setFillColor=function(M,J,ke,Ie){return mf=Ne({ch1:M,ch2:J,ch3:ke,ch4:Ie,pdfColorType:"fill",precision:2}),pe(mf),this};var Cl=n.textColor||"0 g",Ug=m.__private__.getTextColor=m.getTextColor=function(){return we(Cl)};m.__private__.setTextColor=m.setTextColor=function(M,J,ke,Ie){return Cl=Ne({ch1:M,ch2:J,ch3:ke,ch4:Ie,pdfColorType:"text",precision:3}),this};var po=n.charSpace,Bh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(po||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return po=M,this};var Uh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var J=m.CapJoinStyles[M];if(J===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uh=J,pe(J+" J"),this};var ns=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var J=m.CapJoinStyles[M];if(J===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ns=J,pe(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(W(Q(M))+" M"),this},m.GState=k_,m.setGState=function(M){(M=typeof M=="string"?Wt[dn[M]]:kl(null,M)).equals(Kn)||(pe("/"+M.id+" gs"),Kn=M)};var kl=function(M,J){if(!M||!dn[M]){var ke=!1;for(var Ie in Wt)if(Wt.hasOwnProperty(Ie)&&Wt[Ie].equals(J)){ke=!0;break}if(ke)J=Wt[Ie];else{var Be="GS"+(Object.keys(Wt).length+1).toString(10);Wt[Be]=J,J.id=Be}return M&&(dn[M]=J.id),Jn.publish("addGState",J),J}};m.addGState=function(M,J){return kl(M,J),this},m.saveGraphicsState=function(){return pe("q"),En.push({key:lt,size:it,color:Cl}),this},m.restoreGraphicsState=function(){pe("Q");var M=En.pop();return lt=M.key,it=M.size,Cl=M.color,Kn=null,this},m.setCurrentTransformationMatrix=function(M){return pe(M.toString()+" cm"),this},m.comment=function(M){return pe("#"+M),this};var go=function(M,J){var ke=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(ft){isNaN(ft)||(ke=parseFloat(ft))}});var Ie=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ft){isNaN(ft)||(Ie=parseFloat(ft))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(ft){Be=ft.toString()}}),this},dc=function(M,J,ke,Ie){go.call(this,M,J),this.type="rect";var Be=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(yt){isNaN(yt)||(Be=parseFloat(yt))}});var ft=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(yt){isNaN(yt)||(ft=parseFloat(yt))}}),this},Hh=function(){this.page=fn,this.currentPage=U,this.pages=et.slice(0),this.pagesContext=Xt.slice(0),this.x=Qe,this.y=Ht,this.matrix=kt,this.width=gc(U),this.height=C0(U),this.outputDestination=gt,this.id="",this.objectNumber=-1};Hh.prototype.restore=function(){fn=this.page,U=this.currentPage,Xt=this.pagesContext,et=this.pages,Qe=this.x,Ht=this.y,kt=this.matrix,xf(U,this.width),mc(U,this.height),gt=this.outputDestination};var vf=function(M,J,ke,Ie,Be){da.push(new Hh),fn=U=0,et=[],Qe=M,Ht=J,kt=Be,Tr([ke,Ie])};for(var pc in m.beginFormObject=function(M,J,ke,Ie,Be){return vf(M,J,ke,Ie,Be),this},m.endFormObject=function(M){return(function(J){if(fo[J])da.pop().restore();else{var ke=new Hh,Ie="Xo"+(Object.keys(ts).length+1).toString(10);ke.id=Ie,fo[J]=Ie,ts[Ie]=ke,Jn.publish("addFormObject",ke),da.pop().restore()}})(M),this},m.doFormObject=function(M,J){var ke=ts[fo[M]];return pe("q"),pe(J.toString()+" cm"),pe("/"+ke.id+" Do"),pe("Q"),this},m.getFormObject=function(M){var J=ts[fo[M]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(M,J){return M=M||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(K0(mu(Tl()),M),typeof K0.unload=="function"&&Cn.setTimeout&&setTimeout(K0.unload,911),this):new Promise(function(ke,Ie){try{var Be=K0(mu(Tl()),M);typeof K0.unload=="function"&&Cn.setTimeout&&setTimeout(K0.unload,911),ke(Be)}catch(ft){Ie(ft.message)}})},on.API)on.API.hasOwnProperty(pc)&&(pc==="events"&&on.API.events.length?(function(M,J){var ke,Ie,Be;for(Be=J.length-1;Be!==-1;Be--)ke=J[Be][0],Ie=J[Be][1],M.subscribe.apply(M,[ke].concat(typeof Ie=="function"?[Ie]:Ie))})(Jn,on.API.events):m[pc]=on.API[pc]);function gc(M){return Xt[M].mediaBox.topRightX-Xt[M].mediaBox.bottomLeftX}function xf(M,J){Xt[M].mediaBox.topRightX=J+Xt[M].mediaBox.bottomLeftX}function C0(M){return Xt[M].mediaBox.topRightY-Xt[M].mediaBox.bottomLeftY}function mc(M,J){Xt[M].mediaBox.topRightY=J+Xt[M].mediaBox.bottomLeftY}var vc=m.getPageWidth=function(M){return gc(M=M||U)/Pe},Hg=m.setPageWidth=function(M,J){xf(M,J*Pe)},xc=m.getPageHeight=function(M){return C0(M=M||U)/Pe},zg=m.setPageHeight=function(M,J){mc(M,J*Pe)};return m.internal={pdfEscape:qn,getStyle:w0,getFont:$o,getFontSize:Ct,getCharSpace:Bh,getTextColor:Ug,getLineHeight:Og,getLineHeightFactor:Bg,getLineWidth:vu,write:He,getHorizontalCoordinate:Ga,getVerticalCoordinate:ps,getCoordinateString:T0,getVerticalCoordinateString:gf,collections:{},newObject:Pr,newAdditionalObject:Ce,newObjectDeferred:ci,newObjectDeferredBegin:te,getFilters:je,putStream:rt,events:Jn,scaleFactor:Pe,pageSize:{getWidth:function(){return vc(U)},setWidth:function(M){Hg(U,M)},getHeight:function(){return xc(U)},setHeight:function(M){zg(U,M)}},encryptionOptions:h,encryption:zi,getEncryptor:function(M){return h!==null?zi.encryptor(M,0):function(J){return J}},output:y0,getNumberOfPages:ja,get pages(){return et},out:pe,f2:B,f3:q,getPageInfo:ki,getPageInfoByObjId:Oh,getCurrentPageInfo:Mg,getPDFVersion:w,Point:go,Rectangle:dc,Matrix:cn,hasHotfix:Ks},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return vc(U)},set:function(M){Hg(U,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return xc(U)},set:function(M){zg(U,M)},enumerable:!0,configurable:!0}),(function(M){for(var J=0,ke=St.length;J<ke;J++){var Ie=wr.call(this,M[J][0],M[J][1],M[J][2],St[J][3],!0);p===!1&&(g[Ie]=!0);var Be=M[J][0].split("-");Kt({id:Ie,fontName:Be[0],fontStyle:Be[1]||""})}Jn.publish("addFonts",{fonts:Nt,dictionary:Bt})}).call(m,St),lt="F1",Ys(i,t),Jn.publish("initialized"),m}Pm.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Pm.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pm.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Pm.prototype.processOwnerPassword=function(n,e){return GT(jT(e).substr(0,5),n)},Pm.prototype.encryptor=function(n,e){var t=jT(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return GT(t,r)}},k_.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Dr(n)!==Dr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},on.API={events:[]},on.version="4.0.0";var Oi=on.API,O4=1,Tg=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sm=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dn=function(n){return n.toFixed(2)},xd=function(n){return n.toFixed(5)};Oi.__acroform__={};var zo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},tR=function(n){return n*O4},Uu=function(n){var e=new vF,t=rn.internal.getHeight(n)||0,r=rn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Dn(r)),Number(Dn(t))],e},eJ=Oi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},tJ=Oi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},nJ=Oi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Yi=Oi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nJ(n,e-1)},Ki=Oi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eJ(n,e-1)},Ji=Oi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tJ(n,e-1)},rJ=Oi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Dn(c.lowerLeft_X)),Number(Dn(c.lowerLeft_Y)),Number(Dn(c.upperRight_X)),Number(Dn(c.upperRight_Y))]},iJ=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=qT(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Dn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Uu(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},qT=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var s=t,a=rn.internal.getHeight(n)||0;a=a<0?-a:a;var o=rn.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(B,q,Q){if(B+1<i.length){var re=q+" "+i[B+1][0];return cw(re,n,Q).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,p=cw("3",n,s).height,g=n.multiline?a-s:(a-p)/2,m=g+=2,b=0,w=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+cw(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var T="",L=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var D=!1;if(i[R].length!==1&&_!==i[R].length-1){if((p+2)*(L+2)+2>a)continue e;T+=i[R][_],D=!0,w=R,R--}else{T=(T+=i[R][_]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var j=parseInt(R),G=c(j,T,s),P=R>=i.length-1;if(G&&!P){T+=" ",_=0;continue}if(G||P){if(P)w=j;else if(n.multiline&&(p+2)*(L+2)+2>a)continue e}else{if(!n.multiline||(p+2)*(L+2)+2>a)continue e;w=j}}for(var W="",O=b;O<=w;O++){var ee=i[O];if(n.multiline){if(O===w){W+=ee[_]+" ",_=(_+1)%ee.length;continue}if(O===b){W+=ee[ee.length-1]+" ";continue}}W+=ee[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,h=cw(W,n,s).width,n.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=Dn(u)+" "+Dn(m)+` Td
`,e+="("+Tg(W)+`) Tj
`,e+=-Dn(u)+` 0 Td
`,m=-(s+2),h=0,b=D?w:w+1,L++,T=""}break}return r.text=e,r.fontSize=s,r},cw=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},sJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aJ=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},oJ=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(du.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(sJ)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");O4=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xF,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&aJ(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=rJ(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rn.createDefaultAppearanceStream(o),Dr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=iJ(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var b=m[a];typeof b=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(w,_){for(var T in w)if(w.hasOwnProperty(T)){var L=T,R=w[T];_.internal.newObjectDeferredBegin(R.objId,!0),Dr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete w[L]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},mF=Oi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Dr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Tg(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},NA=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Tg(r(n))+")"},af=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};af.prototype.toString=function(){return this.objId+" 0 R"},af.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},af.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:mF(i,this.objId,this.scope)}):i instanceof af?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var vF=function(){af.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};zo(vF,af);var xF=function(){af.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Tg(t(n))+")"}},set:function(t){n=t}})};zo(xF,af);var du=function n(){af.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yi(e,3)},set:function(T){T?this.F=Ki(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof N_)return;s="FieldObject"+n.FieldNum++}var T=function(L){return L};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Tg(T(s))+")"},set:function(T){s=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(T){s=T}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(T){a=T}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/O4:u},set:function(T){u=T}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof N_||this instanceof ag))return NA(p,this.objId,this.scope)},set:function(T){T=T.toString(),p=T}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof qs==0?NA(g,this.objId,this.scope):g},set:function(T){T=T.toString(),g=this instanceof qs==0?T.substr(0,1)==="("?Sm(T.substr(1,T.length-2)):Sm(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?Sm(g.substr(1,g.length-1)):g},set:function(T){T=T.toString(),g=this instanceof qs==1?"/"+T:T}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof qs==0?NA(m,this.objId,this.scope):m},set:function(T){T=T.toString(),m=this instanceof qs==0?T.substr(0,1)==="("?Sm(T.substr(1,T.length-2)):Sm(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?Sm(m.substr(1,m.length-1)):m},set:function(T){T=T.toString(),m=this instanceof qs==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(T){T=!!T,w=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(T){b=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,1)},set:function(T){T?this.Ff=Ki(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,2)},set:function(T){T?this.Ff=Ki(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,3)},set:function(T){T?this.Ff=Ki(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');_=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(_){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};zo(du,af);var Jm=function(){du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mF(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,u=[];c=a.exec(s);)u.push(c[o]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,18)},set:function(t){t?this.Ff=Ki(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ki(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,20)},set:function(t){t?(this.Ff=Ki(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,22)},set:function(t){t?this.Ff=Ki(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,23)},set:function(t){t?this.Ff=Ki(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,27)},set:function(t){t?this.Ff=Ki(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};zo(Jm,du);var Zm=function(){Jm.call(this),this.fontName="helvetica",this.combo=!1};zo(Zm,Jm);var Qm=function(){Zm.call(this),this.combo=!0};zo(Qm,Zm);var i_=function(){Qm.call(this),this.edit=!0};zo(i_,Qm);var qs=function(){du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,15)},set:function(t){t?this.Ff=Ki(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,16)},set:function(t){t?this.Ff=Ki(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,17)},set:function(t){t?this.Ff=Ki(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,26)},set:function(t){t?this.Ff=Ki(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Tg(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Dr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};zo(qs,du);var s_=function(){qs.call(this),this.pushButton=!0};zo(s_,qs);var e1=function(){qs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};zo(e1,qs);var N_=function(){var n,e;du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Tg(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zo(N_,du),e1.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},e1.prototype.createOption=function(n){var e=new N_;return e.Parent=this,e.optionName=n,this.Kids.push(e),lJ.call(this.scope,e),e};var a_=function(){qs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rn.CheckBox.createAppearanceStream()};zo(a_,qs);var ag=function(){du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,13)},set:function(e){e?this.Ff=Ki(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,21)},set:function(e){e?this.Ff=Ki(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,23)},set:function(e){e?this.Ff=Ki(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,24)},set:function(e){e?this.Ff=Ki(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,25)},set:function(e){e?this.Ff=Ki(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,26)},set:function(e){e?this.Ff=Ki(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zo(ag,du);var o_=function(){ag.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yi(this.Ff,14)},set:function(n){n?this.Ff=Ki(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};zo(o_,ag);var rn={CheckBox:{createAppearanceStream:function(){return{N:{On:rn.CheckBox.YesNormal},D:{On:rn.CheckBox.YesPushDown,Off:rn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=qT(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Dn(rn.internal.getWidth(n))+" "+Dn(rn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Dn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Uu(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=rn.internal.getHeight(n),a=rn.internal.getWidth(n),o=qT(n,n.caption);return i.push("1 g"),i.push("0 0 "+Dn(a)+" "+Dn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dn(a-1)+" "+Dn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Dn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dn(rn.internal.getWidth(n))+" "+Dn(rn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:rn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=rn.RadioButton.Circle.YesNormal,e.D[n]=rn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Uu(n);e.scope=n.scope;var t=[],r=rn.internal.getWidth(n)<=rn.internal.getHeight(n)?rn.internal.getWidth(n)/4:rn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=rn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+xd(rn.internal.getWidth(n)/2)+" "+xd(rn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=[],r=rn.internal.getWidth(n)<=rn.internal.getHeight(n)?rn.internal.getWidth(n)/4:rn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rn.internal.Bezier_C).toFixed(5)),a=Number((r*rn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xd(rn.internal.getWidth(n)/2)+" "+xd(rn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+xd(rn.internal.getWidth(n)/2)+" "+xd(rn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=[],r=rn.internal.getWidth(n)<=rn.internal.getHeight(n)?rn.internal.getWidth(n)/4:rn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xd(rn.internal.getWidth(n)/2)+" "+xd(rn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:rn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=rn.RadioButton.Cross.YesNormal,e.D[n]=rn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Uu(n);e.scope=n.scope;var t=[],r=rn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Dn(rn.internal.getWidth(n)-2)+" "+Dn(rn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Dn(r.x1.x)+" "+Dn(r.x1.y)+" m"),t.push(Dn(r.x2.x)+" "+Dn(r.x2.y)+" l"),t.push(Dn(r.x4.x)+" "+Dn(r.x4.y)+" m"),t.push(Dn(r.x3.x)+" "+Dn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=rn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Dn(rn.internal.getWidth(n))+" "+Dn(rn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Dn(rn.internal.getWidth(n)-2)+" "+Dn(rn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Dn(t.x1.x)+" "+Dn(t.x1.y)+" m"),r.push(Dn(t.x2.x)+" "+Dn(t.x2.y)+" l"),r.push(Dn(t.x4.x)+" "+Dn(t.x4.y)+" m"),r.push(Dn(t.x3.x)+" "+Dn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Uu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dn(rn.internal.getWidth(n))+" "+Dn(rn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};rn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=rn.internal.getWidth(n),t=rn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},rn.internal.getWidth=function(n){var e=0;return Dr(n)==="object"&&(e=tR(n.Rect[2])),e},rn.internal.getHeight=function(n){var e=0;return Dr(n)==="object"&&(e=tR(n.Rect[3])),e};var lJ=Oi.addField=function(n){if(oJ(this,n),!(n instanceof du))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=Jm,Oi.AcroFormListBox=Zm,Oi.AcroFormComboBox=Qm,Oi.AcroFormEditBox=i_,Oi.AcroFormButton=qs,Oi.AcroFormPushButton=s_,Oi.AcroFormRadioButton=e1,Oi.AcroFormCheckBox=a_,Oi.AcroFormTextField=ag,Oi.AcroFormPasswordField=o_,Oi.AcroFormAppearance=rn,Oi.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:Qm,EditBox:i_,Button:qs,PushButton:s_,RadioButton:e1,CheckBox:a_,TextField:ag,PasswordField:o_,Appearance:rn},on.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:Qm,EditBox:i_,Button:qs,PushButton:s_,RadioButton:e1,CheckBox:a_,TextField:ag,PasswordField:o_,Appearance:rn};on.AcroForm;function yF(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(B,q){var Q,re,ge,K,ce,Te=t;if((q=q||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(G(B))for(ce in r)for(ge=r[ce],Q=0;Q<ge.length;Q+=1){for(K=!0,re=0;re<ge[Q].length;re+=1)if(ge[Q][re]!==void 0&&ge[Q][re]!==B[re]){K=!1;break}if(K===!0){Te=ce;break}}else for(ce in r)for(ge=r[ce],Q=0;Q<ge.length;Q+=1){for(K=!0,re=0;re<ge[Q].length;re+=1)if(ge[Q][re]!==void 0&&ge[Q][re]!==B.charCodeAt(re)){K=!1;break}if(K===!0){Te=ce;break}}return Te===t&&q!==t&&(Te=q),Te},s=function B(q){for(var Q=this.internal.write,re=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:q.width}),K.push({key:"Height",value:q.height}),q.colorSpace===T.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===T.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var ce="",Te=0,me=q.transparency.length;Te<me;Te++)ce+=q.transparency[Te]+" "+q.transparency[Te]+" ";K.push({key:"Mask",value:"["+ce+"]"})}q.sMask!==void 0&&K.push({key:"SMask",value:q.objectId+1+" 0 R"});var Oe=q.filter!==void 0?["/"+q.filter]:void 0;if(re({data:q.data,additionalKeyValues:K,alreadyAppliedFilters:Oe,objectId:q.objectId}),Q("endobj"),"sMask"in q&&q.sMask!==void 0){var se,I=(se=q.sMaskBitsPerComponent)!==null&&se!==void 0?se:q.bitsPerComponent,U={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:q.sMask};"filter"in q&&(U.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(q.width),U.filter=q.filter),B.call(this,U)}if(q.colorSpace===T.INDEXED){var z=this.internal.newObject();re({data:W(new Uint8Array(q.palette)),objectId:z}),Q("endobj")}},a=function(){var B=this.internal.collections[e+"images"];for(var q in B)s.call(this,B[q])},o=function(){var B,q=this.internal.collections[e+"images"],Q=this.internal.write;for(var re in q)Q("/I"+(B=q[re]).index,B.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var B=this.internal.collections[e+"images"];return c.call(this),B},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(B){return typeof n["process"+B.toUpperCase()]=="function"},g=function(B){return Dr(B)==="object"&&B.nodeType===1},m=function(B,q){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var Q=""+B.getAttribute("src");if(Q.indexOf("data:image/")===0)return r_(unescape(Q).split("base64,").pop());var re=n.loadFile(Q,!0);if(re!==void 0)return re}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var ge;switch(q){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return r_(B.toDataURL(ge,1).split("base64,").pop())}},b=function(B){var q=this.internal.collections[e+"images"];if(q){for(var Q in q)if(B===q[Q].alias)return q[Q]}},w=function(B,q,Q){return B||q||(B=-96,q=-96),B<0&&(B=-1*Q.width*72/B/this.internal.scaleFactor),q<0&&(q=-1*Q.height*72/q/this.internal.scaleFactor),B===0&&(B=q*Q.width/Q.height),q===0&&(q=B*Q.height/Q.width),[B,q]},_=function(B,q,Q,re,ge,K){var ce=w.call(this,Q,re,ge),Te=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,Oe=u.call(this);if(Q=ce[0],re=ce[1],Oe[ge.index]=ge,K){K*=Math.PI/180;var se=Math.cos(K),I=Math.sin(K),U=function(Y){return Y.toFixed(4)},z=[U(se),U(I),U(-1*I),U(se),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,Te(B),me(q+re),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([Te(Q),"0","0",Te(re),"0","0","cm"].join(" "))):this.internal.write([Te(Q),"0","0",Te(re),Te(B),me(q+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=n.__addimage__.sHashCode=function(B){var q,Q,re=0;if(typeof B=="string")for(Q=B.length,q=0;q<Q;q++)re=(re<<5)-re+B.charCodeAt(q),re|=0;else if(G(B))for(Q=B.byteLength/2,q=0;q<Q;q++)re=(re<<5)-re+B[q],re|=0;return re},D=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var q=!0;return B.length===0&&(q=!1),B.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(q=!1),q},j=n.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var q=B.indexOf(",");return q<0?null:B.substring(0,q).trim().endsWith("base64")?B.substring(q+1):null};n.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var G=n.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},P=n.__addimage__.binaryStringToUint8Array=function(B){for(var q=B.length,Q=new Uint8Array(q),re=0;re<q;re++)Q[re]=B.charCodeAt(re);return Q},W=n.__addimage__.arrayBufferToBinaryString=function(B){for(var q="",Q=G(B)?B:new Uint8Array(B),re=0;re<Q.length;re+=8192)q+=String.fromCharCode.apply(null,Q.subarray(re,re+8192));return q};n.addImage=function(){var B,q,Q,re,ge,K,ce,Te,me;if(typeof arguments[1]=="number"?(q=t,Q=arguments[1],re=arguments[2],ge=arguments[3],K=arguments[4],ce=arguments[5],Te=arguments[6],me=arguments[7]):(q=arguments[1],Q=arguments[2],re=arguments[3],ge=arguments[4],K=arguments[5],ce=arguments[6],Te=arguments[7],me=arguments[8]),Dr(B=arguments[0])==="object"&&!g(B)&&"imageData"in B){var Oe=B;B=Oe.imageData,q=Oe.format||q||t,Q=Oe.x||Q||0,re=Oe.y||re||0,ge=Oe.w||Oe.width||ge,K=Oe.h||Oe.height||K,ce=Oe.alias||ce,Te=Oe.compression||Te,me=Oe.rotation||Oe.angle||me}var se=this.internal.getFilters();if(Te===void 0&&se.indexOf("FlateEncode")!==-1&&(Te="SLOW"),isNaN(Q)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=O.call(this,B,q,ce,Te);return _.call(this,Q,re,ge,K,I,me),this};var O=function(B,q,Q,re){var ge,K,ce;if(typeof B=="string"&&i(B)===t){B=unescape(B);var Te=ee(B,!1);(Te!==""||(Te=n.loadFile(B,!0))!==void 0)&&(B=Te)}if(g(B)&&(B=m(B,q)),q=i(B,q),!p(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((ce=Q)==null||ce.length===0)&&(Q=(function(me){return typeof me=="string"||G(me)?R(me):G(me.data)?R(me.data):null})(B)),(ge=b.call(this,Q))||(B instanceof Uint8Array||q==="RGBA"||(K=B,B=P(B)),ge=this["process"+q.toUpperCase()](B,h.call(this),Q,(function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in n.image_compression?me:L.NONE})(re),K)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},ee=n.__addimage__.convertBase64ToBinaryString=function(B,q){q=typeof q!="boolean"||q;var Q,re="";if(typeof B=="string"){var ge;Q=(ge=j(B))!==null&&ge!==void 0?ge:B;try{re=r_(Q)}catch(K){if(q)throw D(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};n.getImageProperties=function(B){var q,Q,re="";if(g(B)&&(B=m(B)),typeof B=="string"&&i(B)===t&&((re=ee(B,!1))===""&&(re=n.loadFile(B)||""),B=re),Q=i(B),!p(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(B instanceof Uint8Array||(B=P(B)),!(q=this["process"+Q.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=Q,q}})(on.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(w.objId),L=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(T(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(T(L))+") >>",w.content=s;var R=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var G=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:u(r),w:c(t+i),h:u(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(t,o).length;a=Math.ceil(u*h)}else o=c,a=u;return this.text(t,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,o,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(on.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=n.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(w){var _=0,T=t,L="",R=0;for(_=0;_<w.length;_+=1)T[w.charCodeAt(_)]!==void 0?(R++,typeof(T=T[w.charCodeAt(_)])=="number"&&(L+=String.fromCharCode(T),T=t,R=0),_===w.length-1&&(T=t,L+=w.charAt(_-(R-1)),_-=R-1,R=0)):(T=t,L+=w.charAt(_-R),_-=R,R=0);return L};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(w,_,T){return a(w)?s(w)===!1?-1:!u(w)||!a(_)&&!a(T)||!a(T)&&o(_)||o(w)&&!a(_)||o(w)&&c(_)||o(w)&&o(_)?0:h(w)&&a(_)&&!o(_)&&a(T)&&u(T)?3:o(w)||!a(T)?1:2:-1},m=function(w){var _=0,T=0,L=0,R="",D="",j="",G=(w=w||"").split("\\s+"),P=[];for(_=0;_<G.length;_+=1){for(P.push(""),T=0;T<G[_].length;T+=1)R=G[_][T],D=G[_][T-1],j=G[_][T+1],a(R)?(L=g(R,D,j),P[_]+=L!==-1?String.fromCharCode(e[R.charCodeAt(0)][L]):R):P[_]+=R;P[_]=p(P[_])}return P.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(_)){var L=0;for(T=[],L=0;L<_.length;L+=1)Array.isArray(_[L])?T.push([m(_[L][0]),_[L][1],_[L][2]]):T.push([m(_[L])]);w=T}else w=m(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",b])})(on.API),on.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(on.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,b=0,w=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var T=u.maxWidth;T>0?typeof c=="string"?c=this.splitTextToSize(c,T):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,D){return R.concat(_.splitTextToSize(D,T))},[])):c=Array.isArray(c)?c:[c];for(var L=0;L<c.length;L++)m<(w=this.getStringUnitWidth(c[L],{font:p})*h)&&(m=w);return m!==0&&(b=c.length),{w:m/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,u,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,b,w,_,T=[],L=[],R=[],D={},j={},G=[],P=[],W=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},e),q=typeof g.padding=="number"?g.padding:3,Q=g.headerBackgroundColor||"#c8c8c8",re=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=re,this.setFontSize(ee),p==null)L=T=Object.keys(h[0]),R=T.map(function(){return"left"});else if(Array.isArray(p)&&Dr(p[0])==="object")for(T=p.map(function(Oe){return Oe.name}),L=p.map(function(Oe){return Oe.prompt||Oe.name||""}),R=p.map(function(Oe){return Oe.align||"left"}),m=0;m<p.length;m+=1)j[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=T=p,R=T.map(function(){return"left"}));if(W||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<T.length;m+=1){for(D[_=T[m]]=h.map(function(Oe){return Oe[_]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[_],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)G.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[_]=Math.max.apply(null,G)+q+q,G=[]}if(O){var ge={};for(m=0;m<T.length;m+=1)ge[T[m]]={},ge[T[m]].text=L[m],ge[T[m]].align=R[m];var K=o.call(this,ge,j);P=T.map(function(Oe){return new s(c,u,j[Oe],K,ge[Oe].text,void 0,ge[Oe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ce=p.reduce(function(Oe,se){return Oe[se.name]=se.align,Oe},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var Te=o.call(this,h[m],j);for(w=0;w<T.length;w+=1){var me=h[m][T[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:me},this),a.call(this,new s(c,u,j[T[w]],Te,me,m+2,ce[T[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var b=c[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,b){return Math.max(m,b)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}})(on.API);var bF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VT=yF(wF),_F=[100,200,300,400,500,600,700,800,900],cJ=yF(_F);function RA(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return bF[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof VT[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function nR(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var uJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iR(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function sR(n){return n.trimLeft()}function fJ(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hJ(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var uw,aR,oR,Am,fw,lR,cR,uR,LA=["times"];function fR(n,e,t,r,i){var s=4,a=dR;switch(i){case on.API.image_compression.FAST:s=1,a=hR;break;case on.API.image_compression.MEDIUM:s=6,a=pR;break;case on.API.image_compression.SLOW:s=9,a=gR}n=(function(c,u,h,p){for(var g,m=c.length/u,b=new Uint8Array(c.length+m),w=[dJ,hR,dR,pR,gR],_=0;_<m;_+=1){var T=_*u,L=c.subarray(T,T+u);if(p)b.set(p(L,h,g),T+_);else{for(var R=w.length,D=[],j=0;j<R;j+=1)D[j]=w[j](L,h,g);var G=gJ(D.concat());b.set(D[G],T+_)}g=L}return b})(n,e,Math.ceil(t*r/8),a);var o=BT(n,{level:s});return on.API.__addimage__.arrayBufferToBinaryString(o)}function dJ(n){var e=Array.apply([],n);return e.unshift(0),e}function hR(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function dR(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=t&&t[s]||0;i[s+1]=n[s]-a+256&255}return i}function pR(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;i[s+1]=n[s]+256-(a+o>>>1)&255}return i}function gR(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=pJ(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-a+256&255}return i}function pJ(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function gJ(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function IA(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),a=(1<<t)-1;return SF(n,i)>>s&a}function mR(n,e,t,r){var i=t*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<a;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var g=p>>8&255;u.setUint8(h,g)}})(n,s,SF(n,s)&~(o<<a)&65535|c)}function SF(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function mJ(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<1+(7&i);n[e++],n[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var u=!0,h=[],p=0,g=null,m=0,b=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],1&w||(g=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,D=n[e++],j=D>>6&1,G=1<<1+(7&D),P=o,W=c,O=!1;D>>7&&(O=!0,P=e,W=G,e+=3*G);var ee=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:_,y:T,width:L,height:R,has_local_palette:O,palette_offset:P,palette_size:W,data_offset:ee,data_length:e-ee,transparent_index:g,interlaced:!!j,delay:p,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(q){if(q<0||q>=h.length)throw new Error("Frame index out of range.");return h[q]},this.decodeAndBlitFrameBGRA=function(q,Q){var re=this.frameInfo(q),ge=re.width*re.height,K=new Uint8Array(ge);vR(n,re.data_offset,K,ge);var ce=re.palette_offset,Te=re.transparent_index;Te===null&&(Te=256);var me=re.width,Oe=t-me,se=me,I=4*(re.y*t+re.x),U=4*((re.y+re.height)*t+re.x),z=I,Y=4*Oe;re.interlaced===!0&&(Y+=4*t*7);for(var oe=8,ye=0,fe=K.length;ye<fe;++ye){var Ae=K[ye];if(se===0&&(se=me,(z+=Y)>=U&&(Y=4*Oe+4*t*(oe-1),z=I+(me+Oe)*(oe<<1),oe>>=1)),Ae===Te)z+=4;else{var Re=n[ce+3*Ae],et=n[ce+3*Ae+1],de=n[ce+3*Ae+2];Q[z++]=de,Q[z++]=et,Q[z++]=Re,Q[z++]=255}--se}},this.decodeAndBlitFrameRGBA=function(q,Q){var re=this.frameInfo(q),ge=re.width*re.height,K=new Uint8Array(ge);vR(n,re.data_offset,K,ge);var ce=re.palette_offset,Te=re.transparent_index;Te===null&&(Te=256);var me=re.width,Oe=t-me,se=me,I=4*(re.y*t+re.x),U=4*((re.y+re.height)*t+re.x),z=I,Y=4*Oe;re.interlaced===!0&&(Y+=4*t*7);for(var oe=8,ye=0,fe=K.length;ye<fe;++ye){var Ae=K[ye];if(se===0&&(se=me,(z+=Y)>=U&&(Y=4*Oe+4*t*(oe-1),z=I+(me+Oe)*(oe<<1),oe>>=1)),Ae===Te)z+=4;else{var Re=n[ce+3*Ae],et=n[ce+3*Ae+1],de=n[ce+3*Ae+2];Q[z++]=Re,Q[z++]=et,Q[z++]=de,Q[z++]=255}--se}}}function vR(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,c=i+1,u=(1<<c)-1,h=0,p=0,g=0,m=n[e++],b=new Int32Array(4096),w=null;;){for(;h<16&&m!==0;)p|=n[e++]<<h,h+=8,m===1?m=n[e++]:--m;if(h<c)break;var _=p&u;if(p>>=c,h-=c,_!==s){if(_===a)break;for(var T=_<o?_:w,L=0,R=T;R>s;)R=b[R]>>8,++L;var D=R;if(g+L+(T!==_?1:0)>r)return void Yr.log("Warning, gif stream longer than expected.");t[g++]=D;var j=g+=L;for(T!==_&&(t[g++]=D),R=T;L--;)R=b[R],t[--j]=255&R,R>>=8;w!==null&&o<4096&&(b[o++]=w<<8|D,o>=u+1&&c<12&&(++c,u=u<<1|1)),w=_}else o=a+1,u=(1<<(c=i+1))-1,w=null}return g!==r&&Yr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function MA(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),w=[],_=0,T=7,L=new Array(64),R=new Array(64),D=new Array(64),j=new Array(256),G=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(I,U){for(var z=0,Y=0,oe=new Array,ye=1;ye<=16;ye++){for(var fe=1;fe<=I[ye];fe++)oe[U[Y]]=[],oe[U[Y]][0]=z,oe[U[Y]][1]=ye,Y++,z++;z*=2}return oe}function ce(I){for(var U=I[0],z=I[1]-1;z>=0;)U&1<<z&&(_|=1<<T),z--,--T<0&&(_==255?(Te(255),Te(0)):Te(_),T=7,_=0)}function Te(I){w.push(I)}function me(I){Te(I>>8&255),Te(255&I)}function Oe(I,U,z,Y,oe){for(var ye,fe=oe[0],Ae=oe[240],Re=(function(it,Dt){var Ct,$t,_e,Je,ut,pt,Ut,wt,lt,Pe,Qe=0;for(lt=0;lt<8;++lt){Ct=it[Qe],$t=it[Qe+1],_e=it[Qe+2],Je=it[Qe+3],ut=it[Qe+4],pt=it[Qe+5],Ut=it[Qe+6];var Ht=Ct+(wt=it[Qe+7]),kt=Ct-wt,Nt=$t+Ut,Bt=$t-Ut,En=_e+pt,Gt=_e-pt,Rn=Je+ut,Wt=Je-ut,dn=Ht+Rn,Kn=Ht-Rn,fn=Nt+En,Xt=Nt-En;it[Qe]=dn+fn,it[Qe+4]=dn-fn;var Jn=.707106781*(Xt+Kn);it[Qe+2]=Kn+Jn,it[Qe+6]=Kn-Jn;var za=.382683433*((dn=Wt+Gt)-(Xt=Bt+kt)),ts=.5411961*dn+za,fo=1.306562965*Xt+za,da=.707106781*(fn=Gt+Bt),cn=kt+da,jo=kt-da;it[Qe+5]=jo+ts,it[Qe+3]=jo-ts,it[Qe+1]=cn+fo,it[Qe+7]=cn-fo,Qe+=8}for(Qe=0,lt=0;lt<8;++lt){Ct=it[Qe],$t=it[Qe+8],_e=it[Qe+16],Je=it[Qe+24],ut=it[Qe+32],pt=it[Qe+40],Ut=it[Qe+48];var ho=Ct+(wt=it[Qe+56]),ds=Ct-wt,Xs=$t+Ut,Pr=$t-Ut,ci=_e+pt,te=_e-pt,Ce=Je+ut,ve=Je-ut,xe=ho+Ce,we=ho-Ce,Ne=Xs+ci,je=Xs-ci;it[Qe]=xe+Ne,it[Qe+32]=xe-Ne;var rt=.707106781*(je+we);it[Qe+16]=we+rt,it[Qe+48]=we-rt;var qe=.382683433*((xe=ve+te)-(je=Pr+ds)),Ve=.5411961*xe+qe,$e=1.306562965*je+qe,_t=.707106781*(Ne=te+Pr),Tt=ds+_t,Ft=ds-_t;it[Qe+40]=Ft+Ve,it[Qe+24]=Ft-Ve,it[Qe+8]=Tt+$e,it[Qe+56]=Tt-$e,Qe++}for(lt=0;lt<64;++lt)Pe=it[lt]*Dt[lt],m[lt]=Pe>0?Pe+.5|0:Pe-.5|0;return m})(I,U),et=0;et<64;++et)b[P[et]]=Re[et];var de=b[0]-z;z=b[0],de==0?ce(Y[0]):(ce(Y[g[ye=32767+de]]),ce(p[ye]));for(var gt=63;gt>0&&b[gt]==0;)gt--;if(gt==0)return ce(fe),z;for(var vt,pe=1;pe<=gt;){for(var He=pe;b[pe]==0&&pe<=gt;)++pe;var Ke=pe-He;if(Ke>=16){vt=Ke>>4;for(var St=1;St<=vt;++St)ce(Ae);Ke&=15}ye=32767+b[pe],ce(oe[(Ke<<4)+g[ye]]),ce(p[ye]),pe++}return gt!=63&&ce(fe),z}function se(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var oe=a((z[Y]*U+50)/100);oe=Math.min(Math.max(oe,1),255),o[P[Y]]=oe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var Ae=a((ye[fe]*U+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[P[fe]]=Ae}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,de=0;de<8;de++)for(var gt=0;gt<8;gt++)u[et]=1/(o[P[et]]*Re[de]*Re[gt]*8),h[et]=1/(c[P[et]]*Re[de]*Re[gt]*8),et++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,U){U&&se(U),w=new Array,_=0,T=7,me(65496),me(65504),me(16),Te(74),Te(70),Te(73),Te(70),Te(0),Te(1),Te(1),Te(0),me(1),me(1),Te(0),Te(0),(function(){me(65499),me(132),Te(0);for(var $t=0;$t<64;$t++)Te(o[$t]);Te(1);for(var _e=0;_e<64;_e++)Te(c[_e])})(),(function($t,_e){me(65472),me(17),Te(8),me(_e),me($t),Te(3),Te(1),Te(17),Te(0),Te(2),Te(17),Te(1),Te(3),Te(17),Te(1)})(I.width,I.height),(function(){me(65476),me(418),Te(0);for(var $t=0;$t<16;$t++)Te(W[$t+1]);for(var _e=0;_e<=11;_e++)Te(O[_e]);Te(16);for(var Je=0;Je<16;Je++)Te(ee[Je+1]);for(var ut=0;ut<=161;ut++)Te(B[ut]);Te(1);for(var pt=0;pt<16;pt++)Te(q[pt+1]);for(var Ut=0;Ut<=11;Ut++)Te(Q[Ut]);Te(17);for(var wt=0;wt<16;wt++)Te(re[wt+1]);for(var lt=0;lt<=161;lt++)Te(ge[lt])})(),me(65498),me(12),Te(3),Te(1),Te(0),Te(2),Te(17),Te(3),Te(17),Te(0),Te(63),Te(0);var z=0,Y=0,oe=0;_=0,T=7,this.encode.displayName="_encode_";for(var ye,fe,Ae,Re,et,de,gt,vt,pe,He=I.data,Ke=I.width,St=I.height,it=4*Ke,Dt=0;Dt<St;){for(ye=0;ye<it;){for(et=it*Dt+ye,gt=-1,vt=0,pe=0;pe<64;pe++)de=et+(vt=pe>>3)*it+(gt=4*(7&pe)),Dt+vt>=St&&(de-=it*(Dt+1+vt-St)),ye+gt>=it&&(de-=ye+gt-it+4),fe=He[de++],Ae=He[de++],Re=He[de++],L[pe]=(G[fe]+G[Ae+256|0]+G[Re+512|0]>>16)-128,R[pe]=(G[fe+768|0]+G[Ae+1024|0]+G[Re+1280|0]>>16)-128,D[pe]=(G[fe+1280|0]+G[Ae+1536|0]+G[Re+1792|0]>>16)-128;z=Oe(L,u,z,e,r),Y=Oe(R,h,Y,t,i),oe=Oe(D,h,oe,t,i),ye+=32}Dt+=8}if(T>=0){var Ct=[];Ct[1]=T+1,Ct[0]=(1<<T+1)-1,ce(Ct)}return me(65497),new Uint8Array(w)},n=n||50,(function(){for(var I=String.fromCharCode,U=0;U<256;U++)j[U]=I(U)})(),e=K(W,O),t=K(q,Q),r=K(ee,B),i=K(re,ge),(function(){for(var I=1,U=2,z=1;z<=15;z++){for(var Y=I;Y<U;Y++)g[32767+Y]=z,p[32767+Y]=[],p[32767+Y][1]=z,p[32767+Y][0]=Y;for(var oe=-(U-1);oe<=-I;oe++)g[32767+oe]=z,p[32767+oe]=[],p[32767+oe][1]=z,p[32767+oe][0]=U-1+oe;I<<=1,U<<=1}})(),(function(){for(var I=0;I<256;I++)G[I]=19595*I,G[I+256|0]=38470*I,G[I+512|0]=7471*I+32768,G[I+768|0]=-11059*I,G[I+1024|0]=-21709*I,G[I+1280|0]=32768*I+8421375,G[I+1536|0]=-27439*I,G[I+1792|0]=-5329*I})(),se(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xR(n){function e(O){if(!O)throw Error("assert :P")}function t(O,ee,B){for(var q=0;4>q;q++)if(O[ee+q]!=B.charCodeAt(q))return!0;return!1}function r(O,ee,B,q,Q){for(var re=0;re<Q;re++)O[ee+re]=B[q+re]}function i(O,ee,B,q){for(var Q=0;Q<q;Q++)O[ee+Q]=B}function s(O){return new Int32Array(O)}function a(O,ee){for(var B=[],q=0;q<O;q++)B.push(new ee);return B}function o(O,ee){var B=[];return(function q(Q,re,ge){for(var K=ge[re],ce=0;ce<K&&(Q.push(ge.length>re+1?[]:new ee),!(ge.length<re+1));ce++)q(Q[ce],re+1,ge)})(B,0,O),B}var c=function(){var O=this;function ee(A,k){for(var F=1<<k-1>>>0;A&F;)F>>>=1;return F?(A&F-1)+F:A}function B(A,k,F,H,Z){e(!(H%F));do A[k+(H-=F)]=Z;while(0<H)}function q(A,k,F,H,Z){if(e(2328>=Z),512>=Z)var ie=s(512);else if((ie=s(Z))==null)return 0;return(function(le,he,be,Ee,Me,We){var Se,Fe,ze=he,at=1<<be,Ge=s(16),st=s(16);for(e(Me!=0),e(Ee!=null),e(le!=null),e(0<be),Fe=0;Fe<Me;++Fe){if(15<Ee[Fe])return 0;++Ge[Ee[Fe]]}if(Ge[0]==Me)return 0;for(st[1]=0,Se=1;15>Se;++Se){if(Ge[Se]>1<<Se)return 0;st[Se+1]=st[Se]+Ge[Se]}for(Fe=0;Fe<Me;++Fe)Se=Ee[Fe],0<Ee[Fe]&&(We[st[Se]++]=Fe);if(st[15]==1)return(Ee=new Q).g=0,Ee.value=We[0],B(le,ze,1,at,Ee),at;var ht,At=-1,xt=at-1,nn=0,qt=1,Tn=1,Jt=1<<be;for(Fe=0,Se=1,Me=2;Se<=be;++Se,Me<<=1){if(qt+=Tn<<=1,0>(Tn-=Ge[Se]))return 0;for(;0<Ge[Se];--Ge[Se])(Ee=new Q).g=Se,Ee.value=We[Fe++],B(le,ze+nn,Me,Jt,Ee),nn=ee(nn,Se)}for(Se=be+1,Me=2;15>=Se;++Se,Me<<=1){if(qt+=Tn<<=1,0>(Tn-=Ge[Se]))return 0;for(;0<Ge[Se];--Ge[Se]){if(Ee=new Q,(nn&xt)!=At){for(ze+=Jt,ht=1<<(At=Se)-be;15>At&&!(0>=(ht-=Ge[At]));)++At,ht<<=1;at+=Jt=1<<(ht=At-be),le[he+(At=nn&xt)].g=ht+be,le[he+At].value=ze-he-At}Ee.g=Se-be,Ee.value=We[Fe++],B(le,ze+(nn>>be),Me,Jt,Ee),nn=ee(nn,Se)}}return qt!=2*st[15]-1?0:at})(A,k,F,H,Z,ie)}function Q(){this.value=this.g=0}function re(){this.value=this.g=0}function ge(){this.G=a(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(bu,re)}function K(A,k,F,H){e(A!=null),e(k!=null),e(2147483648>H),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=k,A.pa=F,A.Jd=k,A.Yc=F+H,A.Zc=4<=H?F+H-4+1:F,fe(A)}function ce(A,k){for(var F=0;0<k--;)F|=Re(A,128)<<k;return F}function Te(A,k){var F=ce(A,k);return Ae(A)?-F:F}function me(A,k,F,H){var Z,ie=0;for(e(A!=null),e(k!=null),e(4294967288>H),A.Sb=H,A.Ra=0,A.u=0,A.h=0,4<H&&(H=4),Z=0;Z<H;++Z)ie+=k[F+Z]<<8*Z;A.Ra=ie,A.bb=H,A.oa=k,A.pa=F}function Oe(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Ll-8>>>0,++A.bb,A.u-=8;Y(A)&&(A.h=1,A.u=0)}function se(A,k){if(e(0<=k),!A.h&&k<=Qs){var F=z(A)&ga[k];return A.u+=k,Oe(A),F}return A.h=1,A.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(A){return A.Ra>>>(A.u&Ll-1)>>>0}function Y(A){return e(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Ll}function oe(A,k){A.u=k,A.h=Y(A)}function ye(A){A.u>=Il&&(e(A.u>=Il),Oe(A))}function fe(A){e(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(e(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function Ae(A){return ce(A,1)}function Re(A,k){var F=A.Ca;0>A.b&&fe(A);var H=A.b,Z=F*k>>>8,ie=(A.I>>>H>Z)+0;for(ie?(F-=Z,A.I-=Z+1<<H>>>0):F=Z+1,H=F,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+Ac[H],A.b-=H,A.Ca=(F<<H)-1,ie}function et(A,k,F){A[k+0]=F>>24&255,A[k+1]=F>>16&255,A[k+2]=F>>8&255,A[k+3]=255&F}function de(A,k){return A[k+0]|A[k+1]<<8}function gt(A,k){return de(A,k)|A[k+2]<<16}function vt(A,k){return de(A,k)|de(A,k+2)<<16}function pe(A,k){var F=1<<k;return e(A!=null),e(0<k),A.X=s(F),A.X==null?0:(A.Mb=32-k,A.Xa=k,1)}function He(A,k){e(A!=null),e(k!=null),e(A.Xa==k.Xa),r(k.X,0,A.X,0,1<<k.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function St(A,k,F,H){e(F!=null),e(H!=null);var Z=F[0],ie=H[0];return Z==0&&(Z=(A*ie+k/2)/k),ie==0&&(ie=(k*Z+A/2)/A),0>=Z||0>=ie?0:(F[0]=Z,H[0]=ie,1)}function it(A,k){return A+(1<<k)-1>>>k}function Dt(A,k){return((4278255360&A)+(4278255360&k)>>>0&4278255360)+((16711935&A)+(16711935&k)>>>0&16711935)>>>0}function Ct(A,k){O[k]=function(F,H,Z,ie,le,he,be){var Ee;for(Ee=0;Ee<le;++Ee){var Me=O[A](he[be+Ee-1],Z,ie+Ee);he[be+Ee]=Dt(F[H+Ee],Me)}}}function $t(){this.ud=this.hd=this.jd=0}function _e(A,k){return((4278124286&(A^k))>>>1)+(A&k)>>>0}function Je(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function ut(A,k){return Je(A+(A-k+.5>>1))}function pt(A,k,F){return Math.abs(k-F)-Math.abs(A-F)}function Ut(A,k,F,H,Z,ie,le){for(H=ie[le-1],F=0;F<Z;++F)ie[le+F]=H=Dt(A[k+F],H)}function wt(A,k,F,H,Z){var ie;for(ie=0;ie<F;++ie){var le=A[k+ie],he=le>>8&255,be=16711935&(be=(be=16711935&le)+((he<<16)+he));H[Z+ie]=(4278255360&le)+be>>>0}}function lt(A,k){k.jd=255&A,k.hd=A>>8&255,k.ud=A>>16&255}function Pe(A,k,F,H,Z,ie){var le;for(le=0;le<H;++le){var he=k[F+le],be=he>>>8,Ee=he,Me=255&(Me=(Me=he>>>16)+((A.jd<<24>>24)*(be<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(A.hd<<24>>24)*(be<<24>>24)>>>5)+((A.ud<<24>>24)*(Me<<24>>24)>>>5)),Z[ie+le]=(4278255360&he)+(Me<<16)+Ee}}function Qe(A,k,F,H,Z){O[k]=function(ie,le,he,be,Ee,Me,We,Se,Fe){for(be=We;be<Se;++be)for(We=0;We<Fe;++We)Ee[Me++]=Z(he[H(ie[le++])])},O[A]=function(ie,le,he,be,Ee,Me,We){var Se=8>>ie.b,Fe=ie.Ea,ze=ie.K[0],at=ie.w;if(8>Se)for(ie=(1<<ie.b)-1,at=(1<<Se)-1;le<he;++le){var Ge,st=0;for(Ge=0;Ge<Fe;++Ge)Ge&ie||(st=H(be[Ee++])),Me[We++]=Z(ze[st&at]),st>>=Se}else O["VP8LMapColor"+F](be,Ee,ze,at,Me,We,le,he,Fe)}}function Ht(A,k,F,H,Z){for(F=k+F;k<F;){var ie=A[k++];H[Z++]=ie>>16&255,H[Z++]=ie>>8&255,H[Z++]=255&ie}}function kt(A,k,F,H,Z){for(F=k+F;k<F;){var ie=A[k++];H[Z++]=ie>>16&255,H[Z++]=ie>>8&255,H[Z++]=255&ie,H[Z++]=ie>>24&255}}function Nt(A,k,F,H,Z){for(F=k+F;k<F;){var ie=(le=A[k++])>>16&240|le>>12&15,le=240&le|le>>28&15;H[Z++]=ie,H[Z++]=le}}function Bt(A,k,F,H,Z){for(F=k+F;k<F;){var ie=(le=A[k++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[Z++]=ie,H[Z++]=le}}function En(A,k,F,H,Z){for(F=k+F;k<F;){var ie=A[k++];H[Z++]=255&ie,H[Z++]=ie>>8&255,H[Z++]=ie>>16&255}}function Gt(A,k,F,H,Z,ie){if(ie==0)for(F=k+F;k<F;)et(H,((ie=A[k++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else r(H,Z,A,k,F)}function Rn(A,k){O[k][0]=O[A+"0"],O[k][1]=O[A+"1"],O[k][2]=O[A+"2"],O[k][3]=O[A+"3"],O[k][4]=O[A+"4"],O[k][5]=O[A+"5"],O[k][6]=O[A+"6"],O[k][7]=O[A+"7"],O[k][8]=O[A+"8"],O[k][9]=O[A+"9"],O[k][10]=O[A+"10"],O[k][11]=O[A+"11"],O[k][12]=O[A+"12"],O[k][13]=O[A+"13"],O[k][14]=O[A+"0"],O[k][15]=O[A+"0"]}function Wt(A){return A==O0||A==$g||A==Yh||A==Xg}function dn(){this.eb=[],this.size=this.A=this.fb=0}function Kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dn,this.f.kb=new Kn,this.sd=null}function Xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function za(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function ts(A,k){var F=A.T,H=k.ba.f.RGBA,Z=H.eb,ie=H.fb+A.ka*H.A,le=ys[k.ba.S],he=A.y,be=A.O,Ee=A.f,Me=A.N,We=A.ea,Se=A.W,Fe=k.cc,ze=k.dc,at=k.Mc,Ge=k.Nc,st=A.ka,ht=A.ka+A.T,At=A.U,xt=At+1>>1;for(st==0?le(he,be,null,null,Ee,Me,We,Se,Ee,Me,We,Se,Z,ie,null,null,At):(le(k.ec,k.fc,he,be,Fe,ze,at,Ge,Ee,Me,We,Se,Z,ie-H.A,Z,ie,At),++F);st+2<ht;st+=2)Fe=Ee,ze=Me,at=We,Ge=Se,Me+=A.Rc,Se+=A.Rc,ie+=2*H.A,le(he,(be+=2*A.fa)-A.fa,he,be,Fe,ze,at,Ge,Ee,Me,We,Se,Z,ie-H.A,Z,ie,At);return be+=A.fa,A.j+ht<A.o?(r(k.ec,k.fc,he,be,At),r(k.cc,k.dc,Ee,Me,xt),r(k.Mc,k.Nc,We,Se,xt),F--):1&ht||le(he,be,null,null,Ee,Me,We,Se,Ee,Me,We,Se,Z,ie+H.A,null,null,At),F}function fo(A,k,F){var H=A.F,Z=[A.J];if(H!=null){var ie=A.U,le=k.ba.S,he=le==P0||le==Yh;k=k.ba.f.RGBA;var be=[0],Ee=A.ka;be[0]=A.T,A.Kb&&(Ee==0?--be[0]:(--Ee,Z[0]-=A.width),A.j+A.ka+A.T==A.o&&(be[0]=A.o-A.j-Ee));var Me=k.eb;Ee=k.fb+Ee*k.A,A=I0(H,Z[0],A.width,ie,be,Me,Ee+(he?0:3),k.A),e(F==be),A&&Wt(le)&&_f(Me,Ee,he,ie,be,k.A)}return 0}function da(A){var k=A.ma,F=k.ba.S,H=11>F,Z=F==Ms||F==xo||F==P0||F==Xh||F==12||Wt(F);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Sc(k.Oa,A,Z?11:12))return 0;if(Z&&Wt(F)&&k0(),A.da)alert("todo:use_scaling");else{if(H){if(k.Ib=za,A.Kb){if(F=A.U+1>>1,k.memory=s(A.U+2*F),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+A.U,k.Mc=k.cc,k.Nc=k.dc+F,k.Ib=ts,k0()}}else alert("todo:EmitYUV");Z&&(k.Jb=fo,H&&Xo())}if(H&&!Cu){for(A=0;256>A;++A)bs[A]=89858*(A-128)+Zh>>Ao,O5[A]=-22014*(A-128)+Zh,ob[A]=-45773*(A-128),Qg[A]=113618*(A-128)+Zh>>Ao;for(A=Tf;A<Tu;++A)k=76283*(A-16)+Zh>>Ao,B5[A-Tf]=Zr(k,255),U5[A-Tf]=Zr(k+8>>4,15);Cu=1}return 1}function cn(A){var k=A.ma,F=A.U,H=A.T;return e(!(1&A.ka)),0>=F||0>=H?0:(F=k.Ib(A,k),k.Jb!=null&&k.Jb(A,k,F),k.Dc+=F,1)}function jo(A){A.ma.memory=null}function ho(A,k,F,H){return se(A,8)!=47?0:(k[0]=se(A,14)+1,F[0]=se(A,14)+1,H[0]=se(A,1),se(A,3)!=0?0:!A.h)}function ds(A,k){if(4>A)return A+1;var F=A-2>>1;return(2+(1&A)<<F)+se(k,F)+1}function Xs(A,k){return 120<k?k-120:1<=(F=((F=bo[k-1])>>4)*A+(8-(15&F)))?F:1;var F}function Pr(A,k,F){var H=z(F),Z=A[k+=255&H].g-8;return 0<Z&&(oe(F,F.u+8),H=z(F),k+=A[k].value,k+=H&(1<<Z)-1),oe(F,F.u+A[k].g),A[k].value}function ci(A,k,F){return F.g+=A.g,F.value+=A.value<<k>>>0,e(8>=F.g),A.g}function te(A,k,F){var H=A.xc;return e((k=H==0?0:A.vc[A.md*(F>>H)+(k>>H)])<A.Wb),A.Ya[k]}function Ce(A,k,F,H){var Z=A.ab,ie=A.c*k,le=A.C;k=le+k;var he=F,be=H;for(H=A.Ta,F=A.Ua;0<Z--;){var Ee=A.gc[Z],Me=le,We=k,Se=he,Fe=be,ze=(be=H,he=F,Ee.Ea);switch(e(Me<We),e(We<=Ee.nc),Ee.hc){case 2:yi(Se,Fe,(We-Me)*ze,be,he);break;case 0:var at=Me,Ge=We,st=be,ht=he,At=(Jt=Ee).Ea;at==0&&(qh(Se,Fe,null,null,1,st,ht),Ut(Se,Fe+1,0,0,At-1,st,ht+1),Fe+=At,ht+=At,++at);for(var xt=1<<Jt.b,nn=xt-1,qt=it(At,Jt.b),Tn=Jt.K,Jt=Jt.w+(at>>Jt.b)*qt;at<Ge;){var Wn=Tn,$r=Jt,In=1;for(Vh(Se,Fe,st,ht-At,1,st,ht);In<At;){var Vt=(In&~nn)+xt;Vt>At&&(Vt=At),(0,Ec[Wn[$r++]>>8&15])(Se,Fe+ +In,st,ht+In-At,Vt-In,st,ht+In),In=Vt}Fe+=At,ht+=At,++at&nn||(Jt+=qt)}We!=Ee.nc&&r(be,he-ze,be,he+(We-Me-1)*ze,ze);break;case 1:for(ze=Se,Ge=Fe,At=(Se=Ee.Ea)-(ht=Se&~(st=(Fe=1<<Ee.b)-1)),at=it(Se,Ee.b),xt=Ee.K,Ee=Ee.w+(Me>>Ee.b)*at;Me<We;){for(nn=xt,qt=Ee,Tn=new $t,Jt=Ge+ht,Wn=Ge+Se;Ge<Jt;)lt(nn[qt++],Tn),Wh(Tn,ze,Ge,Fe,be,he),Ge+=Fe,he+=Fe;Ge<Wn&&(lt(nn[qt++],Tn),Wh(Tn,ze,Ge,At,be,he),Ge+=At,he+=At),++Me&st||(Ee+=at)}break;case 3:if(Se==be&&Fe==he&&0<Ee.b){for(Ge=be,Se=ze=he+(We-Me)*ze-(ht=(We-Me)*it(Ee.Ea,Ee.b)),Fe=be,st=he,at=[],ht=(At=ht)-1;0<=ht;--ht)at[ht]=Fe[st+ht];for(ht=At-1;0<=ht;--ht)Ge[Se+ht]=at[ht];jg(Ee,Me,We,be,ze,be,he)}else jg(Ee,Me,We,Se,Fe,be,he)}he=H,be=F}be!=F&&r(H,F,he,be,ie)}function ve(A,k){var F=A.V,H=A.Ba+A.c*A.C,Z=k-A.C;if(e(k<=A.l.o),e(16>=Z),0<Z){var ie=A.l,le=A.Ta,he=A.Ua,be=ie.width;if(Ce(A,Z,F,H),Z=he=[he],e((F=A.C)<(H=k)),e(ie.v<ie.va),H>ie.o&&(H=ie.o),F<ie.j){var Ee=ie.j-F;F=ie.j,Z[0]+=Ee*be}if(F>=H?F=0:(Z[0]+=4*ie.v,ie.ka=F-ie.j,ie.U=ie.va-ie.v,ie.T=H-F,F=1),F){if(he=he[0],11>(F=A.ca).S){var Me=F.f.RGBA,We=(H=F.S,Z=ie.U,ie=ie.T,Ee=Me.eb,Me.A),Se=ie;for(Me=Me.fb+A.Ma*Me.A;0<Se--;){var Fe=le,ze=he,at=Z,Ge=Ee,st=Me;switch(H){case Vg:$h(Fe,ze,at,Ge,st);break;case Ms:Tc(Fe,ze,at,Ge,st);break;case O0:Tc(Fe,ze,at,Ge,st),_f(Ge,st,0,at,1,0);break;case Wg:bf(Fe,ze,at,Ge,st);break;case xo:Gt(Fe,ze,at,Ge,st,1);break;case $g:Gt(Fe,ze,at,Ge,st,1),_f(Ge,st,0,at,1,0);break;case P0:Gt(Fe,ze,at,Ge,st,0);break;case Yh:Gt(Fe,ze,at,Ge,st,0),_f(Ge,st,1,at,1,0);break;case Xh:Cc(Fe,ze,at,Ge,st);break;case Xg:Cc(Fe,ze,at,Ge,st),vo(Ge,st,at,1,0);break;case wu:Fl(Fe,ze,at,Ge,st);break;default:e(0)}he+=be,Me+=We}A.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(A.Ma<=F.height)}}A.C=k,e(A.C<=A.i)}function xe(A){var k;if(0<A.ua)return 0;for(k=0;k<A.Wb;++k){var F=A.Ya[k].G,H=A.Ya[k].H;if(0<F[1][H[1]+0].g||0<F[2][H[2]+0].g||0<F[3][H[3]+0].g)return 0}return 1}function we(A,k,F,H,Z,ie){if(A.Z!=0){var le=A.qd,he=A.rd;for(e(Rc[A.Z]!=null);k<F;++k)Rc[A.Z](le,he,H,Z,H,Z,ie),le=H,he=Z,Z+=ie;A.qd=le,A.rd=he}}function Ne(A,k){var F=A.l.ma,H=F.Z==0||F.Z==1?A.l.j:A.C;if(H=A.C<H?H:A.C,e(k<=A.l.o),k>H){var Z=A.l.width,ie=F.ca,le=F.tb+Z*H,he=A.V,be=A.Ba+A.c*H,Ee=A.gc;e(A.ab==1),e(Ee[0].hc==3),Dl(Ee[0],H,k,he,be,ie,le),we(F,H,k,ie,le,Z)}A.C=A.Ma=k}function je(A,k,F,H,Z,ie,le){var he=A.$/H,be=A.$%H,Ee=A.m,Me=A.s,We=F+A.$,Se=We;Z=F+H*Z;var Fe=F+H*ie,ze=280+Me.ua,at=A.Pb?he:16777216,Ge=0<Me.ua?Me.Wa:null,st=Me.wc,ht=We<Fe?te(Me,be,he):null;e(A.C<ie),e(Fe<=Z);var At=!1;e:for(;;){for(;At||We<Fe;){var xt=0;if(he>=at){var nn=We-F;e((at=A).Pb),at.wd=at.m,at.xd=nn,0<at.s.ua&&He(at.s.Wa,at.s.vb),at=he+_u}if(be&st||(ht=te(Me,be,he)),e(ht!=null),ht.Qb&&(k[We]=ht.qb,At=!0),!At)if(ye(Ee),ht.jc){xt=Ee,nn=k;var qt=We,Tn=ht.pd[z(xt)&bu-1];e(ht.jc),256>Tn.g?(oe(xt,xt.u+Tn.g),nn[qt]=Tn.value,xt=0):(oe(xt,xt.u+Tn.g-256),e(256<=Tn.value),xt=Tn.value),xt==0&&(At=!0)}else xt=Pr(ht.G[0],ht.H[0],Ee);if(Ee.h)break;if(At||256>xt){if(!At)if(ht.nd)k[We]=(ht.qb|xt<<8)>>>0;else{if(ye(Ee),At=Pr(ht.G[1],ht.H[1],Ee),ye(Ee),nn=Pr(ht.G[2],ht.H[2],Ee),qt=Pr(ht.G[3],ht.H[3],Ee),Ee.h)break;k[We]=(qt<<24|At<<16|xt<<8|nn)>>>0}if(At=!1,++We,++be>=H&&(be=0,++he,le!=null&&he<=ie&&!(he%16)&&le(A,he),Ge!=null))for(;Se<We;)xt=k[Se++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt}else if(280>xt){if(xt=ds(xt-256,Ee),nn=Pr(ht.G[4],ht.H[4],Ee),ye(Ee),nn=Xs(H,nn=ds(nn,Ee)),Ee.h)break;if(We-F<nn||Z-We<xt)break e;for(qt=0;qt<xt;++qt)k[We+qt]=k[We+qt-nn];for(We+=xt,be+=xt;be>=H;)be-=H,++he,le!=null&&he<=ie&&!(he%16)&&le(A,he);if(e(We<=Z),be&st&&(ht=te(Me,be,he)),Ge!=null)for(;Se<We;)xt=k[Se++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt}else{if(!(xt<ze))break e;for(At=xt-280,e(Ge!=null);Se<We;)xt=k[Se++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt;xt=We,e(!(At>>>(nn=Ge).Xa)),k[xt]=nn.X[At],At=!0}At||e(Ee.h==Y(Ee))}if(A.Pb&&Ee.h&&We<Z)e(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&He(A.s.vb,A.s.Wa);else{if(Ee.h)break e;le!=null&&le(A,he>ie?ie:he),A.a=0,A.$=We-F}return 1}return A.a=3,0}function rt(A){e(A!=null),A.vc=null,A.yc=null,A.Ya=null;var k=A.Wa;k!=null&&(k.X=null),A.vb=null,e(A!=null)}function qe(){var A=new wn;return A==null?null:(A.a=0,A.xb=kv,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),yi=wt,Wh=Pe,$h=Ht,Tc=kt,Cc=Nt,Fl=Bt,bf=En,O.VP8LMapColor32b=Ml,O.VP8LMapColor8b=ms,A)}function Ve(A,k,F,H,Z){var ie=1,le=[A],he=[k],be=H.m,Ee=H.s,Me=null,We=0;e:for(;;){if(F)for(;ie&&se(be,1);){var Se=le,Fe=he,ze=H,at=1,Ge=ze.m,st=ze.gc[ze.ab],ht=se(Ge,2);if(ze.Oc&1<<ht)ie=0;else{switch(ze.Oc|=1<<ht,st.hc=ht,st.Ea=Se[0],st.nc=Fe[0],st.K=[null],++ze.ab,e(4>=ze.ab),ht){case 0:case 1:st.b=se(Ge,3)+2,at=Ve(it(st.Ea,st.b),it(st.nc,st.b),0,ze,st.K),st.K=st.K[0];break;case 3:var At,xt=se(Ge,8)+1,nn=16<xt?0:4<xt?1:2<xt?2:3;if(Se[0]=it(st.Ea,nn),st.b=nn,At=at=Ve(xt,1,0,ze,st.K)){var qt,Tn=xt,Jt=st,Wn=1<<(8>>Jt.b),$r=s(Wn);if($r==null)At=0;else{var In=Jt.K[0],Vt=Jt.w;for($r[0]=Jt.K[0][0],qt=1;qt<1*Tn;++qt)$r[qt]=Dt(In[Vt+qt],$r[qt-1]);for(;qt<4*Wn;++qt)$r[qt]=0;Jt.K[0]=null,Jt.K[0]=$r,At=1}}at=At;break;case 2:break;default:e(0)}ie=at}}if(le=le[0],he=he[0],ie&&se(be,1)&&!(ie=1<=(We=se(be,4))&&11>=We)){H.a=3;break e}var Mt;if(Mt=ie)t:{var ei,xn,Fn,_r=H,Gi=le,ws=he,Ur=We,Ri=F,Ds=_r.m,Li=_r.s,jn=[null],or=1,ti=0,hr=wo[Ur];n:for(;;){if(Ri&&se(Ds,1)){var qi=se(Ds,3)+2,ni=it(Gi,qi),lr=it(ws,qi),_i=ni*lr;if(!Ve(ni,lr,0,_r,jn))break n;for(jn=jn[0],Li.xc=qi,ei=0;ei<_i;++ei){var Sr=jn[ei]>>8&65535;jn[ei]=Sr,Sr>=or&&(or=Sr+1)}}if(Ds.h)break n;for(xn=0;5>xn;++xn){var Ii=Af[xn];!xn&&0<Ur&&(Ii+=1<<Ur),ti<Ii&&(ti=Ii)}var Mi=a(or*hr,Q),Cr=or,sr=a(Cr,ge);if(sr==null)var Fs=null;else e(65536>=Cr),Fs=sr;var fi=s(ti);if(Fs==null||fi==null||Mi==null){_r.a=1;break n}var hn=Mi;for(ei=Fn=0;ei<or;++ei){var pn=Fs[ei],cr=pn.G,ma=pn.H,Eo=0,ta=1,Di=0;for(xn=0;5>xn;++xn){Ii=Af[xn],cr[xn]=hn,ma[xn]=Fn,!xn&&0<Ur&&(Ii+=1<<Ur);i:{var ku,Nu=Ii,tm=_r,Hr=fi,Rv=hn,Lv=Fn,nm=0,Lc=tm.m,H5=se(Lc,1);if(i(Hr,0,0,Nu),H5){var Iv=se(Lc,1)+1,Mv=se(Lc,1),rm=se(Lc,Mv==0?1:8);Hr[rm]=1,Iv==2&&(Hr[rm=se(Lc,8)]=1);var is=1}else{var hi=s(19),z0=se(Lc,4)+4;if(19<z0){tm.a=3;var Ru=0;break i}for(ku=0;ku<z0;++ku)hi[B0[ku]]=se(Lc,3);var ed=void 0,Cf=void 0,Bl=tm,im=hi,td=Nu,sm=Hr,am=0,Ic=Bl.m,Dv=8,Fv=a(128,Q);r:for(;q(Fv,0,7,im,19);){if(se(Ic,1)){var lb=2+2*se(Ic,3);if((ed=2+se(Ic,lb))>td)break r}else ed=td;for(Cf=0;Cf<td&&ed--;){ye(Ic);var Pv=Fv[0+(127&z(Ic))];oe(Ic,Ic.u+Pv.g);var Lu=Pv.value;if(16>Lu)sm[Cf++]=Lu,Lu!=0&&(Dv=Lu);else{var cb=Lu==16,ub=Lu-16,fb=Kh[ub],Ov=se(Ic,yo[ub])+fb;if(Cf+Ov>td)break r;for(var hb=cb?Dv:0;0<Ov--;)sm[Cf++]=hb}}am=1;break r}am||(Bl.a=3),is=am}(is=is&&!Lc.h)&&(nm=q(Rv,Lv,8,Hr,Nu)),is&&nm!=0?Ru=nm:(tm.a=3,Ru=0)}if(Ru==0)break n;if(ta&&Yg[xn]==1&&(ta=hn[Fn].g==0),Eo+=hn[Fn].g,Fn+=Ru,3>=xn){var kf,om=fi[0];for(kf=1;kf<Ii;++kf)fi[kf]>om&&(om=fi[kf]);Di+=om}}if(pn.nd=ta,pn.Qb=0,ta&&(pn.qb=(cr[3][ma[3]+0].value<<24|cr[1][ma[1]+0].value<<16|cr[2][ma[2]+0].value)>>>0,Eo==0&&256>cr[0][ma[0]+0].value&&(pn.Qb=1,pn.qb+=cr[0][ma[0]+0].value<<8)),pn.jc=!pn.Qb&&6>Di,pn.jc){var j0,Ul=pn;for(j0=0;j0<bu;++j0){var Mc=j0,Dc=Ul.pd[Mc],lm=Ul.G[0][Ul.H[0]+Mc];256<=lm.value?(Dc.g=lm.g+256,Dc.value=lm.value):(Dc.g=0,Dc.value=0,Mc>>=ci(lm,8,Dc),Mc>>=ci(Ul.G[1][Ul.H[1]+Mc],16,Dc),Mc>>=ci(Ul.G[2][Ul.H[2]+Mc],0,Dc),ci(Ul.G[3][Ul.H[3]+Mc],24,Dc))}}}Li.vc=jn,Li.Wb=or,Li.Ya=Fs,Li.yc=Mi,Mt=1;break t}Mt=0}if(!(ie=Mt)){H.a=3;break e}if(0<We){if(Ee.ua=1<<We,!pe(Ee.Wa,We)){H.a=1,ie=0;break e}}else Ee.ua=0;var cm=H,Nf=le,db=he,nd=cm.s,rd=nd.xc;if(cm.c=Nf,cm.i=db,nd.md=it(Nf,rd),nd.wc=rd==0?-1:(1<<rd)-1,F){H.xb=Su;break e}if((Me=s(le*he))==null){H.a=1,ie=0;break e}ie=(ie=je(H,Me,0,le,he,he,null))&&!be.h;break e}return ie?(Z!=null?Z[0]=Me:(e(Me==null),e(F)),H.$=0,F||rt(Ee)):rt(Ee),ie}function $e(A,k){var F=A.c*A.i,H=F+k+16*k;return e(A.c<=k),A.V=s(H),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+F+k,1)}function _t(A,k){var F=A.C,H=k-F,Z=A.V,ie=A.Ba+A.c*F;for(e(k<=A.l.o);0<H;){var le=16<H?16:H,he=A.l.ma,be=A.l.width,Ee=be*le,Me=he.ca,We=he.tb+be*F,Se=A.Ta,Fe=A.Ua;Ce(A,le,Z,ie),$a(Se,Fe,Me,We,Ee),we(he,F,F+le,Me,We,be),H-=le,Z+=le*A.c,F+=le}e(F==k),A.C=A.Ma=k}function Tt(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Et(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lt(){this.Yb=(function(){var A=[];return(function k(F,H,Z){for(var ie=Z[H],le=0;le<ie&&(F.push(Z.length>H+1?[]:0),!(Z.length<H+1));le++)k(F[le],H+1,Z)})(A,0,[3,11]),A})()}function Kt(){this.jb=s(3),this.Wc=o([4,8],Lt),this.Xc=o([4,17],Lt)}function wr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function qn(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function Ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Go(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qo(){this.uc=this.M=this.Nb=0,this.wa=Array(new qn),this.Y=0,this.ya=Array(new Go),this.aa=0,this.l=new fc}function ja(){this.y=s(16),this.f=s(8),this.ea=s(8)}function gu(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Tt,this.Kc=new Ft,this.ed=new wr,this.Qa=new Et,this.Ic=this.$c=this.Aa=0,this.D=new qo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,Ys),this.Pa=new Kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ja),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new qn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Go),this.L=this.aa=0,this.gd=o([4,2],qn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(A,k){return 0>A?0:A>k?k:A}function fc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vo(){var A=new gu;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,Xa||(Xa=mu)),A}function ur(A,k,F){return A.a==0&&(A.a=k,A.sc=F,A.cb=0),0}function x0(A,k,F){return 3<=F&&A[k+0]==157&&A[k+1]==1&&A[k+2]==42}function Tl(A,k){if(A==null)return 0;if(A.a=0,A.sc="OK",k==null)return ur(A,2,"null VP8Io passed to VP8GetHeaders()");var F=k.data,H=k.w,Z=k.ha;if(4>Z)return ur(A,7,"Truncated header.");var ie=F[H+0]|F[H+1]<<8|F[H+2]<<16,le=A.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return ur(A,3,"Incorrect keyframe parameters.");if(!le.yd)return ur(A,4,"Frame not displayable.");H+=3,Z-=3;var he=A.Kc;if(le.Rb){if(7>Z)return ur(A,7,"cannot parse picture header");if(!x0(F,H,Z))return ur(A,3,"Bad code word");he.c=16383&(F[H+4]<<8|F[H+3]),he.Td=F[H+4]>>6,he.i=16383&(F[H+6]<<8|F[H+5]),he.Ud=F[H+6]>>6,H+=7,Z-=7,A.za=he.c+15>>4,A.Ub=he.i+15>>4,k.width=he.c,k.height=he.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((ie=A.Pa).jb,0,255,ie.jb.length),e((ie=A.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(le.ub>Z)return ur(A,7,"bad partition length");K(ie=A.m,F,H,le.ub),H+=le.ub,Z-=le.ub,le.Rb&&(he.Ld=Ae(ie),he.Kd=Ae(ie)),he=A.Qa;var be,Ee=A.Pa;if(e(ie!=null),e(he!=null),he.Cb=Ae(ie),he.Cb){if(he.Bb=Ae(ie),Ae(ie)){for(he.Fb=Ae(ie),be=0;4>be;++be)he.Zb[be]=Ae(ie)?Te(ie,7):0;for(be=0;4>be;++be)he.Lb[be]=Ae(ie)?Te(ie,6):0}if(he.Bb)for(be=0;3>be;++be)Ee.jb[be]=Ae(ie)?ce(ie,8):255}else he.Bb=0;if(ie.Ka)return ur(A,3,"cannot parse segment header");if((he=A.ed).zd=Ae(ie),he.Tb=ce(ie,6),he.wb=ce(ie,3),he.Pc=Ae(ie),he.Pc&&Ae(ie)){for(Ee=0;4>Ee;++Ee)Ae(ie)&&(he.vd[Ee]=Te(ie,6));for(Ee=0;4>Ee;++Ee)Ae(ie)&&(he.od[Ee]=Te(ie,6))}if(A.L=he.Tb==0?0:he.zd?1:2,ie.Ka)return ur(A,3,"cannot parse filter header");var Me=Z;if(Z=be=H,H=be+Me,he=Me,A.Xb=(1<<ce(A.m,2))-1,Me<3*(Ee=A.Xb))F=7;else{for(be+=3*Ee,he-=3*Ee,Me=0;Me<Ee;++Me){var We=F[Z+0]|F[Z+1]<<8|F[Z+2]<<16;We>he&&(We=he),K(A.Jc[+Me],F,be,We),be+=We,he-=We,Z+=3}K(A.Jc[+Ee],F,be,he),F=be<H?0:5}if(F!=0)return ur(A,F,"cannot parse partitions");for(F=ce(be=A.m,7),Z=Ae(be)?Te(be,4):0,H=Ae(be)?Te(be,4):0,he=Ae(be)?Te(be,4):0,Ee=Ae(be)?Te(be,4):0,be=Ae(be)?Te(be,4):0,Me=A.Qa,We=0;4>We;++We){if(Me.Cb){var Se=Me.Zb[We];Me.Fb||(Se+=F)}else{if(0<We){A.pb[We]=A.pb[0];continue}Se=F}var Fe=A.pb[We];Fe.Sc[0]=_o[Zr(Se+Z,127)],Fe.Sc[1]=So[Zr(Se+0,127)],Fe.Eb[0]=2*_o[Zr(Se+H,127)],Fe.Eb[1]=101581*So[Zr(Se+he,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=_o[Zr(Se+Ee,117)],Fe.Qc[1]=So[Zr(Se+be,127)],Fe.lc=Se+be}if(!le.Rb)return ur(A,4,"Not a key frame.");for(Ae(ie),le=A.Pa,F=0;4>F;++F){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(he=0;11>he;++he)Ee=Re(ie,Wr[F][Z][H][he])?ce(ie,8):ab[F][Z][H][he],le.Wc[F][Z].Yb[H][he]=Ee;for(Z=0;17>Z;++Z)le.Xc[F][Z]=le.Wc[F][Zn[Z]]}return A.kc=Ae(ie),A.kc&&(A.Bd=ce(ie,8)),A.cb=1}function mu(A,k,F,H,Z,ie,le){var he=k[Z].Yb[F];for(F=0;16>Z;++Z){if(!Re(A,he[F+0]))return Z;for(;!Re(A,he[F+1]);)if(he=k[++Z].Yb[0],F=0,Z==16)return 16;var be=k[Z+1].Yb;if(Re(A,he[F+2])){var Ee=A,Me=0;if(Re(Ee,(Se=he)[(We=F)+3]))if(Re(Ee,Se[We+6])){for(he=0,We=2*(Me=Re(Ee,Se[We+8]))+(Se=Re(Ee,Se[We+9+Me])),Me=0,Se=sb[We];Se[he];++he)Me+=Me+Re(Ee,Se[he]);Me+=3+(8<<We)}else Re(Ee,Se[We+7])?(Me=7+2*Re(Ee,165),Me+=Re(Ee,145)):Me=5+Re(Ee,159);else Me=Re(Ee,Se[We+4])?3+Re(Ee,Se[We+5]):2;he=be[2]}else Me=1,he=be[1];be=le+Cv[Z],0>(Ee=A).b&&fe(Ee);var We,Se=Ee.b,Fe=(We=Ee.Ca>>1)-(Ee.I>>Se)>>31;--Ee.b,Ee.Ca+=Fe,Ee.Ca|=1,Ee.I-=(We+1&Fe)<<Se,ie[be]=((Me^Fe)-Fe)*H[(0<Z)+0]}return 16}function y0(A){var k=A.rb[A.sb-1];k.la=0,k.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function Ks(A,k,F,H,Z){Z=A[k+F+32*H]+(Z>>3),A[k+F+32*H]=-256&Z?0>Z?0:255:Z}function zi(A,k,F,H,Z,ie){Ks(A,k,0,F,H+Z),Ks(A,k,1,F,H+ie),Ks(A,k,2,F,H-ie),Ks(A,k,3,F,H-Z)}function ki(A){return(20091*A>>16)+A}function Oh(A,k,F,H){var Z,ie=0,le=s(16);for(Z=0;4>Z;++Z){var he=A[k+0]+A[k+8],be=A[k+0]-A[k+8],Ee=(35468*A[k+4]>>16)-ki(A[k+12]),Me=ki(A[k+4])+(35468*A[k+12]>>16);le[ie+0]=he+Me,le[ie+1]=be+Ee,le[ie+2]=be-Ee,le[ie+3]=he-Me,ie+=4,k++}for(Z=ie=0;4>Z;++Z)he=(A=le[ie+0]+4)+le[ie+8],be=A-le[ie+8],Ee=(35468*le[ie+4]>>16)-ki(le[ie+12]),Ks(F,H,0,0,he+(Me=ki(le[ie+4])+(35468*le[ie+12]>>16))),Ks(F,H,1,0,be+Ee),Ks(F,H,2,0,be-Ee),Ks(F,H,3,0,he-Me),ie++,H+=32}function Mg(A,k,F,H){var Z=A[k+0]+4,ie=35468*A[k+4]>>16,le=ki(A[k+4]),he=35468*A[k+1]>>16;zi(F,H,0,Z+le,A=ki(A[k+1]),he),zi(F,H,1,Z+ie,A,he),zi(F,H,2,Z-ie,A,he),zi(F,H,3,Z-le,A,he)}function b0(A,k,F,H,Z){Oh(A,k,F,H),Z&&Oh(A,k+16,F,H+4)}function Js(A,k,F,H){kc(A,k+0,F,H,1),kc(A,k+32,F,H+128,1)}function w0(A,k,F,H){var Z;for(A=A[k+0]+4,Z=0;4>Z;++Z)for(k=0;4>k;++k)Ks(F,H,k,Z,A)}function _0(A,k,F,H){A[k+0]&&fr(A,k+0,F,H),A[k+16]&&fr(A,k+16,F,H+4),A[k+32]&&fr(A,k+32,F,H+128),A[k+48]&&fr(A,k+48,F,H+128+4)}function Wo(A,k,F,H){var Z,ie=s(16);for(Z=0;4>Z;++Z){var le=A[k+0+Z]+A[k+12+Z],he=A[k+4+Z]+A[k+8+Z],be=A[k+4+Z]-A[k+8+Z],Ee=A[k+0+Z]-A[k+12+Z];ie[0+Z]=le+he,ie[8+Z]=le-he,ie[4+Z]=Ee+be,ie[12+Z]=Ee-be}for(Z=0;4>Z;++Z)le=(A=ie[0+4*Z]+3)+ie[3+4*Z],he=ie[1+4*Z]+ie[2+4*Z],be=ie[1+4*Z]-ie[2+4*Z],Ee=A-ie[3+4*Z],F[H+0]=le+he>>3,F[H+16]=Ee+be>>3,F[H+32]=le-he>>3,F[H+48]=Ee-be>>3,H+=64}function df(A,k,F){var H,Z=k-32,ie=Is,le=255-A[Z-1];for(H=0;H<F;++H){var he,be=ie,Ee=le+A[k-1];for(he=0;he<F;++he)A[k+he]=be[Ee+A[Z+he]];k+=32}}function Dg(A,k){df(A,k,4)}function Fg(A,k){df(A,k,8)}function S0(A,k){df(A,k,16)}function A0(A,k){var F;for(F=0;16>F;++F)r(A,k+32*F,A,k-32,16)}function Pg(A,k){var F;for(F=16;0<F;--F)i(A,k,A[k-1],16),k+=32}function pa(A,k,F){var H;for(H=0;16>H;++H)i(k,F+32*H,A,16)}function $o(A,k){var F,H=16;for(F=0;16>F;++F)H+=A[k-1+32*F]+A[k+F-32];pa(H>>5,A,k)}function hc(A,k){var F,H=8;for(F=0;16>F;++F)H+=A[k-1+32*F];pa(H>>4,A,k)}function pf(A,k){var F,H=8;for(F=0;16>F;++F)H+=A[k+F-32];pa(H>>4,A,k)}function vu(A,k){pa(128,A,k)}function vn(A,k,F){return A+2*k+F+2>>2}function Og(A,k){var F,H=k-32;for(H=new Uint8Array([vn(A[H-1],A[H+0],A[H+1]),vn(A[H+0],A[H+1],A[H+2]),vn(A[H+1],A[H+2],A[H+3]),vn(A[H+2],A[H+3],A[H+4])]),F=0;4>F;++F)r(A,k+32*F,H,0,H.length)}function E0(A,k){var F=A[k-1],H=A[k-1+32],Z=A[k-1+64],ie=A[k-1+96];et(A,k+0,16843009*vn(A[k-1-32],F,H)),et(A,k+32,16843009*vn(F,H,Z)),et(A,k+64,16843009*vn(H,Z,ie)),et(A,k+96,16843009*vn(Z,ie,ie))}function Bg(A,k){var F,H=4;for(F=0;4>F;++F)H+=A[k+F-32]+A[k-1+32*F];for(H>>=3,F=0;4>F;++F)i(A,k+32*F,H,4)}function Ga(A,k){var F=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],ie=A[k-1-32],le=A[k+0-32],he=A[k+1-32],be=A[k+2-32],Ee=A[k+3-32];A[k+0+96]=vn(H,Z,A[k-1+96]),A[k+1+96]=A[k+0+64]=vn(F,H,Z),A[k+2+96]=A[k+1+64]=A[k+0+32]=vn(ie,F,H),A[k+3+96]=A[k+2+64]=A[k+1+32]=A[k+0+0]=vn(le,ie,F),A[k+3+64]=A[k+2+32]=A[k+1+0]=vn(he,le,ie),A[k+3+32]=A[k+2+0]=vn(be,he,le),A[k+3+0]=vn(Ee,be,he)}function ps(A,k){var F=A[k+1-32],H=A[k+2-32],Z=A[k+3-32],ie=A[k+4-32],le=A[k+5-32],he=A[k+6-32],be=A[k+7-32];A[k+0+0]=vn(A[k+0-32],F,H),A[k+1+0]=A[k+0+32]=vn(F,H,Z),A[k+2+0]=A[k+1+32]=A[k+0+64]=vn(H,Z,ie),A[k+3+0]=A[k+2+32]=A[k+1+64]=A[k+0+96]=vn(Z,ie,le),A[k+3+32]=A[k+2+64]=A[k+1+96]=vn(ie,le,he),A[k+3+64]=A[k+2+96]=vn(le,he,be),A[k+3+96]=vn(he,be,be)}function T0(A,k){var F=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],ie=A[k-1-32],le=A[k+0-32],he=A[k+1-32],be=A[k+2-32],Ee=A[k+3-32];A[k+0+0]=A[k+1+64]=ie+le+1>>1,A[k+1+0]=A[k+2+64]=le+he+1>>1,A[k+2+0]=A[k+3+64]=he+be+1>>1,A[k+3+0]=be+Ee+1>>1,A[k+0+96]=vn(Z,H,F),A[k+0+64]=vn(H,F,ie),A[k+0+32]=A[k+1+96]=vn(F,ie,le),A[k+1+32]=A[k+2+96]=vn(ie,le,he),A[k+2+32]=A[k+3+96]=vn(le,he,be),A[k+3+32]=vn(he,be,Ee)}function gf(A,k){var F=A[k+0-32],H=A[k+1-32],Z=A[k+2-32],ie=A[k+3-32],le=A[k+4-32],he=A[k+5-32],be=A[k+6-32],Ee=A[k+7-32];A[k+0+0]=F+H+1>>1,A[k+1+0]=A[k+0+64]=H+Z+1>>1,A[k+2+0]=A[k+1+64]=Z+ie+1>>1,A[k+3+0]=A[k+2+64]=ie+le+1>>1,A[k+0+32]=vn(F,H,Z),A[k+1+32]=A[k+0+96]=vn(H,Z,ie),A[k+2+32]=A[k+1+96]=vn(Z,ie,le),A[k+3+32]=A[k+2+96]=vn(ie,le,he),A[k+3+64]=vn(le,he,be),A[k+3+96]=vn(he,be,Ee)}function qa(A,k){var F=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],ie=A[k-1+96];A[k+0+0]=F+H+1>>1,A[k+2+0]=A[k+0+32]=H+Z+1>>1,A[k+2+32]=A[k+0+64]=Z+ie+1>>1,A[k+1+0]=vn(F,H,Z),A[k+3+0]=A[k+1+32]=vn(H,Z,ie),A[k+3+32]=A[k+1+64]=vn(Z,ie,ie),A[k+3+64]=A[k+2+64]=A[k+0+96]=A[k+1+96]=A[k+2+96]=A[k+3+96]=ie}function mf(A,k){var F=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],ie=A[k-1+96],le=A[k-1-32],he=A[k+0-32],be=A[k+1-32],Ee=A[k+2-32];A[k+0+0]=A[k+2+32]=F+le+1>>1,A[k+0+32]=A[k+2+64]=H+F+1>>1,A[k+0+64]=A[k+2+96]=Z+H+1>>1,A[k+0+96]=ie+Z+1>>1,A[k+3+0]=vn(he,be,Ee),A[k+2+0]=vn(le,he,be),A[k+1+0]=A[k+3+32]=vn(F,le,he),A[k+1+32]=A[k+3+64]=vn(H,F,le),A[k+1+64]=A[k+3+96]=vn(Z,H,F),A[k+1+96]=vn(ie,Z,H)}function Cl(A,k){var F;for(F=0;8>F;++F)r(A,k+32*F,A,k-32,8)}function Ug(A,k){var F;for(F=0;8>F;++F)i(A,k,A[k-1],8),k+=32}function po(A,k,F){var H;for(H=0;8>H;++H)i(k,F+32*H,A,8)}function Bh(A,k){var F,H=8;for(F=0;8>F;++F)H+=A[k+F-32]+A[k-1+32*F];po(H>>4,A,k)}function Uh(A,k){var F,H=4;for(F=0;8>F;++F)H+=A[k+F-32];po(H>>3,A,k)}function ns(A,k){var F,H=4;for(F=0;8>F;++F)H+=A[k-1+32*F];po(H>>3,A,k)}function kl(A,k){po(128,A,k)}function go(A,k,F){var H=A[k-F],Z=A[k+0],ie=3*(Z-H)+Nc[1020+A[k-2*F]-A[k+F]],le=F0[112+(ie+4>>3)];A[k-F]=Is[255+H+F0[112+(ie+3>>3)]],A[k+0]=Is[255+Z-le]}function dc(A,k,F,H){var Z=A[k+0],ie=A[k+F];return vs[255+A[k-2*F]-A[k-F]]>H||vs[255+ie-Z]>H}function Hh(A,k,F,H){return 4*vs[255+A[k-F]-A[k+0]]+vs[255+A[k-2*F]-A[k+F]]<=H}function vf(A,k,F,H,Z){var ie=A[k-3*F],le=A[k-2*F],he=A[k-F],be=A[k+0],Ee=A[k+F],Me=A[k+2*F],We=A[k+3*F];return 4*vs[255+he-be]+vs[255+le-Ee]>H?0:vs[255+A[k-4*F]-ie]<=Z&&vs[255+ie-le]<=Z&&vs[255+le-he]<=Z&&vs[255+We-Me]<=Z&&vs[255+Me-Ee]<=Z&&vs[255+Ee-be]<=Z}function pc(A,k,F,H){var Z=2*H+1;for(H=0;16>H;++H)Hh(A,k+H,F,Z)&&go(A,k+H,F)}function gc(A,k,F,H){var Z=2*H+1;for(H=0;16>H;++H)Hh(A,k+H*F,1,Z)&&go(A,k+H*F,1)}function xf(A,k,F,H){var Z;for(Z=3;0<Z;--Z)pc(A,k+=4*F,F,H)}function C0(A,k,F,H){var Z;for(Z=3;0<Z;--Z)gc(A,k+=4,F,H)}function mc(A,k,F,H,Z,ie,le,he){for(ie=2*ie+1;0<Z--;){if(vf(A,k,F,ie,le))if(dc(A,k,F,he))go(A,k,F);else{var be=A,Ee=k,Me=F,We=be[Ee-2*Me],Se=be[Ee-Me],Fe=be[Ee+0],ze=be[Ee+Me],at=be[Ee+2*Me],Ge=27*(ht=Nc[1020+3*(Fe-Se)+Nc[1020+We-ze]])+63>>7,st=18*ht+63>>7,ht=9*ht+63>>7;be[Ee-3*Me]=Is[255+be[Ee-3*Me]+ht],be[Ee-2*Me]=Is[255+We+st],be[Ee-Me]=Is[255+Se+Ge],be[Ee+0]=Is[255+Fe-Ge],be[Ee+Me]=Is[255+ze-st],be[Ee+2*Me]=Is[255+at-ht]}k+=H}}function vc(A,k,F,H,Z,ie,le,he){for(ie=2*ie+1;0<Z--;){if(vf(A,k,F,ie,le))if(dc(A,k,F,he))go(A,k,F);else{var be=A,Ee=k,Me=F,We=be[Ee-Me],Se=be[Ee+0],Fe=be[Ee+Me],ze=F0[112+(4+(at=3*(Se-We))>>3)],at=F0[112+(at+3>>3)],Ge=ze+1>>1;be[Ee-2*Me]=Is[255+be[Ee-2*Me]+Ge],be[Ee-Me]=Is[255+We+at],be[Ee+0]=Is[255+Se-ze],be[Ee+Me]=Is[255+Fe-Ge]}k+=H}}function Hg(A,k,F,H,Z,ie){mc(A,k,F,1,16,H,Z,ie)}function xc(A,k,F,H,Z,ie){mc(A,k,1,F,16,H,Z,ie)}function zg(A,k,F,H,Z,ie){var le;for(le=3;0<le;--le)vc(A,k+=4*F,F,1,16,H,Z,ie)}function M(A,k,F,H,Z,ie){var le;for(le=3;0<le;--le)vc(A,k+=4,1,F,16,H,Z,ie)}function J(A,k,F,H,Z,ie,le,he){mc(A,k,Z,1,8,ie,le,he),mc(F,H,Z,1,8,ie,le,he)}function ke(A,k,F,H,Z,ie,le,he){mc(A,k,1,Z,8,ie,le,he),mc(F,H,1,Z,8,ie,le,he)}function Ie(A,k,F,H,Z,ie,le,he){vc(A,k+4*Z,Z,1,8,ie,le,he),vc(F,H+4*Z,Z,1,8,ie,le,he)}function Be(A,k,F,H,Z,ie,le,he){vc(A,k+4,1,Z,8,ie,le,he),vc(F,H+4,1,Z,8,ie,le,he)}function ft(){this.ba=new fn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new Q}function wn(){this.xb=this.a=0,this.l=new fc,this.ca=new fn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,Qt),this.Oc=0}function Ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(A,k,F,H,Z,ie,le){for(A=A==null?0:A[k+0],k=0;k<le;++k)Z[ie+k]=A+F[H+k]&255,A=Z[ie+k]}function Qr(A,k,F,H,Z,ie,le){var he;if(A==null)rr(null,null,F,H,Z,ie,le);else for(he=0;he<le;++he)Z[ie+he]=A[k+he]+F[H+he]&255}function xi(A,k,F,H,Z,ie,le){if(A==null)rr(null,null,F,H,Z,ie,le);else{var he,be=A[k+0],Ee=be,Me=be;for(he=0;he<le;++he)Ee=Me+(be=A[k+he])-Ee,Me=F[H+he]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=be,Z[ie+he]=Me}}function Or(A,k,F,H){var Z=k.width,ie=k.o;if(e(A!=null&&k!=null),0>F||0>=H||F+H>ie)return null;if(!A.Cc){if(A.ga==null){var le;if(A.ga=new Ln,(le=A.ga==null)||(le=k.width*k.o,e(A.Gb.length==0),A.Gb=s(le),A.Uc=0,A.Gb==null?le=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,le=1),le=!le),!le){le=A.ga;var he=A.Fa,be=A.P,Ee=A.qc,Me=A.mb,We=A.nb,Se=be+1,Fe=Ee-1,ze=le.l;if(e(he!=null&&Me!=null&&k!=null),Rc[0]=null,Rc[1]=rr,Rc[2]=Qr,Rc[3]=xi,le.ca=Me,le.tb=We,le.c=k.width,le.i=k.height,e(0<le.c&&0<le.i),1>=Ee)k=0;else if(le.$a=3&he[be+0],le.Z=he[be+0]>>2&3,le.Lc=he[be+0]>>4&3,be=he[be+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||be)k=0;else if(ze.put=cn,ze.ac=da,ze.bc=jo,ze.ma=le,ze.width=k.width,ze.height=k.height,ze.Da=k.Da,ze.v=k.v,ze.va=k.va,ze.j=k.j,ze.o=k.o,le.$a)e:{e(le.$a==1),k=qe();t:for(;;){if(k==null){k=0;break e}if(e(le!=null),le.mc=k,k.c=le.c,k.i=le.i,k.l=le.l,k.l.ma=le,k.l.width=le.c,k.l.height=le.i,k.a=0,me(k.m,he,Se,Fe),!Ve(le.c,le.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&xe(k.s)?(le.ic=1,he=k.c*k.i,k.Ta=null,k.Ua=0,k.V=s(he),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(le.ic=0,k=$e(k,le.c)),!k))break t;k=1;break e}le.mc=null,k=0}else k=Fe>=le.c*le.i;le=!k}if(le)return null;A.ga.Lc!=1?A.Ga=0:H=ie-F}e(A.ga!=null),e(F+H<=ie);e:{if(k=(he=A.ga).c,ie=he.l.o,he.$a==0){if(Se=A.rc,Fe=A.Vc,ze=A.Fa,be=A.P+1+F*k,Ee=A.mb,Me=A.nb+F*k,e(be<=A.P+A.qc),he.Z!=0)for(e(Rc[he.Z]!=null),le=0;le<H;++le)Rc[he.Z](Se,Fe,ze,be,Ee,Me,k),Se=Ee,Fe=Me,Me+=k,be+=k;else for(le=0;le<H;++le)r(Ee,Me,ze,be,k),Se=Ee,Fe=Me,Me+=k,be+=k;A.rc=Se,A.Vc=Fe}else{if(e(he.mc!=null),k=F+H,e((le=he.mc)!=null),e(k<=le.i),le.C>=k)k=1;else if(he.ic||Xo(),he.ic){he=le.V,Se=le.Ba,Fe=le.c;var at=le.i,Ge=(ze=1,be=le.$/Fe,Ee=le.$%Fe,Me=le.m,We=le.s,le.$),st=Fe*at,ht=Fe*k,At=We.wc,xt=Ge<ht?te(We,Ee,be):null;e(Ge<=st),e(k<=at),e(xe(We));t:for(;;){for(;!Me.h&&Ge<ht;){if(Ee&At||(xt=te(We,Ee,be)),e(xt!=null),ye(Me),256>(at=Pr(xt.G[0],xt.H[0],Me)))he[Se+Ge]=at,++Ge,++Ee>=Fe&&(Ee=0,++be<=k&&!(be%16)&&Ne(le,be));else{if(!(280>at)){ze=0;break t}at=ds(at-256,Me);var nn,qt=Pr(xt.G[4],xt.H[4],Me);if(ye(Me),!(Ge>=(qt=Xs(Fe,qt=ds(qt,Me)))&&st-Ge>=at)){ze=0;break t}for(nn=0;nn<at;++nn)he[Se+Ge+nn]=he[Se+Ge+nn-qt];for(Ge+=at,Ee+=at;Ee>=Fe;)Ee-=Fe,++be<=k&&!(be%16)&&Ne(le,be);Ge<ht&&Ee&At&&(xt=te(We,Ee,be))}e(Me.h==Y(Me))}Ne(le,be>k?k:be);break t}!ze||Me.h&&Ge<st?(ze=0,le.a=Me.h?5:3):le.$=Ge,k=ze}else k=je(le,le.V,le.Ba,le.c,le.i,k,_t);if(!k){H=0;break e}}F+H>=ie&&(A.Cc=1),H=1}if(!H)return null;if(A.Cc&&((H=A.ga)!=null&&(H.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+F*Z}function ji(A,k,F,H,Z,ie){for(;0<Z--;){var le,he=A,be=k+(F?1:0),Ee=A,Me=k+(F?0:3);for(le=0;le<H;++le){var We=Ee[Me+4*le];We!=255&&(We*=32897,he[be+4*le+0]=he[be+4*le+0]*We>>23,he[be+4*le+1]=he[be+4*le+1]*We>>23,he[be+4*le+2]=he[be+4*le+2]*We>>23)}k+=ie}}function Ni(A,k,F,H,Z){for(;0<H--;){var ie;for(ie=0;ie<F;++ie){var le=A[k+2*ie+0],he=15&(Ee=A[k+2*ie+1]),be=4369*he,Ee=(240&Ee|Ee>>4)*be>>16;A[k+2*ie+0]=(240&le|le>>4)*be>>16&240|(15&le|le<<4)*be>>16>>4&15,A[k+2*ie+1]=240&Ee|he}k+=Z}}function gs(A,k,F,H,Z,ie,le,he){var be,Ee,Me=255;for(Ee=0;Ee<Z;++Ee){for(be=0;be<H;++be){var We=A[k+be];ie[le+4*be]=We,Me&=We}k+=F,le+=he}return Me!=255}function yc(A,k,F,H,Z){var ie;for(ie=0;ie<Z;++ie)F[H+ie]=A[k+ie]>>8}function Xo(){_f=ji,vo=Ni,I0=gs,$a=yc}function bc(A,k,F){O[A]=function(H,Z,ie,le,he,be,Ee,Me,We,Se,Fe,ze,at,Ge,st,ht,At){var xt,nn=At-1>>1,qt=he[be+0]|Ee[Me+0]<<16,Tn=We[Se+0]|Fe[ze+0]<<16;e(H!=null);var Jt=3*qt+Tn+131074>>2;for(k(H[Z+0],255&Jt,Jt>>16,at,Ge),ie!=null&&(Jt=3*Tn+qt+131074>>2,k(ie[le+0],255&Jt,Jt>>16,st,ht)),xt=1;xt<=nn;++xt){var Wn=he[be+xt]|Ee[Me+xt]<<16,$r=We[Se+xt]|Fe[ze+xt]<<16,In=qt+Wn+Tn+$r+524296,Vt=In+2*(Wn+Tn)>>3;Jt=Vt+qt>>1,qt=(In=In+2*(qt+$r)>>3)+Wn>>1,k(H[Z+2*xt-1],255&Jt,Jt>>16,at,Ge+(2*xt-1)*F),k(H[Z+2*xt-0],255&qt,qt>>16,at,Ge+(2*xt-0)*F),ie!=null&&(Jt=In+Tn>>1,qt=Vt+$r>>1,k(ie[le+2*xt-1],255&Jt,Jt>>16,st,ht+(2*xt-1)*F),k(ie[le+2*xt+0],255&qt,qt>>16,st,ht+(2*xt+0)*F)),qt=Wn,Tn=$r}1&At||(Jt=3*qt+Tn+131074>>2,k(H[Z+At-1],255&Jt,Jt>>16,at,Ge+(At-1)*F),ie!=null&&(Jt=3*Tn+qt+131074>>2,k(ie[le+At-1],255&Jt,Jt>>16,st,ht+(At-1)*F)))}}function k0(){ys[Vg]=Ef,ys[Ms]=Jh,ys[Wg]=Nv,ys[xo]=Jg,ys[P0]=Au,ys[Xh]=Ol,ys[wu]=Eu,ys[O0]=Jh,ys[$g]=Jg,ys[Yh]=Au,ys[Xg]=Ol}function zh(A){return A&-16384?0>A?0:255:A>>Zg}function Nl(A,k){return zh((19077*A>>8)+(26149*k>>8)-14234)}function Yo(A,k,F){return zh((19077*A>>8)-(6419*k>>8)-(13320*F>>8)+8708)}function yf(A,k){return zh((19077*A>>8)+(33050*k>>8)-17685)}function wc(A,k,F,H,Z){H[Z+0]=Nl(A,F),H[Z+1]=Yo(A,k,F),H[Z+2]=yf(A,k)}function rs(A,k,F,H,Z){H[Z+0]=yf(A,k),H[Z+1]=Yo(A,k,F),H[Z+2]=Nl(A,F)}function xu(A,k,F,H,Z){var ie=Yo(A,k,F);k=ie<<3&224|yf(A,k)>>3,H[Z+0]=248&Nl(A,F)|ie>>5,H[Z+1]=k}function yu(A,k,F,H,Z){var ie=240&yf(A,k)|15;H[Z+0]=240&Nl(A,F)|Yo(A,k,F)>>4,H[Z+1]=ie}function jh(A,k,F,H,Z){H[Z+0]=255,wc(A,k,F,H,Z+1)}function Rl(A,k,F,H,Z){rs(A,k,F,H,Z),H[Z+3]=255}function Zs(A,k,F,H,Z){wc(A,k,F,H,Z),H[Z+3]=255}function _c(A,k,F){O[A]=function(H,Z,ie,le,he,be,Ee,Me,We){for(var Se=Me+(-2&We)*F;Me!=Se;)k(H[Z+0],ie[le+0],he[be+0],Ee,Me),k(H[Z+1],ie[le+0],he[be+0],Ee,Me+F),Z+=2,++le,++be,Me+=2*F;1&We&&k(H[Z+0],ie[le+0],he[be+0],Ee,Me)}}function Gh(A,k,F){return F==0?A==0?k==0?6:5:k==0?4:0:F}function N0(A,k,F,H,Z){switch(A>>>30){case 3:kc(k,F,H,Z,0);break;case 2:Ls(k,F,H,Z);break;case 1:fr(k,F,H,Z)}}function Va(A,k){var F,H,Z=k.M,ie=k.Nb,le=A.oc,he=A.pc+40,be=A.oc,Ee=A.pc+584,Me=A.oc,We=A.pc+600;for(F=0;16>F;++F)le[he+32*F-1]=129;for(F=0;8>F;++F)be[Ee+32*F-1]=129,Me[We+32*F-1]=129;for(0<Z?le[he-1-32]=be[Ee-1-32]=Me[We-1-32]=129:(i(le,he-32-1,127,21),i(be,Ee-32-1,127,9),i(Me,We-32-1,127,9)),H=0;H<A.za;++H){var Se=k.ya[k.aa+H];if(0<H){for(F=-1;16>F;++F)r(le,he+32*F-4,le,he+32*F+12,4);for(F=-1;8>F;++F)r(be,Ee+32*F-4,be,Ee+32*F+4,4),r(Me,We+32*F-4,Me,We+32*F+4,4)}var Fe=A.Gd,ze=A.Hd+H,at=Se.ad,Ge=Se.Hc;if(0<Z&&(r(le,he-32,Fe[ze].y,0,16),r(be,Ee-32,Fe[ze].f,0,8),r(Me,We-32,Fe[ze].ea,0,8)),Se.Za){var st=le,ht=he-32+16;for(0<Z&&(H>=A.za-1?i(st,ht,Fe[ze].y[15],4):r(st,ht,Fe[ze+1].y,0,4)),F=0;4>F;F++)st[ht+128+F]=st[ht+256+F]=st[ht+384+F]=st[ht+0+F];for(F=0;16>F;++F,Ge<<=2)st=le,ht=he+wi[F],ui[Se.Ob[F]](st,ht),N0(Ge,at,16*+F,st,ht)}else if(st=Gh(H,Z,Se.Ob[0]),ea[st](le,he),Ge!=0)for(F=0;16>F;++F,Ge<<=2)N0(Ge,at,16*+F,le,he+wi[F]);for(F=Se.Gc,st=Gh(H,Z,Se.Dd),Qo[st](be,Ee),Qo[st](Me,We),Ge=at,st=be,ht=Ee,255&(Se=0|F)&&(170&Se?mo(Ge,256,st,ht):ir(Ge,256,st,ht)),Se=Me,Ge=We,255&(F>>=8)&&(170&F?mo(at,320,Se,Ge):ir(at,320,Se,Ge)),Z<A.Ub-1&&(r(Fe[ze].y,0,le,he+480,16),r(Fe[ze].f,0,be,Ee+224,8),r(Fe[ze].ea,0,Me,We+224,8)),F=8*ie*A.B,Fe=A.sa,ze=A.ta+16*H+16*ie*A.R,at=A.qa,Se=A.ra+8*H+F,Ge=A.Ha,st=A.Ia+8*H+F,F=0;16>F;++F)r(Fe,ze+F*A.R,le,he+32*F,16);for(F=0;8>F;++F)r(at,Se+F*A.B,be,Ee+32*F,8),r(Ge,st+F*A.B,Me,We+32*F,8)}}function Ko(A,k,F,H,Z,ie,le,he,be){var Ee=[0],Me=[0],We=0,Se=be!=null?be.kd:0,Fe=be??new yt;if(A==null||12>F)return 7;Fe.data=A,Fe.w=k,Fe.ha=F,k=[k],F=[F],Fe.gb=[Fe.gb];e:{var ze=k,at=F,Ge=Fe.gb;if(e(A!=null),e(at!=null),e(Ge!=null),Ge[0]=0,12<=at[0]&&!t(A,ze[0],"RIFF")){if(t(A,ze[0]+8,"WEBP")){Ge=3;break e}var st=vt(A,ze[0]+4);if(12>st||4294967286<st){Ge=3;break e}if(Se&&st>at[0]-8){Ge=7;break e}Ge[0]=st,ze[0]+=12,at[0]-=12}Ge=0}if(Ge!=0)return Ge;for(st=0<Fe.gb[0],F=F[0];;){e:{var ht=A;at=k,Ge=F;var At=Ee,xt=Me,nn=ze=[0];if((Jt=We=[We])[0]=0,8>Ge[0])Ge=7;else{if(!t(ht,at[0],"VP8X")){if(vt(ht,at[0]+4)!=10){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var qt=vt(ht,at[0]+8),Tn=1+gt(ht,at[0]+12);if(2147483648<=Tn*(ht=1+gt(ht,at[0]+15))){Ge=3;break e}nn!=null&&(nn[0]=qt),At!=null&&(At[0]=Tn),xt!=null&&(xt[0]=ht),at[0]+=18,Ge[0]-=18,Jt[0]=1}Ge=0}}if(We=We[0],ze=ze[0],Ge!=0)return Ge;if(at=!!(2&ze),!st&&We)return 3;if(ie!=null&&(ie[0]=!!(16&ze)),le!=null&&(le[0]=at),he!=null&&(he[0]=0),le=Ee[0],ze=Me[0],We&&at&&be==null){Ge=0;break}if(4>F){Ge=7;break}if(st&&We||!st&&!We&&!t(A,k[0],"ALPH")){F=[F],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{qt=A,Ge=k,st=F;var Jt=Fe.gb;At=Fe.na,xt=Fe.P,nn=Fe.Sa,Tn=22,e(qt!=null),e(st!=null),ht=Ge[0];var Wn=st[0];for(e(At!=null),e(nn!=null),At[0]=null,xt[0]=null,nn[0]=0;;){if(Ge[0]=ht,st[0]=Wn,8>Wn){Ge=7;break e}var $r=vt(qt,ht+4);if(4294967286<$r){Ge=3;break e}var In=8+$r+1&-2;if(Tn+=In,0<Jt&&Tn>Jt){Ge=3;break e}if(!t(qt,ht,"VP8 ")||!t(qt,ht,"VP8L")){Ge=0;break e}if(Wn[0]<In){Ge=7;break e}t(qt,ht,"ALPH")||(At[0]=qt,xt[0]=ht+8,nn[0]=$r),ht+=In,Wn-=In}}if(F=F[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Ge!=0)break}F=[F],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Jt=A,Ge=k,st=F,At=Fe.gb[0],xt=Fe.Ja,nn=Fe.xa,qt=Ge[0],ht=!t(Jt,qt,"VP8 "),Tn=!t(Jt,qt,"VP8L"),e(Jt!=null),e(st!=null),e(xt!=null),e(nn!=null),8>st[0])Ge=7;else{if(ht||Tn){if(Jt=vt(Jt,qt+4),12<=At&&Jt>At-12){Ge=3;break e}if(Se&&Jt>st[0]-8){Ge=7;break e}xt[0]=Jt,Ge[0]+=8,st[0]-=8,nn[0]=Tn}else nn[0]=5<=st[0]&&Jt[qt+0]==47&&!(Jt[qt+4]>>5),xt[0]=st[0];Ge=0}if(F=F[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],k=k[0],Ge!=0)break;if(4294967286<Fe.Ja)return 3;if(he==null||at||(he[0]=Fe.xa?2:1),le=[le],ze=[ze],Fe.xa){if(5>F){Ge=7;break}he=le,Se=ze,at=ie,A==null||5>F?A=0:5<=F&&A[k+0]==47&&!(A[k+4]>>5)?(st=[0],Jt=[0],At=[0],me(xt=new U,A,k,F),ho(xt,st,Jt,At)?(he!=null&&(he[0]=st[0]),Se!=null&&(Se[0]=Jt[0]),at!=null&&(at[0]=At[0]),A=1):A=0):A=0}else{if(10>F){Ge=7;break}he=ze,A==null||10>F||!x0(A,k+3,F-3)?A=0:(Se=A[k+0]|A[k+1]<<8|A[k+2]<<16,at=16383&(A[k+7]<<8|A[k+6]),A=16383&(A[k+9]<<8|A[k+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Fe.Ja||!at||!A?A=0:(le&&(le[0]=at),he&&(he[0]=A),A=1))}if(!A||(le=le[0],ze=ze[0],We&&(Ee[0]!=le||Me[0]!=ze)))return 3;be!=null&&(be[0]=Fe,be.offset=k-be.w,e(4294967286>k-be.w),e(be.offset==be.ha-F));break}return Ge==0||Ge==7&&We&&be==null?(ie!=null&&(ie[0]|=Fe.na!=null&&0<Fe.na.length),H!=null&&(H[0]=le),Z!=null&&(Z[0]=ze),0):Ge}function Sc(A,k,F){var H=k.width,Z=k.height,ie=0,le=0,he=H,be=Z;if(k.Da=A!=null&&0<A.Da,k.Da&&(he=A.cd,be=A.bd,ie=A.v,le=A.j,11>F||(ie&=-2,le&=-2),0>ie||0>le||0>=he||0>=be||ie+he>H||le+be>Z))return 0;if(k.v=ie,k.j=le,k.va=ie+he,k.o=le+be,k.U=he,k.T=be,k.da=A!=null&&0<A.da,k.da){if(!St(he,be,F=[A.ib],ie=[A.hb]))return 0;k.ib=F[0],k.hb=ie[0]}return k.ob=A!=null&&A.ob,k.Kb=A==null||!A.Sd,k.da&&(k.ob=k.ib<3*H/4&&k.hb<3*Z/4,k.Kb=0),1}function R0(A){if(A==null)return 2;if(11>A.S){var k=A.f.RGBA;k.fb+=(A.height-1)*k.A,k.A=-k.A}else k=A.f.kb,A=A.height,k.O+=(A-1)*k.fa,k.fa=-k.fa,k.N+=(A-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(A-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(A-1)*k.lb,k.lb=-k.lb);return 0}function Jo(A,k,F,H){if(H==null||0>=A||0>=k)return 2;if(F!=null){if(F.Da){var Z=F.cd,ie=F.bd,le=-2&F.v,he=-2&F.j;if(0>le||0>he||0>=Z||0>=ie||le+Z>A||he+ie>k)return 2;A=Z,k=ie}if(F.da){if(!St(A,k,Z=[F.ib],ie=[F.hb]))return 2;A=Z[0],k=ie[0]}}H.width=A,H.height=k;e:{var be=H.width,Ee=H.height;if(A=H.S,0>=be||0>=Ee||!(A>=Vg&&13>A))A=2;else{if(0>=H.Rd&&H.sd==null){le=ie=Z=k=0;var Me=(he=be*em[A])*Ee;if(11>A||(ie=(Ee+1)/2*(k=(be+1)/2),A==12&&(le=(Z=be)*Ee)),(Ee=s(Me+2*ie+le))==null){A=1;break e}H.sd=Ee,11>A?((be=H.f.RGBA).eb=Ee,be.fb=0,be.A=he,be.size=Me):((be=H.f.kb).y=Ee,be.O=0,be.fa=he,be.Fd=Me,be.f=Ee,be.N=0+Me,be.Ab=k,be.Cd=ie,be.ea=Ee,be.W=0+Me+ie,be.Db=k,be.Ed=ie,A==12&&(be.F=Ee,be.J=0+Me+2*ie),be.Tc=le,be.lb=Z)}if(k=1,Z=H.S,ie=H.width,le=H.height,Z>=Vg&&13>Z)if(11>Z)A=H.f.RGBA,k&=(he=Math.abs(A.A))*(le-1)+ie<=A.size,k&=he>=ie*em[Z],k&=A.eb!=null;else{A=H.f.kb,he=(ie+1)/2,Me=(le+1)/2,be=Math.abs(A.fa),Ee=Math.abs(A.Ab);var We=Math.abs(A.Db),Se=Math.abs(A.lb),Fe=Se*(le-1)+ie;k&=be*(le-1)+ie<=A.Fd,k&=Ee*(Me-1)+he<=A.Cd,k=(k&=We*(Me-1)+he<=A.Ed)&be>=ie&Ee>=he&We>=he,k&=A.y!=null,k&=A.f!=null,k&=A.ea!=null,Z==12&&(k&=Se>=ie,k&=Fe<=A.Tc,k&=A.F!=null)}else k=0;A=k?0:2}}return A!=0||F!=null&&F.fd&&(A=R0(H)),A}var bu=64,ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qs=24,Ll=32,Il=8,Ac=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ct("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(A){return A},O.Predictor2=function(A,k,F){return k[F+0]},O.Predictor3=function(A,k,F){return k[F+1]},O.Predictor4=function(A,k,F){return k[F-1]},O.Predictor5=function(A,k,F){return _e(_e(A,k[F+1]),k[F+0])},O.Predictor6=function(A,k,F){return _e(A,k[F-1])},O.Predictor7=function(A,k,F){return _e(A,k[F+0])},O.Predictor8=function(A,k,F){return _e(k[F-1],k[F+0])},O.Predictor9=function(A,k,F){return _e(k[F+0],k[F+1])},O.Predictor10=function(A,k,F){return _e(_e(A,k[F-1]),_e(k[F+0],k[F+1]))},O.Predictor11=function(A,k,F){var H=k[F+0];return 0>=pt(H>>24&255,A>>24&255,(k=k[F-1])>>24&255)+pt(H>>16&255,A>>16&255,k>>16&255)+pt(H>>8&255,A>>8&255,k>>8&255)+pt(255&H,255&A,255&k)?H:A},O.Predictor12=function(A,k,F){var H=k[F+0];return(Je((A>>24&255)+(H>>24&255)-((k=k[F-1])>>24&255))<<24|Je((A>>16&255)+(H>>16&255)-(k>>16&255))<<16|Je((A>>8&255)+(H>>8&255)-(k>>8&255))<<8|Je((255&A)+(255&H)-(255&k)))>>>0},O.Predictor13=function(A,k,F){var H=k[F-1];return(ut((A=_e(A,k[F+0]))>>24&255,H>>24&255)<<24|ut(A>>16&255,H>>16&255)<<16|ut(A>>8&255,H>>8&255)<<8|ut(255&A,255&H))>>>0};var qh=O.PredictorAdd0;O.PredictorAdd1=Ut,Ct("Predictor2","PredictorAdd2"),Ct("Predictor3","PredictorAdd3"),Ct("Predictor4","PredictorAdd4"),Ct("Predictor5","PredictorAdd5"),Ct("Predictor6","PredictorAdd6"),Ct("Predictor7","PredictorAdd7"),Ct("Predictor8","PredictorAdd8"),Ct("Predictor9","PredictorAdd9"),Ct("Predictor10","PredictorAdd10"),Ct("Predictor11","PredictorAdd11"),Ct("Predictor12","PredictorAdd12"),Ct("Predictor13","PredictorAdd13");var Vh=O.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var yi,jg=O.ColorIndexInverseTransform,Ml=O.MapARGB,Dl=O.VP8LColorIndexInverseTransformAlpha,ms=O.MapAlpha,Ec=O.VP8LPredictorsAdd=[];Ec.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Wh,$h,Tc,Cc,Fl,bf,Wa,kc,Ls,mo,fr,ir,Br,bi,Pl,Zo,wf,L0,Av,nb,rb,ib,Ev,Tv,_f,vo,I0,$a,Sf=s(511),Gg=s(2041),M0=s(225),D0=s(767),qg=0,Nc=Gg,F0=M0,Is=D0,vs=Sf,Vg=0,Ms=1,Wg=2,xo=3,P0=4,Xh=5,wu=6,O0=7,$g=8,Yh=9,Xg=10,yo=[2,3,7],Kh=[3,3,11],Af=[280,256,256,256,40],Yg=[0,1,1,1,0],B0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_u=8,_o=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],So=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xa=null,sb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ab=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],ui=[],Qo=[],Su=1,kv=2,Rc=[],ys=[];bc("UpsampleRgbLinePair",wc,3),bc("UpsampleBgrLinePair",rs,3),bc("UpsampleRgbaLinePair",Zs,4),bc("UpsampleBgraLinePair",Rl,4),bc("UpsampleArgbLinePair",jh,4),bc("UpsampleRgba4444LinePair",yu,2),bc("UpsampleRgb565LinePair",xu,2);var Ef=O.UpsampleRgbLinePair,Nv=O.UpsampleBgrLinePair,Jh=O.UpsampleRgbaLinePair,Jg=O.UpsampleBgraLinePair,Au=O.UpsampleArgbLinePair,Ol=O.UpsampleRgba4444LinePair,Eu=O.UpsampleRgb565LinePair,Ao=16,Zh=1<<Ao-1,Tf=-227,Tu=482,Zg=6,Cu=0,bs=s(256),Qg=s(256),ob=s(256),O5=s(256),B5=s(Tu-Tf),U5=s(Tu-Tf);_c("YuvToRgbRow",wc,3),_c("YuvToBgrRow",rs,3),_c("YuvToRgbaRow",Zs,4),_c("YuvToBgraRow",Rl,4),_c("YuvToArgbRow",jh,4),_c("YuvToRgba4444Row",yu,2),_c("YuvToRgb565Row",xu,2);var wi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qh=[0,2,8],U0=[8,7,6,4,4,2,2,2,1,1,1,1],H0=1;this.WebPDecodeRGBA=function(A,k,F,H,Z){var ie=Ms,le=new ft,he=new fn;le.ba=he,he.S=ie,he.width=[he.width],he.height=[he.height];var be=he.width,Ee=he.height,Me=new Xt;if(Me==null||A==null)var We=2;else e(Me!=null),We=Ko(A,k,F,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(We!=0?be=0:(be!=null&&(be[0]=Me.width[0]),Ee!=null&&(Ee[0]=Me.height[0]),be=1),be){he.width=he.width[0],he.height=he.height[0],H!=null&&(H[0]=he.width),Z!=null&&(Z[0]=he.height);e:{if(H=new fc,(Z=new yt).data=A,Z.w=k,Z.ha=F,Z.kd=1,k=[0],e(Z!=null),((A=Ko(Z.data,Z.w,Z.ha,null,null,null,k,null,Z))==0||A==7)&&k[0]&&(A=4),(k=A)==0){if(e(le!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=cn,H.ac=da,H.bc=jo,H.ma=le,Z.xa){if((A=qe())==null){le=1;break e}if((function(Se,Fe){var ze=[0],at=[0],Ge=[0];t:for(;;){if(Se==null)return 0;if(Fe==null)return Se.a=2,0;if(Se.l=Fe,Se.a=0,me(Se.m,Fe.data,Fe.w,Fe.ha),!ho(Se.m,ze,at,Ge)){Se.a=3;break t}if(Se.xb=kv,Fe.width=ze[0],Fe.height=at[0],!Ve(ze[0],at[0],1,Se,null))break t;return 1}return e(Se.a!=0),0})(A,H)){if(H=(k=Jo(H.width,H.height,le.Oa,le.ba))==0){t:{H=A;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((F=H.l)!=null),e((Z=F.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,e(H.ca!=null),!Sc(Z.Oa,F,xo)){H.a=2;break n}if(!$e(H,F.width)||F.da)break n;if((F.da||Wt(H.ca.S))&&Xo(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Xo()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!pe(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!je(H,H.V,H.Ba,H.c,H.i,F.o,ve))break n;Z.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(k=A.a)}else k=A.a}else{if((A=new Vo)==null){le=1;break e}if(A.Fa=Z.na,A.P=Z.P,A.qc=Z.Sa,Tl(A,H)){if((k=Jo(H.width,H.height,le.Oa,le.ba))==0){if(A.Aa=0,F=le.Oa,e((Z=A)!=null),F!=null){if(0<(be=0>(be=F.Md)?0:100<be?255:255*be/100)){for(Ee=Me=0;4>Ee;++Ee)12>(We=Z.pb[Ee]).lc&&(We.ia=be*U0[0>We.lc?0:We.lc]>>3),Me|=We.ia;Me&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=F.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(Se,Fe){if(Se==null)return 0;if(Fe==null)return ur(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!Tl(Se,Fe))return 0;if(e(Se.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(Se.L=0);var ze=Qh[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Fe.v-ze>>4,Se.zb=Fe.j-ze>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Fe.o+15+ze>>4,Se.Hb=Fe.va+15+ze>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var at=Se.ed;for(ze=0;4>ze;++ze){var Ge;if(Se.Qa.Cb){var st=Se.Qa.Lb[ze];Se.Qa.Fb||(st+=at.Tb)}else st=at.Tb;for(Ge=0;1>=Ge;++Ge){var ht=Se.gd[ze][Ge],At=st;if(at.Pc&&(At+=at.vd[0],Ge&&(At+=at.od[0])),0<(At=0>At?0:63<At?63:At)){var xt=At;0<at.wb&&(xt=4<at.wb?xt>>2:xt>>1)>9-at.wb&&(xt=9-at.wb),1>xt&&(xt=1),ht.dd=xt,ht.tc=2*At+xt,ht.ld=40<=At?2:15<=At?1:0}else ht.tc=0;ht.La=Ge}}}ze=0}else ur(Se,6,"Frame setup failed"),ze=Se.a;if(ze=ze==0){if(ze){Se.$c=0,0<Se.Aa||(Se.Ic=H0);t:{ze=Se.Ic,at=4*(xt=Se.za);var nn=32*xt,qt=xt+1,Tn=0<Se.L?xt*(0<Se.Aa?2:1):0,Jt=(Se.Aa==2?2:1)*xt;if((ht=at+832+(Ge=3*(16*ze+Qh[Se.L])/2*nn)+(st=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=ht)ze=0;else{if(ht>Se.Vb){if(Se.Vb=0,Se.Ec=s(ht),Se.Fc=0,Se.Ec==null){ze=ur(Se,1,"no memory during frame initialization.");break t}Se.Vb=ht}ht=Se.Ec,At=Se.Fc,Se.Ac=ht,Se.Bc=At,At+=at,Se.Gd=a(nn,ja),Se.Hd=0,Se.rb=a(qt+1,Tr),Se.sb=1,Se.wa=Tn?a(Tn,qn):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=xt),e(!0),Se.oc=ht,Se.pc=At,At+=832,Se.ya=a(Jt,Go),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=xt),Se.R=16*xt,Se.B=8*xt,xt=(nn=Qh[Se.L])*Se.R,nn=nn/2*Se.B,Se.sa=ht,Se.ta=At+xt,Se.qa=Se.sa,Se.ra=Se.ta+16*ze*Se.R+nn,Se.Ha=Se.qa,Se.Ia=Se.ra+8*ze*Se.B+nn,Se.$c=0,At+=Ge,Se.mb=st?ht:null,Se.nb=st?At:null,e(At+st<=Se.Fc+Se.Vb),y0(Se),i(Se.Ac,Se.Bc,0,at),ze=1}}if(ze){if(Fe.ka=0,Fe.y=Se.sa,Fe.O=Se.ta,Fe.f=Se.qa,Fe.N=Se.ra,Fe.ea=Se.Ha,Fe.Vd=Se.Ia,Fe.fa=Se.R,Fe.Rc=Se.B,Fe.F=null,Fe.J=0,!qg){for(ze=-255;255>=ze;++ze)Sf[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)Gg[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)M0[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)D0[255+ze]=0>ze?0:255<ze?255:ze;qg=1}Wa=Wo,kc=b0,mo=Js,fr=w0,ir=_0,Ls=Mg,Br=Hg,bi=xc,Pl=J,Zo=ke,wf=zg,L0=M,Av=Ie,nb=Be,rb=pc,ib=gc,Ev=xf,Tv=C0,ui[0]=Bg,ui[1]=Dg,ui[2]=Og,ui[3]=E0,ui[4]=Ga,ui[5]=T0,ui[6]=ps,ui[7]=gf,ui[8]=mf,ui[9]=qa,ea[0]=$o,ea[1]=S0,ea[2]=A0,ea[3]=Pg,ea[4]=hc,ea[5]=pf,ea[6]=vu,Qo[0]=Bh,Qo[1]=Fg,Qo[2]=Cl,Qo[3]=Ug,Qo[4]=ns,Qo[5]=Uh,Qo[6]=kl,ze=1}else ze=0}ze&&(ze=(function(Wn,$r){for(Wn.M=0;Wn.M<Wn.Va;++Wn.M){var In,Vt=Wn.Jc[Wn.M&Wn.Xb],Mt=Wn.m,ei=Wn;for(In=0;In<ei.za;++In){var xn=Mt,Fn=ei,_r=Fn.Ac,Gi=Fn.Bc+4*In,ws=Fn.zc,Ur=Fn.ya[Fn.aa+In];if(Fn.Qa.Bb?Ur.$b=Re(xn,Fn.Pa.jb[0])?2+Re(xn,Fn.Pa.jb[2]):Re(xn,Fn.Pa.jb[1]):Ur.$b=0,Fn.kc&&(Ur.Ad=Re(xn,Fn.Bd)),Ur.Za=!Re(xn,145)+0,Ur.Za){var Ri=Ur.Ob,Ds=0;for(Fn=0;4>Fn;++Fn){var Li,jn=ws[0+Fn];for(Li=0;4>Li;++Li){jn=xs[_r[Gi+Li]][jn];for(var or=Kg[Re(xn,jn[0])];0<or;)or=Kg[2*or+Re(xn,jn[or])];jn=-or,_r[Gi+Li]=jn}r(Ri,Ds,_r,Gi,4),Ds+=4,ws[0+Fn]=jn}}else jn=Re(xn,156)?Re(xn,128)?1:3:Re(xn,163)?2:0,Ur.Ob[0]=jn,i(_r,Gi,jn,4),i(ws,0,jn,4);Ur.Dd=Re(xn,142)?Re(xn,114)?Re(xn,183)?1:3:2:0}if(ei.m.Ka)return ur(Wn,7,"Premature end-of-partition0 encountered.");for(;Wn.ja<Wn.za;++Wn.ja){if(ei=Vt,xn=(Mt=Wn).rb[Mt.sb-1],_r=Mt.rb[Mt.sb+Mt.ja],In=Mt.ya[Mt.aa+Mt.ja],Gi=Mt.kc?In.Ad:0)xn.la=_r.la=0,In.Za||(xn.Na=_r.Na=0),In.Hc=0,In.Gc=0,In.ia=0;else{var ti,hr;if(xn=_r,_r=ei,Gi=Mt.Pa.Xc,ws=Mt.ya[Mt.aa+Mt.ja],Ur=Mt.pb[ws.$b],Fn=ws.ad,Ri=0,Ds=Mt.rb[Mt.sb-1],jn=Li=0,i(Fn,Ri,0,384),ws.Za)var qi=0,ni=Gi[3];else{or=s(16);var lr=xn.Na+Ds.Na;if(lr=Xa(_r,Gi[1],lr,Ur.Eb,0,or,0),xn.Na=Ds.Na=(0<lr)+0,1<lr)Wa(or,0,Fn,Ri);else{var _i=or[0]+3>>3;for(or=0;256>or;or+=16)Fn[Ri+or]=_i}qi=1,ni=Gi[0]}var Sr=15&xn.la,Ii=15&Ds.la;for(or=0;4>or;++or){var Mi=1&Ii;for(_i=hr=0;4>_i;++_i)Sr=Sr>>1|(Mi=(lr=Xa(_r,ni,lr=Mi+(1&Sr),Ur.Sc,qi,Fn,Ri))>qi)<<7,hr=hr<<2|(3<lr?3:1<lr?2:Fn[Ri+0]!=0),Ri+=16;Sr>>=4,Ii=Ii>>1|Mi<<7,Li=(Li<<8|hr)>>>0}for(ni=Sr,qi=Ii>>4,ti=0;4>ti;ti+=2){for(hr=0,Sr=xn.la>>4+ti,Ii=Ds.la>>4+ti,or=0;2>or;++or){for(Mi=1&Ii,_i=0;2>_i;++_i)lr=Mi+(1&Sr),Sr=Sr>>1|(Mi=0<(lr=Xa(_r,Gi[2],lr,Ur.Qc,0,Fn,Ri)))<<3,hr=hr<<2|(3<lr?3:1<lr?2:Fn[Ri+0]!=0),Ri+=16;Sr>>=2,Ii=Ii>>1|Mi<<5}jn|=hr<<4*ti,ni|=Sr<<4<<ti,qi|=(240&Ii)<<ti}xn.la=ni,Ds.la=qi,ws.Hc=Li,ws.Gc=jn,ws.ia=43690&jn?0:Ur.ia,Gi=!(Li|jn)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[In.$b][In.Za],Mt.wa[Mt.Y+Mt.ja].La|=!Gi),ei.Ka)return ur(Wn,7,"Premature end-of-file encountered.")}if(y0(Wn),Mt=$r,ei=1,In=(Vt=Wn).D,xn=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(In.M=Vt.M,In.uc=xn,Va(Vt,In),ei=1,In=(hr=Vt.D).Nb,xn=(jn=Qh[Vt.L])*Vt.R,_r=jn/2*Vt.B,or=16*In*Vt.R,_i=8*In*Vt.B,Gi=Vt.sa,ws=Vt.ta-xn+or,Ur=Vt.qa,Fn=Vt.ra-_r+_i,Ri=Vt.Ha,Ds=Vt.Ia-_r+_i,Ii=(Sr=hr.M)==0,Li=Sr>=Vt.Va-1,Vt.Aa==2&&Va(Vt,hr),hr.uc)for(Mi=(lr=Vt).D.M,e(lr.D.uc),hr=lr.yb;hr<lr.Hb;++hr){qi=hr,ni=Mi;var Cr=(sr=(Di=lr).D).Nb;ti=Di.R;var sr=sr.wa[sr.Y+qi],Fs=Di.sa,fi=Di.ta+16*Cr*ti+16*qi,hn=sr.dd,pn=sr.tc;if(pn!=0)if(e(3<=pn),Di.L==1)0<qi&&ib(Fs,fi,ti,pn+4),sr.La&&Tv(Fs,fi,ti,pn),0<ni&&rb(Fs,fi,ti,pn+4),sr.La&&Ev(Fs,fi,ti,pn);else{var cr=Di.B,ma=Di.qa,Eo=Di.ra+8*Cr*cr+8*qi,ta=Di.Ha,Di=Di.Ia+8*Cr*cr+8*qi;Cr=sr.ld,0<qi&&(bi(Fs,fi,ti,pn+4,hn,Cr),Zo(ma,Eo,ta,Di,cr,pn+4,hn,Cr)),sr.La&&(L0(Fs,fi,ti,pn,hn,Cr),nb(ma,Eo,ta,Di,cr,pn,hn,Cr)),0<ni&&(Br(Fs,fi,ti,pn+4,hn,Cr),Pl(ma,Eo,ta,Di,cr,pn+4,hn,Cr)),sr.La&&(wf(Fs,fi,ti,pn,hn,Cr),Av(ma,Eo,ta,Di,cr,pn,hn,Cr))}}if(Vt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(hr=16*Sr,Sr=16*(Sr+1),Ii?(Mt.y=Vt.sa,Mt.O=Vt.ta+or,Mt.f=Vt.qa,Mt.N=Vt.ra+_i,Mt.ea=Vt.Ha,Mt.W=Vt.Ia+_i):(hr-=jn,Mt.y=Gi,Mt.O=ws,Mt.f=Ur,Mt.N=Fn,Mt.ea=Ri,Mt.W=Ds),Li||(Sr-=jn),Sr>Mt.o&&(Sr=Mt.o),Mt.F=null,Mt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&hr<Sr&&(Mt.J=Or(Vt,Mt,hr,Sr-hr),Mt.F=Vt.mb,Mt.F==null&&Mt.F.length==0)){ei=ur(Vt,3,"Could not decode alpha data.");break t}hr<Mt.j&&(jn=Mt.j-hr,hr=Mt.j,e(!(1&jn)),Mt.O+=Vt.R*jn,Mt.N+=Vt.B*(jn>>1),Mt.W+=Vt.B*(jn>>1),Mt.F!=null&&(Mt.J+=Mt.width*jn)),hr<Sr&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=hr-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=Sr-hr,ei=Mt.put(Mt))}In+1!=Vt.Ic||Li||(r(Vt.sa,Vt.ta-xn,Gi,ws+16*Vt.R,xn),r(Vt.qa,Vt.ra-_r,Ur,Fn+8*Vt.B,_r),r(Vt.Ha,Vt.Ia-_r,Ri,Ds+8*Vt.B,_r))}if(!ei)return ur(Wn,6,"Output aborted.")}return 1})(Se,Fe)),Fe.bc!=null&&Fe.bc(Fe),ze&=1}return ze?(Se.cb=0,ze):0})(A,H)||(k=A.a)}}else k=A.a}k==0&&le.Oa!=null&&le.Oa.fd&&(k=R0(le.ba))}le=k}ie=le!=0?null:11>ie?he.f.RGBA.eb:he.f.kb.y}else ie=null;return ie};var em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,ee){for(var B="",q=0;q<4;q++)B+=String.fromCharCode(O[ee++]);return B}function h(O,ee){return O[ee+0]|O[ee+1]<<8}function p(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16)>>>0}function g(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16|O[ee+3]<<24)>>>0}new c;var m=[0],b=[0],w=[],_=new c,T=n,L=(function(O,ee){var B={},q=0,Q=!1,re=0,ge=0;if(B.frames=[],!(function(I,U){for(var z=0;z<4;z++)if(I[U+z]!="RIFF".charCodeAt(z))return!0;return!1})(O,ee)){for(g(O,ee+=4),ee+=8;ee<O.length;){var K=u(O,ee),ce=g(O,ee+=4);ee+=4;var Te=ce+(1&ce);switch(K){case"VP8 ":case"VP8L":B.frames[q]===void 0&&(B.frames[q]={}),(se=B.frames[q]).src_off=Q?ge:ee-8,se.src_size=re+ce+8,q++,Q&&(Q=!1,re=0,ge=0);break;case"VP8X":(se=B.header={}).feature_flags=O[ee];var me=ee+4;se.canvas_width=1+p(O,me),me+=3,se.canvas_height=1+p(O,me),me+=3;break;case"ALPH":Q=!0,re=Te+8,ge=ee-8;break;case"ANIM":(se=B.header).bgcolor=g(O,ee),me=ee+4,se.loop_count=h(O,me),me+=2;break;case"ANMF":var Oe,se;(se=B.frames[q]={}).offset_x=2*p(O,ee),ee+=3,se.offset_y=2*p(O,ee),ee+=3,se.width=1+p(O,ee),ee+=3,se.height=1+p(O,ee),ee+=3,se.duration=p(O,ee),ee+=3,Oe=O[ee++],se.dispose=1&Oe,se.blend=Oe>>1&1}K!="ANMF"&&(ee+=Te)}return B}})(T,0);L.response=T,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,D=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,m=[R.canvas_height],b=[R.canvas_width];for(var j=0;j<D.length&&D[j].blend!=0;j++);}var G=D[0],P=_.WebPDecodeRGBA(T,G.src_off,G.src_size,b,m);G.rgba=P,G.imgwidth=b[0],G.imgheight=m[0];for(var W=0;W<b[0]*m[0]*4;W++)w[W]=P[W];return this.width=b,this.height=m,this.data=w,this}(function(n){var e,t,r,i,s,a,o,c,u,h=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=I;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(pe){z=!!pe}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(pe){Y=!!pe}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(pe){isNaN(pe)||(oe=pe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(pe){isNaN(pe)||(ye=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var He;typeof pe=="number"?He=[pe,pe,pe,pe]:((He=new Array(4))[0]=pe[0],He[1]=pe.length>=2?pe[1]:He[0],He[2]=pe.length>=3?pe[2]:He[0],He[3]=pe.length>=4?pe[3]:He[1]),u.margin=He}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(pe){fe=pe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(pe){Ae=pe}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(pe){Re=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof h&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(pe){et=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var He;He=g(pe),this.ctx.fillStyle=He.style,this.ctx.isFillTransparent=He.a===0,this.ctx.fillOpacity=He.a,this.pdf.setFillColor(He.r,He.g,He.b,{a:He.a}),this.pdf.setTextColor(He.r,He.g,He.b,{a:He.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var He=g(pe);this.ctx.strokeStyle=He.style,this.ctx.isStrokeTransparent=He.a===0,this.ctx.strokeOpacity=He.a,He.a===0?this.pdf.setDrawColor(255,255,255):(He.a,this.pdf.setDrawColor(He.r,He.g,He.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var de=null,gt=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(pe){de=null,gt=null,vt=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var He;if(this.ctx.font=pe,(He=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pe))!==null){var Ke=He[1];He[2];var St=He[3],it=He[4];He[5];var Dt=He[6],Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(Ct==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var $t=(function(Qe){var Ht,kt,Nt=[],Bt=Qe.trim();if(Bt==="")return LA;if(Bt in rR)return[rR[Bt]];for(;Bt!=="";){switch(kt=null,Ht=(Bt=sR(Bt)).charAt(0)){case'"':case"'":kt=fJ(Bt.substring(1),Ht);break;default:kt=hJ(Bt)}if(kt===null||(Nt.push(kt[0]),(Bt=sR(kt[1]))!==""&&Bt.charAt(0)!==","))return LA;Bt=Bt.replace(/^,/,"")}return Nt})(Dt);if(this.fontFaces){var _e=(function(Qe,Ht){var kt=Qe.getFontList(),Nt=JSON.stringify(kt);if(de===null||gt!==Nt){var Bt=(function(En){var Gt=[];return Object.keys(En).forEach(function(Rn){En[Rn].forEach(function(Wt){var dn=null;switch(Wt){case"bold":dn={family:Rn,weight:"bold"};break;case"italic":dn={family:Rn,style:"italic"};break;case"bolditalic":dn={family:Rn,weight:"bold",style:"italic"};break;case"":case"normal":dn={family:Rn}}dn!==null&&(dn.ref={name:Rn,style:Wt},Gt.push(dn))})}),Gt})(kt);de=(function(En){for(var Gt={},Rn=0;Rn<En.length;++Rn){var Wt=RA(En[Rn]),dn=Wt.family,Kn=Wt.stretch,fn=Wt.style,Xt=Wt.weight;Gt[dn]=Gt[dn]||{},Gt[dn][Kn]=Gt[dn][Kn]||{},Gt[dn][Kn][fn]=Gt[dn][Kn][fn]||{},Gt[dn][Kn][fn][Xt]=Wt}return Gt})(Bt.concat(Ht)),gt=Nt}return de})(this.pdf,this.fontFaces),Je=$t.map(function(Qe){return{family:Qe,stretch:"normal",weight:St,style:Ke}}),ut=(function(Qe,Ht,kt){for(var Nt=(kt=kt||{}).defaultFontFamily||"times",Bt=Object.assign({},uJ,kt.genericFontFamilies||{}),En=null,Gt=null,Rn=0;Rn<Ht.length;++Rn)if(Bt[(En=RA(Ht[Rn])).family]&&(En.family=Bt[En.family]),Qe.hasOwnProperty(En.family)){Gt=Qe[En.family];break}if(!(Gt=Gt||Qe[Nt]))throw new Error("Could not find a font-family for the rule '"+iR(En)+"' and default family '"+Nt+"'.");if(Gt=(function(Wt,dn){if(dn[Wt])return dn[Wt];var Kn=VT[Wt],fn=Kn<=VT.normal?-1:1,Xt=nR(dn,wF,Kn,fn);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+Wt);return Xt})(En.stretch,Gt),Gt=(function(Wt,dn){if(dn[Wt])return dn[Wt];for(var Kn=bF[Wt],fn=0;fn<Kn.length;++fn)if(dn[Kn[fn]])return dn[Kn[fn]];throw new Error("Could not find a matching font-style for "+Wt)})(En.style,Gt),!(Gt=(function(Wt,dn){if(dn[Wt])return dn[Wt];if(Wt===400&&dn[500])return dn[500];if(Wt===500&&dn[400])return dn[400];var Kn=cJ[Wt],fn=nR(dn,_F,Kn,Wt<400?-1:1);if(!fn)throw new Error("Could not find a matching font-weight for value "+Wt);return fn})(En.weight,Gt)))throw new Error("Failed to resolve a font for the rule '"+iR(En)+"'.");return Gt})(_e,Je);this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var pt="";(St==="bold"||parseInt(St,10)>=700||Ke==="bold")&&(pt="bold"),Ke==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var Ut="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<$t.length;lt++){if(this.pdf.internal.getFont($t[lt],pt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=$t[lt];break}if(pt==="bolditalic"&&this.pdf.internal.getFont($t[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=$t[lt],pt="bold";else if(this.pdf.internal.getFont($t[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=$t[lt],pt="normal";break}}if(Ut===""){for(var Pe=0;Pe<$t.length;Pe++)if(wt[$t[Pe]]){Ut=wt[$t[Pe]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,U){if(isNaN(I)||isNaN(U))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new a(I,U)},p.prototype.closePath=function(){var I=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Dr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){I=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},p.prototype.lineTo=function(I,U){if(isNaN(I)||isNaN(U))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new a(z.x,z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,U,z,Y){if(isNaN(z)||isNaN(Y)||isNaN(I)||isNaN(U))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(z,Y)),ye=this.ctx.transform.applyToPoint(new a(I,U));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},p.prototype.bezierCurveTo=function(I,U,z,Y,oe,ye){if(isNaN(oe)||isNaN(ye)||isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(oe,ye)),Ae=this.ctx.transform.applyToPoint(new a(I,U)),Re=this.ctx.transform.applyToPoint(new a(z,Y));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Re.x,y2:Re.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},p.prototype.arc=function(I,U,z,Y,oe,ye){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y)||isNaN(oe))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(I,U));I=fe.x,U=fe.y;var Ae=this.ctx.transform.applyToPoint(new a(0,z)),Re=this.ctx.transform.applyToPoint(new a(0,0));z=Math.sqrt(Math.pow(Ae.x-Re.x,2)+Math.pow(Ae.y-Re.y,2))}Math.abs(oe-Y)>=2*Math.PI&&(Y=0,oe=2*Math.PI),this.path.push({type:"arc",x:I,y:U,radius:z,startAngle:Y,endAngle:oe,counterclockwise:ye})},p.prototype.arcTo=function(I,U,z,Y,oe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,U,z,Y){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,U),this.lineTo(I+z,U),this.lineTo(I+z,U+Y),this.lineTo(I,U+Y),this.lineTo(I,U),this.lineTo(I+z,U),this.lineTo(I,U)},p.prototype.fillRect=function(I,U,z,Y){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,U,z,Y),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},p.prototype.strokeRect=function(I,U,z,Y){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(I,U,z,Y),this.stroke())},p.prototype.clearRect=function(I,U,z,Y){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,U,z,Y))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var U,z,Y,oe;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))U=0,z=0,Y=0,oe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ye!==null)U=parseInt(ye[1]),z=parseInt(ye[2]),Y=parseInt(ye[3]),oe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)U=parseInt(ye[1]),z=parseInt(ye[2]),Y=parseInt(ye[3]),oe=parseFloat(ye[4]);else{if(oe=1,typeof I=="string"&&I.charAt(0)!=="#"){var fe=new dF(I);I=fe.ok?fe.toHex():"#000000"}I.length===4?(U=I.substring(1,2),U+=U,z=I.substring(2,3),z+=z,Y=I.substring(3,4),Y+=Y):(U=I.substring(1,3),z=I.substring(3,5),Y=I.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),Y=parseInt(Y,16)}}return{r:U,g:z,b:Y,a:oe,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,U,z,Y){if(isNaN(U)||isNaN(z)||typeof I!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var oe=Te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:I,x:U,y:z,scale:ye,angle:oe,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(I,U,z,Y){if(isNaN(U)||isNaN(z)||typeof I!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var oe=Te(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;q.call(this,{text:I,x:U,y:z,scale:ye,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(I){if(typeof I!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,Y=U.internal.getFontSize(),oe=U.getStringUnitWidth(I)*Y/U.internal.scaleFactor;return new function(ye){var fe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:oe*=Math.round(96*z/72*1e4)/1e4})},p.prototype.scale=function(I,U){if(isNaN(I)||isNaN(U))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c(I,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.rotate=function(I){if(isNaN(I))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.translate=function(I,U){if(isNaN(I)||isNaN(U))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,I,U);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.transform=function(I,U,z,Y,oe,ye){if(isNaN(I)||isNaN(U)||isNaN(z)||isNaN(Y)||isNaN(oe)||isNaN(ye))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(I,U,z,Y,oe,ye);this.ctx.transform=this.ctx.transform.multiply(fe)},p.prototype.setTransform=function(I,U,z,Y,oe,ye){I=isNaN(I)?1:I,U=isNaN(U)?0:U,z=isNaN(z)?0:z,Y=isNaN(Y)?1:Y,oe=isNaN(oe)?0:oe,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(I,U,z,Y,oe,ye)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,U,z,Y,oe,ye,fe,Ae,Re){var et=this.pdf.getImageProperties(I),de=1,gt=1,vt=1,pe=1;Y!==void 0&&Ae!==void 0&&(vt=Ae/Y,pe=Re/oe,de=et.width/Y*Ae/Y,gt=et.height/oe*Re/oe),ye===void 0&&(ye=U,fe=z,U=0,z=0),Y!==void 0&&Ae===void 0&&(Ae=Y,Re=oe),Y===void 0&&Ae===void 0&&(Ae=et.width,Re=et.height);var He=this.ctx.transform.decompose(),Ke=Te(He.rotate.shx),St=new c,it=(St=(St=(St=St.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new o(ye-U*vt,fe-z*pe,Y*de,oe*gt));if(this.autoPaging){for(var Dt,Ct=_.call(this,it),$t=[],_e=0;_e<Ct.length;_e+=1)$t.indexOf(Ct[_e])===-1&&$t.push(Ct[_e]);R($t);for(var Je=$t[0],ut=$t[$t.length-1],pt=Je;pt<ut+1;pt++){this.pdf.setPage(pt);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=pt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=pt===1?0:lt+(pt-2)*Pe;if(this.ctx.clip_path.length!==0){var Ht=this.path;Dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Dt,this.posX+this.margin[3],-Qe+wt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ht}var kt=JSON.parse(JSON.stringify(it));kt=L([kt],this.posX+this.margin[3],-Qe+wt+this.ctx.prevPageLastElemOffset)[0];var Nt=(pt>Je||pt<ut)&&w.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Pe,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,Ke),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",it.x,it.y,it.w,it.h,null,null,Ke)};var _=function(I,U,z){var Y=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Y.push(Math.floor((I.y+oe)/z)+1);break;case"arc":Y.push(Math.floor((I.y+oe-I.radius)/z)+1),Y.push(Math.floor((I.y+oe+I.radius)/z)+1);break;case"qct":var ye=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Y.push(Math.floor((ye.y+oe)/z)+1),Y.push(Math.floor((ye.y+ye.h+oe)/z)+1);break;case"bct":var fe=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Y.push(Math.floor((fe.y+oe)/z)+1),Y.push(Math.floor((fe.y+fe.h+oe)/z)+1);break;case"rect":Y.push(Math.floor((I.y+oe)/z)+1),Y.push(Math.floor((I.y+I.h+oe)/z)+1)}for(var Ae=0;Ae<Y.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<Y[Ae];)T.call(this);return Y},T=function(){var I=this.fillStyle,U=this.strokeStyle,z=this.font,Y=this.lineCap,oe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=U,this.font=z,this.lineCap=Y,this.lineWidth=oe,this.lineJoin=ye},L=function(I,U,z){for(var Y=0;Y<I.length;Y++)switch(I[Y].type){case"bct":I[Y].x2+=U,I[Y].y2+=z;case"qct":I[Y].x1+=U,I[Y].y1+=z;default:I[Y].x+=U,I[Y].y+=z}return I},R=function(I){return I.sort(function(U,z){return U-z})},D=function(I,U){var z=this.fillStyle,Y=this.strokeStyle,oe=this.lineCap,ye=this.lineWidth,fe=Math.abs(ye*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var Re,et,de=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),vt=[],pe=0;pe<gt.length;pe++)if(gt[pe].x!==void 0)for(var He=_.call(this,gt[pe]),Ke=0;Ke<He.length;Ke+=1)vt.indexOf(He[Ke])===-1&&vt.push(He[Ke]);for(var St=0;St<vt.length;St++)for(;this.pdf.internal.getNumberOfPages()<vt[St];)T.call(this);R(vt);for(var it=vt[0],Dt=vt[vt.length-1],Ct=it;Ct<Dt+1;Ct++){this.pdf.setPage(Ct),this.fillStyle=z,this.strokeStyle=Y,this.lineCap=oe,this.lineWidth=fe,this.lineJoin=Ae;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=Ct===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Ct===1?0:Je+(Ct-2)*ut;if(this.ctx.clip_path.length!==0){var Ut=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Re,this.posX+this.margin[3],-pt+_e+this.ctx.prevPageLastElemOffset),j.call(this,I,!0),this.path=Ut}if(et=JSON.parse(JSON.stringify(de)),this.path=L(et,this.posX+this.margin[3],-pt+_e+this.ctx.prevPageLastElemOffset),U===!1||Ct===0){var wt=(Ct>it||Ct<Dt)&&w.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,ut,null).clip().discardPath()),j.call(this,I,U),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=de}else this.lineWidth=fe,j.call(this,I,U),this.lineWidth=ye},j=function(I,U){if((I!=="stroke"||U||!b.call(this))&&(I==="stroke"||U||!m.call(this))){for(var z,Y,oe=[],ye=this.path,fe=0;fe<ye.length;fe++){var Ae=ye[fe];switch(Ae.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Re=oe.length;if(ye[fe-1]&&!isNaN(ye[fe-1].x)&&(z=[Ae.x-ye[fe-1].x,Ae.y-ye[fe-1].y],Re>0)){for(;Re>=0;Re--)if(oe[Re-1].close!==!0&&oe[Re-1].begin!==!0){oe[Re-1].deltas.push(z),oe[Re-1].abs.push(Ae);break}}break;case"bct":z=[Ae.x1-ye[fe-1].x,Ae.y1-ye[fe-1].y,Ae.x2-ye[fe-1].x,Ae.y2-ye[fe-1].y,Ae.x-ye[fe-1].x,Ae.y-ye[fe-1].y],oe[oe.length-1].deltas.push(z);break;case"qct":var et=ye[fe-1].x+2/3*(Ae.x1-ye[fe-1].x),de=ye[fe-1].y+2/3*(Ae.y1-ye[fe-1].y),gt=Ae.x+2/3*(Ae.x1-Ae.x),vt=Ae.y+2/3*(Ae.y1-Ae.y),pe=Ae.x,He=Ae.y;z=[et-ye[fe-1].x,de-ye[fe-1].y,gt-ye[fe-1].x,vt-ye[fe-1].y,pe-ye[fe-1].x,He-ye[fe-1].y],oe[oe.length-1].deltas.push(z);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ae)}}Y=U?null:I==="stroke"?"stroke":"fill";for(var Ke=!1,St=0;St<oe.length;St++)if(oe[St].arc)for(var it=oe[St].abs,Dt=0;Dt<it.length;Dt++){var Ct=it[Dt];Ct.type==="arc"?W.call(this,Ct.x,Ct.y,Ct.radius,Ct.startAngle,Ct.endAngle,Ct.counterclockwise,void 0,U,!Ke):Q.call(this,Ct.x,Ct.y),Ke=!0}else if(oe[St].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(oe[St].begin!==!0){var $t=oe[St].start.x,_e=oe[St].start.y;re.call(this,oe[St].deltas,$t,_e),Ke=!0}Y&&O.call(this,Y),U&&ee.call(this)}},G=function(I){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-z;case"top":return I+U-z;case"hanging":return I+U-2*z;case"middle":return I+U/2-z;default:return I}},P=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(U,z){this.colorStops.push([U,z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(I,U,z,Y,oe,ye,fe,Ae,Re){for(var et=K.call(this,z,Y,oe,ye),de=0;de<et.length;de++){var gt=et[de];de===0&&(Re?B.call(this,gt.x1+I,gt.y1+U):Q.call(this,gt.x1+I,gt.y1+U)),ge.call(this,I,U,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ae?ee.call(this):O.call(this,fe)},O=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(I,U){this.pdf.internal.out(t(I)+" "+r(U)+" m")},q=function(I){var U;switch(I.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var z,Y,oe,ye=this.pdf.getTextDimensions(I.text),fe=G.call(this,I.y),Ae=P.call(this,fe)-ye.h,Re=this.ctx.transform.applyToPoint(new a(I.x,fe));if(this.autoPaging){var et=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var gt=this.ctx.transform.applyToRectangle(new o(I.x,fe,ye.w,ye.h)),vt=de.applyToRectangle(new o(I.x,Ae,ye.w,ye.h)),pe=_.call(this,vt),He=[],Ke=0;Ke<pe.length;Ke+=1)He.indexOf(pe[Ke])===-1&&He.push(pe[Ke]);R(He);for(var St=He[0],it=He[He.length-1],Dt=St;Dt<it+1;Dt++){this.pdf.setPage(Dt);var Ct=Dt===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Je=_e-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],pt=ut-this.margin[3],Ut=Dt===1?0:$t+(Dt-2)*Je;if(this.ctx.clip_path.length!==0){var wt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(z,this.posX+this.margin[3],-1*Ut+Ct),j.call(this,"fill",!0),this.path=wt}var lt=L([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-Ut+Ct+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),oe=this.lineWidth,this.lineWidth=oe*I.scale);var Pe=this.autoPaging!=="text";if(Pe||lt.y+lt.h<=_e){if(Pe||lt.y>=Ct&&lt.x<=ut){var Qe=Pe?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||ut-lt.x)[0],Ht=L([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-Ut+Ct+this.ctx.prevPageLastElemOffset)[0],kt=Pe&&(Dt>St||Dt<it)&&w.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Je,null).clip().discardPath()),this.pdf.text(Qe,Ht.x,Ht.y,{angle:I.angle,align:U,renderingMode:I.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else lt.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-lt.y);I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=oe)}}else I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),oe=this.lineWidth,this.lineWidth=oe*I.scale),this.pdf.text(I.text,Re.x+this.posX,Re.y+this.posY,{angle:I.angle,align:U,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=oe)},Q=function(I,U,z,Y){z=z||0,Y=Y||0,this.pdf.internal.out(t(I+z)+" "+r(U+Y)+" l")},re=function(I,U,z){return this.pdf.lines(I,U,z,null,null)},ge=function(I,U,z,Y,oe,ye,fe,Ae){this.pdf.internal.out([e(i(z+I)),e(s(Y+U)),e(i(oe+I)),e(s(ye+U)),e(i(fe+I)),e(s(Ae+U)),"c"].join(" "))},K=function(I,U,z,Y){for(var oe=2*Math.PI,ye=Math.PI/2;U>z;)U-=oe;var fe=Math.abs(z-U);fe<oe&&Y&&(fe=oe-fe);for(var Ae=[],Re=Y?-1:1,et=U;fe>1e-5;){var de=et+Re*Math.min(fe,ye);Ae.push(ce.call(this,I,et,de)),fe-=Math.abs(de-et),et=de}return Ae},ce=function(I,U,z){var Y=(z-U)/2,oe=I*Math.cos(Y),ye=I*Math.sin(Y),fe=oe,Ae=-ye,Re=fe*fe+Ae*Ae,et=Re+fe*oe+Ae*ye,de=4/3*(Math.sqrt(2*Re*et)-et)/(fe*ye-Ae*oe),gt=fe-de*Ae,vt=Ae+de*fe,pe=gt,He=-vt,Ke=Y+U,St=Math.cos(Ke),it=Math.sin(Ke);return{x1:I*Math.cos(U),y1:I*Math.sin(U),x2:gt*St-vt*it,y2:gt*it+vt*St,x3:pe*St-He*it,y3:pe*it+He*St,x4:I*Math.cos(z),y4:I*Math.sin(z)}},Te=function(I){return 180*I/Math.PI},me=function(I,U,z,Y,oe,ye){var fe=I+.5*(z-I),Ae=U+.5*(Y-U),Re=oe+.5*(z-oe),et=ye+.5*(Y-ye),de=Math.min(I,oe,fe,Re),gt=Math.max(I,oe,fe,Re),vt=Math.min(U,ye,Ae,et),pe=Math.max(U,ye,Ae,et);return new o(de,vt,gt-de,pe-vt)},Oe=function(I,U,z,Y,oe,ye,fe,Ae){var Re,et,de,gt,vt,pe,He,Ke,St,it,Dt,Ct,$t,_e,Je=z-I,ut=Y-U,pt=oe-z,Ut=ye-Y,wt=fe-oe,lt=Ae-ye;for(et=0;et<41;et++)St=(He=(de=I+(Re=et/40)*Je)+Re*((vt=z+Re*pt)-de))+Re*(vt+Re*(oe+Re*wt-vt)-He),it=(Ke=(gt=U+Re*ut)+Re*((pe=Y+Re*Ut)-gt))+Re*(pe+Re*(ye+Re*lt-pe)-Ke),et==0?(Dt=St,Ct=it,$t=St,_e=it):(Dt=Math.min(Dt,St),Ct=Math.min(Ct,it),$t=Math.max($t,St),_e=Math.max(_e,it));return new o(Math.round(Dt),Math.round(Ct),Math.round($t-Dt),Math.round(_e-Ct))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,U,z=(I=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(on.API),(function(n){var e=function(a){var o,c,u,h,p,g,m,b,w,_;for(c=[],u=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(_=p%85))/85)-(w=p%85))/85)-(b=p%85))/85)-(m=p%85))/85)%85,c.push(g+33,m+33,b+33,w+33,_+33)):c.push(122);return(function(T,L){for(var R=L;R>0;R--)T.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,u,h,p,g=String,m="length",b=255,w="charCodeAt",_="slice",T="replace";for(a[_](-2),a=a[_](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),u=[],h=0,p=(a+=o="uuuuu"[_](a[m]%5||5))[m];p>h;h+=5)c=52200625*(a[w](h)-33)+614125*(a[w](h+1)-33)+7225*(a[w](h+2)-33)+85*(a[w](h+3)-33)+(a[w](h+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(L,R){for(var D=R;D>0;D--)L.pop()})(u,o[m]),g.fromCharCode.apply(g,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=BT(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};n.processDataByFilters=function(a,o){var c=0,u=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})(on.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,u,h){var p=new XMLHttpRequest,g=0,m=function(b){var w=b.length,_=[],T=String.fromCharCode;for(g=0;g<w;g+=1)_.push(T(255&b.charCodeAt(g)));return _.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return m(p.responseText)})(i,s,a)}catch{}return o})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(on.API),(function(n){function e(){return(Cn.html2canvas?Promise.resolve(Cn.html2canvas):hA(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Cn.DOMPurify?Promise.resolve(Cn.DOMPurify):hA(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Dr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},s=function o(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var b=h[m],w=b.src.find(function(_){return _.format==="truetype"});w&&u.addFont(w.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,h){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),g=u.call(p,o,c);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(o,c,u){if(Dr(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,w=0,_=0;if(m.hasOwnProperty(g))w=m[g][1]/p,_=m[g][0]/p;else try{w=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",_>w&&(b=_,_=w,w=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>_&&(b=_,_=w,w=b)}return{width:_,height:w,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(RA):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}})(on.API),on.API.addJS=function(n){return oR=n,this.internal.events.subscribe("postPutResources",function(){uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uw!==void 0&&aR!==void 0&&this.internal.out("/Names <</JavaScript "+uw+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var p=t.internal.newObject();h.push(p);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(on.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var c,u=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,w={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=m,e.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),w={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}m=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return w})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}})(on.API),on.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=YK(n,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,u=s.palette,h=s.depth;i=u&&c===1?(function(W){for(var O=W.width,ee=W.height,B=W.data,q=W.palette,Q=W.depth,re=!1,ge=[],K=[],ce=void 0,Te=!1,me=0,Oe=0;Oe<q.length;Oe++){var se=f8(q[Oe],4),I=se[0],U=se[1],z=se[2],Y=se[3];ge.push(I,U,z),Y!=null&&(Y===0?(me++,K.length<1&&K.push(Oe)):Y<255&&(Te=!0))}if(Te||me>1){re=!0,K=void 0;var oe=O*ee;ce=new Uint8Array(oe);for(var ye=new DataView(B.buffer),fe=0;fe<oe;fe++){var Ae=IA(ye,fe,Q),Re=f8(q[Ae],4)[3];ce[fe]=Re}}else me===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:B,alphaBytes:ce,needSMask:re,palette:ge,mask:K}})(s):c===2||c===4?(function(W){for(var O=W.data,ee=W.width,B=W.height,q=W.channels,Q=W.depth,re=q===2?"DeviceGray":"DeviceRGB",ge=q-1,K=ee*B,ce=ge,Te=K*ce,me=1*K,Oe=Math.ceil(Te*Q/8),se=Math.ceil(me*Q/8),I=new Uint8Array(Oe),U=new Uint8Array(se),z=new DataView(O.buffer),Y=new DataView(I.buffer),oe=new DataView(U.buffer),ye=!1,fe=0;fe<K;fe++){for(var Ae=fe*q,Re=0;Re<ce;Re++)mR(Y,IA(z,Ae+Re,Q),fe*ce+Re,Q);var et=IA(z,Ae+ce,Q);et<(1<<Q)-1&&(ye=!0),mR(oe,et,1*fe,Q)}return{colorSpace:re,colorsPerPixel:ge,sMaskBitsPerComponent:ye?Q:void 0,colorBytes:I,alphaBytes:U,needSMask:ye}})(s):(function(W){var O=W.data,ee=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(B){for(var q=B.length,Q=new Uint8Array(2*q),re=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),ge=0;ge<q;ge++)re.setUint16(2*ge,B[ge],!1);return Q})(O):O,needSMask:!1}})(s);var p,g,m,b=i,w=b.colorSpace,_=b.colorsPerPixel,T=b.sMaskBitsPerComponent,L=b.colorBytes,R=b.alphaBytes,D=b.needSMask,j=b.palette,G=b.mask,P=null;return r!==on.API.image_compression.NONE&&typeof BT=="function"?(P=(function(W){var O;switch(W){case on.API.image_compression.FAST:O=11;break;case on.API.image_compression.MEDIUM:O=13;break;case on.API.image_compression.SLOW:O=14;break;default:O=12}return O})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(P," /Colors ").concat(_," /BitsPerComponent ").concat(h," /Columns ").concat(a),n=fR(L,Math.ceil(a*_*h/8),_,h,r),D&&(m=fR(R,Math.ceil(a*T/8),1,T,r))):(p=void 0,g=void 0,n=L,D&&(m=R)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:p,decodeParameters:g,transparency:G,palette:j,sMask:m,predictor:P,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:T,colorSpace:w}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new mJ(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},h=new MA(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A})(on.API),Oc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Yr.log("bit decode error:"+t)}},Oc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Oc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Oc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Oc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=n}},Oc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=n}},Oc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Oc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Oc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Oc(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new MA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}})(on.API),xR.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new xR(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new MA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}})(on.API),on.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var h=r[u],p=r[u+1],g=r[u+2],m=r[u+3];s[o++]=h,s[o++]=p,s[o++]=g,a[c++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},on.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Am=on.API,fw=Am.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,m=n.length,b=0,w=o[0]||c,_=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=p&&Dr(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/h:0,_.push((o[r]||w)/c+g)),b=r;return _},lR=Am.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Am.processArabic&&(n=Am.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:fw.apply(this,arguments).reduce(function(s,a){return s+a},0)},cR=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},uR=function(n,e,t){t||(t={});var r,i,s,a,o,c,u,h=[],p=[h],g=t.textIndent||0,m=0,b=0,w=n.split(" "),_=fw.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var T=Array(c).join(" "),L=[];w.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(j,G){return(G&&j.length?`
`:"")+j})):L.push(D[0])}),w=L,c=lR.apply(this,[T,t])}for(s=0,a=w.length;s<a;s++){var R=0;if(r=w[s],c&&r[0]==`
`&&(r=r.substr(1),R=1),g+m+(b=(i=fw.apply(this,[r,t])).reduce(function(D,j){return D+j},0))>e||R){if(b>e){for(o=cR.apply(this,[r,i,e-(g+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(D,j){return D+j},0)}else h=[r];p.push(h),g=b+c,m=_}else h.push(r),g+=m+b,m=_}return u=c?function(D,j){return(j?T:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(u)},Am.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(uR.apply(this,[r[o],a,s]));return u},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=n.__fontmetrics__.compress=function(g){var m,b,w,_,T=["{"];for(var L in g){if(m=g[L],isNaN(parseInt(L,10))?b="'"+L+"'":(L=parseInt(L,10),b=(b=a(L).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(w=a(m).slice(3),_="-"):(w=a(m).slice(2),_=""),w=_+w.slice(0,-1)+i[w.slice(-1)];else{if(Dr(m)!=="object")throw new Error("Don't know what to do with value type "+Dr(m)+".");w=o(m)}T.push(b+w)}return T.push("}"),T.join("")},c=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,w,_,T={},L=1,R=T,D=[],j="",G="",P=g.length-1,W=1;W<P;W+=1)(_=g[W])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(D.push([R,w]),R={},w=void 0):_=="}"?((b=D.pop())[0][b[1]]=R,w=void 0,R=b[0]):_=="-"?L=-1:w===void 0?r.hasOwnProperty(_)?(j+=r[_],w=parseInt(j,16)*L,L=1,j=""):j+=_:r.hasOwnProperty(_)?(G+=r[_],R[w]=parseInt(G,16)*L,L=1,w=void 0,G=""):G+=_;return T},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var m=g.font,b=p.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var w=h.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])})(on.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(r_(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(on),on.API.addSvgAsImage=function(n,e,t,r,i,s,a,o){if(isNaN(e)||isNaN(t))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Cn.canvg?Promise.resolve(Cn.canvg):hA(()=>import("./index.es-CpIDaoNg.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,a,o)})},on.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},on.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,h=0,p=0;function g(b,w){var _,T=!1;for(_=0;_<b.length;_+=1)b[_]===w&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Dr(n)==="object"){for(i in n)if(s=n[i],g(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&g(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?w.push("/"+b+" /"+t[b].value):w.push("/"+b+" "+t[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(on.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},r=function(s){var a,o,c,u,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(s).sort(function(m,b){return m-b})).length;p<g;p++)a=o[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var w=u();h({data:m,addLength1:!0,objectId:w}),c("endobj");var _=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var T=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Om(o.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var L=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Om(o.fontName)),c("/FontDescriptor "+T+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+Om(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+L+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var b=u();h({data:g,addLength1:!0,objectId:b}),c("endobj");var w=u();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var _=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Om(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var T=0;T<o.metadata.hmtx.widths.length;T++)o.metadata.hmtx.widths[T]=parseInt(o.metadata.hmtx.widths[T]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Om(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,u=s.y,h=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,b=p.fonts,w=m,_="",T=0,L="",R=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:o,x:c,y:u,options:h,mutex:p};for(L=o,w=m,Array.isArray(o)&&(L=o[0]),T=0;T<L.length;T+=1)b[w].metadata.hasOwnProperty("cmap")&&(a=b[w].metadata.cmap.unicode.codeMap[L[T].charCodeAt(0)]),a||L[T].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?_+=L[T]:_+="";var D="";return parseInt(w.slice(1))<14||R==="WinAnsiEncoding"?D=g(_,w).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(D=t(_,b[w])),p.isHex=!0,{text:D,x:c,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},c,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(on),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(on.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,c,u,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,R=0;this.__bidiEngine__={};var D=function(B){var q=B.charCodeAt(),Q=q>>8,re=w[Q];return re!==void 0?p[256*re+(255&q)]:Q===252||Q===253?"AL":T.test(Q)?"L":Q===8?"R":"N"},j=function(B){for(var q,Q=0;Q<B.length;Q++){if((q=D(B.charAt(Q)))==="L")return!1;if(q==="R")return!0}return!1},G=function(B,q,Q,re){var ge,K,ce,Te,me=q[re];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(me="AN");break;case"AL":L=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":re<1||re+1>=q.length||(ge=Q[re-1])!=="EN"&&ge!=="AN"||(K=q[re+1])!=="EN"&&K!=="AN"?me="N":L&&(K="AN"),me=K===ge?K:"N";break;case"ES":me=(ge=re>0?Q[re-1]:"B")==="EN"&&re+1<q.length&&q[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&Q[re-1]==="EN"){me="EN";break}if(L){me="N";break}for(ce=re+1,Te=q.length;ce<Te&&q[ce]==="ET";)ce++;me=ce<Te&&q[ce]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Te=q.length,ce=re+1;ce<Te&&q[ce]==="NSM";)ce++;if(ce<Te){var Oe=B[re],se=Oe>=1425&&Oe<=2303||Oe===64286;if(ge=q[ce],se&&(ge==="R"||ge==="AL")){me="R";break}}}me=re<1||(ge=q[re-1])==="B"?"N":Q[re-1];break;case"B":L=!1,i=!0,me=R;break;case"S":s=!0,me="N"}return me},P=function(B,q,Q){var re=B.split("");return Q&&W(re,Q,{hiLevel:R}),re.reverse(),q&&q.reverse(),re.join("")},W=function(B,q,Q){var re,ge,K,ce,Te,me=-1,Oe=B.length,se=0,I=[],U=R?m:g,z=[];for(L=!1,i=!1,s=!1,ge=0;ge<Oe;ge++)z[ge]=D(B[ge]);for(K=0;K<Oe;K++){if(Te=se,I[K]=G(B,z,I,K),re=240&(se=U[Te][b[I[K]]]),se&=15,q[K]=ce=U[se][5],re>0)if(re===16){for(ge=me;ge<K;ge++)q[ge]=1;me=-1}else me=-1;if(U[se][6])me===-1&&(me=K);else if(me>-1){for(ge=me;ge<K;ge++)q[ge]=ce;me=-1}z[K]==="B"&&(q[K]=0),Q.hiLevel|=ce}s&&(function(Y,oe,ye){for(var fe=0;fe<ye;fe++)if(Y[fe]==="S"){oe[fe]=R;for(var Ae=fe-1;Ae>=0&&Y[Ae]==="WS";Ae--)oe[Ae]=R}})(z,q,Oe)},O=function(B,q,Q,re,ge){if(!(ge.hiLevel<B)){if(B===1&&R===1&&!i)return q.reverse(),void(Q&&Q.reverse());for(var K,ce,Te,me,Oe=q.length,se=0;se<Oe;){if(re[se]>=B){for(Te=se+1;Te<Oe&&re[Te]>=B;)Te++;for(me=se,ce=Te-1;me<ce;me++,ce--)K=q[me],q[me]=q[ce],q[ce]=K,Q&&(K=Q[me],Q[me]=Q[ce],Q[ce]=K);se=Te}se++}}},ee=function(B,q,Q){var re=B.split(""),ge={hiLevel:R};return Q||(Q=[]),W(re,Q,ge),(function(K,ce,Te){if(Te.hiLevel!==0&&h)for(var me,Oe=0;Oe<K.length;Oe++)ce[Oe]===1&&(me=_.indexOf(K[Oe]))>=0&&(K[Oe]=_[me+1])})(re,Q,ge),O(2,re,q,Q,ge),O(1,re,q,Q,ge),re.join("")};return this.__bidiEngine__.doBidiReorder=function(B,q,Q){if((function(ge,K){if(K)for(var ce=0;ce<ge.length;ce++)K[ce]=ce;o===void 0&&(o=j(ge)),u===void 0&&(u=j(ge))})(B,q),a||!c||u)if(a&&c&&o^u)R=o?1:0,B=P(B,q,Q);else if(!a&&c&&u)R=o?1:0,B=ee(B,q,Q),B=P(B,q);else if(!a||o||c||u){if(a&&!c&&o^u)B=P(B,q),o?(R=0,B=ee(B,q,Q)):(R=1,B=ee(B,q,Q),B=P(B,q));else if(a&&o&&!c&&u)R=1,B=ee(B,q,Q),B=P(B,q);else if(!a&&!c&&o^u){var re=h;o?(R=1,B=ee(B,q,Q),R=0,h=!1,B=ee(B,q,Q),h=re):(R=0,B=ee(B,q,Q),B=P(B,q),R=1,h=!1,B=ee(B,q,Q),h=re,B=P(B,q))}}else R=0,B=ee(B,q,Q);else R=o?1:0,B=ee(B,q,Q);return B},this.__bidiEngine__.setOptions=function(B){B&&(a=B.isInputVisual,c=B.isOutputVisual,o=B.isInputRtl,u=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(on),on.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new o0(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new LJ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new vJ(this.contents),this.head=new yJ(this),this.name=new AJ(this),this.cmap=new AF(this),this.toUnicode={},this.hhea=new bJ(this),this.maxp=new EJ(this),this.hmtx=new TJ(this),this.post=new _J(this),this.os2=new wJ(this),this.loca=new RJ(this),this.glyf=new CJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var pu,o0=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),vJ=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,c,u,h,p,g,m,b,w;for(w in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),a=Math.floor(p/c),h=16*m-p,(i=new o0).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*m,u=i.pos+s,o=null,b=[],t)for(g=t[w],i.writeString(w),i.writeInt(n(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),w==="head"&&(o=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=EF.call(t);t.length%4;)t.push(0);for(s=new o0(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),xJ={}.hasOwnProperty,uf=function(n,e){for(var t in e)xJ.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};pu=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var yJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new o0).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),yR=(function(){function n(e,t){var r,i,s,a,o,c,u,h,p,g,m,b,w,_,T,L,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=(function(){var D,j;for(j=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)j.push(e.readUInt16());return j})(),e.pos+=2,w=(function(){var D,j;for(j=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)j.push(e.readUInt16());return j})(),u=(function(){var D,j;for(j=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)j.push(e.readUInt16());return j})(),h=(function(){var D,j;for(j=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)j.push(e.readUInt16());return j})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var D,j;for(j=[],c=D=0;0<=i?D<i:D>i;c=0<=i?++D:--D)j.push(e.readUInt16());return j})(),c=T=0,R=s.length;T<R;c=++T)for(_=s[c],r=L=b=w[c];b<=_?L<=_:L>=_;r=b<=_?++L:--L)h[c]===0?a=r+u[c]:(a=o[h[c]/2+(r-b)-(g-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=p}return n.encode=function(e,t){var r,i,s,a,o,c,u,h,p,g,m,b,w,_,T,L,R,D,j,G,P,W,O,ee,B,q,Q,re,ge,K,ce,Te,me,Oe,se,I,U,z,Y,oe,ye,fe,Ae,Re,et,de;switch(re=new o0,a=Object.keys(e).sort(function(gt,vt){return gt-vt}),t){case"macroman":for(w=0,_=(function(){var gt=[];for(b=0;b<256;++b)gt.push(0);return gt})(),L={0:0},s={},ge=0,me=a.length;ge<me;ge++)L[Ae=e[i=a[ge]]]==null&&(L[Ae]=++w),s[i]={old:e[i],new:L[e[i]]},_[i]=L[e[i]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(_),{charMap:s,subtable:re.data,maxGlyphID:w+1};case"unicode":for(q=[],p=[],R=0,L={},r={},T=u=null,K=0,Oe=a.length;K<Oe;K++)L[j=e[i=a[K]]]==null&&(L[j]=++R),r[i]={old:j,new:L[j]},o=L[j]-i,T!=null&&o===u||(T&&p.push(T),q.push(i),u=o),T=i;for(T&&p.push(T),p.push(65535),q.push(65535),ee=2*(O=q.length),W=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(W/2)/Math.LN2,P=2*O-W,c=[],G=[],m=[],b=ce=0,se=q.length;ce<se;b=++ce){if(B=q[b],h=p[b],B===65535){c.push(0),G.push(0);break}if(B-(Q=r[B].new)>=32768)for(c.push(0),G.push(2*(m.length+O-b)),i=Te=B;B<=h?Te<=h:Te>=h;i=B<=h?++Te:--Te)m.push(r[i].new);else c.push(Q-B),G.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*O+2*m.length),re.writeUInt16(0),re.writeUInt16(ee),re.writeUInt16(W),re.writeUInt16(g),re.writeUInt16(P),ye=0,I=p.length;ye<I;ye++)i=p[ye],re.writeUInt16(i);for(re.writeUInt16(0),fe=0,U=q.length;fe<U;fe++)i=q[fe],re.writeUInt16(i);for(Re=0,z=c.length;Re<z;Re++)o=c[Re],re.writeUInt16(o);for(et=0,Y=G.length;et<Y;et++)D=G[et],re.writeUInt16(D);for(de=0,oe=m.length;de<oe;de++)w=m[de],re.writeUInt16(w);return{charMap:r,subtable:re.data,maxGlyphID:R+1}}},n})(),AF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new yR(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=yR.encode(e,t),(i=new o0).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),bJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),wJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),_J=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},n})(),SJ=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,a,o,c,u,h,p,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=h=0,p=r.length;h<p;s=++h)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new SJ(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),EJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),TJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],t=u=0;0<=i?u<i:u>i;t=0<=i?++u:--u)h.push(e.readInt16());return h})(),this.widths=(function(){var u,h,p,g;for(g=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),EF=[].slice,CJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,a,o,c,u,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new o0(t.read(i))).readShort(),u=o.readShort(),p=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new NJ(o,u,p,c,h):new kJ(o,a,u,p,c,h),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,a,o,c;for(a=[],s=[],o=0,c=t.length;o<c;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},n})(),kJ=(function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),NJ=(function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new o0(EF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),RJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return uf(n,pu),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<t.length&&t[s]==a){++s,r[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},n})(),LJ=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,c,u,h,p,g,m,b,w,_,T;for(i in r=AF.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},T=r.charMap)m[(c=T[i]).old]=c.new;for(b in g=r.maxGlyphID,a)b in m||(m[b]=g++);return h=(function(L){var R,D;for(R in D={},L)D[L[R]]=R;return D})(m),p=Object.keys(h).sort(function(L,R){return L-R}),w=(function(){var L,R,D;for(D=[],L=0,R=p.length;L<R;L++)o=p[L],D.push(h[o]);return D})(),s=this.font.glyf.encode(a,w,m),u=this.font.loca.encode(s.offsets,w),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n})();on.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+(function(){var o,c,u;for(u=[],o=0,c=t.length;o<c;o++)r=t[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();const IJ={es:{title:"Generar Documento PDF",selectTemplate:"Seleccionar Plantilla Base",customText:"Texto Personalizado para el PDF",textPos:"Posicin del Texto",fileName:"Nombre del Archivo",generate:"Generar y Adjuntar",posTop:"Superior",posCenter:"Centro",posBottom:"Inferior",noTemplate:"Sin Plantilla (Documento en blanco)",errorSize:"El PDF generado excede el lmite de {limit}MB."},en:{title:"Generate PDF Document",selectTemplate:"Select Base Template",customText:"Custom Text for PDF",textPos:"Text Position",fileName:"File Name",generate:"Generate and Attach",posTop:"Top",posCenter:"Center",posBottom:"Bottom",noTemplate:"No Template (Blank Document)",errorSize:"The generated PDF exceeds the limit of {limit}MB."}},MJ=({templates:n,lang:e,onClose:t,onAttach:r,sizeLimitMb:i,settings:s})=>{const a=nt.useMemo(()=>IJ[e],[e]),[o,c]=nt.useState(""),[u,h]=nt.useState(""),[p,g]=nt.useState("top"),[m,b]=nt.useState("Documento_"+new Date().getTime()),w=()=>{let _=s.pageFormat;_==="custom"&&s.customDimensions&&(_=[s.customDimensions.width,s.customDimensions.height]);const T=new on({orientation:"portrait",unit:"mm",format:_}),L=T.internal.pageSize.getWidth(),R=T.internal.pageSize.getHeight(),D=()=>{if(s.pdfLogo){let q=10,Q=10;s.logoPosition==="top-right"?q=L-25-10:s.logoPosition==="bottom-left"?Q=R-25-10:s.logoPosition==="bottom-right"&&(q=L-25-10,Q=R-25-10);try{T.addImage(s.pdfLogo,"PNG",q,Q,25,25)}catch(re){console.error("Logo generation failed:",re)}}},j=n.find(ee=>ee.id===o);D(),T.setFontSize(22),T.text(j?j.name:"Documento Generado",20,20),T.setFontSize(12);let G=40;if(j){const ee=j.body.replace(/<[^>]*>?/gm," "),B=T.splitTextToSize(ee,L-40);T.text(B,20,G),G+=B.length*7+20}T.setFontSize(14),T.setTextColor(79,70,229);const P=T.splitTextToSize(u,L-40);let W=G;p==="top"?W=j?G:40:p==="center"?W=R/2:p==="bottom"&&(W=R-40),T.text(P,20,W);const O=T.output("blob");if(O.size>i*1024*1024){alert(a.errorSize.replace("{limit}",i.toString()));return}r({id:Date.now().toString(),name:m.endsWith(".pdf")?m:m+".pdf",size:O.size,type:"application/pdf",label:"PDF GENERADO",previewUrl:void 0}),t()};return S.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800",children:[S.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg",children:S.jsx(c4,{size:20})}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:a.title})]}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full",children:S.jsx(so,{size:24})})]}),S.jsxs("div",{className:"p-8 space-y-6 text-left",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(u5,{size:14})," ",a.selectTemplate]}),S.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200",children:[S.jsx("option",{value:"",children:a.noTemplate}),n.map(_=>S.jsx("option",{value:_.id,children:_.name},_.id))]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(h4,{size:14})," ",a.customText]}),S.jsx("textarea",{rows:3,value:u,onChange:_=>h(_.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm",placeholder:"..."})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(LB,{size:14})," ",a.textPos]}),S.jsx("div",{className:"flex bg-slate-50 dark:bg-slate-800 p-1 rounded-xl border border-slate-100 dark:border-slate-700",children:["top","center","bottom"].map(_=>S.jsx("button",{onClick:()=>g(_),className:`flex-1 py-1.5 text-[10px] font-bold rounded-lg transition-all ${p===_?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500"}`,children:_==="top"?a.posTop:_==="center"?a.posCenter:a.posBottom},_))})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(Qc,{size:14})," ",a.fileName]}),S.jsx("input",{type:"text",value:m,onChange:_=>b(_.target.value),className:"w-full p-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm"})]})]})]}),S.jsx("footer",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:S.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 transition-all active:scale-95",children:[S.jsx(i0,{size:18})," ",a.generate]})})]})})},DJ={es:{title:"Redactar Nuevo Correo",subtitle:"Crea tu mensaje y envalo a travs de tus perfiles SMTP.",templates:"Plantillas",profiles:"Perfiles SMTP",selectProfile:"Seleccionar Perfil",noSmtp:"No hay perfil SMTP seleccionado",noSmtpDesc:"Por favor, aade o selecciona una configuracin SMTP en los ajustes para habilitar el envo.",recipient:"Direccin de correo del destinatario (separa con comas)",ccLabel:"Con copia a:",subject:"Asunto",aiAssistant:"Asistente IA:",refining:"Refinando...",placeholder:"Comienza a escribir tu mensaje aqu...",discard:"Descartar borrador",saveTemplate:"Guardar como Plantilla",saved:"Guardado!",send:"Enviar Mensaje",sending:"Enviando...",confirmTitle:"Confirmar Envo",confirmDesc:"Ests seguro de que quieres enviar este correo?",cancel:"Cancelar",confirm:"Confirmar",noTemplates:"No se encontraron plantillas.",attachments:"Adjuntos",previewNotAvailable:"Previsualizacin no disponible para este tipo de archivo",rename:"Renombrar",remove:"Eliminar",noContacts:"No hay contactos guardados.",contactsTitle:"Contactos y Grupos",groupLabel:"GRUPO",labelOrden:"ORDEN MEDICA",labelResumen:"RESUMEN MEDICO",labelOtro:"OTRO",labelPdf:"GENERAR PDF",sizeErrorTitle:"Archivo demasiado grande",sizeErrorDesc:'El archivo "{name}" excede el lmite permitido de {limit}MB.'},en:{title:"Compose New Email",subtitle:"Craft your message and send it through your SMTP profiles.",templates:"Templates",profiles:"SMTP Profiles",selectProfile:"Select Profile",noSmtp:"No SMTP profile selected",noSmtpDesc:"Please add or select an SMTP configuration in the settings to enable sending.",recipient:"Recipient email address (separate with commas)",ccLabel:"Copy to:",subject:"Subject line",aiAssistant:"AI Assistant:",refining:"Refining...",placeholder:"Start writing your message here...",discard:"Discard draft",saveTemplate:"Save as Template",saved:"Saved!",send:"Send Message",sending:"Sending...",confirmTitle:"Confirm Send",confirmDesc:"Are you sure you want to send this email?",cancel:"Cancel",confirm:"Confirm",noTemplates:"No templates found.",attachments:"Attachments",previewNotAvailable:"Preview not available for this file type",rename:"Rename",remove:"Remove",noContacts:"No contacts saved yet.",contactsTitle:"Contacts & Groups",groupLabel:"GROUP",labelOrden:"MEDICAL ORDER",labelResumen:"MEDICAL SUMMARY",labelOtro:"OTHER",labelPdf:"GENERATE PDF",sizeErrorTitle:"File too large",sizeErrorDesc:'The file "{name}" exceeds the allowed limit of {limit}MB.'}},FJ=({onSend:n,isSending:e,smtpReady:t,smtpProfiles:r,activeProfileId:i,onSelectProfile:s,contacts:a,contactGroups:o,templates:c,pdfTemplates:u,groupEmails:h,onSaveTemplate:p,lang:g,attachmentSizeLimit:m,pdfSettings:b,notify:w})=>{const _=nt.useMemo(()=>DJ[g],[g]),[T,L]=nt.useState(""),[R,D]=nt.useState(""),[j,G]=nt.useState(""),[P,W]=nt.useState(!1),[O,ee]=nt.useState(!1),[B,q]=nt.useState(!1),[Q,re]=nt.useState(!1),[ge,K]=nt.useState(!1),[ce,Te]=nt.useState([]),[me,Oe]=nt.useState(null),[se,I]=nt.useState(!1),[U,z]=nt.useState(!1),[Y,oe]=nt.useState(null),[ye,fe]=nt.useState(""),[Ae,Re]=nt.useState(new Set),[et,de]=nt.useState(void 0),gt=nt.useRef(null),vt=nt.useRef(null),pe=r.find(Pe=>Pe.id===i),He=nt.useMemo(()=>((b==null?void 0:b.ccConfigs)||[]).filter(Pe=>Pe==null?void 0:Pe.isVisible),[b==null?void 0:b.ccConfigs]);nt.useEffect(()=>{vt.current&&vt.current.innerHTML!==j&&(vt.current.innerHTML=j)},[j]);const Ke=async Pe=>{if(!j)return;W(!0);const Qe=await zX(R,j,{tone:Pe},g);D(Qe.subject),G(Qe.body),W(!1)},St=()=>{if(console.log(" Intentando enviar...",{to:T,subject:R,body:j,smtpReady:t,activeProfileId:i}),!T||!R||!j){w(g==="es"?"Faltan campos: Destinatario, Asunto o Cuerpo":"Missing fields","error");return}if(!i){w(g==="es"?"Selecciona un perfil SMTP":"Select an SMTP profile","error");return}z(!0)},it=async()=>{z(!1);const Pe=[];He.forEach(Ht=>{Ae.has(Ht.id)&&Pe.push(Ht.email)}),await n(T,R,j,ce,Pe,i||void 0,"general")&&(L(""),D(""),G(""),Te([]),Re(new Set),vt.current&&(vt.current.innerHTML=""))},Dt=Pe=>{const Qe=new Set(Ae);Qe.has(Pe)?Qe.delete(Pe):Qe.add(Pe),Re(Qe)},Ct=Pe=>{const Qe=a.filter(kt=>kt.group===Pe.id),Ht=[];if(Qe.forEach(kt=>{kt.emails&&kt.emails.length>0&&Ht.push(...kt.emails)}),Ht.length>0){const kt=T.split(",").map(Bt=>Bt.trim()).filter(Bt=>!!Bt),Nt=Array.from(new Set([...kt,...Ht])).join(", ");L(Nt),w(g==="es"?`Agregados ${Ht.length} correos.`:`Added ${Ht.length} emails.`,"success")}else w(g==="es"?"El grupo no tiene contactos con email.":"Group has no contacts with email.","error");q(!1)},$t=()=>{if(!R||!j)return;const Pe=prompt(g==="es"?"Nombre de la plantilla:":"Template name:",R)||`Template ${new Date().toLocaleDateString()}`;p({id:Date.now().toString(),name:Pe,subject:R,body:j}),I(!0),setTimeout(()=>I(!1),2e3)},_e=Pe=>{var Qe;de(Pe),(Qe=gt.current)==null||Qe.click()},Je=Pe=>{var Ht;const Qe=(Ht=Pe.target.files)==null?void 0:Ht[0];if(Qe){const kt=m*1024*1024;if(Qe.size>kt){w(_.sizeErrorDesc.replace("{name}",Qe.name).replace("{limit}",m.toString()),"error"),gt.current&&(gt.current.value="");return}const Nt=Qe.type.startsWith("image/")?URL.createObjectURL(Qe):void 0;Te(Bt=>[...Bt,{id:Date.now().toString(),name:Qe.name,size:Qe.size,type:Qe.type,label:et,previewUrl:Nt}]),w(g==="es"?`Archivo "${Qe.name}" adjuntado.`:`File "${Qe.name}" attached.`,"info")}gt.current&&(gt.current.value="")},ut=Pe=>{oe(Pe.id),fe(Pe.name)},pt=()=>{Y&&(Te(Pe=>Pe.map(Qe=>Qe.id===Y?{...Qe,name:ye||Qe.name}:Qe)),oe(null))},Ut=Pe=>{if(Pe===0)return"0 Bytes";const Qe=1024,Ht=["Bytes","KB","MB","GB"],kt=Math.floor(Math.log(Pe)/Math.log(Qe));return parseFloat((Pe/Math.pow(Qe,kt)).toFixed(2))+" "+Ht[kt]},wt=Pe=>{Te(Qe=>Qe.filter(Ht=>Ht.id!==Pe))},lt=Pe=>{document.execCommand(Pe,!1),vt.current&&G(vt.current.innerHTML)};return S.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left relative",children:[S.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:_.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:_.subtitle})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>re(!Q),className:"flex items-center gap-2 px-4 py-2 border text-sm font-medium rounded-xl transition-all shadow-sm bg-indigo-50 dark:bg-indigo-900/30 border-indigo-100 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 hover:bg-indigo-100",children:[S.jsx(u5,{size:14})," ",_.templates," ",c.length>0&&`(${c.length})`,S.jsx(M9,{size:14,className:`transition-transform ${Q?"rotate-180":""}`})]}),Q&&S.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-40 py-2",children:c.length>0?c.map(Pe=>S.jsxs("button",{onClick:()=>{D(Pe.subject),G(Pe.body),re(!1),w(g==="es"?"Plantilla aplicada.":"Template applied.","info")},className:"w-full px-4 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[S.jsx("span",{className:"text-sm font-semibold block text-slate-700 dark:text-slate-200",children:Pe.name}),S.jsx("span",{className:"text-xs text-slate-400 truncate block",children:Pe.subject})]},Pe.id)):S.jsx("div",{className:"px-4 py-4 text-xs text-slate-400 italic text-center",children:_.noTemplates})})]}),r.length>0&&S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>ee(!O),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium shadow-sm text-slate-700 dark:text-slate-200",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),pe?pe.name:_.selectProfile]}),O&&S.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl z-40 py-2",children:r.map(Pe=>S.jsxs("button",{onClick:()=>{s(Pe.id),ee(!1)},className:"w-full px-4 py-2 text-sm text-left hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",children:[Pe.name," ",i===Pe.id&&""]},Pe.id))})]})]})]}),!t&&S.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl text-amber-800 dark:text-amber-400 flex items-start gap-3",children:[S.jsx(QA,{size:18,className:"shrink-0 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-semibold",children:_.noSmtp}),S.jsx("p",{className:"text-sm opacity-90",children:_.noSmtpDesc})]})]}),S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[S.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4 relative",children:[S.jsx(Zx,{className:"text-slate-400 mr-4 shrink-0",size:20}),S.jsx("input",{type:"text",placeholder:_.recipient,className:"flex-1 bg-transparent outline-none text-slate-700 dark:text-slate-200",value:T,onChange:Pe=>L(Pe.target.value)}),S.jsxs("div",{className:"relative shrink-0 ml-2",children:[S.jsx("button",{onClick:()=>q(!B),className:"p-2 text-slate-400 hover:text-indigo-500 transition-colors",children:S.jsx(t0,{size:18})}),B&&S.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-50 max-h-80 overflow-y-auto py-2 animate-in zoom-in-95 duration-150",children:[S.jsx("div",{className:"px-4 py-2 border-b border-slate-50 dark:border-slate-700/50 mb-1",children:S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:_.contactsTitle})}),o&&o.length>0&&S.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700/50 pb-2",children:o.map(Pe=>S.jsxs("button",{onClick:()=>Ct(Pe),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors border-b border-slate-50 dark:border-slate-800 last:border-0",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Ox,{size:14,className:"text-indigo-500"}),S.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:Pe.name}),S.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-md font-bold",children:_.groupLabel})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 ml-6",children:[Pe.contactIds.length," contactos"]})]},Pe.id))}),a.length>0?a.map(Pe=>S.jsxs("div",{className:"border-b last:border-0 border-slate-50 dark:border-slate-700/50",children:[S.jsx("div",{className:"px-4 py-1 text-[10px] font-bold text-indigo-500 uppercase bg-slate-50/50 dark:bg-slate-800/50",children:Pe.name}),Pe.emails.map(Qe=>S.jsx("button",{onClick:()=>{const Ht=T.split(",").map(Nt=>Nt.trim()).filter(Nt=>!!Nt),kt=Array.from(new Set([...Ht,Qe])).join(", ");L(kt),q(!1)},className:"w-full px-6 py-2 text-left text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-slate-600 dark:text-slate-300 transition-colors",children:Qe},Qe))]},Pe.id)):o.length===0&&S.jsx("div",{className:"px-4 py-6 text-center",children:S.jsx("p",{className:"text-xs text-slate-400 italic",children:_.noContacts})})]})]})]}),S.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[S.jsx(l4,{className:"text-slate-400 mr-4 shrink-0",size:20}),S.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:_.ccLabel}),He.length>0?He.map(Pe=>S.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group/cc",children:[S.jsx("div",{className:"relative flex items-center",children:S.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 transition-all cursor-pointer",checked:Ae.has(Pe.id),onChange:()=>Dt(Pe.id)})}),S.jsx("span",{className:`text-sm font-medium transition-colors ${Ae.has(Pe.id)?"text-indigo-600 dark:text-indigo-400 font-bold":"text-slate-600 dark:text-slate-400"}`,children:Pe.label})]},Pe.id)):S.jsx("span",{className:"text-xs text-slate-400 italic opacity-50",children:"Configure correos CC en Opciones"})]})]}),S.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[S.jsx(h4,{className:"text-slate-400 mr-4 shrink-0",size:20}),S.jsx("input",{type:"text",placeholder:_.subject,className:"flex-1 bg-transparent outline-none font-medium text-slate-700 dark:text-slate-200",value:R,onChange:Pe=>D(Pe.target.value)})]}),S.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 px-4 py-2 flex flex-wrap items-center gap-4",children:[S.jsxs("div",{className:"flex items-center gap-1 pr-4 border-r border-slate-200 dark:border-slate-800",children:[S.jsx("button",{onClick:()=>lt("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(o4,{size:16})}),S.jsx("button",{onClick:()=>lt("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(u4,{size:16})}),S.jsx("button",{onClick:()=>lt("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(f4,{size:16})})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:_.aiAssistant}),["Professional","Friendly","Concise","Urgent"].map(Pe=>S.jsx("button",{onClick:()=>Ke(Pe.toLowerCase()),disabled:P||!j,className:"px-2 py-1 text-[10px] bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 rounded hover:border-indigo-500 disabled:opacity-50 transition-all",children:Pe},Pe)),P&&S.jsx("span",{className:"text-[10px] text-indigo-500 animate-pulse",children:_.refining})]})]}),S.jsx("div",{ref:vt,contentEditable:!0,onInput:Pe=>G(Pe.currentTarget.innerHTML),className:"w-full min-h-[18rem] p-6 outline-none text-slate-600 dark:text-slate-300 leading-relaxed text-left","data-placeholder":_.placeholder}),ce.length>0&&S.jsx("div",{className:"mx-6 mb-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:ce.map(Pe=>S.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center justify-between group/att hover:border-indigo-300 dark:hover:border-indigo-500 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[Pe.previewUrl?S.jsx("img",{src:Pe.previewUrl,className:"w-10 h-10 rounded object-cover cursor-pointer",onClick:()=>Oe(Pe)}):S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded",children:S.jsx(Qc,{size:20})}),S.jsxs("div",{className:"flex-1 overflow-hidden",children:[Y===Pe.id?S.jsxs("div",{className:"flex gap-1",children:[S.jsx("input",{type:"text",autoFocus:!0,className:"text-sm font-semibold bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded outline-indigo-500 w-full text-slate-700 dark:text-slate-200",value:ye,onChange:Qe=>fe(Qe.target.value),onBlur:pt,onKeyDown:Qe=>Qe.key==="Enter"&&pt()}),S.jsx("button",{onClick:pt,className:"text-emerald-500",children:S.jsx(l_,{size:14})})]}):S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"text-sm font-semibold truncate text-slate-700 dark:text-slate-200",children:Pe.name}),S.jsx("button",{onClick:()=>ut(Pe),className:"opacity-0 group-hover/att:opacity-100 text-slate-400 hover:text-indigo-500 transition-opacity",children:S.jsx(c_,{size:12})})]}),S.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:[Pe.label||"FILE","  ",Ut(Pe.size)]})]})]}),S.jsx("button",{onClick:()=>wt(Pe.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:S.jsx(so,{size:16})})]},Pe.id))})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>{L(""),D(""),G(""),Te([]),vt.current&&(vt.current.innerHTML=""),w(g==="es"?"Borrador descartado.":"Draft discarded.","info")},className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:_.discard,children:S.jsx(iu,{size:20})}),S.jsxs("button",{onClick:$t,disabled:!R||!j,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${se?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[se?S.jsx(UL,{size:18}):S.jsx(lf,{size:18}),S.jsx("span",{className:"text-xs font-semibold",children:se?_.saved:_.saveTemplate})]})]}),S.jsx("div",{className:"hidden sm:block w-px h-8 bg-slate-200 dark:bg-slate-800"}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx("input",{type:"file",ref:gt,onChange:Je,className:"hidden"}),S.jsxs("button",{onClick:()=>_e(_.labelOrden),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[S.jsx(Wm,{size:16})," ",_.labelOrden]}),S.jsxs("button",{onClick:()=>_e(_.labelResumen),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[S.jsx(Wm,{size:16})," ",_.labelResumen]}),S.jsxs("button",{onClick:()=>_e(_.labelOtro),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[S.jsx(Wm,{size:16})," ",_.labelOtro]}),S.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 hidden sm:block"}),S.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 text-[11px] font-bold rounded-xl shadow-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[S.jsx(c4,{size:16})," ",_.labelPdf]})]})]}),S.jsx("button",{onClick:St,disabled:e,className:`
    relative flex items-center gap-3 px-8 py-3 rounded-xl font-bold 
    transition-all duration-300 active:scale-95 shrink-0
    ${e||!t||!T||!R||!j?"bg-slate-200 dark:bg-slate-800 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200 dark:hover:shadow-none shadow-lg shadow-indigo-100"}
  `,children:e?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"text-xs uppercase tracking-widest animate-pulse",children:_.sending}),S.jsx(r0,{className:"animate-spin",size:18})]}):S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"text-sm",children:_.send}),S.jsx(u_,{size:18,className:`transition-transform duration-300 ${!T||!R||!j?"":"group-hover:translate-x-1 group-hover:-translate-y-1"}`})]})})]}),U&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[110] flex items-center justify-center p-6 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-8 max-w-sm w-full text-center space-y-4 shadow-2xl animate-in zoom-in-95 duration-200",children:[S.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto text-indigo-600 dark:text-indigo-400",children:S.jsx(QA,{size:32})}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:_.confirmTitle}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:_.confirmDesc}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[S.jsx("button",{onClick:()=>z(!1),className:"px-4 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:_.cancel}),S.jsx("button",{onClick:it,className:"px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:_.confirm})]})]})}),ge&&S.jsx(MJ,{lang:g,templates:u,onClose:()=>K(!1),onAttach:Pe=>{Te(Qe=>[...Qe,Pe]),w(g==="es"?"PDF generado y adjuntado.":"PDF generated and attached.","success")},sizeLimitMb:m,settings:b}),me&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/80 z-[120] flex items-center justify-center p-8 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl max-w-4xl w-full max-h-full flex flex-col overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[S.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:me.name}),S.jsx("button",{onClick:()=>Oe(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:24})})]}),S.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:me.previewUrl?S.jsx("img",{src:me.previewUrl,className:"max-w-full max-h-full rounded-lg shadow-xl"}):S.jsxs("div",{className:"text-center opacity-50",children:[S.jsx(Qc,{size:80,className:"mx-auto mb-4 text-slate-300 dark:text-slate-700"}),_.previewNotAvailable]})})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var R_={};R_.version="0.18.5";var TF=1252,PJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],B4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},U4=function(n){PJ.indexOf(n)!=-1&&(TF=B4[0]=n)};function OJ(){U4(1252)}var tu=function(n){U4(n)};function H4(){tu(1200),OJ()}function bR(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function BJ(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function CF(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var Mx=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?BJ(n.slice(2)):e==254&&t==255?CF(n.slice(2)):e==65279?n.slice(1):n},hw=function(e){return String.fromCharCode(e)},wR=function(e){return String.fromCharCode(e)},s2,Qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a2(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0,c=0,u=0;u<n.length;)t=n.charCodeAt(u++),s=t>>2,r=n.charCodeAt(u++),a=(t&3)<<4|r>>4,i=n.charCodeAt(u++),o=(r&15)<<2|i>>6,c=i&63,isNaN(r)?o=c=64:isNaN(i)&&(c=64),e+=Qd.charAt(s)+Qd.charAt(a)+Qd.charAt(o)+Qd.charAt(c);return e}function El(n){var e="",t=0,r=0,i=0,s=0,a=0,o=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)s=Qd.indexOf(n.charAt(u++)),a=Qd.indexOf(n.charAt(u++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=Qd.indexOf(n.charAt(u++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=Qd.indexOf(n.charAt(u++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Vn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dh=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function l0(n){return Vn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function _R(n){return Vn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var wl=function(e){return Vn?Dh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function C5(n){if(typeof ArrayBuffer>"u")return wl(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function g0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function UJ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function z4(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return z4(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var Vs=Vn?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Dh(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function HJ(n){for(var e=[],t=0,r=n.length+250,i=l0(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=n.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>r&&(e.push(i.slice(0,t)),t=0,i=l0(65535),r=65530)}return e.push(i.slice(0,t)),Vs(e)}var oo=/\u0000/g,Dx=/[\u0001-\u0006]/g;function t1(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function nu(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}function j4(n,e){var t=""+n;return t.length>=e?t:Bi(" ",e-t.length)+t}function L_(n,e){var t=""+n;return t.length>=e?t:t+Bi(" ",e-t.length)}function zJ(n,e){var t=""+Math.round(n);return t.length>=e?t:Bi("0",e-t.length)+t}function jJ(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}var SR=Math.pow(2,32);function Em(n,e){if(n>SR||n<-SR)return zJ(n,e);var t=Math.round(n);return jJ(t,e)}function I_(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var AR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],DA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function GJ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var _n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ER={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function M_(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,a=1,o=0,c=1,u=0,h=0,p=Math.floor(i);u<e&&(p=Math.floor(i),o=p*a+s,h=p*u+c,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,c=u,u=h;if(h>e&&(u>e?(h=c,o=s):(h=u,o=a)),!t)return[0,r*o,h];var g=Math.floor(r*o/h);return[g,r*o-g*h,h]}function tp(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,a=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),t&&(s=KJ(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var kF=new Date(1899,11,31,0,0,0),VJ=kF.getTime(),WJ=new Date(1900,2,1,0,0,0);function NF(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=WJ&&(t+=1440*60*1e3),(t-(VJ+(n.getTimezoneOffset()-kF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function G4(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $J(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XJ(n){var e=n<0?12:11,t=G4(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function YJ(n){var e=G4(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function o2(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=XJ(n):e===10?t=n.toFixed(10).substr(0,12):t=YJ(n),G4($J(t.toUpperCase()))}function mg(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):o2(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return cc(14,NF(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function KJ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function JJ(n,e,t,r){var i="",s=0,a=0,o=t.y,c,u=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return DA[t.m-1][1];case 5:return DA[t.m-1][0];default:return DA[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return AR[t.q][0];default:return AR[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?nu(t.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=nu(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var h=u>0?nu(c,u):"";return h}function e0(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var RF=/%/g;function ZJ(n,e,t){var r=e.replace(RF,""),i=e.length-r.length;return _h(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function QJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return _h(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function LF(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+LF(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var IF=/# (\?+)( ?)\/( ?)(\d+)/;function eZ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return t+(s===0?"":""+s)+" "+(a===0?Bi(" ",n[1].length+1+n[4].length):j4(a,n[1].length)+n[2]+"/"+n[3]+nu(o,n[4].length))}function tZ(n,e,t){return t+(e===0?"":""+e)+Bi(" ",n[1].length+2+n[4].length)}var MF=/^#*0*\.([0#]+)/,DF=/\).*[0#]/,FF=/\(###\) ###\\?-####/;function ro(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function TR(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function CR(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function nZ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function rZ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function ql(n,e,t){if(n.charCodeAt(0)===40&&!e.match(DF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ql("n",r,t):"("+ql("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return QJ(n,e,t);if(e.indexOf("%")!==-1)return ZJ(n,e,t);if(e.indexOf("E")!==-1)return LF(e,t);if(e.charCodeAt(0)===36)return"$"+ql(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Em(c,e.length);if(e.match(/^[#?]+$/))return i=Em(t,0),i==="0"&&(i=""),i.length>e.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(IF))return eZ(s,c,u);if(e.match(/^#+0+$/))return u+Em(c,e.length-e.indexOf("0"));if(s=e.match(MF))return i=TR(t,s[1].length).replace(/^([^\.]+)$/,"$1."+ro(s[1])).replace(/\.$/,"."+ro(s[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+Bi("0",ro(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+TR(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+e0(Em(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ql(n,e,-t):e0(""+(Math.floor(t)+nZ(t,s[1].length)))+"."+nu(CR(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return ql(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=t1(ql(n,e.replace(/[\\-]/g,""),t)),a=0,t1(t1(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<i.length?i.charAt(a++):b==="0"?"0":""}));if(e.match(FF))return i=ql(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=M_(c,Math.pow(10,a)-1,!1),i=""+u,h=_h("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=L_(o[2],a),h.length<s[4].length&&(h=ro(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=M_(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?j4(o[1],a)+s[2]+"/"+s[3]+L_(o[2],a):Bi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Em(t,0),e.length<=i.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return ro(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=CR(t,s[1].length),t<0?"-"+ql(n,e,-t):e0(rZ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?nu(0,3-b.length):"")+b})+"."+nu(a,s[1].length);switch(e){case"###,##0.00":return ql(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=e0(Em(c,0));return m!=="0"?u+m:"";case"###,###.00":return ql(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ql(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function iZ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return _h(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function sZ(n,e,t){var r=e.replace(RF,""),i=e.length-r.length;return _h(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function PF(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+PF(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,h){return c+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Hu(n,e,t){if(n.charCodeAt(0)===40&&!e.match(DF)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Hu("n",r,t):"("+Hu("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return iZ(n,e,t);if(e.indexOf("%")!==-1)return sZ(n,e,t);if(e.indexOf("E")!==-1)return PF(e,t);if(e.charCodeAt(0)===36)return"$"+Hu(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+nu(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(IF))return tZ(s,c,u);if(e.match(/^#+0+$/))return u+nu(c,e.length-e.indexOf("0"));if(s=e.match(MF))return i=(""+t).replace(/^([^\.]+)$/,"$1."+ro(s[1])).replace(/\.$/,"."+ro(s[1])),i=i.replace(/\.(\d*)$/,function(b,w){return"."+w+Bi("0",ro(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+e0(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Hu(n,e,-t):e0(""+t)+"."+Bi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Hu(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=t1(Hu(n,e.replace(/[\\-]/g,""),t)),a=0,t1(t1(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<i.length?i.charAt(a++):b==="0"?"0":""}));if(e.match(FF))return i=Hu(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=M_(c,Math.pow(10,a)-1,!1),i=""+u,h=_h("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=L_(o[2],a),h.length<s[4].length&&(h=ro(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=M_(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?j4(o[1],a)+s[2]+"/"+s[3]+L_(o[2],a):Bi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return ro(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Hu(n,e,-t):e0(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?nu(0,3-b.length):"")+b})+"."+nu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=e0(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Hu(n,e.slice(0,e.lastIndexOf(".")),t)+ro(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function _h(n,e,t){return(t|0)===t?Hu(n,e,t):ql(n,e,t)}function aZ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var OF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bv(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":I_(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(OF))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function oZ(n,e,t,r){for(var i=[],s="",a=0,o="",c="t",u,h,p,g="H";a<n.length;)switch(o=n.charAt(a)){case"G":if(!I_(n,a))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=n.charAt(++a),b=m==="("||m===")"?m:"t";i[i.length]={t:b,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(u==null&&(u=tp(e,t,n.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=tp(e,t),u==null))return"";for(s=o;++a<n.length&&n.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var w={t:o,v:o};if(u==null&&(u=tp(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",g="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",a+=5,g="h"):n.substr(a,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",a+=5,g="h"):(w.t="t",++a),u==null&&w.t==="T")return"";i[i.length]=w,c=o;break;case"[":for(s=o;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(OF)){if(u==null&&(u=tp(e,t),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",bv(n)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<n.length&&(o=n.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;n.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++a;break}var _=0,T=0,L;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,c="h",_<1&&(_=1);break;case"s":(L=i[a].v.match(/\.0+$/))&&(T=Math.max(T,L[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[a].v.match(/[Hh]/)&&(_=1),_<2&&i[a].v.match(/[Mm]/)&&(_=2),_<3&&i[a].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var R="",D;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=JJ(i[a].t.charCodeAt(0),i[a].v,u,T),i[a].t="t";break;case"n":case"?":for(D=a+1;i[D]!=null&&((o=i[D].t)==="?"||o==="D"||(o===" "||o==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[a].v+=i[D].v,i[D]={v:"",t:";"},++D;R+=i[a].v,a=D-1;break;case"G":i[a].t="t",i[a].v=mg(e,t);break}var j="",G,P;if(R.length>0){R.charCodeAt(0)==40?(G=e<0&&R.charCodeAt(0)===45?-e:e,P=_h("n",R,G)):(G=e<0&&r>1?-e:e,P=_h("n",R,G),G<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),D=P.length-1;var W=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){W=a;break}var O=i.length;if(W===i.length&&P.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(D>=i[a].v.length-1?(D-=i[a].v.length,i[a].v=P.substr(D+1,i[a].v.length)):D<0?i[a].v="":(i[a].v=P.substr(0,D+1),D=-1),i[a].t="t",O=a);D>=0&&O<i.length&&(i[O].v=P.substr(0,D+1)+i[O].v)}else if(W!==i.length&&P.indexOf("E")===-1){for(D=P.indexOf(".")-1,a=W;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===W?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(h+1);h>=0;--h)D>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(j=P.charAt(D--)+j);i[a].v=j,i[a].t="t",O=a}for(D>=0&&O<i.length&&(i[O].v=P.substr(0,D+1)+i[O].v),D=P.indexOf(".")+1,a=W;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==W)){for(h=i[a].v.indexOf(".")>-1&&a===W?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,h);h<i[a].v.length;++h)D<P.length&&(j+=P.charAt(D++));i[a].v=j,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(G=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=_h(i[a].t,i[a].v,G),i[a].t="t");var ee="";for(a=0;a!==i.length;++a)i[a]!=null&&(ee+=i[a].v);return ee}var kR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function NR(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function lZ(n,e){var t=aZ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(kR),o=t[1].match(kR);return NR(e,a)?[r,t[0]]:NR(e,o)?[r,t[1]]:[r,t[a!=null&&o!=null?2:1]]}return[r,s]}function cc(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:_n)[n],r==null&&(r=t.table&&t.table[ER[n]]||_n[ER[n]]),r==null&&(r=qJ[n]||"General");break}if(I_(r,0))return mg(e,t);e instanceof Date&&(e=NF(e,t.date1904));var i=lZ(r,e);if(I_(i[1]))return mg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return oZ(i[1],e,t,i[0])}function Sh(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(_n[t]==null){e<0&&(e=t);continue}if(_n[t]==n){e=t;break}}e<0&&(e=391)}return _n[e]=n,e}function k5(n){for(var e=0;e!=392;++e)n[e]!==void 0&&Sh(n[e],e)}function wv(){_n=GJ()}var cZ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},BF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uZ(n){var e=typeof n=="number"?_n[n]:n;return e=e.replace(BF,"(\\d+)"),new RegExp("^"+e+"$")}function fZ(n,e,t){var r=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(BF)||[]).forEach(function(p,g){var m=parseInt(t[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":a=m;break;case"s":c=m;break;case"m":a>=0?o=m:i=m;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?u:r==-1&&i==-1&&s==-1?h:u+"T"+h}var hZ=(function(){var n={};n.version="1.2.0";function e(){for(var P=0,W=new Array(256),O=0;O!=256;++O)P=O,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,W[O]=P;return typeof Int32Array<"u"?new Int32Array(W):W}var t=e();function r(P){var W=0,O=0,ee=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)B[ee]=P[ee];for(ee=0;ee!=256;++ee)for(O=P[ee],W=256+ee;W<4096;W+=256)O=B[W]=O>>>8^P[O&255];var q=[];for(ee=1;ee!=16;++ee)q[ee-1]=typeof Int32Array<"u"?B.subarray(ee*256,ee*256+256):B.slice(ee*256,ee*256+256);return q}var i=r(t),s=i[0],a=i[1],o=i[2],c=i[3],u=i[4],h=i[5],p=i[6],g=i[7],m=i[8],b=i[9],w=i[10],_=i[11],T=i[12],L=i[13],R=i[14];function D(P,W){for(var O=W^-1,ee=0,B=P.length;ee<B;)O=O>>>8^t[(O^P.charCodeAt(ee++))&255];return~O}function j(P,W){for(var O=W^-1,ee=P.length-15,B=0;B<ee;)O=R[P[B++]^O&255]^L[P[B++]^O>>8&255]^T[P[B++]^O>>16&255]^_[P[B++]^O>>>24]^w[P[B++]]^b[P[B++]]^m[P[B++]]^g[P[B++]]^p[P[B++]]^h[P[B++]]^u[P[B++]]^c[P[B++]]^o[P[B++]]^a[P[B++]]^s[P[B++]]^t[P[B++]];for(ee+=15;B<ee;)O=O>>>8^t[(O^P[B++])&255];return~O}function G(P,W){for(var O=W^-1,ee=0,B=P.length,q=0,Q=0;ee<B;)q=P.charCodeAt(ee++),q<128?O=O>>>8^t[(O^q)&255]:q<2048?(O=O>>>8^t[(O^(192|q>>6&31))&255],O=O>>>8^t[(O^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,Q=P.charCodeAt(ee++)&1023,O=O>>>8^t[(O^(240|q>>8&7))&255],O=O>>>8^t[(O^(128|q>>2&63))&255],O=O>>>8^t[(O^(128|Q>>6&15|(q&3)<<4))&255],O=O>>>8^t[(O^(128|Q&63))&255]):(O=O>>>8^t[(O^(224|q>>12&15))&255],O=O>>>8^t[(O^(128|q>>6&63))&255],O=O>>>8^t[(O^(128|q&63))&255]);return~O}return n.table=t,n.bstr=D,n.buf=j,n.str=G,n})(),mn=(function(){var e={};e.version="1.2.1";function t(te,Ce){for(var ve=te.split("/"),xe=Ce.split("/"),we=0,Ne=0,je=Math.min(ve.length,xe.length);we<je;++we){if(Ne=ve[we].length-xe[we].length)return Ne;if(ve[we]!=xe[we])return ve[we]<xe[we]?-1:1}return ve.length-xe.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var Ce=te.lastIndexOf("/");return Ce===-1?te:te.slice(0,Ce+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var Ce=te.lastIndexOf("/");return Ce===-1?te:te.slice(Ce+1)}function s(te,Ce){typeof Ce=="string"&&(Ce=new Date(Ce));var ve=Ce.getHours();ve=ve<<6|Ce.getMinutes(),ve=ve<<5|Ce.getSeconds()>>>1,te.write_shift(2,ve);var xe=Ce.getFullYear()-1980;xe=xe<<4|Ce.getMonth()+1,xe=xe<<5|Ce.getDate(),te.write_shift(2,xe)}function a(te){var Ce=te.read_shift(2)&65535,ve=te.read_shift(2)&65535,xe=new Date,we=ve&31;ve>>>=5;var Ne=ve&15;ve>>>=4,xe.setMilliseconds(0),xe.setFullYear(ve+1980),xe.setMonth(Ne-1),xe.setDate(we);var je=Ce&31;Ce>>>=5;var rt=Ce&63;return Ce>>>=6,xe.setHours(Ce),xe.setMinutes(rt),xe.setSeconds(je<<1),xe}function o(te){fa(te,0);for(var Ce={},ve=0;te.l<=te.length-4;){var xe=te.read_shift(2),we=te.read_shift(2),Ne=te.l+we,je={};switch(xe){case 21589:ve=te.read_shift(1),ve&1&&(je.mtime=te.read_shift(4)),we>5&&(ve&2&&(je.atime=te.read_shift(4)),ve&4&&(je.ctime=te.read_shift(4))),je.mtime&&(je.mt=new Date(je.mtime*1e3));break}te.l=Ne,Ce[xe]=je}return Ce}var c;function u(){return c||(c={})}function h(te,Ce){if(te[0]==80&&te[1]==75)return dn(te,Ce);if((te[0]|32)==109&&(te[1]|32)==105)return cn(te,Ce);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ve=3,xe=512,we=0,Ne=0,je=0,rt=0,qe=0,Ve=[],$e=te.slice(0,512);fa($e,0);var _t=p($e);switch(ve=_t[0],ve){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(_t[1]==0)return dn(te,Ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}xe!==512&&($e=te.slice(0,xe),fa($e,28));var Tt=te.slice(0,xe);g($e,ve);var Ft=$e.read_shift(4,"i");if(ve===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);$e.l+=4,je=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),rt=$e.read_shift(4,"i"),we=$e.read_shift(4,"i"),qe=$e.read_shift(4,"i"),Ne=$e.read_shift(4,"i");for(var Et=-1,Lt=0;Lt<109&&(Et=$e.read_shift(4,"i"),!(Et<0));++Lt)Ve[Lt]=Et;var Kt=m(te,xe);_(qe,Ne,Kt,xe,Ve);var wr=L(Kt,je,Ve,xe);wr[je].name="!Directory",we>0&&rt!==Q&&(wr[rt].name="!MiniFAT"),wr[Ve[0]].name="!FAT",wr.fat_addrs=Ve,wr.ssz=xe;var qn={},Tr=[],Ys=[],Go=[];R(je,wr,Kt,Tr,we,qn,Ys,rt),b(Ys,Go,Tr),Tr.shift();var qo={FileIndex:Ys,FullPaths:Go};return Ce&&Ce.raw&&(qo.raw={header:Tt,sectors:Kt}),qo}function p(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(re,"Header Signature: "),te.l+=16;var Ce=te.read_shift(2,"u");return[te.read_shift(2,"u"),Ce]}function g(te,Ce){var ve=9;switch(te.l+=2,ve=te.read_shift(2)){case 9:if(Ce!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(Ce!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,Ce){for(var ve=Math.ceil(te.length/Ce)-1,xe=[],we=1;we<ve;++we)xe[we-1]=te.slice(we*Ce,(we+1)*Ce);return xe[ve-1]=te.slice(ve*Ce),xe}function b(te,Ce,ve){for(var xe=0,we=0,Ne=0,je=0,rt=0,qe=ve.length,Ve=[],$e=[];xe<qe;++xe)Ve[xe]=$e[xe]=xe,Ce[xe]=ve[xe];for(;rt<$e.length;++rt)xe=$e[rt],we=te[xe].L,Ne=te[xe].R,je=te[xe].C,Ve[xe]===xe&&(we!==-1&&Ve[we]!==we&&(Ve[xe]=Ve[we]),Ne!==-1&&Ve[Ne]!==Ne&&(Ve[xe]=Ve[Ne])),je!==-1&&(Ve[je]=xe),we!==-1&&xe!=Ve[xe]&&(Ve[we]=Ve[xe],$e.lastIndexOf(we)<rt&&$e.push(we)),Ne!==-1&&xe!=Ve[xe]&&(Ve[Ne]=Ve[xe],$e.lastIndexOf(Ne)<rt&&$e.push(Ne));for(xe=1;xe<qe;++xe)Ve[xe]===xe&&(Ne!==-1&&Ve[Ne]!==Ne?Ve[xe]=Ve[Ne]:we!==-1&&Ve[we]!==we&&(Ve[xe]=Ve[we]));for(xe=1;xe<qe;++xe)if(te[xe].type!==0){if(rt=xe,rt!=Ve[rt])do rt=Ve[rt],Ce[xe]=Ce[rt]+"/"+Ce[xe];while(rt!==0&&Ve[rt]!==-1&&rt!=Ve[rt]);Ve[xe]=-1}for(Ce[0]+="/",xe=1;xe<qe;++xe)te[xe].type!==2&&(Ce[xe]+="/")}function w(te,Ce,ve){for(var xe=te.start,we=te.size,Ne=[],je=xe;ve&&we>0&&je>=0;)Ne.push(Ce.slice(je*q,je*q+q)),we-=q,je=Z0(ve,je*4);return Ne.length===0?ot(0):Vs(Ne).slice(0,te.size)}function _(te,Ce,ve,xe,we){var Ne=Q;if(te===Q){if(Ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var je=ve[te],rt=(xe>>>2)-1;if(!je)return;for(var qe=0;qe<rt&&(Ne=Z0(je,qe*4))!==Q;++qe)we.push(Ne);_(Z0(je,xe-4),Ce-1,ve,xe,we)}}function T(te,Ce,ve,xe,we){var Ne=[],je=[];we||(we=[]);var rt=xe-1,qe=0,Ve=0;for(qe=Ce;qe>=0;){we[qe]=!0,Ne[Ne.length]=qe,je.push(te[qe]);var $e=ve[Math.floor(qe*4/xe)];if(Ve=qe*4&rt,xe<4+Ve)throw new Error("FAT boundary crossed: "+qe+" 4 "+xe);if(!te[$e])break;qe=Z0(te[$e],Ve)}return{nodes:Ne,data:zR([je])}}function L(te,Ce,ve,xe){var we=te.length,Ne=[],je=[],rt=[],qe=[],Ve=xe-1,$e=0,_t=0,Tt=0,Ft=0;for($e=0;$e<we;++$e)if(rt=[],Tt=$e+Ce,Tt>=we&&(Tt-=we),!je[Tt]){qe=[];var Et=[];for(_t=Tt;_t>=0;){Et[_t]=!0,je[_t]=!0,rt[rt.length]=_t,qe.push(te[_t]);var Lt=ve[Math.floor(_t*4/xe)];if(Ft=_t*4&Ve,xe<4+Ft)throw new Error("FAT boundary crossed: "+_t+" 4 "+xe);if(!te[Lt]||(_t=Z0(te[Lt],Ft),Et[_t]))break}Ne[Tt]={nodes:rt,data:zR([qe])}}return Ne}function R(te,Ce,ve,xe,we,Ne,je,rt){for(var qe=0,Ve=xe.length?2:0,$e=Ce[te].data,_t=0,Tt=0,Ft;_t<$e.length;_t+=128){var Et=$e.slice(_t,_t+128);fa(Et,64),Tt=Et.read_shift(2),Ft=K4(Et,0,Tt-Ve),xe.push(Ft);var Lt={name:Ft,type:Et.read_shift(1),color:Et.read_shift(1),L:Et.read_shift(4,"i"),R:Et.read_shift(4,"i"),C:Et.read_shift(4,"i"),clsid:Et.read_shift(16),state:Et.read_shift(4,"i"),start:0,size:0},Kt=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);Kt!==0&&(Lt.ct=D(Et,Et.l-8));var wr=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);wr!==0&&(Lt.mt=D(Et,Et.l-8)),Lt.start=Et.read_shift(4,"i"),Lt.size=Et.read_shift(4,"i"),Lt.size<0&&Lt.start<0&&(Lt.size=Lt.type=0,Lt.start=Q,Lt.name=""),Lt.type===5?(qe=Lt.start,we>0&&qe!==Q&&(Ce[qe].name="!StreamData")):Lt.size>=4096?(Lt.storage="fat",Ce[Lt.start]===void 0&&(Ce[Lt.start]=T(ve,Lt.start,Ce.fat_addrs,Ce.ssz)),Ce[Lt.start].name=Lt.name,Lt.content=Ce[Lt.start].data.slice(0,Lt.size)):(Lt.storage="minifat",Lt.size<0?Lt.size=0:qe!==Q&&Lt.start!==Q&&Ce[qe]&&(Lt.content=w(Lt,Ce[qe].data,(Ce[rt]||{}).data))),Lt.content&&fa(Lt.content,0),Ne[Ft]=Lt,je.push(Lt)}}function D(te,Ce){return new Date((xl(te,Ce+4)/1e7*Math.pow(2,32)+xl(te,Ce)/1e7-11644473600)*1e3)}function j(te,Ce){return u(),h(c.readFileSync(te),Ce)}function G(te,Ce){var ve=Ce&&Ce.type;switch(ve||Vn&&Buffer.isBuffer(te)&&(ve="buffer"),ve||"base64"){case"file":return j(te,Ce);case"base64":return h(wl(El(te)),Ce);case"binary":return h(wl(te),Ce)}return h(te,Ce)}function P(te,Ce){var ve=Ce||{},xe=ve.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=xe+"/",te.FileIndex[0]={name:xe,type:5}),ve.CLSID&&(te.FileIndex[0].clsid=ve.CLSID),W(te)}function W(te){var Ce="Sh33tJ5";if(!mn.find(te,"/"+Ce)){var ve=ot(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,te.FileIndex.push({name:Ce,type:2,content:ve,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+Ce),O(te)}}function O(te,Ce){P(te);for(var ve=!1,xe=!1,we=te.FullPaths.length-1;we>=0;--we){var Ne=te.FileIndex[we];switch(Ne.type){case 0:xe?ve=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(ve=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!Ce)){var je=new Date(1987,1,19),rt=0,qe=Object.create?Object.create(null):{},Ve=[];for(we=0;we<te.FullPaths.length;++we)qe[te.FullPaths[we]]=!0,te.FileIndex[we].type!==0&&Ve.push([te.FullPaths[we],te.FileIndex[we]]);for(we=0;we<Ve.length;++we){var $e=r(Ve[we][0]);xe=qe[$e],xe||(Ve.push([$e,{name:i($e).replace("/",""),type:1,clsid:K,ct:je,mt:je,content:null}]),qe[$e]=!0)}for(Ve.sort(function(Ft,Et){return t(Ft[0],Et[0])}),te.FullPaths=[],te.FileIndex=[],we=0;we<Ve.length;++we)te.FullPaths[we]=Ve[we][0],te.FileIndex[we]=Ve[we][1];for(we=0;we<Ve.length;++we){var _t=te.FileIndex[we],Tt=te.FullPaths[we];if(_t.name=i(Tt).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||K,we===0)_t.C=Ve.length>1?1:-1,_t.size=0,_t.type=5;else if(Tt.slice(-1)=="/"){for(rt=we+1;rt<Ve.length&&r(te.FullPaths[rt])!=Tt;++rt);for(_t.C=rt>=Ve.length?-1:rt,rt=we+1;rt<Ve.length&&r(te.FullPaths[rt])!=r(Tt);++rt);_t.R=rt>=Ve.length?-1:rt,_t.type=1}else r(te.FullPaths[we+1]||"")==r(Tt)&&(_t.R=we+1),_t.type=2}}}function ee(te,Ce){var ve=Ce||{};if(ve.fileType=="mad")return jo(te,ve);switch(O(te),ve.fileType){case"zip":return fn(te,ve)}var xe=(function(Ft){for(var Et=0,Lt=0,Kt=0;Kt<Ft.FileIndex.length;++Kt){var wr=Ft.FileIndex[Kt];if(wr.content){var qn=wr.content.length;qn>0&&(qn<4096?Et+=qn+63>>6:Lt+=qn+511>>9)}}for(var Tr=Ft.FullPaths.length+3>>2,Ys=Et+7>>3,Go=Et+127>>7,qo=Ys+Lt+Tr+Go,ja=qo+127>>7,gu=ja<=109?0:Math.ceil((ja-109)/127);qo+ja+gu+127>>7>ja;)gu=++ja<=109?0:Math.ceil((ja-109)/127);var Zr=[1,gu,ja,Go,Tr,Lt,Et,0];return Ft.FileIndex[0].size=Et<<6,Zr[7]=(Ft.FileIndex[0].start=Zr[0]+Zr[1]+Zr[2]+Zr[3]+Zr[4]+Zr[5])+(Zr[6]+7>>3),Zr})(te),we=ot(xe[7]<<9),Ne=0,je=0;{for(Ne=0;Ne<8;++Ne)we.write_shift(1,ge[Ne]);for(Ne=0;Ne<8;++Ne)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Ne=0;Ne<3;++Ne)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,xe[2]),we.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:Q),we.write_shift(4,xe[3]),we.write_shift(-4,xe[1]?xe[0]-1:Q),we.write_shift(4,xe[1]),Ne=0;Ne<109;++Ne)we.write_shift(-4,Ne<xe[2]?xe[1]+Ne:-1)}if(xe[1])for(je=0;je<xe[1];++je){for(;Ne<236+je*127;++Ne)we.write_shift(-4,Ne<xe[2]?xe[1]+Ne:-1);we.write_shift(-4,je===xe[1]-1?Q:je+1)}var rt=function(Ft){for(je+=Ft;Ne<je-1;++Ne)we.write_shift(-4,Ne+1);Ft&&(++Ne,we.write_shift(-4,Q))};for(je=Ne=0,je+=xe[1];Ne<je;++Ne)we.write_shift(-4,ce.DIFSECT);for(je+=xe[2];Ne<je;++Ne)we.write_shift(-4,ce.FATSECT);rt(xe[3]),rt(xe[4]);for(var qe=0,Ve=0,$e=te.FileIndex[0];qe<te.FileIndex.length;++qe)$e=te.FileIndex[qe],$e.content&&(Ve=$e.content.length,!(Ve<4096)&&($e.start=je,rt(Ve+511>>9)));for(rt(xe[6]+7>>3);we.l&511;)we.write_shift(-4,ce.ENDOFCHAIN);for(je=Ne=0,qe=0;qe<te.FileIndex.length;++qe)$e=te.FileIndex[qe],$e.content&&(Ve=$e.content.length,!(!Ve||Ve>=4096)&&($e.start=je,rt(Ve+63>>6)));for(;we.l&511;)we.write_shift(-4,ce.ENDOFCHAIN);for(Ne=0;Ne<xe[4]<<2;++Ne){var _t=te.FullPaths[Ne];if(!_t||_t.length===0){for(qe=0;qe<17;++qe)we.write_shift(4,0);for(qe=0;qe<3;++qe)we.write_shift(4,-1);for(qe=0;qe<12;++qe)we.write_shift(4,0);continue}$e=te.FileIndex[Ne],Ne===0&&($e.start=$e.size?$e.start-1:Q);var Tt=Ne===0&&ve.root||$e.name;if(Ve=2*(Tt.length+1),we.write_shift(64,Tt,"utf16le"),we.write_shift(2,Ve),we.write_shift(1,$e.type),we.write_shift(1,$e.color),we.write_shift(-4,$e.L),we.write_shift(-4,$e.R),we.write_shift(-4,$e.C),$e.clsid)we.write_shift(16,$e.clsid,"hex");else for(qe=0;qe<4;++qe)we.write_shift(4,0);we.write_shift(4,$e.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,$e.start),we.write_shift(4,$e.size),we.write_shift(4,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>=4096)if(we.l=$e.start+1<<9,Vn&&Buffer.isBuffer($e.content))$e.content.copy(we,we.l,0,$e.size),we.l+=$e.size+511&-512;else{for(qe=0;qe<$e.size;++qe)we.write_shift(1,$e.content[qe]);for(;qe&511;++qe)we.write_shift(1,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if($e=te.FileIndex[Ne],$e.size>0&&$e.size<4096)if(Vn&&Buffer.isBuffer($e.content))$e.content.copy(we,we.l,0,$e.size),we.l+=$e.size+63&-64;else{for(qe=0;qe<$e.size;++qe)we.write_shift(1,$e.content[qe]);for(;qe&63;++qe)we.write_shift(1,0)}if(Vn)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function B(te,Ce){var ve=te.FullPaths.map(function(qe){return qe.toUpperCase()}),xe=ve.map(function(qe){var Ve=qe.split("/");return Ve[Ve.length-(qe.slice(-1)=="/"?2:1)]}),we=!1;Ce.charCodeAt(0)===47?(we=!0,Ce=ve[0].slice(0,-1)+Ce):we=Ce.indexOf("/")!==-1;var Ne=Ce.toUpperCase(),je=we===!0?ve.indexOf(Ne):xe.indexOf(Ne);if(je!==-1)return te.FileIndex[je];var rt=!Ne.match(Dx);for(Ne=Ne.replace(oo,""),rt&&(Ne=Ne.replace(Dx,"!")),je=0;je<ve.length;++je)if((rt?ve[je].replace(Dx,"!"):ve[je]).replace(oo,"")==Ne||(rt?xe[je].replace(Dx,"!"):xe[je]).replace(oo,"")==Ne)return te.FileIndex[je];return null}var q=64,Q=-2,re="d0cf11e0a1b11ae1",ge=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Te(te,Ce,ve){u();var xe=ee(te,ve);c.writeFileSync(Ce,xe)}function me(te){for(var Ce=new Array(te.length),ve=0;ve<te.length;++ve)Ce[ve]=String.fromCharCode(te[ve]);return Ce.join("")}function Oe(te,Ce){var ve=ee(te,Ce);switch(Ce&&Ce.type||"buffer"){case"file":return u(),c.writeFileSync(Ce.filename,ve),ve;case"binary":return typeof ve=="string"?ve:me(ve);case"base64":return a2(typeof ve=="string"?ve:me(ve));case"buffer":if(Vn)return Buffer.isBuffer(ve)?ve:Dh(ve);case"array":return typeof ve=="string"?wl(ve):ve}return ve}var se;function I(te){try{var Ce=te.InflateRaw,ve=new Ce;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)se=te;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function U(te,Ce){if(!se)return Rn(te,Ce);var ve=se.InflateRaw,xe=new ve,we=xe._processChunk(te.slice(te.l),xe._finishFlushFlag);return te.l+=xe.bytesRead,we}function z(te){return se?se.deflateRawSync(te):Pe(te)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(te){var Ce=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(Ce>>16|Ce>>8|Ce)&255}for(var Ae=typeof Uint8Array<"u",Re=Ae?new Uint8Array(256):[],et=0;et<256;++et)Re[et]=fe(et);function de(te,Ce){var ve=Re[te&255];return Ce<=8?ve>>>8-Ce:(ve=ve<<8|Re[te>>8&255],Ce<=16?ve>>>16-Ce:(ve=ve<<8|Re[te>>16&255],ve>>>24-Ce))}function gt(te,Ce){var ve=Ce&7,xe=Ce>>>3;return(te[xe]|(ve<=6?0:te[xe+1]<<8))>>>ve&3}function vt(te,Ce){var ve=Ce&7,xe=Ce>>>3;return(te[xe]|(ve<=5?0:te[xe+1]<<8))>>>ve&7}function pe(te,Ce){var ve=Ce&7,xe=Ce>>>3;return(te[xe]|(ve<=4?0:te[xe+1]<<8))>>>ve&15}function He(te,Ce){var ve=Ce&7,xe=Ce>>>3;return(te[xe]|(ve<=3?0:te[xe+1]<<8))>>>ve&31}function Ke(te,Ce){var ve=Ce&7,xe=Ce>>>3;return(te[xe]|(ve<=1?0:te[xe+1]<<8))>>>ve&127}function St(te,Ce,ve){var xe=Ce&7,we=Ce>>>3,Ne=(1<<ve)-1,je=te[we]>>>xe;return ve<8-xe||(je|=te[we+1]<<8-xe,ve<16-xe)||(je|=te[we+2]<<16-xe,ve<24-xe)||(je|=te[we+3]<<24-xe),je&Ne}function it(te,Ce,ve){var xe=Ce&7,we=Ce>>>3;return xe<=5?te[we]|=(ve&7)<<xe:(te[we]|=ve<<xe&255,te[we+1]=(ve&7)>>8-xe),Ce+3}function Dt(te,Ce,ve){var xe=Ce&7,we=Ce>>>3;return ve=(ve&1)<<xe,te[we]|=ve,Ce+1}function Ct(te,Ce,ve){var xe=Ce&7,we=Ce>>>3;return ve<<=xe,te[we]|=ve&255,ve>>>=8,te[we+1]=ve,Ce+8}function $t(te,Ce,ve){var xe=Ce&7,we=Ce>>>3;return ve<<=xe,te[we]|=ve&255,ve>>>=8,te[we+1]=ve&255,te[we+2]=ve>>>8,Ce+16}function _e(te,Ce){var ve=te.length,xe=2*ve>Ce?2*ve:Ce+5,we=0;if(ve>=Ce)return te;if(Vn){var Ne=_R(xe);if(te.copy)te.copy(Ne);else for(;we<te.length;++we)Ne[we]=te[we];return Ne}else if(Ae){var je=new Uint8Array(xe);if(je.set)je.set(te);else for(;we<ve;++we)je[we]=te[we];return je}return te.length=xe,te}function Je(te){for(var Ce=new Array(te),ve=0;ve<te;++ve)Ce[ve]=0;return Ce}function ut(te,Ce,ve){var xe=1,we=0,Ne=0,je=0,rt=0,qe=te.length,Ve=Ae?new Uint16Array(32):Je(32);for(Ne=0;Ne<32;++Ne)Ve[Ne]=0;for(Ne=qe;Ne<ve;++Ne)te[Ne]=0;qe=te.length;var $e=Ae?new Uint16Array(qe):Je(qe);for(Ne=0;Ne<qe;++Ne)Ve[we=te[Ne]]++,xe<we&&(xe=we),$e[Ne]=0;for(Ve[0]=0,Ne=1;Ne<=xe;++Ne)Ve[Ne+16]=rt=rt+Ve[Ne-1]<<1;for(Ne=0;Ne<qe;++Ne)rt=te[Ne],rt!=0&&($e[Ne]=Ve[rt+16]++);var _t=0;for(Ne=0;Ne<qe;++Ne)if(_t=te[Ne],_t!=0)for(rt=de($e[Ne],xe)>>xe-_t,je=(1<<xe+4-_t)-1;je>=0;--je)Ce[rt|je<<_t]=_t&15|Ne<<4;return xe}var pt=Ae?new Uint16Array(512):Je(512),Ut=Ae?new Uint16Array(32):Je(32);if(!Ae){for(var wt=0;wt<512;++wt)pt[wt]=0;for(wt=0;wt<32;++wt)Ut[wt]=0}(function(){for(var te=[],Ce=0;Ce<32;Ce++)te.push(5);ut(te,Ut,32);var ve=[];for(Ce=0;Ce<=143;Ce++)ve.push(8);for(;Ce<=255;Ce++)ve.push(9);for(;Ce<=279;Ce++)ve.push(7);for(;Ce<=287;Ce++)ve.push(8);ut(ve,pt,288)})();var lt=(function(){for(var Ce=Ae?new Uint8Array(32768):[],ve=0,xe=0;ve<ye.length-1;++ve)for(;xe<ye[ve+1];++xe)Ce[xe]=ve;for(;xe<32768;++xe)Ce[xe]=29;var we=Ae?new Uint8Array(259):[];for(ve=0,xe=0;ve<oe.length-1;++ve)for(;xe<oe[ve+1];++xe)we[xe]=ve;function Ne(rt,qe){for(var Ve=0;Ve<rt.length;){var $e=Math.min(65535,rt.length-Ve),_t=Ve+$e==rt.length;for(qe.write_shift(1,+_t),qe.write_shift(2,$e),qe.write_shift(2,~$e&65535);$e-- >0;)qe[qe.l++]=rt[Ve++]}return qe.l}function je(rt,qe){for(var Ve=0,$e=0,_t=Ae?new Uint16Array(32768):[];$e<rt.length;){var Tt=Math.min(65535,rt.length-$e);if(Tt<10){for(Ve=it(qe,Ve,+($e+Tt==rt.length)),Ve&7&&(Ve+=8-(Ve&7)),qe.l=Ve/8|0,qe.write_shift(2,Tt),qe.write_shift(2,~Tt&65535);Tt-- >0;)qe[qe.l++]=rt[$e++];Ve=qe.l*8;continue}Ve=it(qe,Ve,+($e+Tt==rt.length)+2);for(var Ft=0;Tt-- >0;){var Et=rt[$e];Ft=(Ft<<5^Et)&32767;var Lt=-1,Kt=0;if((Lt=_t[Ft])&&(Lt|=$e&-32768,Lt>$e&&(Lt-=32768),Lt<$e))for(;rt[Lt+Kt]==rt[$e+Kt]&&Kt<250;)++Kt;if(Kt>2){Et=we[Kt],Et<=22?Ve=Ct(qe,Ve,Re[Et+1]>>1)-1:(Ct(qe,Ve,3),Ve+=5,Ct(qe,Ve,Re[Et-23]>>5),Ve+=3);var wr=Et<8?0:Et-4>>2;wr>0&&($t(qe,Ve,Kt-oe[Et]),Ve+=wr),Et=Ce[$e-Lt],Ve=Ct(qe,Ve,Re[Et]>>3),Ve-=3;var qn=Et<4?0:Et-2>>1;qn>0&&($t(qe,Ve,$e-Lt-ye[Et]),Ve+=qn);for(var Tr=0;Tr<Kt;++Tr)_t[Ft]=$e&32767,Ft=(Ft<<5^rt[$e])&32767,++$e;Tt-=Kt-1}else Et<=143?Et=Et+48:Ve=Dt(qe,Ve,1),Ve=Ct(qe,Ve,Re[Et]),_t[Ft]=$e&32767,++$e}Ve=Ct(qe,Ve,0)-1}return qe.l=(Ve+7)/8|0,qe.l}return function(qe,Ve){return qe.length<8?Ne(qe,Ve):je(qe,Ve)}})();function Pe(te){var Ce=ot(50+Math.floor(te.length*1.1)),ve=lt(te,Ce);return Ce.slice(0,ve)}var Qe=Ae?new Uint16Array(32768):Je(32768),Ht=Ae?new Uint16Array(32768):Je(32768),kt=Ae?new Uint16Array(128):Je(128),Nt=1,Bt=1;function En(te,Ce){var ve=He(te,Ce)+257;Ce+=5;var xe=He(te,Ce)+1;Ce+=5;var we=pe(te,Ce)+4;Ce+=4;for(var Ne=0,je=Ae?new Uint8Array(19):Je(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,Ve=Ae?new Uint8Array(8):Je(8),$e=Ae?new Uint8Array(8):Je(8),_t=je.length,Tt=0;Tt<we;++Tt)je[Y[Tt]]=Ne=vt(te,Ce),qe<Ne&&(qe=Ne),Ve[Ne]++,Ce+=3;var Ft=0;for(Ve[0]=0,Tt=1;Tt<=qe;++Tt)$e[Tt]=Ft=Ft+Ve[Tt-1]<<1;for(Tt=0;Tt<_t;++Tt)(Ft=je[Tt])!=0&&(rt[Tt]=$e[Ft]++);var Et=0;for(Tt=0;Tt<_t;++Tt)if(Et=je[Tt],Et!=0){Ft=Re[rt[Tt]]>>8-Et;for(var Lt=(1<<7-Et)-1;Lt>=0;--Lt)kt[Ft|Lt<<Et]=Et&7|Tt<<3}var Kt=[];for(qe=1;Kt.length<ve+xe;)switch(Ft=kt[Ke(te,Ce)],Ce+=Ft&7,Ft>>>=3){case 16:for(Ne=3+gt(te,Ce),Ce+=2,Ft=Kt[Kt.length-1];Ne-- >0;)Kt.push(Ft);break;case 17:for(Ne=3+vt(te,Ce),Ce+=3;Ne-- >0;)Kt.push(0);break;case 18:for(Ne=11+Ke(te,Ce),Ce+=7;Ne-- >0;)Kt.push(0);break;default:Kt.push(Ft),qe<Ft&&(qe=Ft);break}var wr=Kt.slice(0,ve),qn=Kt.slice(ve);for(Tt=ve;Tt<286;++Tt)wr[Tt]=0;for(Tt=xe;Tt<30;++Tt)qn[Tt]=0;return Nt=ut(wr,Qe,286),Bt=ut(qn,Ht,30),Ce}function Gt(te,Ce){if(te[0]==3&&!(te[1]&3))return[l0(Ce),2];for(var ve=0,xe=0,we=_R(Ce||1<<18),Ne=0,je=we.length>>>0,rt=0,qe=0;(xe&1)==0;){if(xe=vt(te,ve),ve+=3,xe>>>1)xe>>1==1?(rt=9,qe=5):(ve=En(te,ve),rt=Nt,qe=Bt);else{ve&7&&(ve+=8-(ve&7));var Ve=te[ve>>>3]|te[(ve>>>3)+1]<<8;if(ve+=32,Ve>0)for(!Ce&&je<Ne+Ve&&(we=_e(we,Ne+Ve),je=we.length);Ve-- >0;)we[Ne++]=te[ve>>>3],ve+=8;continue}for(;;){!Ce&&je<Ne+32767&&(we=_e(we,Ne+32767),je=we.length);var $e=St(te,ve,rt),_t=xe>>>1==1?pt[$e]:Qe[$e];if(ve+=_t&15,_t>>>=4,(_t>>>8&255)===0)we[Ne++]=_t;else{if(_t==256)break;_t-=257;var Tt=_t<8?0:_t-4>>2;Tt>5&&(Tt=0);var Ft=Ne+oe[_t];Tt>0&&(Ft+=St(te,ve,Tt),ve+=Tt),$e=St(te,ve,qe),_t=xe>>>1==1?Ut[$e]:Ht[$e],ve+=_t&15,_t>>>=4;var Et=_t<4?0:_t-2>>1,Lt=ye[_t];for(Et>0&&(Lt+=St(te,ve,Et),ve+=Et),!Ce&&je<Ft&&(we=_e(we,Ft+100),je=we.length);Ne<Ft;)we[Ne]=we[Ne-Lt],++Ne}}}return Ce?[we,ve+7>>>3]:[we.slice(0,Ne),ve+7>>>3]}function Rn(te,Ce){var ve=te.slice(te.l||0),xe=Gt(ve,Ce);return te.l+=xe[1],xe[0]}function Wt(te,Ce){if(te)typeof console<"u"&&console.error(Ce);else throw new Error(Ce)}function dn(te,Ce){var ve=te;fa(ve,0);var xe=[],we=[],Ne={FileIndex:xe,FullPaths:we};P(Ne,{root:Ce.root});for(var je=ve.length-4;(ve[je]!=80||ve[je+1]!=75||ve[je+2]!=5||ve[je+3]!=6)&&je>=0;)--je;ve.l=je+4,ve.l+=4;var rt=ve.read_shift(2);ve.l+=6;var qe=ve.read_shift(4);for(ve.l=qe,je=0;je<rt;++je){ve.l+=20;var Ve=ve.read_shift(4),$e=ve.read_shift(4),_t=ve.read_shift(2),Tt=ve.read_shift(2),Ft=ve.read_shift(2);ve.l+=8;var Et=ve.read_shift(4),Lt=o(ve.slice(ve.l+_t,ve.l+_t+Tt));ve.l+=_t+Tt+Ft;var Kt=ve.l;ve.l=Et+4,Kn(ve,Ve,$e,Ne,Lt),ve.l=Kt}return Ne}function Kn(te,Ce,ve,xe,we){te.l+=2;var Ne=te.read_shift(2),je=te.read_shift(2),rt=a(te);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var qe=te.read_shift(4),Ve=te.read_shift(4),$e=te.read_shift(4),_t=te.read_shift(2),Tt=te.read_shift(2),Ft="",Et=0;Et<_t;++Et)Ft+=String.fromCharCode(te[te.l++]);if(Tt){var Lt=o(te.slice(te.l,te.l+Tt));(Lt[21589]||{}).mt&&(rt=Lt[21589].mt),((we||{})[21589]||{}).mt&&(rt=we[21589].mt)}te.l+=Tt;var Kt=te.slice(te.l,te.l+Ve);switch(je){case 8:Kt=U(te,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+je)}var wr=!1;Ne&8&&(qe=te.read_shift(4),qe==134695760&&(qe=te.read_shift(4),wr=!0),Ve=te.read_shift(4),$e=te.read_shift(4)),Ve!=Ce&&Wt(wr,"Bad compressed size: "+Ce+" != "+Ve),$e!=ve&&Wt(wr,"Bad uncompressed size: "+ve+" != "+$e),ds(xe,Ft,Kt,{unsafe:!0,mt:rt})}function fn(te,Ce){var ve=Ce||{},xe=[],we=[],Ne=ot(1),je=ve.compression?8:0,rt=0,qe=0,Ve=0,$e=0,_t=0,Tt=te.FullPaths[0],Ft=Tt,Et=te.FileIndex[0],Lt=[],Kt=0;for(qe=1;qe<te.FullPaths.length;++qe)if(Ft=te.FullPaths[qe].slice(Tt.length),Et=te.FileIndex[qe],!(!Et.size||!Et.content||Ft=="Sh33tJ5")){var wr=$e,qn=ot(Ft.length);for(Ve=0;Ve<Ft.length;++Ve)qn.write_shift(1,Ft.charCodeAt(Ve)&127);qn=qn.slice(0,qn.l),Lt[_t]=hZ.buf(Et.content,0);var Tr=Et.content;je==8&&(Tr=z(Tr)),Ne=ot(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,rt),Ne.write_shift(2,je),Et.mt?s(Ne,Et.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Lt[_t]),Ne.write_shift(4,Tr.length),Ne.write_shift(4,Et.content.length),Ne.write_shift(2,qn.length),Ne.write_shift(2,0),$e+=Ne.length,xe.push(Ne),$e+=qn.length,xe.push(qn),$e+=Tr.length,xe.push(Tr),Ne=ot(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,rt),Ne.write_shift(2,je),Ne.write_shift(4,0),Ne.write_shift(-4,Lt[_t]),Ne.write_shift(4,Tr.length),Ne.write_shift(4,Et.content.length),Ne.write_shift(2,qn.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,wr),Kt+=Ne.l,we.push(Ne),Kt+=qn.length,we.push(qn),++_t}return Ne=ot(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,_t),Ne.write_shift(2,_t),Ne.write_shift(4,Kt),Ne.write_shift(4,$e),Ne.write_shift(2,0),Vs([Vs(xe),Vs(we),Ne])}var Xt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jn(te,Ce){if(te.ctype)return te.ctype;var ve=te.name||"",xe=ve.match(/\.([^\.]+)$/);return xe&&Xt[xe[1]]||Ce&&(xe=(ve=Ce).match(/[\.\\]([^\.\\])+$/),xe&&Xt[xe[1]])?Xt[xe[1]]:"application/octet-stream"}function za(te){for(var Ce=a2(te),ve=[],xe=0;xe<Ce.length;xe+=76)ve.push(Ce.slice(xe,xe+76));return ve.join(`\r
`)+`\r
`}function ts(te){var Ce=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var $e=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});Ce=Ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ce.charAt(0)==`
`&&(Ce="=0D"+Ce.slice(1)),Ce=Ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],xe=Ce.split(`\r
`),we=0;we<xe.length;++we){var Ne=xe[we];if(Ne.length==0){ve.push("");continue}for(var je=0;je<Ne.length;){var rt=76,qe=Ne.slice(je,je+rt);qe.charAt(rt-1)=="="?rt--:qe.charAt(rt-2)=="="?rt-=2:qe.charAt(rt-3)=="="&&(rt-=3),qe=Ne.slice(je,je+rt),je+=rt,je<Ne.length&&(qe+="="),ve.push(qe)}}return ve.join(`\r
`)}function fo(te){for(var Ce=[],ve=0;ve<te.length;++ve){for(var xe=te[ve];ve<=te.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+te[++ve];Ce.push(xe)}for(var we=0;we<Ce.length;++we)Ce[we]=Ce[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return wl(Ce.join(`\r
`))}function da(te,Ce,ve){for(var xe="",we="",Ne="",je,rt=0;rt<10;++rt){var qe=Ce[rt];if(!qe||qe.match(/^\s*$/))break;var Ve=qe.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":xe=Ve[2].trim();break;case"content-type":Ne=Ve[2].trim();break;case"content-transfer-encoding":we=Ve[2].trim();break}}switch(++rt,we.toLowerCase()){case"base64":je=wl(El(Ce.slice(rt).join("")));break;case"quoted-printable":je=fo(Ce.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var $e=ds(te,xe.slice(ve.length),je,{unsafe:!0});Ne&&($e.ctype=Ne)}function cn(te,Ce){if(me(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=Ce&&Ce.root||"",xe=(Vn&&Buffer.isBuffer(te)?te.toString("binary"):me(te)).split(`\r
`),we=0,Ne="";for(we=0;we<xe.length;++we)if(Ne=xe[we],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),ve||(ve=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),Ne.slice(0,ve.length)!=ve););var je=(xe[1]||"").match(/boundary="(.*?)"/);if(!je)throw new Error("MAD cannot find boundary");var rt="--"+(je[1]||""),qe=[],Ve=[],$e={FileIndex:qe,FullPaths:Ve};P($e);var _t,Tt=0;for(we=0;we<xe.length;++we){var Ft=xe[we];Ft!==rt&&Ft!==rt+"--"||(Tt++&&da($e,xe.slice(_t,we),ve),_t=we)}return $e}function jo(te,Ce){var ve=Ce||{},xe=ve.boundary||"SheetJS";xe="------="+xe;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Ne=te.FullPaths[0],je=Ne,rt=te.FileIndex[0],qe=1;qe<te.FullPaths.length;++qe)if(je=te.FullPaths[qe].slice(Ne.length),rt=te.FileIndex[qe],!(!rt.size||!rt.content||je=="Sh33tJ5")){je=je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Kt){return"_x"+Kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Kt){return"_u"+Kt.charCodeAt(0).toString(16)+"_"});for(var Ve=rt.content,$e=Vn&&Buffer.isBuffer(Ve)?Ve.toString("binary"):me(Ve),_t=0,Tt=Math.min(1024,$e.length),Ft=0,Et=0;Et<=Tt;++Et)(Ft=$e.charCodeAt(Et))>=32&&Ft<128&&++_t;var Lt=_t>=Tt*4/5;we.push(xe),we.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+je),we.push("Content-Transfer-Encoding: "+(Lt?"quoted-printable":"base64")),we.push("Content-Type: "+Jn(rt,je)),we.push(""),we.push(Lt?ts($e):za($e))}return we.push(xe+`--\r
`),we.join(`\r
`)}function ho(te){var Ce={};return P(Ce,te),Ce}function ds(te,Ce,ve,xe){var we=xe&&xe.unsafe;we||P(te);var Ne=!we&&mn.find(te,Ce);if(!Ne){var je=te.FullPaths[0];Ce.slice(0,je.length)==je?je=Ce:(je.slice(-1)!="/"&&(je+="/"),je=(je+Ce).replace("//","/")),Ne={name:i(Ce),type:2},te.FileIndex.push(Ne),te.FullPaths.push(je),we||mn.utils.cfb_gc(te)}return Ne.content=ve,Ne.size=ve?ve.length:0,xe&&(xe.CLSID&&(Ne.clsid=xe.CLSID),xe.mt&&(Ne.mt=xe.mt),xe.ct&&(Ne.ct=xe.ct)),Ne}function Xs(te,Ce){P(te);var ve=mn.find(te,Ce);if(ve){for(var xe=0;xe<te.FileIndex.length;++xe)if(te.FileIndex[xe]==ve)return te.FileIndex.splice(xe,1),te.FullPaths.splice(xe,1),!0}return!1}function Pr(te,Ce,ve){P(te);var xe=mn.find(te,Ce);if(xe){for(var we=0;we<te.FileIndex.length;++we)if(te.FileIndex[we]==xe)return te.FileIndex[we].name=i(ve),te.FullPaths[we]=ve,!0}return!1}function ci(te){O(te,!0)}return e.find=B,e.read=G,e.parse=h,e.write=Oe,e.writeFile=Te,e.utils={cfb_new:ho,cfb_add:ds,cfb_del:Xs,cfb_mov:Pr,cfb_gc:ci,ReadShift:jx,CheckField:aP,prep_blob:fa,bconcat:Vs,use_zlib:I,_deflateRaw:Pe,_inflateRaw:Rn,consts:ce},e})();function dZ(n){return typeof n=="string"?C5(n):Array.isArray(n)?UJ(n):n}function Xy(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=C5(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?of(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([dZ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(n);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=g0(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function pZ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function Hi(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function RR(n,e){for(var t=[],r=Hi(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function N5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function R5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function gZ(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var D_=new Date(1899,11,30,0,0,0);function Rs(n,e){var t=n.getTime(),r=D_.getTime()+(n.getTimezoneOffset()-D_.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var UF=new Date,mZ=D_.getTime()+(UF.getTimezoneOffset()-D_.getTimezoneOffset())*6e4,LR=UF.getTimezoneOffset();function L5(n){var e=new Date;return e.setTime(n*24*60*60*1e3+mZ),e.getTimezoneOffset()!==LR&&e.setTime(e.getTime()+(e.getTimezoneOffset()-LR)*6e4),e}function vZ(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var IR=new Date("2017-02-19T19:06:09.000Z"),HF=isNaN(IR.getFullYear())?new Date("2/19/17"):IR,xZ=HF.getFullYear()==2017;function oi(n,e){var t=new Date(n);if(xZ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(HF.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function vg(n,e){if(Vn&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return of(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return of(CF(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return of(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return of(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function li(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=li(n[t]));return e}function Bi(n,e){for(var t="";t.length<e;)t+=n;return t}function ou(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var yZ=["january","february","march","april","may","june","july","august","september","october","november","december"];function dv(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&yZ.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var bZ=(function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var s=t.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function zF(n){return n?n.content&&n.type?vg(n.content,!0):n.data?Mx(n.data):n.asNodeBuffer&&Vn?Mx(n.asNodeBuffer().toString("binary")):n.asBinary?Mx(n.asBinary()):n._data&&n._data.getContent?Mx(vg(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function jF(n){if(!n)return null;if(n.data)return bR(n.data);if(n.asNodeBuffer&&Vn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?bR(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function wZ(n){return n&&n.name.slice(-4)===".bin"?jF(n):zF(n)}function $l(n,e){for(var t=n.FullPaths||Hi(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return n.files?n.files[t[s]]:n.FileIndex[s]}return null}function q4(n,e){var t=$l(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function cs(n,e,t){if(!t)return wZ(q4(n,e));if(!e)return null;try{return cs(n,e)}catch{return null}}function _l(n,e,t){if(!t)return zF(q4(n,e));if(!e)return null;try{return _l(n,e)}catch{return null}}function _Z(n,e,t){return jF(q4(n,e))}function MR(n){for(var e=n.FullPaths||Hi(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function Un(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Vn?r=Dh(t):r=HJ(t),mn.utils.cfb_add(n,e,r)}mn.utils.cfb_add(n,e,t)}else n.file(e,t)}function V4(){return mn.utils.cfb_new()}function GF(n,e){switch(e.type){case"base64":return mn.read(n,{type:"base64"});case"binary":return mn.read(n,{type:"binary"});case"buffer":case"array":return mn.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Fx(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,SZ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,DR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,AZ=/<[^>]*>/g,Ha=es.match(DR)?DR:AZ,EZ=/<\w*:/,TZ=/<(\/?)\w+:/;function An(n,e,t){for(var r={},i=0,s=0;i!==n.length&&!((s=n.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var a=n.match(SZ),o=0,c="",u=0,h="",p="",g=1;if(a)for(u=0;u!=a.length;++u){for(p=a[u],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(h=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(g=(i=p.charCodeAt(s+1))==34||i==39?1:0,c=p.slice(s+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=c,r[h.toLowerCase()]=c;else{var m=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(r[m]&&h.slice(o-3,o)=="ext")continue;r[m]=c,r[m.toLowerCase()]=c}}return r}function ff(n){return n.replace(TZ,"<$1")}var qF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},W4=N5(qF),dr=(function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(n,function(o,c){return qF[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}})(),$4=/[&<>'"]/g,CZ=/[\u0000-\u0008\u000b-\u001f]/g;function Fr(n){var e=n+"";return e.replace($4,function(t){return W4[t]}).replace(CZ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function FR(n){return Fr(n).replace(/ /g,"_x0020_")}var VF=/[\u0000-\u001f]/g;function X4(n){var e=n+"";return e.replace($4,function(t){return W4[t]}).replace(/\n/g,"<br/>").replace(VF,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function kZ(n){var e=n+"";return e.replace($4,function(t){return W4[t]}).replace(VF,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var PR=(function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}})();function NZ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function si(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function FA(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function OR(n){var e=l0(2*n.length),t,r,i=1,s=0,a=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function BR(n){return Dh(n,"binary").toString("utf8")}var dw="foo bar baz",qr=Vn&&(BR(dw)==FA(dw)&&BR||OR(dw)==FA(dw)&&OR)||FA,of=Vn?function(n){return Dh(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},l2=(function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}})(),WF=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),RZ=(function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),LZ=/<\/?(?:vt:)?variant>/g,IZ=/<(?:vt:)([^>]*)>([\s\S]*)</;function UR(n,e){var t=An(n),r=n.match(RZ(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(s){var a=s.replace(LZ,"").match(IZ);a&&i.push({v:qr(a[2]),t:a[1]})}),i}var $F=/(^\s|\s$|\n)/;function ha(n,e){return"<"+n+(e.match($F)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function c2(n){return Hi(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Rt(n,e,t){return"<"+n+(t!=null?c2(t):"")+(e!=null?(e.match($F)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function WT(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function MZ(n,e){switch(typeof n){case"string":var t=Rt("vt:lpwstr",Fr(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Rt((n|0)==n?"vt:i4":"vt:r8",Fr(String(n)));case"boolean":return Rt("vt:bool",n?"true":"false")}if(n instanceof Date)return Rt("vt:filetime",WT(n));throw new Error("Unable to serialize "+n)}function Y4(n){if(Vn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return qr(g0(z4(n)));throw new Error("Bad input format: expected Buffer or string")}var u2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ks={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Cg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],vl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function DZ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function FZ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)n[t+o]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var HR=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},zR=Vn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Dh(e)})):HR(n)}:HR,jR=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(yh(n,i)));return r.join("").replace(oo,"")},K4=Vn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(oo,""):jR(n,e,t)}:jR,GR=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},XF=Vn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):GR(n,e,t)}:GR,qR=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Bm(n,i)));return r.join("")},Yy=Vn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):qR(e,t,r)}:qR,YF=function(n,e){var t=xl(n,e);return t>0?Yy(n,e+4,e+4+t-1):""},KF=YF,JF=function(n,e){var t=xl(n,e);return t>0?Yy(n,e+4,e+4+t-1):""},ZF=JF,QF=function(n,e){var t=2*xl(n,e);return t>0?Yy(n,e+4,e+4+t-1):""},eP=QF,tP=function(e,t){var r=xl(e,t);return r>0?K4(e,t+4,t+4+r):""},nP=tP,rP=function(n,e){var t=xl(n,e);return t>0?Yy(n,e+4,e+4+t):""},iP=rP,sP=function(n,e){return DZ(n,e)},F_=sP,J4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Vn&&(KF=function(e,t){if(!Buffer.isBuffer(e))return YF(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ZF=function(e,t){if(!Buffer.isBuffer(e))return JF(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},eP=function(e,t){if(!Buffer.isBuffer(e))return QF(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},nP=function(e,t){if(!Buffer.isBuffer(e))return tP(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},iP=function(e,t){if(!Buffer.isBuffer(e))return rP(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},F_=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):sP(e,t)},J4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Bm=function(n,e){return n[e]},yh=function(n,e){return n[e+1]*256+n[e]},PZ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},xl=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Z0=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},OZ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function jx(n,e){var t="",r,i,s=[],a,o,c,u;switch(e){case"dbcs":if(u=this.l,Vn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(yh(this,u)),u+=2;n*=2;break;case"utf8":t=Yy(this,this.l,this.l+n);break;case"utf16le":n*=2,t=K4(this,this.l,this.l+n);break;case"wstr":return jx.call(this,n,"dbcs");case"lpstr-ansi":t=KF(this,this.l),n=4+xl(this,this.l);break;case"lpstr-cp":t=ZF(this,this.l),n=4+xl(this,this.l);break;case"lpwstr":t=eP(this,this.l),n=4+2*xl(this,this.l);break;case"lpp4":n=4+xl(this,this.l),t=nP(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+xl(this,this.l),t=iP(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=Bm(this,this.l+n++))!==0;)s.push(hw(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=yh(this,this.l+n))!==0;)s.push(hw(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Bm(this,u),this.l=u+1,o=jx.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(hw(yh(this,u))),u+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Bm(this,u),this.l=u+1,o=jx.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(hw(Bm(this,u))),u+=1}t=s.join("");break;default:switch(n){case 1:return r=Bm(this,this.l),this.l++,r;case 2:return r=(e==="i"?PZ:yh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Z0:OZ)(this,this.l),this.l+=4,r):(i=xl(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=F_(this,this.l):i=F_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=XF(this,this.l,n);break}}return this.l+=n,t}var BZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},UZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},HZ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function zZ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)HZ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,BZ(this,e,this.l);break;case 8:if(r=8,t==="f"){FZ(this,e,this.l);break}case 16:break;case-4:r=4,UZ(this,e,this.l);break}return this.l+=r,this}function aP(n,e){var t=XF(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function fa(n,e){n.l=e,n.read_shift=jx,n.chk=aP,n.write_shift=zZ}function Ua(n,e){n.l+=e}function ot(n){var e=l0(n);return fa(e,0),e}function Fh(n,e,t){if(n){var r,i,s;fa(n,n.l||0);for(var a=n.length,o=0,c=0;n.l<a;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var u=m2[o]||m2[65535];for(r=n.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=n.read_shift(1))&127)<<7*i;c=n.l+s;var h=u.f&&u.f(n,s,t);if(n.l=c,e(h,u,o))return}}}function Uo(){var n=[],e=Vn?256:2048,t=function(u){var h=ot(u);return fa(h,0),h},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},a=function(){return i(),Vs(n)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:n}}function bt(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=m2[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=n.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&J4(t)&&n.push(t)}}function Gx(n,e,t){var r=li(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function VR(n,e,t){var r=li(n);return r.s=Gx(r.s,e.s,t),r.e=Gx(r.e,e.s,t),r}function qx(n,e){if(n.cRel&&n.c<0)for(n=li(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=li(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Sn(n);return!n.cRel&&n.cRel!=null&&(t=qZ(t)),!n.rRel&&n.rRel!=null&&(t=jZ(t)),t}function PA(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ti(n.s.c)+":"+(n.e.cRel?"":"$")+Ti(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Zi(n.s.r)+":"+(n.e.rRel?"":"$")+Zi(n.e.r):qx(n.s,e.biff)+":"+qx(n.e,e.biff)}function Z4(n){return parseInt(GZ(n),10)-1}function Zi(n){return""+(n+1)}function jZ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function GZ(n){return n.replace(/\$(\d+)$/,"$1")}function Q4(n){for(var e=VZ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ti(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function qZ(n){return n.replace(/^([A-Z])/,"$$$1")}function VZ(n){return n.replace(/^\$([A-Z])/,"$1")}function WZ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ci(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Sn(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Ho(n){var e=n.indexOf(":");return e==-1?{s:Ci(n),e:Ci(n)}:{s:Ci(n.slice(0,e)),e:Ci(n.slice(e+1))}}function On(n,e){return typeof e>"u"||typeof e=="number"?On(n.s,n.e):(typeof n!="string"&&(n=Sn(n)),typeof e!="string"&&(e=Sn(e)),n==e?n:n+":"+e)}function gr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function WR(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=cc(n.z,t?Rs(e):e)}catch{}try{return n.w=cc((n.XF||{}).numFmtId||(t?14:0),t?Rs(e):e)}catch{return""+e}}function kh(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Ph[n.v]||n.v:e==null?WR(n,n.v):WR(n,e))}function m0(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function oP(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=gr(s["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),a==-1&&(u.e.r=a=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},b=a+p,w=o+g;if(u.s.r>b&&(u.s.r=b),u.s.c>w&&(u.s.c=w),u.e.r<b&&(u.e.r=b),u.e.c<w&&(u.e.c=w),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||_n[14],r.cellDates?(m.t="d",m.w=cc(m.z,Rs(m.v))):(m.t="n",m.v=Rs(m.v),m.w=cc(m.z,m.v))):m.t="s";if(i)s[b]||(s[b]=[]),s[b][w]&&s[b][w].z&&(m.z=s[b][w].z),s[b][w]=m;else{var _=Sn({c:w,r:b});s[_]&&s[_].z&&(m.z=s[_].z),s[_]=m}}}return u.s.c<1e7&&(s["!ref"]=On(u)),s}function _v(n,e){return oP(null,n,e)}function $Z(n){return n.read_shift(4,"i")}function lu(n,e){return e||(e=ot(4)),e.write_shift(4,n),e}function Ba(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Ws(n,e){var t=!1;return e==null&&(t=!0,e=ot(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function XZ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function YZ(n,e){return e||(e=ot(4)),e.write_shift(2,0),e.write_shift(2,0),e}function eC(n,e){var t=n.l,r=n.read_shift(1),i=Ba(n),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=n.read_shift(4),c=0;c!=o;++c)s.push(XZ(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}function KZ(n,e){var t=!1;return e==null&&(t=!0,e=ot(15+4*n.t.length)),e.write_shift(1,0),Ws(n.t,e),t?e.slice(0,e.l):e}var JZ=eC;function ZZ(n,e){var t=!1;return e==null&&(t=!0,e=ot(23+4*n.t.length)),e.write_shift(1,1),Ws(n.t,e),e.write_shift(4,1),YZ({},e),t?e.slice(0,e.l):e}function uc(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function kg(n,e){return e==null&&(e=ot(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Ng(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Rg(n,e){return e==null&&(e=ot(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var QZ=Ba,lP=Ws;function tC(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function P_(n,e){var t=!1;return e==null&&(t=!0,e=ot(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var eQ=Ba,$T=tC,nC=P_;function rC(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?F_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Z0(e,0)>>2;return t?i/100:i}function cP(n,e){e==null&&(e=ot(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function uP(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function tQ(n,e){return e||(e=ot(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Lg=uP,Sv=tQ;function Pa(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function xg(n,e){return(e||ot(8)).write_shift(8,n,"f")}function nQ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),o=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=og[i];u&&(e.rgb=h2(u));break;case 2:e.rgb=h2([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function O_(n,e){if(e||(e=ot(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function rQ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function iQ(n,e){e||(e=ot(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function fP(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function sQ(n){return fP(n,1)}function aQ(n){return fP(n,2)}var iC=2,Bo=3,pw=11,$R=12,B_=19,gw=64,oQ=65,lQ=71,cQ=4108,uQ=4126,Gs=80,hP=81,fQ=[Gs,hP],XT={1:{n:"CodePage",t:iC},2:{n:"Category",t:Gs},3:{n:"PresentationFormat",t:Gs},4:{n:"ByteCount",t:Bo},5:{n:"LineCount",t:Bo},6:{n:"ParagraphCount",t:Bo},7:{n:"SlideCount",t:Bo},8:{n:"NoteCount",t:Bo},9:{n:"HiddenCount",t:Bo},10:{n:"MultimediaClipCount",t:Bo},11:{n:"ScaleCrop",t:pw},12:{n:"HeadingPairs",t:cQ},13:{n:"TitlesOfParts",t:uQ},14:{n:"Manager",t:Gs},15:{n:"Company",t:Gs},16:{n:"LinksUpToDate",t:pw},17:{n:"CharacterCount",t:Bo},19:{n:"SharedDoc",t:pw},22:{n:"HyperlinksChanged",t:pw},23:{n:"AppVersion",t:Bo,p:"version"},24:{n:"DigSig",t:oQ},26:{n:"ContentType",t:Gs},27:{n:"ContentStatus",t:Gs},28:{n:"Language",t:Gs},29:{n:"Version",t:Gs},255:{},2147483648:{n:"Locale",t:B_},2147483651:{n:"Behavior",t:B_},1919054434:{}},YT={1:{n:"CodePage",t:iC},2:{n:"Title",t:Gs},3:{n:"Subject",t:Gs},4:{n:"Author",t:Gs},5:{n:"Keywords",t:Gs},6:{n:"Comments",t:Gs},7:{n:"Template",t:Gs},8:{n:"LastAuthor",t:Gs},9:{n:"RevNumber",t:Gs},10:{n:"EditTime",t:gw},11:{n:"LastPrinted",t:gw},12:{n:"CreatedDate",t:gw},13:{n:"ModifiedDate",t:gw},14:{n:"PageCount",t:Bo},15:{n:"WordCount",t:Bo},16:{n:"CharCount",t:Bo},17:{n:"Thumbnail",t:lQ},18:{n:"Application",t:Gs},19:{n:"DocSecurity",t:Bo},255:{},2147483648:{n:"Locale",t:B_},2147483651:{n:"Behavior",t:B_},1919054434:{}},XR={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},hQ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dQ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var pQ=dQ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),og=li(pQ),Ph={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},KT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},mw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function sC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function gQ(n){var e=sC();if(!n||!n.match)return e;var t={};if((n.match(Ha)||[]).forEach(function(r){var i=An(r);switch(i[0].replace(EZ,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[KT[i.ContentType]]!==void 0&&e[KT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ks.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function pP(n,e){var t=gZ(KT),r=[],i;r[r.length]=es,r[r.length]=Rt("Types",null,{xmlns:ks.CT,"xmlns:xsd":ks.xsd,"xmlns:xsi":ks.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Rt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){n[c]&&n[c].length>0&&(i=n[c][0],r[r.length]=Rt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:mw[c][e.bookType]||mw[c].xlsx}))},a=function(c){(n[c]||[]).forEach(function(u){r[r.length]=Rt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:mw[c][e.bookType]||mw[c].xlsx})})},o=function(c){(n[c]||[]).forEach(function(u){r[r.length]=Rt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Xn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function f2(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Vx(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Ha)||[]).forEach(function(i){var s=An(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Fx(s.Target,e);t[o]=a,r[s.Id]=a}}),t["!id"]=r,t}function n1(n){var e=[es,Rt("Relationships",null,{xmlns:ks.RELS})];return Hi(n["!id"]).forEach(function(t){e[e.length]=Rt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Mr(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Xn.HLINK,Xn.XPATH,Xn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}var mQ="application/vnd.oasis.opendocument.spreadsheet";function vQ(n,e){for(var t=Y4(n),r,i;r=u2.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=An(r[0],!1),i.path=="/"&&i.type!==mQ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function xQ(n){var e=[es];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function YR(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function yQ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function bQ(n){var e=[es];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(YR(n[t][0],n[t][1])),e.push(yQ("",n[t][0]));return e.push(YR("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function gP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+R_.version+"</meta:generator></office:meta></office:document-meta>"}var sc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wQ=(function(){for(var n=new Array(sc.length),e=0;e<sc.length;++e){var t=sc[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n})();function mP(n){var e={};n=qr(n);for(var t=0;t<sc.length;++t){var r=sc[t],i=n.match(wQ[t]);i!=null&&i.length>0&&(e[r[1]]=dr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=oi(e[r[1]]))}return e}function OA(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Fr(e),r[r.length]=t?Rt(n,e,t):ha(n,e))}function vP(n,e){var t=e||{},r=[es,Rt("cp:coreProperties",null,{"xmlns:cp":ks.CORE_PROPS,"xmlns:dc":ks.dc,"xmlns:dcterms":ks.dcterms,"xmlns:dcmitype":ks.dcmitype,"xmlns:xsi":ks.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&OA("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:WT(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&OA("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:WT(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=sc.length;++s){var a=sc[s],o=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:n?n[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&OA(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var lg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],xP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yP(n,e,t,r){var i=[];if(typeof n=="string")i=UR(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(h){return{v:h}}));var a=typeof e=="string"?UR(e,r).map(function(h){return h.v}):e,o=0,c=0;if(a.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=c,t.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=a.slice(o,o+c);break}o+=c}}function _Q(n,e,t){var r={};return e||(e={}),n=qr(n),lg.forEach(function(i){var s=(n.match(l2(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=dr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&yP(r.HeadingPairs,r.TitlesOfParts,e,t),e}function bP(n){var e=[],t=Rt;return n||(n={}),n.Application="SheetJS",e[e.length]=es,e[e.length]=Rt("Properties",null,{xmlns:ks.EXT_PROPS,"xmlns:vt":ks.vt}),lg.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Fr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Fr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var SQ=/<[^>]+>[^<]*/g;function AQ(n,e){var t={},r="",i=n.match(SQ);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=An(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=dr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),u=c[0].slice(4),h=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[r]=dr(h);break;case"bool":t[r]=si(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(h);break;case"filetime":case"date":t[r]=oi(h);break;case"cy":case"error":t[r]=dr(h);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}function wP(n){var e=[es,Rt("Properties",null,{xmlns:ks.CUST_PROPS,"xmlns:vt":ks.vt})];if(!n)return e.join("");var t=1;return Hi(n).forEach(function(i){++t,e[e.length]=Rt("property",MZ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Fr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var JT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},BA;function EQ(n,e,t){BA||(BA=N5(JT)),e=BA[e]||e,n[e]=t}function TQ(n,e){var t=[];return Hi(JT).map(function(r){for(var i=0;i<sc.length;++i)if(sc[i][1]==r)return sc[i];for(i=0;i<lg.length;++i)if(lg[i][1]==r)return lg[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(ha(JT[r[1]]||r[1],i))}}),Rt("DocumentProperties",t.join(""),{xmlns:vl.o})}function CQ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Hi(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<sc.length;++a)if(s==sc[a][1])return;for(a=0;a<lg.length;++a)if(s==lg[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var o=n[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(Rt(FR(s),o,{"dt:dt":c}))}}),e&&Hi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Rt(FR(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+vl.o+'">'+i.join("")+"</"+r+">"}function aC(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function kQ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=ot(8);return a.write_shift(4,r),a.write_shift(4,i),a}function _P(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function SP(n,e,t){var r=n.read_shift(0,"lpwstr");return r}function AP(n,e,t){return e===31?SP(n):_P(n,e,t)}function ZT(n,e,t){return AP(n,e,t===!1?0:4)}function NQ(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return AP(n,e,0)}function RQ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(oo,""),n.l-i&2&&(n.l+=2)}return t}function LQ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(oo,"");return t}function IQ(n){var e=n.l,t=U_(n,hP);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=U_(n,Bo);return[t,r]}function MQ(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(IQ(n));return t}function KR(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var s=n.read_shift(4),a=n.read_shift(4);r[s]=n.read_shift(a,e===1200?"utf16le":"utf8").replace(oo,"").replace(Dx,"!"),e===1200&&a%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function EP(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function DQ(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function U_(n,e,t){var r=n.read_shift(2),i,s=t||{};if(n.l+=2,e!==$R&&r!==e&&fQ.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===$R?r:e){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return _P(n,r,4).replace(oo,"");case 31:return SP(n);case 64:return aC(n);case 65:return EP(n);case 71:return DQ(n);case 80:return ZT(n,r,!s.raw).replace(oo,"");case 81:return NQ(n,r).replace(oo,"");case 4108:return MQ(n);case 4126:case 4127:return r==4127?RQ(n):LQ(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function JR(n,e){var t=ot(4),r=ot(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=ot(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=kQ(e);break;case 31:case 80:for(r=ot(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Vs([t,r])}function ZR(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0,o=0,c=-1,u={};for(a=0;a!=i;++a){var h=n.read_shift(4),p=n.read_shift(4);s[a]=[h,p+t]}s.sort(function(L,R){return L[1]-R[1]});var g={};for(a=0;a!=i;++a){if(n.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:n.l+2===s[a][1]&&(n.l+=2,m=!1);break;case 80:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break;case 4108:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break}if((!e||a==0)&&n.l<=s[a][1]&&(m=!1,n.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+n.l+" :"+a)}if(e){var b=e[s[a][0]];if(g[b.n]=U_(n,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:tu(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(s[a][0]===1){if(o=g.CodePage=U_(n,iC),tu(o),c!==-1){var w=n.l;n.l=s[c][1],u=KR(n,o),n.l=w}}else if(s[a][0]===0){if(o===0){c=a,n.l=s[a+1][1];continue}u=KR(n,o)}else{var _=u[s[a][0]],T;switch(n[n.l]){case 65:n.l+=4,T=EP(n);break;case 30:n.l+=4,T=ZT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,T=ZT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,T=n.read_shift(4,"i");break;case 19:n.l+=4,T=n.read_shift(4);break;case 5:n.l+=4,T=n.read_shift(8,"f");break;case 11:n.l+=4,T=Wi(n,4);break;case 64:n.l+=4,T=oi(aC(n));break;default:throw new Error("unparsed value: "+n[n.l])}g[_]=T}}return n.l=t+r,g}var TP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function FQ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function QR(n,e,t){var r=ot(8),i=[],s=[],a=8,o=0,c=ot(8),u=ot(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),i.push(u),a+=8+c.length,!e){u=ot(8),u.write_shift(4,0),i.unshift(u);var h=[ot(4)];for(h[0].write_shift(4,n.length),o=0;o<n.length;++o){var p=n[o][0];for(c=ot(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Vs(h),s.unshift(c),a+=8+c.length}for(o=0;o<n.length;++o)if(!(e&&!e[n[o][0]])&&!(TP.indexOf(n[o][0])>-1||xP.indexOf(n[o][0])>-1)&&n[o][1]!=null){var g=n[o][1],m=0;if(e){m=+e[n[o][0]];var b=t[m];if(b.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}c=JR(b.t,g)}else{var _=FQ(g);_==-1&&(_=31,g=String(g)),c=JR(_,g)}s.push(c),u=ot(8),u.write_shift(4,e?m:2+o),i.push(u),a+=8+c.length}var T=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,T),T+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Vs([r].concat(i).concat(s))}function eL(n,e,t){var r=n.content;if(!r)return{};fa(r,0);var i,s,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),h=r.read_shift(16);if(h!==mn.utils.consts.HEADER_CLSID&&h!==t)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),c=r.read_shift(4));var p=ZR(r,e),g={SystemIdentifier:u};for(var m in p)g[m]=p[m];if(g.FMTID=s,i===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var b;try{b=ZR(r,null)}catch{}for(m in b)g[m]=b[m];return g.FMTID=[s,a],g}function tL(n,e,t,r,i,s){var a=ot(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,mn.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var c=QR(n,t,r);if(o.push(c),i){var u=QR(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),o.push(u)}return Vs(o)}function yd(n,e){return n.read_shift(e),null}function PQ(n,e){e||(e=ot(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function OQ(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Wi(n,e){return n.read_shift(e)===1}function io(n,e){return e||(e=ot(2)),e.write_shift(2,+!!n),e}function us(n){return n.read_shift(2,"u")}function tc(n,e){return e||(e=ot(2)),e.write_shift(2,n),e}function CP(n,e){return OQ(n,e,us)}function BQ(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function kP(n,e,t){return t||(t=ot(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function Ky(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return a}function UQ(n){var e=n.read_shift(2),t=n.read_shift(1),r=t&4,i=t&8,s=1+(t&1),a=0,o,c={};i&&(a=n.read_shift(2)),r&&(o=n.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":n.read_shift(e,u);return i&&(n.l+=4*a),r&&(n.l+=o),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function HQ(n){var e=n.t||"",t=ot(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=ot(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Vs(i)}function yg(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Jy(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):yg(n,r,t)}function Ig(n,e,t){if(t.biff>5)return Jy(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function NP(n,e,t){return t||(t=ot(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function zQ(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function jQ(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(oo,"");return r&&(n.l+=24),i}function GQ(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var s=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=n.read_shift(s>>1,"utf16le").replace(oo,"");return t+a}function qQ(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return jQ(n);case"0303000000000000c000000000000046":return GQ(n);default:throw new Error("Unsupported Moniker "+t)}}function vw(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(oo,""):"";return t}function nL(n,e){e||(e=ot(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function VQ(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,a,o,c,u="",h,p;i&16&&(s=vw(n,t-n.l)),i&128&&(a=vw(n,t-n.l)),(i&257)===257&&(o=vw(n,t-n.l)),(i&257)===1&&(c=qQ(n,t-n.l)),i&8&&(u=vw(n,t-n.l)),i&32&&(h=n.read_shift(16)),i&64&&(p=aC(n)),n.l=t;var g=a||o||c||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return h&&(m.guid=h),p&&(m.time=p),s&&(m.Tooltip=s),m}function WQ(n){var e=ot(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)r=r.slice(1),nL(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),s&8&&nL(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),t=0;t<r.length-3*c;++t)e.write_shift(1,r.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function RP(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function LP(n,e){var t=RP(n);return t[3]=0,t}function hf(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function bg(n,e,t,r){return r||(r=ot(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function $Q(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function XQ(n,e,t){return e===0?"":Ig(n,e,t)}function YQ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[i,s,a]}function IP(n){var e=n.read_shift(2),t=rC(n);return[e,t]}function KQ(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=Ky(n,e,t),s=n.read_shift(2);if(r-=n.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}function I5(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function MP(n,e){return e||(e=ot(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function DP(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var JQ=DP;function FP(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function ZQ(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function QQ(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function _a(n){n.l+=2,n.l+=n.read_shift(2)}var eee={0:_a,4:_a,5:_a,6:_a,7:QQ,8:_a,9:_a,10:_a,11:_a,12:_a,13:ZQ,14:_a,15:_a,16:_a,17:_a,18:_a,19:_a,20:_a,21:FP};function tee(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(eee[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function xw(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function oC(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ot(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function nee(n,e){return e===0||n.read_shift(2),1200}function ree(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=Ig(n,0,t);return n.read_shift(e+r-n.l),i}function iee(n,e){var t=!e||e.biff==8,r=ot(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function see(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function aee(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Ky(n,0,t);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function oee(n,e){var t=!e||e.biff>=8?2:1,r=ot(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function lee(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0;a!=i&&n.l<t;++a)s.push(UQ(n));return s.Count=r,s.Unique=i,s}function cee(n,e){var t=ot(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=HQ(n[i]);var s=Vs([t].concat(r));return s.parts=[t.length].concat(r.map(function(a){return a.length})),s}function uee(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function fee(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function hee(n){var e=$Q(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function dee(n){return n.read_shift(2),n.read_shift(4)}function rL(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function pee(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),c=n.read_shift(2),u=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:u}}function gee(){var n=ot(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function mee(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function vee(n){var e=ot(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function xee(){}function yee(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=Ky(n,0,t),r}function bee(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=ot(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function wee(n){var e=hf(n);return e.isst=n.read_shift(4),e}function _ee(n,e,t,r){var i=ot(10);return bg(n,e,r,i),i.write_shift(4,t),i}function See(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=hf(n);t.biff==2&&n.l++;var s=Jy(n,r-n.l,t);return i.val=s,i}function Aee(n,e,t,r,i){var s=!i||i.biff==8,a=ot(8+ +s+(1+s)*t.length);return bg(n,e,r,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function Eee(n,e,t){var r=n.read_shift(2),i=Ig(n,0,t);return[r,i]}function Tee(n,e,t,r){var i=t&&t.biff==5;r||(r=ot(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var Cee=Ig;function iL(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,s=n.read_shift(i),a=n.read_shift(i),o=n.read_shift(2),c=n.read_shift(2);return n.l=r,{s:{r:s,c:o},e:{r:a,c}}}function kee(n,e){var t=e.biff==8||!e.biff?4:2,r=ot(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function Nee(n){var e=n.read_shift(2),t=n.read_shift(2),r=IP(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function Ree(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(IP(n));if(n.l!==t)throw new Error("MulRK read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function Lee(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function Iee(n,e,t,r){var i={},s=n.read_shift(4),a=n.read_shift(4),o=n.read_shift(4),c=n.read_shift(2);return i.patternType=hQ[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function Mee(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=Iee(n,e,r.fStyle,t),r}function sL(n,e,t,r){var i=t&&t.biff==5;r||(r=ot(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Dee(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Fee(n){var e=ot(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function aL(n,e,t){var r=hf(n);(t.biff==2||e==9)&&++n.l;var i=BQ(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function Pee(n,e,t,r,i,s){var a=ot(8);return bg(n,e,r,a),kP(t,s,a),a}function Oee(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=hf(n),i=Pa(n);return r.val=i,r}function Bee(n,e,t,r){var i=ot(14);return bg(n,e,r,i),xg(t,i),i}var oL=XQ;function Uee(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=yg(n,s),o=[];r>n.l;)o.push(Jy(n));return[s,i,a,o]}function lL(n,e,t){var r=n.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=KQ(n,e-2,t)),s.body=i||n.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Hee=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function cL(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(1),a=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),c=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var u=yg(n,a,t);i&32&&(u=Hee[u.charCodeAt(0)]);var h=r-n.l;t&&t.biff==2&&--h;var p=r==n.l||o===0||!(h>0)?[]:tse(n,h,t,o);return{chKey:s,Name:u,itab:c,rgce:p}}function PP(n,e,t){if(t.biff<8)return zee(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(YQ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function zee(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=Ky(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function jee(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),s=yg(n,r,t),a=yg(n,i,t);return[s,a]}function Gee(n,e,t){var r=DP(n);n.l++;var i=n.read_shift(1);return e-=8,[nse(n,e,t),i,r]}function uL(n,e,t){var r=JQ(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,Qie(n,e,t)]}function qee(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function Vee(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=Ig(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},o,a,s]}}function Wee(n,e,t){return Vee(n,e,t)}function $ee(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(I5(n));return t}function Xee(n){var e=ot(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)MP(n[t],e);return e}function Yee(n,e,t){if(t&&t.biff<8)return Jee(n,e,t);var r=FP(n),i=tee(n,e-22,r[1]);return{cmo:r,ft:i}}var Kee={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function Jee(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var a=[];return a.push((Kee[r]||Ua)(n,e,t)),{cmo:[i,r,s],ft:a}}function Zee(n,e,t){var r=n.l,i="";try{n.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?n.l+=6:a=zQ(n,6,t);var o=n.read_shift(2);n.read_shift(2),us(n,2);var c=n.read_shift(2);n.l+=c;for(var u=1;u<n.lens.length-1;++u){if(n.l-r!=n.lens[u])throw new Error("TxO: bad continue record");var h=n[n.l],p=yg(n,n.lens[u+1]-n.lens[u]-1);if(i+=p,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function Qee(n,e){var t=I5(n);n.l+=16;var r=VQ(n,e-24);return[t,r]}function ete(n){var e=ot(24),t=Ci(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Vs([e,WQ(n[1])])}function tte(n,e){n.read_shift(2);var t=I5(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(oo,""),[t,r]}function nte(n){var e=n[1].Tooltip,t=ot(10+2*(e.length+1));t.write_shift(2,2048);var r=Ci(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function rte(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=XR[t]||t,t=n.read_shift(2),e[1]=XR[t]||t,e}function ite(n){return n||(n=ot(4)),n.write_shift(2,1),n.write_shift(2,1),n}function ste(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(LP(n));return t}function ate(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(LP(n));return t}function ote(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function OP(n,e,t){if(!t.cellStyles)return Ua(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),a=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function lte(n,e){var t=ot(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function cte(n,e){var t={};return e<32||(n.l+=16,t.header=Pa(n),t.footer=Pa(n),n.l+=2),t}function ute(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}function fte(n){for(var e=ot(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}var hte=hf,dte=CP,pte=Jy;function gte(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function mte(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=hf(n);++n.l;var i=Ig(n,e-7,t);return r.t="str",r.val=i,r}function vte(n){var e=hf(n);++n.l;var t=Pa(n);return e.t="n",e.val=t,e}function xte(n,e,t){var r=ot(15);return tb(r,n,e),r.write_shift(8,t,"f"),r}function yte(n){var e=hf(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function bte(n,e,t){var r=ot(9);return tb(r,n,e),r.write_shift(2,t),r}function wte(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function _te(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function Ste(n,e,t){var r=n.l+e,i=hf(n),s=n.read_shift(2),a=yg(n,s,t);return n.l=r,i.t="str",i.val=a,i}var Ate=[2,3,48,49,131,139,140,245],QT=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=N5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var u=[],h=l0(1);switch(c.type){case"base64":h=wl(El(o));break;case"binary":h=wl(o);break;case"buffer":case"array":h=o;break}fa(h,0);var p=h.read_shift(1),g=!!(p&136),m=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,_=521;p==2&&(w=h.read_shift(2)),h.l+=3,p!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(_=h.read_shift(2));var T=h.read_shift(2),L=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(L=n[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var R=[],D={},j=Math.min(h.length,p==2?521:_-10-(m?264:0)),G=b?32:11;h.l<j&&h[h.l]!=13;)switch(D={},D.name=s2.utils.decode(L,h.slice(h.l,h.l+G)).replace(/[\u0000\r\n].*$/g,""),h.l+=G,D.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),p==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&R.push(D),p!=2&&(h.l+=b?13:14),D.type){case"B":(!m||D.len!=8)&&c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=_-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=_;var P=0,W=0;for(u[0]=[],W=0;W!=R.length;++W)u[0][W]=R[W].name;for(;w-- >0;){if(h[h.l]===42){h.l+=T;continue}for(++h.l,u[++P]=[],W=0,W=0;W!=R.length;++W){var O=h.slice(h.l,h.l+R[W].len);h.l+=R[W].len,fa(O,0);var ee=s2.utils.decode(L,O);switch(R[W].type){case"C":ee.trim().length&&(u[P][W]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?u[P][W]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):u[P][W]=ee;break;case"F":u[P][W]=parseFloat(ee.trim());break;case"+":case"I":u[P][W]=b?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":u[P][W]=!0;break;case"N":case"F":u[P][W]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[P][W]="##MEMO##"+(b?parseInt(ee.trim(),10):O.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(u[P][W]=+ee||0);break;case"@":u[P][W]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[P][W]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[P][W]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][W]=-O.read_shift(-8,"f");break;case"B":if(m&&R[W].len==8){u[P][W]=O.read_shift(8,"f");break}case"G":case"P":O.l+=R[W].len;break;case"0":if(R[W].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[W].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=R,u}function r(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=_v(t(o,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function i(o,c){try{return m0(r(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var u=c||{};if(+u.codepage>=0&&tu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Uo(),p=j_(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),b=o["!cols"]||[],w=0,_=0,T=0,L=1;for(w=0;w<g.length;++w){if(((b[w]||{}).DBF||{}).name){g[w]=b[w].DBF.name,++T;continue}if(g[w]!=null){if(++T,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(_=0;_<1024;++_)if(g.indexOf(g[w]+"_"+_)==-1){g[w]+="_"+_;break}}}}var R=gr(o["!ref"]),D=[],j=[],G=[];for(w=0;w<=R.e.c-R.s.c;++w){var P="",W="",O=0,ee=[];for(_=0;_<m.length;++_)m[_][w]!=null&&ee.push(m[_][w]);if(ee.length==0||g[w]==null){D[w]="?";continue}for(_=0;_<ee.length;++_){switch(typeof ee[_]){case"number":W="B";break;case"string":W="C";break;case"boolean":W="L";break;case"object":W=ee[_]instanceof Date?"D":"C";break;default:W="C"}O=Math.max(O,String(ee[_]).length),P=P&&P!=W?"C":W}O>250&&(O=250),W=((b[w]||{}).DBF||{}).type,W=="C"&&b[w].DBF.len>O&&(O=b[w].DBF.len),P=="B"&&W=="N"&&(P="N",G[w]=b[w].DBF.dec,O=b[w].DBF.len),j[w]=P=="C"||W=="N"?O:s[P]||0,L+=j[w],D[w]=P}var B=h.next(32);for(B.write_shift(4,318902576),B.write_shift(4,m.length),B.write_shift(2,296+32*T),B.write_shift(2,L),w=0;w<4;++w)B.write_shift(4,0);for(B.write_shift(4,0|(+e[TF]||3)<<8),w=0,_=0;w<g.length;++w)if(g[w]!=null){var q=h.next(32),Q=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,Q,"sbcs"),q.write_shift(1,D[w]=="?"?"C":D[w],"sbcs"),q.write_shift(4,_),q.write_shift(1,j[w]||s[D[w]]||0),q.write_shift(1,G[w]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),_+=j[w]||s[D[w]]||0}var re=h.next(264);for(re.write_shift(4,13),w=0;w<65;++w)re.write_shift(4,0);for(w=0;w<m.length;++w){var ge=h.next(L);for(ge.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(D[_]){case"L":ge.write_shift(1,m[w][_]==null?63:m[w][_]?84:70);break;case"B":ge.write_shift(8,m[w][_]||0,"f");break;case"N":var K="0";for(typeof m[w][_]=="number"&&(K=m[w][_].toFixed(G[_]||0)),T=0;T<j[_]-K.length;++T)ge.write_shift(1,32);ge.write_shift(1,K,"sbcs");break;case"D":m[w][_]?(ge.write_shift(4,("0000"+m[w][_].getFullYear()).slice(-4),"sbcs"),ge.write_shift(2,("00"+(m[w][_].getMonth()+1)).slice(-2),"sbcs"),ge.write_shift(2,("00"+m[w][_].getDate()).slice(-2),"sbcs")):ge.write_shift(8,"00000000","sbcs");break;case"C":var ce=String(m[w][_]!=null?m[w][_]:"").slice(0,j[_]);for(ge.write_shift(1,ce,"sbcs"),T=0;T<j[_]-ce.length;++T)ge.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),BP=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,m){var b=n[m];return typeof b=="number"?wR(b):b},r=function(g,m,b){var w=m.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?g:wR(w)};n["|"]=254;function i(g,m){switch(m.type){case"base64":return s(El(g),m);case"binary":return s(g,m);case"buffer":return s(Vn&&Buffer.isBuffer(g)?g.toString("binary"):g0(g),m);case"array":return s(vg(g),m)}throw new Error("Unrecognized type "+m.type)}function s(g,m){var b=g.split(/[\n\r]+/),w=-1,_=-1,T=0,L=0,R=[],D=[],j=null,G={},P=[],W=[],O=[],ee=0,B;for(+m.codepage>=0&&tu(+m.codepage);T!==b.length;++T){ee=0;var q=b[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),Q=q.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),re=Q[0],ge;if(q.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&D.push(q.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,ce=!1,Te=!1,me=!1,Oe=-1,se=-1;for(L=1;L<Q.length;++L)switch(Q[L].charAt(0)){case"A":break;case"X":_=parseInt(Q[L].slice(1))-1,ce=!0;break;case"Y":for(w=parseInt(Q[L].slice(1))-1,ce||(_=0),B=R.length;B<=w;++B)R[B]=[];break;case"K":ge=Q[L].slice(1),ge.charAt(0)==='"'?ge=ge.slice(1,ge.length-1):ge==="TRUE"?ge=!0:ge==="FALSE"?ge=!1:isNaN(ou(ge))?isNaN(dv(ge).getDate())||(ge=oi(ge)):(ge=ou(ge),j!==null&&bv(j)&&(ge=L5(ge))),K=!0;break;case"E":me=!0;var I=r1(Q[L].slice(1),{r:w,c:_});R[w][_]=[R[w][_],I];break;case"S":Te=!0,R[w][_]=[R[w][_],"S5S"];break;case"G":break;case"R":Oe=parseInt(Q[L].slice(1))-1;break;case"C":se=parseInt(Q[L].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+q)}if(K&&(R[w][_]&&R[w][_].length==2?R[w][_][0]=ge:R[w][_]=ge,j=null),Te){if(me)throw new Error("SYLK shared formula cannot have own formula");var U=Oe>-1&&R[Oe][se];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");R[w][_][1]=n7(U[1],{r:w-Oe,c:_-se})}break;case"F":var z=0;for(L=1;L<Q.length;++L)switch(Q[L].charAt(0)){case"X":_=parseInt(Q[L].slice(1))-1,++z;break;case"Y":for(w=parseInt(Q[L].slice(1))-1,B=R.length;B<=w;++B)R[B]=[];break;case"M":ee=parseInt(Q[L].slice(1))/20;break;case"F":break;case"G":break;case"P":j=D[parseInt(Q[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=Q[L].slice(1).split(" "),B=parseInt(O[0],10);B<=parseInt(O[1],10);++B)ee=parseInt(O[2],10),W[B-1]=ee===0?{hidden:!0}:{wch:ee},c0(W[B-1]);break;case"C":_=parseInt(Q[L].slice(1))-1,W[_]||(W[_]={});break;case"R":w=parseInt(Q[L].slice(1))-1,P[w]||(P[w]={}),ee>0?(P[w].hpt=ee,P[w].hpx=gv(ee)):ee===0&&(P[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+q)}z<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+q)}}return P.length>0&&(G["!rows"]=P),W.length>0&&(G["!cols"]=W),m&&m.sheetRows&&(R=R.slice(0,m.sheetRows)),[R,G]}function a(g,m){var b=i(g,m),w=b[0],_=b[1],T=_v(w,m);return Hi(_).forEach(function(L){T[L]=_[L]}),T}function o(g,m){return m0(a(g,m),m)}function c(g,m,b,w){var _="C;Y"+(b+1)+";X"+(w+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+dC(g.f,{r:b,c:w}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function u(g,m){m.forEach(function(b,w){var _="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?_+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=d2(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=p2(b.wpx)),typeof b.wch=="number"&&(_+=Math.round(b.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function h(g,m){m.forEach(function(b,w){var _="F;";b.hidden?_+="M0;":b.hpt?_+="M"+20*b.hpt+";":b.hpx&&(_+="M"+20*g2(b.hpx)+";"),_.length>2&&g.push(_+"R"+(w+1))})}function p(g,m){var b=["ID;PWXL;N;E"],w=[],_=gr(g["!ref"]),T,L=Array.isArray(g),R=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&u(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var D=_.s.r;D<=_.e.r;++D)for(var j=_.s.c;j<=_.e.c;++j){var G=Sn({r:D,c:j});T=L?(g[D]||[])[j]:g[G],!(!T||T.v==null&&(!T.f||T.F))&&w.push(c(T,g,D,j))}return b.join(R)+R+w.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),UP=(function(){function n(s,a){switch(a.type){case"base64":return e(El(s),a);case"binary":return e(s,a);case"buffer":return e(Vn&&Buffer.isBuffer(s)?s.toString("binary"):g0(s),a);case"array":return e(vg(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),c=-1,u=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=o[h].trim().split(","),m=g[0],b=g[1];++h;for(var w=o[h]||"";(w.match(/["]/g)||[]).length&1&&h<o.length-1;)w+=`
`+o[++h];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++c]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[c][u]=!0:w==="FALSE"?p[c][u]=!1:isNaN(ou(b))?isNaN(dv(b).getDate())?p[c][u]=b:p[c][u]=oi(b):p[c][u]=ou(b),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[c][u++]=w!==""?w:null;break}if(w==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function t(s,a){return _v(n(s,a),a)}function r(s,a){return m0(t(s,a),a)}var i=(function(){var s=function(c,u,h,p,g){c.push(u),c.push(h+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,u,h,p){c.push(u+","+h),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],h=gr(c["!ref"]),p,g=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,h.e.r-h.s.r+1,""),s(u,"TUPLES",0,h.e.c-h.s.c+1,""),s(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(u,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var w=Sn({r:m,c:b});if(p=g?(c[m]||[])[b]:c[w],!p){a(u,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?a(u,1,0,"="+p.f):a(u,1,0,""):a(u,0,_,"V");break;case"b":a(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=cc(p.z||_n[14],Rs(oi(p.v)))),a(u,0,p.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var T=`\r
`,L=u.join(T);return L}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),HP=(function(){function n(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,g){for(var m=p.split(`
`),b=-1,w=-1,_=0,T=[];_!==m.length;++_){var L=m[_].trim().split(":");if(L[0]==="cell"){var R=Ci(L[1]);if(T.length<=R.r)for(b=T.length;b<=R.r;++b)T[b]||(T[b]=[]);switch(b=R.r,w=R.c,L[2]){case"t":T[b][w]=n(L[3]);break;case"v":T[b][w]=+L[3];break;case"vtf":var D=L[L.length-1];case"vtc":switch(L[3]){case"nl":T[b][w]=!!+L[4];break;default:T[b][w]=+L[4];break}L[2]=="vtf"&&(T[b][w]=[T[b][w],D])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function r(p,g){return _v(t(p,g),g)}function i(p,g){return m0(r(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],b,w="",_=Ho(p["!ref"]),T=Array.isArray(p),L=_.s.r;L<=_.e.r;++L)for(var R=_.s.c;R<=_.e.c;++R)if(w=Sn({r:L,c:R}),b=T?(p[L]||[])[R]:p[w],!(!b||b.v==null||b.t==="z")){switch(m=["cell",w,"t"],b.t){case"s":case"str":m.push(e(b.v));break;case"n":b.f?(m[2]="vtf",m[3]="n",m[4]=b.v,m[5]=e(b.f)):(m[2]="v",m[3]=b.v);break;case"b":m[2]="vt"+(b.f?"f":"c"),m[3]="nl",m[4]=b.v?"1":"0",m[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var D=Rs(oi(b.v));m[2]="vtc",m[3]="nd",m[4]=""+D,m[5]=b.w||cc(b.z||_n[14],D);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[s,a,o,a,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),pv=(function(){function n(h,p,g,m,b){b.raw?p[g][m]=h:h===""||(h==="TRUE"?p[g][m]=!0:h==="FALSE"?p[g][m]=!1:isNaN(ou(h))?isNaN(dv(h).getDate())?p[g][m]=h:p[g][m]=oi(h):p[g][m]=ou(h))}function e(h,p){var g=p||{},m=[];if(!h||h.length===0)return m;for(var b=h.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var _=10,T=0,L=0;L<=w;++L)T=b[L].indexOf(" "),T==-1?T=b[L].length:T++,_=Math.max(_,T);for(L=0;L<=w;++L){m[L]=[];var R=0;for(n(b[L].slice(0,_).trim(),m,L,R,g),R=1;R<=(b[L].length-_)/10+1;++R)n(b[L].slice(_+(R-1)*10,_+R*10).trim(),m,L,R,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var p={},g=!1,m=0,b=0;m<h.length;++m)(b=h.charCodeAt(m))==34?g=!g:!g&&b in t&&(p[b]=(p[b]||0)+1);b=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m]);if(!b.length){p=r;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m])}return b.sort(function(w,_){return w[0]-_[0]||r[w[1]]-r[_[1]]}),t[b.pop()[1]]||44}function s(h,p){var g=p||{},m="",b=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):g&&g.FS?m=g.FS:m=i(h.slice(0,1024));var _=0,T=0,L=0,R=0,D=0,j=m.charCodeAt(0),G=!1,P=0,W=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?uZ(g.dateNF):null;function ee(){var B=h.slice(R,D),q={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)q.t="z";else if(g.raw)q.t="s",q.v=B;else if(B.trim().length===0)q.t="s",q.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(q.t="s",q.v=B.slice(2,-1).replace(/""/g,'"')):Ure(B)?(q.t="n",q.f=B.slice(1)):(q.t="s",q.v=B);else if(B=="TRUE")q.t="b",q.v=!0;else if(B=="FALSE")q.t="b",q.v=!1;else if(!isNaN(L=ou(B)))q.t="n",g.cellText!==!1&&(q.w=B),q.v=L;else if(!isNaN(dv(B).getDate())||O&&B.match(O)){q.z=g.dateNF||_n[14];var Q=0;O&&B.match(O)&&(B=fZ(B,g.dateNF,B.match(O)||[]),Q=1),g.cellDates?(q.t="d",q.v=oi(B,Q)):(q.t="n",q.v=Rs(oi(B,Q))),g.cellText!==!1&&(q.w=cc(q.z,q.v instanceof Date?Rs(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=B;if(q.t=="z"||(g.dense?(b[_]||(b[_]=[]),b[_][T]=q):b[Sn({c:T,r:_})]=q),R=D+1,W=h.charCodeAt(R),w.e.c<T&&(w.e.c=T),w.e.r<_&&(w.e.r=_),P==j)++T;else if(T=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;D<h.length;++D)switch(P=h.charCodeAt(D)){case 34:W===34&&(G=!G);break;case j:case 10:case 13:if(!G&&ee())break e;break}return D-R>0&&ee(),b["!ref"]=On(w),b}function a(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,p):_v(e(h,p),p)}function o(h,p){var g="",m=p.type=="string"?[0,0,0,0]:wC(h,p);switch(p.type){case"base64":g=El(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof s2<"u"||(g=Vn&&Buffer.isBuffer(h)?h.toString("binary"):g0(h));break;case"array":g=vg(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=qr(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=qr(g):p.type=="binary"&&typeof s2<"u",g.slice(0,19)=="socialcalc:version:"?HP.to_sheet(p.type=="string"?g:qr(g),p):a(g,p)}function c(h,p){return m0(o(h,p),p)}function u(h){for(var p=[],g=gr(h["!ref"]),m,b=Array.isArray(h),w=g.s.r;w<=g.e.r;++w){for(var _=[],T=g.s.c;T<=g.e.c;++T){var L=Sn({r:w,c:T});if(m=b?(h[w]||[])[T]:h[L],!m||m.v==null){_.push("          ");continue}for(var R=(m.w||(kh(m),m.w)||"").slice(0,10);R.length<10;)R+=" ";_.push(R+(T===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function Ete(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=BP.to_workbook(n,t);return t.WTF=r,i}catch(s){if(t.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return pv.to_workbook(n,e)}}var cg=(function(){function n(I,U,z){if(I){fa(I,I.l||0);for(var Y=z.Enum||Oe;I.l<I.length;){var oe=I.read_shift(2),ye=Y[oe]||Y[65535],fe=I.read_shift(2),Ae=I.l+fe,Re=ye.f&&ye.f(I,fe,z);if(I.l=Ae,U(Re,ye,oe))return}}}function e(I,U){switch(U.type){case"base64":return t(wl(El(I)),U);case"binary":return t(wl(I),U);case"buffer":case"array":return t(I,U)}throw"Unsupported type "+U.type}function t(I,U){if(!I)return I;var z=U||{},Y=z.dense?[]:{},oe="Sheet1",ye="",fe=0,Ae={},Re=[],et=[],de={s:{r:0,c:0},e:{r:0,c:0}},gt=z.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)z.Enum=Oe,n(I,function(Ke,St,it){switch(it){case 0:z.vers=Ke,Ke>=4096&&(z.qpro=!0);break;case 6:de=Ke;break;case 204:Ke&&(ye=Ke);break;case 222:ye=Ke;break;case 15:case 51:z.qpro||(Ke[1].v=Ke[1].v.slice(1));case 13:case 14:case 16:it==14&&(Ke[2]&112)==112&&(Ke[2]&15)>1&&(Ke[2]&15)<15&&(Ke[1].z=z.dateNF||_n[14],z.cellDates&&(Ke[1].t="d",Ke[1].v=L5(Ke[1].v))),z.qpro&&Ke[3]>fe&&(Y["!ref"]=On(de),Ae[oe]=Y,Re.push(oe),Y=z.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},fe=Ke[3],oe=ye||"Sheet"+(fe+1),ye="");var Dt=z.dense?(Y[Ke[0].r]||[])[Ke[0].c]:Y[Sn(Ke[0])];if(Dt){Dt.t=Ke[1].t,Dt.v=Ke[1].v,Ke[1].z!=null&&(Dt.z=Ke[1].z),Ke[1].f!=null&&(Dt.f=Ke[1].f);break}z.dense?(Y[Ke[0].r]||(Y[Ke[0].r]=[]),Y[Ke[0].r][Ke[0].c]=Ke[1]):Y[Sn(Ke[0])]=Ke[1];break}},z);else if(I[2]==26||I[2]==14)z.Enum=se,I[2]==14&&(z.qpro=!0,I.l=0),n(I,function(Ke,St,it){switch(it){case 204:oe=Ke;break;case 22:Ke[1].v=Ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ke[3]>fe&&(Y["!ref"]=On(de),Ae[oe]=Y,Re.push(oe),Y=z.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},fe=Ke[3],oe="Sheet"+(fe+1)),gt>0&&Ke[0].r>=gt)break;z.dense?(Y[Ke[0].r]||(Y[Ke[0].r]=[]),Y[Ke[0].r][Ke[0].c]=Ke[1]):Y[Sn(Ke[0])]=Ke[1],de.e.c<Ke[0].c&&(de.e.c=Ke[0].c),de.e.r<Ke[0].r&&(de.e.r=Ke[0].r);break;case 27:Ke[14e3]&&(et[Ke[14e3][0]]=Ke[14e3][1]);break;case 1537:et[Ke[0]]=Ke[1],Ke[0]==fe&&(oe=Ke[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Y["!ref"]=On(de),Ae[ye||oe]=Y,Re.push(ye||oe),!et.length)return{SheetNames:Re,Sheets:Ae};for(var vt={},pe=[],He=0;He<et.length;++He)Ae[Re[He]]?(pe.push(et[He]||Re[He]),vt[et[He]]=Ae[et[He]]||Ae[Re[He]]):(pe.push(et[He]),vt[et[He]]={"!ref":"A1"});return{SheetNames:pe,Sheets:vt}}function r(I,U){var z=U||{};if(+z.codepage>=0&&tu(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Uo(),oe=gr(I["!ref"]),ye=Array.isArray(I),fe=[];It(Y,0,s(1030)),It(Y,6,c(oe));for(var Ae=Math.min(oe.e.r,8191),Re=oe.s.r;Re<=Ae;++Re)for(var et=Zi(Re),de=oe.s.c;de<=oe.e.c;++de){Re===oe.s.r&&(fe[de]=Ti(de));var gt=fe[de]+et,vt=ye?(I[Re]||[])[de]:I[gt];if(!(!vt||vt.t=="z"))if(vt.t=="n")(vt.v|0)==vt.v&&vt.v>=-32768&&vt.v<=32767?It(Y,13,m(Re,de,vt.v)):It(Y,14,w(Re,de,vt.v));else{var pe=kh(vt);It(Y,15,p(Re,de,pe.slice(0,239)))}}return It(Y,1),Y.end()}function i(I,U){var z=U||{};if(+z.codepage>=0&&tu(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Uo();It(Y,0,a(I));for(var oe=0,ye=0;oe<I.SheetNames.length;++oe)(I.Sheets[I.SheetNames[oe]]||{})["!ref"]&&It(Y,27,me(I.SheetNames[oe],ye++));var fe=0;for(oe=0;oe<I.SheetNames.length;++oe){var Ae=I.Sheets[I.SheetNames[oe]];if(!(!Ae||!Ae["!ref"])){for(var Re=gr(Ae["!ref"]),et=Array.isArray(Ae),de=[],gt=Math.min(Re.e.r,8191),vt=Re.s.r;vt<=gt;++vt)for(var pe=Zi(vt),He=Re.s.c;He<=Re.e.c;++He){vt===Re.s.r&&(de[He]=Ti(He));var Ke=de[He]+pe,St=et?(Ae[vt]||[])[He]:Ae[Ke];if(!(!St||St.t=="z"))if(St.t=="n")It(Y,23,ee(vt,He,fe,St.v));else{var it=kh(St);It(Y,22,P(vt,He,fe,it.slice(0,239)))}}++fe}}return It(Y,1),Y.end()}function s(I){var U=ot(2);return U.write_shift(2,I),U}function a(I){var U=ot(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var z=0,Y=0,oe=0,ye=0;ye<I.SheetNames.length;++ye){var fe=I.SheetNames[ye],Ae=I.Sheets[fe];if(!(!Ae||!Ae["!ref"])){++oe;var Re=Ho(Ae["!ref"]);z<Re.e.r&&(z=Re.e.r),Y<Re.e.c&&(Y=Re.e.c)}}return z>8191&&(z=8191),U.write_shift(2,z),U.write_shift(1,oe),U.write_shift(1,Y),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(I,U,z){var Y={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&z.qpro?(Y.s.c=I.read_shift(1),I.l++,Y.s.r=I.read_shift(2),Y.e.c=I.read_shift(1),I.l++,Y.e.r=I.read_shift(2),Y):(Y.s.c=I.read_shift(2),Y.s.r=I.read_shift(2),U==12&&z.qpro&&(I.l+=2),Y.e.c=I.read_shift(2),Y.e.r=I.read_shift(2),U==12&&z.qpro&&(I.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(I){var U=ot(8);return U.write_shift(2,I.s.c),U.write_shift(2,I.s.r),U.write_shift(2,I.e.c),U.write_shift(2,I.e.r),U}function u(I,U,z){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(Y[0].c=I.read_shift(1),Y[3]=I.read_shift(1),Y[0].r=I.read_shift(2),I.l+=2):(Y[2]=I.read_shift(1),Y[0].c=I.read_shift(2),Y[0].r=I.read_shift(2)),Y}function h(I,U,z){var Y=I.l+U,oe=u(I,U,z);if(oe[1].t="s",z.vers==20768){I.l++;var ye=I.read_shift(1);return oe[1].v=I.read_shift(ye,"utf8"),oe}return z.qpro&&I.l++,oe[1].v=I.read_shift(Y-I.l,"cstr"),oe}function p(I,U,z){var Y=ot(7+z.length);Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,I),Y.write_shift(1,39);for(var oe=0;oe<Y.length;++oe){var ye=z.charCodeAt(oe);Y.write_shift(1,ye>=128?95:ye)}return Y.write_shift(1,0),Y}function g(I,U,z){var Y=u(I,U,z);return Y[1].v=I.read_shift(2,"i"),Y}function m(I,U,z){var Y=ot(7);return Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,I),Y.write_shift(2,z,"i"),Y}function b(I,U,z){var Y=u(I,U,z);return Y[1].v=I.read_shift(8,"f"),Y}function w(I,U,z){var Y=ot(13);return Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,I),Y.write_shift(8,z,"f"),Y}function _(I,U,z){var Y=I.l+U,oe=u(I,U,z);if(oe[1].v=I.read_shift(8,"f"),z.qpro)I.l=Y;else{var ye=I.read_shift(2);D(I.slice(I.l,I.l+ye),oe),I.l+=ye}return oe}function T(I,U,z){var Y=U&32768;return U&=-32769,U=(Y?I:0)+(U>=8192?U-16384:U),(Y?"":"$")+(z?Ti(U):Zi(U))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(I,U){fa(I,0);for(var z=[],Y=0,oe="",ye="",fe="",Ae="";I.l<I.length;){var Re=I[I.l++];switch(Re){case 0:z.push(I.read_shift(8,"f"));break;case 1:ye=T(U[0].c,I.read_shift(2),!0),oe=T(U[0].r,I.read_shift(2),!1),z.push(ye+oe);break;case 2:{var et=T(U[0].c,I.read_shift(2),!0),de=T(U[0].r,I.read_shift(2),!1);ye=T(U[0].c,I.read_shift(2),!0),oe=T(U[0].r,I.read_shift(2),!1),z.push(et+de+":"+ye+oe)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(I.read_shift(2));break;case 6:{for(var gt="";Re=I[I.l++];)gt+=String.fromCharCode(Re);z.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:Ae=z.pop(),fe=z.pop(),z.push(["AND","OR"][Re-20]+"("+fe+","+Ae+")");break;default:if(Re<32&&R[Re])Ae=z.pop(),fe=z.pop(),z.push(fe+R[Re]+Ae);else if(L[Re]){if(Y=L[Re][1],Y==69&&(Y=I[I.l++]),Y>z.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+z.join("|")+"|");return}var vt=z.slice(-Y);z.length-=Y,z.push(L[Re][0]+"("+vt.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}z.length==1?U[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function j(I){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=I.read_shift(2),U[3]=I[I.l++],U[0].c=I[I.l++],U}function G(I,U){var z=j(I);return z[1].t="s",z[1].v=I.read_shift(U-4,"cstr"),z}function P(I,U,z,Y){var oe=ot(6+Y.length);oe.write_shift(2,I),oe.write_shift(1,z),oe.write_shift(1,U),oe.write_shift(1,39);for(var ye=0;ye<Y.length;++ye){var fe=Y.charCodeAt(ye);oe.write_shift(1,fe>=128?95:fe)}return oe.write_shift(1,0),oe}function W(I,U){var z=j(I);z[1].v=I.read_shift(2);var Y=z[1].v>>1;if(z[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return z[1].v=Y,z}function O(I,U){var z=j(I),Y=I.read_shift(4),oe=I.read_shift(4),ye=I.read_shift(2);if(ye==65535)return Y===0&&oe===3221225472?(z[1].t="e",z[1].v=15):Y===0&&oe===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var fe=ye&32768;return ye=(ye&32767)-16446,z[1].v=(1-fe*2)*(oe*Math.pow(2,ye+32)+Y*Math.pow(2,ye)),z}function ee(I,U,z,Y){var oe=ot(14);if(oe.write_shift(2,I),oe.write_shift(1,z),oe.write_shift(1,U),Y==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var ye=0,fe=0,Ae=0,Re=0;return Y<0&&(ye=1,Y=-Y),fe=Math.log2(Y)|0,Y/=Math.pow(2,fe-31),Re=Y>>>0,(Re&2147483648)==0&&(Y/=2,++fe,Re=Y>>>0),Y-=Re,Re|=2147483648,Re>>>=0,Y*=Math.pow(2,32),Ae=Y>>>0,oe.write_shift(4,Ae),oe.write_shift(4,Re),fe+=16383+(ye?32768:0),oe.write_shift(2,fe),oe}function B(I,U){var z=O(I);return I.l+=U-14,z}function q(I,U){var z=j(I),Y=I.read_shift(4);return z[1].v=Y>>6,z}function Q(I,U){var z=j(I),Y=I.read_shift(8,"f");return z[1].v=Y,z}function re(I,U){var z=Q(I);return I.l+=U-10,z}function ge(I,U){return I[I.l+U-1]==0?I.read_shift(U,"cstr"):""}function K(I,U){var z=I[I.l++];z>U-1&&(z=U-1);for(var Y="";Y.length<z;)Y+=String.fromCharCode(I[I.l++]);return Y}function ce(I,U,z){if(!(!z.qpro||U<21)){var Y=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var oe=I.read_shift(U-21,"cstr");return[Y,oe]}}function Te(I,U){for(var z={},Y=I.l+U;I.l<Y;){var oe=I.read_shift(2);if(oe==14e3){for(z[oe]=[0,""],z[oe][0]=I.read_shift(2);I[I.l];)z[oe][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return z}function me(I,U){var z=ot(5+I.length);z.write_shift(2,14e3),z.write_shift(2,U);for(var Y=0;Y<I.length;++Y){var oe=I.charCodeAt(Y);z[z.l++]=oe>127?95:oe}return z[z.l++]=0,z}var Oe={0:{n:"BOF",f:us},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ge},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:W},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ge},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function Tte(n){var e={},t=n.match(Ha),r=0,i=!1;if(t)for(;r!=t.length;++r){var s=An(t[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=B4[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Cte=(function(){var n=l2("t"),e=l2("rPr");function t(s){var a=s.match(n);if(!a)return{t:"s",v:""};var o={t:"s",v:dr(a[1])},c=s.match(e);return c&&(o.s=Tte(c[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(t).filter(function(o){return o.v})}})(),kte=(function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),Nte=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Rte=/<(?:\w+:)?r>/,Lte=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function lC(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=dr(qr(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(n),t&&(r.h=X4(r.t))):n.match(Rte)&&(r.r=qr(n),r.t=dr(qr((n.replace(Lte,"").match(Nte)||[]).join("").replace(Ha,""))),t&&(r.h=kte(Cte(r.r)))),r):{t:""}}var Ite=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Mte=/<(?:\w+:)?(?:si|sstItem)>/g,Dte=/<\/(?:\w+:)?(?:si|sstItem)>/;function Fte(n,e){var t=[],r="";if(!n)return t;var i=n.match(Ite);if(i){r=i[2].replace(Mte,"").split(Dte);for(var s=0;s!=r.length;++s){var a=lC(r[s].trim(),e);a!=null&&(t[t.length]=a)}i=An(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}var Pte=/^\s|\s$|[\t\n\r]/;function zP(n,e){if(!e.bookSST)return"";var t=[es];t[t.length]=Rt("sst",null,{xmlns:Cg[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Pte)&&(s+=' xml:space="preserve"'),s+=">"+Fr(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function Ote(n){return[n.read_shift(4),n.read_shift(4)]}function Bte(n,e){var t=[],r=!1;return Fh(n,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Ute(n,e){return e||(e=ot(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var Hte=KZ;function zte(n){var e=Uo();bt(e,159,Ute(n));for(var t=0;t<n.length;++t)bt(e,19,Hte(n[t]));return bt(e,160),e.end()}function jP(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function Ah(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function jte(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=Ah(n,4),e.U=Ah(n,4),e.W=Ah(n,4),e}function Gte(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function qte(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(Gte(n));return e}function Vte(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function Wte(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=Ah(n,4),e.U=Ah(n,4),e.W=Ah(n,4),e}function $te(n){var e=Wte(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function GP(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function qP(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function Xte(n){var e=Ah(n);switch(e.Minor){case 2:return[e.Minor,Yte(n)];case 3:return[e.Minor,Kte()];case 4:return[e.Minor,Jte(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Yte(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=GP(n,t),i=qP(n,n.length-n.l);return{t:"Std",h:r,v:i}}function Kte(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Jte(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Ha,function(s){var a=An(s);switch(ff(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function Zte(n,e){var t={},r=t.EncryptionVersionInfo=Ah(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=GP(n,i),e-=i,t.EncryptionVerifier=qP(n,e),t}function Qte(n){var e={},t=e.EncryptionVersionInfo=Ah(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function cC(n){var e=0,t,r=jP(n),i=r.length+1,s,a,o,c,u;for(t=l0(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)a=t[s],o=(e&16384)===0?0:1,c=e<<1&32767,u=o|c,e=u^a;return e^52811}var VP=(function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],c=104,u=a.length-1;u>=0;--u)for(var h=a[u],p=0;p!=7;++p)h&64&&(o^=t[c]),h*=2,--c;return o};return function(a){for(var o=jP(a),c=s(o),u=o.length,h=l0(16),p=0;p!=16;++p)h[p]=0;var g,m,b;for((u&1)===1&&(g=c>>8,h[u]=i(n[0],g),--u,g=c&255,m=o[o.length-1],h[u]=i(m,g));u>0;)--u,g=c>>8,h[u]=i(o[u],g),--u,g=c&255,h[u]=i(o[u],g);for(u=15,b=15-o.length;b>0;)g=c>>8,h[u]=i(n[b],g),--u,--b,g=c&255,h[u]=i(o[u],g),--u,--b;return h}})(),ene=function(n,e,t,r,i){i||(i=e),r||(r=VP(n));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,r]},tne=function(n){var e=0,t=VP(n);return function(r){var i=ene("",r,e,t);return e=i[1],i[0]}};function nne(n,e,t,r){var i={key:us(n),verificationBytes:us(n)};return t.password&&(i.verifier=cC(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=tne(t.password)),i}function rne(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=Qte(n):r.Data=Zte(n,e),r}function ine(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?rne(n,e-2,r):nne(n,t.biff>=8?e:e-2,t,r),r}var WP=(function(){function n(i,s){switch(s.type){case"base64":return e(El(i),s);case"binary":return e(i,s);case"buffer":return e(Vn&&Buffer.isBuffer(i)?i.toString("binary"):g0(i),s);case"array":return e(vg(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,b,w=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var _=h.slice(m,g.lastIndex-b[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var T={v:_,t:"s"};Array.isArray(o)?o[p][w]=T:o[Sn({r:p,c:w})]=T}break}m=g.lastIndex}w>u.e.c&&(u.e.c=w)}),o["!ref"]=On(u),o}function t(i,s){return m0(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=gr(i["!ref"]),o,c=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var p=Sn({r:u,c:h});o=c?(i[u]||[])[h]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(kh(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function sne(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function h2(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function ane(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),s=Math.min(e,t,r),a=i-s;if(a===0)return[0,0,e];var o=0,c=0,u=i+s;switch(c=a/(u>1?2-u:u),i){case e:o=((t-r)/a+6)%6;break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}return[o/6,c,u/2]}function one(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,c;if(t!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function H_(n,e){if(e===0)return n;var t=ane(sne(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),h2(one(t))}var $P=6,lne=15,cne=1,Da=$P;function d2(n){return Math.floor((n+Math.round(128/Da)/256)*Da)}function p2(n){return Math.floor((n-5)/Da*100+.5)/100}function z_(n){return Math.round((n*Da+5)/Da*256)/256}function UA(n){return z_(p2(d2(n)))}function uC(n){var e=Math.abs(n-UA(n)),t=Da;if(e>.005)for(Da=cne;Da<lne;++Da)Math.abs(n-UA(n))<=e&&(e=Math.abs(n-UA(n)),t=Da);Da=t}function c0(n){n.width?(n.wpx=d2(n.width),n.wch=p2(n.wpx),n.MDW=Da):n.wpx?(n.wch=p2(n.wpx),n.width=z_(n.wch),n.MDW=Da):typeof n.wch=="number"&&(n.width=z_(n.wch),n.wpx=d2(n.width),n.MDW=Da),n.customWidth&&delete n.customWidth}var une=96,XP=une;function g2(n){return n*96/XP}function gv(n){return n*XP/96}var fne={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function hne(n,e,t,r){e.Borders=[];var i={},s=!1;(n[0].match(Ha)||[]).forEach(function(a){var o=An(a);switch(ff(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=si(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=si(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function dne(n,e,t,r){e.Fills=[];var i={},s=!1;(n[0].match(Ha)||[]).forEach(function(a){var o=An(a);switch(ff(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function pne(n,e,t,r){e.Fonts=[];var i={},s=!1;(n[0].match(Ha)||[]).forEach(function(a){var o=An(a);switch(ff(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=qr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?si(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?si(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?si(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?si(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?si(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?si(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?si(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=B4[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=si(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=og[i.color.index];i.color.index==81&&(c=og[1]),c||(c=og[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=H_(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function gne(n,e,t){e.NumberFmt=[];for(var r=Hi(_n),i=0;i<r.length;++i)e.NumberFmt[r[i]]=_n[r[i]];var s=n[0].match(Ha);if(s)for(i=0;i<s.length;++i){var a=An(s[i]);switch(ff(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=dr(qr(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}Sh(o,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function mne(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Rt("numFmt",null,{numFmtId:r,formatCode:Fr(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Rt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var yw=["numFmtId","fillId","fontId","borderId","xfId"],bw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function vne(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Ha)||[]).forEach(function(s){var a=An(s),o=0;switch(ff(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<yw.length;++o)r[yw[o]]&&(r[yw[o]]=parseInt(r[yw[o]],10));for(o=0;o<bw.length;++o)r[bw[o]]&&(r[bw[o]]=si(r[bw[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=si(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function xne(n){var e=[];return e[e.length]=Rt("cellXfs",null),n.forEach(function(t){e[e.length]=Rt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Rt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var yne=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&gne(p,h,u),(p=o.match(i))&&pne(p,h,c,u),(p=o.match(r))&&dne(p,h,c,u),(p=o.match(s))&&hne(p,h,c,u),(p=o.match(t))&&vne(p,h,u),h}})();function YP(n,e){var t=[es,Rt("styleSheet",null,{xmlns:Cg[0],"xmlns:vt":ks.vt})],r;return n.SSF&&(r=mne(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=xne(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function bne(n,e){var t=n.read_shift(2),r=Ba(n);return[t,r]}function wne(n,e,t){t||(t=ot(6+4*e.length)),t.write_shift(2,n),Ws(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function _ne(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=rQ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var o=n.read_shift(1);o>0&&(r.family=o);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=nQ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ba(n),r}function Sne(n,e){e||(e=ot(153)),e.write_shift(2,n.sz*20),iQ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),O_(n.color,e);var r=0;return r=2,e.write_shift(1,r),Ws(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Ane=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],HA,Ene=Ua;function fL(n,e){e||(e=ot(84)),HA||(HA=N5(Ane));var t=HA[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(O_({auto:1},e),O_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Tne(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function KP(n,e,t){t||(t=ot(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function gx(n,e){return e||(e=ot(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Cne=Ua;function kne(n,e){return e||(e=ot(51)),e.write_shift(1,0),gx(null,e),gx(null,e),gx(null,e),gx(null,e),gx(null,e),e.length>e.l?e.slice(0,e.l):e}function Nne(n,e){return e||(e=ot(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),P_(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Rne(n,e,t){var r=ot(2052);return r.write_shift(4,n),P_(e,r),P_(t,r),r.length>r.l?r.slice(0,r.l):r}function Lne(n,e,t){var r={};r.NumberFmt=[];for(var i in _n)r.NumberFmt[i]=_n[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Fh(n,function(c,u,h){switch(h){case 44:r.NumberFmt[c[0]]=c[1],Sh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=H_(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(h),a=!0;break;case 38:s.pop(),a=!1;break;default:if(u.T>0)s.push(h);else if(u.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}function Ine(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(bt(n,615,lu(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&bt(n,44,wne(i,e[i]))}),bt(n,616))}}function Mne(n){var e=1;bt(n,611,lu(e)),bt(n,43,Sne({sz:12,color:{theme:1},name:"Calibri",family:2})),bt(n,612)}function Dne(n){var e=2;bt(n,603,lu(e)),bt(n,45,fL({patternType:"none"})),bt(n,45,fL({patternType:"gray125"})),bt(n,604)}function Fne(n){var e=1;bt(n,613,lu(e)),bt(n,46,kne()),bt(n,614)}function Pne(n){var e=1;bt(n,626,lu(e)),bt(n,47,KP({numFmtId:0},65535)),bt(n,627)}function One(n,e){bt(n,617,lu(e.length)),e.forEach(function(t){bt(n,47,KP(t,0))}),bt(n,618)}function Bne(n){var e=1;bt(n,619,lu(e)),bt(n,48,Nne({xfId:0,name:"Normal"})),bt(n,620)}function Une(n){var e=0;bt(n,505,lu(e)),bt(n,506)}function Hne(n){var e=0;bt(n,508,Rne(e,"TableStyleMedium9","PivotStyleMedium4")),bt(n,509)}function zne(n,e){var t=Uo();return bt(t,278),Ine(t,n.SSF),Mne(t),Dne(t),Fne(t),Pne(t),One(t,e.cellXfs),Bne(t),Une(t),Hne(t),bt(t,279),t.end()}var jne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Gne(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Ha)||[]).forEach(function(i){var s=An(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[jne.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function qne(){}function Vne(){}var Wne=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,$ne=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Xne=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Yne(n,e,t){e.themeElements={};var r;[["clrScheme",Wne,Gne],["fontScheme",$ne,qne],["fmtScheme",Xne,Vne]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var Kne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function JP(n,e){(!n||n.length===0)&&(n=fC());var t,r={};if(!(t=n.match(Kne)))throw new Error("themeElements not found in theme");return Yne(t[0],r,e),r.raw=n,r}function fC(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[es];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Jne(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var s=n.slice(n.l);n.l=r;var a;try{a=GF(s,{type:"array"})}catch{return}var o=_l(a,"theme/theme/theme1.xml",!0);if(o)return JP(o,t)}}function Zne(n){return n.read_shift(4)}function Qne(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=ere(n,4);break;case 2:e.xclrValue=RP(n);break;case 3:e.xclrValue=Zne(n);break;case 4:n.l+=4;break}return n.l+=8,e}function ere(n,e){return Ua(n,e)}function tre(n,e){return Ua(n,e)}function nre(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Qne(n);break;case 6:r[1]=tre(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function rre(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(nre(n,t-n.l));return{ixfe:r,ext:s}}function ire(n,e){e.forEach(function(t){t[0]})}function sre(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Ba(n)}}function are(n){var e=ot(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Ws(n.name,e),e.slice(0,e.l)}function ore(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function lre(n){var e=ot(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function cre(n,e){var t=ot(8+2*e.length);return t.write_shift(4,n),Ws(e,t),t.slice(0,t.l)}function ure(n){return n.l+=4,n.read_shift(4)!=0}function fre(n,e){var t=ot(8);return t.write_shift(4,n),t.write_shift(4,1),t}function hre(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Fh(n,function(c,u,h){switch(h){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(h),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!u.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function dre(){var n=Uo();return bt(n,332),bt(n,334,lu(1)),bt(n,335,are({name:"XLDAPR",version:12e4,flags:3496657072})),bt(n,336),bt(n,339,cre(1,"XLDAPR")),bt(n,52),bt(n,35,lu(514)),bt(n,4096,lu(0)),bt(n,4097,tc(1)),bt(n,36),bt(n,53),bt(n,340),bt(n,337,fre(1)),bt(n,51,lre([[1,0]])),bt(n,338),bt(n,333),n.end()}function pre(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,s=2,a;return n.replace(Ha,function(o){var c=An(o);switch(ff(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==c.name&&(a=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function ZP(){var n=[es];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function gre(n){var e=[];if(!n)return e;var t=1;return(n.match(Ha)||[]).forEach(function(r){var i=An(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function mre(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Sn(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function vre(n,e,t){var r=[];return Fh(n,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function xre(n,e,t,r){if(!n)return n;var i=r||{},s=!1;Fh(n,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function yre(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var jm=1024;function QP(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Rt("xml",null,{"xmlns:v":vl.v,"xmlns:o":vl.o,"xmlns:x":vl.x,"xmlns:mv":vl.mv}).replace(/\/>/,">"),Rt("o:shapelayout",Rt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Rt("v:shapetype",[Rt("v:stroke",null,{joinstyle:"miter"}),Rt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];jm<n*1e3;)jm+=1e3;return e.forEach(function(s){var a=Ci(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Rt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Rt("v:fill",c,o),h={on:"t",obscured:"t"};++jm,i=i.concat(["<v:shape"+c2({id:"_x0000_s"+jm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Rt("v:shadow",null,h),Rt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ha("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ha("x:AutoFill","False"),ha("x:Row",String(a.r)),ha("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function hL(n,e,t,r){var i=Array.isArray(n),s;e.forEach(function(a){var o=Ci(a.ref);if(i?(n[o.r]||(n[o.r]=[]),s=n[o.r][o.c]):s=n[a.ref],!s){s={t:"z"},i?n[o.r][o.c]=s:n[a.ref]=s;var c=gr(n["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=On(c);u!==n["!ref"]&&(n["!ref"]=u)}s.c||(s.c=[]);var h={a:a.author,t:a.t,r:a.r,T:t};a.h&&(h.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!t&&s.c[p].T)return;t&&!s.c[p].T&&s.c.splice(p,1)}if(t&&r){for(p=0;p<r.length;++p)if(h.a==r[p].id){h.a=r[p].name||h.a;break}}s.c.push(h)})}function bre(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=An(o[0]),u={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Ci(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&lC(p[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),r.push(u)}}}}),r}function e7(n){var e=[es,Rt("comments",null,{xmlns:Cg[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Fr(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=t.indexOf(Fr(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(ha("t",Fr(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(ha("t",Fr(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function wre(n,e){var t=[],r=!1,i={},s=0;return n.replace(Ha,function(o,c){var u=An(o);switch(ff(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=n.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function _re(n,e,t){var r=[es,Rt("ThreadedComments",null,{xmlns:ks.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(Rt("threadedComment",ha("text",a.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function Sre(n,e){var t=[],r=!1;return n.replace(Ha,function(s){var a=An(s);switch(ff(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function Are(n){var e=[es,Rt("personList",null,{xmlns:ks.TCMNT,"xmlns:x":Cg[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Rt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Ere(n){var e={};e.iauthor=n.read_shift(4);var t=Lg(n);return e.rfx=t.s,e.ref=Sn(t.s),n.l+=16,e}function Tre(n,e){return e==null&&(e=ot(36)),e.write_shift(4,n[1].iauthor),Sv(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Cre=Ba;function kre(n){return Ws(n.slice(0,54))}function Nre(n,e){var t=[],r=[],i={},s=!1;return Fh(n,function(o,c,u){switch(u){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}function Rre(n){var e=Uo(),t=[];return bt(e,628),bt(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),bt(e,632,kre(i.a)))})}),bt(e,631),bt(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Ci(r[0]),e:Ci(r[0])};bt(e,635,Tre([s,i])),i.t&&i.t.length>0&&bt(e,637,ZZ(i)),bt(e,636),delete i.iauthor})}),bt(e,634),bt(e,629),e.end()}var Lre="application/vnd.ms-office.vbaProject";function Ire(n){var e=mn.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");mn.utils.cfb_add(e,i,n.FileIndex[r].content)}}),mn.write(e)}function Mre(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mn.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var t7=["xlsb","xlsm","xlam","biff8","xla"];function Dre(){return{"!type":"dialog"}}function Fre(){return{"!type":"dialog"}}function Pre(){return{"!type":"macro"}}function Ore(){return{"!type":"macro"}}var r1=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,c?u+=e.r:--u,i+(o?"":"$")+Ti(h)+(c?"":"$")+Zi(u)}return function(i,s){return e=s,i.replace(n,t)}})(),hC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dC=(function(){return function(e,t){return e.replace(hC,function(r,i,s,a,o,c){var u=Q4(a)-(s?0:t.c),h=Z4(c)-(o?0:t.r),p=h==0?"":o?h+1:"["+h+"]",g=u==0?"":s?u+1:"["+u+"]";return i+"R"+p+"C"+g})}})();function n7(n,e){return n.replace(hC,function(t,r,i,s,a,o){return r+(i=="$"?i+s:Ti(Q4(s)+e.c))+(a=="$"?a+o:Zi(Z4(o)+e.r))})}function Bre(n,e,t){var r=Ho(e),i=r.s,s=Ci(t),a={r:s.r-i.r,c:s.c-i.c};return n7(n,a)}function Ure(n){return n.length!=1}function dL(n){return n.replace(/_xlfn\./g,"")}function ls(n){n.l+=1}function u0(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function r7(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return i7(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),a=u0(n),o=u0(n);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function i7(n){var e=u0(n),t=u0(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Hre(n,e,t){if(t.biff<8)return i7(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=u0(n),a=u0(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function s7(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return zre(n);var r=n.read_shift(t&&t.biff==12?4:2),i=u0(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function zre(n){var e=u0(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function jre(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Gre(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return qre(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function qre(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Vre(n,e,t){var r=(n[n.l++]&96)>>5,i=r7(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Wre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=r7(n,s,t);return[r,i,a]}function $re(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Xre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Yre(n,e,t){var r=(n[n.l++]&96)>>5,i=Hre(n,e-1,t);return[r,i]}function Kre(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function pL(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Jre(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function Zre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Qre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function eie(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function tie(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function a7(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function nie(n){return n.read_shift(2),a7(n)}function rie(n){return n.read_shift(2),a7(n)}function iie(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=s7(n,0,t);return[r,i]}function sie(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Gre(n,0,t);return[r,i]}function aie(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=s7(n,0,t);return[r,i,s]}function oie(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[use[i],c7[i],r]}function lie(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:cie(n);return[i,(s[0]===0?c7:cse)[s[1]]]}function cie(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function uie(n,e,t){n.l+=t&&t.biff==2?3:4}function fie(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function hie(n){return n.l++,Ph[n.read_shift(1)]}function die(n){return n.l++,n.read_shift(2)}function pie(n){return n.l++,n.read_shift(1)!==0}function gie(n){return n.l++,Pa(n)}function mie(n,e,t){return n.l++,Ky(n,e-1,t)}function vie(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Wi(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Ph[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Pa(n);break;case 2:t[1]=Ig(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function xie(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Lg:I5)(n));return i}function yie(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=vie(n,t.biff);return a}function bie(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function wie(n,e,t){if(t.biff==5)return _ie(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function _ie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function Sie(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Aie(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Eie(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function Tie(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var Cie=Ua,kie=Ua,Nie=Ua;function Zy(n,e,t){return n.l+=2,[jre(n)]}function pC(n){return n.l+=6,[]}var Rie=Zy,Lie=pC,Iie=pC,Mie=Zy;function o7(n){return n.l+=2,[us(n),n.read_shift(2)&1]}var Die=Zy,Fie=o7,Pie=pC,Oie=Zy,Bie=Zy,Uie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Hie(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),a=Uie[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:r,c:i,C:s}}function zie(n){return n.l+=2,[n.read_shift(4)]}function jie(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Gie(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function qie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Vie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Wie(n){return n.l+=4,[0,0]}var gL={1:{n:"PtgExp",f:fie},2:{n:"PtgTbl",f:Nie},3:{n:"PtgAdd",f:ls},4:{n:"PtgSub",f:ls},5:{n:"PtgMul",f:ls},6:{n:"PtgDiv",f:ls},7:{n:"PtgPower",f:ls},8:{n:"PtgConcat",f:ls},9:{n:"PtgLt",f:ls},10:{n:"PtgLe",f:ls},11:{n:"PtgEq",f:ls},12:{n:"PtgGe",f:ls},13:{n:"PtgGt",f:ls},14:{n:"PtgNe",f:ls},15:{n:"PtgIsect",f:ls},16:{n:"PtgUnion",f:ls},17:{n:"PtgRange",f:ls},18:{n:"PtgUplus",f:ls},19:{n:"PtgUminus",f:ls},20:{n:"PtgPercent",f:ls},21:{n:"PtgParen",f:ls},22:{n:"PtgMissArg",f:ls},23:{n:"PtgStr",f:mie},26:{n:"PtgSheet",f:jie},27:{n:"PtgEndSheet",f:Gie},28:{n:"PtgErr",f:hie},29:{n:"PtgBool",f:pie},30:{n:"PtgInt",f:die},31:{n:"PtgNum",f:gie},32:{n:"PtgArray",f:Kre},33:{n:"PtgFunc",f:oie},34:{n:"PtgFuncVar",f:lie},35:{n:"PtgName",f:bie},36:{n:"PtgRef",f:iie},37:{n:"PtgArea",f:Vre},38:{n:"PtgMemArea",f:Sie},39:{n:"PtgMemErr",f:Cie},40:{n:"PtgMemNoMem",f:kie},41:{n:"PtgMemFunc",f:Aie},42:{n:"PtgRefErr",f:Eie},43:{n:"PtgAreaErr",f:$re},44:{n:"PtgRefN",f:sie},45:{n:"PtgAreaN",f:Yre},46:{n:"PtgMemAreaN",f:qie},47:{n:"PtgMemNoMemN",f:Vie},57:{n:"PtgNameX",f:wie},58:{n:"PtgRef3d",f:aie},59:{n:"PtgArea3d",f:Wre},60:{n:"PtgRefErr3d",f:Tie},61:{n:"PtgAreaErr3d",f:Xre},255:{}},$ie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Xie={1:{n:"PtgElfLel",f:o7},2:{n:"PtgElfRw",f:Oie},3:{n:"PtgElfCol",f:Rie},6:{n:"PtgElfRwV",f:Bie},7:{n:"PtgElfColV",f:Mie},10:{n:"PtgElfRadical",f:Die},11:{n:"PtgElfRadicalS",f:Pie},13:{n:"PtgElfColS",f:Lie},15:{n:"PtgElfColSV",f:Iie},16:{n:"PtgElfRadicalLel",f:Fie},25:{n:"PtgList",f:Hie},29:{n:"PtgSxName",f:zie},255:{}},Yie={0:{n:"PtgAttrNoop",f:Wie},1:{n:"PtgAttrSemi",f:tie},2:{n:"PtgAttrIf",f:Qre},4:{n:"PtgAttrChoose",f:Jre},8:{n:"PtgAttrGoto",f:Zre},16:{n:"PtgAttrSum",f:uie},32:{n:"PtgAttrBaxcel",f:pL},33:{n:"PtgAttrBaxcel",f:pL},64:{n:"PtgAttrSpace",f:nie},65:{n:"PtgAttrSpaceSemi",f:rie},128:{n:"PtgAttrIfError",f:eie},255:{}};function Qy(n,e,t,r){if(r.biff<8)return Ua(n,e);for(var i=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=yie(n,0,r),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=xie(n,t[a][1],r),s.push(t[a][2]);break;case"PtgExp":r&&r.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-n.l,e!==0&&s.push(Ua(n,e)),s}function eb(n,e,t){for(var r=n.l+e,i,s,a=[];r!=n.l;)e=r-n.l,s=n[n.l],i=gL[s]||gL[$ie[s]],(s===24||s===25)&&(i=(s===24?Xie:Yie)[n[n.l+1]]),!i||!i.f?Ua(n,e):a.push([i.n,i.f(n,e,t)]);return a}function Kie(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Jie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Zie(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function l7(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function mL(n,e,t){var r=l7(n,e,t);return r=="#REF"?r:Zie(r,t)}function Ma(n,e,t,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,u,h,p=0,g=0,m,b="";if(!n[0]||!n[0][0])return"";for(var w=-1,_="",T=0,L=n[0].length;T<L;++T){var R=n[0][T];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),w>=0){switch(n[0][w][1][0]){case 0:_=Bi(" ",n[0][w][1][1]);break;case 1:_=Bi("\r",n[0][w][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}u=u+_,w=-1}o.push(u+Jie[R[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Gx(R[1][1],a,i),o.push(qx(h,s));break;case"PtgRefN":h=t?Gx(R[1][1],t,i):R[1][1],o.push(qx(h,s));break;case"PtgRef3d":p=R[1][1],h=Gx(R[1][2],a,i),b=mL(r,p,i),o.push(b+"!"+qx(h,s));break;case"PtgFunc":case"PtgFuncVar":var D=R[1][0],j=R[1][1];D||(D=0),D&=127;var G=D==0?[]:o.slice(-D);o.length-=D,j==="User"&&(j=G.shift()),o.push(j+"("+G.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":m=VR(R[1][1],t?{s:t}:a,i),o.push(PA(m,i));break;case"PtgArea":m=VR(R[1][1],a,i),o.push(PA(m,i));break;case"PtgArea3d":p=R[1][1],m=R[1][2],b=mL(r,p,i),o.push(b+"!"+PA(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var P=(r.names||[])[g-1]||(r[0]||[])[g],W=P?P.Name:"SH33TJSNAME"+String(g);W&&W.slice(0,6)=="_xlfn."&&!i.xlfn&&(W=W.slice(6)),o.push(W);break;case"PtgNameX":var O=R[1][1];g=R[1][2];var ee;if(i.biff<=5)O<0&&(O=-O),r[O]&&(ee=r[O][g]);else{var B="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][g]&&r[O][g].itab>0&&(B=r.SheetNames[r[O][g].itab-1]+"!"):B=r.SheetNames[g-1]+"!"),r[O]&&r[O][g])B+=r[O][g].Name;else if(r[0]&&r[0][g])B+=r[0][g].Name;else{var q=(l7(r,O,i)||"").split(";;");q[g-1]?B=q[g-1]:B+="SH33TJSERRX"}o.push(B);break}ee||(ee={Name:"SH33TJSERRY"}),o.push(ee.Name);break;case"PtgParen":var Q="(",re=")";if(w>=0){switch(_="",n[0][w][1][0]){case 2:Q=Bi(" ",n[0][w][1][1])+Q;break;case 3:Q=Bi("\r",n[0][w][1][1])+Q;break;case 4:re=Bi(" ",n[0][w][1][1])+re;break;case 5:re=Bi("\r",n[0][w][1][1])+re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}o.push(Q+o.pop()+re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:R[1][1],r:R[1][0]};var ge={c:t.c,r:t.r};if(r.sharedf[Sn(h)]){var K=r.sharedf[Sn(h)];o.push(Ma(K,a,ge,r,i))}else{var ce=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(Ma(u[1],a,ge,r,i)),ce=!0;break}ce||o.push(R[1])}break;case"PtgArray":o.push("{"+Kie(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var Te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Te.indexOf(n[0][T][0])==-1){R=n[0][w];var me=!0;switch(R[1][0]){case 4:me=!1;case 0:_=Bi(" ",R[1][1]);break;case 5:me=!1;case 1:_=Bi("\r",R[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((me?_:"")+o.pop()+(me?"":_)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Qie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Ua(n,e-2)];var o=eb(n,a,t);return e!==a+i&&(s=Qy(n,e-a-i,o,t)),n.l=r,[o,s]}function ese(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Ua(n,e-2)];var o=eb(n,a,t);return e!==a+i&&(s=Qy(n,e-a-i,o,t)),n.l=r,[o,s]}function tse(n,e,t,r){var i=n.l+e,s=eb(n,r,t),a;return i!==n.l&&(a=Qy(n,i-n.l,s,t)),[s,a]}function nse(n,e,t){var r=n.l+e,i,s=n.read_shift(2),a=eb(n,s,t);return s==65535?[[],Ua(n,e-2)]:(e!==s+2&&(i=Qy(n,r-s-2,a,t)),[a,i])}function rse(n){var e;if(yh(n,n.l+6)!==65535)return[Pa(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function ise(n){if(n==null){var e=ot(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return xg(n);return xg(0)}function zA(n,e,t){var r=n.l+e,i=hf(n);t.biff==2&&++n.l;var s=rse(n),a=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=ese(n,r-n.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function sse(n,e,t,r,i){var s=bg(e,t,i),a=ise(n.v),o=ot(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ot(n.bf.length),h=0;h<n.bf.length;++h)u[h]=n.bf[h];var p=Vs([s,a,o,u]);return p}function M5(n,e,t){var r=n.read_shift(4),i=eb(n,r,t),s=n.read_shift(4),a=s>0?Qy(n,s,i,t):null;return[i,a]}var ase=M5,D5=M5,ose=M5,lse=M5,cse={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},use={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vL(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function fse(n){var e="of:="+n.replace(hC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function jA(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function hse(n){return n.replace(/\./,"!")}var Wx={},i1={},$x=typeof Map<"u";function gC(n,e,t){var r=0,i=n.length;if(t){if($x?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=$x?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&($x?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function F5(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Da=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=p2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=z_(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function ug(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function v0(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){Sh(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function u7(n,e,t,r,i,s){try{r.cellNF&&(n.z=_n[e])}catch(o){if(r.WTF)throw o}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=oi(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(_n[e]==null&&Sh(cZ[e]||"General",e),n.t==="e")n.w=n.w||Ph[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=o2(n.v);else if(n.t==="d"){var a=Rs(n.v);(a|0)===a?n.w=a.toString(10):n.w=o2(a)}else{if(n.v===void 0)return"";n.w=mg(n.v,i1)}else n.t==="d"?n.w=cc(e,Rs(n.v),i1):n.w=cc(e,n.v,i1)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&t!=null)try{n.s=s.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=H_(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=H_(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function dse(n,e,t){if(n&&n["!ref"]){var r=gr(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function pse(n,e){var t=gr(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=On(t))}var gse=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,mse=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,vse=/<(?:\w:)?hyperlink [^>]*>/mg,xse=/"(\w*:\w*)"/,yse=/<(?:\w:)?col\b[^>]*[\/]?>/g,bse=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wse=/<(?:\w:)?pageMargins[^>]*\/>/g,f7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_se=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Sse=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ase(n,e,t,r,i,s,a){if(!n)return n;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",p=n.match(mse);p?(u=n.slice(0,p.index),h=n.slice(p.index+p[0].length)):u=h=n;var g=u.match(f7);g?mC(g[0],o,i,t):(g=u.match(_se))&&Tse(g[0],g[1]||"",o,i,t);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var b=u.slice(m,m+50).match(xse);b&&pse(o,b[1])}var w=u.match(Sse);w&&w[1]&&Use(w[1],i);var _=[];if(e.cellStyles){var T=u.match(yse);T&&Dse(_,T)}p&&jse(p[1],o,e,c,s,a);var L=h.match(bse);L&&(o["!autofilter"]=Pse(L[0]));var R=[],D=h.match(gse);if(D)for(m=0;m!=D.length;++m)R[m]=gr(D[m].slice(D[m].indexOf('"')+1));var j=h.match(vse);j&&Lse(o,j,r);var G=h.match(wse);if(G&&(o["!margins"]=Ise(An(G[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=On(c)),e.sheetRows>0&&o["!ref"]){var P=gr(o["!ref"]);e.sheetRows<=+P.e.r&&(P.e.r=e.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=On(P))}return _.length>0&&(o["!cols"]=_),R.length>0&&(o["!merges"]=R),o}function Ese(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+On(n[t])+'"/>';return e+"</mergeCells>"}function mC(n,e,t,r){var i=An(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=dr(qr(i.codeName)))}function Tse(n,e,t,r,i){mC(n.slice(0,n.indexOf(">")),t,r,i)}function Cse(n,e,t,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,a.codeName=of(Fr(c))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),o=(o||"")+Rt("outlinePr",null,u)}!s&&!o||(i[i.length]=Rt("sheetPr",o,a))}var kse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nse=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Rse(n){var e={sheet:1};return kse.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Nse.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=cC(n.password).toString(16).toUpperCase()),Rt("sheetProtection",null,e)}function Lse(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var s=An(qr(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+dr(s.location))):(s.Target="#"+dr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=gr(s.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var h=Sn({c:u,r:c});r?(n[c]||(n[c]=[]),n[c][u]||(n[c][u]={t:"z",v:void 0}),n[c][u].l=s):(n[h]||(n[h]={t:"z",v:void 0}),n[h].l=s)}}}function Ise(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function Mse(n){return ug(n),Rt("pageMargins",null,n)}function Dse(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=An(e[r],!0);i.hidden&&(i.hidden=si(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,uC(i.width)),c0(i);s<=a;)n[s++]=li(i)}}function Fse(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Rt("col",null,F5(i,r)));return t[t.length]="</cols>",t.join("")}function Pse(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}function Ose(n,e,t,r){var i=typeof n.ref=="string"?n.ref:On(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=Ho(i);a.s.r==a.e.r&&(a.e.r=Ho(e["!ref"]).e.r,i=On(a));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Rt("autoFilter",null,{ref:i})}var Bse=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Use(n,e){e.Views||(e.Views=[{}]),(n.match(Bse)||[]).forEach(function(t,r){var i=An(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),si(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function Hse(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Rt("sheetViews",Rt("sheetView",null,i),{})}function zse(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Ph[n.v];break;case"d":r&&r.cellDates?i=oi(n.v,-1).toISOString():(n=li(n),n.t="n",i=""+(n.v=Rs(oi(n.v)))),typeof n.z>"u"&&(n.z=_n[14]);break;default:i=n.v;break}var o=ha("v",Fr(i)),c={r:e},u=v0(r.cellXfs,n,r);switch(u!==0&&(c.s=u),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ha("v",""+gC(r.Strings,n.v,r.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=s&&(n.t=s,n.v=a),typeof n.f=="string"&&n.f){var h=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;o=Rt("f",Fr(n.f),h)+(n.v!=null?o:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),Rt("c",o,c)}var jse=(function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=l2("v"),a=l2("f");return function(c,u,h,p,g,m){for(var b=0,w="",_=[],T=[],L=0,R=0,D=0,j="",G,P,W=0,O=0,ee,B,q=0,Q=0,re=Array.isArray(m.CellXf),ge,K=[],ce=[],Te=Array.isArray(u),me=[],Oe={},se=!1,I=!!h.sheetStubs,U=c.split(e),z=0,Y=U.length;z!=Y;++z){w=U[z].trim();var oe=w.length;if(oe!==0){var ye=0;e:for(b=0;b<oe;++b)switch(w[b]){case">":if(w[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(P=An(w.slice(ye,b),!0),W=P.r!=null?parseInt(P.r,10):W+1,O=-1,h.sheetRows&&h.sheetRows<W)continue;Oe={},se=!1,P.ht&&(se=!0,Oe.hpt=parseFloat(P.ht),Oe.hpx=gv(Oe.hpt)),P.hidden=="1"&&(se=!0,Oe.hidden=!0),P.outlineLevel!=null&&(se=!0,Oe.level=+P.outlineLevel),se&&(me[W-1]=Oe)}break;case"<":ye=b;break}if(ye>=b)break;if(P=An(w.slice(ye,b),!0),W=P.r!=null?parseInt(P.r,10):W+1,O=-1,!(h.sheetRows&&h.sheetRows<W)){p.s.r>W-1&&(p.s.r=W-1),p.e.r<W-1&&(p.e.r=W-1),h&&h.cellStyles&&(Oe={},se=!1,P.ht&&(se=!0,Oe.hpt=parseFloat(P.ht),Oe.hpx=gv(Oe.hpt)),P.hidden=="1"&&(se=!0,Oe.hidden=!0),P.outlineLevel!=null&&(se=!0,Oe.level=+P.outlineLevel),se&&(me[W-1]=Oe)),_=w.slice(b).split(n);for(var fe=0;fe!=_.length&&_[fe].trim().charAt(0)=="<";++fe);for(_=_.slice(fe),b=0;b!=_.length;++b)if(w=_[b].trim(),w.length!==0){if(T=w.match(t),L=b,R=0,D=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,T!=null&&T.length===2){for(L=0,j=T[1],R=0;R!=j.length&&!((D=j.charCodeAt(R)-64)<1||D>26);++R)L=26*L+D;--L,O=L}else++O;for(R=0;R!=w.length&&w.charCodeAt(R)!==62;++R);if(++R,P=An(w.slice(0,R),!0),P.r||(P.r=Sn({r:W-1,c:O})),j=w.slice(R),G={t:""},(T=j.match(s))!=null&&T[1]!==""&&(G.v=dr(T[1])),h.cellFormula){if((T=j.match(a))!=null&&T[1]!==""){if(G.f=dr(qr(T[1])).replace(/\r\n/g,`
`),h.xlfn||(G.f=dL(G.f)),T[0].indexOf('t="array"')>-1)G.F=(j.match(i)||[])[1],G.F.indexOf(":")>-1&&K.push([gr(G.F),G.F]);else if(T[0].indexOf('t="shared"')>-1){B=An(T[0]);var Ae=dr(qr(T[1]));h.xlfn||(Ae=dL(Ae)),ce[parseInt(B.si,10)]=[B,Ae,P.r]}}else(T=j.match(/<f[^>]*\/>/))&&(B=An(T[0]),ce[B.si]&&(G.f=Bre(ce[B.si][1],ce[B.si][2],P.r)));var Re=Ci(P.r);for(R=0;R<K.length;++R)Re.r>=K[R][0].s.r&&Re.r<=K[R][0].e.r&&Re.c>=K[R][0].s.c&&Re.c<=K[R][0].e.c&&(G.F=K[R][1])}if(P.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(I)G.t="z";else continue;else G.t=P.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),G.t){case"n":if(G.v==""||G.v==null){if(!I)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!I)continue;G.t="z"}else ee=Wx[parseInt(G.v,10)],G.v=ee.t,G.r=ee.r,h.cellHTML&&(G.h=ee.h);break;case"str":G.t="s",G.v=G.v!=null?qr(G.v):"",h.cellHTML&&(G.h=X4(G.v));break;case"inlineStr":T=j.match(r),G.t="s",T!=null&&(ee=lC(T[1]))?(G.v=ee.t,h.cellHTML&&(G.h=ee.h)):G.v="";break;case"b":G.v=si(G.v);break;case"d":h.cellDates?G.v=oi(G.v,1):(G.v=Rs(oi(G.v,1)),G.t="n");break;case"e":(!h||h.cellText!==!1)&&(G.w=G.v),G.v=dP[G.v];break}if(q=Q=0,ge=null,re&&P.s!==void 0&&(ge=m.CellXf[P.s],ge!=null&&(ge.numFmtId!=null&&(q=ge.numFmtId),h.cellStyles&&ge.fillId!=null&&(Q=ge.fillId))),u7(G,q,Q,h,g,m),h.cellDates&&re&&G.t=="n"&&bv(_n[q])&&(G.t="d",G.v=L5(G.v)),P.cm&&h.xlmeta){var et=(h.xlmeta.Cell||[])[+P.cm-1];et&&et.type=="XLDAPR"&&(G.D=!0)}if(Te){var de=Ci(P.r);u[de.r]||(u[de.r]=[]),u[de.r][de.c]=G}else u[P.r]=G}}}}me.length>0&&(u["!rows"]=me)}})();function Gse(n,e,t,r){var i=[],s=[],a=gr(n["!ref"]),o="",c,u="",h=[],p=0,g=0,m=n["!rows"],b=Array.isArray(n),w={r:u},_,T=-1;for(g=a.s.c;g<=a.e.c;++g)h[g]=Ti(g);for(p=a.s.r;p<=a.e.r;++p){for(s=[],u=Zi(p),g=a.s.c;g<=a.e.c;++g){c=h[g]+u;var L=b?(n[p]||[])[g]:n[c];L!==void 0&&(o=zse(L,c,n,e))!=null&&s.push(o)}(s.length>0||m&&m[p])&&(w={r:u},m&&m[p]&&(_=m[p],_.hidden&&(w.hidden=1),T=-1,_.hpx?T=g2(_.hpx):_.hpt&&(T=_.hpt),T>-1&&(w.ht=T,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),i[i.length]=Rt("row",s.join(""),w))}if(m)for(;p<m.length;++p)m&&m[p]&&(w={r:p+1},_=m[p],_.hidden&&(w.hidden=1),T=-1,_.hpx?T=g2(_.hpx):_.hpt&&(T=_.hpt),T>-1&&(w.ht=T,w.customHeight=1),_.level&&(w.outlineLevel=_.level),i[i.length]=Rt("row","",w));return i.join("")}function h7(n,e,t,r){var i=[es,Rt("worksheet",null,{xmlns:Cg[0],"xmlns:r":ks.r})],s=t.SheetNames[n],a=0,o="",c=t.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",h=gr(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=On(h)}r||(r={}),c["!comments"]=[];var p=[];Cse(c,t,n,e,i),i[i.length]=Rt("dimension",null,{ref:u}),i[i.length]=Hse(c,e,n,t),e.sheetFormat&&(i[i.length]=Rt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Fse(c,c["!cols"])),i[a=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Gse(c,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),c["!protect"]&&(i[i.length]=Rse(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Ose(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=Ese(c["!merges"]));var g=-1,m,b=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=Mr(r,-1,Fr(w[1].Target).replace(/#.*$/,""),Xn.HLINK),m["r:id"]="rId"+b),(g=w[1].Target.indexOf("#"))>-1&&(m.location=Fr(w[1].Target.slice(g+1))),w[1].Tooltip&&(m.tooltip=Fr(w[1].Tooltip)),i[i.length]=Rt("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Mse(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ha("ignoredErrors",Rt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(b=Mr(r,-1,"../drawings/drawing"+(n+1)+".xml",Xn.DRAW),i[i.length]=Rt("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=p),c["!comments"].length>0&&(b=Mr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Xn.VML),i[i.length]=Rt("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function qse(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function Vse(n,e,t){var r=ot(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=g2(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var u={r:n,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,g=-1,m=h<<10;m<h+1<<10;++m){u.c=m;var b=Array.isArray(t)?(t[u.r]||[])[u.c]:t[Sn(u)];b&&(p<0&&(p=m),g=m)}p<0||(++o,r.write_shift(4,p),r.write_shift(4,g))}var w=r.l;return r.l=c,r.write_shift(4,o),r.l=w,r.length>r.l?r.slice(0,r.l):r}function Wse(n,e,t,r){var i=Vse(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&bt(n,0,i)}var $se=Lg,Xse=Sv;function Yse(){}function Kse(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=QZ(n),t}function Jse(n,e,t){t==null&&(t=ot(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return O_({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),lP(n,t),t.slice(0,t.l)}function Zse(n){var e=uc(n);return[e]}function Qse(n,e,t){return t==null&&(t=ot(8)),kg(e,t)}function eae(n){var e=Ng(n);return[e]}function tae(n,e,t){return t==null&&(t=ot(4)),Rg(e,t)}function nae(n){var e=uc(n),t=n.read_shift(1);return[e,t,"b"]}function rae(n,e,t){return t==null&&(t=ot(9)),kg(e,t),t.write_shift(1,n.v?1:0),t}function iae(n){var e=Ng(n),t=n.read_shift(1);return[e,t,"b"]}function sae(n,e,t){return t==null&&(t=ot(5)),Rg(e,t),t.write_shift(1,n.v?1:0),t}function aae(n){var e=uc(n),t=n.read_shift(1);return[e,t,"e"]}function oae(n,e,t){return t==null&&(t=ot(9)),kg(e,t),t.write_shift(1,n.v),t}function lae(n){var e=Ng(n),t=n.read_shift(1);return[e,t,"e"]}function cae(n,e,t){return t==null&&(t=ot(8)),Rg(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function uae(n){var e=uc(n),t=n.read_shift(4);return[e,t,"s"]}function fae(n,e,t){return t==null&&(t=ot(12)),kg(e,t),t.write_shift(4,e.v),t}function hae(n){var e=Ng(n),t=n.read_shift(4);return[e,t,"s"]}function dae(n,e,t){return t==null&&(t=ot(8)),Rg(e,t),t.write_shift(4,e.v),t}function pae(n){var e=uc(n),t=Pa(n);return[e,t,"n"]}function gae(n,e,t){return t==null&&(t=ot(16)),kg(e,t),xg(n.v,t),t}function d7(n){var e=Ng(n),t=Pa(n);return[e,t,"n"]}function mae(n,e,t){return t==null&&(t=ot(12)),Rg(e,t),xg(n.v,t),t}function vae(n){var e=uc(n),t=rC(n);return[e,t,"n"]}function xae(n,e,t){return t==null&&(t=ot(12)),kg(e,t),cP(n.v,t),t}function yae(n){var e=Ng(n),t=rC(n);return[e,t,"n"]}function bae(n,e,t){return t==null&&(t=ot(8)),Rg(e,t),cP(n.v,t),t}function wae(n){var e=uc(n),t=eC(n);return[e,t,"is"]}function _ae(n){var e=uc(n),t=Ba(n);return[e,t,"str"]}function Sae(n,e,t){return t==null&&(t=ot(12+4*n.v.length)),kg(e,t),Ws(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Aae(n){var e=Ng(n),t=Ba(n);return[e,t,"str"]}function Eae(n,e,t){return t==null&&(t=ot(8+4*n.v.length)),Rg(e,t),Ws(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Tae(n,e,t){var r=n.l+e,i=uc(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"b"];if(t.cellFormula){n.l+=2;var o=D5(n,r-n.l,t);a[3]=Ma(o,null,i,t.supbooks,t)}else n.l=r;return a}function Cae(n,e,t){var r=n.l+e,i=uc(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"e"];if(t.cellFormula){n.l+=2;var o=D5(n,r-n.l,t);a[3]=Ma(o,null,i,t.supbooks,t)}else n.l=r;return a}function kae(n,e,t){var r=n.l+e,i=uc(n);i.r=t["!row"];var s=Pa(n),a=[i,s,"n"];if(t.cellFormula){n.l+=2;var o=D5(n,r-n.l,t);a[3]=Ma(o,null,i,t.supbooks,t)}else n.l=r;return a}function Nae(n,e,t){var r=n.l+e,i=uc(n);i.r=t["!row"];var s=Ba(n),a=[i,s,"str"];if(t.cellFormula){n.l+=2;var o=D5(n,r-n.l,t);a[3]=Ma(o,null,i,t.supbooks,t)}else n.l=r;return a}var Rae=Lg,Lae=Sv;function Iae(n,e){return e==null&&(e=ot(4)),e.write_shift(4,n),e}function Mae(n,e){var t=n.l+e,r=Lg(n),i=tC(n),s=Ba(n),a=Ba(n),o=Ba(n);n.l=t;var c={rfx:r,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function Dae(n,e){var t=ot(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Sv({s:Ci(n[0]),e:Ci(n[0])},t),nC("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Ws(i||"",t),Ws(n[1].Tooltip||"",t),Ws("",t),t.slice(0,t.l)}function Fae(){}function Pae(n,e,t){var r=n.l+e,i=uP(n),s=n.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=ase(n,r-n.l,t);a[1]=o}else n.l=r;return a}function Oae(n,e,t){var r=n.l+e,i=Lg(n),s=[i];if(t.cellFormula){var a=lse(n,r-n.l,t);s[1]=a,n.l=r}else n.l=r;return s}function Bae(n,e,t){t==null&&(t=ot(18));var r=F5(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var p7=["left","right","top","bottom","header","footer"];function Uae(n){var e={};return p7.forEach(function(t){e[t]=Pa(n)}),e}function Hae(n,e){return e==null&&(e=ot(48)),ug(n),p7.forEach(function(t){xg(n[t],e)}),e}function zae(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function jae(n,e,t){t==null&&(t=ot(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Gae(n){var e=ot(24);return e.write_shift(4,4),e.write_shift(4,1),Sv(n,e),e}function qae(n,e){return e==null&&(e=ot(66)),e.write_shift(2,n.password?cC(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Vae(){}function Wae(){}function $ae(n,e,t,r,i,s,a){if(!n)return n;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,b,w,_,T,L,R,D,j,G=[];o.biff=12,o["!row"]=0;var P=0,W=!1,O=[],ee={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=ee,B.arrayf=O,B.SheetNames=i.SheetNames||i.Sheets.map(function(Te){return Te.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var q=0;q<i.Names.length;++q)B[0][q+1]=i.Names[q];var Q=[],re=[],ge=!1;m2[16]={n:"BrtShortReal",f:d7};var K;if(Fh(n,function(me,Oe,se){if(!g)switch(se){case 148:u=me;break;case 0:m=me,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),D=Zi(_=m.r),o["!row"]=m.r,(me.hidden||me.hpt||me.level!=null)&&(me.hpt&&(me.hpx=gv(me.hpt)),re[me.r]=me);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:me[2]},me[2]){case"n":b.v=me[1];break;case"s":R=Wx[me[1]],b.v=R.t,b.r=R.r;break;case"b":b.v=!!me[1];break;case"e":b.v=me[1],o.cellText!==!1&&(b.w=Ph[b.v]);break;case"str":b.t="s",b.v=me[1];break;case"is":b.t="s",b.v=me[1].t;break}if((w=a.CellXf[me[0].iStyleRef])&&u7(b,w.numFmtId,null,o,s,a),T=me[0].c==-1?T+1:me[0].c,o.dense?(c[_]||(c[_]=[]),c[_][T]=b):c[Ti(T)+D]=b,o.cellFormula){for(W=!1,P=0;P<O.length;++P){var I=O[P];m.r>=I[0].s.r&&m.r<=I[0].e.r&&T>=I[0].s.c&&T<=I[0].e.c&&(b.F=On(I[0]),W=!0)}!W&&me.length>3&&(b.f=me[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>T&&(h.s.c=T),h.e.r<m.r&&(h.e.r=m.r),h.e.c<T&&(h.e.c=T),o.cellDates&&w&&b.t=="n"&&bv(_n[w.numFmtId])){var U=tp(b.v);U&&(b.t="d",b.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;b={t:"z",v:void 0},T=me[0].c==-1?T+1:me[0].c,o.dense?(c[_]||(c[_]=[]),c[_][T]=b):c[Ti(T)+D]=b,h.s.r>m.r&&(h.s.r=m.r),h.s.c>T&&(h.s.c=T),h.e.r<m.r&&(h.e.r=m.r),h.e.c<T&&(h.e.c=T),K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 176:G.push(me);break;case 49:K=((o.xlmeta||{}).Cell||[])[me-1];break;case 494:var z=r["!id"][me.relId];for(z?(me.Target=z.Target,me.loc&&(me.Target+="#"+me.loc),me.Rel=z):me.relId==""&&(me.Target="#"+me.loc),_=me.rfx.s.r;_<=me.rfx.e.r;++_)for(T=me.rfx.s.c;T<=me.rfx.e.c;++T)o.dense?(c[_]||(c[_]=[]),c[_][T]||(c[_][T]={t:"z",v:void 0}),c[_][T].l=me):(L=Sn({c:T,r:_}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=me);break;case 426:if(!o.cellFormula)break;O.push(me),j=o.dense?c[_][T]:c[Ti(T)+D],j.f=Ma(me[1],h,{r:m.r,c:T},B,o),j.F=On(me[0]);break;case 427:if(!o.cellFormula)break;ee[Sn(me[0].s)]=me[1],j=o.dense?c[_][T]:c[Ti(T)+D],j.f=Ma(me[1],h,{r:m.r,c:T},B,o);break;case 60:if(!o.cellStyles)break;for(;me.e>=me.s;)Q[me.e--]={width:me.w/256,hidden:!!(me.flags&1),level:me.level},ge||(ge=!0,uC(me.w/256)),c0(Q[me.e+1]);break;case 161:c["!autofilter"]={ref:On(me)};break;case 476:c["!margins"]=me;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),me.name&&(i.Sheets[t].CodeName=me.name),(me.above||me.left)&&(c["!outline"]={above:me.above,left:me.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),me.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Oe.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=On(u||h)),o.sheetRows&&c["!ref"]){var ce=gr(c["!ref"]);o.sheetRows<=+ce.e.r&&(ce.e.r=o.sheetRows-1,ce.e.r>h.e.r&&(ce.e.r=h.e.r),ce.e.r<ce.s.r&&(ce.s.r=ce.e.r),ce.e.c>h.e.c&&(ce.e.c=h.e.c),ce.e.c<ce.s.c&&(ce.s.c=ce.e.c),c["!fullref"]=c["!ref"],c["!ref"]=On(ce))}return G.length>0&&(c["!merges"]=G),Q.length>0&&(c["!cols"]=Q),re.length>0&&(c["!rows"]=re),c}function Xae(n,e,t,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=li(e),e.z=e.z||_n[14],e.v=Rs(oi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r:t,c:r};switch(c.s=v0(i.cellXfs,e,i),e.l&&s["!links"].push([Sn(c),e.l]),e.c&&s["!comments"].push([Sn(c),e.c]),e.t){case"s":case"str":return i.bookSST?(o=gC(i.Strings,e.v,i.revStrings),c.t="s",c.v=o,a?bt(n,18,dae(e,c)):bt(n,7,fae(e,c))):(c.t="str",a?bt(n,17,Eae(e,c)):bt(n,6,Sae(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?bt(n,13,bae(e,c)):bt(n,2,xae(e,c)):a?bt(n,16,mae(e,c)):bt(n,5,gae(e,c)),!0;case"b":return c.t="b",a?bt(n,15,sae(e,c)):bt(n,4,rae(e,c)),!0;case"e":return c.t="e",a?bt(n,14,cae(e,c)):bt(n,3,oae(e,c)),!0}return a?bt(n,12,tae(e,c)):bt(n,1,Qse(e,c)),!0}function Yae(n,e,t,r){var i=gr(e["!ref"]||"A1"),s,a="",o=[];bt(n,145);var c=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=u;++h){a=Zi(h),Wse(n,e,i,h);var p=!1;if(h<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){h===i.s.r&&(o[g]=Ti(g)),s=o[g]+a;var m=c?(e[h]||[])[g]:e[s];if(!m){p=!1;continue}p=Xae(n,m,h,g,r,e,p)}}bt(n,146)}function Kae(n,e){!e||!e["!merges"]||(bt(n,177,Iae(e["!merges"].length)),e["!merges"].forEach(function(t){bt(n,176,Lae(t))}),bt(n,178))}function Jae(n,e){!e||!e["!cols"]||(bt(n,390),e["!cols"].forEach(function(t,r){t&&bt(n,60,Bae(r,t))}),bt(n,391))}function Zae(n,e){!e||!e["!ref"]||(bt(n,648),bt(n,649,Gae(gr(e["!ref"]))),bt(n,650))}function Qae(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Mr(t,-1,r[1].Target.replace(/#.*$/,""),Xn.HLINK);bt(n,494,Dae(r,i))}}),delete e["!links"]}function eoe(n,e,t,r){if(e["!comments"].length>0){var i=Mr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Xn.VML);bt(n,551,nC("rId"+i)),e["!legacy"]=i}}function toe(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:On(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=Ho(s);o.s.r==o.e.r&&(o.e.r=Ho(e["!ref"]).e.r,s=On(o));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),bt(n,161,Sv(gr(s))),bt(n,162)}}function noe(n,e,t){bt(n,133),bt(n,137,jae(e,t)),bt(n,138),bt(n,134)}function roe(n,e){e["!protect"]&&bt(n,535,qae(e["!protect"]))}function ioe(n,e,t,r){var i=Uo(),s=t.SheetNames[n],a=t.Sheets[s]||{},o=s;try{t&&t.Workbook&&(o=t.Workbook.Sheets[n].CodeName||o)}catch{}var c=gr(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],bt(i,129),(t.vbaraw||a["!outline"])&&bt(i,147,Jse(o,a["!outline"])),bt(i,148,Xse(c)),noe(i,a,t.Workbook),Jae(i,a),Yae(i,a,n,e),roe(i,a),toe(i,a,t,n),Kae(i,a),Qae(i,a,r),a["!margins"]&&bt(i,476,Hae(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Zae(i,a),eoe(i,a,n,r),bt(i,130),i.end()}function soe(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=dr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function aoe(n,e,t,r,i,s){var a=s||{"!type":"chart"};if(!n)return s;var o=0,c=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=soe(p);h.s.r=h.s.c=0,h.e.c=o,u=Ti(o),g[0].forEach(function(m,b){a[u+Zi(b)]={t:"n",v:m,z:g[1]},c=b}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(a["!ref"]=On(h)),a}function ooe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=n.match(f7);return o&&mC(o[0],s,i,t),(a=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function loe(n,e){n.l+=10;var t=Ba(n);return{name:t}}function coe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Fh(n,function(c,u,h){switch(h){case 550:s["!rel"]=c;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),c.name&&(i.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var vC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],uoe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],foe=[],hoe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xL(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=si(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function yL(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=si(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function g7(n){yL(n.WBProps,vC),yL(n.CalcPr,hoe),xL(n.WBView,uoe),xL(n.Sheets,foe),i1.date1904=si(n.WBProps.date1904)}function doe(n){return!n.Workbook||!n.Workbook.WBProps?"false":si(n.Workbook.WBProps.date1904)?"true":"false"}var poe="][*?/\\".split("");function m7(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return poe.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function goe(n,e,t){n.forEach(function(r,i){m7(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function moe(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];goe(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)dse(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}var voe=/<\w+:workbook/;function xoe(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(n.replace(Ha,function(c,u){var h=An(c);switch(ff(h[0])){case"<?xml":break;case"<workbook":c.match(voe)&&(i="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],t.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":vC.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":t.WBProps[p[0]]=si(h[p[0]]);break;case"int":t.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:t.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(t.WBProps.CodeName=qr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],t.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=dr(qr(h.name)),delete h[0],t.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=qr(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),si(h.hidden||"0")&&(s.Hidden=!0),a=u+c.length;break;case"</definedName>":s.Ref=dr(qr(n.slice(a,u))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],t.CalcPr=h;break;case"<calcPr/>":delete h[0],t.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),Cg.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return g7(t),t}function v7(n){var e=[es];e[e.length]=Rt("workbook",null,{xmlns:Cg[0],"xmlns:r":ks.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(vC.forEach(function(o){n.Workbook.WBProps[o[0]]!=null&&n.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=n.Workbook.WBProps[o[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Rt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:Fr(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Rt("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=Rt("definedName",Fr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function yoe(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=$T(n),t.name=Ba(n),t}function boe(n,e){return e||(e=ot(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),nC(n.strRelID,e),Ws(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function woe(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Ba(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function _oe(n,e){e||(e=ot(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),lP(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Soe(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function Aoe(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=eQ(n),a=ose(n,0,t),o=tC(n);n.l=r;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Eoe(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],m2[16]={n:"BrtFRTArchID$",f:Soe},Fh(n,function(c,u,h){switch(h){case 156:a.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ma(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([h,c]):a[0]=[h,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),g7(t),t.Names=s,t.supbooks=a,t}function Toe(n,e){bt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};bt(n,156,boe(i))}bt(n,144)}function Coe(n,e){e||(e=ot(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Ws("SheetJS",e),Ws(R_.version,e),Ws(R_.version,e),Ws("7262",e),e.length>e.l?e.slice(0,e.l):e}function koe(n,e){e||(e=ot(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Noe(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(bt(n,135),bt(n,158,koe(i)),bt(n,136))}}function Roe(n,e){var t=Uo();return bt(t,131),bt(t,128,Coe()),bt(t,153,_oe(n.Workbook&&n.Workbook.WBProps||null)),Noe(t,n),Toe(t,n),bt(t,132),t.end()}function Loe(n,e,t){return e.slice(-4)===".bin"?Eoe(n,t):xoe(n,t)}function Ioe(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?$ae(n,r,t,i,s,a,o):Ase(n,r,t,i,s,a,o)}function Moe(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?coe(n,r,t,i,s):ooe(n,r,t,i,s)}function Doe(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?Pre():Ore()}function Foe(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?Dre():Fre()}function Poe(n,e,t,r){return e.slice(-4)===".bin"?Lne(n,t,r):yne(n,t,r)}function Ooe(n,e,t){return JP(n,t)}function Boe(n,e,t){return e.slice(-4)===".bin"?Bte(n,t):Fte(n,t)}function Uoe(n,e,t){return e.slice(-4)===".bin"?Nre(n,t):bre(n,t)}function Hoe(n,e,t){return e.slice(-4)===".bin"?vre(n):gre(n)}function zoe(n,e,t,r){return t.slice(-4)===".bin"?xre(n,e,t,r):void 0}function joe(n,e,t){return e.slice(-4)===".bin"?hre(n,e,t):pre(n,e,t)}function Goe(n,e,t){return(e.slice(-4)===".bin"?Roe:v7)(n)}function qoe(n,e,t,r,i){return(e.slice(-4)===".bin"?ioe:h7)(n,t,r,i)}function Voe(n,e,t){return(e.slice(-4)===".bin"?zne:YP)(n,t)}function Woe(n,e,t){return(e.slice(-4)===".bin"?zte:zP)(n,t)}function $oe(n,e,t){return(e.slice(-4)===".bin"?Rre:e7)(n)}function Xoe(n){return(n.slice(-4)===".bin"?dre:ZP)()}var x7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,y7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Bc(n,e){var t=n.split(/\s+/),r=[];if(r[0]=t[0],t.length===1)return r;var i=n.match(x7),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(y7),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function Yoe(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(x7),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(y7),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var Xx;function Koe(n,e){var t=Xx[n]||dr(n);return t==="General"?mg(e):cc(t,e)}function Joe(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=si(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=oi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[dr(e)]=i}function Zoe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Ph[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=o2(n.v):n.w=mg(n.v):n.w=Koe(e||"General",n.v)}catch(s){if(t.WTF)throw s}try{var r=Xx[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&bv(r)){var i=tp(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function Qoe(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=fne[r.Pattern]||r.Pattern)}n[e.ID]=e}function ele(n,e,t,r,i,s,a,o,c,u){var h="General",p=r.StyleID,g={};u=u||{};var m=[],b=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(h=s[p].nf),s[p].Interior&&m.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=si(n);break;case"String":r.t="s",r.r=PR(dr(n)),r.v=n.indexOf("<")>-1?dr(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(oi(n)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=dr(n):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=dP[n],u.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=PR(e||n));break}if(Zoe(r,h,u),u.cellFormula!==!1)if(r.Formula){var w=dr(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=r1(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=r1("RC:RC",i):r.ArrayRange&&(r.F=r1(r.ArrayRange,i),c.push([gr(r.F),r.F]))}else for(b=0;b<c.length;++b)i.r>=c[b][0].s.r&&i.r<=c[b][0].e.r&&i.c>=c[b][0].s.c&&i.c<=c[b][0].e.c&&(r.F=c[b][1]);u.cellStyles&&(m.forEach(function(_){!g.patternType&&_.patternType&&(g.patternType=_.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function tle(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function GA(n,e){var t=e||{};wv();var r=Mx(Y4(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(r=qr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=li(t);return a.type="string",pv.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(St){i.indexOf("<"+St)>=0&&(s=!0)}),s)return Hle(r,t);Xx={"General Number":"General","General Date":_n[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_n[15],"Short Date":_n[14],"Long Time":_n[19],"Medium Time":_n[18],"Short Time":_n[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_n[2],Standard:_n[4],Percent:_n[10],Scientific:_n[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,h={},p=[],g=t.dense?[]:{},m="",b={},w={},_=Bc('<Data ss:Type="String">'),T=0,L=0,R=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},G={},P="",W=0,O=[],ee={},B={},q=0,Q=[],re=[],ge={},K=[],ce,Te=!1,me=[],Oe=[],se={},I=0,U=0,z={Sheets:[],WBProps:{date1904:!1}},Y={};u2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";o=u2.exec(r);)switch(o[3]=(oe=o[3]).toLowerCase()){case"data":if(oe=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?ele(r.slice(T,o.index),P,_,c[c.length-1][0]=="comment"?ge:b,{c:L,r:R},j,K[L],w,me,t):(P="",_=Bc(o[0]),T=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(re.length>0&&(b.c=re),(!t.sheetRows||t.sheetRows>R)&&b.v!==void 0&&(t.dense?(g[R]||(g[R]=[]),g[R][L]=b):g[Ti(L)+Zi(R)]=b),b.HRef&&(b.l={Target:dr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(I=L+(parseInt(b.MergeAcross,10)|0),U=R+(parseInt(b.MergeDown,10)|0),O.push({s:{c:L,r:R},e:{c:I,r:U}})),!t.sheetStubs)b.MergeAcross?L=I+1:++L;else if(b.MergeAcross||b.MergeDown){for(var ye=L;ye<=I;++ye)for(var fe=R;fe<=U;++fe)(ye>L||fe>R)&&(t.dense?(g[fe]||(g[fe]=[]),g[fe][ye]={t:"z"}):g[Ti(ye)+Zi(fe)]={t:"z"});L=I+1}else++L;else b=Yoe(o[0]),b.Index&&(L=+b.Index-1),L<D.s.c&&(D.s.c=L),L>D.e.c&&(D.e.c=L),o[0].slice(-2)==="/>"&&++L,re=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<D.s.r&&(D.s.r=R),R>D.e.r&&(D.e.r=R),o[0].slice(-2)==="/>"&&(w=Bc(o[0]),w.Index&&(R=+w.Index-1)),L=0,++R):(w=Bc(o[0]),w.Index&&(R=+w.Index-1),se={},(w.AutoFitHeight=="0"||w.Height)&&(se.hpx=parseInt(w.Height,10),se.hpt=g2(se.hpx),Oe[R]=se),w.Hidden=="1"&&(se.hidden=!0,Oe[R]=se));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(m),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=On(D),t.sheetRows&&t.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=t.sheetRows-1,g["!ref"]=On(D))),O.length&&(g["!merges"]=O),K.length>0&&(g["!cols"]=K),Oe.length>0&&(g["!rows"]=Oe),h[m]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=L=0,c.push([o[3],!1]),u=Bc(o[0]),m=dr(u.Name),g=t.dense?[]:{},O=[],me=[],Oe=[],Y={name:m,Hidden:0},z.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),K=[],Te=!1}break;case"style":o[1]==="/"?Qoe(j,G,t):G=Bc(o[0]);break;case"numberformat":G.nf=dr(Bc(o[0]).Format||"General"),Xx[G.nf]&&(G.nf=Xx[G.nf]);for(var Ae=0;Ae!=392&&_n[Ae]!=G.nf;++Ae);if(Ae==392){for(Ae=57;Ae!=392;++Ae)if(_n[Ae]==null){Sh(G.nf,Ae);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ce=Bc(o[0]),ce.Hidden&&(ce.hidden=!0,delete ce.Hidden),ce.Width&&(ce.wpx=parseInt(ce.Width,10)),!Te&&ce.wpx>10){Te=!0,Da=$P;for(var Re=0;Re<K.length;++Re)K[Re]&&c0(K[Re])}Te&&c0(ce),K[ce.Index-1||K.length]=ce;for(var et=0;et<+ce.Span;++et)K[K.length]=li(ce);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var de=An(o[0]),gt={Name:de.Name,Ref:r1(de.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(gt.Sheet=z.Sheets.length-1),z.Names.push(gt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=r.slice(W,o.index):W=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;G.Interior=Bc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?EQ(ee,oe,r.slice(q,o.index)):q=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));tle(ge),re.push(ge)}else c.push([o[3],!1]),u=Bc(o[0]),ge={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var vt=Bc(o[0]);g["!autofilter"]={ref:r1(vt.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return AL(r,t);var pe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(q,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else q=o.index+o[0].length;break;case"header":g["!margins"]||ug(g["!margins"]={},"xlml"),isNaN(+An(o[0]).Margin)||(g["!margins"].header=+An(o[0]).Margin);break;case"footer":g["!margins"]||ug(g["!margins"]={},"xlml"),isNaN(+An(o[0]).Margin)||(g["!margins"].footer=+An(o[0]).Margin);break;case"pagemargins":var He=An(o[0]);g["!margins"]||ug(g["!margins"]={},"xlml"),isNaN(+He.Top)||(g["!margins"].top=+He.Top),isNaN(+He.Left)||(g["!margins"].left=+He.Left),isNaN(+He.Right)||(g["!margins"].right=+He.Right),isNaN(+He.Bottom)||(g["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Joe(B,oe,Q,r.slice(q,o.index)):(Q=o,q=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Ke={};return!t.bookSheets&&!t.bookProps&&(Ke.Sheets=h),Ke.SheetNames=p,Ke.Workbook=z,Ke.SSF=li(_n),Ke.Props=ee,Ke.Custprops=B,Ke}function e4(n,e){switch(yC(e=e||{}),e.type||"base64"){case"base64":return GA(El(n),e);case"binary":case"buffer":case"file":return GA(n,e);case"array":return GA(g0(n),e)}}function nle(n,e){var t=[];return n.Props&&t.push(TQ(n.Props,e)),n.Custprops&&t.push(CQ(n.Props,n.Custprops)),t.join("")}function rle(){return""}function ile(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Rt("NumberFormat",null,{"ss:Format":Fr(_n[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};t.push(Rt("Style",s.join(""),a))}),Rt("Styles",t.join(""))}function b7(n){return Rt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+dC(n.Ref,{r:0,c:0})})}function sle(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(b7(i)))}return Rt("Names",t.join(""))}function ale(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||s.push(b7(o)))}return s.join("")}function ole(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Rt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Rt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Rt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Rt("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(ha("ProtectContents","True")),n["!protect"].objects&&i.push(ha("ProtectObjects","True")),n["!protect"].scenarios&&i.push(ha("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(ha("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(ha("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Rt("WorksheetOptions",i.join(""),{xmlns:vl.x})}function lle(n){return n.map(function(e){var t=NZ(e.t||""),r=Rt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Rt("Comment",r,{"ss:Author":e.a})}).join("")}function cle(n,e,t,r,i,s,a){if(!n||n.v==null&&n.f==null)return"";var o={};if(n.f&&(o["ss:Formula"]="="+Fr(dC(n.f,a))),n.F&&n.F.slice(0,e.length)==e){var c=Ci(n.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(n.l&&n.l.Target&&(o["ss:HRef"]=Fr(n.l.Target),n.l.Tooltip&&(o["x:HRefScreenTip"]=Fr(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],h=0;h!=u.length;++h)u[h].s.c!=a.c||u[h].s.r!=a.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":p="Number",g=String(n.v);break;case"b":p="Boolean",g=n.v?"1":"0";break;case"e":p="Error",g=Ph[n.v];break;case"d":p="DateTime",g=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||_n[14]);break;case"s":p="String",g=kZ(n.v||"");break}var m=v0(r.cellXfs,n,r);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var b=n.v!=null?g:"",w=n.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(n.c||[]).length>0&&(w+=lle(n.c)),Rt("Cell",w,o)}function ule(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=gv(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function fle(n,e,t,r){if(!n["!ref"])return"";var i=gr(n["!ref"]),s=n["!merges"]||[],a=0,o=[];n["!cols"]&&n["!cols"].forEach(function(_,T){c0(_);var L=!!_.width,R=F5(T,_),D={"ss:Index":T+1};L&&(D["ss:Width"]=d2(R.width)),_.hidden&&(D["ss:Hidden"]="1"),o.push(Rt("Column",null,D))});for(var c=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var h=[ule(u,(n["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>u)&&!(s[a].e.c<p)&&!(s[a].e.r<u)){(s[a].s.c!=p||s[a].s.r!=u)&&(g=!0);break}if(!g){var m={r:u,c:p},b=Sn(m),w=c?(n[u]||[])[p]:n[b];h.push(cle(w,b,n,e,t,r,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function hle(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],a=s?ale(s,e,n,t):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?fle(s,e,n,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(ole(s,e,n,t)),r.join("")}function dle(n,e){e||(e={}),n.SSF||(n.SSF=li(_n)),n.SSF&&(wv(),k5(n.SSF),e.revssf=R5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],v0(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(nle(n,e)),t.push(rle()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Rt("Worksheet",hle(r,e,n),{"ss:Name":Fr(n.SheetNames[r])}));return t[2]=ile(n,e),t[3]=sle(n),es+Rt("Workbook",t.join(""),{xmlns:vl.ss,"xmlns:o":vl.o,"xmlns:x":vl.x,"xmlns:ss":vl.ss,"xmlns:dt":vl.dt,"xmlns:html":vl.html})}function ple(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=sQ(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=aQ(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var gle=[60,1084,2066,2165,2175];function mle(n,e,t,r,i){var s=r,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var c=yh(t,t.l),u=t4[c],h=0;u!=null&&gle.indexOf(c)>-1;)s=yh(t,t.l+2),h=t.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=t.slice(h,t.l+4+s),a.push(o),t.l+=4+s,u=t4[c=yh(t,t.l)];var p=Vs(a);fa(p,0);var g=0;p.lens=[];for(var m=0;m<a.length;++m)p.lens.push(g),g+=a[m].length;if(p.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,i)}function Ou(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=_n[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Ph[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=o2(n.v):n.w=mg(n.v):n.w=cc(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&n.t=="n"&&bv(_n[r]||String(r))){var i=tp(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function ww(n,e,t){return{v:n,ixfe:e,t}}function vle(n,e){var t={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,c=[],u="",h={},p,g="",m,b,w,_,T={},L=[],R,D,j=[],G=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},W={},O=function(Pe){return Pe<8?og[Pe]:Pe<64&&G[Pe-8]||og[Pe]},ee=function(Pe,Qe,Ht){var kt=Qe.XF.data;if(!(!kt||!kt.patternType||!Ht||!Ht.cellStyles)){Qe.s={},Qe.s.patternType=kt.patternType;var Nt;(Nt=h2(O(kt.icvFore)))&&(Qe.s.fgColor={rgb:Nt}),(Nt=h2(O(kt.icvBack)))&&(Qe.s.bgColor={rgb:Nt})}},B=function(Pe,Qe,Ht){if(!(se>1)&&!(Ht.sheetRows&&Pe.r>=Ht.sheetRows)){if(Ht.cellStyles&&Qe.XF&&Qe.XF.data&&ee(Pe,Qe,Ht),delete Qe.ixfe,delete Qe.XF,p=Pe,g=Sn(Pe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Pe.r<a.s.r&&(a.s.r=Pe.r),Pe.c<a.s.c&&(a.s.c=Pe.c),Pe.r+1>a.e.r&&(a.e.r=Pe.r+1),Pe.c+1>a.e.c&&(a.e.c=Pe.c+1),Ht.cellFormula&&Qe.f){for(var kt=0;kt<L.length;++kt)if(!(L[kt][0].s.c>Pe.c||L[kt][0].s.r>Pe.r)&&!(L[kt][0].e.c<Pe.c||L[kt][0].e.r<Pe.r)){Qe.F=On(L[kt][0]),(L[kt][0].s.c!=Pe.c||L[kt][0].s.r!=Pe.r)&&delete Qe.f,Qe.f&&(Qe.f=""+Ma(L[kt][1],a,Pe,me,q));break}}Ht.dense?(i[Pe.r]||(i[Pe.r]=[]),i[Pe.r][Pe.c]=Qe):i[g]=Qe}},q={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(q.password=e.password);var Q,re=[],ge=[],K=[],ce=[],Te=!1,me=[];me.SheetNames=q.snames,me.sharedf=q.sharedf,me.arrayf=q.arrayf,me.names=[],me.XTI=[];var Oe=0,se=0,I=0,U=[],z=[],Y;q.codepage=1200,tu(1200);for(var oe=!1;n.l<n.length-1;){var ye=n.l,fe=n.read_shift(2);if(fe===0&&Oe===10)break;var Ae=n.l===n.length?0:n.read_shift(2),Re=t4[fe];if(Re&&Re.f){if(e.bookSheets&&Oe===133&&fe!==133)break;if(Oe=fe,Re.r===2||Re.r==12){var et=n.read_shift(2);if(Ae-=2,!q.enc&&et!==fe&&((et&255)<<8|et>>8)!==fe)throw new Error("rt mismatch: "+et+"!="+fe);Re.r==12&&(n.l+=10,Ae-=10)}var de={};if(fe===10?de=Re.f(n,Ae,q):de=mle(fe,Re,n,Ae,q),se==0&&[9,521,1033,2057].indexOf(Oe)===-1)continue;switch(fe){case 34:t.opts.Date1904=P.WBProps.date1904=de;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(q.enc||(n.l=0),q.enc=de,!e.password)throw new Error("File is password-protected");if(de.valid==null)throw new Error("Encryption scheme unsupported");if(!de.valid)throw new Error("Password is incorrect");break;case 92:q.lastuser=de;break;case 66:var gt=Number(de);switch(gt){case 21010:gt=1200;break;case 32768:gt=1e4;break;case 32769:gt=1252;break}tu(q.codepage=gt),oe=!0;break;case 317:q.rrtabid=de;break;case 25:q.winlocked=de;break;case 439:t.opts.RefreshAll=de;break;case 12:t.opts.CalcCount=de;break;case 16:t.opts.CalcDelta=de;break;case 17:t.opts.CalcIter=de;break;case 13:t.opts.CalcMode=de;break;case 14:t.opts.CalcPrecision=de;break;case 95:t.opts.CalcSaveRecalc=de;break;case 15:q.CalcRefMode=de;break;case 2211:t.opts.FullCalc=de;break;case 129:de.fDialog&&(i["!type"]="dialog"),de.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),de.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:j.push(de);break;case 430:me.push([de]),me[me.length-1].XTI=[];break;case 35:case 547:me[me.length-1].push(de);break;case 24:case 536:Y={Name:de.Name,Ref:Ma(de.rgce,a,null,me,q)},de.itab>0&&(Y.Sheet=de.itab-1),me.names.push(Y),me[0]||(me[0]=[],me[0].XTI=[]),me[me.length-1].push(de),de.Name=="_xlnm._FilterDatabase"&&de.itab>0&&de.rgce&&de.rgce[0]&&de.rgce[0][0]&&de.rgce[0][0][0]=="PtgArea3d"&&(z[de.itab-1]={ref:On(de.rgce[0][0][1][2])});break;case 22:q.ExternCount=de;break;case 23:me.length==0&&(me[0]=[],me[0].XTI=[]),me[me.length-1].XTI=me[me.length-1].XTI.concat(de),me.XTI=me.XTI.concat(de);break;case 2196:if(q.biff<8)break;Y!=null&&(Y.Comment=de[1]);break;case 18:i["!protect"]=de;break;case 19:de!==0&&q.WTF&&console.error("Password verifier: "+de);break;case 133:s[de.pos]=de,q.snames.push(de.name);break;case 10:{if(--se)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=On(a),e.sheetRows&&e.sheetRows<=a.e.r){var vt=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=On(a),a.e.r=vt}a.e.r++,a.e.c++}re.length>0&&(i["!merges"]=re),ge.length>0&&(i["!objects"]=ge),K.length>0&&(i["!cols"]=K),ce.length>0&&(i["!rows"]=ce),P.Sheets.push(W)}u===""?h=i:r[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(q.biff===8&&(q.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[de.BIFFVer]||8),q.biffguess=de.BIFFVer==0,de.BIFFVer==0&&de.dt==4096&&(q.biff=5,oe=!0,tu(q.codepage=28591)),q.biff==8&&de.BIFFVer==0&&de.dt==16&&(q.biff=2),se++)break;if(i=e.dense?[]:{},q.biff<8&&!oe&&(oe=!0,tu(q.codepage=e.codepage||1252)),q.biff<5||de.BIFFVer==0&&de.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:n.l-Ae,name:u};s[pe.pos]=pe,q.snames.push(u)}else u=(s[ye]||{name:""}).name;de.dt==32&&(i["!type"]="chart"),de.dt==64&&(i["!type"]="macro"),re=[],ge=[],q.arrayf=L=[],K=[],ce=[],Te=!1,W={Hidden:(s[ye]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[de.r]||[])[de.c]:i[Sn({c:de.c,r:de.r})])&&++de.c,R={ixfe:de.ixfe,XF:j[de.ixfe]||{},v:de.val,t:"n"},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e);break;case 5:case 517:R={ixfe:de.ixfe,XF:j[de.ixfe],v:de.val,t:de.t},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e);break;case 638:R={ixfe:de.ixfe,XF:j[de.ixfe],v:de.rknum,t:"n"},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e);break;case 189:for(var He=de.c;He<=de.C;++He){var Ke=de.rkrec[He-de.c][0];R={ixfe:Ke,XF:j[Ke],v:de.rkrec[He-de.c][1],t:"n"},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:He,r:de.r},R,e)}break;case 6:case 518:case 1030:{if(de.val=="String"){o=de;break}if(R=ww(de.val,de.cell.ixfe,de.tt),R.XF=j[R.ixfe],e.cellFormula){var St=de.formula;if(St&&St[0]&&St[0][0]&&St[0][0][0]=="PtgExp"){var it=St[0][0][1][0],Dt=St[0][0][1][1],Ct=Sn({r:it,c:Dt});T[Ct]?R.f=""+Ma(de.formula,a,de.cell,me,q):R.F=((e.dense?(i[it]||[])[Dt]:i[Ct])||{}).F}else R.f=""+Ma(de.formula,a,de.cell,me,q)}I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B(de.cell,R,e),o=de}break;case 7:case 519:if(o)o.val=de,R=ww(de,o.cell.ixfe,"s"),R.XF=j[R.ixfe],e.cellFormula&&(R.f=""+Ma(o.formula,a,o.cell,me,q)),I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B(o.cell,R,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(de);var $t=Sn(de[0].s);if(m=e.dense?(i[de[0].s.r]||[])[de[0].s.c]:i[$t],e.cellFormula&&m){if(!o||!$t||!m)break;m.f=""+Ma(de[1],a,de[0],me,q),m.F=On(de[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;T[Sn(o.cell)]=de[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Sn(o.cell)],(m||{}).f=""+Ma(de[0],a,p,me,q)}}break;case 253:R=ww(c[de.isst].t,de.ixfe,"s"),c[de.isst].h&&(R.h=c[de.isst].h),R.XF=j[R.ixfe],I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e);break;case 513:e.sheetStubs&&(R={ixfe:de.ixfe,XF:j[de.ixfe],t:"z"},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e));break;case 190:if(e.sheetStubs)for(var _e=de.c;_e<=de.C;++_e){var Je=de.ixfe[_e-de.c];R={ixfe:Je,XF:j[Je],t:"z"},I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:_e,r:de.r},R,e)}break;case 214:case 516:case 4:R=ww(de.val,de.ixfe,"s"),R.XF=j[R.ixfe],I>0&&(R.z=U[R.ixfe>>8&63]),Ou(R,e,t.opts.Date1904),B({c:de.c,r:de.r},R,e);break;case 0:case 512:se===1&&(a=de);break;case 252:c=de;break;case 1054:if(q.biff==4){U[I++]=de[1];for(var ut=0;ut<I+163&&_n[ut]!=de[1];++ut);ut>=163&&Sh(de[1],I+163)}else Sh(de[1],de[0]);break;case 30:{U[I++]=de;for(var pt=0;pt<I+163&&_n[pt]!=de;++pt);pt>=163&&Sh(de,I+163)}break;case 229:re=re.concat(de);break;case 93:ge[de.cmo[0]]=q.lastobj=de;break;case 438:q.lastobj.TxO=de;break;case 127:q.lastobj.ImData=de;break;case 440:for(_=de[0].s.r;_<=de[0].e.r;++_)for(w=de[0].s.c;w<=de[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Sn({c:w,r:_})],m&&(m.l=de[1]);break;case 2048:for(_=de[0].s.r;_<=de[0].e.r;++_)for(w=de[0].s.c;w<=de[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Sn({c:w,r:_})],m&&m.l&&(m.l.Tooltip=de[1]);break;case 28:{if(q.biff<=5&&q.biff>=2)break;m=e.dense?(i[de[0].r]||[])[de[0].c]:i[Sn(de[0])];var Ut=ge[de[2]];m||(e.dense?(i[de[0].r]||(i[de[0].r]=[]),m=i[de[0].r][de[0].c]={t:"z"}):m=i[Sn(de[0])]={t:"z"},a.e.r=Math.max(a.e.r,de[0].r),a.s.r=Math.min(a.s.r,de[0].r),a.e.c=Math.max(a.e.c,de[0].c),a.s.c=Math.min(a.s.c,de[0].c)),m.c||(m.c=[]),b={a:de[1],t:Ut.TxO.t},m.c.push(b)}break;case 2173:ire(j[de.ixfe],de.ext);break;case 125:{if(!q.cellStyles)break;for(;de.e>=de.s;)K[de.e--]={width:de.w/256,level:de.level||0,hidden:!!(de.flags&1)},Te||(Te=!0,uC(de.w/256)),c0(K[de.e+1])}break;case 520:{var wt={};de.level!=null&&(ce[de.r]=wt,wt.level=de.level),de.hidden&&(ce[de.r]=wt,wt.hidden=!0),de.hpt&&(ce[de.r]=wt,wt.hpt=de.hpt,wt.hpx=gv(de.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||ug(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=de;break;case 161:i["!margins"]||ug(i["!margins"]={}),i["!margins"].header=de.header,i["!margins"].footer=de.footer;break;case 574:de.RTL&&(P.Views[0].RTL=!0);break;case 146:G=de;break;case 2198:Q=de;break;case 140:D=de;break;case 442:u?W.CodeName=de||W.name:P.WBProps.CodeName=de||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),n.l+=Ae}return t.SheetNames=Hi(s).sort(function(lt,Pe){return Number(lt)-Number(Pe)}).map(function(lt){return s[lt].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&h["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=h)):t.Preamble=h,t.Sheets&&z.forEach(function(lt,Pe){t.Sheets[t.SheetNames[Pe]]["!autofilter"]=lt}),t.Strings=c,t.SSF=li(_n),q.enc&&(t.Encryption=q.enc),Q&&(t.Themes=Q),t.Metadata={},D!==void 0&&(t.Metadata.Country=D),me.names.length>0&&(P.Names=me.names),t.Workbook=P,t}var Yx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xle(n,e,t){var r=mn.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=eL(r,XT,Yx.DSI);for(var s in i)e[s]=i[s]}catch(u){if(t.WTF)throw u}var a=mn.find(n,"/!SummaryInformation");if(a&&a.size>0)try{var o=eL(a,YT,Yx.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(yP(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function yle(n,e){var t=[],r=[],i=[],s=0,a,o=RR(XT,"n"),c=RR(YT,"n");if(n.Props)for(a=Hi(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?r:i).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=Hi(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?r:i).push([a[s],n.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)TP.indexOf(i[s][0])>-1||xP.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);r.length&&mn.utils.cfb_add(e,"/SummaryInformation",tL(r,Yx.SI,c,YT)),(t.length||u.length)&&mn.utils.cfb_add(e,"/DocumentSummaryInformation",tL(t,Yx.DSI,o,XT,u.length?u:null,Yx.UDI))}function w7(n,e){e||(e={}),yC(e),H4(),e.codepage&&U4(e.codepage);var t,r;if(n.FullPaths){if(mn.find(n,"/encryption"))throw new Error("File is password-protected");t=mn.find(n,"!CompObj"),r=mn.find(n,"/Workbook")||mn.find(n,"/Book")}else{switch(e.type){case"base64":n=wl(El(n));break;case"binary":n=wl(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}fa(n,0),r={content:n}}var i,s;if(t&&ple(t),e.bookProps&&!e.bookSheets)i={};else{var a=Vn?"buffer":"array";if(r&&r.content)i=vle(r.content,e);else if((s=mn.find(n,"PerfectOffice_MAIN"))&&s.content)i=cg.to_workbook(s.content,(e.type=a,e));else if((s=mn.find(n,"NativeContent_MAIN"))&&s.content)i=cg.to_workbook(s.content,(e.type=a,e));else throw(s=mn.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&mn.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Ire(n))}var o={};return n.FullPaths&&xle(n,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=n),i}function ble(n,e){var t=e||{},r=mn.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return mn.utils.cfb_add(r,i,_7(n,t)),t.biff==8&&(n.Props||n.Custprops)&&yle(n,r),t.biff==8&&n.vbaraw&&Mre(r,mn.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var m2={0:{f:qse},1:{f:Zse},2:{f:vae},3:{f:aae},4:{f:nae},5:{f:pae},6:{f:_ae},7:{f:uae},8:{f:Nae},9:{f:kae},10:{f:Tae},11:{f:Cae},12:{f:eae},13:{f:yae},14:{f:lae},15:{f:iae},16:{f:d7},17:{f:Aae},18:{f:hae},19:{f:eC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Aoe},40:{},42:{},43:{f:_ne},44:{f:bne},45:{f:Ene},46:{f:Cne},47:{f:Tne},48:{},49:{f:$Z},50:{},51:{f:ore},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:OP},62:{f:wae},63:{f:mre},64:{f:Vae},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ua,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zae},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Kse},148:{f:$se,p:16},151:{f:Fae},152:{},153:{f:woe},154:{},155:{},156:{f:yoe},157:{},158:{},159:{T:1,f:Ote},160:{T:-1},161:{T:1,f:Lg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Rae},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sre},336:{T:-1},337:{f:ure,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$T},357:{},358:{},359:{},360:{T:1},361:{},362:{f:PP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pae},427:{f:Oae},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Uae},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Yse},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Mae},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$T},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Cre},633:{T:1},634:{T:-1},635:{T:1,f:Ere},636:{T:-1},637:{f:JZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:loe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Wae},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},t4={6:{f:zA},10:{f:yd},12:{f:us},13:{f:us},14:{f:Wi},15:{f:Wi},16:{f:Pa},17:{f:Wi},18:{f:Wi},19:{f:us},20:{f:oL},21:{f:oL},23:{f:PP},24:{f:cL},25:{f:Wi},26:{},27:{},28:{f:Wee},29:{},34:{f:Wi},35:{f:lL},38:{f:Pa},39:{f:Pa},40:{f:Pa},41:{f:Pa},42:{f:Wi},43:{f:Wi},47:{f:ine},49:{f:yee},51:{f:us},60:{},61:{f:pee},64:{f:Wi},65:{f:xee},66:{f:us},77:{},80:{},81:{},82:{},85:{f:us},89:{},90:{},91:{},92:{f:ree},93:{f:Yee},94:{},95:{f:Wi},96:{},97:{},99:{f:Wi},125:{f:OP},128:{f:Dee},129:{f:see},130:{f:us},131:{f:Wi},132:{f:Wi},133:{f:aee},134:{},140:{f:rte},141:{f:us},144:{},146:{f:ate},151:{},152:{},153:{},154:{},155:{},156:{f:us},157:{},158:{},160:{f:dte},161:{f:cte},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Ree},190:{f:Lee},193:{f:yd},197:{},198:{},199:{},200:{},201:{},202:{f:Wi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:us},220:{},221:{f:Wi},222:{},224:{f:Mee},225:{f:nee},226:{f:yd},227:{},229:{f:$ee},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:lee},253:{f:wee},255:{f:uee},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:CP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Wi},353:{f:yd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Uee},431:{f:Wi},432:{},433:{},434:{},437:{},438:{f:Zee},439:{f:Wi},440:{f:Qee},441:{},442:{f:Jy},443:{},444:{f:us},445:{},446:{},448:{f:yd},449:{f:dee,r:2},450:{f:yd},512:{f:iL},513:{f:hte},515:{f:Oee},516:{f:See},517:{f:aL},519:{f:pte},520:{f:fee},523:{},545:{f:uL},549:{f:rL},566:{},574:{f:mee},638:{f:Nee},659:{},1048:{},1054:{f:Eee},1084:{},1212:{f:Gee},2048:{f:tte},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:yd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ote,r:12},2173:{f:rre,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Wi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:jee,r:12},2197:{},2198:{f:Jne,r:12},2199:{},2200:{},2201:{},2202:{f:qee,r:12},2203:{f:yd},2204:{},2205:{},2206:{},2207:{},2211:{f:hee},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:us},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:ute},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ste},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:iL},1:{},2:{f:yte},3:{f:vte},4:{f:mte},5:{f:aL},7:{f:wte},8:{},9:{f:xw},11:{},22:{f:us},30:{f:Cee},31:{},32:{},33:{f:uL},36:{},37:{f:rL},50:{f:_te},62:{},52:{},67:{},68:{f:us},69:{},86:{},126:{},127:{f:gte},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Ste},223:{},234:{},354:{},421:{},518:{f:zA},521:{f:xw},536:{f:cL},547:{f:lL},561:{},579:{},1030:{f:zA},1033:{f:xw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function It(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&J4(t)&&n.push(t)}}function wle(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return It(n,e,t,i);var s=e;if(!isNaN(s)){for(var a=t.parts||[],o=0,c=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var h=n.next(4);for(h.write_shift(2,s),h.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u;c<i;){for(h=n.next(4),h.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;h.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u}}}function tb(n,e,t){return n||(n=ot(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function _le(n,e,t,r){var i=ot(9);return tb(i,n,e),kP(t,r||"b",i),i}function Sle(n,e,t){var r=ot(8+2*t.length);return tb(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Ale(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Rs(oi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?It(n,2,bte(t,r,i)):It(n,3,xte(t,r,i));return;case"b":case"e":It(n,5,_le(t,r,e.v,e.t));return;case"s":case"str":It(n,4,Sle(t,r,(e.v||"").slice(0,255)));return}It(n,1,tb(null,t,r))}function Ele(n,e,t,r){var i=Array.isArray(e),s=gr(e["!ref"]||"A1"),a,o="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=On(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Zi(u);for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(c[h]=Ti(h)),a=c[h]+o;var p=i?(e[u]||[])[h]:e[a];p&&Ale(n,p,u,h)}}}function Tle(n,e){for(var t=e||{},r=Uo(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return It(r,t.biff==4?1033:t.biff==3?521:9,oC(n,16,t)),Ele(r,n.Sheets[n.SheetNames[i]],i,t),It(r,10),r.end()}function Cle(n,e,t){It(n,49,bee({sz:12,name:"Arial"},t))}function kle(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&It(n,1054,Tee(i,e[i],t))})}function Nle(n,e){var t=ot(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),It(n,2151,t),t=ot(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),MP(gr(e["!ref"]||"A1"),t),t.write_shift(4,4),It(n,2152,t)}function Rle(n,e){for(var t=0;t<16;++t)It(n,224,sL({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){It(n,224,sL(r,0,e))})}function Lle(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];It(n,440,ete(r)),r[1].Tooltip&&It(n,2048,nte(r))}delete e["!links"]}function Ile(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&It(n,125,lte(F5(i,r),i))})}}function Mle(n,e,t,r,i){var s=16+v0(i.cellXfs,e,i);if(e.v==null&&!e.bf){It(n,513,bg(t,r,s));return}if(e.bf)It(n,6,sse(e,t,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Rs(oi(e.v)):e.v;It(n,515,Bee(t,r,a,s));break;case"b":case"e":It(n,517,Pee(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=gC(i.Strings,e.v,i.revStrings);It(n,253,_ee(t,r,o,s))}else It(n,516,Aee(t,r,(e.v||"").slice(0,255),s,i));break;default:It(n,513,bg(t,r,s))}}function Dle(n,e,t){var r=Uo(),i=t.SheetNames[n],s=t.Sheets[i]||{},a=(t||{}).Workbook||{},o=(a.Sheets||[])[n]||{},c=Array.isArray(s),u=e.biff==8,h,p="",g=[],m=gr(s["!ref"]||"A1"),b=u?65536:16384;if(m.e.c>255||m.e.r>=b){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,b-1)}It(r,2057,oC(t,16,e)),It(r,13,tc(1)),It(r,12,tc(100)),It(r,15,io(!0)),It(r,17,io(!1)),It(r,16,xg(.001)),It(r,95,io(!0)),It(r,42,io(!1)),It(r,43,io(!1)),It(r,130,tc(1)),It(r,128,Fee()),It(r,131,io(!1)),It(r,132,io(!1)),u&&Ile(r,s["!cols"]),It(r,512,kee(m,e)),u&&(s["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){p=Zi(w);for(var _=m.s.c;_<=m.e.c;++_){w===m.s.r&&(g[_]=Ti(_)),h=g[_]+p;var T=c?(s[w]||[])[_]:s[h];T&&(Mle(r,T,w,_,e),u&&T.l&&s["!links"].push([h,T.l]))}}var L=o.CodeName||o.name||i;return u&&It(r,574,vee((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&It(r,229,Xee(s["!merges"])),u&&Lle(r,s),It(r,442,NP(L)),u&&Nle(r,s),It(r,10),r.end()}function Fle(n,e,t){var r=Uo(),i=(n||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=t.biff==8,c=t.biff==5;if(It(r,2057,oC(n,5,t)),t.bookType=="xla"&&It(r,135),It(r,225,o?tc(1200):null),It(r,193,PQ(2)),c&&It(r,191),c&&It(r,192),It(r,226),It(r,92,iee("SheetJS",t)),It(r,66,tc(o?1200:1252)),o&&It(r,353,tc(0)),o&&It(r,448),It(r,317,fte(n.SheetNames.length)),o&&n.vbaraw&&It(r,211),o&&n.vbaraw){var u=a.CodeName||"ThisWorkbook";It(r,442,NP(u))}It(r,156,tc(17)),It(r,25,io(!1)),It(r,18,io(!1)),It(r,19,tc(0)),o&&It(r,431,io(!1)),o&&It(r,444,tc(0)),It(r,61,gee()),It(r,64,io(!1)),It(r,141,tc(0)),It(r,34,io(doe(n)=="true")),It(r,14,io(!0)),o&&It(r,439,io(!1)),It(r,218,tc(0)),Cle(r,n,t),kle(r,n.SSF,t),Rle(r,t),o&&It(r,352,io(!1));var h=r.end(),p=Uo();o&&It(p,140,ite()),o&&t.Strings&&wle(p,252,cee(t.Strings)),It(p,10);var g=p.end(),m=Uo(),b=0,w=0;for(w=0;w<n.SheetNames.length;++w)b+=(o?12:11)+(o?2:1)*n.SheetNames[w].length;var _=h.length+b+g.length;for(w=0;w<n.SheetNames.length;++w){var T=s[w]||{};It(m,133,oee({pos:_,hs:T.Hidden||0,dt:0,name:n.SheetNames[w]},t)),_+=e[w].length}var L=m.end();if(b!=L.length)throw new Error("BS8 "+b+" != "+L.length);var R=[];return h.length&&R.push(h),L.length&&R.push(L),g.length&&R.push(g),Vs(R)}function Ple(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=li(_n)),n&&n.SSF&&(wv(),k5(n.SSF),t.revssf=R5(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bC(t),t.cellXfs=[],v0(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Dle(i,t,n);return r.unshift(Fle(n,r,t)),Vs(r)}function _7(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Ho(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Ple(n,e);case 4:case 3:case 2:return Tle(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function bL(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),a=i.index,o=s&&s.index||n.length,c=bZ(n.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(a=0;a<c.length;++a){var w=c[a].trim(),_=w.slice(0,3).toLowerCase();if(_=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}h=0;continue}if(!(_!="<td"&&_!="<th")){var T=w.split(/<\/t[dh]>/i);for(o=0;o<T.length;++o){var L=T[o].trim();if(L.match(/<t[dh]/i)){for(var R=L,D=0;R.charAt(0)=="<"&&(D=R.indexOf(">"))>-1;)R=R.slice(D+1);for(var j=0;j<b.length;++j){var G=b[j];G.s.c==h&&G.s.r<u&&u<=G.e.r&&(h=G.e.c+1,j=-1)}var P=An(L.slice(0,L.indexOf(">")));g=P.colspan?+P.colspan:1,((p=+P.rowspan)>1||g>1)&&b.push({s:{r:u,c:h},e:{r:u+(p||1)-1,c:h+g-1}});var W=P.t||P["data-t"]||"";if(!R.length){h+=g;continue}if(R=WF(R),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!R.length){h+=g;continue}var O={t:"s",v:R};t.raw||!R.trim().length||W=="s"||(R==="TRUE"?O={t:"b",v:!0}:R==="FALSE"?O={t:"b",v:!1}:isNaN(ou(R))?isNaN(dv(R).getDate())||(O={t:"d",v:oi(R)},t.cellDates||(O={t:"n",v:Rs(O.v)}),O.z=t.dateNF||_n[14]):O={t:"n",v:ou(R)}),t.dense?(r[u]||(r[u]=[]),r[u][h]=O):r[Sn({r:u,c:h})]=O,h+=g}}}}return r["!ref"]=On(m),b.length&&(r["!merges"]=b),r}function Ole(n,e,t,r){for(var i=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>a)&&!(i[u].e.r<t||i[u].e.c<a)){if(i[u].s.r<t||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var h=Sn({r:t,c:a}),p=r.dense?(n[t]||[])[a]:n[h],g=p&&p.v!=null&&(p.h||X4(p.w||(kh(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(r.id||"sjs")+"-"+h,s.push(Rt("td",g,m))}}var b="<tr>";return b+s.join("")+"</tr>"}var Ble='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Ule="</body></html>";function Hle(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return m0(bL(t[0],e),e);var r=AC();return t.forEach(function(i,s){EC(r,bL(i,e),"Sheet"+(s+1))}),r}function zle(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function S7(n,e){var t=e||{},r=t.header!=null?t.header:Ble,i=t.footer!=null?t.footer:Ule,s=[r],a=Ho(n["!ref"]);t.dense=Array.isArray(n),s.push(zle(n,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(Ole(n,a,o,t));return s.push("</table>"+i),s.join("")}function A7(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Ci(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var h=Ho(n["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var p=[],g=0,m=n["!rows"]||(n["!rows"]=[]),b=0,w=0,_=0,T=0,L=0,R=0;for(n["!cols"]||(n["!cols"]=[]);b<o.length&&w<c;++b){var D=o[b];if(wL(D)){if(r.display)continue;m[w]={hidden:!0}}var j=D.children;for(_=T=0;_<j.length;++_){var G=j[_];if(!(r.display&&wL(G))){var P=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):WF(G.innerHTML),W=G.getAttribute("data-z")||G.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==T+s&&O.s.r<w+i&&w+i<=O.e.r&&(T=O.e.c+1-s,g=-1)}R=+G.getAttribute("colspan")||1,((L=+G.getAttribute("rowspan")||1)>1||R>1)&&p.push({s:{r:w+i,c:T+s},e:{r:w+i+(L||1)-1,c:T+s+(R||1)-1}});var ee={t:"s",v:P},B=G.getAttribute("data-t")||G.getAttribute("t")||"";P!=null&&(P.length==0?ee.t=B||"z":r.raw||P.trim().length==0||B=="s"||(P==="TRUE"?ee={t:"b",v:!0}:P==="FALSE"?ee={t:"b",v:!1}:isNaN(ou(P))?isNaN(dv(P).getDate())||(ee={t:"d",v:oi(P)},r.cellDates||(ee={t:"n",v:Rs(ee.v)}),ee.z=r.dateNF||_n[14]):ee={t:"n",v:ou(P)})),ee.z===void 0&&W!=null&&(ee.z=W);var q="",Q=G.getElementsByTagName("A");if(Q&&Q.length)for(var re=0;re<Q.length&&!(Q[re].hasAttribute("href")&&(q=Q[re].getAttribute("href"),q.charAt(0)!="#"));++re);q&&q.charAt(0)!="#"&&(ee.l={Target:q}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][T+s]=ee):n[Sn({c:T+s,r:w+i})]=ee,u.e.c<T+s&&(u.e.c=T+s),T+=R}}++w}return p.length&&(n["!merges"]=(n["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,w-1+i),n["!ref"]=On(u),w>=c&&(n["!fullref"]=On((u.e.r=o.length-b+w-1+i,u))),n}function E7(n,e){var t=e||{},r=t.dense?[]:{};return A7(r,n,e)}function jle(n,e){return m0(E7(n,e),e)}function wL(n){var e="",t=Gle(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Gle(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function qle(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=dr(e.replace(/<[^>]*>/g,""));return[t]}var _L={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function T7(n,e){var t=e||{},r=Y4(n),i=[],s,a,o={name:""},c="",u=0,h,p,g={},m=[],b=t.dense?[]:{},w,_,T={value:""},L="",R=0,D=[],j=-1,G=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},W=0,O={},ee=[],B={},q=0,Q=0,re=[],ge=1,K=1,ce=[],Te={Names:[]},me={},Oe=["",""],se=[],I={},U="",z=0,Y=!1,oe=!1,ye=0;for(u2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=u2.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?b["!ref"]=On(P):b["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=P.e.r&&(b["!fullref"]=b["!ref"],P.e.r=t.sheetRows-1,b["!ref"]=On(P)),ee.length&&(b["!merges"]=ee),re.length&&(b["!rows"]=re),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),g[h.name]=b,oe=!1):w[0].charAt(w[0].length-2)!=="/"&&(h=An(w[0],!1),j=G=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,b=t.dense?[]:{},ee=[],re=[],oe=!0);break;case"table-row-group":w[1]==="/"?--W:++W;break;case"table-row":case"":if(w[1]==="/"){j+=ge,ge=1;break}if(p=An(w[0],!1),p.?j=p.-1:j==-1&&(j=0),ge=+p["number-rows-repeated"]||1,ge<10)for(ye=0;ye<ge;++ye)W>0&&(re[j+ye]={level:W});G=-1;break;case"covered-table-cell":w[1]!=="/"&&++G,t.sheetStubs&&(t.dense?(b[j]||(b[j]=[]),b[j][G]={t:"z"}):b[Sn({r:j,c:G})]={t:"z"}),L="",D=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++G,T=An(w[0],!1),K=parseInt(T["number-columns-repeated"]||"1",10),_={t:"z",v:null},T.formula&&t.cellFormula!=!1&&(_.f=vL(dr(T.formula))),(T.||T["value-type"])=="string"&&(_.t="s",_.v=dr(T["string-value"]||""),t.dense?(b[j]||(b[j]=[]),b[j][G]=_):b[Sn({r:j,c:G})]=_),G+=K-1;else if(w[1]!=="/"){++G,L="",R=0,D=[],K=1;var fe=ge?j+ge-1:j;if(G>P.e.c&&(P.e.c=G),G<P.s.c&&(P.s.c=G),j<P.s.r&&(P.s.r=j),fe>P.e.r&&(P.e.r=fe),T=An(w[0],!1),se=[],I={},_={t:T.||T["value-type"],v:null},t.cellFormula)if(T.formula&&(T.formula=dr(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(q=parseInt(T["number-matrix-rows-spanned"],10)||0,Q=parseInt(T["number-matrix-columns-spanned"],10)||0,B={s:{r:j,c:G},e:{r:j+q-1,c:G+Q-1}},_.F=On(B),ce.push([B,_.F])),T.formula)_.f=vL(T.formula);else for(ye=0;ye<ce.length;++ye)j>=ce[ye][0].s.r&&j<=ce[ye][0].e.r&&G>=ce[ye][0].s.c&&G<=ce[ye][0].e.c&&(_.F=ce[ye][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(q=parseInt(T["number-rows-spanned"],10)||0,Q=parseInt(T["number-columns-spanned"],10)||0,B={s:{r:j,c:G},e:{r:j+q-1,c:G+Q-1}},ee.push(B)),T["number-columns-repeated"]&&(K=parseInt(T["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=si(T["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(T.value);break;case"percentage":_.t="n",_.v=parseFloat(T.value);break;case"currency":_.t="n",_.v=parseFloat(T.value);break;case"date":_.t="d",_.v=oi(T["date-value"]),t.cellDates||(_.t="n",_.v=Rs(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=vZ(T["time-value"])/86400,t.cellDates&&(_.t="d",_.v=L5(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(T.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",T["string-value"]!=null&&(L=dr(T["string-value"]),D=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(Y=!1,_.t==="s"&&(_.v=L||"",D.length&&(_.R=D),Y=R==0),me.Target&&(_.l=me),se.length>0&&(_.c=se,se=[]),L&&t.cellText!==!1&&(_.w=L),Y&&(_.t="z",delete _.v),(!Y||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=j))for(var Ae=0;Ae<ge;++Ae){if(K=parseInt(T["number-columns-repeated"]||"1",10),t.dense)for(b[j+Ae]||(b[j+Ae]=[]),b[j+Ae][G]=Ae==0?_:li(_);--K>0;)b[j+Ae][G+K]=li(_);else for(b[Sn({r:j+Ae,c:G})]=_;--K>0;)b[Sn({r:j+Ae,c:G+K})]=li(_);P.e.c<=G&&(P.e.c=G)}K=parseInt(T["number-columns-repeated"]||"1",10),G+=K-1,K=0,_={},L="",D=[]}me={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;I.t=L,D.length&&(I.R=D),I.a=U,se.push(I)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);U="",z=0,L="",R=0,D=[];break;case"creator":w[1]==="/"?U=r.slice(z,w.index):z=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);L="",R=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(O[o.name]=c,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(c="",o=An(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=An(w[0],!1),c+=_L[w[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=An(w[0],!1),c+=_L[w[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(u,w.index);break}else u=w.index+w[0].length;break;case"named-range":a=An(w[0],!1),Oe=jA(a["cell-range-address"]);var Re={Name:a.name,Ref:Oe[0]+"!"+Oe[1]};oe&&(Re.Sheet=m.length),Te.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!T||!T["string-value"])){var et=qle(r.slice(R,w.index));L=(L.length>0?L+`
`:"")+et[0]}else An(w[0],!1),R=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{Oe=jA(An(w[0])["target-range-address"]),g[Oe[0]]["!autofilter"]={ref:Oe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(me=An(w[0],!1),!me.href)break;me.Target=dr(me.href),delete me.href,me.Target.charAt(0)=="#"&&me.Target.indexOf(".")>-1?(Oe=jA(me.Target.slice(1)),me.Target="#"+Oe[0]+"!"+Oe[1]):me.Target.match(/^\.\.[\\\/]/)&&(me.Target=me.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(w)}}var de={Sheets:g,SheetNames:m,Workbook:Te};return t.bookSheets&&delete de.Sheets,de}function SL(n,e){e=e||{},$l(n,"META-INF/manifest.xml")&&vQ(cs(n,"META-INF/manifest.xml"),e);var t=_l(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=T7(qr(t),e);return $l(n,"meta.xml")&&(r.Props=mP(cs(n,"meta.xml"))),r}function AL(n,e){return T7(n,e)}var Vle=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+c2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return es+e}})(),EL=(function(){var n=function(s){return Fr(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,a,o){var c=[];c.push('      <table:table table:name="'+Fr(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,p=Ho(s["!ref"]||"A1"),g=s["!merges"]||[],m=0,b=Array.isArray(s);if(s["!cols"])for(h=0;h<=p.e.c;++h)c.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var w="",_=s["!rows"]||[];for(u=0;u<p.s.r;++u)w=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+w+`></table:table-row>
`);for(;u<=p.e.r;++u){for(w=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+w+`>
`),h=0;h<p.s.c;++h)c.push(e);for(;h<=p.e.c;++h){var T=!1,L={},R="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>h)&&!(g[m].s.r>u)&&!(g[m].e.c<h)&&!(g[m].e.r<u)){(g[m].s.c!=h||g[m].s.r!=u)&&(T=!0),L["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,L["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(T){c.push(t);continue}var D=Sn({r:u,c:h}),j=b?(s[u]||[])[h]:s[D];if(j&&j.f&&(L["table:formula"]=Fr(fse(j.f)),j.F&&j.F.slice(0,D.length)==D)){var G=Ho(j.F);L["table:number-matrix-columns-spanned"]=G.e.c-G.s.c+1,L["table:number-matrix-rows-spanned"]=G.e.r-G.s.r+1}if(!j){c.push(e);continue}switch(j.t){case"b":R=j.v?"TRUE":"FALSE",L["office:value-type"]="boolean",L["office:boolean-value"]=j.v?"true":"false";break;case"n":R=j.w||String(j.v||0),L["office:value-type"]="float",L["office:value"]=j.v||0;break;case"s":case"str":R=j.v==null?"":j.v,L["office:value-type"]="string";break;case"d":R=j.w||oi(j.v).toISOString(),L["office:value-type"]="date",L["office:date-value"]=oi(j.v).toISOString(),L["table:style-name"]="ce1";break;default:c.push(e);continue}var P=n(R);if(j.l&&j.l.Target){var W=j.l.Target;W=W.charAt(0)=="#"?"#"+hse(W.slice(1)):W,W.charAt(0)!="#"&&!W.match(/^\w+:/)&&(W="../"+W),P=Rt("text:a",P,{"xlink:href":W.replace(/&/g,"&amp;")})}c.push("          "+Rt("table:table-cell",Rt("text:p",P,{}),L)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;c0(p),p.ods=o;var g=u["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=c;var p=u["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var c=[es],u=c2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=c2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+h+`>
`),c.push(gP().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)c.push(r(a.Sheets[a.SheetNames[p]],a,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function C7(n,e){if(e.bookType=="fods")return EL(n,e);var t=V4(),r="",i=[],s=[];return r="mimetype",Un(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Un(t,r,EL(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Un(t,r,Vle(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Un(t,r,es+gP()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Un(t,r,bQ(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Un(t,r,xQ(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function n4(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):qr(g0(n))}function Wle(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):wl(of(n))}function $le(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function f0(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function TL(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function Xle(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function Yle(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function v2(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Ir(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Ui(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function xr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=v2(n,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);o=n.slice(c,t[0])}break;case 5:a=4,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=v2(n,t),o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ia(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Ir(r*8+i.type)),i.type==2&&e.push(Ir(i.data.length)),e.push(i.data))})}),f0(e)}function xC(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function Vl(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=v2(n,r),s=xr(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:Ui(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=xr(o.data),u=Ui(c[3][0].data);a.messages.push({meta:c,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=Ui(s[3][0].data)>>>0>0),t.push(a)}return t}function Tm(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Ir(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Ir(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ir(a.data.length)}],r[2].push({data:ia(a.meta),type:2})});var s=ia(r);e.push(Ir(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),f0(e)}function Kle(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=v2(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[f0(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var h=f0(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Wl(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Kle(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return f0(e)}function Cm(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Ir(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,t+=r}return f0(e)}function Jle(n,e,t,r){var i=wg(n),s=i.getUint32(4,!0),a=(r>1?12:8)+TL(s&(r>1?3470:398))*4,o=-1,c=-1,u=NaN,h=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=TL(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(u=i.getFloat64(a,!0),a+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(n[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:t[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return p}function Zle(n,e,t){var r=wg(n),i=r.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,u=NaN,h=new Date(2001,0,1);i&1&&(c=Xle(n,s),s+=16),i&2&&(u=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var p;switch(n[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return p}function qA(n,e){var t=new Uint8Array(32),r=wg(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,Yle(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function VA(n,e){var t=new Uint8Array(32),r=wg(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Qle(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return Jle(n,e,t,n[0]);case 5:return Zle(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function La(n){var e=xr(n);return v2(e[1][0].data)}function CL(n,e){var t=xr(e.data),r=Ui(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=xr(a.data),c=Ui(o[1][0].data)>>>0;switch(r){case 1:s[c]=n4(o[3][0].data);break;case 8:{var u=n[La(o[9][0].data)][0],h=xr(u.data),p=n[La(h[1][0].data)][0],g=Ui(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=xr(p.data);s[c]=m[3].map(function(b){return n4(b.data)}).join("")}break}}),s}function ece(n,e){var t,r,i,s,a,o,c,u,h,p,g,m,b,w,_=xr(n),T=Ui(_[1][0].data)>>>0,L=Ui(_[2][0].data)>>>0,R=((r=(t=_[8])==null?void 0:t[0])==null?void 0:r.data)&&Ui(_[8][0].data)>0||!1,D,j;if((s=(i=_[7])==null?void 0:i[0])!=null&&s.data&&e!=0)D=(o=(a=_[7])==null?void 0:a[0])==null?void 0:o.data,j=(u=(c=_[6])==null?void 0:c[0])==null?void 0:u.data;else if((p=(h=_[4])==null?void 0:h[0])!=null&&p.data&&e!=1)D=(m=(g=_[4])==null?void 0:g[0])==null?void 0:m.data,j=(w=(b=_[3])==null?void 0:b[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var G=R?4:1,P=wg(D),W=[],O=0;O<D.length/2;++O){var ee=P.getUint16(O*2,!0);ee<65535&&W.push([O,ee])}if(W.length!=L)throw"Expected ".concat(L," cells, found ").concat(W.length);var B=[];for(O=0;O<W.length-1;++O)B[W[O][0]]=j.subarray(W[O][1]*G,W[O+1][1]*G);return W.length>=1&&(B[W[W.length-1][0]]=j.subarray(W[W.length-1][1]*G)),{R:T,cells:B}}function tce(n,e){var t,r=xr(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?Ui(r[7][0].data)>>>0>0?1:0:-1,s=xC(r[5],function(a){return ece(a,i)});return{nrows:Ui(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=c}),a},[])}}function nce(n,e,t){var r,i=xr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ui(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ui(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=On(s);var a=xr(i[4][0].data),o=CL(n,n[La(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?CL(n,n[La(a[17][0].data)][0]):[],u=xr(a[3][0].data),h=0;u[1].forEach(function(p){var g=xr(p.data),m=n[La(g[2][0].data)][0],b=Ui(m.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var w=tce(n,m);w.data.forEach(function(_,T){_.forEach(function(L,R){var D=Sn({r:h+T,c:R}),j=Qle(L,o,c);j&&(t[D]=j)})}),h+=w.nrows})}function rce(n,e){var t=xr(e.data),r={"!ref":"A1"},i=n[La(t[2][0].data)],s=Ui(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return nce(n,i[0],r),r}function ice(n,e){var t,r=xr(e.data),i={name:(t=r[1])!=null&&t[0]?n4(r[1][0].data):"",sheets:[]},s=xC(r[2],La);return s.forEach(function(a){n[a].forEach(function(o){var c=Ui(o.meta[1][0].data);c==6e3&&i.sheets.push(rce(n,o))})}),i}function sce(n,e){var t=AC(),r=xr(e.data),i=xC(r[1],La);if(i.forEach(function(s){n[s].forEach(function(a){var o=Ui(a.meta[1][0].data);if(o==2){var c=ice(n,a);c.sheets.forEach(function(u,h){EC(t,u,h==0?c.name:c.name+"_"+h,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function WA(n){var e,t,r,i,s={},a=[];if(n.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Wl(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var h;try{h=Vl(u)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Ui(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(u){var h=Ui(u.meta[1][0].data)>>>0;if(h==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return sce(s,o)}function ace(n,e,t){var r,i,s,a;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=n[8])==null?void 0:s[0])==null?void 0:a.data)&&Ui(n[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=wg(n[7][0].data),h=0,p=[],g=wg(n[4][0].data),m=0,b=[],w=0;w<e.length;++w){if(e[w]==null){u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}u.setUint16(w*2,h,!0),g.setUint16(w*2,m,!0);var _,T;switch(typeof e[w]){case"string":_=qA({t:"s",v:e[w]},t),T=VA({t:"s",v:e[w]},t);break;case"number":_=qA({t:"n",v:e[w]},t),T=VA({t:"n",v:e[w]},t);break;case"boolean":_=qA({t:"b",v:e[w]},t),T=VA({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}p.push(_),h+=_.length,b.push(T),m+=T.length,++c}for(n[2][0].data=Ir(c);w<n[7][0].data.length/2;++w)u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return n[6][0].data=f0(p),n[3][0].data=f0(b),c}function oce(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ho(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(On(r)));var s=j_(t,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(U){return U.forEach(function(z){typeof z=="string"&&a.push(z)})});var o={},c=[],u=mn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(U,z){return[U,u.FullPaths[z]]}).forEach(function(U){var z=U[0],Y=U[1];if(z.type==2&&z.name.match(/\.iwa/)){var oe=z.content,ye=Wl(oe),fe=Vl(ye);fe.forEach(function(Ae){c.push(Ae.id),o[Ae.id]={deps:[],location:Y,type:Ui(Ae.messages[0].meta[1][0].data)}})}}),c.sort(function(U,z){return U-z});var h=c.filter(function(U){return U>1}).map(function(U){return[U,Ir(U)]});u.FileIndex.map(function(U,z){return[U,u.FullPaths[z]]}).forEach(function(U){var z=U[0];if(U[1],!!z.name.match(/\.iwa/)){var Y=Vl(Wl(z.content));Y.forEach(function(oe){oe.messages.forEach(function(ye){h.forEach(function(fe){oe.messages.some(function(Ae){return Ui(Ae.meta[1][0].data)!=11006&&$le(Ae.data,fe[1])})&&o[fe[0]].deps.push(oe.id)})})})}});for(var p=mn.find(u,o[1].location),g=Vl(Wl(p.content)),m,b=0;b<g.length;++b){var w=g[b];w.id==1&&(m=w)}var _=La(xr(m.messages[0].data)[1][0].data);for(p=mn.find(u,o[_].location),g=Vl(Wl(p.content)),b=0;b<g.length;++b)w=g[b],w.id==_&&(m=w);for(_=La(xr(m.messages[0].data)[2][0].data),p=mn.find(u,o[_].location),g=Vl(Wl(p.content)),b=0;b<g.length;++b)w=g[b],w.id==_&&(m=w);for(_=La(xr(m.messages[0].data)[2][0].data),p=mn.find(u,o[_].location),g=Vl(Wl(p.content)),b=0;b<g.length;++b)w=g[b],w.id==_&&(m=w);var T=xr(m.messages[0].data);{T[6][0].data=Ir(r.e.r+1),T[7][0].data=Ir(r.e.c+1);var L=La(T[46][0].data),R=mn.find(u,o[L].location),D=Vl(Wl(R.content));{for(var j=0;j<D.length&&D[j].id!=L;++j);if(D[j].id!=L)throw"Bad ColumnRowUIDMapArchive";var G=xr(D[j].messages[0].data);G[1]=[],G[2]=[],G[3]=[];for(var P=0;P<=r.e.c;++P){var W=[];W[1]=W[2]=[{type:0,data:Ir(P+420690)}],G[1].push({type:2,data:ia(W)}),G[2].push({type:0,data:Ir(P)}),G[3].push({type:0,data:Ir(P)})}G[4]=[],G[5]=[],G[6]=[];for(var O=0;O<=r.e.r;++O)W=[],W[1]=W[2]=[{type:0,data:Ir(O+726270)}],G[4].push({type:2,data:ia(W)}),G[5].push({type:0,data:Ir(O)}),G[6].push({type:0,data:Ir(O)});D[j].messages[0].data=ia(G)}R.content=Cm(Tm(D)),R.size=R.content.length,delete T[46];var ee=xr(T[4][0].data);{ee[7][0].data=Ir(r.e.r+1);var B=xr(ee[1][0].data),q=La(B[2][0].data);R=mn.find(u,o[q].location),D=Vl(Wl(R.content));{if(D[0].id!=q)throw"Bad HeaderStorageBucket";var Q=xr(D[0].messages[0].data);for(O=0;O<s.length;++O){var re=xr(Q[2][0].data);re[1][0].data=Ir(O),re[4][0].data=Ir(s[O].length),Q[2][O]={type:Q[2][0].type,data:ia(re)}}D[0].messages[0].data=ia(Q)}R.content=Cm(Tm(D)),R.size=R.content.length;var ge=La(ee[2][0].data);R=mn.find(u,o[ge].location),D=Vl(Wl(R.content));{if(D[0].id!=ge)throw"Bad HeaderStorageBucket";for(Q=xr(D[0].messages[0].data),P=0;P<=r.e.c;++P)re=xr(Q[2][0].data),re[1][0].data=Ir(P),re[4][0].data=Ir(r.e.r+1),Q[2][P]={type:Q[2][0].type,data:ia(re)};D[0].messages[0].data=ia(Q)}R.content=Cm(Tm(D)),R.size=R.content.length;var K=La(ee[4][0].data);(function(){for(var U=mn.find(u,o[K].location),z=Vl(Wl(U.content)),Y,oe=0;oe<z.length;++oe){var ye=z[oe];ye.id==K&&(Y=ye)}var fe=xr(Y.messages[0].data);{fe[3]=[];var Ae=[];a.forEach(function(de,gt){Ae[1]=[{type:0,data:Ir(gt)}],Ae[2]=[{type:0,data:Ir(1)}],Ae[3]=[{type:2,data:Wle(de)}],fe[3].push({type:2,data:ia(Ae)})})}Y.messages[0].data=ia(fe);var Re=Tm(z),et=Cm(Re);U.content=et,U.size=U.content.length})();var ce=xr(ee[3][0].data);{var Te=ce[1][0];delete ce[2];var me=xr(Te.data);{var Oe=La(me[2][0].data);(function(){for(var U=mn.find(u,o[Oe].location),z=Vl(Wl(U.content)),Y,oe=0;oe<z.length;++oe){var ye=z[oe];ye.id==Oe&&(Y=ye)}var fe=xr(Y.messages[0].data);{delete fe[6],delete ce[7];var Ae=new Uint8Array(fe[5][0].data);fe[5]=[];for(var Re=0,et=0;et<=r.e.r;++et){var de=xr(Ae);Re+=ace(de,s[et],a),de[1][0].data=Ir(et),fe[5].push({data:ia(de),type:2})}fe[1]=[{type:0,data:Ir(r.e.c+1)}],fe[2]=[{type:0,data:Ir(r.e.r+1)}],fe[3]=[{type:0,data:Ir(Re)}],fe[4]=[{type:0,data:Ir(r.e.r+1)}]}Y.messages[0].data=ia(fe);var gt=Tm(z),vt=Cm(gt);U.content=vt,U.size=U.content.length})()}Te.data=ia(me)}ee[3][0].data=ia(ce)}T[4][0].data=ia(ee)}m.messages[0].data=ia(T);var se=Tm(g),I=Cm(se);return p.content=I,p.size=p.content.length,u}function k7(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function yC(n){k7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function bC(n){k7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function lce(n){return Xn.WS.indexOf(n)>-1?"sheet":n==Xn.CS?"chart":n==Xn.DS?"dialog":n==Xn.MS?"macro":n&&n.length?n:"sheet"}function cce(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,lce(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function uce(n,e,t,r,i,s,a,o,c,u,h,p){try{s[r]=Vx(_l(n,t,!0),e);var g=cs(n,e),m;switch(o){case"sheet":m=Ioe(g,e,i,c,s[r],u,h,p);break;case"chart":if(m=Moe(g,e,i,c,s[r],u,h,p),!m||!m["!drawel"])break;var b=Fx(m["!drawel"].Target,e),w=f2(b),_=yre(_l(n,b,!0),Vx(_l(n,w,!0),b)),T=Fx(_,b),L=f2(T);m=aoe(_l(n,T,!0),T,c,Vx(_l(n,L,!0),T),u,m);break;case"macro":m=Doe(g,e,i,c,s[r],u,h,p);break;case"dialog":m=Foe(g,e,i,c,s[r],u,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=m;var R=[];s&&s[r]&&Hi(s[r]).forEach(function(D){var j="";if(s[r][D].Type==Xn.CMNT){j=Fx(s[r][D].Target,e);var G=Uoe(cs(n,j,!0),j,c);if(!G||!G.length)return;hL(m,G,!1)}s[r][D].Type==Xn.TCMNT&&(j=Fx(s[r][D].Target,e),R=R.concat(wre(cs(n,j,!0),c)))}),R&&R.length&&hL(m,R,!0,c.people||[])}catch(D){if(c.WTF)throw D}}function Gl(n){return n.charAt(0)=="/"?n.slice(1):n}function fce(n,e){if(wv(),e=e||{},yC(e),$l(n,"META-INF/manifest.xml")||$l(n,"objectdata.xml"))return SL(n,e);if($l(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof WA<"u"){if(n.FileIndex)return WA(n);var t=mn.utils.cfb_new();return MR(n).forEach(function(re){Un(t,re,_Z(n,re))}),WA(t)}throw new Error("Unsupported NUMBERS file")}if(!$l(n,"[Content_Types].xml"))throw $l(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$l(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=MR(n),i=gQ(_l(n,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",cs(n,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!cs(n,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!e.bookSheets&&!e.bookProps){if(Wx=[],i.sst)try{Wx=Boe(cs(n,Gl(i.sst)),i.sst,e)}catch(re){if(e.WTF)throw re}e.cellStyles&&i.themes.length&&(c=Ooe(_l(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=Poe(cs(n,Gl(i.style)),i.style,c,e))}i.links.map(function(re){try{var ge=Vx(_l(n,f2(Gl(re))),re);return zoe(cs(n,Gl(re)),ge,re,e)}catch{}});var h=Loe(cs(n,Gl(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=cs(n,Gl(i.coreprops[0]),!0),g&&(p=mP(g)),i.extprops.length!==0&&(g=cs(n,Gl(i.extprops[0]),!0),g&&_Q(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=_l(n,Gl(i.custprops[0]),!0),g&&(m=AQ(g,e)));var b={};if((e.bookSheets||e.bookProps)&&(h.Sheets?a=h.Sheets.map(function(ge){return ge.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(b.Props=p,b.Custprops=m),e.bookSheets&&typeof a<"u"&&(b.SheetNames=a),e.bookSheets?b.SheetNames:e.bookProps))return b;a={};var w={};e.bookDeps&&i.calcchain&&(w=Hoe(cs(n,Gl(i.calcchain)),i.calcchain));var _=0,T={},L,R;{var D=h.Sheets;p.Worksheets=D.length,p.SheetNames=[];for(var j=0;j!=D.length;++j)p.SheetNames[j]=D[j].name}var G=s?"bin":"xml",P=i.workbooks[0].lastIndexOf("/"),W=(i.workbooks[0].slice(0,P+1)+"_rels/"+i.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");$l(n,W)||(W="xl/_rels/workbook."+G+".rels");var O=Vx(_l(n,W,!0),W.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=joe(cs(n,Gl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Sre(cs(n,Gl(i.people[0])),e)),O&&(O=cce(O,h.Sheets));var ee=cs(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=p.Worksheets;++_){var B="sheet";if(O&&O[_]?(L="xl/"+O[_][1].replace(/[\/]?xl\//,""),$l(n,L)||(L=O[_][1]),$l(n,L)||(L=W.replace(/_rels\/.*$/,"")+O[_][1]),B=O[_][2]):(L="xl/worksheets/sheet"+(_+1-ee)+"."+G,L=L.replace(/sheet0\./,"sheet.")),R=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(p.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var q=!1,Q=0;Q!=e.sheets.length;++Q)typeof e.sheets[Q]=="number"&&e.sheets[Q]==_&&(q=1),typeof e.sheets[Q]=="string"&&e.sheets[Q].toLowerCase()==p.SheetNames[_].toLowerCase()&&(q=1);if(!q)continue e}}uce(n,L,R,p.SheetNames[_],_,T,a,B,e,h,c,u)}return b={Directory:i,Workbook:h,Props:p,Custprops:m,Deps:w,Sheets:a,SheetNames:p.SheetNames,Strings:Wx,Styles:u,Themes:c,SSF:li(_n)},e&&e.bookFiles&&(n.files?(b.keys=r,b.files=n.files):(b.keys=[],b.files={},n.FullPaths.forEach(function(re,ge){re=re.replace(/^Root Entry[\/]/,""),b.keys.push(re),b.files[re]=n.FileIndex[ge]}))),e&&e.bookVBA&&(i.vba.length>0?b.vbaraw=cs(n,Gl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Lre&&(b.vbaraw=cs(n,"xl/vbaProject.bin",!0))),b}function hce(n,e){var t=e||{},r="Workbook",i=mn.find(n,r);try{if(r="/!DataSpaces/Version",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(jte(i.content),r="/!DataSpaces/DataSpaceMap",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=qte(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Vte(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);$te(i.content)}catch{}if(r="/EncryptionInfo",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Xte(i.content);if(r="/EncryptedPackage",i=mn.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function dce(n,e){return e.bookType=="ods"?C7(n,e):e.bookType=="numbers"?oce(n,e):e.bookType=="xlsb"?pce(n,e):gce(n,e)}function pce(n,e){jm=1024,n&&!n.SSF&&(n.SSF=li(_n)),n&&n.SSF&&(wv(),k5(n.SSF),e.revssf=R5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$x?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=t7.indexOf(e.bookType)>-1,i=sC();bC(e=e||{});var s=V4(),a="",o=0;if(e.cellXfs=[],v0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Un(s,a,vP(n.Props,e)),i.coreprops.push(a),Mr(e.rels,2,a,Xn.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,Un(s,a,bP(n.Props)),i.extprops.push(a),Mr(e.rels,3,a,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Un(s,a,wP(n.Custprops)),i.custprops.push(a),Mr(e.rels,4,a,Xn.CUST_PROPS)),o=1;o<=n.SheetNames.length;++o){var h={"!id":{}},p=n.Sheets[n.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,Un(s,a,qoe(o-1,a,e,n,h)),i.sheets.push(a),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(p){var m=p["!comments"],b=!1,w="";m&&m.length>0&&(w="xl/comments"+o+"."+t,Un(s,w,$oe(m,w)),i.comments.push(w),Mr(h,-1,"../comments"+o+"."+t,Xn.CMNT),b=!0),p["!legacy"]&&b&&Un(s,"xl/drawings/vmlDrawing"+o+".vml",QP(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Un(s,f2(a),n1(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Un(s,a,Woe(e.Strings,a,e)),i.strs.push(a),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),a="xl/workbook."+t,Un(s,a,Goe(n,a)),i.workbooks.push(a),Mr(e.rels,1,a,Xn.WB),a="xl/theme/theme1.xml",Un(s,a,fC(n.Themes,e)),i.themes.push(a),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),a="xl/styles."+t,Un(s,a,Voe(n,a,e)),i.styles.push(a),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",Un(s,a,n.vbaraw),i.vba.push(a),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),a="xl/metadata."+t,Un(s,a,Xoe(a)),i.metadata.push(a),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),Un(s,"[Content_Types].xml",pP(i,e)),Un(s,"_rels/.rels",n1(e.rels)),Un(s,"xl/_rels/workbook."+t+".rels",n1(e.wbrels)),delete e.revssf,delete e.ssf,s}function gce(n,e){jm=1024,n&&!n.SSF&&(n.SSF=li(_n)),n&&n.SSF&&(wv(),k5(n.SSF),e.revssf=R5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$x?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=t7.indexOf(e.bookType)>-1,i=sC();bC(e=e||{});var s=V4(),a="",o=0;if(e.cellXfs=[],v0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Un(s,a,vP(n.Props,e)),i.coreprops.push(a),Mr(e.rels,2,a,Xn.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,Un(s,a,bP(n.Props)),i.extprops.push(a),Mr(e.rels,3,a,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Un(s,a,wP(n.Custprops)),i.custprops.push(a),Mr(e.rels,4,a,Xn.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=n.SheetNames.length;++o){var p={"!id":{}},g=n.Sheets[n.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,Un(s,a,h7(o-1,e,n,p)),i.sheets.push(a),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(g){var b=g["!comments"],w=!1,_="";if(b&&b.length>0){var T=!1;b.forEach(function(L){L[1].forEach(function(R){R.T==!0&&(T=!0)})}),T&&(_="xl/threadedComments/threadedComment"+o+"."+t,Un(s,_,_re(b,h,e)),i.threadedcomments.push(_),Mr(p,-1,"../threadedComments/threadedComment"+o+"."+t,Xn.TCMNT)),_="xl/comments"+o+"."+t,Un(s,_,e7(b)),i.comments.push(_),Mr(p,-1,"../comments"+o+"."+t,Xn.CMNT),w=!0}g["!legacy"]&&w&&Un(s,"xl/drawings/vmlDrawing"+o+".vml",QP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Un(s,f2(a),n1(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Un(s,a,zP(e.Strings,e)),i.strs.push(a),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),a="xl/workbook."+t,Un(s,a,v7(n)),i.workbooks.push(a),Mr(e.rels,1,a,Xn.WB),a="xl/theme/theme1.xml",Un(s,a,fC(n.Themes,e)),i.themes.push(a),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),a="xl/styles."+t,Un(s,a,YP(n,e)),i.styles.push(a),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",Un(s,a,n.vbaraw),i.vba.push(a),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),a="xl/metadata."+t,Un(s,a,ZP()),i.metadata.push(a),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),h.length>1&&(a="xl/persons/person.xml",Un(s,a,Are(h)),i.people.push(a),Mr(e.wbrels,-1,"persons/person.xml",Xn.PEOPLE)),Un(s,"[Content_Types].xml",pP(i,e)),Un(s,"_rels/.rels",n1(e.rels)),Un(s,"xl/_rels/workbook."+t+".rels",n1(e.wbrels)),delete e.revssf,delete e.ssf,s}function wC(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=El(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function mce(n,e){return mn.find(n,"EncryptedPackage")?hce(n,e):w7(n,e)}function vce(n,e){var t,r=n,i=e||{};return i.type||(i.type=Vn&&Buffer.isBuffer(n)?"buffer":"base64"),t=GF(r,i),fce(t,i)}function N7(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return e4(n.slice(t),e);default:break e}return pv.to_workbook(n,e)}function xce(n,e){var t="",r=wC(n,e);switch(e.type){case"base64":t=El(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=vg(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=qr(t)),e.type="binary",N7(t,e)}function yce(n,e){var t=n;return e.type=="base64"&&(t=El(t)),t=s2.utils.decode(1200,t.slice(2),"str"),e.type="binary",N7(t,e)}function bce(n){return n.match(/[^\x00-\x7F]/)?of(n):n}function $A(n,e,t,r){return r?(t.type="string",pv.to_workbook(n,t)):pv.to_workbook(e,t)}function Gm(n,e){H4();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return Gm(new Uint8Array(n),(t=li(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),i1={},t.dateNF&&(i1.dateNF=t.dateNF),t.type||(t.type=Vn&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=Vn?"buffer":"binary",r=pZ(n),typeof Uint8Array<"u"&&!Vn&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,r=bce(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=li(t),t.type="array",Gm(z4(r),t)}switch((i=wC(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return mce(mn.read(r,t),t);break;case 9:if(i[1]<=8)return w7(r,t);break;case 60:return e4(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Ete(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return UP.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?vce(r,t):$A(n,r,t,s);case 239:return i[3]===60?e4(r,t):$A(n,r,t,s);case 255:if(i[1]===254)return yce(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return cg.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return cg.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return QT.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return WP.to_workbook(r,t);break;case 10:case 13:case 32:return xce(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Ate.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?QT.to_workbook(r,t):$A(n,r,t,s)}function R7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Xy(e.file,mn.write(n,{type:Vn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return mn.write(n,e)}function wce(n,e){var t=li(e||{}),r=dce(n,t);return _ce(r,t)}function _ce(n,e){var t={},r=Vn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?mn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(C5(i))}return e.password&&typeof encrypt_agile<"u"?R7(encrypt_agile(i,e.password),e):e.type==="file"?Xy(e.file,i):e.type=="string"?qr(i):i}function Sce(n,e){var t=e||{},r=ble(n,t);return R7(r,t)}function zu(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return a2(of(r));case"binary":return of(r);case"string":return n;case"file":return Xy(e.file,r,"utf8");case"buffer":return Vn?Dh(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):zu(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ace(n,e){switch(e.type){case"base64":return a2(n);case"binary":return n;case"string":return n;case"file":return Xy(e.file,n,"binary");case"buffer":return Vn?Dh(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function _w(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?a2(t):e.type=="string"?qr(t):t;case"file":return Xy(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function _C(n,e){H4(),moe(n);var t=li(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=_C(n,t);return t.type="array",C5(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return zu(dle(n,t),t);case"slk":case"sylk":return zu(BP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return zu(S7(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Ace(I7(n.Sheets[n.SheetNames[i]],t),t);case"csv":return zu(SC(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return zu(UP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return _w(QT.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return zu(pv.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return zu(WP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return zu(HP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return zu(C7(n,t),t);case"wk1":return _w(cg.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return _w(cg.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),_w(_7(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Sce(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return wce(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Ece(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function L7(n,e,t){var r={};return r.type="file",r.file=e,Ece(r),_C(n,r)}function Tce(n,e,t,r,i,s,a,o){var c=Zi(t),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!a||n[t])for(var m=e.s.c;m<=e.e.c;++m){var b=a?n[t][m]:n[r[m]+c];if(b===void 0||b.t===void 0){if(u===void 0)continue;s[m]!=null&&(g[s[m]]=u);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[m]!=null){if(w==null)if(b.t=="e"&&w===null)g[s[m]]=null;else if(u!==void 0)g[s[m]]=u;else if(h&&w===null)g[s[m]]=null;else continue;else g[s[m]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?w:kh(b,w,o);w!=null&&(p=!1)}}return{row:g,isempty:p}}function j_(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof h){case"string":c=gr(h);break;case"number":c=gr(n["!ref"]),c.s.r=h;break;default:c=h}r>0&&(i=0);var p=Zi(c.s.r),g=[],m=[],b=0,w=0,_=Array.isArray(n),T=c.s.r,L=0,R={};_&&!n[T]&&(n[T]=[]);var D=u.skipHidden&&n["!cols"]||[],j=u.skipHidden&&n["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(D[L]||{}).hidden)switch(g[L]=Ti(L),t=_?n[T][L]:n[g[L]+p],r){case 1:s[L]=L-c.s.c;break;case 2:s[L]=g[L];break;case 3:s[L]=u.header[L-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=kh(t,null,u),w=R[a]||0,!w)R[a]=1;else{do o=a+"_"+w++;while(R[o]);R[a]=w,R[o]=1}s[L]=o}for(T=c.s.r+i;T<=c.e.r;++T)if(!(j[T]||{}).hidden){var G=Tce(n,c,T,g,r,s,_,u);(G.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(m[b++]=G.row)}return m.length=b,m}var kL=/"/g;function Cce(n,e,t,r,i,s,a,o){for(var c=!0,u=[],h="",p=Zi(t),g=e.s.c;g<=e.e.c;++g)if(r[g]){var m=o.dense?(n[t]||[])[g]:n[r[g]+p];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:kh(m,null,o));for(var b=0,w=0;b!==h.length;++b)if((w=h.charCodeAt(b))===i||w===s||w===34||o.forceQuotes){h='"'+h.replace(kL,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(kL,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&c?null:u.join(a)}function SC(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=gr(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),h="",p=[];r.dense=Array.isArray(n);for(var g=r.skipHidden&&n["!cols"]||[],m=r.skipHidden&&n["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(g[b]||{}).hidden||(p[b]=Ti(b));for(var w=0,_=i.s.r;_<=i.e.r;++_)(m[_]||{}).hidden||(h=Cce(n,i,_,p,a,c,s,r),h!=null&&(r.strip&&(h=h.replace(u,"")),(h||r.blankrows!==!1)&&t.push((w++?o:"")+h)));return delete r.dense,t.join("")}function I7(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=SC(n,e);return t}function kce(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=gr(n["!ref"]),s="",a=[],o,c=[],u=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ti(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=Zi(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=u?(n[h]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function M7(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;a=c.r,o=c.c}var u,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=gr(s["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),a==-1&&(a=p.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var g=r.header||[],m=0;e.forEach(function(w,_){Hi(w).forEach(function(T){(m=g.indexOf(T))==-1&&(g[m=g.length]=T);var L=w[T],R="z",D="",j=Sn({c:o+m,r:a+_+i});u=x2(s,j),L&&typeof L=="object"&&!(L instanceof Date)?s[j]=L:(typeof L=="number"?R="n":typeof L=="boolean"?R="b":typeof L=="string"?R="s":L instanceof Date?(R="d",r.cellDates||(R="n",L=Rs(L)),D=r.dateNF||_n[14]):L===null&&r.nullError&&(R="e",L=0),u?(u.t=R,u.v=L,delete u.w,delete u.R,D&&(u.z=D)):s[j]=u={t:R,v:L},D&&(u.z=D))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Zi(a);if(i)for(m=0;m<g.length;++m)s[Ti(m+o)+b]={t:"s",v:g[m]};return s["!ref"]=On(h),s}function Nce(n,e){return M7(null,n,e)}function x2(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ci(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?x2(n,Sn(e)):x2(n,Sn({r:e,c:t||0}))}function Rce(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function AC(){return{SheetNames:[],Sheets:{}}}function EC(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=a+i)!=-1;++i);}if(m7(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Lce(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Rce(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Ice(n,e){return n.z=e,n}function D7(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Mce(n,e,t){return D7(n,"#"+e,t)}function Dce(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Fce(n,e,t,r){for(var i=typeof e!="string"?e:gr(e),s=typeof e=="string"?e:On(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=x2(n,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var Ta={encode_col:Ti,encode_row:Zi,encode_cell:Sn,encode_range:On,decode_col:Q4,decode_row:Z4,split_cell:WZ,decode_cell:Ci,decode_range:Ho,format_cell:kh,sheet_add_aoa:oP,sheet_add_json:M7,sheet_add_dom:A7,aoa_to_sheet:_v,json_to_sheet:Nce,table_to_sheet:E7,table_to_book:jle,sheet_to_csv:SC,sheet_to_txt:I7,sheet_to_json:j_,sheet_to_html:S7,sheet_to_formulae:kce,sheet_to_row_object_array:j_,sheet_get_cell:x2,book_new:AC,book_append_sheet:EC,book_set_sheet_visibility:Lce,cell_set_number_format:Ice,cell_set_hyperlink:D7,cell_set_internal_link:Mce,cell_add_comment:Dce,sheet_set_array_formula:Fce,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Pce={es:{title:"Historial de Correos",subtitle:"Rastrea y gestiona tus mensajes enviados recientemente.",searchPlaceholder:"Buscar destinatario, asunto...",filterByDate:"Filtrar por fecha",startDate:"Desde",endDate:"Hasta",exportExcel:"Excel",exportPDF:"Imprimir PDF",noSearchResults:"No se encontraron correos que coincidan con los filtros.",noHistory:"Sin historial an",noHistoryDesc:"Los correos que enves aparecern aqu con su estado de entrega.",thRecipient:"Destinatario",thSubject:"Asunto",thDate:"Fecha",thStatus:"Estado",thAction:"Accin",statusSent:"Entregado",statusFailed:"Error",statusSending:"En cola",modalTitle:"Detalles del Correo",toLabel:"Para:",ccLabel:"CC:",dateLabel:"Fecha:",subjectLabel:"Asunto:",bodyLabel:"Mensaje:",attachmentsLabel:"Archivos Adjuntos",closeBtn:"Cerrar",reportTitle:"Reporte de Actividad de Correos",serverLabel:"Servidor SMTP:",catAll:"Todos",catGeneral:"Generales",catCensus:"Censos",categoryLabel:"Categora:"},en:{title:"Email History",subtitle:"Track and manage your recently sent messages.",searchPlaceholder:"Search recipient, subject...",filterByDate:"Filter by date",startDate:"From",endDate:"To",exportExcel:"Excel",exportPDF:"Print PDF",noSearchResults:"No emails found matching the filters.",noHistory:"No History Yet",noHistoryDesc:"Emails you send will appear here with their delivery status.",thRecipient:"Recipient",thSubject:"Subject",thDate:"Date",thStatus:"Status",thAction:"Action",statusSent:"Delivered",statusFailed:"Error",statusSending:"Queued",modalTitle:"Email Details",toLabel:"To:",ccLabel:"Copy To:",dateLabel:"Date:",subjectLabel:"Subject:",bodyLabel:"Message:",attachmentsLabel:"Attachments",closeBtn:"Close",reportTitle:"Email Activity Report",serverLabel:"SMTP Server:",catAll:"All",catGeneral:"General",catCensus:"Census",categoryLabel:"Category:"}},Oce=({history:n,lang:e})=>{const t=nt.useMemo(()=>Pce[e],[e]),[r,i]=nt.useState(null),[s,a]=nt.useState(""),[o,c]=nt.useState(""),[u,h]=nt.useState(""),[p,g]=nt.useState("all"),m=nt.useMemo(()=>{let T=n;if(p!=="all"&&(T=T.filter(L=>(L.category||"general")===p)),s.trim()){const L=s.toLowerCase();T=T.filter(R=>R.to.toLowerCase().includes(L)||R.subject.toLowerCase().includes(L)||R.status.toLowerCase().includes(L))}if(o){const L=new Date(o).setHours(0,0,0,0);T=T.filter(R=>R.timestamp>=L)}if(u){const L=new Date(u).setHours(23,59,59,999);T=T.filter(R=>R.timestamp<=L)}return T},[n,s,o,u,p]),b=()=>{const T=[t.thRecipient,t.thSubject,"Tipo",t.thDate,t.thStatus,t.ccLabel],L=m.map(P=>[P.to,P.subject,P.category==="census"?t.catCensus:t.catGeneral,new Date(P.timestamp).toLocaleString(),P.status,P.cc.join(", ")]),R=Ta.aoa_to_sheet([T,...L]),D=T.map(()=>({wch:25}));R["!cols"]=D;const j=Ta.book_new();Ta.book_append_sheet(j,R,"Historial");const G=new Date().toISOString().split("T")[0];L7(j,`historial_correos_${G}.xlsx`)},w=()=>{window.print()},_=T=>{if(T===0)return"0 Bytes";const L=1024,R=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(T)/Math.log(L));return parseFloat((T/Math.pow(L,D)).toFixed(2))+" "+R[D]};return n.length===0?S.jsxs("div",{className:"text-center py-20 space-y-4 animate-in fade-in duration-700",children:[S.jsx("div",{className:"bg-slate-100 dark:bg-slate-900 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:S.jsx(eE,{className:"text-slate-300 dark:text-slate-700",size:32})}),S.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200",children:t.noHistory}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:t.noHistoryDesc})]}):S.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.jsxs("header",{className:"text-left flex flex-col md:flex-row md:items-end justify-between gap-4 no-print",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:t.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t.subtitle})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:b,disabled:m.length===0,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-all disabled:opacity-30",children:[S.jsx(c4,{size:16})," ",t.exportExcel]}),S.jsxs("button",{onClick:w,disabled:m.length===0,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800/50 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-all disabled:opacity-30",children:[S.jsx(BB,{size:16})," ",t.exportPDF]})]})]}),S.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-6 no-print transition-colors",children:[S.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[S.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-950 p-1 rounded-xl border border-slate-200 dark:border-slate-800",children:[{id:"all",label:t.catAll,icon:iB},{id:"general",label:t.catGeneral,icon:wh},{id:"census",label:t.catCensus,icon:Sw}].map(T=>S.jsxs("button",{onClick:()=>g(T.id),className:`flex items-center gap-2 px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${p===T.id?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[S.jsx(T.icon,{size:14})," ",T.label]},T.id))}),S.jsxs("div",{className:"relative flex-1 max-w-md",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),S.jsx("input",{type:"text",placeholder:t.searchPlaceholder,className:"w-full pl-12 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/20 transition-all text-sm",value:s,onChange:T=>a(T.target.value)})]})]}),S.jsx("div",{className:"flex flex-wrap items-center gap-4 border-t border-slate-100 dark:border-slate-800 pt-4",children:S.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.jsxs("div",{className:"flex-1 relative max-w-[200px]",children:[S.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:t.startDate}),S.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:o,onChange:T=>c(T.target.value)})]}),S.jsxs("div",{className:"flex-1 relative max-w-[200px]",children:[S.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:t.endDate}),S.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:u,onChange:T=>h(T.target.value)})]}),(o||u||s||p!=="all")&&S.jsxs("button",{onClick:()=>{a(""),c(""),h(""),g("all")},className:"flex items-center gap-2 text-xs font-bold text-red-500 hover:underline",children:[S.jsx(so,{size:14})," Limpiar filtros"]})]})})]}),S.jsxs("div",{className:"hidden print-only mb-8",children:[S.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.reportTitle}),S.jsxs("p",{className:"text-sm text-slate-500",children:[new Date().toLocaleString()," | ",o?`${t.startDate}: ${o}`:""," ",u?` ${t.endDate}: ${u}`:""," | Categora: ",p]})]}),S.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors text-left",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thRecipient}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thSubject}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Tipo"}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thDate}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thStatus}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right no-print",children:t.thAction})]})}),S.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[m.map(T=>{const L=T.category==="census";return S.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 break-all",children:T.to})}),S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-1",children:T.subject}),T.attachments.length>0&&S.jsx(Wm,{size:14,className:"text-indigo-400 shrink-0 no-print"})]})}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border w-fit ${L?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400":"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400"}`,children:[L?S.jsx(Sw,{size:10}):S.jsx(wh,{size:10}),S.jsx("span",{className:"text-[10px] font-bold uppercase",children:L?t.catCensus:t.catGeneral})]})}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.jsx("span",{className:"text-xs text-slate-400",children:new Date(T.timestamp).toLocaleString()})}),S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="sent"&&S.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-full text-[10px] font-bold uppercase",children:[S.jsx(HL,{size:10})," ",t.statusSent]}),T.status==="failed"&&S.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-full text-[10px] font-bold uppercase",children:[S.jsx(H9,{size:10})," ",t.statusFailed]}),T.status==="sending"&&S.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-full text-[10px] font-bold uppercase",children:[S.jsx(eE,{size:10})," ",t.statusSending]})]})}),S.jsx("td",{className:"px-6 py-4 text-right no-print",children:S.jsx("button",{onClick:()=>i(T),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Ver detalles",children:S.jsx(jL,{size:16})})})]},T.id)}),m.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400 italic",children:t.noSearchResults})})]})]})})}),r&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[150] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800 transition-colors text-left",children:[S.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-white dark:bg-slate-900 z-10",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-xl ${r.category==="census"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:r.category==="census"?S.jsx(Sw,{size:24}):S.jsx(wh,{size:24})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white leading-none",children:t.modalTitle}),S.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.status==="sent"&&S.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-emerald-100 text-emerald-600 rounded uppercase",children:t.statusSent}),r.status==="failed"&&S.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-red-100 text-red-600 rounded uppercase",children:t.statusFailed}),S.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[S.jsx(T9,{size:10})," ",new Date(r.timestamp).toLocaleString()]})]})]})]}),S.jsx("button",{onClick:()=>i(null),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:24})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-left bg-slate-50 dark:bg-slate-950/50",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(Zx,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.toLabel}),S.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 break-all",children:r.to})]})]}),r.cc&&r.cc.length>0&&S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(l4,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.ccLabel}),S.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 break-all",children:r.cc.join(", ")})]})]}),r.smtpProfileName&&S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(f_,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.serverLabel}),S.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:r.smtpProfileName})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(Qc,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.subjectLabel}),S.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white leading-snug",children:r.subject})]})]}),S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(Ox,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.categoryLabel}),S.jsx("p",{className:`text-sm font-bold capitalize ${r.category==="census"?"text-emerald-600 dark:text-emerald-400":"text-indigo-600 dark:text-indigo-400"}`,children:r.category==="census"?t.catCensus:t.catGeneral})]})]})]})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.bodyLabel}),S.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm text-slate-700 dark:text-slate-300 leading-relaxed min-h-[150px] transition-colors",dangerouslySetInnerHTML:{__html:r.body}})]}),r.attachments&&r.attachments.length>0&&S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.attachmentsLabel}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.attachments.map(T=>S.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center gap-3 transition-colors",children:[S.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800 text-indigo-500 rounded-lg shrink-0",children:T.type.startsWith("image/")?S.jsx(uB,{size:20}):S.jsx(Qc,{size:20})}),S.jsxs("div",{className:"overflow-hidden flex-1",children:[S.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 truncate",children:T.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[T.label&&S.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded uppercase",children:T.label}),S.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:_(T.size)})]})]})]},T.id))})]})]}),S.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end",children:S.jsx("button",{onClick:()=>i(null),className:"px-6 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:t.closeBtn})})]})})]})},Bce={es:{title:"Agenda de Contactos",subtitle:"Gestiona tus destinatarios frecuentes con mltiples correos y grupos.",tabContacts:"Todos los Contactos",tabGroups:"Grupos de Contactos",addBtn:"Aadir Contacto",addGroupBtn:"Crear Grupo",searchPlaceholder:"Buscar en la agenda...",thContact:"Contacto",thEmails:"Correos",thActions:"Acciones",thGroup:"Nombre del Grupo",thMembers:"Miembros",noContacts:"Tu agenda est vaca.",noGroups:"No has creado grupos an.",noSearch:"No hay resultados que coincidan.",editTitle:"Editar Contacto",newTitle:"Nuevo Contacto",editGroupTitle:"Editar Grupo",newGroupTitle:"Nuevo Grupo",fullName:"Nombre Completo",groupName:"Nombre del Grupo",addEmail:"Aadir otro correo",saveBtn:"Guardar",updateBtn:"Actualizar",selectContacts:"Seleccionar Contactos para el Grupo",membersCount:"{count} miembros"},en:{title:"Contact Agenda",subtitle:"Manage your frequently used recipients with multiple emails and groups.",tabContacts:"All Contacts",tabGroups:"Contact Groups",addBtn:"Add Contact",addGroupBtn:"Create Group",searchPlaceholder:"Search agenda...",thContact:"Contact",thEmails:"Emails",thActions:"Actions",thGroup:"Group Name",thMembers:"Members",noContacts:"Your agenda is empty.",noGroups:"No groups created yet.",noSearch:"No results found match your search.",editTitle:"Edit Contact",newTitle:"Add New Contact",editGroupTitle:"Edit Group",newGroupTitle:"Create New Group",fullName:"Full Name",groupName:"Group Name",addEmail:"Add another",saveBtn:"Save",updateBtn:"Update",selectContacts:"Select Contacts for Group",membersCount:"{count} members"}},Uce=({contacts:n,onAction:e,contactGroups:t,onGroupAction:r,lang:i})=>{const s=nt.useMemo(()=>Bce[i],[i]),[a,o]=nt.useState("contacts"),[c,u]=nt.useState(null),[h,p]=nt.useState(!1),[g,m]=nt.useState(null),[b,w]=nt.useState(!1),[_,T]=nt.useState(""),[L,R]=nt.useState({id:"",name:"",emails:[""]}),[D,j]=nt.useState({id:"",name:"",contactIds:[]}),G=nt.useMemo(()=>n.filter(ge=>ge.name.toLowerCase().includes(_.toLowerCase())||ge.emails.some(K=>K.toLowerCase().includes(_.toLowerCase()))),[n,_]),P=nt.useMemo(()=>t.filter(ge=>ge.name.toLowerCase().includes(_.toLowerCase())),[t,_]),W=()=>{R({id:Date.now().toString(),name:"",emails:[""]}),p(!0),u(null)},O=ge=>{R(ge),u(ge),p(!1)},ee=()=>{j({id:Date.now().toString(),name:"",contactIds:[]}),w(!0),m(null)},B=ge=>{j(ge),m(ge),w(!1)},q=ge=>{ge.preventDefault();const K={...L,emails:L.emails.filter(ce=>ce.trim()!=="")};K.emails.length!==0&&(c?e.update(K):e.add(K),p(!1),u(null))},Q=ge=>{ge.preventDefault(),D.name.trim()&&(g?r.update(D):r.add(D),w(!1),m(null))},re=ge=>{j(K=>({...K,contactIds:K.contactIds.includes(ge)?K.contactIds.filter(ce=>ce!==ge):[...K.contactIds,ge]}))};return S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[S.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:s.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:s.subtitle})]}),!h&&!c&&!b&&!g&&S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium shadow-md hover:bg-indigo-700 transition-all active:scale-95",children:[S.jsx(lU,{size:18})," ",s.addBtn]}),S.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-indigo-600 dark:text-indigo-400 rounded-xl font-medium shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:[S.jsx(nB,{size:18})," ",s.addGroupBtn]})]})]}),!h&&!c&&!b&&!g?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl border border-slate-200 dark:border-slate-800",children:[S.jsxs("button",{onClick:()=>o("contacts"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${a==="contacts"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[S.jsx(t0,{size:16})," ",s.tabContacts]}),S.jsxs("button",{onClick:()=>o("groups"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${a==="groups"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[S.jsx(Ox,{size:16})," ",s.tabGroups]})]}),S.jsxs("div",{className:"relative flex-1 max-w-md",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),S.jsx("input",{type:"text",placeholder:s.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:_,onChange:ge=>T(ge.target.value)})]})]}),S.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-all",children:a==="contacts"?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thContact}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thEmails}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:s.thActions})]})}),S.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[G.map(ge=>S.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center text-xs font-bold",children:ge.name.charAt(0).toUpperCase()}),S.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:ge.name})]})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("div",{className:"flex flex-wrap gap-1.5",children:ge.emails.map(K=>S.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 rounded-md font-medium",children:K},K))})}),S.jsx("td",{className:"px-6 py-4 text-right",children:S.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>O(ge),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:S.jsx(fv,{size:16})}),S.jsx("button",{onClick:()=>window.confirm("Eliminar contacto?")&&e.delete(ge.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:S.jsx(iu,{size:16})})]})})]},ge.id)),G.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:S.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[S.jsx(t0,{size:48}),S.jsx("p",{children:_?s.noSearch:s.noContacts})]})})})]})]})}):S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thGroup}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thMembers}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:s.thActions})]})}),S.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[P.map(ge=>S.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:S.jsx(Ox,{size:18})}),S.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:ge.name})]})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 px-3 py-1 bg-slate-50 dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700",children:s.membersCount.replace("{count}",ge.contactIds.length.toString())})}),S.jsx("td",{className:"px-6 py-4 text-right",children:S.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>B(ge),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:S.jsx(fv,{size:16})}),S.jsx("button",{onClick:()=>window.confirm("Eliminar grupo?")&&r.delete(ge.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:S.jsx(iu,{size:16})})]})})]},ge.id)),P.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:S.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[S.jsx(Ox,{size:48}),S.jsx("p",{children:_?s.noSearch:s.noGroups})]})})})]})]})})})]}):S.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-2xl animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:c?s.editTitle:h?s.newTitle:g?s.editGroupTitle:s.newGroupTitle}),S.jsx("button",{onClick:()=>{p(!1),u(null),w(!1),m(null)},className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:24})})]}),h||c?S.jsxs("form",{onSubmit:q,className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.fullName}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:L.name,onChange:ge=>R({...L,name:ge.target.value}),required:!0})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.thEmails}),S.jsxs("button",{type:"button",onClick:()=>R({...L,emails:[...L.emails,""]}),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[S.jsx(i0,{size:12})," ",s.addEmail]})]}),S.jsx("div",{className:"space-y-3",children:L.emails.map((ge,K)=>S.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-top-2 duration-200",children:[S.jsx("input",{type:"email",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:ge,onChange:ce=>{const Te=[...L.emails];Te[K]=ce.target.value,R({...L,emails:Te})},required:K===0}),L.emails.length>1&&S.jsx("button",{type:"button",onClick:()=>R({...L,emails:L.emails.filter((ce,Te)=>Te!==K)}),className:"p-3 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:S.jsx(iu,{size:18})})]},K))})]}),S.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[S.jsx(lf,{size:18})," ",c?s.updateBtn:s.saveBtn]})]}):S.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.groupName}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:D.name,onChange:ge=>j({...D,name:ge.target.value}),required:!0})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(t0,{size:16,className:"text-indigo-500"})," ",s.selectContacts]}),S.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden max-h-64 overflow-y-auto custom-scrollbar",children:S.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.length>0?n.map(ge=>S.jsx("button",{type:"button",onClick:()=>re(ge.id),className:`w-full flex items-center justify-between p-4 transition-all hover:bg-white dark:hover:bg-slate-800 ${D.contactIds.includes(ge.id)?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${D.contactIds.includes(ge.id)?"bg-indigo-600 border-indigo-600":"border-slate-300"}`,children:D.contactIds.includes(ge.id)&&S.jsx(l_,{size:12,className:"text-white"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:ge.name}),S.jsx("p",{className:"text-[10px] text-slate-400",children:ge.emails[0]})]})]})},ge.id)):S.jsx("div",{className:"p-8 text-center text-slate-400 italic text-xs",children:s.noContacts})})})]}),S.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[S.jsx(lf,{size:18})," ",g?s.updateBtn:s.saveBtn]})]})]})]})},Hce={es:{title:"Plantillas de Correo",subtitle:"Guarda estructuras de correo frecuentes para agilizar tu trabajo.",newBtn:"Nueva Plantilla",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas guardadas an.",editTitle:"Editar Plantilla",newTitle:"Nueva Plantilla",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Reporte Mensual, Saludos, Seguimiento...",subjectLabel:"Lnea de Asunto",subjectPlaceholder:"Importante: Actualizacin sobre...",bodyLabel:"Contenido del Cuerpo (Texto Enriquecido)",bodyPlaceholder:"Comienza a redactar tu plantilla aqu...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla"},en:{title:"Email Templates",subtitle:"Save frequently used email structures to speed up your work.",newBtn:"New Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No templates saved yet.",editTitle:"Edit Template",newTitle:"New Template",nameLabel:"Template Name",namePlaceholder:"Monthly Report, Greetings, Follow-up...",subjectLabel:"Subject Line",subjectPlaceholder:"Important: Update regarding...",bodyLabel:"Body Content (Rich Text)",bodyPlaceholder:"Start drafting your template here...",updateBtn:"Update Template",saveBtn:"Save Template"}},zce=({templates:n,onAction:e,lang:t})=>{const r=nt.useMemo(()=>Hce[t],[t]),[i,s]=nt.useState(null),[a,o]=nt.useState(!1),[c,u]=nt.useState(""),[h,p]=nt.useState({id:"",name:"",subject:"",body:""}),g=nt.useRef(null),m=n.filter(L=>L.name.toLowerCase().includes(c.toLowerCase())||L.subject.toLowerCase().includes(c.toLowerCase()));nt.useEffect(()=>{(a||i)&&g.current&&g.current.innerHTML!==h.body&&(g.current.innerHTML=h.body)},[a,i,h.body]);const b=()=>{p({id:Date.now().toString(),name:"",subject:"",body:""}),o(!0),s(null)},w=L=>{p(L),s(L),o(!1)},_=L=>{L.preventDefault(),i?e.update(h):e.add(h),o(!1),s(null)},T=L=>{document.execCommand(L,!1),g.current&&p(R=>({...R,body:g.current.innerHTML}))};return S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[S.jsxs("header",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!a&&!i&&S.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[S.jsx(i0,{size:18})," ",r.newBtn]})]}),!a&&!i?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),S.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:c,onChange:L=>u(L.target.value)})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.map(L=>S.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>w(L),children:S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:L.name}),S.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:R=>{R.stopPropagation(),w(L)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:S.jsx(fv,{size:14})}),S.jsx("button",{onClick:R=>{R.stopPropagation(),e.delete(L.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:S.jsx(iu,{size:14})})]})]}),S.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium line-clamp-1 mb-2",children:L.subject}),S.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:L.body.replace(/<[^>]*>?/gm," ")}})]})},L.id)),m.length===0&&S.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:c?r.noSearch:r.noTemplates})]})]}):S.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),S.jsx("button",{onClick:()=>{o(!1),s(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:20})})]}),S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.name,onChange:L=>p({...h,name:L.target.value}),placeholder:r.namePlaceholder,required:!0})]}),S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(h4,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.subjectLabel]}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.subject,onChange:L=>p({...h,subject:L.target.value}),placeholder:r.subjectPlaceholder,required:!0})]}),S.jsxs("div",{className:"space-y-2 text-left",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[S.jsx(Qc,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),S.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[S.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[S.jsx("button",{type:"button",onClick:()=>T("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(o4,{size:16})}),S.jsx("button",{type:"button",onClick:()=>T("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(u4,{size:16})}),S.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),S.jsx("button",{type:"button",onClick:()=>T("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:S.jsx(f4,{size:16})})]}),S.jsx("div",{ref:g,contentEditable:!0,onInput:L=>{const R=L.currentTarget.innerHTML;p(D=>({...D,body:R}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),S.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[S.jsx(lf,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})};function F7(n,e,t,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*c,h=/\r\n|\r|\n/g,p="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof n=="string"?n.split(h):n,g=p.length||1),t+=o*(2-s),r.valign==="middle"?t-=g/2*u:r.valign==="bottom"&&(t-=g*u),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),p&&g>=1){for(var b=0;b<p.length;b++)i.text(p[b],e-i.getStringUnitWidth(p[b])*m,t),t+=u;return i}e-=i.getStringUnitWidth(n)*m}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var NL={},s1=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:NL=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var h=n.unifyColor(e.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=n.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=n.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,s){return this.jsPDFDocument.rect(e,t,r,i,s)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return NL||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),r4=function(n,e){return r4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},r4(n,e)};function P7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r4(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var O7=(function(n){P7(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function jce(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Gce(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function G_(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function B7(n,e,t,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:s});var a=U7(i,!1);a&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,a)}function U7(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function P5(n,e){var t,r,i,s;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(s=n.bottom)!==null&&s!==void 0?s:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function H7(n,e){var t=P5(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function qce(n,e,t,r,i){var s={},a=1.3333333333333333,o=XA(e,function(R){return i.getComputedStyle(R).backgroundColor});o!=null&&(s.fillColor=o);var c=XA(e,function(R){return i.getComputedStyle(R).color});c!=null&&(s.textColor=c);var u=Wce(r,t);u&&(s.cellPadding=u);var h="borderTopColor",p=a*t,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var b=XA(e,function(R){return i.getComputedStyle(R)[h]});b!=null&&(s.lineColor=b);var w=["left","right","center","justify"];w.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),w=["middle","bottom","top"],w.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var _=parseInt(r.fontSize||"");isNaN(_)||(s.fontSize=_/a);var T=Vce(r);T&&(s.fontStyle=T);var L=(r.fontFamily||"").toLowerCase();return n.indexOf(L)!==-1&&(s.font=L),s}function Vce(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function XA(n,e){var t=z7(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function z7(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:z7(n.parentElement,e):t}function Wce(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/r}),a=P5(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function j7(n,e,t,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var c=Object.keys(n.getFontList()),u=n.scaleFactor(),h=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var b=o.rows[m],w=(a=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),_=$ce(c,u,t,b,r,i);_&&(w==="thead"?h.push(_):w==="tfoot"?g.push(_):p.push(_))}return{head:h,body:p,foot:g}}function $ce(n,e,t,r,i,s){for(var a=new O7(r),o=0;o<r.cells.length;o++){var c=r.cells[o],u=t.getComputedStyle(c);if(i||u.display!=="none"){var h=void 0;s&&(h=qce(n,c,e,u,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:Xce(c)})}}var p=t.getComputedStyle(r);if(a.length>0&&(i||p.display!=="none"))return a}function Xce(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Yce(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function bh(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(n),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function G7(n,e){var t=new s1(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();Yce(i,r,e);var s=bh({},i,r,e),a;typeof window<"u"&&(a=window);var o=Kce(i,r,e),c=Jce(i,r,e),u=Zce(t,s),h=eue(t,s,a);return{id:e.tableId,content:h,hooks:c,styles:o,settings:u}}function Kce(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=n[c],h=e[c],p=t[c];r.columnStyles=bh({},u,h,p)}else{var g=[n,e,t],m=g.map(function(b){return b[c]||{}});r[c]=bh({},m[0],m[1],m[2])}},s=0,a=Object.keys(r);s<a.length;s++){var o=a[s];i(o)}return r}function Jce(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Zce(n,e){var t,r,i,s,a,o,c,u,h,p,g,m,b=P5(e.margin,40/n.scaleFactor()),w=(t=Qce(n,e.startY))!==null&&t!==void 0?t:b.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(s=e.useCss)!==null&&s!==void 0?s:!1,R=e.theme||(L?"plain":"striped"),D=!!e.horizontalPageBreak,j=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:L,theme:R,startY:w,margin:b,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:T,showFoot:_,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Qce(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function eue(n,e,t){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=j7(n,e.html,t,a,e.useCss)||{};r=o.head||r,i=o.body||r,s=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||tue(r,i,s);return{columns:c,head:r,body:i,foot:s}}function tue(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(r)?o=r[parseInt(s)]:o=r[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(c>0?"_".concat(c):"");var h={dataKey:u};i.push(h)}}),i}var i4=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),nue=(function(n){P7(e,n);function e(t,r,i,s,a,o){var c=n.call(this,t,r,o)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return e})(i4),rue=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,s,a){for(var o=0,c=t;o<c.length;o++){var u=c[o],h=new nue(e,this,r,i,s,a),p=u(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new i4(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new i4(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),q7=(function(){function n(e,t,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof O7&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=s}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+o;return u>i?u:i},0)},n})(),V7=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=P5(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),iue=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},n})();function sue(n,e){aue(n,e);var t=[],r=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),r+=s.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=s4(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=s4(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),lue(e),cue(e,n),oue(e)}function aue(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=H7(n,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(n,h,u,s,c,null);var p=u.padding("horizontal");u.contentWidth=G_(u.text,u.styles,n)+p;var g=G_(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,n);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/t;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function s4(n,e,t){for(var r=e,i=n.reduce(function(m,b){return m+b.wrappedWidth},0),s=0;s<n.length;s++){var a=n[s],o=a.wrappedWidth/i,c=r*o,u=a.width+c,h=t(a),p=u<h?h:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=n.filter(function(m){return e<0?m.width>t(m):!0});g.length&&(e=s4(g,e,t))}return e}function oue(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,o=n.columns;a<o.length;a++){var c=o[a],u=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,t=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var h=s.cells[c.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=r.length-i,g=h.rowSpan>p?p:h.rowSpan;e[c.index]={cell:h,left:g,row:s}}}}}function lue(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,s=0,a=0,o=0;o<n.columns.length;o++){var c=n.columns[o];if(a-=1,a>1&&n.columns[o+1])s+=c.width,delete r.cells[c.index];else if(i){var u=i;delete r.cells[c.index],i=null,u.width=c.width+s}else{var u=r.cells[c.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=c.width;continue}u.width=c.width+s}}}function cue(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var s=i[r],a=0,o=n.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=RL(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=RL(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<g*u.rowSpan?t={height:g,count:u.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>s.height&&(s.height=g)}}t.count--}}function RL(n,e,t,r,i){return n.map(function(s){return uue(s,e,t,r,i)})}function uue(n,e,t,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=G_(n,t,r))return n;for(;e<G_(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function W7(n,e){var t=new s1(n),r=fue(e,t.scaleFactor()),i=new rue(e,r);return sue(t,i),t.applyStyles(t.userStyles),i}function fue(n,e){var t=n.content,r=due(t.columns);if(t.head.length===0){var i=LL(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=LL(r,"foot");i&&t.foot.push(i)}var s=n.settings.theme,a=n.styles;return{columns:r,head:YA("head",t.head,r,a,s,e),body:YA("body",t.body,r,a,s,e),foot:YA("foot",t.foot,r,a,s,e)}}function YA(n,e,t,r,i,s){var a={},o=e.map(function(c,u){for(var h=0,p={},g=0,m=0,b=0,w=t;b<w.length;b++){var _=w[b];if(a[_.index]==null||a[_.index].left===0)if(m===0){var T=void 0;Array.isArray(c)?T=c[_.index-g-h]:T=c[_.dataKey];var L={};typeof T=="object"&&!Array.isArray(T)&&(L=(T==null?void 0:T.styles)||{});var R=pue(n,_,u,i,r,s,L),D=new V7(T,R,n);p[_.dataKey]=D,p[_.index]=D,m=D.colSpan-1,a[_.index]={left:D.rowSpan-1,times:m}}else m--,g++;else a[_.index].left--,m=a[_.index].times,h++}return new q7(c,u,n,p)});return o}function LL(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=hue(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function hue(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function due(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new iue(i,e,t)})}function pue(n,e,t,r,i,s,a){var o=Gce(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var u=bh({},o.table,o[n],i.styles,c),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=n==="body"?h:{},g=n==="body"&&t%2===0?bh({},o.alternateRow,i.alternateRowStyles):{},m=jce(s),b=bh({},m,u,g,p);return bh(b,a)}function gue(n,e,t){var r;t===void 0&&(t={});var i=H7(n,e),s=new Map,a=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var m=e.columns.find(function(b){return b.dataKey===g||b.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,h=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function mue(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=gue(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function $7(n,e){var t=e.settings,r=t.startY,i=t.margin,s={x:i.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,m){return g+m.height},0);o+=u}var h=new s1(n);(t.pageBreak==="always"||t.startY!=null&&o>h.pageSize().height)&&(Y7(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=bh({},s);e.startPageNumber=h.pageNumber(),t.horizontalPageBreak?vue(h,e,p,s):(h.applyStyles(h.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return Nh(h,e,g,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(g,m){var b=m===e.body.length-1;q_(h,e,g,b,p,s,e.columns)}),h.applyStyles(h.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return Nh(h,e,g,s,e.columns)})),B7(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,n.lastAutoTable=e,h.applyStyles(h.userStyles)}function vue(n,e,t,r){var i=mue(n,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){n.applyStyles(n.userStyles),h>0?Kx(n,e,t,r,u.columns,!0):IL(n,e,r,u.columns),xue(n,e,t,r,u.columns),KA(n,e,r,u.columns)});else for(var a=-1,o=i[0],c=function(){var u=a;if(o){n.applyStyles(n.userStyles);var h=o.columns;a>=0?Kx(n,e,t,r,h,!0):IL(n,e,r,h),u=ML(n,e,a+1,r,h),KA(n,e,r,h)}var p=u-a;i.slice(1).forEach(function(g){n.applyStyles(n.userStyles),Kx(n,e,t,r,g.columns,!0),ML(n,e,a+1,r,g.columns,p),KA(n,e,r,g.columns)}),a=u};a<e.body.length-1;)c()}function IL(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Nh(n,e,s,t,r)})}function xue(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;q_(n,e,s,o,t,r,i)})}function ML(n,e,t,r,i,s){n.applyStyles(n.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(c,u){var h=t+u===e.body.length-1,p=X7(n,e,h,r);c.canEntireRowFit(p,i)&&(Nh(n,e,c,r,i),o=t+u)}),o}function KA(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Nh(n,e,s,t,r)})}function yue(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function bue(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var c=o[a],u=n.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new V7(u.raw,u.styles,u.section);h=bh(h,u),h.text=[];var p=yue(u,e,r);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>n.height&&(n.height=u.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>s&&(s=h.contentHeight),i[c.index]=h}}var b=new q7(n.raw,-1,n.section,i,!0);b.height=s;for(var w=0,_=t.columns;w<_.length;w++){var c=_[w],h=b.cells[c.index];h&&(h.height=b.height);var u=n.cells[c.index];u&&(u.height=n.height)}return b}function wue(n,e,t,r){var i=n.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),u=c<t;if(c>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>o;return p?(h&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function q_(n,e,t,r,i,s,a){var o=X7(n,e,r,s);if(t.canEntireRowFit(o,a))Nh(n,e,t,s,a);else if(wue(n,t,o,e)){var c=bue(t,o,e,n);Nh(n,e,t,s,a),Kx(n,e,i,s,a),q_(n,e,c,r,i,s,a)}else Kx(n,e,i,s,a),q_(n,e,t,r,i,s,a)}function Nh(n,e,t,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],c=t.cells[o.index];if(!c){r.x+=o.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(n,e.hooks.willDrawCell,c,t,o,r);if(u===!1){r.x+=o.width;continue}_ue(n,c,r);var h=c.getTextPos();F7(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,o,r),r.x+=o.width}r.y+=t.height}function _ue(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=U7(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Sue(n,e,t,r.lineWidth))}function Sue(n,e,t,r){var i,s,a,o;r.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,a,o)),r.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,a,o)),r.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,i,s,a,o)),r.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,i,s,a,o));function c(u,h,p,g,m){n.getDocument().setLineWidth(u),n.getDocument().line(h,p,g,m,"S")}}function X7(n,e,t,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Kx(n,e,t,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Nh(n,e,o,r,i)}),e.callEndPageHooks(n,r);var a=e.settings.margin;B7(n,e,t,r),Y7(n),e.pageNumber++,r.x=a.left,r.y=a.top,t.y=a.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Nh(n,e,o,r,i)}),n.applyStyles(n.userStyles))}function Y7(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Aue(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=G7(this,r),s=W7(this,i);return $7(this,s),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){F7(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return s1.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){s1.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new s1(this),s=j7(i,e,window,t,!1),a=s.head,o=s.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var JA;function ZA(n,e){var t=G7(n,e),r=W7(n,t);$7(n,r)}try{if(typeof window<"u"&&window){var DL=window,FL=DL.jsPDF||((JA=DL.jspdf)===null||JA===void 0?void 0:JA.jsPDF);FL&&Aue(FL)}}catch(n){console.error("Could not apply autoTable plugin",n)}const Eue={es:{title:"Censos",subtitle:"Carga y organiza registros censales para su posterior uso o referencia.",tabFiles:"Archivos de Censo",tabPatients:"Registro de Pacientes",uploadTitle:"Subir nuevo censo",uploadDesc:"Arrastra y suelta tu archivo aqu o haz clic para buscar.",uploadHint:"Soporta CSV, Excel (XLSX, XLS).",searchPlaceholder:"Buscar...",noFiles:"No hay censos registrados an.",thFile:"Archivo",thDate:"Fecha de Carga",thSize:"Tamao",thActions:"Acciones",deleteConfirm:"Ests seguro de eliminar este registro?",successUpload:"Archivo cargado con xito!",viewTitle:"Previsualizacin de Datos",closeBtn:"Cerrar",rowsCount:"{count} registros encontrados",noData:"No hay datos disponibles.",errorParsing:"Error al procesar el archivo Excel.",configTitle:"Configuracin de Columnas",configDesc:"Detecta y elige qu columnas mostrar globalmente en los reportes.",coverageColLabel:"Columna de Cobertura",patientColLabel:"Columna de Pacientes",emptyBedValueLabel:"Valor de Cama Vaca",showEmptyBedsLabel:"Mostrar Camas Vacas en Reportes",isolationColLabel:"Columna de Aislamiento",isolationValueLabel:"Valor de Bsqueda (Aislamiento)",segmentationTitleLabel:"Ttulo del Reporte",visibleColsLabel:"Columnas Visibles y Alias",aliasPlaceholder:"Alias (opcional)",statsTotal:"Total de Camas",statsPatients:"Pacientes Reales",statsEmptyBeds:"Camas Disponibles",statsCoverages:"Coberturas Detectadas",coverageListTitle:"Distribucin de Coberturas",backBtn:"Volver",saveSettingsBtn:"Guardar Configuracin",generateBtn:"Procesar Segmentacin",generateTitle:"Segmentacin por Cobertura",downloadExcel:"Exportar Excel",downloadPdf:"Exportar PDF",printGroup:"Imprimir Reporte",pdfSummaryTitle:"INFORME ESTADSTICO DE OCUPACIN",pdfTotalPatients:"Pacientes en Internacin",pdfIsolationTitle:"PACIENTES BAJO PROTOCOLO DE AISLAMIENTO",pdfIsolationCount:"Total Aislados",pdfNoIsolation:"Sin pacientes aislados.",pageLabel:"Pgina",sendCensusBtn:"Enviar por Mail",previewTitle:"Vista Previa del Segmento",previewDocTitle:"Vista Previa del Documento",previewBtn:"Vista Previa",smtpSelectorLabel:"Perfil de Envo:",addMoreFiles:"Adjuntar ms",removeFile:"Quitar",viewFile:"Ver Datos",patThId:"Identificador (ID)",patThName:"ltimo Registro",patThCount:"Apariciones",patThLast:"ltima Aparicin",patNoPatients:"No hay pacientes registrados.",patSearchPlaceholder:"Buscar paciente...",patSyncing:"Sincronizando registro...",noPatIdConfig:"Configura el ID de paciente en opciones.",isolationFound:"{count} aislados",emailPreviewTitle:"Vista Previa de Envo",emailTo:"Para:",emailSubject:"Asunto:",emailBody:"Mensaje:",emailAttachments:"Archivos Adjuntos",emailBaseName:"Nombre base de archivos:",emailConfirmSend:"Confirmar envo de censo?",emailSendSuccess:"Censo enviado con xito!",emailSendError:"Error al enviar el censo.",renameBtn:"Renombrar",removeBtn:"Quitar",pdfPreviewTitle:"Previsualizacin del PDF"},en:{title:"Census",subtitle:"Upload and organize census records.",tabFiles:"Census Files",tabPatients:"Patient Registry",uploadTitle:"Upload new census",uploadDesc:"Drag and drop or click to browse.",uploadHint:"CSV, Excel (XLSX, XLS).",searchPlaceholder:"Search...",noFiles:"No census records yet.",thFile:"File",thDate:"Upload Date",thSize:"Size",thActions:"Actions",deleteConfirm:"Delete this record?",successUpload:"File uploaded successfully!",viewTitle:"Data Preview",closeBtn:"Close",rowsCount:"{count} records found",noData:"No data available.",errorParsing:"Error processing file.",configTitle:"Column Configuration",configDesc:"Configure columns for reports.",coverageColLabel:"Coverage Column",patientColLabel:"Patients Column",emptyBedValueLabel:"Empty Bed Value",showEmptyBedsLabel:"Show Empty Beds in Reports",isolationColLabel:"Isolation Column",isolationValueLabel:"Search Value (Isolation)",segmentationTitleLabel:"Report Title",visibleColsLabel:"Visible Columns & Aliases",aliasPlaceholder:"Alias (optional)",statsTotal:"Total Beds",statsPatients:"Real Patients",statsEmptyBeds:"Available Beds",statsCoverages:"Coverages Found",coverageListTitle:"Distribution",backBtn:"Back",saveSettingsBtn:"Save Settings",generateBtn:"Process Segmentation",generateTitle:"Coverage Segmentation",downloadExcel:"Export Excel",downloadPdf:"Export PDF",printGroup:"Print Report",pdfSummaryTitle:"OCCUPANCY STATISTICAL REPORT",pdfTotalPatients:"Inpatients",pdfIsolationTitle:"PATIENTS UNDER ISOLATION PROTOCOL",pdfIsolationCount:"Total Isolated",pdfNoIsolation:"No isolated patients.",pageLabel:"Page",sendCensusBtn:"Send via Email",previewTitle:"Segment Preview",previewDocTitle:"Document Preview",previewBtn:"Preview",smtpSelectorLabel:"Sending Profile:",addMoreFiles:"Attach more",removeFile:"Remove",viewFile:"View Data",patThId:"ID",patThName:"Last Record",patThCount:"Appearances",patThLast:"Last Appearance",patNoPatients:"No patients found.",patSearchPlaceholder:"Search patient...",patSyncing:"Syncing registry...",noPatIdConfig:"Configure Patient ID in options.",isolationFound:"{count} isolated",emailPreviewTitle:"Send Preview",emailTo:"To:",emailSubject:"Subject:",emailBody:"Message:",emailAttachments:"Attachments",emailBaseName:"Files base name:",emailConfirmSend:"Confirm census send?",emailSendSuccess:"Census sent successfully!",emailSendError:"Error sending census.",renameBtn:"Rename",removeBtn:"Remove",pdfPreviewTitle:"PDF Preview"}},Tue=({files:n,patients:e,settings:t,onAction:r,lang:i,onSendEmail:s,smtpProfiles:a,globalSmtpId:o,notify:c})=>{const u=nt.useMemo(()=>Eue[i],[i]),[h,p]=nt.useState("files"),[g,m]=nt.useState(""),[b,w]=nt.useState(!1),[_,T]=nt.useState(!1),[L,R]=nt.useState(null),[D,j]=nt.useState(null),[G,P]=nt.useState(null),[W,O]=nt.useState(t),[ee,B]=nt.useState([]),[q,Q]=nt.useState(!1),[re,ge]=nt.useState(null),[K,ce]=nt.useState(!1),[Te,me]=nt.useState(null),[Oe,se]=nt.useState(""),[I,U]=nt.useState(null),z=nt.useRef(null),Y=nt.useRef(null),oe=nt.useMemo(()=>n.filter(_e=>_e.name.toLowerCase().includes(g.toLowerCase())),[n,g]),ye=nt.useMemo(()=>e.filter(_e=>_e.id.toLowerCase().includes(g.toLowerCase())||JSON.stringify(_e.data).toLowerCase().includes(g.toLowerCase())).sort((_e,Je)=>Je.lastSeen-_e.lastSeen),[e,g]),fe=_e=>{const Je=_e.getDate().toString().padStart(2,"0"),ut=(_e.getMonth()+1).toString().padStart(2,"0"),pt=_e.getFullYear();return`${Je}-${ut}-${pt}`},Ae=_e=>new Promise(Je=>{const ut=new FileReader;ut.onloadend=()=>{const pt=ut.result.split(",")[1];Je(pt)},ut.readAsDataURL(_e)}),Re=async _e=>{if(t.patientUniqueIdColumn){Q(!0);try{const Je=_e.split(",")[1],ut=Gm(Je,{type:"base64"}),pt=Ta.sheet_to_json(ut.Sheets[ut.SheetNames[0]]),Ut=t.patientUniqueIdColumn,wt=[...e],lt=Date.now();pt.forEach(Pe=>{const Qe=String(Pe[Ut]||"").trim();if(!Qe)return;const Ht=wt.findIndex(kt=>kt.id===Qe);Ht!==-1?wt[Ht]={...wt[Ht],data:{...wt[Ht].data,...Pe},lastSeen:lt,appearanceCount:wt[Ht].appearanceCount+1}:wt.push({id:Qe,data:Pe,firstSeen:lt,lastSeen:lt,appearanceCount:1})}),r.syncPatients(wt)}catch(Je){console.error(Je)}finally{Q(!1)}}},et=_e=>{var ut;const Je=(ut=_e.target.files)==null?void 0:ut[0];if(Je){const pt=new FileReader;pt.onload=Ut=>{var lt;const wt=(lt=Ut.target)==null?void 0:lt.result;r.add({id:Date.now().toString(),name:Je.name,size:Je.size,type:Je.type,uploadDate:Date.now(),content:wt}),t.patientUniqueIdColumn&&Re(wt)},pt.readAsDataURL(Je)}},de=_e=>{var pt;const Je=(pt=_e.target.files)==null?void 0:pt[0];if(!Je)return;const ut=new FileReader;ut.onload=Ut=>{var wt;try{const lt=new Uint8Array((wt=Ut.target)==null?void 0:wt.result),Pe=Gm(lt,{type:"array"}),Qe=Ta.sheet_to_json(Pe.Sheets[Pe.SheetNames[0]],{header:1});Qe.length>0&&B(Qe[0].map(Ht=>String(Ht||"")))}catch{alert(u.errorParsing)}},ut.readAsArrayBuffer(Je)},gt=async _e=>{if(_e.content)try{const Je=_e.content.split(",")[1],ut=Gm(Je,{type:"base64"}),pt=Ta.sheet_to_json(ut.Sheets[ut.SheetNames[0]]);R({name:_e.name,data:pt})}catch{alert(u.errorParsing)}},vt=async _e=>{var Je,ut;if(_e.content){if(!t.coverageColumn){alert(u.coverageColLabel),T(!0);return}try{const pt=_e.content.split(",")[1],Ut=Gm(pt,{type:"base64"}),wt=Ta.sheet_to_json(Ut.Sheets[Ut.SheetNames[0]]),lt=wt.length>0?Object.keys(wt[0]):[],Pe=Rn=>Rn?lt.find(Wt=>Wt.toLowerCase().trim()===Rn.toLowerCase().trim())||Rn:"",Qe=Pe(t.coverageColumn),Ht=t.patientColumn?Pe(t.patientColumn):"",kt=(Je=t.emptyBedValue)==null?void 0:Je.trim().toLowerCase(),Nt=t.isolationColumn?Pe(t.isolationColumn):"",Bt=(ut=t.isolationValue)==null?void 0:ut.trim().toLowerCase(),En=t.visibleColumns.length>0?t.visibleColumns:wt.length>0?Object.keys(wt[0]):[],Gt={};wt.forEach(Rn=>{const Wt=String(Rn[Qe]||"OTRAS").toUpperCase();Gt[Wt]||(Gt[Wt]={rows:[],isolationRows:[],emptyBedsCount:0});const dn=Ht?String(Rn[Ht]||"").trim().toLowerCase():"",Kn=kt&&dn===kt||!1;Kn&&Gt[Wt].emptyBedsCount++;const fn=En.map(Xt=>Rn[Pe(Xt)||Xt]);(!Kn||t.showEmptyBeds)&&Gt[Wt].rows.push(fn),!Kn&&Nt&&Bt&&String(Rn[Nt]||"").trim().toLowerCase()===Bt&&Gt[Wt].isolationRows.push(fn)}),j({name:_e.name,groups:Object.entries(Gt).map(([Rn,Wt])=>({coverage:Rn,headers:En,rows:Wt.rows,isolationRows:Wt.isolationRows,emptyBedsCount:Wt.emptyBedsCount}))})}catch(pt){console.error(pt),alert(u.errorParsing)}}},pe=(_e,Je,ut)=>{const pt=_e.internal.pageSize.getWidth(),Ut=_e.internal.pageSize.getHeight(),wt=t.showEmptyBeds?Je.rows.length-Je.emptyBedsCount:Je.rows.length;let lt=ut+15;lt>Ut-80&&(_e.addPage(),lt=40),_e.setDrawColor(226,232,240),_e.setLineWidth(.5),_e.line(14,lt,pt-14,lt),_e.setFontSize(14),_e.setTextColor(30,41,59),_e.setFont("helvetica","bold"),_e.text(u.pdfSummaryTitle,14,lt+10);const Pe=10,Qe=t.showEmptyBeds?3:2,Ht=(pt-28-Pe*(Qe-1))/Qe,kt=22;_e.setFillColor(248,250,252),_e.rect(14,lt+15,Ht,kt,"F"),_e.setDrawColor(79,70,229),_e.setLineWidth(1),_e.line(14,lt+15,14,lt+15+kt),_e.setFontSize(8),_e.setTextColor(100,116,139),_e.text(u.pdfTotalPatients.toUpperCase(),20,lt+22),_e.setFontSize(16),_e.setTextColor(79,70,229),_e.text(String(wt),20,lt+31);let Nt=14+Ht+Pe;t.showEmptyBeds&&(_e.setFillColor(255,251,235),_e.rect(Nt,lt+15,Ht,kt,"F"),_e.setDrawColor(245,158,11),_e.line(Nt,lt+15,Nt,lt+15+kt),_e.setFontSize(8),_e.setTextColor(146,64,14),_e.text(u.statsEmptyBeds.toUpperCase(),Nt+6,lt+22),_e.setFontSize(16),_e.setTextColor(180,83,9),_e.text(String(Je.emptyBedsCount),Nt+6,lt+31),Nt+=Ht+Pe);const Bt=Je.isolationRows.length>0;if(_e.setFillColor(Bt?254:248,Bt?242:250,Bt?242:252),_e.rect(Nt,lt+15,Ht,kt,"F"),_e.setDrawColor(Bt?220:148,Bt?38:163,Bt?38:184),_e.line(Nt,lt+15,Nt,lt+15+kt),_e.setFontSize(8),_e.setTextColor(Bt?153:100,Bt?27:116,Bt?27:139),_e.text(u.pdfIsolationCount.toUpperCase(),Nt+6,lt+22),_e.setFontSize(16),_e.setTextColor(Bt?220:100,Bt?38:116,Bt?38:139),_e.text(String(Je.isolationRows.length),Nt+6,lt+31),Bt){lt+=45,lt>Ut-40&&(_e.addPage(),lt=40),_e.setFontSize(11),_e.setTextColor(185,28,28),_e.setFont("helvetica","bold"),_e.text(u.pdfIsolationTitle,14,lt);const En=Je.headers.map(Gt=>t.columnAliases&&t.columnAliases[Gt]||Gt);ZA(_e,{head:[En],body:Je.isolationRows,startY:lt+5,styles:{fontSize:7,cellPadding:2,lineWidth:.1,lineColor:[254,202,202]},headStyles:{fillColor:[239,68,68],textColor:255},alternateRowStyles:{fillColor:[254,242,242]}})}},He=async _e=>{const Je=(t.associations||[]).find(fn=>fn.coverageName.toUpperCase()===_e.coverage.toUpperCase()),ut=fe(new Date),pt=`Censo_${_e.coverage}`;let Ut=t.pageFormat;Ut==="custom"&&t.customDimensions&&(Ut=[t.customDimensions.width,t.customDimensions.height]);const wt=new on({orientation:"landscape",unit:"mm",format:Ut}),lt=wt.internal.pageSize.getWidth(),Pe=wt.internal.pageSize.getHeight(),Qe=_e.headers.map(fn=>t.columnAliases&&t.columnAliases[fn]||fn),Ht=t.showEmptyBeds?_e.rows.length-_e.emptyBedsCount:_e.rows.length,kt=fn=>{if(t.pdfLogo)try{wt.addImage(t.pdfLogo,"PNG",lt-35,10,25,25)}catch{}wt.setFontSize(16),wt.text(`${t.segmentationTitle||"CENSO DIARIO"}: ${_e.coverage}`,14,20),wt.setFontSize(9),wt.text(`Fecha: ${new Date().toLocaleDateString()} | ${u.pdfTotalPatients}: ${Ht}`,14,28),wt.setFontSize(8),wt.text(`${u.pageLabel} ${fn}`,lt-20,Pe-10)};ZA(wt,{head:[Qe],body:_e.rows,startY:40,didDrawPage:fn=>kt(fn.pageNumber),styles:{fontSize:8}}),pe(wt,_e,wt.lastAutoTable.finalY);const Nt=wt.output("blob"),Bt=await Ae(Nt),En=Ta.aoa_to_sheet([Qe,..._e.rows]),Gt=Ta.book_new();Ta.book_append_sheet(Gt,En,_e.coverage.substring(0,31));const Rn=_C(Gt,{bookType:"xlsx",type:"array"}),Wt=new Blob([Rn],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),dn=await Ae(Wt),Kn=[{id:"auto-pdf",name:`${pt}-${ut}.pdf`,type:"application/pdf",size:Nt.size,data:Bt,label:"PDF"},{id:"auto-xlsx",name:`${pt}-${ut}.xlsx`,type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",size:Wt.size,data:dn,label:"EXCEL"}];ge({to:(Je==null?void 0:Je.emails)||"",subject:(Je==null?void 0:Je.subject)||`${t.segmentationTitle||"Censo Diario"} - ${_e.coverage} - ${ut}`,body:(Je==null?void 0:Je.body)||`<p>Adjuntamos el censo correspondiente a la fecha ${ut} para la cobertura ${_e.coverage}.</p>`,baseName:pt,attachments:Kn,coverage:_e.coverage})},Ke=_e=>{if(!re)return;const Je=fe(new Date),ut=re.attachments.map(pt=>pt.id==="auto-pdf"?{...pt,name:`${_e}-${Je}.pdf`}:pt.id==="auto-xlsx"?{...pt,name:`${_e}-${Je}.xlsx`}:pt);ge({...re,baseName:_e,attachments:ut})},St=async _e=>{var ut;const Je=(ut=_e.target.files)==null?void 0:ut[0];if(Je&&re){const pt=await new Promise(Ut=>{const wt=new FileReader;wt.onload=lt=>{var Pe;return Ut(((Pe=lt.target)==null?void 0:Pe.result).split(",")[1])},wt.readAsDataURL(Je)});ge({...re,attachments:[...re.attachments,{id:Date.now().toString(),name:Je.name,size:Je.size,type:Je.type,data:pt}]})}Y.current&&(Y.current.value="")},it=async()=>{if(!re||!window.confirm(u.emailConfirmSend))return;ce(!0);const _e=await s(re.to,re.subject,re.body,re.attachments,[],o||void 0,"census");ce(!1),_e&&ge(null)},Dt=_e=>{const Je=_e.headers.map(Ut=>t.columnAliases&&t.columnAliases[Ut]||Ut),ut=Ta.aoa_to_sheet([Je,..._e.rows]);_e.isolationRows.length>0&&(Ta.sheet_add_aoa(ut,[[""]],{origin:-1}),Ta.sheet_add_aoa(ut,[[u.pdfIsolationTitle.toUpperCase()]],{origin:-1}),Ta.sheet_add_aoa(ut,[Je,..._e.isolationRows],{origin:-1}));const pt=Ta.book_new();Ta.book_append_sheet(pt,ut,_e.coverage.substring(0,30)),L7(pt,`Censo_${_e.coverage}_${new Date().getTime()}.xlsx`)},Ct=_e=>{let Je=t.pageFormat;Je==="custom"&&t.customDimensions&&(Je=[t.customDimensions.width,t.customDimensions.height]);const ut=new on({orientation:"landscape",unit:"mm",format:Je}),pt=ut.internal.pageSize.getWidth(),Ut=ut.internal.pageSize.getHeight(),wt=t.showEmptyBeds?_e.rows.length-_e.emptyBedsCount:_e.rows.length,lt=Qe=>{if(t.pdfLogo)try{ut.addImage(t.pdfLogo,"PNG",pt-35,10,25,25)}catch{}ut.setFontSize(20),ut.setTextColor(79,70,229),ut.setFont("helvetica","bold"),ut.text(`${t.segmentationTitle||"CENSO DIARIO"}: ${_e.coverage}`,14,20),ut.setFontSize(9),ut.setTextColor(100,116,139),ut.setFont("helvetica","normal"),ut.text(`Fecha: ${new Date().toLocaleDateString()} | ${u.pdfTotalPatients}: ${wt}`,14,28),ut.setFontSize(8),ut.text(`${u.pageLabel} ${Qe}`,pt-20,Ut-10)},Pe=_e.headers.map(Qe=>t.columnAliases&&t.columnAliases[Qe]||Qe);ZA(ut,{head:[Pe],body:_e.rows,startY:40,margin:{top:40,bottom:25},styles:{fontSize:8},headStyles:{fillColor:[79,70,229]},didDrawPage:Qe=>lt(Qe.pageNumber)}),pe(ut,_e,ut.lastAutoTable.finalY),ut.save(`Censo_${_e.coverage}_${new Date().getTime()}.pdf`)},$t=_e=>{if(_e===0)return"0 Bytes";const Je=1024,ut=["Bytes","KB","MB","GB"],pt=Math.floor(Math.log(_e)/Math.log(Je));return parseFloat((_e/Math.pow(Je,pt)).toFixed(2))+" "+ut[pt]};return S.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 text-left",children:[S.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 no-print",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.title}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:u.subtitle})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl border border-slate-200",children:[S.jsxs("button",{onClick:()=>p("files"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${h==="files"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-500"}`,children:[S.jsx(Qc,{size:14})," ",u.tabFiles]}),S.jsxs("button",{onClick:()=>p("patients"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${h==="patients"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-500"}`,children:[S.jsx(t0,{size:14})," ",u.tabPatients]})]}),S.jsx("button",{onClick:()=>{O(t),T(!0)},className:"p-2.5 bg-white dark:bg-slate-900 border border-slate-200 rounded-xl text-slate-500 hover:text-indigo-600 transition-all shadow-sm",children:S.jsx(sE,{size:20})})]})]}),h==="files"&&!_&&!D&&!L&&S.jsxs("div",{onDragOver:_e=>{_e.preventDefault(),w(!0)},onDragLeave:()=>w(!1),onDrop:_e=>{var ut;_e.preventDefault(),w(!1);const Je=(ut=_e.dataTransfer.files)==null?void 0:ut[0];if(Je){const pt=new FileReader;pt.onload=Ut=>{var lt;const wt=(lt=Ut.target)==null?void 0:lt.result;r.add({id:Date.now().toString(),name:Je.name,size:Je.size,type:Je.type,uploadDate:Date.now(),content:wt}),t.patientUniqueIdColumn&&Re(wt)},pt.readAsDataURL(Je)}},onClick:()=>{var _e;return(_e=z.current)==null?void 0:_e.click()},className:`group p-12 border-2 border-dashed rounded-3xl transition-all cursor-pointer flex flex-col items-center justify-center text-center space-y-4 ${b?"border-indigo-50 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-800 hover:border-indigo-400 bg-white dark:bg-slate-900/50"}`,children:[S.jsx("input",{type:"file",ref:z,className:"hidden",onChange:et,accept:".csv,.xlsx,.xls"}),S.jsx("div",{className:`p-4 rounded-2xl transition-all ${b?"bg-indigo-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-400 group-hover:text-indigo-500"}`,children:S.jsx(GL,{size:40})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:u.uploadTitle}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:u.uploadHint})]})]}),h==="files"&&!_&&!D&&!L&&S.jsxs("div",{className:"space-y-4 pt-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),S.jsx("input",{type:"text",placeholder:u.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 rounded-2xl outline-none",value:g,onChange:_e=>m(_e.target.value)})]}),S.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase",children:u.thFile}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase",children:u.thDate}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase text-right",children:u.thActions})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:oe.map(_e=>S.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:S.jsx(Qc,{size:20})}),S.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate max-w-xs",children:_e.name})]})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"text-xs text-slate-400",children:new Date(_e.uploadDate).toLocaleString()})}),S.jsx("td",{className:"px-6 py-4 text-right",children:S.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[S.jsx("button",{onClick:()=>vt(_e),className:"p-2.5 text-indigo-600 hover:bg-indigo-50 rounded-xl",title:u.generateBtn,children:S.jsx(pU,{size:18})}),S.jsx("button",{onClick:()=>gt(_e),className:"p-2.5 text-emerald-600 hover:bg-emerald-50 rounded-xl",title:u.viewFile,children:S.jsx(Px,{size:18})}),S.jsx("button",{onClick:()=>window.confirm(u.deleteConfirm)&&r.delete(_e.id),className:"p-2.5 text-slate-400 hover:text-red-500 rounded-xl",children:S.jsx(iu,{size:18})})]})})]},_e.id))})]})})]}),_&&S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 shadow-xl p-8 animate-in zoom-in-95 duration-200 no-print",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[S.jsx(sE,{className:"text-indigo-500"})," ",u.configTitle]}),S.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:S.jsx(so,{size:24})})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 text-left",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 text-center space-y-4",children:[S.jsx("input",{type:"file",id:"cfg-up",className:"hidden",onChange:de,accept:".csv,.xlsx,.xls"}),S.jsx("button",{onClick:()=>{var _e;return(_e=document.getElementById("cfg-up"))==null?void 0:_e.click()},className:"px-6 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold shadow-md hover:bg-indigo-700",children:"Detectar Columnas de Archivo"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:u.coverageColLabel}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:W.coverageColumn,onChange:_e=>O({...W,coverageColumn:_e.target.value}),placeholder:"Ej: os_nombre"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:u.patientColLabel}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:W.patientColumn||"",onChange:_e=>O({...W,patientColumn:_e.target.value}),placeholder:"Ej: paciente"})]})]}),S.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border border-slate-100 space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:u.emptyBedValueLabel}),S.jsx("input",{type:"text",className:"w-full p-3 bg-white dark:bg-slate-900 border border-slate-200 rounded-xl outline-none",value:W.emptyBedValue||"",onChange:_e=>O({...W,emptyBedValue:_e.target.value}),placeholder:"Ej: (..Libre..)"})]}),S.jsxs("button",{onClick:()=>O({...W,showEmptyBeds:!W.showEmptyBeds}),className:`w-full flex items-center justify-between p-3 rounded-xl border-2 transition-all ${W.showEmptyBeds?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-100 bg-white text-slate-500"}`,children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase",children:[W.showEmptyBeds?S.jsx(tA,{size:16}):S.jsx(tE,{size:16})," ",u.showEmptyBedsLabel]}),S.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center ${W.showEmptyBeds?"bg-indigo-600 border-indigo-600":"border-slate-300"}`,children:W.showEmptyBeds&&S.jsx(l_,{size:12,className:"text-white"})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:u.isolationColLabel}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:W.isolationColumn||"",onChange:_e=>O({...W,isolationColumn:_e.target.value}),placeholder:"Ej: intais_descrip"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300",children:u.isolationValueLabel}),S.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:W.isolationValue||"",onChange:_e=>O({...W,isolationValue:_e.target.value}),placeholder:"Ej: AISLADO"})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:u.visibleColsLabel}),S.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-4 max-h-[300px] overflow-y-auto custom-scrollbar border",children:ee.length>0?ee.map(_e=>{const Je=(W.visibleColumns||[]).includes(_e);return S.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-white dark:bg-slate-900 border rounded-2xl shadow-sm mb-2",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:()=>{const ut=W.visibleColumns||[];O({...W,visibleColumns:Je?ut.filter(pt=>pt!==_e):[...ut,_e]})},className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all ${Je?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:S.jsx(l_,{size:16})}),S.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 truncate",children:_e})]}),Je&&S.jsx("input",{type:"text",placeholder:u.aliasPlaceholder,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border rounded-lg text-xs outline-none",value:(W.columnAliases||{})[_e]||"",onChange:ut=>O({...W,columnAliases:{...W.columnAliases||{},[_e]:ut.target.value}})})]},_e)}):S.jsx("p",{className:"text-xs text-slate-400 text-center py-10 italic",children:'Usa el botn "Detectar" para cargar columnas.'})}),S.jsxs("button",{onClick:()=>{r.saveSettings(W),T(!1)},className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-xl flex items-center justify-center gap-2",children:[S.jsx(lf,{size:18})," ",u.saveSettingsBtn]})]})]})]}),D&&S.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-500 no-print",children:[S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("button",{onClick:()=>j(null),className:"flex items-center gap-2 p-3 bg-white dark:bg-slate-900 border rounded-xl text-slate-500 hover:text-indigo-600 font-bold text-xs",children:[S.jsx(F9,{className:"rotate-180",size:18})," ",u.backBtn]})}),S.jsx("div",{className:"grid grid-cols-1 gap-8",children:D.groups.map((_e,Je)=>{const ut=t.showEmptyBeds?_e.rows.length-_e.emptyBedsCount:_e.rows.length;return S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 shadow-sm overflow-hidden flex flex-col transition-all hover:shadow-md",children:[S.jsxs("header",{className:"px-8 py-5 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between bg-slate-50/50 dark:bg-slate-800/30 gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl",children:S.jsx(sN,{size:24})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:_e.coverage}),S.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[S.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest flex items-center gap-1",children:[S.jsx(t0,{size:12})," ",ut," ",u.statsPatients]}),t.showEmptyBeds&&_e.emptyBedsCount>0&&S.jsxs("p",{className:"text-xs text-amber-500 font-bold uppercase tracking-widest flex items-center gap-1",children:[S.jsx(tA,{size:12})," ",_e.emptyBedsCount," ",u.statsEmptyBeds]})]})]})]}),S.jsxs("div",{className:"flex gap-2 action-buttons",children:[S.jsx("button",{onClick:()=>P({..._e}),className:"p-2 bg-slate-50 dark:bg-slate-800 text-slate-500 rounded-lg hover:bg-slate-100",title:u.previewBtn,children:S.jsx(Px,{size:16})}),S.jsx("button",{onClick:()=>Dt(_e),className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 rounded-lg hover:bg-emerald-100",title:u.downloadExcel,children:S.jsx(sN,{size:16})}),S.jsx("button",{onClick:()=>Ct(_e),className:"p-2 bg-red-50 dark:bg-red-900/30 text-red-600 rounded-lg hover:bg-red-100",title:u.downloadPdf,children:S.jsx(nE,{size:16})}),S.jsxs("button",{onClick:()=>He(_e),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold hover:bg-indigo-700 shadow-sm",children:[S.jsx(u_,{size:14})," ",u.sendCensusBtn]})]})]}),S.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b",children:S.jsx("tr",{children:_e.headers.map((pt,Ut)=>S.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-slate-400 uppercase tracking-wider whitespace-nowrap",children:t.columnAliases&&t.columnAliases[pt]||pt},Ut))})}),S.jsx("tbody",{className:"divide-y",children:_e.rows.map((pt,Ut)=>S.jsx("tr",{className:"hover:bg-indigo-50/10 transition-colors",children:pt.map((wt,lt)=>S.jsx("td",{className:"px-6 py-3 text-xs text-slate-600 dark:text-slate-400 whitespace-nowrap",children:String(wt||"-")},lt))},Ut))})]})})]},Je)})})]}),re&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[120] flex items-center justify-center p-4 animate-in fade-in duration-300 no-print",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200",children:[S.jsxs("header",{className:"px-6 py-4 border-b flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:S.jsx(wh,{size:20})}),S.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:u.emailPreviewTitle})]}),S.jsx("button",{onClick:()=>ge(null),className:"p-2 hover:bg-slate-100 rounded-full",children:S.jsx(so,{size:20})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 text-left",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:u.emailTo}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 rounded-xl outline-none",value:re.to,onChange:_e=>ge({...re,to:_e.target.value})})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:u.emailSubject}),S.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 rounded-xl outline-none",value:re.subject,onChange:_e=>ge({...re,subject:_e.target.value})})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:u.emailBaseName}),S.jsx("input",{type:"text",className:"w-full p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 rounded-xl outline-none font-bold",value:re.baseName,onChange:_e=>Ke(_e.target.value)})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:u.emailBody}),S.jsx("div",{contentEditable:!0,onInput:_e=>ge({...re,body:_e.currentTarget.innerHTML}),dangerouslySetInnerHTML:{__html:re.body},className:"w-full min-h-[100px] p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 rounded-xl outline-none"})]})]}),S.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[S.jsx(Wm,{size:14})," ",u.emailAttachments]}),S.jsxs("button",{onClick:()=>{var _e;return(_e=Y.current)==null?void 0:_e.click()},className:"text-[10px] font-bold text-indigo-600 hover:underline flex items-center gap-1",children:[S.jsx(i0,{size:12})," ",u.addMoreFiles]}),S.jsx("input",{type:"file",ref:Y,className:"hidden",onChange:St})]}),S.jsx("div",{className:"grid grid-cols-1 gap-2",children:re.attachments.map(_e=>S.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 rounded-xl flex items-center justify-between group/att",children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[S.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-500 rounded",children:S.jsx(Qc,{size:16})}),Te===_e.id?S.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 text-xs font-bold bg-slate-100 p-1 rounded",value:Oe,onChange:Je=>se(Je.target.value),onBlur:()=>{ge({...re,attachments:re.attachments.map(Je=>Je.id===_e.id?{...Je,name:Oe}:Je)}),me(null)},onKeyDown:Je=>Je.key==="Enter"&&Je.currentTarget.blur()}):S.jsxs("div",{className:"flex flex-col overflow-hidden",children:[S.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 truncate",children:_e.name}),S.jsx("span",{className:"text-[9px] text-slate-400 uppercase font-medium",children:$t(_e.size)})]})]}),S.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/att:opacity-100 transition-opacity",children:[_e.type==="application/pdf"&&S.jsx("button",{onClick:()=>U({name:_e.name,data:_e.data||""}),className:"p-1.5 text-slate-400 hover:text-indigo-600",title:u.previewBtn,children:S.jsx(Px,{size:14})}),S.jsx("button",{onClick:()=>{me(_e.id),se(_e.name)},className:"p-1.5 text-slate-400 hover:text-indigo-600",title:u.renameBtn,children:S.jsx(c_,{size:14})}),S.jsx("button",{onClick:()=>ge({...re,attachments:re.attachments.filter(Je=>Je.id!==_e.id)}),className:"p-1.5 text-slate-400 hover:text-red-500",title:u.removeBtn,children:S.jsx(iu,{size:14})})]})]},_e.id))})]})]}),S.jsxs("footer",{className:"px-8 py-4 border-t flex justify-end gap-3 bg-slate-50/50",children:[S.jsx("button",{onClick:()=>ge(null),className:"px-6 py-2 text-slate-500 font-bold text-xs",children:u.closeBtn}),S.jsxs("button",{onClick:it,disabled:K,className:"flex items-center gap-2 px-8 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold shadow-lg hover:bg-indigo-700 disabled:opacity-50",children:[K?S.jsx(r0,{size:14,className:"animate-spin"}):S.jsx(u_,{size:14})," ",u.sendCensusBtn]})]})]})}),I&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-[200] flex items-center justify-center p-4 md:p-12 animate-in fade-in duration-300 no-print",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-5xl h-full flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800",children:[S.jsxs("header",{className:"px-6 py-4 border-b flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-red-50 text-red-600 rounded-lg",children:S.jsx(Qc,{size:20})}),S.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate",children:I.name})]}),S.jsx("button",{onClick:()=>U(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:S.jsx(so,{size:24})})]}),S.jsx("div",{className:"flex-1 bg-slate-100 dark:bg-slate-950 overflow-hidden",children:S.jsx("iframe",{src:`data:application/pdf;base64,${I.data}#toolbar=0&navpanes=0`,className:"w-full h-full border-none",title:u.pdfPreviewTitle})}),S.jsx("footer",{className:"px-8 py-4 border-t flex justify-end bg-white dark:bg-slate-900",children:S.jsx("button",{onClick:()=>U(null),className:"px-6 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-bold text-xs hover:bg-slate-200 transition-all",children:u.closeBtn})})]})}),G&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[110] flex items-center justify-center p-4 animate-in fade-in duration-300 no-print",children:S.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-5xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200",children:[S.jsxs("header",{className:"px-6 py-4 border-b flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:S.jsx(R9,{size:20})}),S.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white",children:[u.previewTitle,": ",G.coverage]})]}),S.jsx("button",{onClick:()=>P(null),className:"p-2 hover:bg-slate-100 rounded-full",children:S.jsx(so,{size:20})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 text-left bg-slate-50/20",children:[S.jsxs("div",{className:`grid grid-cols-1 ${t.showEmptyBeds?"md:grid-cols-3":"md:grid-cols-2"} gap-6`,children:[S.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-2xl border shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:S.jsx(t0,{size:18})}),S.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:u.statsPatients})]}),S.jsx("p",{className:"text-3xl font-black",children:t.showEmptyBeds?G.rows.length-G.emptyBedsCount:G.rows.length})]}),t.showEmptyBeds&&S.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-2xl border shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:S.jsx(tA,{size:18})}),S.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:u.statsEmptyBeds})]}),S.jsx("p",{className:"text-3xl font-black",children:G.emptyBedsCount})]}),S.jsxs("div",{className:"p-6 bg-white dark:bg-slate-900 rounded-2xl border shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx("div",{className:`p-2 rounded-lg ${G.isolationRows.length>0?"bg-red-50 text-red-600":"bg-slate-50 text-slate-400"}`,children:S.jsx(VB,{size:18})}),S.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:u.pdfIsolationCount})]}),S.jsx("p",{className:`text-3xl font-black ${G.isolationRows.length>0?"text-red-600":"text-slate-400"}`,children:G.isolationRows.length})]})]}),G.isolationRows.length>0&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h4",{className:"font-bold text-red-600 text-sm uppercase flex items-center gap-2",children:[S.jsx(k9,{size:16})," ",u.pdfIsolationTitle]}),S.jsx("div",{className:"border border-red-100 rounded-2xl overflow-hidden bg-white",children:S.jsxs("table",{className:"w-full text-left text-[11px]",children:[S.jsx("thead",{className:"bg-red-50",children:S.jsx("tr",{children:G.headers.map(_e=>S.jsx("th",{className:"px-4 py-3 font-bold text-red-700 uppercase",children:t.columnAliases&&t.columnAliases[_e]||_e},_e))})}),S.jsx("tbody",{children:G.isolationRows.map((_e,Je)=>S.jsx("tr",{className:"border-t border-red-50 hover:bg-red-50/50",children:_e.map((ut,pt)=>S.jsx("td",{className:"px-4 py-2",children:String(ut||"-")},pt))},Je))})]})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h4",{className:"font-bold text-slate-700 text-sm uppercase flex items-center gap-2",children:[S.jsx(KB,{size:16})," ",u.viewTitle," (General)"]}),S.jsxs("div",{className:"border rounded-2xl overflow-hidden bg-white",children:[S.jsxs("table",{className:"w-full text-left text-[11px]",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsx("tr",{children:G.headers.map(_e=>S.jsx("th",{className:"px-4 py-3 font-bold text-slate-400 uppercase",children:t.columnAliases&&t.columnAliases[_e]||_e},_e))})}),S.jsx("tbody",{children:G.rows.slice(0,8).map((_e,Je)=>S.jsx("tr",{className:"border-t hover:bg-slate-50/50",children:_e.map((ut,pt)=>S.jsx("td",{className:"px-4 py-2",children:String(ut||"-")},pt))},Je))})]}),G.rows.length>8&&S.jsxs("div",{className:"p-3 text-center bg-slate-50 text-[10px] text-slate-400 font-bold italic border-t",children:["... ",G.rows.length-8," registros adicionales ocultos"]})]})]})]}),S.jsxs("footer",{className:"px-6 py-4 border-t flex justify-end gap-3",children:[S.jsx("button",{onClick:()=>P(null),className:"px-6 py-2 bg-slate-100 rounded-xl font-bold text-xs",children:u.closeBtn}),S.jsxs("button",{onClick:()=>Ct(G),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold text-xs flex items-center gap-2",children:[S.jsx(nE,{size:14})," ",u.downloadPdf]})]})]})}),h==="patients"&&S.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[S.jsxs("div",{className:"relative",children:[S.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),S.jsx("input",{type:"text",placeholder:u.patSearchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 rounded-2xl outline-none",value:g,onChange:_e=>m(_e.target.value)})]}),!t.patientUniqueIdColumn&&S.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-xl text-amber-800 flex items-start gap-3",children:[S.jsx(qL,{size:18,className:"mt-0.5"}),S.jsx("p",{className:"text-sm font-semibold",children:u.noPatIdConfig})]}),S.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 shadow-sm overflow-hidden text-left",children:S.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:S.jsxs("table",{className:"w-full",children:[S.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase",children:u.patThId}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase",children:u.patThName}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase text-center",children:u.patThCount}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase",children:u.patThLast}),S.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase text-right",children:u.thActions})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:ye.map(_e=>S.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded",children:_e.id})}),S.jsx("td",{className:"px-6 py-4 font-semibold text-slate-700 dark:text-slate-200",children:Object.values(_e.data)[0]}),S.jsx("td",{className:"px-6 py-4 text-center",children:S.jsx("span",{className:"text-xs font-bold text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full",children:_e.appearanceCount})}),S.jsx("td",{className:"px-6 py-4 text-[10px] text-slate-400",children:new Date(_e.lastSeen).toLocaleString()}),S.jsx("td",{className:"px-6 py-4 text-right",children:S.jsx("button",{onClick:()=>window.confirm("Eliminar?")&&r.deletePatient(_e.id),className:"p-2 text-slate-400 hover:text-red-500 transition-all opacity-0 group-hover:opacity-100",children:S.jsx(uU,{size:16})})})]},_e.id))})]})})})]}),q&&S.jsxs("div",{className:"fixed bottom-24 right-8 bg-indigo-600 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-bounce z-50",children:[S.jsx(r0,{className:"animate-spin",size:18}),S.jsx("span",{className:"text-sm font-bold",children:u.patSyncing})]})]})},Cue={es:{welcome:"Bienvenido de nuevo",instruction:"Ingresa tus credenciales para acceder.",error:"Usuario o contrasea incorrectos.",emailPlaceholder:"Correo electrnico",passPlaceholder:"Contrasea",secure:"Conexin Segura SSL",access:"Iniciar Sesin",loading:"Verificando..."},en:{welcome:"Welcome back",instruction:"Enter your credentials to access.",error:"Invalid email or password.",emailPlaceholder:"Email address",passPlaceholder:"Password",secure:"SSL Secure Connection",access:"Sign In",loading:"Verifying..."}},kue=({onLogin:n,lang:e,appTitle:t})=>{const r=Cue[e],[i,s]=nt.useState(""),[a,o]=nt.useState(""),[c,u]=nt.useState(!1),[h,p]=nt.useState(!1),[g,m]=nt.useState(!1),b=async w=>{if(w.preventDefault(),h)return;p(!0),u(!1),await n(i,a)||(p(!1),u(!0),m(!0),setTimeout(()=>m(!1),500))};return S.jsxs("div",{className:"fixed inset-0 z-[1000] bg-slate-50 dark:bg-slate-950 flex items-center justify-center p-6 overflow-hidden",children:[S.jsxs("div",{className:`w-full max-w-md space-y-8 transition-transform duration-500 ${g?"animate-shake":""}`,children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("div",{className:"inline-flex p-4 bg-indigo-600 rounded-3xl shadow-xl shadow-indigo-200 dark:shadow-none mb-2 animate-in zoom-in-50 duration-500",children:S.jsx(wh,{className:"text-white w-10 h-10"})}),S.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight",children:t}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:r.welcome}),S.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:r.instruction})]})]}),S.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-2xl",children:S.jsxs("form",{onSubmit:b,className:"space-y-5",children:[S.jsx("div",{className:"space-y-2",children:S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-500 transition-colors",children:S.jsx(Zx,{size:18})}),S.jsx("input",{type:"email",required:!0,value:i,onChange:w=>s(w.target.value),placeholder:r.emailPlaceholder,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})}),S.jsx("div",{className:"space-y-2",children:S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-500 transition-colors",children:S.jsx(iE,{size:18})}),S.jsx("input",{type:"password",required:!0,value:a,onChange:w=>o(w.target.value),placeholder:r.passPlaceholder,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})}),c&&S.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 text-xs font-bold animate-in fade-in slide-in-from-top-2",children:[S.jsx(QA,{size:14})," ",r.error]}),S.jsx("button",{type:"submit",disabled:h||!i||!a,className:"w-full h-14 bg-indigo-600 text-white rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h?S.jsx(r0,{className:"animate-spin",size:20}):S.jsxs(S.Fragment,{children:[r.access," ",S.jsx(wB,{size:20})]})})]})}),S.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 dark:text-slate-600 text-[10px] font-bold uppercase tracking-widest",children:[S.jsx(Bx,{size:14})," ",r.secure]})]}),S.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }
        .animate-shake {
          animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},Nue="https://smtpmunkybackend-production.up.railway.app/api";async function Vi(n,e={}){const t=`${Nue}${n}`,r=localStorage.getItem("auth_token"),i={"Content-Type":"application/json",...e.headers};r&&(i.Authorization=`Bearer ${r}`);try{const s=await fetch(t,{...e,headers:i});if(s.status===401)throw n.includes("/auth/login")||localStorage.removeItem("auth_token"),new Error("No autorizado");if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.message||`Error ${s.status}`)}return s.status===204?{}:await s.json()}catch(s){throw s}}const Ka={login:async(n,e)=>{const t=await Vi("/auth/login",{method:"POST",body:JSON.stringify({email:n,password:e})});return t.accessToken&&(localStorage.setItem("auth_token",t.accessToken),console.log("Token guardado con xito")),t},getMe:()=>Vi("/auth/me"),getSmtpConfigs:()=>Vi("/smtp-configs"),createSmtpConfig:n=>Vi("/smtp-configs",{method:"POST",body:JSON.stringify(n)}),updateSmtpConfig:(n,e)=>Vi(`/smtp-configs/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteSmtpConfig:n=>Vi(`/smtp-configs/${n}`,{method:"DELETE"}),getContacts:()=>Vi("/contacts"),createContact:n=>Vi("/contacts",{method:"POST",body:JSON.stringify(n)}),updateContact:(n,e)=>Vi(`/contacts/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteContact:n=>Vi(`/contacts/${n}`,{method:"DELETE"}),getTemplates:()=>Vi("/templates"),createTemplate:n=>Vi("/templates",{method:"POST",body:JSON.stringify(n)}),updateTemplate:(n,e)=>Vi(`/templates/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteTemplate:n=>Vi(`/templates/${n}`,{method:"DELETE"}),getCensusFiles:()=>Vi("/census-files"),uploadCensusFile:n=>Vi("/census-files",{method:"POST",body:JSON.stringify(n)}),deleteCensusFile:n=>Vi(`/census-files/${n}`,{method:"DELETE"}),getCensusSettings:()=>Vi("/census-settings"),updateCensusSettings:n=>Vi("/census-settings",{method:"PUT",body:JSON.stringify(n)}),getHistory:()=>Vi("/history"),sendEmail:n=>Vi("/mail/send",{method:"POST",body:JSON.stringify(n)})},Rue={es:{navCompose:"Redactar",navContacts:"Contactos",navTemplates:"Plantillas",navHistory:"Historial",navCensos:"Censos",navOptions:"Opciones",navLock:"Bloquear",navSignOut:"Cerrar Sesin",sendingMessage:"Enviando...",loadingData:"Sincronizando con el servidor...",appTitle:"CDLVM",offlineStatus:"Modo Local",onlineStatus:"Sincronizado",loginError:"Credenciales invlidas.",loginSuccess:"Sesin iniciada.",sendSuccess:"Correo enviado.",sendError:"Error al enviar.",saveSuccess:"Guardado correctamente.",deleteSuccess:"Eliminado."},en:{navCompose:"Compose",navContacts:"Contacts",navTemplates:"Templates",navHistory:"History",navCensos:"Census",navOptions:"Options",navLock:"Lock",navSignOut:"Sign Out",sendingMessage:"Sending...",loadingData:"Syncing...",appTitle:"CDLVM",offlineStatus:"Local Mode",onlineStatus:"Synced",loginError:"Invalid credentials.",loginSuccess:"Login successful.",sendSuccess:"Sent.",sendError:"Failed.",saveSuccess:"Saved.",deleteSuccess:"Deleted."}},Ss={SMTP:"cdlvm_smtp_configs",CONTACTS:"cdlvm_contacts",TEMPLATES:"cdlvm_templates",CENSUS_FILES:"cdlvm_census_files",CENSUS_SETTINGS:"cdlvm_census_settings",HISTORY:"cdlvm_history",SHEET_URL:"cdlvm_google_sheets_url",SIZE_LIMIT:"cdlvm_attachment_limit",PATIENTS:"cdlvm_patients"},Lue=()=>{const[n,e]=nt.useState("compose"),[t,r]=nt.useState(!0),[i,s]=nt.useState("online"),[a,o]=nt.useState(!1),[c,u]=nt.useState(null),[h,p]=nt.useState([]),[g,m]=nt.useState([]),[b,w]=nt.useState(null),[_,T]=nt.useState([]),[L,R]=nt.useState([]),[D,j]=nt.useState([]),[G,P]=nt.useState([]),[W,O]=nt.useState([]),[ee,B]=nt.useState(!1),[q,Q]=nt.useState({visibleColumns:[],coverageColumn:"os_nombre",patientColumn:"paciente",emptyBedValue:"(..Libre..)",isolationColumn:"intais_descrip",isolationValue:"AISLADO",showEmptyBeds:!1,patientUniqueIdColumn:"",logoPosition:"top-right",pageFormat:"a4",associations:[],appKey:"",autoLockMinutes:10,ccConfigs:[]}),[re,ge]=nt.useState(()=>localStorage.getItem(Ss.SHEET_URL)||""),[K,ce]=nt.useState(()=>Number(localStorage.getItem(Ss.SIZE_LIMIT))||10),[Te,me]=nt.useState(()=>localStorage.getItem("app_lang")||"es"),[Oe,se]=nt.useState(()=>localStorage.getItem("theme")!=="light"),I=nt.useMemo(()=>Rue[Te],[Te]),U=nt.useMemo(()=>Array.from(new Set(_.map(Ke=>Ke.group).filter(Boolean))).map(Ke=>({id:Ke,name:Ke})),[_]),z=nt.useCallback((He,Ke="info")=>{const St=Math.random().toString(36).substring(2,9);p(it=>[...it,{id:St,message:He,type:Ke}]),setTimeout(()=>p(it=>it.filter(Dt=>Dt.id!==St)),4e3)},[]),Y=nt.useCallback((He,Ke)=>{localStorage.setItem(He,JSON.stringify(Ke))},[]),oe=nt.useCallback(()=>{try{const He=JSON.parse(localStorage.getItem(Ss.SMTP)||"[]"),Ke=JSON.parse(localStorage.getItem(Ss.CONTACTS)||"[]"),St=JSON.parse(localStorage.getItem(Ss.TEMPLATES)||"[]"),it=JSON.parse(localStorage.getItem(Ss.HISTORY)||"[]"),Dt=JSON.parse(localStorage.getItem(Ss.CENSUS_SETTINGS)||"null");He.length&&(m(He),w(He[0].id)),T(Ke),R(St),O(it),Dt&&Q(Ct=>({...Ct,...Dt}))}catch(He){console.error("Error cache local",He)}},[]),ye=nt.useCallback(()=>{localStorage.removeItem("auth_token"),o(!1),u(null)},[]),fe=nt.useCallback(async()=>{var Ke;if(!localStorage.getItem("auth_token")){r(!1);return}try{const St=await Promise.race([Ka.getMe(),new Promise((ut,pt)=>setTimeout(()=>pt(new Error("Timeout")),5e3))]);u(St),o(!0);const[it,Dt,Ct,$t,_e,Je]=await Promise.all([Ka.getSmtpConfigs().catch(()=>[]),Ka.getContacts().catch(()=>[]),Ka.getTemplates().catch(()=>[]),Ka.getCensusFiles().catch(()=>[]),Ka.getCensusSettings().catch(()=>null),Ka.getHistory().catch(()=>[])]);it&&(m(it),it.length&&w(it[0].id),Y(Ss.SMTP,it)),Dt&&(T(Dt),Y(Ss.CONTACTS,Dt)),Ct&&(R(Ct),Y(Ss.TEMPLATES,Ct)),$t&&(j($t),Y(Ss.CENSUS_FILES,$t)),_e&&(Q(ut=>({...ut,..._e})),Y(Ss.CENSUS_SETTINGS,_e)),Je&&(O(Je),Y(Ss.HISTORY,Je)),s("online")}catch(St){(Ke=St.message)!=null&&Ke.includes("401")?ye():(s("offline"),oe(),o(!0))}finally{r(!1)}},[ye,oe,Y]);nt.useEffect(()=>{fe()},[fe]),nt.useEffect(()=>{document.documentElement.classList.toggle("dark",Oe),localStorage.setItem("theme",Oe?"dark":"light")},[Oe]);const Ae=async(He,Ke)=>{r(!0);try{return await Ka.login(He,Ke),await fe(),!0}catch(St){return z(St.message||I.loginError,"error"),r(!1),!1}},Re={add:async He=>z(`Categora "${He.name}" lista para usar.`,"info"),delete:async He=>z("Elimin o edit los contactos para quitar el grupo.","info")},et={add:async He=>{const Ke=[..._,He];T(Ke),Y(Ss.CONTACTS,Ke);try{await Ka.createContact(He),z(I.saveSuccess,"success")}catch{s("offline")}},update:async He=>{const Ke=_.map(St=>St.id===He.id?He:St);T(Ke),Y(Ss.CONTACTS,Ke);try{await Ka.updateContact(He.id,He),z(I.saveSuccess,"success")}catch{s("offline")}},delete:async He=>{const Ke=_.filter(St=>St.id!==He);T(Ke),Y(Ss.CONTACTS,Ke);try{await Ka.deleteContact(He),z(I.deleteSuccess,"success")}catch{s("offline")}}},de={setActive:He=>w(He),add:async He=>{const Ke=[...g,He];m(Ke),Y(Ss.SMTP,Ke);try{await Ka.createSmtpConfig(He),z(I.saveSuccess,"success")}catch{s("offline")}}},gt={add:async He=>{const Ke=[He,...D];j(Ke),Y(Ss.CENSUS_FILES,Ke);try{await Ka.uploadCensusFile(He),z("Censo cargado","success")}catch{s("offline")}},saveSettings:async He=>{Q(He),Y(Ss.CENSUS_SETTINGS,He);try{await Ka.updateCensusSettings(He),z(I.saveSuccess,"success")}catch{s("offline")}}},vt=async(He,Ke,St,it,Dt,Ct)=>{B(!0);try{return await Ka.sendEmail({to:He,subject:Ke,body:St,attachments:it,cc:Dt,smtpId:Ct||b||void 0,category:"general"}),z(I.sendSuccess,"success"),!0}catch{return z(I.sendError,"error"),!1}finally{B(!1)}};if(t)return S.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 gap-4",children:[S.jsx(r0,{className:"animate-spin text-indigo-600",size:48}),S.jsx("p",{className:"font-bold text-slate-500 animate-pulse",children:I.loadingData})]});if(!a)return S.jsx(kue,{onLogin:Ae,lang:Te,appTitle:q.appTitle||I.appTitle});const pe=i==="online"?q9:mU;return S.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 overflow-hidden font-sans",children:[S.jsx("div",{className:"fixed top-6 right-6 z-[1000] flex flex-col gap-3 pointer-events-none",children:h.map(He=>S.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl border backdrop-blur-md animate-in slide-in-from-right-10 ${He.type==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-800":"bg-red-50/90 border-red-200 text-red-800"}`,children:[S.jsx("span",{className:"text-sm font-bold",children:He.message}),S.jsx("button",{onClick:()=>p(Ke=>Ke.filter(St=>St.id!==He.id)),className:"ml-2 opacity-50",children:S.jsx(so,{size:14})})]},He.id))}),S.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 dark:bg-slate-900 dark:border-slate-800 flex flex-col shrink-0",children:[S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[S.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:S.jsx(wh,{className:"text-white w-5 h-5"})}),S.jsx("h1",{className:"font-bold text-lg truncate",children:q.appTitle||I.appTitle})]}),S.jsx("nav",{className:"space-y-1",children:[{id:"compose",label:I.navCompose,icon:u_},{id:"agenda",label:I.navContacts,icon:t0},{id:"templates",label:I.navTemplates,icon:u5},{id:"censos",label:I.navCensos,icon:Sw},{id:"history",label:I.navHistory,icon:lB}].map(He=>S.jsxs("button",{onClick:()=>e(He.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n===He.id?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[S.jsx(He.icon,{size:18})," ",He.label]},He.id))})]}),S.jsxs("div",{className:"mt-auto p-6 border-t border-slate-100 dark:border-slate-800 space-y-2",children:[S.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl ${n==="settings"?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30":"text-slate-500 hover:bg-slate-50"}`,children:[S.jsx(sE,{size:18})," ",I.navOptions]}),S.jsxs("button",{onClick:ye,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:text-red-500 transition-all",children:[S.jsx(SB,{size:18})," ",I.navSignOut]})]})]}),S.jsxs("main",{className:"flex-1 overflow-y-auto",children:[S.jsxs("div",{className:`p-2 px-8 flex items-center justify-between text-[10px] font-bold uppercase tracking-widest ${i==="online"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(pe,{size:12})," ",S.jsx("span",{children:i==="online"?I.onlineStatus:I.offlineStatus})]}),c&&S.jsx("span",{className:"opacity-60",children:c.email})]}),S.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-8",children:[n==="compose"&&S.jsx(FJ,{onSend:vt,smtpReady:g.length>0,isSending:ee,smtpProfiles:g,activeProfileId:b,onSelectProfile:de.setActive,contacts:_,templates:L,lang:Te,notify:z,pdfSettings:q}),n==="agenda"&&S.jsx(Uce,{contacts:_,onAction:et,contactGroups:U,onGroupAction:Re,lang:Te}),n==="templates"&&S.jsx(zce,{templates:L,onAction:{},lang:Te}),n==="censos"&&S.jsx(Tue,{files:D,patients:G,settings:q,onAction:gt,lang:Te,onSendEmail:vt,smtpProfiles:g,globalSmtpId:b,notify:z}),n==="history"&&S.jsx(Oce,{history:W,lang:Te}),n==="settings"&&S.jsx(Cz,{smtpConfigs:g,onSmtpAction:de,activeSmtpId:b,sheetUrl:re,onSaveSheetUrl:ge,lang:Te,onLangChange:me,isDarkMode:Oe,onToggleMode:()=>se(!Oe),attachmentSizeLimit:K,onSaveAttachmentSizeLimit:ce,censusSettings:q,onSaveCensusSettings:gt.saveSettings,notify:z})]})]}),ee&&S.jsxs("div",{className:"fixed bottom-8 right-8 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-bounce",children:[S.jsx(r0,{className:"animate-spin h-4 w-4"}),S.jsx("span",{className:"font-bold text-sm",children:I.sendingMessage})]})]})},K7=document.getElementById("root");if(!K7)throw new Error("Could not find root element to mount to");const Iue=v9.createRoot(K7);Iue.render(S.jsx(c9.StrictMode,{children:S.jsx(Lue,{})}));export{Dr as _,Due as c,OL as g};
