var gO=Object.defineProperty;var kk=n=>{throw TypeError(n)};var vO=(n,e,t)=>e in n?gO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ct=(n,e,t)=>vO(n,typeof e!="symbol"?e+"":e,t),UA=(n,e,t)=>e.has(n)||kk("Cannot "+t);var x=(n,e,t)=>(UA(n,e,"read from private field"),t?t.call(n):e.get(n)),ne=(n,e,t)=>e.has(n)?kk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),W=(n,e,t,r)=>(UA(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),se=(n,e,t)=>(UA(n,e,"access private method"),t);var Ya=(n,e,t,r)=>({set _(i){W(n,e,i,t)},get _(){return x(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var nce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var HA={exports:{}},Qv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk;function xO(){if(Nk)return Qv;Nk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Qv.Fragment=e,Qv.jsx=t,Qv.jsxs=t,Qv}var Rk;function yO(){return Rk||(Rk=1,HA.exports=xO()),HA.exports}var E=yO(),zA={exports:{}},Ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function bO(){if(Lk)return Ln;Lk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(ie){return ie===null||typeof ie!="object"?null:(ie=g&&ie[g]||ie["@@iterator"],typeof ie=="function"?ie:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function T(ie,I,j){this.props=ie,this.context=I,this.refs=w,this.updater=j||b}T.prototype.isReactComponent={},T.prototype.setState=function(ie,I){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,I,"setState")},T.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function L(){}L.prototype=T.prototype;function R(ie,I,j){this.props=ie,this.context=I,this.refs=w,this.updater=j||b}var F=R.prototype=new L;F.constructor=R,_(F,T.prototype),F.isPureReactComponent=!0;var z=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function O(ie,I,j){var U=j.ref;return{$$typeof:n,type:ie,key:I,ref:U!==void 0?U:null,props:j}}function ee(ie,I){return O(ie.type,I,ie.props)}function B(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function G(ie){var I={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(j){return I[j]})}var Q=/\/+/g;function ce(ie,I){return typeof ie=="object"&&ie!==null&&ie.key!=null?G(""+ie.key):I.toString(36)}function _e(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(q,q):(ie.status="pending",ie.then(function(I){ie.status==="pending"&&(ie.status="fulfilled",ie.value=I)},function(I){ie.status==="pending"&&(ie.status="rejected",ie.reason=I)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function K(ie,I,j,U,Y){var ae=typeof ie;(ae==="undefined"||ae==="boolean")&&(ie=null);var ye=!1;if(ie===null)ye=!0;else switch(ae){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ie.$$typeof){case n:case e:ye=!0;break;case h:return ye=ie._init,K(ye(ie._payload),I,j,U,Y)}}if(ye)return Y=Y(ie),ye=U===""?"."+ce(ie,0):U,z(Y)?(j="",ye!=null&&(j=ye.replace(Q,"$&/")+"/"),K(Y,I,j,"",function(Te){return Te})):Y!=null&&(B(Y)&&(Y=ee(Y,j+(Y.key==null||ie&&ie.key===Y.key?"":(""+Y.key).replace(Q,"$&/")+"/")+ye)),I.push(Y)),1;ye=0;var me=U===""?".":U+":";if(z(ie))for(var fe=0;fe<ie.length;fe++)U=ie[fe],ae=me+ce(U,fe),ye+=K(U,I,j,ae,Y);else if(fe=m(ie),typeof fe=="function")for(ie=fe.call(ie),fe=0;!(U=ie.next()).done;)U=U.value,ae=me+ce(U,fe++),ye+=K(U,I,j,ae,Y);else if(ae==="object"){if(typeof ie.then=="function")return K(_e(ie),I,j,U,Y);throw I=String(ie),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ye}function le(ie,I,j){if(ie==null)return ie;var U=[],Y=0;return K(ie,U,"","",function(ae){return I.call(j,ae,Y++)}),U}function Se(ie){if(ie._status===-1){var I=ie._result;I=I(),I.then(function(j){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=j)},function(j){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=j)}),ie._status===-1&&(ie._status=0,ie._result=I)}if(ie._status===1)return ie._result.default;throw ie._result}var ve=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},Pe={map:le,forEach:function(ie,I,j){le(ie,function(){I.apply(this,arguments)},j)},count:function(ie){var I=0;return le(ie,function(){I++}),I},toArray:function(ie){return le(ie,function(I){return I})||[]},only:function(ie){if(!B(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return Ln.Activity=p,Ln.Children=Pe,Ln.Component=T,Ln.Fragment=t,Ln.Profiler=i,Ln.PureComponent=R,Ln.StrictMode=r,Ln.Suspense=c,Ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ln.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return P.H.useMemoCache(ie)}},Ln.cache=function(ie){return function(){return ie.apply(null,arguments)}},Ln.cacheSignal=function(){return null},Ln.cloneElement=function(ie,I,j){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var U=_({},ie.props),Y=ie.key;if(I!=null)for(ae in I.key!==void 0&&(Y=""+I.key),I)!X.call(I,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&I.ref===void 0||(U[ae]=I[ae]);var ae=arguments.length-2;if(ae===1)U.children=j;else if(1<ae){for(var ye=Array(ae),me=0;me<ae;me++)ye[me]=arguments[me+2];U.children=ye}return O(ie.type,Y,U)},Ln.createContext=function(ie){return ie={$$typeof:a,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:s,_context:ie},ie},Ln.createElement=function(ie,I,j){var U,Y={},ae=null;if(I!=null)for(U in I.key!==void 0&&(ae=""+I.key),I)X.call(I,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Y[U]=I[U]);var ye=arguments.length-2;if(ye===1)Y.children=j;else if(1<ye){for(var me=Array(ye),fe=0;fe<ye;fe++)me[fe]=arguments[fe+2];Y.children=me}if(ie&&ie.defaultProps)for(U in ye=ie.defaultProps,ye)Y[U]===void 0&&(Y[U]=ye[U]);return O(ie,ae,Y)},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(ie){return{$$typeof:o,render:ie}},Ln.isValidElement=B,Ln.lazy=function(ie){return{$$typeof:h,_payload:{_status:-1,_result:ie},_init:Se}},Ln.memo=function(ie,I){return{$$typeof:f,type:ie,compare:I===void 0?null:I}},Ln.startTransition=function(ie){var I=P.T,j={};P.T=j;try{var U=ie(),Y=P.S;Y!==null&&Y(j,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(q,ve)}catch(ae){ve(ae)}finally{I!==null&&j.types!==null&&(I.types=j.types),P.T=I}},Ln.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ln.use=function(ie){return P.H.use(ie)},Ln.useActionState=function(ie,I,j){return P.H.useActionState(ie,I,j)},Ln.useCallback=function(ie,I){return P.H.useCallback(ie,I)},Ln.useContext=function(ie){return P.H.useContext(ie)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(ie,I){return P.H.useDeferredValue(ie,I)},Ln.useEffect=function(ie,I){return P.H.useEffect(ie,I)},Ln.useEffectEvent=function(ie){return P.H.useEffectEvent(ie)},Ln.useId=function(){return P.H.useId()},Ln.useImperativeHandle=function(ie,I,j){return P.H.useImperativeHandle(ie,I,j)},Ln.useInsertionEffect=function(ie,I){return P.H.useInsertionEffect(ie,I)},Ln.useLayoutEffect=function(ie,I){return P.H.useLayoutEffect(ie,I)},Ln.useMemo=function(ie,I){return P.H.useMemo(ie,I)},Ln.useOptimistic=function(ie,I){return P.H.useOptimistic(ie,I)},Ln.useReducer=function(ie,I,j){return P.H.useReducer(ie,I,j)},Ln.useRef=function(ie){return P.H.useRef(ie)},Ln.useState=function(ie){return P.H.useState(ie)},Ln.useSyncExternalStore=function(ie,I,j){return P.H.useSyncExternalStore(ie,I,j)},Ln.useTransition=function(){return P.H.useTransition()},Ln.version="19.2.4",Ln}var Ik;function zT(){return Ik||(Ik=1,zA.exports=bO()),zA.exports}var Qe=zT();const _O=fL(Qe);var jA={exports:{}},ex={},GA={exports:{}},qA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function wO(){return Mk||(Mk=1,(function(n){function e(K,le){var Se=K.length;K.push(le);e:for(;0<Se;){var ve=Se-1>>>1,Pe=K[ve];if(0<i(Pe,le))K[ve]=le,K[Se]=Pe,Se=ve;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],Se=K.pop();if(Se!==le){K[0]=Se;e:for(var ve=0,Pe=K.length,ie=Pe>>>1;ve<ie;){var I=2*(ve+1)-1,j=K[I],U=I+1,Y=K[U];if(0>i(j,Se))U<Pe&&0>i(Y,j)?(K[ve]=Y,K[U]=Se,ve=U):(K[ve]=j,K[I]=Se,ve=I);else if(U<Pe&&0>i(Y,Se))K[ve]=Y,K[U]=Se,ve=U;else break e}}return le}function i(K,le){var Se=K.sortIndex-le.sortIndex;return Se!==0?Se:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],f=[],h=1,p=null,g=3,m=!1,b=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var le=t(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=K)r(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(f)}}function z(K){if(_=!1,F(K),!b)if(t(c)!==null)b=!0,q||(q=!0,G());else{var le=t(f);le!==null&&_e(z,le.startTime-K)}}var q=!1,P=-1,X=5,O=-1;function ee(){return w?!0:!(n.unstable_now()-O<X)}function B(){if(w=!1,q){var K=n.unstable_now();O=K;var le=!0;try{e:{b=!1,_&&(_=!1,L(P),P=-1),m=!0;var Se=g;try{t:{for(F(K),p=t(c);p!==null&&!(p.expirationTime>K&&ee());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,g=p.priorityLevel;var Pe=ve(p.expirationTime<=K);if(K=n.unstable_now(),typeof Pe=="function"){p.callback=Pe,F(K),le=!0;break t}p===t(c)&&r(c),F(K)}else r(c);p=t(c)}if(p!==null)le=!0;else{var ie=t(f);ie!==null&&_e(z,ie.startTime-K),le=!1}}break e}finally{p=null,g=Se,m=!1}le=void 0}}finally{le?G():q=!1}}}var G;if(typeof R=="function")G=function(){R(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ce=Q.port2;Q.port1.onmessage=B,G=function(){ce.postMessage(null)}}else G=function(){T(B,0)};function _e(K,le){P=T(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(K){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var Se=g;g=le;try{return K()}finally{g=Se}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Se=g;g=K;try{return le()}finally{g=Se}},n.unstable_scheduleCallback=function(K,le,Se){var ve=n.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ve+Se:ve):Se=ve,K){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=Se+Pe,K={id:h++,callback:le,priorityLevel:K,startTime:Se,expirationTime:Pe,sortIndex:-1},Se>ve?(K.sortIndex=Se,e(f,K),t(c)===null&&K===t(f)&&(_?(L(P),P=-1):_=!0,_e(z,Se-ve))):(K.sortIndex=Pe,e(c,K),b||m||(b=!0,q||(q=!0,G()))),K},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(K){var le=g;return function(){var Se=g;g=le;try{return K.apply(this,arguments)}finally{g=Se}}}})(qA)),qA}var Fk;function AO(){return Fk||(Fk=1,GA.exports=wO()),GA.exports}var VA={exports:{}},va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk;function SO(){if(Dk)return va;Dk=1;var n=zT();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,va.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},va.flushSync=function(c){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=h,r.d.f()}},va.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},va.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},va.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},va.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},va.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},va.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},va.requestFormReset=function(c){r.d.r(c)},va.unstable_batchedUpdates=function(c,f){return c(f)},va.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},va.useFormStatus=function(){return a.H.useHostTransitionStatus()},va.version="19.2.4",va}var Pk;function EO(){if(Pk)return VA.exports;Pk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),VA.exports=SO(),VA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function TO(){if(Ok)return ex;Ok=1;var n=AO(),e=zT(),t=EO();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,d=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(d=u.return),l=u.return;while(l)}return u.tag===3?d:null}function a(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(r(188))}function f(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var d=l,v=u;;){var C=d.return;if(C===null)break;var N=C.alternate;if(N===null){if(v=C.return,v!==null){d=v;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===d)return c(C),l;if(N===v)return c(C),u;N=N.sibling}throw Error(r(188))}if(d.return!==v.return)d=C,v=N;else{for(var V=!1,he=C.child;he;){if(he===d){V=!0,d=C,v=N;break}if(he===v){V=!0,v=C,d=N;break}he=he.sibling}if(!V){for(he=N.child;he;){if(he===d){V=!0,d=N,v=C;break}if(he===v){V=!0,v=N,d=C;break}he=he.sibling}if(!V)throw Error(r(189))}}if(d.alternate!==v)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Symbol.for("react.client.reference");function ce(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Q?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case R:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case F:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return u=l.displayName||null,u!==null?u:ce(l.type)||"Memo";case X:u=l._payload,l=l._init;try{return ce(l(u))}catch{}}return null}var _e=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ve=[],Pe=-1;function ie(l){return{current:l}}function I(l){0>Pe||(l.current=ve[Pe],ve[Pe]=null,Pe--)}function j(l,u){Pe++,ve[Pe]=l.current,l.current=u}var U=ie(null),Y=ie(null),ae=ie(null),ye=ie(null);function me(l,u){switch(j(ae,u),j(Y,l),j(U,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?J3(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=J3(u),l=Z3(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}I(U),j(U,l)}function fe(){I(U),I(Y),I(ae)}function Te(l){l.memoizedState!==null&&j(ye,l);var u=U.current,d=Z3(u,l.type);u!==d&&(j(Y,l),j(U,d))}function Oe(l){Y.current===l&&(I(U),I(Y)),ye.current===l&&(I(ye),$v._currentValue=Se)}var ue,nt;function it(l){if(ue===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);ue=u&&u[1]||"",nt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+l+nt}var de=!1;function Fe(l,u){if(!l||de)return"";de=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(Ze){var Je=Ze}Reflect.construct(l,[],dt)}else{try{dt.call()}catch(Ze){Je=Ze}l.call(dt.prototype)}}else{try{throw Error()}catch(Ze){Je=Ze}(dt=l())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(Ze){if(Ze&&Je&&typeof Ze.stack=="string")return[Ze.stack,Je.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),V=N[0],he=N[1];if(V&&he){var Re=V.split(`
`),Ke=he.split(`
`);for(C=v=0;v<Re.length&&!Re[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Ke.length&&!Ke[C].includes("DetermineComponentFrameRoot");)C++;if(v===Re.length||C===Ke.length)for(v=Re.length-1,C=Ke.length-1;1<=v&&0<=C&&Re[v]!==Ke[C];)C--;for(;1<=v&&0<=C;v--,C--)if(Re[v]!==Ke[C]){if(v!==1||C!==1)do if(v--,C--,0>C||Re[v]!==Ke[C]){var lt=`
`+Re[v].replace(" at new "," at ");return l.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",l.displayName)),lt}while(1<=v&&0<=C);break}}}finally{de=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?it(d):""}function He(l,u){switch(l.tag){case 26:case 27:case 5:return it(l.type);case 16:return it("Lazy");case 13:return l.child!==u&&u!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Fe(l.type,!1);case 11:return Fe(l.type.render,!1);case 1:return Fe(l.type,!0);case 31:return it("Activity");default:return""}}function ht(l){try{var u="",d=null;do u+=He(l,d),d=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var et=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,_t=n.unstable_cancelCallback,jt=n.unstable_shouldYield,Mt=n.unstable_requestPaint,Yt=n.unstable_now,dn=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,En=n.unstable_UserBlockingPriority,Qt=n.unstable_NormalPriority,Rt=n.unstable_LowPriority,je=n.unstable_IdlePriority,ot=n.log,fn=n.unstable_setDisableYieldValue,Lt=null,Pt=null;function sn(l){if(typeof ot=="function"&&fn(l),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Lt,l)}catch{}}var Hn=Math.clz32?Math.clz32:hn,an=Math.log,yr=Math.LN2;function hn(l){return l>>>=0,l===0?32:31-(an(l)/yr|0)|0}var gn=256,br=262144,Cn=4194304;function $t(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function $n(l,u,d){var v=l.pendingLanes;if(v===0)return 0;var C=0,N=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var he=v&134217727;return he!==0?(v=he&~N,v!==0?C=$t(v):(V&=he,V!==0?C=$t(V):d||(d=he&~l,d!==0&&(C=$t(d))))):(he=v&~N,he!==0?C=$t(he):V!==0?C=$t(V):d||(d=v&~l,d!==0&&(C=$t(d)))),C===0?0:u!==0&&u!==C&&(u&N)===0&&(N=C&-C,d=u&-u,N>=d||N===32&&(d&4194048)!==0)?u:C}function Ha(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function ts(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var l=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),l}function da(l){for(var u=[],d=0;31>d;d++)u.push(l);return u}function tn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ho(l,u,d,v,C,N){var V=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var he=l.entanglements,Re=l.expirationTimes,Ke=l.hiddenUpdates;for(d=V&~d;0<d;){var lt=31-Hn(d),dt=1<<lt;he[lt]=0,Re[lt]=-1;var Je=Ke[lt];if(Je!==null)for(Ke[lt]=null,lt=0;lt<Je.length;lt++){var Ze=Je[lt];Ze!==null&&(Ze.lane&=-536870913)}d&=~dt}v!==0&&co(l,v,0),N!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=N&~(V&~u))}function co(l,u,d){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-Hn(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|d&261930}function ps(l,u){var d=l.entangledLanes|=u;for(l=l.entanglements;d;){var v=31-Hn(d),C=1<<v;C&u|l[v]&u&&(l[v]|=u),d&=~C}}function Ys(l,u){var d=u&-u;return d=(d&42)!==0?1:Pr(d),(d&(l.suspendedLanes|u))!==0?0:d}function Pr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ci(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=le.p;return l!==0?l:(l=window.event,l===void 0?32:_k(l.type))}function Ce(l,u){var d=le.p;try{return le.p=l,u()}finally{le.p=d}}var ge=Math.random().toString(36).slice(2),xe="__reactFiber$"+ge,we="__reactProps$"+ge,Ne="__reactContainer$"+ge,Ge="__reactEvents$"+ge,tt="__reactListeners$"+ge,Ve="__reactHandles$"+ge,We="__reactResources$"+ge,Ye="__reactMarker$"+ge;function vt(l){delete l[xe],delete l[we],delete l[Ge],delete l[tt],delete l[Ve]}function bt(l){var u=l[xe];if(u)return u;for(var d=l.parentNode;d;){if(u=d[Ne]||d[xe]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(l=sk(l);l!==null;){if(d=l[xe])return d;l=sk(l)}return u}l=d,d=l.parentNode}return null}function Tt(l){if(l=l[xe]||l[Ne]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function yt(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function At(l){var u=l[We];return u||(u=l[We]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Bt(l){l[Ye]=!0}var _r=new Set,Gn={};function Tr(l,u){$s(l,u),$s(l+"Capture",u)}function $s(l,u){for(Gn[l]=u,l=0;l<u.length;l++)_r.add(u[l])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},za={};function fu(l){return et.call(za,l)?!0:et.call(jo,l)?!1:zo.test(l)?za[l]=!0:(jo[l]=!0,!1)}function Zr(l,u,d){if(fu(u))if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+d)}}function cc(l,u,d){if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+d)}}function Go(l,u,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(u,d,""+v)}}function lr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function h0(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Sl(l,u,d){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var C=v.get,N=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return C.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function hu(l){if(!l._valueTracker){var u=h0(l)?"checked":"value";l._valueTracker=Sl(l,u,""+l[u])}}function d0(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var d=u.getValue(),v="";return l&&(v=h0(l)?l.checked?"true":"false":l.value),l=v,l!==d?(u.setValue(l),!0):!1}function Ks(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zi=/[\n"\\]/g;function ki(l){return l.replace(zi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Fh(l,u,d,v,C,N,V,he){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),u!=null?V==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+lr(u)):l.value!==""+lr(u)&&(l.value=""+lr(u)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),u!=null?p0(l,V,lr(u)):d!=null?p0(l,V,lr(d)):v!=null&&l.removeAttribute("value"),C==null&&N!=null&&(l.defaultChecked=!!N),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?l.name=""+lr(he):l.removeAttribute("name")}function Rm(l,u,d,v,C,N,V,he){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),u!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||u!=null)){hu(l);return}d=d!=null?""+lr(d):"",u=u!=null?""+lr(u):d,he||u===l.value||(l.value=u),l.defaultValue=u}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=he?l.checked:!!v,l.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),hu(l)}function p0(l,u,d){u==="number"&&Ks(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function Js(l,u,d,v){if(l=l.options,u){u={};for(var C=0;C<d.length;C++)u["$"+d[C]]=!0;for(d=0;d<l.length;d++)C=u.hasOwnProperty("$"+l[d].value),l[d].selected!==C&&(l[d].selected=C),C&&v&&(l[d].defaultSelected=!0)}else{for(d=""+lr(d),u=null,C=0;C<l.length;C++){if(l[C].value===d){l[C].selected=!0,v&&(l[C].defaultSelected=!0);return}u!==null||l[C].disabled||(u=l[C])}u!==null&&(u.selected=!0)}}function m0(l,u,d){if(u!=null&&(u=""+lr(u),u!==l.value&&(l.value=u),d==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=d!=null?""+lr(d):""}function g0(l,u,d,v){if(u==null){if(v!=null){if(d!=null)throw Error(r(92));if(_e(v)){if(1<v.length)throw Error(r(93));v=v[0]}d=v}d==null&&(d=""),u=d}d=lr(u),l.defaultValue=d,v=l.textContent,v===d&&v!==""&&v!==null&&(l.value=v),hu(l)}function qo(l,u){if(u){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=u;return}}l.textContent=u}var ff=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lm(l,u,d){var v=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,d):typeof d!="number"||d===0||ff.has(u)?u==="float"?l.cssFloat=d:l[u]=(""+d).trim():l[u]=d+"px"}function Im(l,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var C in u)v=u[C],u.hasOwnProperty(C)&&d[C]!==v&&Lm(l,C,v)}else for(var N in u)u.hasOwnProperty(N)&&Lm(l,N,u[N])}function v0(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(l){return Mm.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Vo(){}var uc=null;function hf(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var du=null,pn=null;function Fm(l){var u=Tt(l);if(u&&(l=u.stateNode)){var d=l[we]||null;e:switch(l=u.stateNode,u.type){case"input":if(Fh(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ki(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var v=d[u];if(v!==l&&v.form===l.form){var C=v[we]||null;if(!C)throw Error(r(90));Fh(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<d.length;u++)v=d[u],v.form===l.form&&d0(v)}break e;case"textarea":m0(l,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Js(l,!!d.multiple,u,!1)}}}var y0=!1;function Dm(l,u,d){if(y0)return l(u,d);y0=!0;try{var v=l(u);return v}finally{if(y0=!1,(du!==null||pn!==null)&&(_b(),du&&(u=du,l=pn,pn=du=null,Fm(u),l)))for(u=0;u<l.length;u++)Fm(l[u])}}function ja(l,u){var d=l.stateNode;if(d===null)return null;var v=d[we]||null;if(v===null)return null;d=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b0=!1;if(ms)try{var df={};Object.defineProperty(df,"passive",{get:function(){b0=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{b0=!1}var Ga=null,pf=null,El=null;function Pm(){if(El)return El;var l,u=pf,d=u.length,v,C="value"in Ga?Ga.value:Ga.textContent,N=C.length;for(l=0;l<d&&u[l]===C[l];l++);var V=d-l;for(v=1;v<=V&&u[d-v]===C[N-v];v++);return El=C.slice(l,1<v?1-v:void 0)}function uo(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Dh(){return!0}function Ph(){return!1}function ns(l){function u(d,v,C,N,V){this._reactName=d,this._targetInst=C,this.type=v,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var he in l)l.hasOwnProperty(he)&&(d=l[he],this[he]=d?d(N):N[he]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Dh:Ph,this.isPropagationStopped=Ph,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),u}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=ns(Tl),fc=p({},Tl,{view:0,detail:0}),Oh=ns(fc),mf,hc,dc,gf=p({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==dc&&(dc&&l.type==="mousemove"?(mf=l.screenX-dc.screenX,hc=l.screenY-dc.screenY):hc=mf=0,dc=l),mf)},movementY:function(l){return"movementY"in l?l.movementY:hc}}),_0=ns(gf),pc=p({},gf,{dataTransfer:0}),mc=ns(pc),Om=p({},fc,{relatedTarget:0}),gc=ns(Om),Bm=p({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),M=ns(Bm),J=p({},Tl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ke=ns(J),Le=p({},Tl,{data:0}),Be=ns(Le),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jt(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Gt[l])?!!u[l]:!1}function yn(){return Jt}var Nn=p({},fc,{key:function(l){if(l.key){var u=ct[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=uo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?mt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(l){return l.type==="keypress"?uo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?uo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),tr=ns(Nn),Qr=p({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ns(Qr),Or=p({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn}),ji=ns(Or),Ni=p({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gs=ns(Ni),vc=p({},gf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Wo=ns(vc),xc=p({},Tl,{newState:0,oldState:0}),w0=ns(xc),Bh=[9,13,27,32],Cl=ms&&"CompositionEvent"in window,Xo=null;ms&&"documentMode"in document&&(Xo=document.documentMode);var vf=ms&&"TextEvent"in window&&!Xo,yc=ms&&(!Cl||Xo&&8<Xo&&11>=Xo),rs=" ",pu=!1;function mu(l,u){switch(l){case"keyup":return Bh.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var kl=!1;function Zs(l,u){switch(l){case"compositionend":return Uh(u);case"keypress":return u.which!==32?null:(pu=!0,rs);case"textInput":return l=u.data,l===rs&&pu?null:l;default:return null}}function bc(l,u){if(kl)return l==="compositionend"||!Cl&&mu(l,u)?(l=Pm(),El=pf=Ga=null,kl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return yc&&u.locale!=="ko"?null:u.data;default:return null}}var Hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Hh[l.type]:u==="textarea"}function qa(l,u,d,v){du?pn?pn.push(v):pn=[v]:du=v,u=kb(u,"onChange"),0<u.length&&(d=new fo("onChange","change",null,d,v),l.push({event:d,listeners:u}))}var Yo=null,_c=null;function S0(l){V3(l,0)}function $o(l){var u=yt(l);if(d0(u))return l}function gu(l,u){if(l==="change")return u}var ma=!1;if(ms){var Qs;if(ms){var Nl="oninput"in document;if(!Nl){var Rl=document.createElement("div");Rl.setAttribute("oninput","return;"),Nl=typeof Rl.oninput=="function"}Qs=Nl}else Qs=!1;ma=Qs&&(!document.documentMode||9<document.documentMode)}function wc(){Yo&&(Yo.detachEvent("onpropertychange",zh),_c=Yo=null)}function zh(l){if(l.propertyName==="value"&&$o(_c)){var u=[];qa(u,_c,l,hf(l)),Dm(S0,u)}}function jh(l,u,d){l==="focusin"?(wc(),Yo=u,_c=d,Yo.attachEvent("onpropertychange",zh)):l==="focusout"&&wc()}function yi(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return $o(_c)}function Um(l,u){if(l==="click")return $o(u)}function Ll(l,u){if(l==="input"||l==="change")return $o(u)}function Il(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var vs=typeof Object.is=="function"?Object.is:Il;function Ac(l,u){if(vs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var d=Object.keys(l),v=Object.keys(u);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var C=d[v];if(!et.call(u,C)||!vs(l[C],u[C]))return!1}return!0}function Gh(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function qh(l,u){var d=Gh(l);l=0;for(var v;d;){if(d.nodeType===3){if(v=l+d.textContent.length,l<=u&&v>=u)return{node:d,offset:u-l};l=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Gh(d)}}function Sc(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Sc(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Ec(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Ks(l.document);u instanceof l.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)l=u.contentWindow;else break;u=Ks(l.document)}return u}function Ml(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var xf=ms&&"documentMode"in document&&11>=document.documentMode,Va=null,Tc=null,Ls=null,ho=!1;function cr(l,u,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ho||Va==null||Va!==Ks(v)||(v=Va,"selectionStart"in v&&Ml(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ls&&Ac(Ls,v)||(Ls=v,v=kb(Tc,"onSelect"),0<v.length&&(u=new fo("onSelect","select",null,u,d),l.push({event:u,listeners:v}),u.target=Va)))}function nr(l,u){var d={};return d[l.toLowerCase()]=u.toLowerCase(),d["Webkit"+l]="webkit"+u,d["Moz"+l]="moz"+u,d}var Br={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},bi={},Fl={};ms&&(Fl=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Ko(l){if(bi[l])return bi[l];if(!Br[l])return l;var u=Br[l],d;for(d in u)if(u.hasOwnProperty(d)&&d in Fl)return bi[l]=u[d];return l}var yf=Ko("animationend"),E0=Ko("animationiteration"),xv=Ko("animationstart"),Jy=Ko("transitionrun"),Zy=Ko("transitionstart"),Qy=Ko("transitioncancel"),yv=Ko("transitionend"),bv=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function po(l,u){bv.set(l,u),Tr(u,[l])}var T0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Wa=[],_f=0,Hm=0;function C0(){for(var l=_f,u=Hm=_f=0;u<l;){var d=Wa[u];Wa[u++]=null;var v=Wa[u];Wa[u++]=null;var C=Wa[u];Wa[u++]=null;var N=Wa[u];if(Wa[u++]=null,v!==null&&C!==null){var V=v.pending;V===null?C.next=C:(C.next=V.next,V.next=C),v.pending=C}N!==0&&N0(d,C,N)}}function k0(l,u,d,v){Wa[_f++]=l,Wa[_f++]=u,Wa[_f++]=d,Wa[_f++]=v,Hm|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function zm(l,u,d,v){return k0(l,u,d,v),Is(l)}function Cc(l,u){return k0(l,null,null,u),Is(l)}function N0(l,u,d){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d);for(var C=!1,N=l.return;N!==null;)N.childLanes|=d,v=N.alternate,v!==null&&(v.childLanes|=d),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(C=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,C&&u!==null&&(C=31-Hn(d),l=N.hiddenUpdates,v=l[C],v===null?l[C]=[u]:v.push(u),u.lane=d|536870912),N):null}function Is(l){if(50<jv)throw jv=0,cA=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var xs={};function jm(l,u,d,v){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(l,u,d,v){return new jm(l,u,d,v)}function Gm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function mo(l,u){var d=l.alternate;return d===null?(d=Ms(l.tag,u,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=u,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,u=l.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function R0(l,u){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,u=d.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Vh(l,u,d,v,C,N){var V=0;if(v=l,typeof l=="function")Gm(l)&&(V=1);else if(typeof l=="string")V=iO(l,d,U.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=Ms(31,d,u,C),l.elementType=O,l.lanes=N,l;case _:return vu(d.children,C,N,u);case w:V=8,C|=24;break;case T:return l=Ms(12,d,u,C|2),l.elementType=T,l.lanes=N,l;case z:return l=Ms(13,d,u,C),l.elementType=z,l.lanes=N,l;case q:return l=Ms(19,d,u,C),l.elementType=q,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:V=10;break e;case L:V=9;break e;case F:V=11;break e;case P:V=14;break e;case X:V=16,v=null;break e}V=29,d=Error(r(130,l===null?"null":typeof l,"")),v=null}return u=Ms(V,d,u,C),u.elementType=l,u.type=v,u.lanes=N,u}function vu(l,u,d,v){return l=Ms(7,l,v,u),l.lanes=d,l}function L0(l,u,d){return l=Ms(6,l,null,u),l.lanes=d,l}function qm(l){var u=Ms(18,null,null,0);return u.stateNode=l,u}function Wh(l,u,d){return u=Ms(4,l.children!==null?l.children:[],l.key,u),u.lanes=d,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Vm=new WeakMap;function go(l,u){if(typeof l=="object"&&l!==null){var d=Vm.get(l);return d!==void 0?d:(u={value:l,source:u,stack:ht(u)},Vm.set(l,u),u)}return{value:l,source:u,stack:ht(u)}}var Xh=[],wf=0,Wm=null,I0=0,vo=[],xo=0,xu=null,yo=1,bo="";function Xa(l,u){Xh[wf++]=I0,Xh[wf++]=Wm,Wm=l,I0=u}function eb(l,u,d){vo[xo++]=yo,vo[xo++]=bo,vo[xo++]=xu,xu=l;var v=yo;l=bo;var C=32-Hn(v)-1;v&=~(1<<C),d+=1;var N=32-Hn(u)+C;if(30<N){var V=C-C%5;N=(v&(1<<V)-1).toString(32),v>>=V,C-=V,yo=1<<32-Hn(u)+C|d<<C|v,bo=N+l}else yo=1<<N|d<<C|v,bo=l}function _v(l){l.return!==null&&(Xa(l,1),eb(l,1,0))}function Xm(l){for(;l===Wm;)Wm=Xh[--wf],Xh[wf]=null,I0=Xh[--wf],Xh[wf]=null;for(;l===xu;)xu=vo[--xo],vo[xo]=null,bo=vo[--xo],vo[xo]=null,yo=vo[--xo],vo[xo]=null}function tb(l,u){vo[xo++]=yo,vo[xo++]=bo,vo[xo++]=xu,yo=u.id,bo=u.overflow,xu=l}var ys=null,Wr=null,Kn=!1,ea=null,ui=!1,Jo=Error(r(519));function yu(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yh(go(u,l)),Jo}function wv(l){var u=l.stateNode,d=l.type,v=l.memoizedProps;switch(u[xe]=l,u[we]=v,d){case"dialog":Zn("cancel",u),Zn("close",u);break;case"iframe":case"object":case"embed":Zn("load",u);break;case"video":case"audio":for(d=0;d<qv.length;d++)Zn(qv[d],u);break;case"source":Zn("error",u);break;case"img":case"image":case"link":Zn("error",u),Zn("load",u);break;case"details":Zn("toggle",u);break;case"input":Zn("invalid",u),Rm(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Zn("invalid",u);break;case"textarea":Zn("invalid",u),g0(u,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||v.suppressHydrationWarning===!0||$3(u.textContent,d)?(v.popover!=null&&(Zn("beforetoggle",u),Zn("toggle",u)),v.onScroll!=null&&Zn("scroll",u),v.onScrollEnd!=null&&Zn("scrollend",u),v.onClick!=null&&(u.onclick=Vo),u=!0):u=!1,u||yu(l,!0)}function kc(l){for(ys=l.return;ys;)switch(ys.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:ys=ys.return}}function bs(l){if(l!==ys)return!1;if(!Kn)return kc(l),Kn=!0,!1;var u=l.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||SA(l.type,l.memoizedProps)),d=!d),d&&Wr&&yu(l),kc(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=ik(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wr=ik(l)}else u===27?(u=Wr,ld(l.type)?(l=NA,NA=null,Wr=l):Wr=u):Wr=ys?Bl(l.stateNode.nextSibling):null;return!0}function Af(){Wr=ys=null,Kn=!1}function Av(){var l=ea;return l!==null&&(To===null?To=l:To.push.apply(To,l),ea=null),l}function Yh(l){ea===null?ea=[l]:ea.push(l)}var Ym=ie(null),bu=null,Dl=null;function _u(l,u,d){j(Ym,u._currentValue),u._currentValue=d}function _o(l){l._currentValue=Ym.current,I(Ym)}function $h(l,u,d){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===d)break;l=l.return}}function Sf(l,u,d,v){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var N=C.dependencies;if(N!==null){var V=C.child;N=N.firstContext;e:for(;N!==null;){var he=N;N=C;for(var Re=0;Re<u.length;Re++)if(he.context===u[Re]){N.lanes|=d,he=N.alternate,he!==null&&(he.lanes|=d),$h(N.return,d,l),v||(V=null);break e}N=he.next}}else if(C.tag===18){if(V=C.return,V===null)throw Error(r(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),$h(V,d,l),V=null}else V=C.child;if(V!==null)V.return=C;else for(V=C;V!==null;){if(V===l){V=null;break}if(C=V.sibling,C!==null){C.return=V.return,V=C;break}V=V.return}C=V}}function wu(l,u,d,v){l=null;for(var C=u,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var V=C.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var he=C.type;vs(C.pendingProps.value,V.value)||(l!==null?l.push(he):l=[he])}}else if(C===ye.current){if(V=C.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push($v):l=[$v])}C=C.return}l!==null&&Sf(u,l,d,v),u.flags|=262144}function $m(l){for(l=l.firstContext;l!==null;){if(!vs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Au(l){bu=l,Dl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _s(l){return nb(bu,l)}function Km(l,u){return bu===null&&Au(l),nb(l,u)}function nb(l,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Dl===null){if(l===null)throw Error(r(308));Dl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Dl=Dl.next=u;return d}var k5=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(d,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(d){return d()})}},N5=n.unstable_scheduleCallback,R5=n.unstable_NormalPriority,_i={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new k5,data:new Map,refCount:0}}function M0(l){l.refCount--,l.refCount===0&&N5(R5,function(){l.controller.abort()})}var F0=null,Jm=0,A=0,k=null;function D(l,u){if(F0===null){var d=F0=[];Jm=0,A=mA(),k={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Jm++,u.then(H,H),u}function H(){if(--Jm===0&&F0!==null){k!==null&&(k.status="fulfilled");var l=F0;F0=null,A=0,k=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Z(l,u){var d=[],v={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var C=0;C<d.length;C++)(0,d[C])(u)},function(C){for(v.status="rejected",v.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),v}var re=K.S;K.S=function(l,u){y3=Yt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&D(l,u),re!==null&&re(l,u)};var oe=ie(null);function pe(){var l=oe.current;return l!==null?l:Yr.pooledCache}function be(l,u){u===null?j(oe,oe.current):j(oe,u.pool)}function Ee(){var l=pe();return l===null?null:{parent:_i._currentValue,pool:l}}var Ie=Error(r(460)),Xe=Error(r(474)),Ae=Error(r(542)),De={then:function(){}};function ze(l){return l=l.status,l==="fulfilled"||l==="rejected"}function st(l,u,d){switch(d=l[d],d===void 0?l.push(u):d!==u&&(u.then(Vo,Vo),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,xt(l),l;default:if(typeof u.status=="string")u.then(Vo,Vo);else{if(l=Yr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=v}},function(v){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,xt(l),l}throw rt=u,Ie}}function qe(l){try{var u=l._init;return u(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(rt=d,Ie):d}}var rt=null;function ut(){if(rt===null)throw Error(r(459));var l=rt;return rt=null,l}function xt(l){if(l===Ie||l===Ae)throw Error(r(483))}var pt=null,Wt=0;function Ft(l){var u=Wt;return Wt+=1,pt===null&&(pt=[]),st(pt,l,u)}function An(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Ht(l,u){throw u.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Vn(l){function u(Ue,Me){if(l){var $e=Ue.deletions;$e===null?(Ue.deletions=[Me],Ue.flags|=16):$e.push(Me)}}function d(Ue,Me){if(!l)return null;for(;Me!==null;)u(Ue,Me),Me=Me.sibling;return null}function v(Ue){for(var Me=new Map;Ue!==null;)Ue.key!==null?Me.set(Ue.key,Ue):Me.set(Ue.index,Ue),Ue=Ue.sibling;return Me}function C(Ue,Me){return Ue=mo(Ue,Me),Ue.index=0,Ue.sibling=null,Ue}function N(Ue,Me,$e){return Ue.index=$e,l?($e=Ue.alternate,$e!==null?($e=$e.index,$e<Me?(Ue.flags|=67108866,Me):$e):(Ue.flags|=67108866,Me)):(Ue.flags|=1048576,Me)}function V(Ue){return l&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function he(Ue,Me,$e,ft){return Me===null||Me.tag!==6?(Me=L0($e,Ue.mode,ft),Me.return=Ue,Me):(Me=C(Me,$e),Me.return=Ue,Me)}function Re(Ue,Me,$e,ft){var cn=$e.type;return cn===_?lt(Ue,Me,$e.props.children,ft,$e.key):Me!==null&&(Me.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===X&&qe(cn)===Me.type)?(Me=C(Me,$e.props),An(Me,$e),Me.return=Ue,Me):(Me=Vh($e.type,$e.key,$e.props,null,Ue.mode,ft),An(Me,$e),Me.return=Ue,Me)}function Ke(Ue,Me,$e,ft){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==$e.containerInfo||Me.stateNode.implementation!==$e.implementation?(Me=Wh($e,Ue.mode,ft),Me.return=Ue,Me):(Me=C(Me,$e.children||[]),Me.return=Ue,Me)}function lt(Ue,Me,$e,ft,cn){return Me===null||Me.tag!==7?(Me=vu($e,Ue.mode,ft,cn),Me.return=Ue,Me):(Me=C(Me,$e),Me.return=Ue,Me)}function dt(Ue,Me,$e){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=L0(""+Me,Ue.mode,$e),Me.return=Ue,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case m:return $e=Vh(Me.type,Me.key,Me.props,null,Ue.mode,$e),An($e,Me),$e.return=Ue,$e;case b:return Me=Wh(Me,Ue.mode,$e),Me.return=Ue,Me;case X:return Me=qe(Me),dt(Ue,Me,$e)}if(_e(Me)||G(Me))return Me=vu(Me,Ue.mode,$e,null),Me.return=Ue,Me;if(typeof Me.then=="function")return dt(Ue,Ft(Me),$e);if(Me.$$typeof===R)return dt(Ue,Km(Ue,Me),$e);Ht(Ue,Me)}return null}function Je(Ue,Me,$e,ft){var cn=Me!==null?Me.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return cn!==null?null:he(Ue,Me,""+$e,ft);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case m:return $e.key===cn?Re(Ue,Me,$e,ft):null;case b:return $e.key===cn?Ke(Ue,Me,$e,ft):null;case X:return $e=qe($e),Je(Ue,Me,$e,ft)}if(_e($e)||G($e))return cn!==null?null:lt(Ue,Me,$e,ft,null);if(typeof $e.then=="function")return Je(Ue,Me,Ft($e),ft);if($e.$$typeof===R)return Je(Ue,Me,Km(Ue,$e),ft);Ht(Ue,$e)}return null}function Ze(Ue,Me,$e,ft,cn){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Ue=Ue.get($e)||null,he(Me,Ue,""+ft,cn);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case m:return Ue=Ue.get(ft.key===null?$e:ft.key)||null,Re(Me,Ue,ft,cn);case b:return Ue=Ue.get(ft.key===null?$e:ft.key)||null,Ke(Me,Ue,ft,cn);case X:return ft=qe(ft),Ze(Ue,Me,$e,ft,cn)}if(_e(ft)||G(ft))return Ue=Ue.get($e)||null,lt(Me,Ue,ft,cn,null);if(typeof ft.then=="function")return Ze(Ue,Me,$e,Ft(ft),cn);if(ft.$$typeof===R)return Ze(Ue,Me,$e,Km(Me,ft),cn);Ht(Me,ft)}return null}function qt(Ue,Me,$e,ft){for(var cn=null,pr=null,Zt=Me,Pn=Me=0,er=null;Zt!==null&&Pn<$e.length;Pn++){Zt.index>Pn?(er=Zt,Zt=null):er=Zt.sibling;var mr=Je(Ue,Zt,$e[Pn],ft);if(mr===null){Zt===null&&(Zt=er);break}l&&Zt&&mr.alternate===null&&u(Ue,Zt),Me=N(mr,Me,Pn),pr===null?cn=mr:pr.sibling=mr,pr=mr,Zt=er}if(Pn===$e.length)return d(Ue,Zt),Kn&&Xa(Ue,Pn),cn;if(Zt===null){for(;Pn<$e.length;Pn++)Zt=dt(Ue,$e[Pn],ft),Zt!==null&&(Me=N(Zt,Me,Pn),pr===null?cn=Zt:pr.sibling=Zt,pr=Zt);return Kn&&Xa(Ue,Pn),cn}for(Zt=v(Zt);Pn<$e.length;Pn++)er=Ze(Zt,Ue,Pn,$e[Pn],ft),er!==null&&(l&&er.alternate!==null&&Zt.delete(er.key===null?Pn:er.key),Me=N(er,Me,Pn),pr===null?cn=er:pr.sibling=er,pr=er);return l&&Zt.forEach(function(dd){return u(Ue,dd)}),Kn&&Xa(Ue,Pn),cn}function vn(Ue,Me,$e,ft){if($e==null)throw Error(r(151));for(var cn=null,pr=null,Zt=Me,Pn=Me=0,er=null,mr=$e.next();Zt!==null&&!mr.done;Pn++,mr=$e.next()){Zt.index>Pn?(er=Zt,Zt=null):er=Zt.sibling;var dd=Je(Ue,Zt,mr.value,ft);if(dd===null){Zt===null&&(Zt=er);break}l&&Zt&&dd.alternate===null&&u(Ue,Zt),Me=N(dd,Me,Pn),pr===null?cn=dd:pr.sibling=dd,pr=dd,Zt=er}if(mr.done)return d(Ue,Zt),Kn&&Xa(Ue,Pn),cn;if(Zt===null){for(;!mr.done;Pn++,mr=$e.next())mr=dt(Ue,mr.value,ft),mr!==null&&(Me=N(mr,Me,Pn),pr===null?cn=mr:pr.sibling=mr,pr=mr);return Kn&&Xa(Ue,Pn),cn}for(Zt=v(Zt);!mr.done;Pn++,mr=$e.next())mr=Ze(Zt,Ue,Pn,mr.value,ft),mr!==null&&(l&&mr.alternate!==null&&Zt.delete(mr.key===null?Pn:mr.key),Me=N(mr,Me,Pn),pr===null?cn=mr:pr.sibling=mr,pr=mr);return l&&Zt.forEach(function(mO){return u(Ue,mO)}),Kn&&Xa(Ue,Pn),cn}function jr(Ue,Me,$e,ft){if(typeof $e=="object"&&$e!==null&&$e.type===_&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case m:e:{for(var cn=$e.key;Me!==null;){if(Me.key===cn){if(cn=$e.type,cn===_){if(Me.tag===7){d(Ue,Me.sibling),ft=C(Me,$e.props.children),ft.return=Ue,Ue=ft;break e}}else if(Me.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===X&&qe(cn)===Me.type){d(Ue,Me.sibling),ft=C(Me,$e.props),An(ft,$e),ft.return=Ue,Ue=ft;break e}d(Ue,Me);break}else u(Ue,Me);Me=Me.sibling}$e.type===_?(ft=vu($e.props.children,Ue.mode,ft,$e.key),ft.return=Ue,Ue=ft):(ft=Vh($e.type,$e.key,$e.props,null,Ue.mode,ft),An(ft,$e),ft.return=Ue,Ue=ft)}return V(Ue);case b:e:{for(cn=$e.key;Me!==null;){if(Me.key===cn)if(Me.tag===4&&Me.stateNode.containerInfo===$e.containerInfo&&Me.stateNode.implementation===$e.implementation){d(Ue,Me.sibling),ft=C(Me,$e.children||[]),ft.return=Ue,Ue=ft;break e}else{d(Ue,Me);break}else u(Ue,Me);Me=Me.sibling}ft=Wh($e,Ue.mode,ft),ft.return=Ue,Ue=ft}return V(Ue);case X:return $e=qe($e),jr(Ue,Me,$e,ft)}if(_e($e))return qt(Ue,Me,$e,ft);if(G($e)){if(cn=G($e),typeof cn!="function")throw Error(r(150));return $e=cn.call($e),vn(Ue,Me,$e,ft)}if(typeof $e.then=="function")return jr(Ue,Me,Ft($e),ft);if($e.$$typeof===R)return jr(Ue,Me,Km(Ue,$e),ft);Ht(Ue,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Me!==null&&Me.tag===6?(d(Ue,Me.sibling),ft=C(Me,$e),ft.return=Ue,Ue=ft):(d(Ue,Me),ft=L0($e,Ue.mode,ft),ft.return=Ue,Ue=ft),V(Ue)):d(Ue,Me)}return function(Ue,Me,$e,ft){try{Wt=0;var cn=jr(Ue,Me,$e,ft);return pt=null,cn}catch(Zt){if(Zt===Ie||Zt===Ae)throw Zt;var pr=Ms(29,Zt,null,Ue.mode);return pr.lanes=ft,pr.return=Ue,pr}finally{}}}var Xr=Vn(!0),Rn=Vn(!1),Dt=!1;function Et(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ei(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function mn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Mn(l,u,d){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Sr&2)!==0){var C=v.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),v.pending=u,u=Is(l),N0(l,null,d),u}return k0(l,v,u,d),Is(l)}function wr(l,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,d|=v,u.lanes=d,ps(l,d)}}function Gi(l,u){var d=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var C=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?C=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?C=N=u:N=N.next=u}else C=N=u;d={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=u}var ws=!1;function Ur(){if(ws){var l=k;if(l!==null)throw l}}function Ri(l,u,d,v){ws=!1;var C=l.updateQueue;Dt=!1;var N=C.firstBaseUpdate,V=C.lastBaseUpdate,he=C.shared.pending;if(he!==null){C.shared.pending=null;var Re=he,Ke=Re.next;Re.next=null,V===null?N=Ke:V.next=Ke,V=Re;var lt=l.alternate;lt!==null&&(lt=lt.updateQueue,he=lt.lastBaseUpdate,he!==V&&(he===null?lt.firstBaseUpdate=Ke:he.next=Ke,lt.lastBaseUpdate=Re))}if(N!==null){var dt=C.baseState;V=0,lt=Ke=Re=null,he=N;do{var Je=he.lane&-536870913,Ze=Je!==he.lane;if(Ze?(Qn&Je)===Je:(v&Je)===Je){Je!==0&&Je===A&&(ws=!0),lt!==null&&(lt=lt.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var qt=l,vn=he;Je=u;var jr=d;switch(vn.tag){case 1:if(qt=vn.payload,typeof qt=="function"){dt=qt.call(jr,dt,Je);break e}dt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=vn.payload,Je=typeof qt=="function"?qt.call(jr,dt,Je):qt,Je==null)break e;dt=p({},dt,Je);break e;case 2:Dt=!0}}Je=he.callback,Je!==null&&(l.flags|=64,Ze&&(l.flags|=8192),Ze=C.callbacks,Ze===null?C.callbacks=[Je]:Ze.push(Je))}else Ze={lane:Je,tag:he.tag,payload:he.payload,callback:he.callback,next:null},lt===null?(Ke=lt=Ze,Re=dt):lt=lt.next=Ze,V|=Je;if(he=he.next,he===null){if(he=C.shared.pending,he===null)break;Ze=he,he=Ze.next,Ze.next=null,C.lastBaseUpdate=Ze,C.shared.pending=null}}while(!0);lt===null&&(Re=dt),C.baseState=Re,C.firstBaseUpdate=Ke,C.lastBaseUpdate=lt,N===null&&(C.shared.lanes=0),rd|=V,l.lanes=V,l.memoizedState=dt}}function Fs(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Li(l,u){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)Fs(d[l],u)}var zn=ie(null),sr=ie(0);function ti(l,u){l=Ff,j(sr,l),j(zn,u),Ff=l|u.baseLanes}function ur(){j(sr,Ff),j(zn,zn.current)}function qi(){Ff=sr.current,I(zn),I(sr)}var ni=ie(null),ar=null;function wi(l){var u=l.alternate;j(rr,rr.current&1),j(ni,l),ar===null&&(u===null||zn.current!==null||u.memoizedState!==null)&&(ar=l)}function Ar(l){j(rr,rr.current),j(ni,l),ar===null&&(ar=l)}function Ii(l){l.tag===22?(j(rr,rr.current),j(ni,l),ar===null&&(ar=l)):Mi()}function Mi(){j(rr,rr.current),j(ni,ni.current)}function Cr(l){I(ni),ar===l&&(ar=null),I(rr)}var rr=ie(0);function Ds(l){for(var u=l;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||CA(d)||kA(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fi=0,on=null,ln=null,or=null,ga=!1,wo=!1,ta=!1,Fi=0,Su=0,Eu=null,Zm=0;function Hr(){throw Error(r(321))}function Sv(l,u){if(u===null)return!1;for(var d=0;d<u.length&&d<l.length;d++)if(!vs(l[d],u[d]))return!1;return!0}function Ev(l,u,d,v,C,N){return fi=N,on=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,K.H=l===null||l.memoizedState===null?RC:B5,ta=!1,N=d(v,C),ta=!1,wo&&(N=Nc(u,d,v,C)),Qm(l),N}function Qm(l){K.H=Mv;var u=ln!==null&&ln.next!==null;if(fi=0,or=ln=on=null,ga=!1,Su=0,Eu=null,u)throw Error(r(300));l===null||ss||(l=l.dependencies,l!==null&&$m(l)&&(ss=!0))}function Nc(l,u,d,v){on=l;var C=0;do{if(wo&&(Eu=null),Su=0,wo=!1,25<=C)throw Error(r(301));if(C+=1,or=ln=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}K.H=LC,N=u(d,v)}while(wo);return N}function L5(){var l=K.H,u=l.useState()[0];return u=typeof u.then=="function"?Tu(u):u,l=l.useState()[0],(ln!==null?ln.memoizedState:null)!==l&&(on.flags|=1024),u}function Tv(){var l=Fi!==0;return Fi=0,l}function Cv(l,u,d){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~d}function eg(l){if(ga){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ga=!1}fi=0,or=ln=on=null,wo=!1,Su=Fi=0,Eu=null}function is(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?on.memoizedState=or=l:or=or.next=l,or}function hi(){if(ln===null){var l=on.alternate;l=l!==null?l.memoizedState:null}else l=ln.next;var u=or===null?on.memoizedState:or.next;if(u!==null)or=u,ln=l;else{if(l===null)throw on.alternate===null?Error(r(467)):Error(r(310));ln=l,l={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},or===null?on.memoizedState=or=l:or=or.next=l}return or}function D0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(l){var u=Su;return Su+=1,Eu===null&&(Eu=[]),l=st(Eu,l,u),u=on,(or===null?u.memoizedState:or.next)===null&&(u=u.alternate,K.H=u===null||u.memoizedState===null?RC:B5),l}function Jh(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Tu(l);if(l.$$typeof===R)return _s(l)}throw Error(r(438,String(l)))}function Ef(l){var u=null,d=on.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var v=on.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=D0(),on.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(l),v=0;v<l;v++)d[v]=ee;return u.index++,d}function Pl(l,u){return typeof u=="function"?u(l):u}function tg(l){var u=hi();return Zh(u,ln,l)}function Zh(l,u,d){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var C=l.baseQueue,N=v.pending;if(N!==null){if(C!==null){var V=C.next;C.next=N.next,N.next=V}u.baseQueue=C=N,v.pending=null}if(N=l.baseState,C===null)l.memoizedState=N;else{u=C.next;var he=V=null,Re=null,Ke=u,lt=!1;do{var dt=Ke.lane&-536870913;if(dt!==Ke.lane?(Qn&dt)===dt:(fi&dt)===dt){var Je=Ke.revertLane;if(Je===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),dt===A&&(lt=!0);else if((fi&Je)===Je){Ke=Ke.next,Je===A&&(lt=!0);continue}else dt={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Re===null?(he=Re=dt,V=N):Re=Re.next=dt,on.lanes|=Je,rd|=Je;dt=Ke.action,ta&&d(N,dt),N=Ke.hasEagerState?Ke.eagerState:d(N,dt)}else Je={lane:dt,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Re===null?(he=Re=Je,V=N):Re=Re.next=Je,on.lanes|=dt,rd|=dt;Ke=Ke.next}while(Ke!==null&&Ke!==u);if(Re===null?V=N:Re.next=he,!vs(N,l.memoizedState)&&(ss=!0,lt&&(d=k,d!==null)))throw d;l.memoizedState=N,l.baseState=V,l.baseQueue=Re,v.lastRenderedState=N}return C===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function ng(l){var u=hi(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=d.dispatch,C=d.pending,N=u.memoizedState;if(C!==null){d.pending=null;var V=C=C.next;do N=l(N,V.action),V=V.next;while(V!==C);vs(N,u.memoizedState)||(ss=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),d.lastRenderedState=N}return[N,v]}function rg(l,u,d){var v=on,C=hi(),N=Kn;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=u();var V=!vs((ln||C).memoizedState,d);if(V&&(C.memoizedState=d,ss=!0),C=C.queue,I5(Nv.bind(null,v,C,l),[l]),C.getSnapshot!==u||V||or!==null&&or.memoizedState.tag&1){if(v.flags|=2048,Cf(9,{destroy:void 0},kv.bind(null,v,C,d,u),null),Yr===null)throw Error(r(349));N||(fi&127)!==0||Rc(v,u,d)}return d}function Rc(l,u,d){l.flags|=16384,l={getSnapshot:u,value:d},u=on.updateQueue,u===null?(u=D0(),on.updateQueue=u,u.stores=[l]):(d=u.stores,d===null?u.stores=[l]:d.push(l))}function kv(l,u,d,v){u.value=d,u.getSnapshot=v,rb(u)&&Rv(l)}function Nv(l,u,d){return d(function(){rb(u)&&Rv(l)})}function rb(l){var u=l.getSnapshot;l=l.value;try{var d=u();return!vs(l,d)}catch{return!0}}function Rv(l){var u=Cc(l,2);u!==null&&Co(u,l,2)}function Cu(l){var u=is();if(typeof l=="function"){var d=l;if(l=d(),ta){sn(!0);try{d()}finally{sn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:l},u}function ib(l,u,d,v){return l.baseState=d,Zh(l,ln,typeof v=="function"?v:Pl)}function sb(l,u,d,v,C){if(cb(l))throw Error(r(485));if(l=u.action,l!==null){var N={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};K.T!==null?d(!0):N.isTransition=!1,v(N),d=u.pending,d===null?(N.next=u.pending=N,ab(u,N)):(N.next=d.next,u.pending=d.next=N)}}function ab(l,u){var d=u.action,v=u.payload,C=l.state;if(u.isTransition){var N=K.T,V={};K.T=V;try{var he=d(C,v),Re=K.S;Re!==null&&Re(V,he),Lv(l,u,he)}catch(Ke){Tf(l,u,Ke)}finally{N!==null&&V.types!==null&&(N.types=V.types),K.T=N}}else try{N=d(C,v),Lv(l,u,N)}catch(Ke){Tf(l,u,Ke)}}function Lv(l,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){ob(l,u,v)},function(v){return Tf(l,u,v)}):ob(l,u,d)}function ob(l,u,d){u.status="fulfilled",u.value=d,ig(u),l.state=d,u=l.pending,u!==null&&(d=u.next,d===u?l.pending=null:(d=d.next,u.next=d,ab(l,d)))}function Tf(l,u,d){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=d,ig(u),u=u.next;while(u!==v)}l.action=null}function ig(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function P0(l,u){return u}function Ol(l,u){if(Kn){var d=Yr.formState;if(d!==null){e:{var v=on;if(Kn){if(Wr){t:{for(var C=Wr,N=ui;C.nodeType!==8;){if(!N){C=null;break t}if(C=Bl(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){Wr=Bl(C.nextSibling),v=C.data==="F!";break e}}yu(v)}v=!1}v&&(u=d[0])}}return d=is(),d.memoizedState=d.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:u},d.queue=v,d=CC.bind(null,on,v),v.dispatch=d,v=Cu(!1),N=O5.bind(null,on,!1,v.queue),v=is(),C={state:u,dispatch:null,action:l,pending:null},v.queue=C,d=sb.bind(null,on,C,N,d),C.dispatch=d,v.memoizedState=l,[u,d,!1]}function Lc(l){var u=hi();return Ic(u,ln,l)}function Ic(l,u,d){if(u=Zh(l,u,P0)[0],l=tg(Pl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Tu(u)}catch(V){throw V===Ie?Ae:V}else v=u;u=hi();var C=u.queue,N=C.dispatch;return d!==u.memoizedState&&(on.flags|=2048,Cf(9,{destroy:void 0},sg.bind(null,C,d),null)),[v,N,l]}function sg(l,u){l.action=u}function ag(l){var u=hi(),d=ln;if(d!==null)return Ic(u,d,l);hi(),u=u.memoizedState,d=hi();var v=d.queue.dispatch;return d.memoizedState=l,[u,v,!1]}function Cf(l,u,d,v){return l={tag:l,create:d,deps:v,inst:u,next:null},u=on.updateQueue,u===null&&(u=D0(),on.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=l.next=l:(v=d.next,d.next=l,l.next=v,u.lastEffect=l),l}function lb(){return hi().memoizedState}function Qh(l,u,d,v){var C=is();on.flags|=l,C.memoizedState=Cf(1|u,{destroy:void 0},d,v===void 0?null:v)}function ed(l,u,d,v){var C=hi();v=v===void 0?null:v;var N=C.memoizedState.inst;ln!==null&&v!==null&&Sv(v,ln.memoizedState.deps)?C.memoizedState=Cf(u,N,d,v):(on.flags|=l,C.memoizedState=Cf(1|u,N,d,v))}function dC(l,u){Qh(8390656,8,l,u)}function I5(l,u){ed(2048,8,l,u)}function c7(l){on.flags|=4;var u=on.updateQueue;if(u===null)u=D0(),on.updateQueue=u,u.events=[l];else{var d=u.events;d===null?u.events=[l]:d.push(l)}}function pC(l){var u=hi().memoizedState;return c7({ref:u,nextImpl:l}),function(){if((Sr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function mC(l,u){return ed(4,2,l,u)}function gC(l,u){return ed(4,4,l,u)}function vC(l,u){if(typeof u=="function"){l=l();var d=u(l);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function xC(l,u,d){d=d!=null?d.concat([l]):null,ed(4,4,vC.bind(null,u,l),d)}function M5(){}function yC(l,u){var d=hi();u=u===void 0?null:u;var v=d.memoizedState;return u!==null&&Sv(u,v[1])?v[0]:(d.memoizedState=[l,u],l)}function bC(l,u){var d=hi();u=u===void 0?null:u;var v=d.memoizedState;if(u!==null&&Sv(u,v[1]))return v[0];if(v=l(),ta){sn(!0);try{l()}finally{sn(!1)}}return d.memoizedState=[v,u],v}function F5(l,u,d){return d===void 0||(fi&1073741824)!==0&&(Qn&261930)===0?l.memoizedState=u:(l.memoizedState=d,l=_3(),on.lanes|=l,rd|=l,d)}function _C(l,u,d,v){return vs(d,u)?d:zn.current!==null?(l=F5(l,d,v),vs(l,u)||(ss=!0),l):(fi&42)===0||(fi&1073741824)!==0&&(Qn&261930)===0?(ss=!0,l.memoizedState=d):(l=_3(),on.lanes|=l,rd|=l,u)}function wC(l,u,d,v,C){var N=le.p;le.p=N!==0&&8>N?N:8;var V=K.T,he={};K.T=he,O5(l,!1,u,d);try{var Re=C(),Ke=K.S;if(Ke!==null&&Ke(he,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var lt=Z(Re,v);Iv(l,u,lt,el(l))}else Iv(l,u,v,el(l))}catch(dt){Iv(l,u,{then:function(){},status:"rejected",reason:dt},el())}finally{le.p=N,V!==null&&he.types!==null&&(V.types=he.types),K.T=V}}function u7(){}function D5(l,u,d,v){if(l.tag!==5)throw Error(r(476));var C=AC(l).queue;wC(l,C,u,Se,d===null?u7:function(){return SC(l),d(v)})}function AC(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:Se},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:d},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function SC(l){var u=AC(l);u.next===null&&(u=l.alternate.memoizedState),Iv(l,u.next.queue,{},el())}function P5(){return _s($v)}function EC(){return hi().memoizedState}function TC(){return hi().memoizedState}function f7(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var d=el();l=mn(d);var v=Mn(u,l,d);v!==null&&(Co(v,u,d),wr(v,u,d)),u={cache:Kh()},l.payload=u;return}u=u.return}}function h7(l,u,d){var v=el();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},cb(l)?kC(u,d):(d=zm(l,u,d,v),d!==null&&(Co(d,l,v),NC(d,u,v)))}function CC(l,u,d){var v=el();Iv(l,u,d,v)}function Iv(l,u,d,v){var C={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(cb(l))kC(u,C);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var V=u.lastRenderedState,he=N(V,d);if(C.hasEagerState=!0,C.eagerState=he,vs(he,V))return k0(l,u,C,0),Yr===null&&C0(),!1}catch{}finally{}if(d=zm(l,u,C,v),d!==null)return Co(d,l,v),NC(d,u,v),!0}return!1}function O5(l,u,d,v){if(v={lane:2,revertLane:mA(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},cb(l)){if(u)throw Error(r(479))}else u=zm(l,d,v,2),u!==null&&Co(u,l,2)}function cb(l){var u=l.alternate;return l===on||u!==null&&u===on}function kC(l,u){wo=ga=!0;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}function NC(l,u,d){if((d&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,d|=v,u.lanes=d,ps(l,d)}}var Mv={readContext:_s,use:Jh,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useLayoutEffect:Hr,useInsertionEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useSyncExternalStore:Hr,useId:Hr,useHostTransitionStatus:Hr,useFormState:Hr,useActionState:Hr,useOptimistic:Hr,useMemoCache:Hr,useCacheRefresh:Hr};Mv.useEffectEvent=Hr;var RC={readContext:_s,use:Jh,useCallback:function(l,u){return is().memoizedState=[l,u===void 0?null:u],l},useContext:_s,useEffect:dC,useImperativeHandle:function(l,u,d){d=d!=null?d.concat([l]):null,Qh(4194308,4,vC.bind(null,u,l),d)},useLayoutEffect:function(l,u){return Qh(4194308,4,l,u)},useInsertionEffect:function(l,u){Qh(4,2,l,u)},useMemo:function(l,u){var d=is();u=u===void 0?null:u;var v=l();if(ta){sn(!0);try{l()}finally{sn(!1)}}return d.memoizedState=[v,u],v},useReducer:function(l,u,d){var v=is();if(d!==void 0){var C=d(u);if(ta){sn(!0);try{d(u)}finally{sn(!1)}}}else C=u;return v.memoizedState=v.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},v.queue=l,l=l.dispatch=h7.bind(null,on,l),[v.memoizedState,l]},useRef:function(l){var u=is();return l={current:l},u.memoizedState=l},useState:function(l){l=Cu(l);var u=l.queue,d=CC.bind(null,on,u);return u.dispatch=d,[l.memoizedState,d]},useDebugValue:M5,useDeferredValue:function(l,u){var d=is();return F5(d,l,u)},useTransition:function(){var l=Cu(!1);return l=wC.bind(null,on,l.queue,!0,!1),is().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,d){var v=on,C=is();if(Kn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Yr===null)throw Error(r(349));(Qn&127)!==0||Rc(v,u,d)}C.memoizedState=d;var N={value:d,getSnapshot:u};return C.queue=N,dC(Nv.bind(null,v,N,l),[l]),v.flags|=2048,Cf(9,{destroy:void 0},kv.bind(null,v,N,d,u),null),d},useId:function(){var l=is(),u=Yr.identifierPrefix;if(Kn){var d=bo,v=yo;d=(v&~(1<<32-Hn(v)-1)).toString(32)+d,u="_"+u+"R_"+d,d=Fi++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=Zm++,u="_"+u+"r_"+d.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:P5,useFormState:Ol,useActionState:Ol,useOptimistic:function(l){var u=is();u.memoizedState=u.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=O5.bind(null,on,!0,d),d.dispatch=u,[l,u]},useMemoCache:Ef,useCacheRefresh:function(){return is().memoizedState=f7.bind(null,on)},useEffectEvent:function(l){var u=is(),d={impl:l};return u.memoizedState=d,function(){if((Sr&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},B5={readContext:_s,use:Jh,useCallback:yC,useContext:_s,useEffect:I5,useImperativeHandle:xC,useInsertionEffect:mC,useLayoutEffect:gC,useMemo:bC,useReducer:tg,useRef:lb,useState:function(){return tg(Pl)},useDebugValue:M5,useDeferredValue:function(l,u){var d=hi();return _C(d,ln.memoizedState,l,u)},useTransition:function(){var l=tg(Pl)[0],u=hi().memoizedState;return[typeof l=="boolean"?l:Tu(l),u]},useSyncExternalStore:rg,useId:EC,useHostTransitionStatus:P5,useFormState:Lc,useActionState:Lc,useOptimistic:function(l,u){var d=hi();return ib(d,ln,l,u)},useMemoCache:Ef,useCacheRefresh:TC};B5.useEffectEvent=pC;var LC={readContext:_s,use:Jh,useCallback:yC,useContext:_s,useEffect:I5,useImperativeHandle:xC,useInsertionEffect:mC,useLayoutEffect:gC,useMemo:bC,useReducer:ng,useRef:lb,useState:function(){return ng(Pl)},useDebugValue:M5,useDeferredValue:function(l,u){var d=hi();return ln===null?F5(d,l,u):_C(d,ln.memoizedState,l,u)},useTransition:function(){var l=ng(Pl)[0],u=hi().memoizedState;return[typeof l=="boolean"?l:Tu(l),u]},useSyncExternalStore:rg,useId:EC,useHostTransitionStatus:P5,useFormState:ag,useActionState:ag,useOptimistic:function(l,u){var d=hi();return ln!==null?ib(d,ln,l,u):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:TC};LC.useEffectEvent=pC;function U5(l,u,d,v){u=l.memoizedState,d=d(v,u),d=d==null?u:p({},u,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var H5={enqueueSetState:function(l,u,d){l=l._reactInternals;var v=el(),C=mn(v);C.payload=u,d!=null&&(C.callback=d),u=Mn(l,C,v),u!==null&&(Co(u,l,v),wr(u,l,v))},enqueueReplaceState:function(l,u,d){l=l._reactInternals;var v=el(),C=mn(v);C.tag=1,C.payload=u,d!=null&&(C.callback=d),u=Mn(l,C,v),u!==null&&(Co(u,l,v),wr(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var d=el(),v=mn(d);v.tag=2,u!=null&&(v.callback=u),u=Mn(l,v,d),u!==null&&(Co(u,l,d),wr(u,l,d))}};function IC(l,u,d,v,C,N,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,N,V):u.prototype&&u.prototype.isPureReactComponent?!Ac(d,v)||!Ac(C,N):!0}function MC(l,u,d,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,v),u.state!==l&&H5.enqueueReplaceState(u,u.state,null)}function O0(l,u){var d=u;if("ref"in u){d={};for(var v in u)v!=="ref"&&(d[v]=u[v])}if(l=l.defaultProps){d===u&&(d=p({},d));for(var C in l)d[C]===void 0&&(d[C]=l[C])}return d}function FC(l){T0(l)}function DC(l){console.error(l)}function PC(l){T0(l)}function ub(l,u){try{var d=l.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function OC(l,u,d){try{var v=l.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function z5(l,u,d){return d=mn(d),d.tag=3,d.payload={element:null},d.callback=function(){ub(l,u)},d}function BC(l){return l=mn(l),l.tag=3,l}function UC(l,u,d,v){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var N=v.value;l.payload=function(){return C(N)},l.callback=function(){OC(u,d,v)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){OC(u,d,v),typeof C!="function"&&(id===null?id=new Set([this]):id.add(this));var he=v.stack;this.componentDidCatch(v.value,{componentStack:he!==null?he:""})})}function d7(l,u,d,v,C){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=d.alternate,u!==null&&wu(u,d,C,!0),d=ni.current,d!==null){switch(d.tag){case 31:case 13:return ar===null?wb():d.alternate===null&&Di===0&&(Di=3),d.flags&=-257,d.flags|=65536,d.lanes=C,v===De?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([v]):u.add(v),hA(l,v,C)),!1;case 22:return d.flags|=65536,v===De?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([v]):d.add(v)),hA(l,v,C)),!1}throw Error(r(435,d.tag))}return hA(l,v,C),wb(),!1}if(Kn)return u=ni.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,v!==Jo&&(l=Error(r(422),{cause:v}),Yh(go(l,d)))):(v!==Jo&&(u=Error(r(423),{cause:v}),Yh(go(u,d))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,v=go(v,d),C=z5(l.stateNode,v,C),Gi(l,C),Di!==4&&(Di=2)),!1;var N=Error(r(520),{cause:v});if(N=go(N,d),zv===null?zv=[N]:zv.push(N),Di!==4&&(Di=2),u===null)return!0;v=go(v,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,l=C&-C,d.lanes|=l,l=z5(d.stateNode,v,l),Gi(d,l),!1;case 1:if(u=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(id===null||!id.has(N))))return d.flags|=65536,C&=-C,d.lanes|=C,C=BC(C),UC(C,l,d,v),Gi(d,C),!1}d=d.return}while(d!==null);return!1}var j5=Error(r(461)),ss=!1;function na(l,u,d,v){u.child=l===null?Rn(u,null,d,v):Xr(u,l.child,d,v)}function HC(l,u,d,v,C){d=d.render;var N=u.ref;if("ref"in v){var V={};for(var he in v)he!=="ref"&&(V[he]=v[he])}else V=v;return Au(u),v=Ev(l,u,d,V,N,C),he=Tv(),l!==null&&!ss?(Cv(l,u,C),kf(l,u,C)):(Kn&&he&&_v(u),u.flags|=1,na(l,u,v,C),u.child)}function zC(l,u,d,v,C){if(l===null){var N=d.type;return typeof N=="function"&&!Gm(N)&&N.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=N,jC(l,u,N,v,C)):(l=Vh(d.type,null,v,u,u.mode,C),l.ref=u.ref,l.return=u,u.child=l)}if(N=l.child,!K5(l,C)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:Ac,d(V,v)&&l.ref===u.ref)return kf(l,u,C)}return u.flags|=1,l=mo(N,v),l.ref=u.ref,l.return=u,u.child=l}function jC(l,u,d,v,C){if(l!==null){var N=l.memoizedProps;if(Ac(N,v)&&l.ref===u.ref)if(ss=!1,u.pendingProps=v=N,K5(l,C))(l.flags&131072)!==0&&(ss=!0);else return u.lanes=l.lanes,kf(l,u,C)}return G5(l,u,d,v,C)}function GC(l,u,d,v){var C=v.children,N=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,l!==null){for(v=u.child=l.child,C=0;v!==null;)C=C|v.lanes|v.childLanes,v=v.sibling;v=C&~N}else v=0,u.child=null;return qC(l,u,N,d,v)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&be(u,N!==null?N.cachePool:null),N!==null?ti(u,N):ur(),Ii(u);else return v=u.lanes=536870912,qC(l,u,N!==null?N.baseLanes|d:d,d,v)}else N!==null?(be(u,N.cachePool),ti(u,N),Mi(),u.memoizedState=null):(l!==null&&be(u,null),ur(),Mi());return na(l,u,C,d),u.child}function Fv(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function qC(l,u,d,v,C){var N=pe();return N=N===null?null:{parent:_i._currentValue,pool:N},u.memoizedState={baseLanes:d,cachePool:N},l!==null&&be(u,null),ur(),Ii(u),l!==null&&wu(l,u,v,!0),u.childLanes=C,null}function fb(l,u){return u=db({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function VC(l,u,d){return Xr(u,l.child,null,d),l=fb(u,u.pendingProps),l.flags|=2,Cr(u),u.memoizedState=null,l}function p7(l,u,d){var v=u.pendingProps,C=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Kn){if(v.mode==="hidden")return l=fb(u,v),u.lanes=536870912,Fv(null,l);if(Ar(u),(l=Wr)?(l=rk(l,ui),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:xu!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},d=qm(l),d.return=u,u.child=d,ys=u,Wr=null)):l=null,l===null)throw yu(u);return u.lanes=536870912,null}return fb(u,v)}var N=l.memoizedState;if(N!==null){var V=N.dehydrated;if(Ar(u),C)if(u.flags&256)u.flags&=-257,u=VC(l,u,d);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(ss||wu(l,u,d,!1),C=(d&l.childLanes)!==0,ss||C){if(v=Yr,v!==null&&(V=Ys(v,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Cc(l,V),Co(v,l,V),j5;wb(),u=VC(l,u,d)}else l=N.treeContext,Wr=Bl(V.nextSibling),ys=u,Kn=!0,ea=null,ui=!1,l!==null&&tb(u,l),u=fb(u,v),u.flags|=4096;return u}return l=mo(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function hb(l,u){var d=u.ref;if(d===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(u.flags|=4194816)}}function G5(l,u,d,v,C){return Au(u),d=Ev(l,u,d,v,void 0,C),v=Tv(),l!==null&&!ss?(Cv(l,u,C),kf(l,u,C)):(Kn&&v&&_v(u),u.flags|=1,na(l,u,d,C),u.child)}function WC(l,u,d,v,C,N){return Au(u),u.updateQueue=null,d=Nc(u,v,d,C),Qm(l),v=Tv(),l!==null&&!ss?(Cv(l,u,N),kf(l,u,N)):(Kn&&v&&_v(u),u.flags|=1,na(l,u,d,N),u.child)}function XC(l,u,d,v,C){if(Au(u),u.stateNode===null){var N=xs,V=d.contextType;typeof V=="object"&&V!==null&&(N=_s(V)),N=new d(v,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=H5,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=v,N.state=u.memoizedState,N.refs={},Et(u),V=d.contextType,N.context=typeof V=="object"&&V!==null?_s(V):xs,N.state=u.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(U5(u,d,V,v),N.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&H5.enqueueReplaceState(N,N.state,null),Ri(u,v,N,C),Ur(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){N=u.stateNode;var he=u.memoizedProps,Re=O0(d,he);N.props=Re;var Ke=N.context,lt=d.contextType;V=xs,typeof lt=="object"&&lt!==null&&(V=_s(lt));var dt=d.getDerivedStateFromProps;lt=typeof dt=="function"||typeof N.getSnapshotBeforeUpdate=="function",he=u.pendingProps!==he,lt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(he||Ke!==V)&&MC(u,N,v,V),Dt=!1;var Je=u.memoizedState;N.state=Je,Ri(u,v,N,C),Ur(),Ke=u.memoizedState,he||Je!==Ke||Dt?(typeof dt=="function"&&(U5(u,d,dt,v),Ke=u.memoizedState),(Re=Dt||IC(u,d,Re,v,Je,Ke,V))?(lt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ke),N.props=v,N.state=Ke,N.context=V,v=Re):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{N=u.stateNode,ei(l,u),V=u.memoizedProps,lt=O0(d,V),N.props=lt,dt=u.pendingProps,Je=N.context,Ke=d.contextType,Re=xs,typeof Ke=="object"&&Ke!==null&&(Re=_s(Ke)),he=d.getDerivedStateFromProps,(Ke=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==dt||Je!==Re)&&MC(u,N,v,Re),Dt=!1,Je=u.memoizedState,N.state=Je,Ri(u,v,N,C),Ur();var Ze=u.memoizedState;V!==dt||Je!==Ze||Dt||l!==null&&l.dependencies!==null&&$m(l.dependencies)?(typeof he=="function"&&(U5(u,d,he,v),Ze=u.memoizedState),(lt=Dt||IC(u,d,lt,v,Je,Ze,Re)||l!==null&&l.dependencies!==null&&$m(l.dependencies))?(Ke||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,Ze,Re),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,Ze,Re)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ze),N.props=v,N.state=Ze,N.context=Re,v=lt):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),v=!1)}return N=v,hb(l,u),v=(u.flags&128)!==0,N||v?(N=u.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,l!==null&&v?(u.child=Xr(u,l.child,null,C),u.child=Xr(u,null,d,C)):na(l,u,d,C),u.memoizedState=N.state,l=u.child):l=kf(l,u,C),l}function YC(l,u,d,v){return Af(),u.flags|=256,na(l,u,d,v),u.child}var q5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V5(l){return{baseLanes:l,cachePool:Ee()}}function W5(l,u,d){return l=l!==null?l.childLanes&~d:0,u&&(l|=Qo),l}function $C(l,u,d){var v=u.pendingProps,C=!1,N=(u.flags&128)!==0,V;if((V=N)||(V=l!==null&&l.memoizedState===null?!1:(rr.current&2)!==0),V&&(C=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,l===null){if(Kn){if(C?wi(u):Mi(),(l=Wr)?(l=rk(l,ui),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:xu!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},d=qm(l),d.return=u,u.child=d,ys=u,Wr=null)):l=null,l===null)throw yu(u);return kA(l)?u.lanes=32:u.lanes=536870912,null}var he=v.children;return v=v.fallback,C?(Mi(),C=u.mode,he=db({mode:"hidden",children:he},C),v=vu(v,C,d,null),he.return=u,v.return=u,he.sibling=v,u.child=he,v=u.child,v.memoizedState=V5(d),v.childLanes=W5(l,V,d),u.memoizedState=q5,Fv(null,v)):(wi(u),X5(u,he))}var Re=l.memoizedState;if(Re!==null&&(he=Re.dehydrated,he!==null)){if(N)u.flags&256?(wi(u),u.flags&=-257,u=Y5(l,u,d)):u.memoizedState!==null?(Mi(),u.child=l.child,u.flags|=128,u=null):(Mi(),he=v.fallback,C=u.mode,v=db({mode:"visible",children:v.children},C),he=vu(he,C,d,null),he.flags|=2,v.return=u,he.return=u,v.sibling=he,u.child=v,Xr(u,l.child,null,d),v=u.child,v.memoizedState=V5(d),v.childLanes=W5(l,V,d),u.memoizedState=q5,u=Fv(null,v));else if(wi(u),kA(he)){if(V=he.nextSibling&&he.nextSibling.dataset,V)var Ke=V.dgst;V=Ke,v=Error(r(419)),v.stack="",v.digest=V,Yh({value:v,source:null,stack:null}),u=Y5(l,u,d)}else if(ss||wu(l,u,d,!1),V=(d&l.childLanes)!==0,ss||V){if(V=Yr,V!==null&&(v=Ys(V,d),v!==0&&v!==Re.retryLane))throw Re.retryLane=v,Cc(l,v),Co(V,l,v),j5;CA(he)||wb(),u=Y5(l,u,d)}else CA(he)?(u.flags|=192,u.child=l.child,u=null):(l=Re.treeContext,Wr=Bl(he.nextSibling),ys=u,Kn=!0,ea=null,ui=!1,l!==null&&tb(u,l),u=X5(u,v.children),u.flags|=4096);return u}return C?(Mi(),he=v.fallback,C=u.mode,Re=l.child,Ke=Re.sibling,v=mo(Re,{mode:"hidden",children:v.children}),v.subtreeFlags=Re.subtreeFlags&65011712,Ke!==null?he=mo(Ke,he):(he=vu(he,C,d,null),he.flags|=2),he.return=u,v.return=u,v.sibling=he,u.child=v,Fv(null,v),v=u.child,he=l.child.memoizedState,he===null?he=V5(d):(C=he.cachePool,C!==null?(Re=_i._currentValue,C=C.parent!==Re?{parent:Re,pool:Re}:C):C=Ee(),he={baseLanes:he.baseLanes|d,cachePool:C}),v.memoizedState=he,v.childLanes=W5(l,V,d),u.memoizedState=q5,Fv(l.child,v)):(wi(u),d=l.child,l=d.sibling,d=mo(d,{mode:"visible",children:v.children}),d.return=u,d.sibling=null,l!==null&&(V=u.deletions,V===null?(u.deletions=[l],u.flags|=16):V.push(l)),u.child=d,u.memoizedState=null,d)}function X5(l,u){return u=db({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function db(l,u){return l=Ms(22,l,null,u),l.lanes=0,l}function Y5(l,u,d){return Xr(u,l.child,null,d),l=X5(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function KC(l,u,d){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),$h(l.return,u,d)}function $5(l,u,d,v,C,N){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:C,treeForkCount:N}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=d,V.tailMode=C,V.treeForkCount=N)}function JC(l,u,d){var v=u.pendingProps,C=v.revealOrder,N=v.tail;v=v.children;var V=rr.current,he=(V&2)!==0;if(he?(V=V&1|2,u.flags|=128):V&=1,j(rr,V),na(l,u,v,d),v=Kn?I0:0,!he&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&KC(l,d,u);else if(l.tag===19)KC(l,d,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(C){case"forwards":for(d=u.child,C=null;d!==null;)l=d.alternate,l!==null&&Ds(l)===null&&(C=d),d=d.sibling;d=C,d===null?(C=u.child,u.child=null):(C=d.sibling,d.sibling=null),$5(u,!1,C,d,N,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=u.child,u.child=null;C!==null;){if(l=C.alternate,l!==null&&Ds(l)===null){u.child=C;break}l=C.sibling,C.sibling=d,d=C,C=l}$5(u,!0,d,null,N,v);break;case"together":$5(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function kf(l,u,d){if(l!==null&&(u.dependencies=l.dependencies),rd|=u.lanes,(d&u.childLanes)===0)if(l!==null){if(wu(l,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,d=mo(l,l.pendingProps),u.child=d,d.return=u;l.sibling!==null;)l=l.sibling,d=d.sibling=mo(l,l.pendingProps),d.return=u;d.sibling=null}return u.child}function K5(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&$m(l)))}function m7(l,u,d){switch(u.tag){case 3:me(u,u.stateNode.containerInfo),_u(u,_i,l.memoizedState.cache),Af();break;case 27:case 5:Te(u);break;case 4:me(u,u.stateNode.containerInfo);break;case 10:_u(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ar(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(wi(u),u.flags|=128,null):(d&u.child.childLanes)!==0?$C(l,u,d):(wi(u),l=kf(l,u,d),l!==null?l.sibling:null);wi(u);break;case 19:var C=(l.flags&128)!==0;if(v=(d&u.childLanes)!==0,v||(wu(l,u,d,!1),v=(d&u.childLanes)!==0),C){if(v)return JC(l,u,d);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),j(rr,rr.current),v)break;return null;case 22:return u.lanes=0,GC(l,u,d,u.pendingProps);case 24:_u(u,_i,l.memoizedState.cache)}return kf(l,u,d)}function ZC(l,u,d){if(l!==null)if(l.memoizedProps!==u.pendingProps)ss=!0;else{if(!K5(l,d)&&(u.flags&128)===0)return ss=!1,m7(l,u,d);ss=(l.flags&131072)!==0}else ss=!1,Kn&&(u.flags&1048576)!==0&&eb(u,I0,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=qe(u.elementType),u.type=l,typeof l=="function")Gm(l)?(v=O0(l,v),u.tag=1,u=XC(null,u,l,v,d)):(u.tag=0,u=G5(null,u,l,v,d));else{if(l!=null){var C=l.$$typeof;if(C===F){u.tag=11,u=HC(null,u,l,v,d);break e}else if(C===P){u.tag=14,u=zC(null,u,l,v,d);break e}}throw u=ce(l)||l,Error(r(306,u,""))}}return u;case 0:return G5(l,u,u.type,u.pendingProps,d);case 1:return v=u.type,C=O0(v,u.pendingProps),XC(l,u,v,C,d);case 3:e:{if(me(u,u.stateNode.containerInfo),l===null)throw Error(r(387));v=u.pendingProps;var N=u.memoizedState;C=N.element,ei(l,u),Ri(u,v,null,d);var V=u.memoizedState;if(v=V.cache,_u(u,_i,v),v!==N.cache&&Sf(u,[_i],d,!0),Ur(),v=V.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=YC(l,u,v,d);break e}else if(v!==C){C=go(Error(r(424)),u),Yh(C),u=YC(l,u,v,d);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Wr=Bl(l.firstChild),ys=u,Kn=!0,ea=null,ui=!0,d=Rn(u,null,v,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Af(),v===C){u=kf(l,u,d);break e}na(l,u,v,d)}u=u.child}return u;case 26:return hb(l,u),l===null?(d=ck(u.type,null,u.pendingProps,null))?u.memoizedState=d:Kn||(d=u.type,l=u.pendingProps,v=Nb(ae.current).createElement(d),v[xe]=u,v[we]=l,ra(v,d,l),Bt(v),u.stateNode=v):u.memoizedState=ck(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Te(u),l===null&&Kn&&(v=u.stateNode=ak(u.type,u.pendingProps,ae.current),ys=u,ui=!0,C=Wr,ld(u.type)?(NA=C,Wr=Bl(v.firstChild)):Wr=C),na(l,u,u.pendingProps.children,d),hb(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Kn&&((C=v=Wr)&&(v=V7(v,u.type,u.pendingProps,ui),v!==null?(u.stateNode=v,ys=u,Wr=Bl(v.firstChild),ui=!1,C=!0):C=!1),C||yu(u)),Te(u),C=u.type,N=u.pendingProps,V=l!==null?l.memoizedProps:null,v=N.children,SA(C,N)?v=null:V!==null&&SA(C,V)&&(u.flags|=32),u.memoizedState!==null&&(C=Ev(l,u,L5,null,null,d),$v._currentValue=C),hb(l,u),na(l,u,v,d),u.child;case 6:return l===null&&Kn&&((l=d=Wr)&&(d=W7(d,u.pendingProps,ui),d!==null?(u.stateNode=d,ys=u,Wr=null,l=!0):l=!1),l||yu(u)),null;case 13:return $C(l,u,d);case 4:return me(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Xr(u,null,v,d):na(l,u,v,d),u.child;case 11:return HC(l,u,u.type,u.pendingProps,d);case 7:return na(l,u,u.pendingProps,d),u.child;case 8:return na(l,u,u.pendingProps.children,d),u.child;case 12:return na(l,u,u.pendingProps.children,d),u.child;case 10:return v=u.pendingProps,_u(u,u.type,v.value),na(l,u,v.children,d),u.child;case 9:return C=u.type._context,v=u.pendingProps.children,Au(u),C=_s(C),v=v(C),u.flags|=1,na(l,u,v,d),u.child;case 14:return zC(l,u,u.type,u.pendingProps,d);case 15:return jC(l,u,u.type,u.pendingProps,d);case 19:return JC(l,u,d);case 31:return p7(l,u,d);case 22:return GC(l,u,d,u.pendingProps);case 24:return Au(u),v=_s(_i),l===null?(C=pe(),C===null&&(C=Yr,N=Kh(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=d),C=N),u.memoizedState={parent:v,cache:C},Et(u),_u(u,_i,C)):((l.lanes&d)!==0&&(ei(l,u),Ri(u,null,null,d),Ur()),C=l.memoizedState,N=u.memoizedState,C.parent!==v?(C={parent:v,cache:v},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),_u(u,_i,v)):(v=N.cache,_u(u,_i,v),v!==C.cache&&Sf(u,[_i],d,!0))),na(l,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Nf(l){l.flags|=4}function J5(l,u,d,v,C){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(C&335544128)===C)if(l.stateNode.complete)l.flags|=8192;else if(E3())l.flags|=8192;else throw rt=De,Xe}else l.flags&=-16777217}function QC(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!pk(u))if(E3())l.flags|=8192;else throw rt=De,Xe}function pb(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?lo():536870912,l.lanes|=u,ug|=u)}function Dv(l,u){if(!Kn)switch(l.tailMode){case"hidden":u=l.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function ri(l){var u=l.alternate!==null&&l.alternate.child===l.child,d=0,v=0;if(u)for(var C=l.child;C!==null;)d|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)d|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=v,l.childLanes=d,u}function g7(l,u,d){var v=u.pendingProps;switch(Xm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(u),null;case 1:return ri(u),null;case 3:return d=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),_o(_i),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(bs(u)?Nf(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Av())),ri(u),null;case 26:var C=u.type,N=u.memoizedState;return l===null?(Nf(u),N!==null?(ri(u),QC(u,N)):(ri(u),J5(u,C,null,v,d))):N?N!==l.memoizedState?(Nf(u),ri(u),QC(u,N)):(ri(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&Nf(u),ri(u),J5(u,C,l,v,d)),null;case 27:if(Oe(u),d=ae.current,C=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Nf(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return ri(u),null}l=U.current,bs(u)?wv(u):(l=ak(C,v,d),u.stateNode=l,Nf(u))}return ri(u),null;case 5:if(Oe(u),C=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Nf(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return ri(u),null}if(N=U.current,bs(u))wv(u);else{var V=Nb(ae.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?V.createElement(C,{is:v.is}):V.createElement(C)}}N[xe]=u,N[we]=v;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=N;e:switch(ra(N,C,v),C){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Nf(u)}}return ri(u),J5(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,d),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Nf(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(l=ae.current,bs(u)){if(l=u.stateNode,d=u.memoizedProps,v=null,C=ys,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}l[xe]=u,l=!!(l.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||$3(l.nodeValue,d)),l||yu(u,!0)}else l=Nb(l).createTextNode(v),l[xe]=u,u.stateNode=l}return ri(u),null;case 31:if(d=u.memoizedState,l===null||l.memoizedState!==null){if(v=bs(u),d!==null){if(l===null){if(!v)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[xe]=u}else Af(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ri(u),l=!1}else d=Av(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return u.flags&256?(Cr(u),u):(Cr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return ri(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=bs(u),v!==null&&v.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[xe]=u}else Af(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ri(u),C=!1}else C=Av(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(Cr(u),u):(Cr(u),null)}return Cr(u),(u.flags&128)!==0?(u.lanes=d,u):(d=v!==null,l=l!==null&&l.memoizedState!==null,d&&(v=u.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==C&&(v.flags|=2048)),d!==l&&d&&(u.child.flags|=8192),pb(u,u.updateQueue),ri(u),null);case 4:return fe(),l===null&&yA(u.stateNode.containerInfo),ri(u),null;case 10:return _o(u.type),ri(u),null;case 19:if(I(rr),v=u.memoizedState,v===null)return ri(u),null;if(C=(u.flags&128)!==0,N=v.rendering,N===null)if(C)Dv(v,!1);else{if(Di!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(N=Ds(l),N!==null){for(u.flags|=128,Dv(v,!1),l=N.updateQueue,u.updateQueue=l,pb(u,l),u.subtreeFlags=0,l=d,d=u.child;d!==null;)R0(d,l),d=d.sibling;return j(rr,rr.current&1|2),Kn&&Xa(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&Yt()>yb&&(u.flags|=128,C=!0,Dv(v,!1),u.lanes=4194304)}else{if(!C)if(l=Ds(N),l!==null){if(u.flags|=128,C=!0,l=l.updateQueue,u.updateQueue=l,pb(u,l),Dv(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Kn)return ri(u),null}else 2*Yt()-v.renderingStartTime>yb&&d!==536870912&&(u.flags|=128,C=!0,Dv(v,!1),u.lanes=4194304);v.isBackwards?(N.sibling=u.child,u.child=N):(l=v.last,l!==null?l.sibling=N:u.child=N,v.last=N)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Yt(),l.sibling=null,d=rr.current,j(rr,C?d&1|2:d&1),Kn&&Xa(u,v.treeForkCount),l):(ri(u),null);case 22:case 23:return Cr(u),qi(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(d&536870912)!==0&&(u.flags&128)===0&&(ri(u),u.subtreeFlags&6&&(u.flags|=8192)):ri(u),d=u.updateQueue,d!==null&&pb(u,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==d&&(u.flags|=2048),l!==null&&I(oe),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),_o(_i),ri(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function v7(l,u){switch(Xm(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return _o(_i),fe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Oe(u),null;case 31:if(u.memoizedState!==null){if(Cr(u),u.alternate===null)throw Error(r(340));Af()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Cr(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Af()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return I(rr),null;case 4:return fe(),null;case 10:return _o(u.type),null;case 22:case 23:return Cr(u),qi(),l!==null&&I(oe),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return _o(_i),null;case 25:return null;default:return null}}function e3(l,u){switch(Xm(u),u.tag){case 3:_o(_i),fe();break;case 26:case 27:case 5:Oe(u);break;case 4:fe();break;case 31:u.memoizedState!==null&&Cr(u);break;case 13:Cr(u);break;case 19:I(rr);break;case 10:_o(u.type);break;case 22:case 23:Cr(u),qi(),l!==null&&I(oe);break;case 24:_o(_i)}}function Pv(l,u){try{var d=u.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var C=v.next;d=C;do{if((d.tag&l)===l){v=void 0;var N=d.create,V=d.inst;v=N(),V.destroy=v}d=d.next}while(d!==C)}}catch(he){Nr(u,u.return,he)}}function td(l,u,d){try{var v=u.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var N=C.next;v=N;do{if((v.tag&l)===l){var V=v.inst,he=V.destroy;if(he!==void 0){V.destroy=void 0,C=u;var Re=d,Ke=he;try{Ke()}catch(lt){Nr(C,Re,lt)}}}v=v.next}while(v!==N)}}catch(lt){Nr(u,u.return,lt)}}function t3(l){var u=l.updateQueue;if(u!==null){var d=l.stateNode;try{Li(u,d)}catch(v){Nr(l,l.return,v)}}}function n3(l,u,d){d.props=O0(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(v){Nr(l,u,v)}}function Ov(l,u){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof d=="function"?l.refCleanup=d(v):d.current=v}}catch(C){Nr(l,u,C)}}function ku(l,u){var d=l.ref,v=l.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(C){Nr(l,u,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Nr(l,u,C)}else d.current=null}function r3(l){var u=l.type,d=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(C){Nr(l,l.return,C)}}function Z5(l,u,d){try{var v=l.stateNode;U7(v,l.type,d,u),v[we]=u}catch(C){Nr(l,l.return,C)}}function i3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ld(l.type)||l.tag===4}function Q5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||i3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ld(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function eA(l,u,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(l),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Vo));else if(v!==4&&(v===27&&ld(l.type)&&(d=l.stateNode,u=null),l=l.child,l!==null))for(eA(l,u,d),l=l.sibling;l!==null;)eA(l,u,d),l=l.sibling}function mb(l,u,d){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?d.insertBefore(l,u):d.appendChild(l);else if(v!==4&&(v===27&&ld(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(mb(l,u,d),l=l.sibling;l!==null;)mb(l,u,d),l=l.sibling}function s3(l){var u=l.stateNode,d=l.memoizedProps;try{for(var v=l.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);ra(u,v,d),u[xe]=l,u[we]=d}catch(N){Nr(l,l.return,N)}}var Rf=!1,as=!1,tA=!1,a3=typeof WeakSet=="function"?WeakSet:Set,Ps=null;function x7(l,u){if(l=l.containerInfo,wA=Pb,l=Ec(l),Ml(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var C=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,he=-1,Re=-1,Ke=0,lt=0,dt=l,Je=null;t:for(;;){for(var Ze;dt!==d||C!==0&&dt.nodeType!==3||(he=V+C),dt!==N||v!==0&&dt.nodeType!==3||(Re=V+v),dt.nodeType===3&&(V+=dt.nodeValue.length),(Ze=dt.firstChild)!==null;)Je=dt,dt=Ze;for(;;){if(dt===l)break t;if(Je===d&&++Ke===C&&(he=V),Je===N&&++lt===v&&(Re=V),(Ze=dt.nextSibling)!==null)break;dt=Je,Je=dt.parentNode}dt=Ze}d=he===-1||Re===-1?null:{start:he,end:Re}}else d=null}d=d||{start:0,end:0}}else d=null;for(AA={focusedElem:l,selectionRange:d},Pb=!1,Ps=u;Ps!==null;)if(u=Ps,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ps=l;else for(;Ps!==null;){switch(u=Ps,N=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)C=l[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,d=u,C=N.memoizedProps,N=N.memoizedState,v=d.stateNode;try{var qt=O0(d.type,C);l=v.getSnapshotBeforeUpdate(qt,N),v.__reactInternalSnapshotBeforeUpdate=l}catch(vn){Nr(d,d.return,vn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,d=l.nodeType,d===9)TA(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":TA(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Ps=l;break}Ps=u.return}}function o3(l,u,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:If(l,d),v&4&&Pv(5,d);break;case 1:if(If(l,d),v&4)if(l=d.stateNode,u===null)try{l.componentDidMount()}catch(V){Nr(d,d.return,V)}else{var C=O0(d.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(C,u,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Nr(d,d.return,V)}}v&64&&t3(d),v&512&&Ov(d,d.return);break;case 3:if(If(l,d),v&64&&(l=d.updateQueue,l!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Li(l,u)}catch(V){Nr(d,d.return,V)}}break;case 27:u===null&&v&4&&s3(d);case 26:case 5:If(l,d),u===null&&v&4&&r3(d),v&512&&Ov(d,d.return);break;case 12:If(l,d);break;case 31:If(l,d),v&4&&u3(l,d);break;case 13:If(l,d),v&4&&f3(l,d),v&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=C7.bind(null,d),X7(l,d))));break;case 22:if(v=d.memoizedState!==null||Rf,!v){u=u!==null&&u.memoizedState!==null||as,C=Rf;var N=as;Rf=v,(as=u)&&!N?Mf(l,d,(d.subtreeFlags&8772)!==0):If(l,d),Rf=C,as=N}break;case 30:break;default:If(l,d)}}function l3(l){var u=l.alternate;u!==null&&(l.alternate=null,l3(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&vt(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var di=null,Ao=!1;function Lf(l,u,d){for(d=d.child;d!==null;)c3(l,u,d),d=d.sibling}function c3(l,u,d){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Lt,d)}catch{}switch(d.tag){case 26:as||ku(d,u),Lf(l,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:as||ku(d,u);var v=di,C=Ao;ld(d.type)&&(di=d.stateNode,Ao=!1),Lf(l,u,d),Wv(d.stateNode),di=v,Ao=C;break;case 5:as||ku(d,u);case 6:if(v=di,C=Ao,di=null,Lf(l,u,d),di=v,Ao=C,di!==null)if(Ao)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(d.stateNode)}catch(N){Nr(d,u,N)}else try{di.removeChild(d.stateNode)}catch(N){Nr(d,u,N)}break;case 18:di!==null&&(Ao?(l=di,tk(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),xg(l)):tk(di,d.stateNode));break;case 4:v=di,C=Ao,di=d.stateNode.containerInfo,Ao=!0,Lf(l,u,d),di=v,Ao=C;break;case 0:case 11:case 14:case 15:td(2,d,u),as||td(4,d,u),Lf(l,u,d);break;case 1:as||(ku(d,u),v=d.stateNode,typeof v.componentWillUnmount=="function"&&n3(d,u,v)),Lf(l,u,d);break;case 21:Lf(l,u,d);break;case 22:as=(v=as)||d.memoizedState!==null,Lf(l,u,d),as=v;break;default:Lf(l,u,d)}}function u3(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{xg(l)}catch(d){Nr(u,u.return,d)}}}function f3(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{xg(l)}catch(d){Nr(u,u.return,d)}}function y7(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new a3),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new a3),u;default:throw Error(r(435,l.tag))}}function gb(l,u){var d=y7(l);u.forEach(function(v){if(!d.has(v)){d.add(v);var C=k7.bind(null,l,v);v.then(C,C)}})}function So(l,u){var d=u.deletions;if(d!==null)for(var v=0;v<d.length;v++){var C=d[v],N=l,V=u,he=V;e:for(;he!==null;){switch(he.tag){case 27:if(ld(he.type)){di=he.stateNode,Ao=!1;break e}break;case 5:di=he.stateNode,Ao=!1;break e;case 3:case 4:di=he.stateNode.containerInfo,Ao=!0;break e}he=he.return}if(di===null)throw Error(r(160));c3(N,V,C),di=null,Ao=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)h3(u,l),u=u.sibling}var Mc=null;function h3(l,u){var d=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:So(u,l),Eo(l),v&4&&(td(3,l,l.return),Pv(3,l),td(5,l,l.return));break;case 1:So(u,l),Eo(l),v&512&&(as||d===null||ku(d,d.return)),v&64&&Rf&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var C=Mc;if(So(u,l),Eo(l),v&512&&(as||d===null||ku(d,d.return)),v&4){var N=d!==null?d.memoizedState:null;if(v=l.memoizedState,d===null)if(v===null)if(l.stateNode===null){e:{v=l.type,d=l.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":N=C.getElementsByTagName("title")[0],(!N||N[Ye]||N[xe]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(v),C.head.insertBefore(N,C.querySelector("head > title"))),ra(N,v,d),N[xe]=l,Bt(N),v=N;break e;case"link":var V=hk("link","href",C).get(v+(d.href||""));if(V){for(var he=0;he<V.length;he++)if(N=V[he],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(he,1);break t}}N=C.createElement(v),ra(N,v,d),C.head.appendChild(N);break;case"meta":if(V=hk("meta","content",C).get(v+(d.content||""))){for(he=0;he<V.length;he++)if(N=V[he],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(he,1);break t}}N=C.createElement(v),ra(N,v,d),C.head.appendChild(N);break;default:throw Error(r(468,v))}N[xe]=l,Bt(N),v=N}l.stateNode=v}else dk(C,l.type,l.stateNode);else l.stateNode=fk(C,v,l.memoizedProps);else N!==v?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,v===null?dk(C,l.type,l.stateNode):fk(C,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Z5(l,l.memoizedProps,d.memoizedProps)}break;case 27:So(u,l),Eo(l),v&512&&(as||d===null||ku(d,d.return)),d!==null&&v&4&&Z5(l,l.memoizedProps,d.memoizedProps);break;case 5:if(So(u,l),Eo(l),v&512&&(as||d===null||ku(d,d.return)),l.flags&32){C=l.stateNode;try{qo(C,"")}catch(qt){Nr(l,l.return,qt)}}v&4&&l.stateNode!=null&&(C=l.memoizedProps,Z5(l,C,d!==null?d.memoizedProps:C)),v&1024&&(tA=!0);break;case 6:if(So(u,l),Eo(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,d=l.stateNode;try{d.nodeValue=v}catch(qt){Nr(l,l.return,qt)}}break;case 3:if(Ib=null,C=Mc,Mc=Rb(u.containerInfo),So(u,l),Mc=C,Eo(l),v&4&&d!==null&&d.memoizedState.isDehydrated)try{xg(u.containerInfo)}catch(qt){Nr(l,l.return,qt)}tA&&(tA=!1,d3(l));break;case 4:v=Mc,Mc=Rb(l.stateNode.containerInfo),So(u,l),Eo(l),Mc=v;break;case 12:So(u,l),Eo(l);break;case 31:So(u,l),Eo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,gb(l,v)));break;case 13:So(u,l),Eo(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(xb=Yt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,gb(l,v)));break;case 22:C=l.memoizedState!==null;var Re=d!==null&&d.memoizedState!==null,Ke=Rf,lt=as;if(Rf=Ke||C,as=lt||Re,So(u,l),as=lt,Rf=Ke,Eo(l),v&8192)e:for(u=l.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(d===null||Re||Rf||as||B0(l)),d=null,u=l;;){if(u.tag===5||u.tag===26){if(d===null){Re=d=u;try{if(N=Re.stateNode,C)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{he=Re.stateNode;var dt=Re.memoizedProps.style,Je=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;he.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(qt){Nr(Re,Re.return,qt)}}}else if(u.tag===6){if(d===null){Re=u;try{Re.stateNode.nodeValue=C?"":Re.memoizedProps}catch(qt){Nr(Re,Re.return,qt)}}}else if(u.tag===18){if(d===null){Re=u;try{var Ze=Re.stateNode;C?nk(Ze,!0):nk(Re.stateNode,!1)}catch(qt){Nr(Re,Re.return,qt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,gb(l,d))));break;case 19:So(u,l),Eo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,gb(l,v)));break;case 30:break;case 21:break;default:So(u,l),Eo(l)}}function Eo(l){var u=l.flags;if(u&2){try{for(var d,v=l.return;v!==null;){if(i3(v)){d=v;break}v=v.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var C=d.stateNode,N=Q5(l);mb(l,N,C);break;case 5:var V=d.stateNode;d.flags&32&&(qo(V,""),d.flags&=-33);var he=Q5(l);mb(l,he,V);break;case 3:case 4:var Re=d.stateNode.containerInfo,Ke=Q5(l);eA(l,Ke,Re);break;default:throw Error(r(161))}}catch(lt){Nr(l,l.return,lt)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function d3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;d3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function If(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)o3(l,u.alternate,u),u=u.sibling}function B0(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:td(4,u,u.return),B0(u);break;case 1:ku(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&n3(u,u.return,d),B0(u);break;case 27:Wv(u.stateNode);case 26:case 5:ku(u,u.return),B0(u);break;case 22:u.memoizedState===null&&B0(u);break;case 30:B0(u);break;default:B0(u)}l=l.sibling}}function Mf(l,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,C=l,N=u,V=N.flags;switch(N.tag){case 0:case 11:case 15:Mf(C,N,d),Pv(4,N);break;case 1:if(Mf(C,N,d),v=N,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ke){Nr(v,v.return,Ke)}if(v=N,C=v.updateQueue,C!==null){var he=v.stateNode;try{var Re=C.shared.hiddenCallbacks;if(Re!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Re.length;C++)Fs(Re[C],he)}catch(Ke){Nr(v,v.return,Ke)}}d&&V&64&&t3(N),Ov(N,N.return);break;case 27:s3(N);case 26:case 5:Mf(C,N,d),d&&v===null&&V&4&&r3(N),Ov(N,N.return);break;case 12:Mf(C,N,d);break;case 31:Mf(C,N,d),d&&V&4&&u3(C,N);break;case 13:Mf(C,N,d),d&&V&4&&f3(C,N);break;case 22:N.memoizedState===null&&Mf(C,N,d),Ov(N,N.return);break;case 30:break;default:Mf(C,N,d)}u=u.sibling}}function nA(l,u){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&M0(d))}function rA(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&M0(l))}function Fc(l,u,d,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)p3(l,u,d,v),u=u.sibling}function p3(l,u,d,v){var C=u.flags;switch(u.tag){case 0:case 11:case 15:Fc(l,u,d,v),C&2048&&Pv(9,u);break;case 1:Fc(l,u,d,v);break;case 3:Fc(l,u,d,v),C&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&M0(l)));break;case 12:if(C&2048){Fc(l,u,d,v),l=u.stateNode;try{var N=u.memoizedProps,V=N.id,he=N.onPostCommit;typeof he=="function"&&he(V,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Re){Nr(u,u.return,Re)}}else Fc(l,u,d,v);break;case 31:Fc(l,u,d,v);break;case 13:Fc(l,u,d,v);break;case 23:break;case 22:N=u.stateNode,V=u.alternate,u.memoizedState!==null?N._visibility&2?Fc(l,u,d,v):Bv(l,u):N._visibility&2?Fc(l,u,d,v):(N._visibility|=2,og(l,u,d,v,(u.subtreeFlags&10256)!==0||!1)),C&2048&&nA(V,u);break;case 24:Fc(l,u,d,v),C&2048&&rA(u.alternate,u);break;default:Fc(l,u,d,v)}}function og(l,u,d,v,C){for(C=C&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var N=l,V=u,he=d,Re=v,Ke=V.flags;switch(V.tag){case 0:case 11:case 15:og(N,V,he,Re,C),Pv(8,V);break;case 23:break;case 22:var lt=V.stateNode;V.memoizedState!==null?lt._visibility&2?og(N,V,he,Re,C):Bv(N,V):(lt._visibility|=2,og(N,V,he,Re,C)),C&&Ke&2048&&nA(V.alternate,V);break;case 24:og(N,V,he,Re,C),C&&Ke&2048&&rA(V.alternate,V);break;default:og(N,V,he,Re,C)}u=u.sibling}}function Bv(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=l,v=u,C=v.flags;switch(v.tag){case 22:Bv(d,v),C&2048&&nA(v.alternate,v);break;case 24:Bv(d,v),C&2048&&rA(v.alternate,v);break;default:Bv(d,v)}u=u.sibling}}var Uv=8192;function lg(l,u,d){if(l.subtreeFlags&Uv)for(l=l.child;l!==null;)m3(l,u,d),l=l.sibling}function m3(l,u,d){switch(l.tag){case 26:lg(l,u,d),l.flags&Uv&&l.memoizedState!==null&&sO(d,Mc,l.memoizedState,l.memoizedProps);break;case 5:lg(l,u,d);break;case 3:case 4:var v=Mc;Mc=Rb(l.stateNode.containerInfo),lg(l,u,d),Mc=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=Uv,Uv=16777216,lg(l,u,d),Uv=v):lg(l,u,d));break;default:lg(l,u,d)}}function g3(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Hv(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var v=u[d];Ps=v,x3(v,l)}g3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)v3(l),l=l.sibling}function v3(l){switch(l.tag){case 0:case 11:case 15:Hv(l),l.flags&2048&&td(9,l,l.return);break;case 3:Hv(l);break;case 12:Hv(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,vb(l)):Hv(l);break;default:Hv(l)}}function vb(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var v=u[d];Ps=v,x3(v,l)}g3(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:td(8,u,u.return),vb(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,vb(u));break;default:vb(u)}l=l.sibling}}function x3(l,u){for(;Ps!==null;){var d=Ps;switch(d.tag){case 0:case 11:case 15:td(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:M0(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Ps=v;else e:for(d=l;Ps!==null;){v=Ps;var C=v.sibling,N=v.return;if(l3(v),v===d){Ps=null;break e}if(C!==null){C.return=N,Ps=C;break e}Ps=N}}}var b7={getCacheForType:function(l){var u=_s(_i),d=u.data.get(l);return d===void 0&&(d=l(),u.data.set(l,d)),d},cacheSignal:function(){return _s(_i).controller.signal}},_7=typeof WeakMap=="function"?WeakMap:Map,Sr=0,Yr=null,Jn=null,Qn=0,kr=0,Zo=null,nd=!1,cg=!1,iA=!1,Ff=0,Di=0,rd=0,U0=0,sA=0,Qo=0,ug=0,zv=null,To=null,aA=!1,xb=0,y3=0,yb=1/0,bb=null,id=null,As=0,sd=null,fg=null,Df=0,oA=0,lA=null,b3=null,jv=0,cA=null;function el(){return(Sr&2)!==0&&Qn!==0?Qn&-Qn:K.T!==null?mA():te()}function _3(){if(Qo===0)if((Qn&536870912)===0||Kn){var l=br;br<<=1,(br&3932160)===0&&(br=262144),Qo=l}else Qo=536870912;return l=ni.current,l!==null&&(l.flags|=32),Qo}function Co(l,u,d){(l===Yr&&(kr===2||kr===9)||l.cancelPendingCommit!==null)&&(hg(l,0),ad(l,Qn,Qo,!1)),tn(l,d),((Sr&2)===0||l!==Yr)&&(l===Yr&&((Sr&2)===0&&(U0|=d),Di===4&&ad(l,Qn,Qo,!1)),Nu(l))}function w3(l,u,d){if((Sr&6)!==0)throw Error(r(327));var v=!d&&(u&127)===0&&(u&l.expiredLanes)===0||Ha(l,u),C=v?S7(l,u):fA(l,u,!0),N=v;do{if(C===0){cg&&!v&&ad(l,u,0,!1);break}else{if(d=l.current.alternate,N&&!w7(d)){C=fA(l,u,!1),N=!1;continue}if(C===2){if(N=u,l.errorRecoveryDisabledLanes&N)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var he=l;C=zv;var Re=he.current.memoizedState.isDehydrated;if(Re&&(hg(he,V).flags|=256),V=fA(he,V,!1),V!==2){if(iA&&!Re){he.errorRecoveryDisabledLanes|=N,U0|=N,C=4;break e}N=To,To=C,N!==null&&(To===null?To=N:To.push.apply(To,N))}C=V}if(N=!1,C!==2)continue}}if(C===1){hg(l,0),ad(l,u,0,!0);break}e:{switch(v=l,N=C,N){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:ad(v,u,Qo,!nd);break e;case 2:To=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(C=xb+300-Yt(),10<C)){if(ad(v,u,Qo,!nd),$n(v,0,!0)!==0)break e;Df=u,v.timeoutHandle=Q3(A3.bind(null,v,d,To,bb,aA,u,Qo,U0,ug,nd,N,"Throttled",-0,0),C);break e}A3(v,d,To,bb,aA,u,Qo,U0,ug,nd,N,null,-0,0)}}break}while(!0);Nu(l)}function A3(l,u,d,v,C,N,V,he,Re,Ke,lt,dt,Je,Ze){if(l.timeoutHandle=-1,dt=u.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vo},m3(u,N,dt);var qt=(N&62914560)===N?xb-Yt():(N&4194048)===N?y3-Yt():0;if(qt=aO(dt,qt),qt!==null){Df=N,l.cancelPendingCommit=qt(L3.bind(null,l,u,N,d,v,C,V,he,Re,lt,dt,null,Je,Ze)),ad(l,N,V,!Ke);return}}L3(l,u,N,d,v,C,V,he,Re)}function w7(l){for(var u=l;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var C=d[v],N=C.getSnapshot;C=C.value;try{if(!vs(N(),C))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ad(l,u,d,v){u&=~sA,u&=~U0,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var C=u;0<C;){var N=31-Hn(C),V=1<<N;v[N]=-1,C&=~V}d!==0&&co(l,d,u)}function _b(){return(Sr&6)===0?(Gv(0),!1):!0}function uA(){if(Jn!==null){if(kr===0)var l=Jn.return;else l=Jn,Dl=bu=null,eg(l),pt=null,Wt=0,l=Jn;for(;l!==null;)e3(l.alternate,l),l=l.return;Jn=null}}function hg(l,u){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,j7(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),Df=0,uA(),Yr=l,Jn=d=mo(l.current,null),Qn=u,kr=0,Zo=null,nd=!1,cg=Ha(l,u),iA=!1,ug=Qo=sA=U0=rd=Di=0,To=zv=null,aA=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var C=31-Hn(v),N=1<<C;u|=l[C],v&=~N}return Ff=u,C0(),d}function S3(l,u){on=null,K.H=Mv,u===Ie||u===Ae?(u=ut(),kr=3):u===Xe?(u=ut(),kr=4):kr=u===j5?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Zo=u,Jn===null&&(Di=1,ub(l,go(u,l.current)))}function E3(){var l=ni.current;return l===null?!0:(Qn&4194048)===Qn?ar===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?l===ar:!1}function T3(){var l=K.H;return K.H=Mv,l===null?Mv:l}function C3(){var l=K.A;return K.A=b7,l}function wb(){Di=4,nd||(Qn&4194048)!==Qn&&ni.current!==null||(cg=!0),(rd&134217727)===0&&(U0&134217727)===0||Yr===null||ad(Yr,Qn,Qo,!1)}function fA(l,u,d){var v=Sr;Sr|=2;var C=T3(),N=C3();(Yr!==l||Qn!==u)&&(bb=null,hg(l,u)),u=!1;var V=Di;e:do try{if(kr!==0&&Jn!==null){var he=Jn,Re=Zo;switch(kr){case 8:uA(),V=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(u=!0);var Ke=kr;if(kr=0,Zo=null,dg(l,he,Re,Ke),d&&cg){V=0;break e}break;default:Ke=kr,kr=0,Zo=null,dg(l,he,Re,Ke)}}A7(),V=Di;break}catch(lt){S3(l,lt)}while(!0);return u&&l.shellSuspendCounter++,Dl=bu=null,Sr=v,K.H=C,K.A=N,Jn===null&&(Yr=null,Qn=0,C0()),V}function A7(){for(;Jn!==null;)k3(Jn)}function S7(l,u){var d=Sr;Sr|=2;var v=T3(),C=C3();Yr!==l||Qn!==u?(bb=null,yb=Yt()+500,hg(l,u)):cg=Ha(l,u);e:do try{if(kr!==0&&Jn!==null){u=Jn;var N=Zo;t:switch(kr){case 1:kr=0,Zo=null,dg(l,u,N,1);break;case 2:case 9:if(ze(N)){kr=0,Zo=null,N3(u);break}u=function(){kr!==2&&kr!==9||Yr!==l||(kr=7),Nu(l)},N.then(u,u);break e;case 3:kr=7;break e;case 4:kr=5;break e;case 7:ze(N)?(kr=0,Zo=null,N3(u)):(kr=0,Zo=null,dg(l,u,N,7));break;case 5:var V=null;switch(Jn.tag){case 26:V=Jn.memoizedState;case 5:case 27:var he=Jn;if(V?pk(V):he.stateNode.complete){kr=0,Zo=null;var Re=he.sibling;if(Re!==null)Jn=Re;else{var Ke=he.return;Ke!==null?(Jn=Ke,Ab(Ke)):Jn=null}break t}}kr=0,Zo=null,dg(l,u,N,5);break;case 6:kr=0,Zo=null,dg(l,u,N,6);break;case 8:uA(),Di=6;break e;default:throw Error(r(462))}}E7();break}catch(lt){S3(l,lt)}while(!0);return Dl=bu=null,K.H=v,K.A=C,Sr=d,Jn!==null?0:(Yr=null,Qn=0,C0(),Di)}function E7(){for(;Jn!==null&&!jt();)k3(Jn)}function k3(l){var u=ZC(l.alternate,l,Ff);l.memoizedProps=l.pendingProps,u===null?Ab(l):Jn=u}function N3(l){var u=l,d=u.alternate;switch(u.tag){case 15:case 0:u=WC(d,u,u.pendingProps,u.type,void 0,Qn);break;case 11:u=WC(d,u,u.pendingProps,u.type.render,u.ref,Qn);break;case 5:eg(u);default:e3(d,u),u=Jn=R0(u,Ff),u=ZC(d,u,Ff)}l.memoizedProps=l.pendingProps,u===null?Ab(l):Jn=u}function dg(l,u,d,v){Dl=bu=null,eg(u),pt=null,Wt=0;var C=u.return;try{if(d7(l,C,u,d,Qn)){Di=1,ub(l,go(d,l.current)),Jn=null;return}}catch(N){if(C!==null)throw Jn=C,N;Di=1,ub(l,go(d,l.current)),Jn=null;return}u.flags&32768?(Kn||v===1?l=!0:cg||(Qn&536870912)!==0?l=!1:(nd=l=!0,(v===2||v===9||v===3||v===6)&&(v=ni.current,v!==null&&v.tag===13&&(v.flags|=16384))),R3(u,l)):Ab(u)}function Ab(l){var u=l;do{if((u.flags&32768)!==0){R3(u,nd);return}l=u.return;var d=g7(u.alternate,u,Ff);if(d!==null){Jn=d;return}if(u=u.sibling,u!==null){Jn=u;return}Jn=u=l}while(u!==null);Di===0&&(Di=5)}function R3(l,u){do{var d=v7(l.alternate,l);if(d!==null){d.flags&=32767,Jn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(l=l.sibling,l!==null)){Jn=l;return}Jn=l=d}while(l!==null);Di=6,Jn=null}function L3(l,u,d,v,C,N,V,he,Re){l.cancelPendingCommit=null;do Sb();while(As!==0);if((Sr&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(N=u.lanes|u.childLanes,N|=Hm,Ho(l,d,N,V,he,Re),l===Yr&&(Jn=Yr=null,Qn=0),fg=u,sd=l,Df=d,oA=N,lA=C,b3=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,N7(Qt,function(){return P3(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=K.T,K.T=null,C=le.p,le.p=2,V=Sr,Sr|=4;try{x7(l,u,d)}finally{Sr=V,le.p=C,K.T=v}}As=1,I3(),M3(),F3()}}function I3(){if(As===1){As=0;var l=sd,u=fg,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var v=le.p;le.p=2;var C=Sr;Sr|=4;try{h3(u,l);var N=AA,V=Ec(l.containerInfo),he=N.focusedElem,Re=N.selectionRange;if(V!==he&&he&&he.ownerDocument&&Sc(he.ownerDocument.documentElement,he)){if(Re!==null&&Ml(he)){var Ke=Re.start,lt=Re.end;if(lt===void 0&&(lt=Ke),"selectionStart"in he)he.selectionStart=Ke,he.selectionEnd=Math.min(lt,he.value.length);else{var dt=he.ownerDocument||document,Je=dt&&dt.defaultView||window;if(Je.getSelection){var Ze=Je.getSelection(),qt=he.textContent.length,vn=Math.min(Re.start,qt),jr=Re.end===void 0?vn:Math.min(Re.end,qt);!Ze.extend&&vn>jr&&(V=jr,jr=vn,vn=V);var Ue=qh(he,vn),Me=qh(he,jr);if(Ue&&Me&&(Ze.rangeCount!==1||Ze.anchorNode!==Ue.node||Ze.anchorOffset!==Ue.offset||Ze.focusNode!==Me.node||Ze.focusOffset!==Me.offset)){var $e=dt.createRange();$e.setStart(Ue.node,Ue.offset),Ze.removeAllRanges(),vn>jr?(Ze.addRange($e),Ze.extend(Me.node,Me.offset)):($e.setEnd(Me.node,Me.offset),Ze.addRange($e))}}}}for(dt=[],Ze=he;Ze=Ze.parentNode;)Ze.nodeType===1&&dt.push({element:Ze,left:Ze.scrollLeft,top:Ze.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<dt.length;he++){var ft=dt[he];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}Pb=!!wA,AA=wA=null}finally{Sr=C,le.p=v,K.T=d}}l.current=u,As=2}}function M3(){if(As===2){As=0;var l=sd,u=fg,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var v=le.p;le.p=2;var C=Sr;Sr|=4;try{o3(l,u.alternate,u)}finally{Sr=C,le.p=v,K.T=d}}As=3}}function F3(){if(As===4||As===3){As=0,Mt();var l=sd,u=fg,d=Df,v=b3;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?As=5:(As=0,fg=sd=null,D3(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(id=null),ci(d),u=u.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Lt,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=K.T,C=le.p,le.p=2,K.T=null;try{for(var N=l.onRecoverableError,V=0;V<v.length;V++){var he=v[V];N(he.value,{componentStack:he.stack})}}finally{K.T=u,le.p=C}}(Df&3)!==0&&Sb(),Nu(l),C=l.pendingLanes,(d&261930)!==0&&(C&42)!==0?l===cA?jv++:(jv=0,cA=l):jv=0,Gv(0)}}function D3(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,M0(u)))}function Sb(){return I3(),M3(),F3(),P3()}function P3(){if(As!==5)return!1;var l=sd,u=oA;oA=0;var d=ci(Df),v=K.T,C=le.p;try{le.p=32>d?32:d,K.T=null,d=lA,lA=null;var N=sd,V=Df;if(As=0,fg=sd=null,Df=0,(Sr&6)!==0)throw Error(r(331));var he=Sr;if(Sr|=4,v3(N.current),p3(N,N.current,V,d),Sr=he,Gv(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Lt,N)}catch{}return!0}finally{le.p=C,K.T=v,D3(l,u)}}function O3(l,u,d){u=go(d,u),u=z5(l.stateNode,u,2),l=Mn(l,u,2),l!==null&&(tn(l,2),Nu(l))}function Nr(l,u,d){if(l.tag===3)O3(l,l,d);else for(;u!==null;){if(u.tag===3){O3(u,l,d);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(id===null||!id.has(v))){l=go(d,l),d=BC(2),v=Mn(u,d,2),v!==null&&(UC(d,v,u,l),tn(v,2),Nu(v));break}}u=u.return}}function hA(l,u,d){var v=l.pingCache;if(v===null){v=l.pingCache=new _7;var C=new Set;v.set(u,C)}else C=v.get(u),C===void 0&&(C=new Set,v.set(u,C));C.has(d)||(iA=!0,C.add(d),l=T7.bind(null,l,u,d),u.then(l,l))}function T7(l,u,d){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,Yr===l&&(Qn&d)===d&&(Di===4||Di===3&&(Qn&62914560)===Qn&&300>Yt()-xb?(Sr&2)===0&&hg(l,0):sA|=d,ug===Qn&&(ug=0)),Nu(l)}function B3(l,u){u===0&&(u=lo()),l=Cc(l,u),l!==null&&(tn(l,u),Nu(l))}function C7(l){var u=l.memoizedState,d=0;u!==null&&(d=u.retryLane),B3(l,d)}function k7(l,u){var d=0;switch(l.tag){case 31:case 13:var v=l.stateNode,C=l.memoizedState;C!==null&&(d=C.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),B3(l,d)}function N7(l,u){return kt(l,u)}var Eb=null,pg=null,dA=!1,Tb=!1,pA=!1,od=0;function Nu(l){l!==pg&&l.next===null&&(pg===null?Eb=pg=l:pg=pg.next=l),Tb=!0,dA||(dA=!0,L7())}function Gv(l,u){if(!pA&&Tb){pA=!0;do for(var d=!1,v=Eb;v!==null;){if(l!==0){var C=v.pendingLanes;if(C===0)var N=0;else{var V=v.suspendedLanes,he=v.pingedLanes;N=(1<<31-Hn(42|l)+1)-1,N&=C&~(V&~he),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,j3(v,N))}else N=Qn,N=$n(v,v===Yr?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||Ha(v,N)||(d=!0,j3(v,N));v=v.next}while(d);pA=!1}}function R7(){U3()}function U3(){Tb=dA=!1;var l=0;od!==0&&z7()&&(l=od);for(var u=Yt(),d=null,v=Eb;v!==null;){var C=v.next,N=H3(v,u);N===0?(v.next=null,d===null?Eb=C:d.next=C,C===null&&(pg=d)):(d=v,(l!==0||(N&3)!==0)&&(Tb=!0)),v=C}As!==0&&As!==5||Gv(l),od!==0&&(od=0)}function H3(l,u){for(var d=l.suspendedLanes,v=l.pingedLanes,C=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var V=31-Hn(N),he=1<<V,Re=C[V];Re===-1?((he&d)===0||(he&v)!==0)&&(C[V]=ts(he,u)):Re<=u&&(l.expiredLanes|=he),N&=~he}if(u=Yr,d=Qn,d=$n(l,l===u?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,d===0||l===u&&(kr===2||kr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&_t(v),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||Ha(l,d)){if(u=d&-d,u===l.callbackPriority)return u;switch(v!==null&&_t(v),ci(d)){case 2:case 8:d=En;break;case 32:d=Qt;break;case 268435456:d=je;break;default:d=Qt}return v=z3.bind(null,l),d=kt(d,v),l.callbackPriority=u,l.callbackNode=d,u}return v!==null&&v!==null&&_t(v),l.callbackPriority=2,l.callbackNode=null,2}function z3(l,u){if(As!==0&&As!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(Sb()&&l.callbackNode!==d)return null;var v=Qn;return v=$n(l,l===Yr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(w3(l,v,u),H3(l,Yt()),l.callbackNode!=null&&l.callbackNode===d?z3.bind(null,l):null)}function j3(l,u){if(Sb())return null;w3(l,u,!0)}function L7(){G7(function(){(Sr&6)!==0?kt(Kt,R7):U3()})}function mA(){if(od===0){var l=A;l===0&&(l=gn,gn<<=1,(gn&261888)===0&&(gn=256)),od=l}return od}function G3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:pa(""+l)}function q3(l,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,l.id&&d.setAttribute("form",l.id),u.parentNode.insertBefore(d,u),l=new FormData(l),d.parentNode.removeChild(d),l}function I7(l,u,d,v,C){if(u==="submit"&&d&&d.stateNode===C){var N=G3((C[we]||null).action),V=v.submitter;V&&(u=(u=V[we]||null)?G3(u.formAction):V.getAttribute("formAction"),u!==null&&(N=u,V=null));var he=new fo("action","action",null,v,C);l.push({event:he,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(od!==0){var Re=V?q3(C,V):new FormData(C);D5(d,{pending:!0,data:Re,method:C.method,action:N},null,Re)}}else typeof N=="function"&&(he.preventDefault(),Re=V?q3(C,V):new FormData(C),D5(d,{pending:!0,data:Re,method:C.method,action:N},N,Re))},currentTarget:C}]})}}for(var gA=0;gA<bf.length;gA++){var vA=bf[gA],M7=vA.toLowerCase(),F7=vA[0].toUpperCase()+vA.slice(1);po(M7,"on"+F7)}po(yf,"onAnimationEnd"),po(E0,"onAnimationIteration"),po(xv,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(Jy,"onTransitionRun"),po(Zy,"onTransitionStart"),po(Qy,"onTransitionCancel"),po(yv,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qv));function V3(l,u){u=(u&4)!==0;for(var d=0;d<l.length;d++){var v=l[d],C=v.event;v=v.listeners;e:{var N=void 0;if(u)for(var V=v.length-1;0<=V;V--){var he=v[V],Re=he.instance,Ke=he.currentTarget;if(he=he.listener,Re!==N&&C.isPropagationStopped())break e;N=he,C.currentTarget=Ke;try{N(C)}catch(lt){T0(lt)}C.currentTarget=null,N=Re}else for(V=0;V<v.length;V++){if(he=v[V],Re=he.instance,Ke=he.currentTarget,he=he.listener,Re!==N&&C.isPropagationStopped())break e;N=he,C.currentTarget=Ke;try{N(C)}catch(lt){T0(lt)}C.currentTarget=null,N=Re}}}}function Zn(l,u){var d=u[Ge];d===void 0&&(d=u[Ge]=new Set);var v=l+"__bubble";d.has(v)||(W3(u,l,2,!1),d.add(v))}function xA(l,u,d){var v=0;u&&(v|=4),W3(d,l,v,u)}var Cb="_reactListening"+Math.random().toString(36).slice(2);function yA(l){if(!l[Cb]){l[Cb]=!0,_r.forEach(function(d){d!=="selectionchange"&&(D7.has(d)||xA(d,!1,l),xA(d,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Cb]||(u[Cb]=!0,xA("selectionchange",!1,u))}}function W3(l,u,d,v){switch(_k(u)){case 2:var C=cO;break;case 8:C=uO;break;default:C=FA}d=C.bind(null,u,d,l),C=void 0,!b0||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),v?C!==void 0?l.addEventListener(u,d,{capture:!0,passive:C}):l.addEventListener(u,d,!0):C!==void 0?l.addEventListener(u,d,{passive:C}):l.addEventListener(u,d,!1)}function bA(l,u,d,v,C){var N=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var he=v.stateNode.containerInfo;if(he===C)break;if(V===4)for(V=v.return;V!==null;){var Re=V.tag;if((Re===3||Re===4)&&V.stateNode.containerInfo===C)return;V=V.return}for(;he!==null;){if(V=bt(he),V===null)return;if(Re=V.tag,Re===5||Re===6||Re===26||Re===27){v=N=V;continue e}he=he.parentNode}}v=v.return}Dm(function(){var Ke=N,lt=hf(d),dt=[];e:{var Je=bv.get(l);if(Je!==void 0){var Ze=fo,qt=l;switch(l){case"keypress":if(uo(d)===0)break e;case"keydown":case"keyup":Ze=tr;break;case"focusin":qt="focus",Ze=gc;break;case"focusout":qt="blur",Ze=gc;break;case"beforeblur":case"afterblur":Ze=gc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=_0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=ji;break;case yf:case E0:case xv:Ze=M;break;case yv:Ze=gs;break;case"scroll":case"scrollend":Ze=Oh;break;case"wheel":Ze=Wo;break;case"copy":case"cut":case"paste":Ze=ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=xi;break;case"toggle":case"beforetoggle":Ze=w0}var vn=(u&4)!==0,jr=!vn&&(l==="scroll"||l==="scrollend"),Ue=vn?Je!==null?Je+"Capture":null:Je;vn=[];for(var Me=Ke,$e;Me!==null;){var ft=Me;if($e=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||$e===null||Ue===null||(ft=ja(Me,Ue),ft!=null&&vn.push(Vv(Me,ft,$e))),jr)break;Me=Me.return}0<vn.length&&(Je=new Ze(Je,qt,null,d,lt),dt.push({event:Je,listeners:vn}))}}if((u&7)===0){e:{if(Je=l==="mouseover"||l==="pointerover",Ze=l==="mouseout"||l==="pointerout",Je&&d!==uc&&(qt=d.relatedTarget||d.fromElement)&&(bt(qt)||qt[Ne]))break e;if((Ze||Je)&&(Je=lt.window===lt?lt:(Je=lt.ownerDocument)?Je.defaultView||Je.parentWindow:window,Ze?(qt=d.relatedTarget||d.toElement,Ze=Ke,qt=qt?bt(qt):null,qt!==null&&(jr=s(qt),vn=qt.tag,qt!==jr||vn!==5&&vn!==27&&vn!==6)&&(qt=null)):(Ze=null,qt=Ke),Ze!==qt)){if(vn=_0,ft="onMouseLeave",Ue="onMouseEnter",Me="mouse",(l==="pointerout"||l==="pointerover")&&(vn=xi,ft="onPointerLeave",Ue="onPointerEnter",Me="pointer"),jr=Ze==null?Je:yt(Ze),$e=qt==null?Je:yt(qt),Je=new vn(ft,Me+"leave",Ze,d,lt),Je.target=jr,Je.relatedTarget=$e,ft=null,bt(lt)===Ke&&(vn=new vn(Ue,Me+"enter",qt,d,lt),vn.target=$e,vn.relatedTarget=jr,ft=vn),jr=ft,Ze&&qt)t:{for(vn=P7,Ue=Ze,Me=qt,$e=0,ft=Ue;ft;ft=vn(ft))$e++;ft=0;for(var cn=Me;cn;cn=vn(cn))ft++;for(;0<$e-ft;)Ue=vn(Ue),$e--;for(;0<ft-$e;)Me=vn(Me),ft--;for(;$e--;){if(Ue===Me||Me!==null&&Ue===Me.alternate){vn=Ue;break t}Ue=vn(Ue),Me=vn(Me)}vn=null}else vn=null;Ze!==null&&X3(dt,Je,Ze,vn,!1),qt!==null&&jr!==null&&X3(dt,jr,qt,vn,!0)}}e:{if(Je=Ke?yt(Ke):window,Ze=Je.nodeName&&Je.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Je.type==="file")var pr=gu;else if(A0(Je))if(ma)pr=Ll;else{pr=yi;var Zt=jh}else Ze=Je.nodeName,!Ze||Ze.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ke&&v0(Ke.elementType)&&(pr=gu):pr=Um;if(pr&&(pr=pr(l,Ke))){qa(dt,pr,d,lt);break e}Zt&&Zt(l,Je,Ke),l==="focusout"&&Ke&&Je.type==="number"&&Ke.memoizedProps.value!=null&&p0(Je,"number",Je.value)}switch(Zt=Ke?yt(Ke):window,l){case"focusin":(A0(Zt)||Zt.contentEditable==="true")&&(Va=Zt,Tc=Ke,Ls=null);break;case"focusout":Ls=Tc=Va=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,cr(dt,d,lt);break;case"selectionchange":if(xf)break;case"keydown":case"keyup":cr(dt,d,lt)}var Pn;if(Cl)e:{switch(l){case"compositionstart":var er="onCompositionStart";break e;case"compositionend":er="onCompositionEnd";break e;case"compositionupdate":er="onCompositionUpdate";break e}er=void 0}else kl?mu(l,d)&&(er="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(er="onCompositionStart");er&&(yc&&d.locale!=="ko"&&(kl||er!=="onCompositionStart"?er==="onCompositionEnd"&&kl&&(Pn=Pm()):(Ga=lt,pf="value"in Ga?Ga.value:Ga.textContent,kl=!0)),Zt=kb(Ke,er),0<Zt.length&&(er=new Be(er,l,null,d,lt),dt.push({event:er,listeners:Zt}),Pn?er.data=Pn:(Pn=Uh(d),Pn!==null&&(er.data=Pn)))),(Pn=vf?Zs(l,d):bc(l,d))&&(er=kb(Ke,"onBeforeInput"),0<er.length&&(Zt=new Be("onBeforeInput","beforeinput",null,d,lt),dt.push({event:Zt,listeners:er}),Zt.data=Pn)),I7(dt,l,Ke,d,lt)}V3(dt,u)})}function Vv(l,u,d){return{instance:l,listener:u,currentTarget:d}}function kb(l,u){for(var d=u+"Capture",v=[];l!==null;){var C=l,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=ja(l,d),C!=null&&v.unshift(Vv(l,C,N)),C=ja(l,u),C!=null&&v.push(Vv(l,C,N))),l.tag===3)return v;l=l.return}return[]}function P7(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function X3(l,u,d,v,C){for(var N=u._reactName,V=[];d!==null&&d!==v;){var he=d,Re=he.alternate,Ke=he.stateNode;if(he=he.tag,Re!==null&&Re===v)break;he!==5&&he!==26&&he!==27||Ke===null||(Re=Ke,C?(Ke=ja(d,N),Ke!=null&&V.unshift(Vv(d,Ke,Re))):C||(Ke=ja(d,N),Ke!=null&&V.push(Vv(d,Ke,Re)))),d=d.return}V.length!==0&&l.push({event:u,listeners:V})}var O7=/\r\n?/g,B7=/\u0000|\uFFFD/g;function Y3(l){return(typeof l=="string"?l:""+l).replace(O7,`
`).replace(B7,"")}function $3(l,u){return u=Y3(u),Y3(l)===u}function zr(l,u,d,v,C,N){switch(d){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||qo(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&qo(l,""+v);break;case"className":cc(l,"class",v);break;case"tabIndex":cc(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":cc(l,d,v);break;case"style":Im(l,v,N);break;case"data":if(u!=="object"){cc(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||d!=="href")){l.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=pa(""+v),l.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(u!=="input"&&zr(l,u,"name",C.name,C,null),zr(l,u,"formEncType",C.formEncType,C,null),zr(l,u,"formMethod",C.formMethod,C,null),zr(l,u,"formTarget",C.formTarget,C,null)):(zr(l,u,"encType",C.encType,C,null),zr(l,u,"method",C.method,C,null),zr(l,u,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(d);break}v=pa(""+v),l.setAttribute(d,v);break;case"onClick":v!=null&&(l.onclick=Vo);break;case"onScroll":v!=null&&Zn("scroll",l);break;case"onScrollEnd":v!=null&&Zn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}d=pa(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""+v):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":v===!0?l.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(d,v):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(d,v):l.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(d):l.setAttribute(d,v);break;case"popover":Zn("beforetoggle",l),Zn("toggle",l),Zr(l,"popover",v);break;case"xlinkActuate":Go(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Go(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Go(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Go(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Go(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Go(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Go(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Go(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Go(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Zr(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=x0.get(d)||d,Zr(l,d,v))}}function _A(l,u,d,v,C,N){switch(d){case"style":Im(l,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(d=v.__html,d!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof v=="string"?qo(l,v):(typeof v=="number"||typeof v=="bigint")&&qo(l,""+v);break;case"onScroll":v!=null&&Zn("scroll",l);break;case"onScrollEnd":v!=null&&Zn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),u=d.slice(2,C?d.length-7:void 0),N=l[we]||null,N=N!=null?N[d]:null,typeof N=="function"&&l.removeEventListener(u,N,C),typeof v=="function")){typeof N!="function"&&N!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(u,v,C);break e}d in l?l[d]=v:v===!0?l.setAttribute(d,""):Zr(l,d,v)}}}function ra(l,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zn("error",l),Zn("load",l);var v=!1,C=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:zr(l,u,N,V,d,null)}}C&&zr(l,u,"srcSet",d.srcSet,d,null),v&&zr(l,u,"src",d.src,d,null);return;case"input":Zn("invalid",l);var he=N=V=C=null,Re=null,Ke=null;for(v in d)if(d.hasOwnProperty(v)){var lt=d[v];if(lt!=null)switch(v){case"name":C=lt;break;case"type":V=lt;break;case"checked":Re=lt;break;case"defaultChecked":Ke=lt;break;case"value":N=lt;break;case"defaultValue":he=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,u));break;default:zr(l,u,v,lt,d,null)}}Rm(l,N,he,Re,Ke,V,C,!1);return;case"select":Zn("invalid",l),v=V=N=null;for(C in d)if(d.hasOwnProperty(C)&&(he=d[C],he!=null))switch(C){case"value":N=he;break;case"defaultValue":V=he;break;case"multiple":v=he;default:zr(l,u,C,he,d,null)}u=N,d=V,l.multiple=!!v,u!=null?Js(l,!!v,u,!1):d!=null&&Js(l,!!v,d,!0);return;case"textarea":Zn("invalid",l),N=C=v=null;for(V in d)if(d.hasOwnProperty(V)&&(he=d[V],he!=null))switch(V){case"value":v=he;break;case"defaultValue":C=he;break;case"children":N=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:zr(l,u,V,he,d,null)}g0(l,v,C,N);return;case"option":for(Re in d)if(d.hasOwnProperty(Re)&&(v=d[Re],v!=null))switch(Re){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:zr(l,u,Re,v,d,null)}return;case"dialog":Zn("beforetoggle",l),Zn("toggle",l),Zn("cancel",l),Zn("close",l);break;case"iframe":case"object":Zn("load",l);break;case"video":case"audio":for(v=0;v<qv.length;v++)Zn(qv[v],l);break;case"image":Zn("error",l),Zn("load",l);break;case"details":Zn("toggle",l);break;case"embed":case"source":case"link":Zn("error",l),Zn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in d)if(d.hasOwnProperty(Ke)&&(v=d[Ke],v!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:zr(l,u,Ke,v,d,null)}return;default:if(v0(u)){for(lt in d)d.hasOwnProperty(lt)&&(v=d[lt],v!==void 0&&_A(l,u,lt,v,d,void 0));return}}for(he in d)d.hasOwnProperty(he)&&(v=d[he],v!=null&&zr(l,u,he,v,d,null))}function U7(l,u,d,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,V=null,he=null,Re=null,Ke=null,lt=null;for(Ze in d){var dt=d[Ze];if(d.hasOwnProperty(Ze)&&dt!=null)switch(Ze){case"checked":break;case"value":break;case"defaultValue":Re=dt;default:v.hasOwnProperty(Ze)||zr(l,u,Ze,null,v,dt)}}for(var Je in v){var Ze=v[Je];if(dt=d[Je],v.hasOwnProperty(Je)&&(Ze!=null||dt!=null))switch(Je){case"type":N=Ze;break;case"name":C=Ze;break;case"checked":Ke=Ze;break;case"defaultChecked":lt=Ze;break;case"value":V=Ze;break;case"defaultValue":he=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,u));break;default:Ze!==dt&&zr(l,u,Je,Ze,v,dt)}}Fh(l,V,he,Re,Ke,lt,N,C);return;case"select":Ze=V=he=Je=null;for(N in d)if(Re=d[N],d.hasOwnProperty(N)&&Re!=null)switch(N){case"value":break;case"multiple":Ze=Re;default:v.hasOwnProperty(N)||zr(l,u,N,null,v,Re)}for(C in v)if(N=v[C],Re=d[C],v.hasOwnProperty(C)&&(N!=null||Re!=null))switch(C){case"value":Je=N;break;case"defaultValue":he=N;break;case"multiple":V=N;default:N!==Re&&zr(l,u,C,N,v,Re)}u=he,d=V,v=Ze,Je!=null?Js(l,!!d,Je,!1):!!v!=!!d&&(u!=null?Js(l,!!d,u,!0):Js(l,!!d,d?[]:"",!1));return;case"textarea":Ze=Je=null;for(he in d)if(C=d[he],d.hasOwnProperty(he)&&C!=null&&!v.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:zr(l,u,he,null,v,C)}for(V in v)if(C=v[V],N=d[V],v.hasOwnProperty(V)&&(C!=null||N!=null))switch(V){case"value":Je=C;break;case"defaultValue":Ze=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==N&&zr(l,u,V,C,v,N)}m0(l,Je,Ze);return;case"option":for(var qt in d)if(Je=d[qt],d.hasOwnProperty(qt)&&Je!=null&&!v.hasOwnProperty(qt))switch(qt){case"selected":l.selected=!1;break;default:zr(l,u,qt,null,v,Je)}for(Re in v)if(Je=v[Re],Ze=d[Re],v.hasOwnProperty(Re)&&Je!==Ze&&(Je!=null||Ze!=null))switch(Re){case"selected":l.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:zr(l,u,Re,Je,v,Ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vn in d)Je=d[vn],d.hasOwnProperty(vn)&&Je!=null&&!v.hasOwnProperty(vn)&&zr(l,u,vn,null,v,Je);for(Ke in v)if(Je=v[Ke],Ze=d[Ke],v.hasOwnProperty(Ke)&&Je!==Ze&&(Je!=null||Ze!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,u));break;default:zr(l,u,Ke,Je,v,Ze)}return;default:if(v0(u)){for(var jr in d)Je=d[jr],d.hasOwnProperty(jr)&&Je!==void 0&&!v.hasOwnProperty(jr)&&_A(l,u,jr,void 0,v,Je);for(lt in v)Je=v[lt],Ze=d[lt],!v.hasOwnProperty(lt)||Je===Ze||Je===void 0&&Ze===void 0||_A(l,u,lt,Je,v,Ze);return}}for(var Ue in d)Je=d[Ue],d.hasOwnProperty(Ue)&&Je!=null&&!v.hasOwnProperty(Ue)&&zr(l,u,Ue,null,v,Je);for(dt in v)Je=v[dt],Ze=d[dt],!v.hasOwnProperty(dt)||Je===Ze||Je==null&&Ze==null||zr(l,u,dt,Je,v,Ze)}function K3(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H7(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var C=d[v],N=C.transferSize,V=C.initiatorType,he=C.duration;if(N&&he&&K3(V)){for(V=0,he=C.responseEnd,v+=1;v<d.length;v++){var Re=d[v],Ke=Re.startTime;if(Ke>he)break;var lt=Re.transferSize,dt=Re.initiatorType;lt&&K3(dt)&&(Re=Re.responseEnd,V+=lt*(Re<he?1:(he-Ke)/(Re-Ke)))}if(--v,u+=8*(N+V)/(C.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var wA=null,AA=null;function Nb(l){return l.nodeType===9?l:l.ownerDocument}function J3(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z3(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function SA(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var EA=null;function z7(){var l=window.event;return l&&l.type==="popstate"?l===EA?!1:(EA=l,!0):(EA=null,!1)}var Q3=typeof setTimeout=="function"?setTimeout:void 0,j7=typeof clearTimeout=="function"?clearTimeout:void 0,ek=typeof Promise=="function"?Promise:void 0,G7=typeof queueMicrotask=="function"?queueMicrotask:typeof ek<"u"?function(l){return ek.resolve(null).then(l).catch(q7)}:Q3;function q7(l){setTimeout(function(){throw l})}function ld(l){return l==="head"}function tk(l,u){var d=u,v=0;do{var C=d.nextSibling;if(l.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(v===0){l.removeChild(C),xg(u);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Wv(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,Wv(d);for(var N=d.firstChild;N;){var V=N.nextSibling,he=N.nodeName;N[Ye]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Wv(l.ownerDocument.body);d=C}while(d);xg(u)}function nk(l,u){var d=l;l=0;do{var v=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=v}while(d)}function TA(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":TA(d),vt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function V7(l,u,d,v){for(;l.nodeType===1;){var C=d;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ye])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=Bl(l.nextSibling),l===null)break}return null}function W7(l,u,d){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=Bl(l.nextSibling),l===null))return null;return l}function rk(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=Bl(l.nextSibling),l===null))return null;return l}function CA(l){return l.data==="$?"||l.data==="$~"}function kA(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function X7(l,u){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||d.readyState!=="loading")u();else{var v=function(){u(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Bl(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var NA=null;function ik(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(u===0)return Bl(l.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}l=l.nextSibling}return null}function sk(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return l;u--}else d!=="/$"&&d!=="/&"||u++}l=l.previousSibling}return null}function ak(l,u,d){switch(u=Nb(d),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Wv(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);vt(l)}var Ul=new Map,ok=new Set;function Rb(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Pf=le.d;le.d={f:Y7,r:$7,D:K7,C:J7,L:Z7,m:Q7,X:tO,S:eO,M:nO};function Y7(){var l=Pf.f(),u=_b();return l||u}function $7(l){var u=Tt(l);u!==null&&u.tag===5&&u.type==="form"?SC(u):Pf.r(l)}var mg=typeof document>"u"?null:document;function lk(l,u,d){var v=mg;if(v&&typeof u=="string"&&u){var C=ki(u);C='link[rel="'+l+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),ok.has(C)||(ok.add(C),l={rel:l,crossOrigin:d,href:u},v.querySelector(C)===null&&(u=v.createElement("link"),ra(u,"link",l),Bt(u),v.head.appendChild(u)))}}function K7(l){Pf.D(l),lk("dns-prefetch",l,null)}function J7(l,u){Pf.C(l,u),lk("preconnect",l,u)}function Z7(l,u,d){Pf.L(l,u,d);var v=mg;if(v&&l&&u){var C='link[rel="preload"][as="'+ki(u)+'"]';u==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+ki(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+ki(d.imageSizes)+'"]')):C+='[href="'+ki(l)+'"]';var N=C;switch(u){case"style":N=gg(l);break;case"script":N=vg(l)}Ul.has(N)||(l=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:l,as:u},d),Ul.set(N,l),v.querySelector(C)!==null||u==="style"&&v.querySelector(Xv(N))||u==="script"&&v.querySelector(Yv(N))||(u=v.createElement("link"),ra(u,"link",l),Bt(u),v.head.appendChild(u)))}}function Q7(l,u){Pf.m(l,u);var d=mg;if(d&&l){var v=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+ki(v)+'"][href="'+ki(l)+'"]',N=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=vg(l)}if(!Ul.has(N)&&(l=p({rel:"modulepreload",href:l},u),Ul.set(N,l),d.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Yv(N)))return}v=d.createElement("link"),ra(v,"link",l),Bt(v),d.head.appendChild(v)}}}function eO(l,u,d){Pf.S(l,u,d);var v=mg;if(v&&l){var C=At(v).hoistableStyles,N=gg(l);u=u||"default";var V=C.get(N);if(!V){var he={loading:0,preload:null};if(V=v.querySelector(Xv(N)))he.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},d),(d=Ul.get(N))&&RA(l,d);var Re=V=v.createElement("link");Bt(Re),ra(Re,"link",l),Re._p=new Promise(function(Ke,lt){Re.onload=Ke,Re.onerror=lt}),Re.addEventListener("load",function(){he.loading|=1}),Re.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Lb(V,u,v)}V={type:"stylesheet",instance:V,count:1,state:he},C.set(N,V)}}}function tO(l,u){Pf.X(l,u);var d=mg;if(d&&l){var v=At(d).hoistableScripts,C=vg(l),N=v.get(C);N||(N=d.querySelector(Yv(C)),N||(l=p({src:l,async:!0},u),(u=Ul.get(C))&&LA(l,u),N=d.createElement("script"),Bt(N),ra(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(C,N))}}function nO(l,u){Pf.M(l,u);var d=mg;if(d&&l){var v=At(d).hoistableScripts,C=vg(l),N=v.get(C);N||(N=d.querySelector(Yv(C)),N||(l=p({src:l,async:!0,type:"module"},u),(u=Ul.get(C))&&LA(l,u),N=d.createElement("script"),Bt(N),ra(N,"link",l),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(C,N))}}function ck(l,u,d,v){var C=(C=ae.current)?Rb(C):null;if(!C)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=gg(d.href),d=At(C).hoistableStyles,v=d.get(u),v||(v={type:"style",instance:null,count:0,state:null},d.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=gg(d.href);var N=At(C).hoistableStyles,V=N.get(l);if(V||(C=C.ownerDocument||C,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,V),(N=C.querySelector(Xv(l)))&&!N._p&&(V.instance=N,V.state.loading=5),Ul.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ul.set(l,d),N||rO(C,l,d,V.state))),u&&v===null)throw Error(r(528,""));return V}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=vg(d),d=At(C).hoistableScripts,v=d.get(u),v||(v={type:"script",instance:null,count:0,state:null},d.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function gg(l){return'href="'+ki(l)+'"'}function Xv(l){return'link[rel="stylesheet"]['+l+"]"}function uk(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function rO(l,u,d,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),ra(u,"link",d),Bt(u),l.head.appendChild(u))}function vg(l){return'[src="'+ki(l)+'"]'}function Yv(l){return"script[async]"+l}function fk(l,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+ki(d.href)+'"]');if(v)return u.instance=v,Bt(v),v;var C=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Bt(v),ra(v,"style",C),Lb(v,d.precedence,l),u.instance=v;case"stylesheet":C=gg(d.href);var N=l.querySelector(Xv(C));if(N)return u.state.loading|=4,u.instance=N,Bt(N),N;v=uk(d),(C=Ul.get(C))&&RA(v,C),N=(l.ownerDocument||l).createElement("link"),Bt(N);var V=N;return V._p=new Promise(function(he,Re){V.onload=he,V.onerror=Re}),ra(N,"link",v),u.state.loading|=4,Lb(N,d.precedence,l),u.instance=N;case"script":return N=vg(d.src),(C=l.querySelector(Yv(N)))?(u.instance=C,Bt(C),C):(v=d,(C=Ul.get(N))&&(v=p({},d),LA(v,C)),l=l.ownerDocument||l,C=l.createElement("script"),Bt(C),ra(C,"link",v),l.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Lb(v,d.precedence,l));return u.instance}function Lb(l,u,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,N=C,V=0;V<v.length;V++){var he=v[V];if(he.dataset.precedence===u)N=he;else if(N!==C)break}N?N.parentNode.insertBefore(l,N.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(l,u.firstChild))}function RA(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function LA(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Ib=null;function hk(l,u,d){if(Ib===null){var v=new Map,C=Ib=new Map;C.set(d,v)}else C=Ib,v=C.get(d),v||(v=new Map,C.set(d,v));if(v.has(l))return v;for(v.set(l,null),d=d.getElementsByTagName(l),C=0;C<d.length;C++){var N=d[C];if(!(N[Ye]||N[xe]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(u)||"";V=l+V;var he=v.get(V);he?he.push(N):v.set(V,[N])}}return v}function dk(l,u,d){l=l.ownerDocument||l,l.head.insertBefore(d,u==="title"?l.querySelector("head > title"):null)}function iO(l,u,d){if(d===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function pk(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function sO(l,u,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=gg(v.href),N=u.querySelector(Xv(C));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Mb.bind(l),u.then(l,l)),d.state.loading|=4,d.instance=N,Bt(N);return}N=u.ownerDocument||u,v=uk(v),(C=Ul.get(C))&&RA(v,C),N=N.createElement("link"),Bt(N);var V=N;V._p=new Promise(function(he,Re){V.onload=he,V.onerror=Re}),ra(N,"link",v),d.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=Mb.bind(l),u.addEventListener("load",d),u.addEventListener("error",d))}}var IA=0;function aO(l,u){return l.stylesheets&&l.count===0&&Db(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var v=setTimeout(function(){if(l.stylesheets&&Db(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+u);0<l.imgBytes&&IA===0&&(IA=62500*H7());var C=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Db(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>IA?50:800)+u);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(C)}}:null}function Mb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Db(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Fb=null;function Db(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Fb=new Map,u.forEach(oO,l),Fb=null,Mb.call(l))}function oO(l,u){if(!(u.state.loading&4)){var d=Fb.get(l);if(d)var v=d.get(null);else{d=new Map,Fb.set(l,d);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var V=C[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),v=V)}v&&d.set(null,v)}C=u.instance,V=C.getAttribute("data-precedence"),N=d.get(V)||v,N===v&&d.set(null,C),d.set(V,C),this.count++,v=Mb.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),N?N.parentNode.insertBefore(C,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),u.state.loading|=4}}var $v={$$typeof:R,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function lO(l,u,d,v,C,N,V,he,Re){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function mk(l,u,d,v,C,N,V,he,Re,Ke,lt,dt){return l=new lO(l,u,d,V,Re,Ke,lt,dt,he),u=1,N===!0&&(u|=24),N=Ms(3,null,null,u),l.current=N,N.stateNode=l,u=Kh(),u.refCount++,l.pooledCache=u,u.refCount++,N.memoizedState={element:v,isDehydrated:d,cache:u},Et(N),l}function gk(l){return l?(l=xs,l):xs}function vk(l,u,d,v,C,N){C=gk(C),v.context===null?v.context=C:v.pendingContext=C,v=mn(u),v.payload={element:d},N=N===void 0?null:N,N!==null&&(v.callback=N),d=Mn(l,v,u),d!==null&&(Co(d,l,u),wr(d,l,u))}function xk(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<u?d:u}}function MA(l,u){xk(l,u),(l=l.alternate)&&xk(l,u)}function yk(l){if(l.tag===13||l.tag===31){var u=Cc(l,67108864);u!==null&&Co(u,l,67108864),MA(l,67108864)}}function bk(l){if(l.tag===13||l.tag===31){var u=el();u=Pr(u);var d=Cc(l,u);d!==null&&Co(d,l,u),MA(l,u)}}var Pb=!0;function cO(l,u,d,v){var C=K.T;K.T=null;var N=le.p;try{le.p=2,FA(l,u,d,v)}finally{le.p=N,K.T=C}}function uO(l,u,d,v){var C=K.T;K.T=null;var N=le.p;try{le.p=8,FA(l,u,d,v)}finally{le.p=N,K.T=C}}function FA(l,u,d,v){if(Pb){var C=DA(v);if(C===null)bA(l,u,v,Ob,d),wk(l,v);else if(hO(C,l,u,d,v))v.stopPropagation();else if(wk(l,v),u&4&&-1<fO.indexOf(l)){for(;C!==null;){var N=Tt(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=$t(N.pendingLanes);if(V!==0){var he=N;for(he.pendingLanes|=2,he.entangledLanes|=2;V;){var Re=1<<31-Hn(V);he.entanglements[1]|=Re,V&=~Re}Nu(N),(Sr&6)===0&&(yb=Yt()+500,Gv(0))}}break;case 31:case 13:he=Cc(N,2),he!==null&&Co(he,N,2),_b(),MA(N,2)}if(N=DA(v),N===null&&bA(l,u,v,Ob,d),N===C)break;C=N}C!==null&&v.stopPropagation()}else bA(l,u,v,null,d)}}function DA(l){return l=hf(l),PA(l)}var Ob=null;function PA(l){if(Ob=null,l=bt(l),l!==null){var u=s(l);if(u===null)l=null;else{var d=u.tag;if(d===13){if(l=a(u),l!==null)return l;l=null}else if(d===31){if(l=o(u),l!==null)return l;l=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Ob=l,null}function _k(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case Kt:return 2;case En:return 8;case Qt:case Rt:return 32;case je:return 268435456;default:return 32}default:return 32}}var OA=!1,cd=null,ud=null,fd=null,Kv=new Map,Jv=new Map,hd=[],fO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wk(l,u){switch(l){case"focusin":case"focusout":cd=null;break;case"dragenter":case"dragleave":ud=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":Kv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jv.delete(u.pointerId)}}function Zv(l,u,d,v,C,N){return l===null||l.nativeEvent!==N?(l={blockedOn:u,domEventName:d,eventSystemFlags:v,nativeEvent:N,targetContainers:[C]},u!==null&&(u=Tt(u),u!==null&&yk(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),l)}function hO(l,u,d,v,C){switch(u){case"focusin":return cd=Zv(cd,l,u,d,v,C),!0;case"dragenter":return ud=Zv(ud,l,u,d,v,C),!0;case"mouseover":return fd=Zv(fd,l,u,d,v,C),!0;case"pointerover":var N=C.pointerId;return Kv.set(N,Zv(Kv.get(N)||null,l,u,d,v,C)),!0;case"gotpointercapture":return N=C.pointerId,Jv.set(N,Zv(Jv.get(N)||null,l,u,d,v,C)),!0}return!1}function Ak(l){var u=bt(l.target);if(u!==null){var d=s(u);if(d!==null){if(u=d.tag,u===13){if(u=a(d),u!==null){l.blockedOn=u,Ce(l.priority,function(){bk(d)});return}}else if(u===31){if(u=o(d),u!==null){l.blockedOn=u,Ce(l.priority,function(){bk(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Bb(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var d=DA(l.nativeEvent);if(d===null){d=l.nativeEvent;var v=new d.constructor(d.type,d);uc=v,d.target.dispatchEvent(v),uc=null}else return u=Tt(d),u!==null&&yk(u),l.blockedOn=d,!1;u.shift()}return!0}function Sk(l,u,d){Bb(l)&&d.delete(u)}function dO(){OA=!1,cd!==null&&Bb(cd)&&(cd=null),ud!==null&&Bb(ud)&&(ud=null),fd!==null&&Bb(fd)&&(fd=null),Kv.forEach(Sk),Jv.forEach(Sk)}function Ub(l,u){l.blockedOn===u&&(l.blockedOn=null,OA||(OA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dO)))}var Hb=null;function Ek(l){Hb!==l&&(Hb=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hb===l&&(Hb=null);for(var u=0;u<l.length;u+=3){var d=l[u],v=l[u+1],C=l[u+2];if(typeof v!="function"){if(PA(v||d)===null)continue;break}var N=Tt(d);N!==null&&(l.splice(u,3),u-=3,D5(N,{pending:!0,data:C,method:d.method,action:v},v,C))}}))}function xg(l){function u(Re){return Ub(Re,l)}cd!==null&&Ub(cd,l),ud!==null&&Ub(ud,l),fd!==null&&Ub(fd,l),Kv.forEach(u),Jv.forEach(u);for(var d=0;d<hd.length;d++){var v=hd[d];v.blockedOn===l&&(v.blockedOn=null)}for(;0<hd.length&&(d=hd[0],d.blockedOn===null);)Ak(d),d.blockedOn===null&&hd.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var C=d[v],N=d[v+1],V=C[we]||null;if(typeof N=="function")V||Ek(d);else if(V){var he=null;if(N&&N.hasAttribute("formAction")){if(C=N,V=N[we]||null)he=V.formAction;else if(PA(C)!==null)continue}else he=V.action;typeof he=="function"?d[v+1]=he:(d.splice(v,3),v-=3),Ek(d)}}}function Tk(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return C=V})},focusReset:"manual",scroll:"manual"})}function u(){C!==null&&(C(),C=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,C=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),C!==null&&(C(),C=null)}}}function BA(l){this._internalRoot=l}zb.prototype.render=BA.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,v=el();vk(d,v,l,u,null,null)},zb.prototype.unmount=BA.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;vk(l.current,2,null,l,null,null),_b(),u[Ne]=null}};function zb(l){this._internalRoot=l}zb.prototype.unstable_scheduleHydration=function(l){if(l){var u=te();l={blockedOn:null,target:l,priority:u};for(var d=0;d<hd.length&&u!==0&&u<hd[d].priority;d++);hd.splice(d,0,l),d===0&&Ak(l)}};var Ck=e.version;if(Ck!=="19.2.4")throw Error(r(527,Ck,"19.2.4"));le.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var pO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{Lt=jb.inject(pO),Pt=jb}catch{}}return ex.createRoot=function(l,u){if(!i(l))throw Error(r(299));var d=!1,v="",C=FC,N=DC,V=PC;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError)),u=mk(l,1,!1,null,null,d,v,null,C,N,V,Tk),l[Ne]=u.current,yA(l),new BA(u)},ex.hydrateRoot=function(l,u,d){if(!i(l))throw Error(r(299));var v=!1,C="",N=FC,V=DC,he=PC,Re=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(he=d.onRecoverableError),d.formState!==void 0&&(Re=d.formState)),u=mk(l,1,!0,u,d??null,v,C,Re,N,V,he,Tk),u.context=gk(null),d=u.current,v=el(),v=Pr(v),C=mn(v),C.callback=null,Mn(d,C,v),d=v,u.current.lanes=d,tn(u,d),Nu(u),l[Ne]=u.current,yA(l),new zb(u)},ex.version="19.2.4",ex}var Bk;function CO(){if(Bk)return jA.exports;Bk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jA.exports=TO(),jA.exports}var kO=CO();const NO=fL(kO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Uk=n=>{const e=LO(n);return e.charAt(0).toUpperCase()+e.slice(1)},hL=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),IO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Qe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>Qe.createElement("svg",{ref:c,...MO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:hL("lucide",i),...!s&&!IO(o)&&{"aria-hidden":"true"},...o},[...a.map(([f,h])=>Qe.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(n,e)=>{const t=Qe.forwardRef(({className:r,...i},s)=>Qe.createElement(FO,{ref:s,iconNode:e,className:hL(`lucide-${RO(Uk(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Uk(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],jT=Ut("bold",DO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OO=Ut("calendar",PO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GT=Ut("check",BO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],HO=Ut("chevron-down",UO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jO=Ut("chevron-right",zO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],BS=Ut("circle-alert",GO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dL=Ut("circle-check-big",qO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pL=Ut("circle-check",VO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],XO=Ut("circle-x",WO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],x_=Ut("clipboard-list",YO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],US=Ut("clock",$O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],JO=Ut("cloud-upload",KO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qT=Ut("copy",ZO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],mL=Ut("database",QO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VT=Ut("download",e9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gL=Ut("external-link",t9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hk=Ut("eye-off",n9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rw=Ut("eye",r9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],s9=Ut("file-down",i9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sf=Ut("file-text",a9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],vL=Ut("file-up",o9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],c9=Ut("folder-plus",l9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],f9=Ut("funnel",u9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],d9=Ut("globe",h9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m9=Ut("history",p9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],v9=Ut("image",g9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y9=Ut("info",x9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],WT=Ut("italic",b9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],w9=Ut("key",_9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Rx=Ut("layers",A9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],HS=Ut("link",S9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],XT=Ut("list",E9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sh=Ut("loader-circle",T9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zS=Ut("lock",C9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],N9=Ut("log-in",k9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],L9=Ut("log-out",R9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xh=Ut("mail",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],F9=Ut("maximize",M9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],zk=Ut("monitor",D9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],O9=Ut("moon",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],U9=Ut("move",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],t5=Ut("panels-top-left",H9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Lx=Ut("paperclip",z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],av=Ut("pen-line",j9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jS=Ut("pen",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],om=Ut("plus",q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],W9=Ut("printer",V9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],af=Ut("save",X9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],By=Ut("search",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n5=Ut("send",$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],iw=Ut("server",K9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GS=Ut("settings",J9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ix=Ut("shield-check",Z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eB=Ut("sun",Q9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],nB=Ut("terminal",tB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rf=Ut("trash-2",rB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sB=Ut("triangle-alert",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],YT=Ut("type",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lB=Ut("upload",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uB=Ut("user-check",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hB=Ut("user-plus",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wx=Ut("user",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tm=Ut("users",pB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],gB=Ut("wand-sparkles",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xB=Ut("wifi-off",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oo=Ut("x",yB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],WA=Ut("zap",bB),_B={es:{title:"Configuracin SMTP",subtitle:"Gestiona mltiples perfiles de servidor de correo saliente.",newBtn:"Nuevo Perfil",activeProfile:"Perfil Activo",selectProfile:"Seleccionar",noProfiles:"No hay perfiles SMTP guardados.",cancelBtn:"Cancelar",editTitle:"Editando: ",newTitle:"Nuevo Perfil SMTP",profileName:"Nombre del Perfil",profilePlaceholder:"Gmail Personal, Outlook Empresa, etc.",hostname:"Nombre del Host",portSecurity:"Puerto y Seguridad",username:"Nombre de Usuario",password:"Contrasea / App Key",saved:"Guardado con xito!",updateBtn:"Actualizar Perfil",saveBtn:"Guardar Perfil",testBtn:"Probar Conexin",testing:"Probando...",testSuccess:"Funciona correctamente!",testError:"No funciona. Revisa los datos.",fillRequired:"Por favor, completa los campos requeridos.",presetsTitle:"Ajustes Rpidos",gmailNotice:'Nota: Para Gmail debes usar una "Contrasea de Aplicacin" si tienes 2FA activado.'},en:{title:"SMTP Settings",subtitle:"Manage multiple outgoing mail server profiles.",newBtn:"New Profile",activeProfile:"Active Profile",selectProfile:"Select",noProfiles:"No SMTP profiles saved yet.",cancelBtn:"Cancel",editTitle:"Editing: ",newTitle:"New SMTP Profile",profileName:"Profile Name",profilePlaceholder:"Personal Gmail, Company Outlook, etc.",hostname:"Hostname",portSecurity:"Port & Security",username:"Username",password:"Password / App Key",saved:"Saved Successfully!",updateBtn:"Update Profile",saveBtn:"Save Profile",testBtn:"Test Connection",testing:"Testing...",testSuccess:"Connection successful!",testError:"Connection failed. Check your data.",fillRequired:"Please fill in all required fields.",presetsTitle:"Quick Presets",gmailNotice:'Note: For Gmail you must use an "App Password" if 2FA is enabled.'}},wB=({configs:n,activeId:e,onAction:t,lang:r})=>{const i=Qe.useMemo(()=>_B[r],[r]),[s,a]=Qe.useState(null),[o,c]=Qe.useState(n.length===0),[f,h]=Qe.useState(!1),[p,g]=Qe.useState(!1),[m,b]=Qe.useState(null),_={id:"",name:"",host:"",port:587,secure:!0,username:"",password:""},[w,T]=Qe.useState(_),L=P=>{a(P),T(P),c(!1),b(null)},R=()=>{c(!0),a(null),T({..._,id:Date.now().toString()}),b(null)},F=P=>{P==="gmail"?T(X=>({...X,name:X.name||"Gmail",host:"smtp.gmail.com",port:587,secure:!0})):P==="outlook"&&T(X=>({...X,name:X.name||"Outlook",host:"smtp.office365.com",port:587,secure:!0}))},z=async()=>{if(!w.host||!w.username){alert(i.fillRequired);return}g(!0),b(null),await new Promise(X=>setTimeout(X,2e3));const P=w.host.length>5&&!w.host.includes("error");b(P?"success":"error"),g(!1)},q=P=>{P.preventDefault(),s?t.update(w):t.add(w),h(!0),setTimeout(()=>{h(!1),c(!1),a(null)},1500)};return E.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:i.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:i.subtitle})]}),!o&&!s&&E.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(om,{size:18})," ",i.newBtn]})]}),!o&&!s&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.map(P=>E.jsxs("div",{className:`group p-6 rounded-2xl border-2 transition-all relative ${e===P.id?"bg-white dark:bg-slate-900 border-indigo-500 dark:border-indigo-600 shadow-lg shadow-indigo-100 dark:shadow-none":"bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800 hover:border-slate-200 dark:hover:border-slate-700"}`,children:[e===P.id&&E.jsx("div",{className:"absolute top-4 right-4 text-indigo-500 dark:text-indigo-400",children:E.jsx(pL,{size:20,fill:"currentColor",className:"text-white dark:text-slate-900"})}),E.jsxs("div",{className:"flex flex-col gap-1 pr-8 text-left",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:P.name}),E.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[E.jsx(iw,{size:12})," ",P.host,":",P.port]}),E.jsxs("p",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-2",children:[E.jsx(Wx,{size:12})," ",P.username]})]}),E.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[E.jsx("button",{onClick:()=>t.setActive(P.id),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${e===P.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:e===P.id?i.activeProfile:i.selectProfile}),E.jsx("button",{onClick:()=>L(P),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:E.jsx(av,{size:16})}),E.jsx("button",{onClick:()=>t.delete(P.id),className:"p-2 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:E.jsx(rf,{size:16})})]})]},P.id)),n.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center bg-slate-50 dark:bg-slate-900/30 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:E.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-medium",children:i.noProfiles})})]}),(o||s)&&E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm animate-in fade-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8 text-left",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:s?`${i.editTitle}${s.name}`:i.newTitle}),E.jsx("button",{onClick:()=>{c(!1),a(null)},className:"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 text-sm font-medium",children:i.cancelBtn})]}),E.jsxs("div",{className:"mb-8 p-4 bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-2xl",children:[E.jsxs("p",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[E.jsx(WA,{size:14})," ",i.presetsTitle]}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsxs("button",{type:"button",onClick:()=>F("gmail"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[E.jsx("img",{src:"https://www.google.com/favicon.ico",className:"w-3 h-3",alt:"Gmail"})," Gmail"]}),E.jsxs("button",{type:"button",onClick:()=>F("outlook"),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold hover:border-indigo-500 transition-all flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[E.jsx("img",{src:"https://outlook.live.com/favicon.ico",className:"w-3 h-3",alt:"Outlook"})," Outlook / Hotmail"]})]})]}),E.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:i.profileName}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:w.name,onChange:P=>T({...w,name:P.target.value}),placeholder:i.profilePlaceholder,required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(iw,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.hostname]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:w.host,onChange:P=>T({...w,host:P.target.value}),placeholder:"smtp.gmail.com",required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(Ix,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.portSecurity]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("input",{type:"number",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:w.port,onChange:P=>T({...w,port:parseInt(P.target.value)}),placeholder:"587",required:!0}),E.jsx("button",{type:"button",onClick:()=>T({...w,secure:!w.secure}),className:`px-4 rounded-xl border transition-all text-xs font-bold ${w.secure?"bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:w.secure?"SSL/TLS":"Plain"})]})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(Wx,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.username]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:w.username,onChange:P=>T({...w,username:P.target.value}),placeholder:"user@example.com",required:!0})]}),E.jsxs("div",{className:"col-span-1 space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(w9,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",i.password]}),E.jsx("input",{type:"password",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:w.password||"",onChange:P=>T({...w,password:P.target.value}),placeholder:""})]}),w.host.includes("gmail.com")&&E.jsxs("div",{className:"col-span-full flex items-start gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl text-amber-700 dark:text-amber-400",children:[E.jsx(y9,{size:16,className:"shrink-0 mt-0.5"}),E.jsx("p",{className:"text-[11px] leading-relaxed",children:i.gmailNotice})]}),E.jsxs("div",{className:"col-span-full pt-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs("button",{type:"button",onClick:z,disabled:p,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all border-2 ${m==="success"?"border-emerald-500 text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":m==="error"?"border-red-500 text-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"} disabled:opacity-50`,children:[p?E.jsx(Sh,{size:18,className:"animate-spin"}):m==="success"?E.jsx(WA,{size:18,className:"fill-current"}):m==="error"?E.jsx(sB,{size:18}):E.jsx(WA,{size:18}),p?i.testing:m==="success"?i.testSuccess:m==="error"?i.testError:i.testBtn]})}),E.jsxs("button",{type:"submit",className:`flex items-center gap-2 px-8 py-3 rounded-xl font-semibold transition-all ${f?"bg-emerald-500 text-white":"bg-slate-900 dark:bg-indigo-600 text-white hover:bg-slate-800 dark:hover:bg-indigo-700 shadow-lg shadow-slate-200 dark:shadow-none"}`,children:[f?i.saved:s?i.updateBtn:i.saveBtn,E.jsx(af,{size:18})]})]})]})]})]})},AB={es:{title:"Integraciones",subtitle:"Conecta tus datos de correo con plataformas externas como Google Sheets.",sheetsTitle:"Registro en Google Sheets",urlLabel:"URL de Web App (Google Apps Script)",urlHint:"Cada correo enviado con xito se aadir automticamente como una nueva fila en tu hoja.",saveBtn:"Guardar Integracin",saved:"Configuracin Guardada",guideTitle:"Gua de Configuracin Rpida",guideSteps:["Abre una Google Sheet.","Ve a Extensiones > Apps Script.","Pega el fragmento de cdigo a la derecha.","Haz clic en Implementar > Nueva implementacin.",'Selecciona Aplicacin Web y acceso a "Cualquiera".',"Copia la URL de la Web App y pgala aqu."],snippetTitle:"Fragmento de Apps Script",copyBtn:"Copiar Cdigo"},en:{title:"Integrations",subtitle:"Connect your email data with external platforms like Google Sheets.",sheetsTitle:"Google Sheets Logging",urlLabel:"Web App URL (Google Apps Script)",urlHint:"Every successfully sent email will be automatically appended as a new row in your sheet.",saveBtn:"Save Integration",saved:"Configuration Saved",guideTitle:"Quick Setup Guide",guideSteps:["Open a Google Sheet.","Go to Extensions > Apps Script.","Paste the code snippet provided on the right.","Click Deploy > New Deployment.",'Select Web App and set access to "Anyone".',"Copy the Web App URL and paste it here."],snippetTitle:"Apps Script Snippet",copyBtn:"Copy Code"}},SB=({sheetUrl:n,onSave:e,lang:t})=>{const r=Qe.useMemo(()=>AB[t],[t]),[i,s]=Qe.useState(n),[a,o]=Qe.useState(!1),c=h=>{h.preventDefault(),e(i),o(!0),setTimeout(()=>o(!1),2e3)},f=`function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
  var data = JSON.parse(e.postData.contents);
  
  sheet.appendRow([
    data.timestamp,
    data.recipient,
    data.cc,
    data.subject,
    data.status,
    data.attachments,
    data.messageId
  ]);
  
  return ContentService.createTextOutput("Success").setMimeType(ContentService.MimeType.TEXT);
}`;return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg",children:E.jsx(mL,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:r.sheetsTitle})]}),E.jsxs("form",{onSubmit:c,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(HS,{size:14,className:"text-indigo-500"})," ",r.urlLabel]}),E.jsx("input",{type:"url",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all text-sm",value:i,onChange:h=>s(h.target.value),placeholder:"https://script.google.com/macros/s/.../exec"}),E.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-500",children:r.urlHint})]}),E.jsx("button",{type:"submit",className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl font-semibold transition-all ${a?"bg-emerald-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-100 dark:shadow-none"}`,children:a?E.jsxs(E.Fragment,{children:[E.jsx(dL,{size:18})," ",r.saved]}):E.jsxs(E.Fragment,{children:[E.jsx(af,{size:18})," ",r.saveBtn]})})]})]}),E.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-800/50",children:[E.jsxs("h4",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[E.jsx(gL,{size:16})," ",r.guideTitle]}),E.jsx("ol",{className:"text-xs text-indigo-700 dark:text-indigo-400 space-y-2 list-decimal list-inside",children:r.guideSteps.map((h,p)=>E.jsx("li",{children:h},p))})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(nB,{size:14})," ",r.snippetTitle]}),E.jsxs("button",{onClick:()=>navigator.clipboard.writeText(f),className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1 font-medium",children:[E.jsx(qT,{size:12})," ",r.copyBtn]})]}),E.jsx("div",{className:"bg-slate-900 rounded-3xl p-6 overflow-hidden border border-slate-800 shadow-xl",children:E.jsx("pre",{className:"text-indigo-300 font-mono text-xs overflow-x-auto leading-relaxed",children:f})})]})]})]})};var Mx={};Mx.d=(n,e)=>{for(var t in e)Mx.o(e,t)&&!Mx.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Mx.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Tn=globalThis.pdfjsLib={};Mx.d(Tn,{AbortException:()=>Qd,AnnotationEditorLayer:()=>ZE,AnnotationEditorParamsType:()=>ir,AnnotationEditorType:()=>Bn,AnnotationEditorUIManager:()=>cm,AnnotationLayer:()=>yH,AnnotationMode:()=>xd,ColorPicker:()=>uw,DOMSVGFactory:()=>r4,DrawLayer:()=>tT,FeatureTest:()=>ro,GlobalWorkerOptions:()=>gh,ImageKind:()=>y_,InvalidPDFException:()=>VS,MissingPDFException:()=>Xx,OPS:()=>Bc,OutputScale:()=>XS,PDFDataRangeTransport:()=>yI,PDFDateString:()=>QT,PDFWorker:()=>Gg,PasswordResponses:()=>kB,PermissionFlag:()=>CB,PixelsPerInch:()=>e0,RenderingCancelledException:()=>JT,TextLayer:()=>Yx,TouchManager:()=>lw,UnexpectedResponseException:()=>sw,Util:()=>rn,VerbosityLevel:()=>r5,XfaLayer:()=>_I,build:()=>QU,createValidAbsoluteUrl:()=>IB,fetchData:()=>o5,getDocument:()=>qU,getFilenameFromUrl:()=>zB,getPdfFilenameFromUrl:()=>jB,getXfaPageViewport:()=>GB,isDataScheme:()=>l5,isPdfFile:()=>ZT,noContextMenu:()=>su,normalizeUnicode:()=>BB,setLayerDimensions:()=>lm,shadow:()=>Yn,stopEvent:()=>xl,version:()=>ZU});const Fa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xL=[1,0,0,1,0,0],qS=[.001,0,0,.001,0,0],EB=1e7,XA=1.35,pl={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},TB="pdfjs_internal_editor_",Bn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ir={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},CB={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Aa={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},y_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ss={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},tx={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},r5={ERRORS:0,WARNINGS:1,INFOS:5},Bc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},kB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i5=r5.WARNINGS;function NB(n){Number.isInteger(n)&&(i5=n)}function RB(){return i5}function s5(n){i5>=r5.INFOS&&console.log(`Info: ${n}`)}function Un(n){i5>=r5.WARNINGS&&console.log(`Warning: ${n}`)}function Kr(n){throw new Error(n)}function hs(n,e){n||Kr(e)}function LB(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function IB(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=OB(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(LB(r))return r}catch{}return null}function Yn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const o0=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class jk extends o0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class YA extends o0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class VS extends o0{constructor(e){super(e,"InvalidPDFException")}}class Xx extends o0{constructor(e){super(e,"MissingPDFException")}}class sw extends o0{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class MB extends o0{constructor(e){super(e,"FormatError")}}class Qd extends o0{constructor(e){super(e,"AbortException")}}function yL(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Kr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function a5(n){typeof n!="string"&&Kr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function FB(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function $T(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function DB(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function PB(){try{return new Function(""),!0}catch{return!1}}class ro{static get isLittleEndian(){return Yn(this,"isLittleEndian",DB())}static get isEvalSupported(){return Yn(this,"isEvalSupported",PB())}static get isOffscreenCanvasSupported(){return Yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Yn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const $A=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wh,b_,WS;class rn{static makeHexColor(e,t,r){return`#${$A[e]}${$A[t]}${$A[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,c=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,f=o+c||1,h=o-c||1;return[Math.sqrt(f),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,o,c,f){return f?(f[0]=Math.min(f[0],e,o),f[1]=Math.min(f[1],t,c),f[2]=Math.max(f[2],e,o),f[3]=Math.max(f[3],t,c)):f=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],se(this,wh,WS).call(this,e,r,s,o,t,i,a,c,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),f),se(this,wh,WS).call(this,e,r,s,o,t,i,a,c,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),f),f}}wh=new WeakSet,b_=function(e,t,r,i,s,a,o,c,f,h){if(f<=0||f>=1)return;const p=1-f,g=f*f,m=g*f,b=p*(p*(p*e+3*f*t)+3*g*r)+m*i,_=p*(p*(p*s+3*f*a)+3*g*o)+m*c;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],_),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],_)},WS=function(e,t,r,i,s,a,o,c,f,h,p,g){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&se(this,wh,b_).call(this,e,t,r,i,s,a,o,c,-p/h,g);return}const m=h**2-4*p*f;if(m<0)return;const b=Math.sqrt(m),_=2*f;se(this,wh,b_).call(this,e,t,r,i,s,a,o,c,(-h+b)/_,g),se(this,wh,b_).call(this,e,t,r,i,s,a,o,c,(-h-b)/_,g)},ne(rn,wh);function OB(n){return decodeURIComponent(escape(n))}let KA=null,Gk=null;function BB(n){return KA||(KA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Gk=new Map([["","t"]])),n.replaceAll(KA,(e,t,r)=>t?t.normalize("NFKC"):Gk.get(r))}function UB(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),yL(n)}const KT="pdfjs_internal_id_";function HB(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(yL(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const Uf="http://www.w3.org/2000/svg",Y0=class Y0{};Ct(Y0,"CSS",96),Ct(Y0,"PDF",72),Ct(Y0,"PDF_TO_CSS_UNITS",Y0.CSS/Y0.PDF);let e0=Y0;async function o5(n,e="text"){if(ux(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Uy{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const c=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let h,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,p=0,g=0,m=1;break;case 90:h=0,p=1,g=1,m=0;break;case 270:h=0,p=-1,g=-1,m=0;break;case 0:h=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,m=-m);let b,_,w,T;h===0?(b=Math.abs(f-e[1])*r+s,_=Math.abs(c-e[0])*r+a,w=(e[3]-e[1])*r,T=(e[2]-e[0])*r):(b=Math.abs(c-e[0])*r+s,_=Math.abs(f-e[1])*r+a,w=(e[2]-e[0])*r,T=(e[3]-e[1])*r),this.transform=[h*r,p*r,g*r,m*r,b-h*r*c-g*r*f,_-p*r*c-m*r*f],this.width=w,this.height=T}get rawDims(){const{userUnit:e,viewBox:t}=this,r=t.map(i=>i*e);return Yn(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Uy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return rn.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=rn.applyTransform([e[0],e[1]],this.transform),r=rn.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return rn.applyInverseTransform([e,t],this.transform)}}class JT extends o0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function l5(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ZT(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function zB(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function jB(n,e="document.pdf"){if(typeof n!="string")return e;if(l5(n))return Un('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class qk{constructor(){Ct(this,"started",Object.create(null));Ct(this,"times",[])}time(e){e in this.started&&Un(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Un(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function ux(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function su(n){n.preventDefault()}function xl(n){n.preventDefault(),n.stopPropagation()}var d2;class QT{static toDateObject(e){if(!e||typeof e!="string")return null;x(this,d2)||W(this,d2,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=x(this,d2).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const f=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(a+=h,o+=p):f==="+"&&(a-=h,o-=p),new Date(Date.UTC(r,i,s,a,o,c))}}d2=new WeakMap,ne(QT,d2);function GB(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Uy({viewBox:s,userUnit:1,scale:e,rotation:t})}function e4(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Un(`Not a valid color format: "${n}"`),[0,0,0])}function qB(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,e4(r))}e.remove()}function gi(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Ru(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function lm(n,e,t=!1,r=!0){if(e instanceof Uy){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=ro.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,f=`var(--scale-factor) * ${s}px`,h=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=o?`round(down, ${f}, var(--scale-round-y, 1px))`:`calc(${f})`;!t||e.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class XS{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var yd,J0,Uc,Z0,p2,m2,Pw,bL,so,_L,wL,__,AL,$S;const jf=class jf{constructor(e){ne(this,so);ne(this,yd,null);ne(this,J0,null);ne(this,Uc);ne(this,Z0,null);ne(this,p2,null);W(this,Uc,e),x(jf,m2)||W(jf,m2,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=W(this,yd,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=x(this,Uc)._uiManager._signal;e.addEventListener("contextmenu",su,{signal:t}),e.addEventListener("pointerdown",se(jf,Pw,bL),{signal:t});const r=W(this,Z0,document.createElement("div"));r.className="buttons",e.append(r);const i=x(this,Uc).toolbarPosition;if(i){const{style:s}=e,a=x(this,Uc)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return se(this,so,AL).call(this),e}get div(){return x(this,yd)}hide(){var e;x(this,yd).classList.add("hidden"),(e=x(this,J0))==null||e.hideDropdown()}show(){var e;x(this,yd).classList.remove("hidden"),(e=x(this,p2))==null||e.shown()}async addAltText(e){const t=await e.render();se(this,so,__).call(this,t),x(this,Z0).prepend(t,x(this,so,$S)),W(this,p2,e)}addColorPicker(e){W(this,J0,e);const t=e.renderButton();se(this,so,__).call(this,t),x(this,Z0).prepend(t,x(this,so,$S))}remove(){var e;x(this,yd).remove(),(e=x(this,J0))==null||e.destroy(),W(this,J0,null)}};yd=new WeakMap,J0=new WeakMap,Uc=new WeakMap,Z0=new WeakMap,p2=new WeakMap,m2=new WeakMap,Pw=new WeakSet,bL=function(e){e.stopPropagation()},so=new WeakSet,_L=function(e){x(this,Uc)._focusEventsAllowed=!1,xl(e)},wL=function(e){x(this,Uc)._focusEventsAllowed=!0,xl(e)},__=function(e){const t=x(this,Uc)._uiManager._signal;e.addEventListener("focusin",se(this,so,_L).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",se(this,so,wL).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",su,{signal:t})},AL=function(){const{editorType:e,_uiManager:t}=x(this,Uc),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",x(jf,m2)[e]),se(this,so,__).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),x(this,Z0).append(r)},$S=function(){const e=document.createElement("div");return e.className="divider",e},ne(jf,Pw),ne(jf,m2,null);let YS=jf;var g2,Q0,ep,a0,SL,EL,TL;class VB{constructor(e){ne(this,a0);ne(this,g2,null);ne(this,Q0,null);ne(this,ep);W(this,ep,e)}show(e,t,r){const[i,s]=se(this,a0,EL).call(this,t,r),{style:a}=x(this,Q0)||W(this,Q0,se(this,a0,SL).call(this));e.append(x(this,Q0)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,Q0).remove()}}g2=new WeakMap,Q0=new WeakMap,ep=new WeakMap,a0=new WeakSet,SL=function(){const e=W(this,Q0,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",su,{signal:x(this,ep)._signal});const t=W(this,g2,document.createElement("div"));return t.className="buttons",e.append(t),se(this,a0,TL).call(this),e},EL=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},TL=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=x(this,ep)._signal;e.addEventListener("contextmenu",su,{signal:r}),e.addEventListener("click",()=>{x(this,ep).highlightSelection("floating_button")},{signal:r}),x(this,g2).append(e)};function aw(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Ow;class WB{constructor(){ne(this,Ow,0)}get id(){return`${TB}${Ya(this,Ow)._++}`}}Ow=new WeakMap;var t1,v2,Ta,n1,w_;const oC=class oC{constructor(){ne(this,n1);ne(this,t1,UB());ne(this,v2,0);ne(this,Ta,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Yn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return se(this,n1,w_).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return se(this,n1,w_).call(this,e,e)}async getFromBlob(e,t){const r=await t;return se(this,n1,w_).call(this,e,r)}async getFromId(e){x(this,Ta)||W(this,Ta,new Map);const t=x(this,Ta).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){x(this,Ta)||W(this,Ta,new Map);let r=x(this,Ta).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${x(this,t1)}_${Ya(this,v2)._++}`,refCounter:1,isSvg:!1},x(this,Ta).set(e,r),x(this,Ta).set(r.id,r),r}getSvgUrl(e){const t=x(this,Ta).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;x(this,Ta)||W(this,Ta,new Map);const t=x(this,Ta).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${x(this,t1)}_`)}};t1=new WeakMap,v2=new WeakMap,Ta=new WeakMap,n1=new WeakSet,w_=async function(e,t){x(this,Ta)||W(this,Ta,new Map);let r=x(this,Ta).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${x(this,t1)}_${Ya(this,v2)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await o5(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=oC._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((f,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,f()},a.onload=async()=>{const p=r.svgUrl=a.result;o.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=a.onerror=h});a.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Un(i),r=null}return x(this,Ta).set(e,r),r&&x(this,Ta).set(r.id,r),r};let KS=oC;var Xi,bd,x2,Ai;class XB{constructor(e=128){ne(this,Xi,[]);ne(this,bd,!1);ne(this,x2);ne(this,Ai,-1);W(this,x2,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),x(this,bd))return;const c={cmd:e,undo:t,post:r,type:s};if(x(this,Ai)===-1){x(this,Xi).length>0&&(x(this,Xi).length=0),W(this,Ai,0),x(this,Xi).push(c);return}if(a&&x(this,Xi)[x(this,Ai)].type===s){o&&(c.undo=x(this,Xi)[x(this,Ai)].undo),x(this,Xi)[x(this,Ai)]=c;return}const f=x(this,Ai)+1;f===x(this,x2)?x(this,Xi).splice(0,1):(W(this,Ai,f),f<x(this,Xi).length&&x(this,Xi).splice(f)),x(this,Xi).push(c)}undo(){if(x(this,Ai)===-1)return;W(this,bd,!0);const{undo:e,post:t}=x(this,Xi)[x(this,Ai)];e(),t==null||t(),W(this,bd,!1),W(this,Ai,x(this,Ai)-1)}redo(){if(x(this,Ai)<x(this,Xi).length-1){W(this,Ai,x(this,Ai)+1),W(this,bd,!0);const{cmd:e,post:t}=x(this,Xi)[x(this,Ai)];e(),t==null||t(),W(this,bd,!1)}}hasSomethingToUndo(){return x(this,Ai)!==-1}hasSomethingToRedo(){return x(this,Ai)<x(this,Xi).length-1}cleanType(e){if(x(this,Ai)!==-1){for(let t=x(this,Ai);t>=0;t--)if(x(this,Xi)[t].type!==e){x(this,Xi).splice(t+1,x(this,Ai)-t),W(this,Ai,t);return}x(this,Xi).length=0,W(this,Ai,-1)}}destroy(){W(this,Xi,null)}}Xi=new WeakMap,bd=new WeakMap,x2=new WeakMap,Ai=new WeakMap;var Bw,CL;class Hy{constructor(e){ne(this,Bw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ro.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(se(this,Bw,CL).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||xl(t))}}Bw=new WeakSet,CL=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Uw=class Uw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return qB(e),Yn(this,"_colors",e)}convert(e){const t=e4(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return Uw._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?rn.makeHexColor(...t):e}};Ct(Uw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let JS=Uw;var r1,nl,Ts,sa,i1,Vf,s1,Wl,_d,tp,a1,np,Bu,Hc,rp,y2,b2,o1,_2,Uu,wd,l1,Ad,Hu,Hw,Sd,w2,Ed,ip,A2,S2,Os,Rr,Wf,sp,E2,T2,Td,zu,Xf,C2,Xl,Nt,A_,ZS,kL,NL,S_,RL,LL,IL,QS,ML,eE,tE,FL,$a,Hf,DL,PL,nE,OL,fx,rE;const Hg=class Hg{constructor(e,t,r,i,s,a,o,c,f,h,p,g,m){ne(this,Nt);ne(this,r1,new AbortController);ne(this,nl,null);ne(this,Ts,new Map);ne(this,sa,new Map);ne(this,i1,null);ne(this,Vf,null);ne(this,s1,null);ne(this,Wl,new XB);ne(this,_d,null);ne(this,tp,null);ne(this,a1,0);ne(this,np,new Set);ne(this,Bu,null);ne(this,Hc,null);ne(this,rp,new Set);Ct(this,"_editorUndoBar",null);ne(this,y2,!1);ne(this,b2,!1);ne(this,o1,!1);ne(this,_2,null);ne(this,Uu,null);ne(this,wd,null);ne(this,l1,null);ne(this,Ad,!1);ne(this,Hu,null);ne(this,Hw,new WB);ne(this,Sd,!1);ne(this,w2,!1);ne(this,Ed,null);ne(this,ip,null);ne(this,A2,null);ne(this,S2,null);ne(this,Os,Bn.NONE);ne(this,Rr,new Set);ne(this,Wf,null);ne(this,sp,null);ne(this,E2,null);ne(this,T2,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ne(this,Td,[0,0]);ne(this,zu,null);ne(this,Xf,null);ne(this,C2,null);ne(this,Xl,null);const b=this._signal=x(this,r1).signal;W(this,Xf,e),W(this,C2,t),W(this,i1,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:b}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),i._on("setpreference",this.onSetPreference.bind(this),{signal:b}),i._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:b}),se(this,Nt,RL).call(this),se(this,Nt,FL).call(this),se(this,Nt,QS).call(this),W(this,Vf,s.annotationStorage),W(this,_2,s.filterFactory),W(this,sp,a),W(this,l1,o||null),W(this,y2,c),W(this,b2,f),W(this,o1,h),W(this,S2,p||null),this.viewParameters={realScale:e0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=Hg.prototype,t=a=>x(a,Xf).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new Hy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,Xf).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,Xf).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s;(e=x(this,Xl))==null||e.resolve(),W(this,Xl,null),(t=x(this,r1))==null||t.abort(),W(this,r1,null),this._signal=null;for(const a of x(this,sa).values())a.destroy();x(this,sa).clear(),x(this,Ts).clear(),x(this,rp).clear(),W(this,nl,null),x(this,Rr).clear(),x(this,Wl).destroy(),(r=x(this,i1))==null||r.destroy(),(i=x(this,Hu))==null||i.hide(),W(this,Hu,null),x(this,Uu)&&(clearTimeout(x(this,Uu)),W(this,Uu,null)),x(this,zu)&&(clearTimeout(x(this,zu)),W(this,zu,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return x(this,S2)}get useNewAltTextFlow(){return x(this,b2)}get useNewAltTextWhenAddingImage(){return x(this,o1)}get hcmFilter(){return Yn(this,"hcmFilter",x(this,sp)?x(this,_2).addHCMFilter(x(this,sp).foreground,x(this,sp).background):"none")}get direction(){return Yn(this,"direction",getComputedStyle(x(this,Xf)).direction)}get highlightColors(){return Yn(this,"highlightColors",x(this,l1)?new Map(x(this,l1).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),W(this,tp,e)}setMainHighlightColorPicker(e){W(this,A2,e)}editAltText(e,t=!1){var r;(r=x(this,i1))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":W(this,o1,t);break}}onPageChanging({pageNumber:e}){W(this,a1,e-1)}focusMainContainer(){x(this,Xf).focus()}findParent(e,t){for(const r of x(this,sa).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){x(this,C2).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,rp).add(e)}removeShouldRescale(e){x(this,rp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*e0.PDF_TO_CSS_UNITS;for(const r of x(this,rp))r.onScaleChanging();(t=x(this,tp))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),f=se(this,Nt,A_).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;t.empty();const p=se(this,Nt,ZS).call(this,f),g=x(this,Os)===Bn.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(Bn.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&x(this,Vf)&&!x(this,Vf).has(e.id)&&x(this,Vf).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,Ad)&&(W(this,Ad,!1),se(this,Nt,S_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of x(this,Rr))if(t.div.contains(e)){W(this,ip,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!x(this,ip))return;const[e,t]=x(this,ip);W(this,ip,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){se(this,Nt,QS).call(this),se(this,Nt,eE).call(this)}removeEditListeners(){se(this,Nt,ML).call(this),se(this,Nt,tE).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of x(this,Hc))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of x(this,Hc))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=x(this,nl))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of x(this,Rr)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of x(this,Hc))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Un(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of r){const f=await i.deserialize(c);if(!f)return;s.push(f)}const a=()=>{for(const c of s)se(this,Nt,nE).call(this,c);se(this,Nt,rE).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Un(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,Os)!==Bn.NONE&&!this.isEditorHandlingKeyboard&&Hg._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,Ad)&&(W(this,Ad,!1),se(this,Nt,S_).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(se(this,Nt,LL).call(this),se(this,Nt,eE).call(this),se(this,Nt,$a).call(this,{isEditing:x(this,Os)!==Bn.NONE,isEmpty:se(this,Nt,fx).call(this),hasSomethingToUndo:x(this,Wl).hasSomethingToUndo(),hasSomethingToRedo:x(this,Wl).hasSomethingToRedo(),hasSelectedEditor:!1})):(se(this,Nt,IL).call(this),se(this,Nt,tE).call(this),se(this,Nt,$a).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,Hc)){W(this,Hc,e);for(const t of x(this,Hc))se(this,Nt,Hf).call(this,t.defaultPropertiesToUpdate)}}getId(){return x(this,Hw).id}get currentLayer(){return x(this,sa).get(x(this,a1))}getLayer(e){return x(this,sa).get(e)}get currentPageIndex(){return x(this,a1)}addLayer(e){x(this,sa).set(e.pageIndex,e),x(this,Sd)?e.enable():e.disable()}removeLayer(e){x(this,sa).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){var i;if(x(this,Os)!==e&&!(x(this,Xl)&&(await x(this,Xl).promise,!x(this,Xl)))){if(W(this,Xl,Promise.withResolvers()),W(this,Os,e),e===Bn.NONE){this.setEditingState(!1),se(this,Nt,PL).call(this),(i=this._editorUndoBar)==null||i.hide(),x(this,Xl).resolve();return}this.setEditingState(!0),await se(this,Nt,DL).call(this),this.unselectAll();for(const s of x(this,sa).values())s.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),x(this,Xl).resolve();return}for(const s of x(this,Ts).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();x(this,Xl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,Os)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(x(this,Hc)){switch(e){case ir.CREATE:this.currentLayer.addNewEditor();return;case ir.HIGHLIGHT_DEFAULT_COLOR:(r=x(this,A2))==null||r.updateColor(t);break;case ir.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,E2)||W(this,E2,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of x(this,Rr))i.updateParams(e,t);for(const i of x(this,Hc))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of x(this,Ts).values())a.editorType===e&&a.show(t);(((s=x(this,E2))==null?void 0:s.get(ir.HIGHLIGHT_SHOW_ALL))??!0)!==t&&se(this,Nt,Hf).call(this,[[ir.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(x(this,w2)!==e){W(this,w2,e);for(const t of x(this,sa).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of x(this,Ts).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return x(this,Ts).get(e)}addEditor(e){x(this,Ts).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(x(this,Uu)&&clearTimeout(x(this,Uu)),W(this,Uu,setTimeout(()=>{this.focusMainContainer(),W(this,Uu,null)},0))),x(this,Ts).delete(e.id),this.unselect(e),(!e.annotationElementId||!x(this,np).has(e.annotationElementId))&&((t=x(this,Vf))==null||t.remove(e.id))}addDeletedAnnotationElement(e){x(this,np).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,np).has(e)}removeDeletedAnnotationElement(e){x(this,np).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,nl)!==e&&(W(this,nl,e),e&&se(this,Nt,Hf).call(this,e.propertiesToUpdate))}updateUI(e){x(this,Nt,OL)===e&&se(this,Nt,Hf).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){se(this,Nt,Hf).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(x(this,Rr).has(e)){x(this,Rr).delete(e),e.unselect(),se(this,Nt,$a).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,Rr).add(e),e.select(),se(this,Nt,Hf).call(this,e.propertiesToUpdate),se(this,Nt,$a).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=x(this,tp))==null||t.commitOrRemove();for(const r of x(this,Rr))r!==e&&r.unselect();x(this,Rr).clear(),x(this,Rr).add(e),e.select(),se(this,Nt,Hf).call(this,e.propertiesToUpdate),se(this,Nt,$a).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,Rr).has(e)}get firstSelectedEditor(){return x(this,Rr).values().next().value}unselect(e){e.unselect(),x(this,Rr).delete(e),se(this,Nt,$a).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,Rr).size!==0}get isEnterHandled(){return x(this,Rr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;x(this,Wl).undo(),se(this,Nt,$a).call(this,{hasSomethingToUndo:x(this,Wl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:se(this,Nt,fx).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){x(this,Wl).redo(),se(this,Nt,$a).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,Wl).hasSomethingToRedo(),isEmpty:se(this,Nt,fx).call(this)})}addCommands(e){x(this,Wl).add(e),se(this,Nt,$a).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:se(this,Nt,fx).call(this)})}cleanUndoStack(e){x(this,Wl).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...x(this,Rr)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)se(this,Nt,nE).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=x(this,nl))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,nl)||this.hasSelection}selectAll(){for(const e of x(this,Rr))e.commit();se(this,Nt,rE).call(this,x(this,Ts).values())}unselectAll(){var e;if(!(x(this,nl)&&(x(this,nl).commitOrRemove(),x(this,Os)!==Bn.NONE))&&!((e=x(this,tp))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear(),se(this,Nt,$a).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;x(this,Td)[0]+=e,x(this,Td)[1]+=t;const[i,s]=x(this,Td),a=[...x(this,Rr)],o=1e3;x(this,zu)&&clearTimeout(x(this,zu)),W(this,zu,setTimeout(()=>{W(this,zu,null),x(this,Td)[0]=x(this,Td)[1]=0,this.addCommands({cmd:()=>{for(const c of a)x(this,Ts).has(c.id)&&c.translateInPage(i,s)},undo:()=>{for(const c of a)x(this,Ts).has(c.id)&&c.translateInPage(-i,-s)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),W(this,Bu,new Map);for(const e of x(this,Rr))x(this,Bu).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,Bu))return!1;this.disableUserSelect(!1);const e=x(this,Bu);W(this,Bu,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(x(this,Ts).has(i.id)){const c=x(this,sa).get(o);c?i._setParentAndPosition(c,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(x(this,Bu))for(const r of x(this,Bu).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,Rr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,nl)===e}getActive(){return x(this,nl)}getMode(){return x(this,Os)}get imageManager(){return Yn(this,"imageManager",new KS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,h=t.rangeCount;f<h;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(f,h,p,g)=>({x:(h-i)/a,y:1-(f+p-r)/s,width:g/a,height:p/s});break;case"180":o=(f,h,p,g)=>({x:1-(f+p-r)/s,y:1-(h+g-i)/a,width:p/s,height:g/a});break;case"270":o=(f,h,p,g)=>({x:1-(h+g-i)/a,y:(f-r)/s,width:g/a,height:p/s});break;default:o=(f,h,p,g)=>({x:(f-r)/s,y:(h-i)/a,width:p/s,height:g/a});break}const c=[];for(let f=0,h=t.rangeCount;f<h;f++){const p=t.getRangeAt(f);if(!p.collapsed)for(const{x:g,y:m,width:b,height:_}of p.getClientRects())b===0||_===0||c.push(o(g,m,b,_))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(x(this,s1)||W(this,s1,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=x(this,s1))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=x(this,s1))==null?void 0:i.get(e.data.id);if(!t)return;const r=x(this,Vf).getRawValue(t);r&&(x(this,Os)===Bn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};r1=new WeakMap,nl=new WeakMap,Ts=new WeakMap,sa=new WeakMap,i1=new WeakMap,Vf=new WeakMap,s1=new WeakMap,Wl=new WeakMap,_d=new WeakMap,tp=new WeakMap,a1=new WeakMap,np=new WeakMap,Bu=new WeakMap,Hc=new WeakMap,rp=new WeakMap,y2=new WeakMap,b2=new WeakMap,o1=new WeakMap,_2=new WeakMap,Uu=new WeakMap,wd=new WeakMap,l1=new WeakMap,Ad=new WeakMap,Hu=new WeakMap,Hw=new WeakMap,Sd=new WeakMap,w2=new WeakMap,Ed=new WeakMap,ip=new WeakMap,A2=new WeakMap,S2=new WeakMap,Os=new WeakMap,Rr=new WeakMap,Wf=new WeakMap,sp=new WeakMap,E2=new WeakMap,T2=new WeakMap,Td=new WeakMap,zu=new WeakMap,Xf=new WeakMap,C2=new WeakMap,Xl=new WeakMap,Nt=new WeakSet,A_=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ZS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of x(this,sa).values())if(r.hasTextLayer(e))return r;return null},kL=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=se(this,Nt,A_).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(x(this,Hu)||W(this,Hu,new VB(this)),x(this,Hu).show(r,i,this.direction==="ltr"))},NL=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){x(this,Wf)&&((s=x(this,Hu))==null||s.hide(),W(this,Wf,null),se(this,Nt,$a).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===x(this,Wf))return;const i=se(this,Nt,A_).call(this,e).closest(".textLayer");if(!i){x(this,Wf)&&((a=x(this,Hu))==null||a.hide(),W(this,Wf,null),se(this,Nt,$a).call(this,{hasSelectedText:!1}));return}if((o=x(this,Hu))==null||o.hide(),W(this,Wf,t),se(this,Nt,$a).call(this,{hasSelectedText:!0}),!(x(this,Os)!==Bn.HIGHLIGHT&&x(this,Os)!==Bn.NONE)&&(x(this,Os)===Bn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),W(this,Ad,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=x(this,Os)===Bn.HIGHLIGHT?se(this,Nt,ZS).call(this,i):null;c==null||c.toggleDrawing();const f=new AbortController,h=this.combinedSignal(f),p=g=>{g.type==="pointerup"&&g.button!==0||(f.abort(),c==null||c.toggleDrawing(!0),g.type==="pointerup"&&se(this,Nt,S_).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},S_=function(e=""){x(this,Os)===Bn.HIGHLIGHT?this.highlightSelection(e):x(this,y2)&&se(this,Nt,kL).call(this)},RL=function(){document.addEventListener("selectionchange",se(this,Nt,NL).bind(this),{signal:this._signal})},LL=function(){if(x(this,wd))return;W(this,wd,new AbortController);const e=this.combinedSignal(x(this,wd));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},IL=function(){var e;(e=x(this,wd))==null||e.abort(),W(this,wd,null)},QS=function(){if(x(this,Ed))return;W(this,Ed,new AbortController);const e=this.combinedSignal(x(this,Ed));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},ML=function(){var e;(e=x(this,Ed))==null||e.abort(),W(this,Ed,null)},eE=function(){if(x(this,_d))return;W(this,_d,new AbortController);const e=this.combinedSignal(x(this,_d));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},tE=function(){var e;(e=x(this,_d))==null||e.abort(),W(this,_d,null)},FL=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$a=function(e){Object.entries(e).some(([r,i])=>x(this,T2)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,T2),e)}),x(this,Os)===Bn.HIGHLIGHT&&e.hasSelectedEditor===!1&&se(this,Nt,Hf).call(this,[[ir.HIGHLIGHT_FREE,!0]]))},Hf=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},DL=async function(){if(!x(this,Sd)){W(this,Sd,!0);const e=[];for(const t of x(this,sa).values())e.push(t.enable());await Promise.all(e);for(const t of x(this,Ts).values())t.enable()}},PL=function(){if(this.unselectAll(),x(this,Sd)){W(this,Sd,!1);for(const e of x(this,sa).values())e.disable();for(const e of x(this,Ts).values())e.disable()}},nE=function(e){const t=x(this,sa).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},OL=function(){let e=null;for(e of x(this,Rr));return e},fx=function(){if(x(this,Ts).size===0)return!0;if(x(this,Ts).size===1)for(const e of x(this,Ts).values())return e.isEmpty();return!1},rE=function(e){for(const t of x(this,Rr))t.unselect();x(this,Rr).clear();for(const t of e)t.isEmpty()||(x(this,Rr).add(t),t.select());se(this,Nt,$a).call(this,{hasSelectedEditor:this.hasSelection})},Ct(Hg,"TRANSLATE_SMALL",1),Ct(Hg,"TRANSLATE_BIG",10);let cm=Hg;var Bs,ju,zc,c1,Gu,rl,u1,qu,Lo,Yf,ap,Vu,Cd,eu,hx,E_;const Ka=class Ka{constructor(e){ne(this,eu);ne(this,Bs,null);ne(this,ju,!1);ne(this,zc,null);ne(this,c1,null);ne(this,Gu,null);ne(this,rl,null);ne(this,u1,!1);ne(this,qu,null);ne(this,Lo,null);ne(this,Yf,null);ne(this,ap,null);ne(this,Vu,!1);W(this,Lo,e),W(this,Vu,e._uiManager.useNewAltTextFlow),x(Ka,Cd)||W(Ka,Cd,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ka._l10n??(Ka._l10n=e)}async render(){const e=W(this,zc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=W(this,c1,document.createElement("span"));e.append(t),x(this,Vu)?(e.classList.add("new"),e.setAttribute("data-l10n-id",x(Ka,Cd).missing),t.setAttribute("data-l10n-id",x(Ka,Cd)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=x(this,Lo)._uiManager._signal;e.addEventListener("contextmenu",su,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),x(this,Lo)._uiManager.editAltText(x(this,Lo)),x(this,Vu)&&x(this,Lo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:x(this,eu,hx)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(W(this,u1,!0),i(s))},{signal:r}),await se(this,eu,E_).call(this),e}finish(){x(this,zc)&&(x(this,zc).focus({focusVisible:x(this,u1)}),W(this,u1,!1))}isEmpty(){return x(this,Vu)?x(this,Bs)===null:!x(this,Bs)&&!x(this,ju)}hasData(){return x(this,Vu)?x(this,Bs)!==null||!!x(this,Yf):this.isEmpty()}get guessedText(){return x(this,Yf)}async setGuessedText(e){x(this,Bs)===null&&(W(this,Yf,e),W(this,ap,await Ka._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),se(this,eu,E_).call(this))}toggleAltTextBadge(e=!1){var t;if(!x(this,Vu)||x(this,Bs)){(t=x(this,qu))==null||t.remove(),W(this,qu,null);return}if(!x(this,qu)){const r=W(this,qu,document.createElement("div"));r.className="noAltTextBadge",x(this,Lo).div.append(r)}x(this,qu).classList.toggle("hidden",!e)}serialize(e){let t=x(this,Bs);return!e&&x(this,Yf)===t&&(t=x(this,ap)),{altText:t,decorative:x(this,ju),guessedText:x(this,Yf),textWithDisclaimer:x(this,ap)}}get data(){return{altText:x(this,Bs),decorative:x(this,ju)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(W(this,Yf,r),W(this,ap,i)),!(x(this,Bs)===e&&x(this,ju)===t)&&(s||(W(this,Bs,e),W(this,ju,t)),se(this,eu,E_).call(this))}toggle(e=!1){x(this,zc)&&(!e&&x(this,rl)&&(clearTimeout(x(this,rl)),W(this,rl,null)),x(this,zc).disabled=!e)}shown(){x(this,Lo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:x(this,eu,hx)}})}destroy(){var e,t;(e=x(this,zc))==null||e.remove(),W(this,zc,null),W(this,c1,null),W(this,Gu,null),(t=x(this,qu))==null||t.remove(),W(this,qu,null)}};Bs=new WeakMap,ju=new WeakMap,zc=new WeakMap,c1=new WeakMap,Gu=new WeakMap,rl=new WeakMap,u1=new WeakMap,qu=new WeakMap,Lo=new WeakMap,Yf=new WeakMap,ap=new WeakMap,Vu=new WeakMap,Cd=new WeakMap,eu=new WeakSet,hx=function(){return x(this,Bs)&&"added"||x(this,Bs)===null&&this.guessedText&&"review"||"missing"},E_=async function(){var i,s,a;const e=x(this,zc);if(!e)return;if(x(this,Vu)){if(e.classList.toggle("done",!!x(this,Bs)),e.setAttribute("data-l10n-id",x(Ka,Cd)[x(this,eu,hx)]),(i=x(this,c1))==null||i.setAttribute("data-l10n-id",x(Ka,Cd)[`${x(this,eu,hx)}-label`]),!x(this,Bs)){(s=x(this,Gu))==null||s.remove();return}}else{if(!x(this,Bs)&&!x(this,ju)){e.classList.remove("done"),(a=x(this,Gu))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=x(this,Gu);if(!t){W(this,Gu,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${x(this,Lo).id}`;const o=100,c=x(this,Lo)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(x(this,rl)),W(this,rl,null)},{once:!0}),e.addEventListener("mouseenter",()=>{W(this,rl,setTimeout(()=>{W(this,rl,null),x(this,Gu).classList.add("show"),x(this,Lo)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var f;x(this,rl)&&(clearTimeout(x(this,rl)),W(this,rl,null)),(f=x(this,Gu))==null||f.classList.remove("show")},{signal:c})}x(this,ju)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=x(this,Bs)),t.parentNode||e.append(t);const r=x(this,Lo).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ne(Ka,Cd,null),Ct(Ka,"_l10n",null);let ow=Ka;var k2,op,N2,R2,L2,I2,M2,f1,$f,lp,kd,Ch,BL,UL,iE;const lC=class lC{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ne(this,Ch);ne(this,k2);ne(this,op,!1);ne(this,N2,null);ne(this,R2);ne(this,L2);ne(this,I2);ne(this,M2);ne(this,f1);ne(this,$f,null);ne(this,lp);ne(this,kd,null);W(this,k2,e),W(this,N2,r),W(this,R2,t),W(this,L2,i),W(this,I2,s),W(this,M2,a),W(this,lp,new AbortController),W(this,f1,AbortSignal.any([o,x(this,lp).signal])),e.addEventListener("touchstart",se(this,Ch,BL).bind(this),{passive:!1,signal:x(this,f1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Yn(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=x(this,lp))==null||e.abort(),W(this,lp,null)}};k2=new WeakMap,op=new WeakMap,N2=new WeakMap,R2=new WeakMap,L2=new WeakMap,I2=new WeakMap,M2=new WeakMap,f1=new WeakMap,$f=new WeakMap,lp=new WeakMap,kd=new WeakMap,Ch=new WeakSet,BL=function(e){var i,s,a;if((i=x(this,R2))!=null&&i.call(this)||e.touches.length<2)return;if(!x(this,kd)){W(this,kd,new AbortController);const o=AbortSignal.any([x(this,f1),x(this,kd).signal]),c=x(this,k2),f={signal:o,passive:!1};c.addEventListener("touchmove",se(this,Ch,UL).bind(this),f),c.addEventListener("touchend",se(this,Ch,iE).bind(this),f),c.addEventListener("touchcancel",se(this,Ch,iE).bind(this),f),(s=x(this,L2))==null||s.call(this)}if(xl(e),e.touches.length!==2||(a=x(this,N2))!=null&&a.call(this)){W(this,$f,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),W(this,$f,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},UL=function(e){var F;if(!x(this,$f)||e.touches.length!==2)return;let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,c=x(this,$f),{touch0X:f,touch0Y:h,touch1X:p,touch1Y:g}=c,m=p-f,b=g-h,_=a-i,w=o-s,T=Math.hypot(_,w)||1,L=Math.hypot(m,b)||1;if(!x(this,op)&&Math.abs(L-T)<=lC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,e.preventDefault(),!x(this,op)){W(this,op,!0);return}const R=[(i+a)/2,(s+o)/2];(F=x(this,I2))==null||F.call(this,R,L,T)},iE=function(e){var t;x(this,kd).abort(),W(this,kd,null),(t=x(this,M2))==null||t.call(this),x(this,$f)&&(e.preventDefault(),W(this,$f,null),W(this,op,!1))};let lw=lC;var cp,jc,ii,h1,Nd,F2,up,aa,fp,Kf,Rd,D2,hp,il,P2,dp,Jf,Wu,d1,p1,Yl,pp,O2,zw,xn,sE,B2,aE,T_,HL,zL,oE,C_,lE,jL,GL,qL,cE,VL,uE,WL,XL,YL,fE,dx;const jn=class jn{constructor(e){ne(this,xn);ne(this,cp,null);ne(this,jc,null);ne(this,ii,null);ne(this,h1,!1);ne(this,Nd,null);ne(this,F2,"");ne(this,up,!1);ne(this,aa,null);ne(this,fp,null);ne(this,Kf,null);ne(this,Rd,null);ne(this,D2,"");ne(this,hp,!1);ne(this,il,null);ne(this,P2,!1);ne(this,dp,!1);ne(this,Jf,!1);ne(this,Wu,null);ne(this,d1,0);ne(this,p1,0);ne(this,Yl,null);ne(this,pp,null);Ct(this,"_editToolbar",null);Ct(this,"_initialOptions",Object.create(null));Ct(this,"_initialData",null);Ct(this,"_isVisible",!0);Ct(this,"_uiManager",null);Ct(this,"_focusEventsAllowed",!0);ne(this,O2,!1);ne(this,zw,jn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=jn.prototype._resizeWithKeyboard,t=cm.TRANSLATE_SMALL,r=cm.TRANSLATE_BIG;return Yn(this,"_resizerKeyboardManager",new Hy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],jn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new YB({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(jn._l10n??(jn._l10n=e),jn._l10nResizer||(jn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);jn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Kr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,O2)}set _isDraggable(e){var t;W(this,O2,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,zw)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):se(this,xn,dx).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,hp)?W(this,hp,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){se(this,xn,sE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){x(this,il)||W(this,il,[this.x,this.y,this.width,this.height]),se(this,xn,sE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){x(this,il)||W(this,il,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,f]=this.getBaseTranslation();a+=c,o+=f;const{style:h}=r;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!x(this,il)&&(x(this,il)[0]!==this.x||x(this,il)[1]!==this.y)}get _hasBeenResized(){return!!x(this,il)&&(x(this,il)[2]!==this.width||x(this,il)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=jn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=r,c*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(r-o,s)),a=Math.max(0,Math.min(i-c,a));break;case 90:s=Math.max(0,Math.min(r-c,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(r,Math.max(o,s)),a=Math.min(i,Math.max(c,a));break;case 270:s=Math.min(r,Math.max(c,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=r,this.y=a/=i;const[f,h]=this.getBaseTranslation();s+=f,a+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return se(r=jn,B2,aE).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return se(r=jn,B2,aE).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,x(this,up)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!x(this,up)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!x(this,up)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=x(this,ii))==null||e.finish()}async addEditToolbar(){return this._editToolbar||x(this,dp)?this._editToolbar:(this._editToolbar=new YS(this),this.div.append(this._editToolbar.render()),x(this,ii)&&await this._editToolbar.addAltText(x(this,ii)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=x(this,ii))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,ii)||(ow.initialize(jn._l10n),W(this,ii,new ow(this)),x(this,cp)&&(x(this,ii).data=x(this,cp),W(this,cp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,ii))==null?void 0:e.data}set altTextData(e){x(this,ii)&&(x(this,ii).data=e)}get guessedAltText(){var e;return(e=x(this,ii))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=x(this,ii))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=x(this,ii))==null?void 0:t.serialize(e)}hasAltText(){return!!x(this,ii)&&!x(this,ii).isEmpty()}hasAltTextData(){var e;return((e=x(this,ii))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=x(this,h1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),se(this,xn,uE).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),aw(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(x(this,pp)||W(this,pp,new lw({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:se(this,xn,jL).bind(this),onPinching:se(this,xn,GL).bind(this),onPinchEnd:se(this,xn,qL).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=ro.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(W(this,hp,!0),this._isDraggable){se(this,xn,VL).call(this,e);return}se(this,xn,cE).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){x(this,Wu)&&clearTimeout(x(this,Wu)),W(this,Wu,setTimeout(()=>{var e;W(this,Wu,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,f=e/i,h=t/i,p=this.x*s,g=this.y*a,m=this.width*s,b=this.height*a;switch(r){case 0:return[p+f+o,a-g-h-b+c,p+f+m+o,a-g-h+c];case 90:return[p+h+o,a-g+f+c,p+h+b+o,a-g+f+m+c];case 180:return[p-f-m+o,a-g+h+c,p-f+o,a-g+h+b+c];case 270:return[p-h-b+o,a-g-f-m+c,p-h+o,a-g-f+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,c=a-i;switch(this.rotation){case 0:return[r,t-a,o,c];case 90:return[r,t-i,c,o];case 180:return[s,t-i,o,c];case 270:return[s,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){W(this,dp,!0)}disableEditMode(){W(this,dp,!1)}isInEditMode(){return x(this,dp)}shouldGetKeyboardEvents(){return x(this,Jf)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){se(this,xn,uE).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Kr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,W(i,cp,e.accessibilityData);const[s,a]=i.pageDimensions,[o,c,f,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=c/a,i.width=f/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=x(this,Rd))==null||e.abort(),W(this,Rd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,Wu)&&(clearTimeout(x(this,Wu)),W(this,Wu,null)),se(this,xn,dx).call(this),this.removeEditToolbar(),x(this,Yl)){for(const r of x(this,Yl).values())clearTimeout(r);W(this,Yl,null)}this.parent=null,(t=x(this,pp))==null||t.destroy(),W(this,pp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(se(this,xn,HL).call(this),x(this,aa).classList.remove("hidden"),aw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),W(this,Kf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=x(this,aa).children;if(!x(this,jc)){W(this,jc,Array.from(t));const a=se(this,xn,WL).bind(this),o=se(this,xn,XL).bind(this),c=this._uiManager._signal;for(const f of x(this,jc)){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",a,{signal:c}),f.addEventListener("blur",o,{signal:c}),f.addEventListener("focus",se(this,xn,YL).bind(this,h),{signal:c}),f.setAttribute("data-l10n-id",jn._l10nResizer[h])}}const r=x(this,jc)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(x(this,jc).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)x(this,aa).append(x(this,aa).firstChild);else if(s>i)for(let o=0;o<s-i;o++)x(this,aa).firstChild.before(x(this,aa).lastChild);let a=0;for(const o of t){const f=x(this,jc)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",jn._l10nResizer[f])}}se(this,xn,fE).call(this,0),W(this,Jf,!0),x(this,aa).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){x(this,Jf)&&se(this,xn,lE).call(this,x(this,D2),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){se(this,xn,dx).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=x(this,ii))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=x(this,aa))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=x(this,ii))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return x(this,P2)}set isEditing(e){W(this,P2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){W(this,up,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){x(this,Yl)||W(this,Yl,new Map);const{action:r}=e;let i=x(this,Yl).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),x(this,Yl).delete(r),x(this,Yl).size===0&&W(this,Yl,null)},jn._telemetryTimeout),x(this,Yl).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),W(this,h1,!1)}disable(){this.div&&(this.div.tabIndex=-1),W(this,h1,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};cp=new WeakMap,jc=new WeakMap,ii=new WeakMap,h1=new WeakMap,Nd=new WeakMap,F2=new WeakMap,up=new WeakMap,aa=new WeakMap,fp=new WeakMap,Kf=new WeakMap,Rd=new WeakMap,D2=new WeakMap,hp=new WeakMap,il=new WeakMap,P2=new WeakMap,dp=new WeakMap,Jf=new WeakMap,Wu=new WeakMap,d1=new WeakMap,p1=new WeakMap,Yl=new WeakMap,pp=new WeakMap,O2=new WeakMap,zw=new WeakMap,xn=new WeakSet,sE=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},B2=new WeakSet,aE=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},T_=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},HL=function(){if(x(this,aa))return;W(this,aa,document.createElement("div")),x(this,aa).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");x(this,aa).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",se(this,xn,zL).bind(this,r),{signal:t}),i.addEventListener("contextmenu",su,{signal:t}),i.tabIndex=-1}this.div.prepend(x(this,aa))},zL=function(e,t){var h;t.preventDefault();const{isMac:r}=ro.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=x(this,ii))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,W(this,fp,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",se(this,xn,lE).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",xl,{passive:!1,signal:a}),window.addEventListener("contextmenu",su,{signal:a}),W(this,Kf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=x(this,ii))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=c,se(this,xn,C_).call(this)};window.addEventListener("pointerup",f,{signal:a}),window.addEventListener("blur",f,{signal:a})},oE=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*r,a*i),this.fixAndSetPosition(),this._onResized()},C_=function(){if(!x(this,Kf))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=x(this,Kf);W(this,Kf,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===t&&o===r&&c===i||this.addCommands({cmd:se(this,xn,oE).bind(this,s,a,o,c),undo:se(this,xn,oE).bind(this,e,t,r,i),mustExec:!0})},lE=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,f=jn.MIN_SIZE/r,h=jn.MIN_SIZE/i,p=se(this,xn,T_).call(this,this.rotation),g=(K,le)=>[p[0]*K+p[2]*le,p[1]*K+p[3]*le],m=se(this,xn,T_).call(this,360-this.rotation),b=(K,le)=>[m[0]*K+m[2]*le,m[1]*K+m[3]*le];let _,w,T=!1,L=!1;switch(e){case"topLeft":T=!0,_=(K,le)=>[0,0],w=(K,le)=>[K,le];break;case"topMiddle":_=(K,le)=>[K/2,0],w=(K,le)=>[K/2,le];break;case"topRight":T=!0,_=(K,le)=>[K,0],w=(K,le)=>[0,le];break;case"middleRight":L=!0,_=(K,le)=>[K,le/2],w=(K,le)=>[0,le/2];break;case"bottomRight":T=!0,_=(K,le)=>[K,le],w=(K,le)=>[0,0];break;case"bottomMiddle":_=(K,le)=>[K/2,le],w=(K,le)=>[K/2,0];break;case"bottomLeft":T=!0,_=(K,le)=>[0,le],w=(K,le)=>[K,0];break;case"middleLeft":L=!0,_=(K,le)=>[0,le/2],w=(K,le)=>[K,le/2];break}const R=_(o,c),F=w(o,c);let z=g(...F);const q=jn._round(s+z[0]),P=jn._round(a+z[1]);let X=1,O=1,ee,B;if(t.fromKeyboard)({deltaX:ee,deltaY:B}=t);else{const{screenX:K,screenY:le}=t,[Se,ve]=x(this,fp);[ee,B]=this.screenToPageTranslation(K-Se,le-ve),x(this,fp)[0]=K,x(this,fp)[1]=le}if([ee,B]=b(ee/r,B/i),T){const K=Math.hypot(o,c);X=O=Math.max(Math.min(Math.hypot(F[0]-R[0]-ee,F[1]-R[1]-B)/K,1/o,1/c),f/o,h/c)}else L?X=Math.max(f,Math.min(1,Math.abs(F[0]-R[0]-ee)))/o:O=Math.max(h,Math.min(1,Math.abs(F[1]-R[1]-B)))/c;const G=jn._round(o*X),Q=jn._round(c*O);z=g(...w(G,Q));const ce=q-z[0],_e=P-z[1];x(this,il)||W(this,il,[this.x,this.y,this.width,this.height]),this.width=G,this.height=Q,this.x=ce,this.y=_e,this.setDims(r*G,i*Q),this.fixAndSetPosition(),this._onResizing()},jL=function(){var e;W(this,Kf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=x(this,ii))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},GL=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=se(this,xn,T_).call(this,this.rotation),o=(q,P)=>[a[0]*q+a[2]*P,a[1]*q+a[3]*P],[c,f]=this.parentDimensions,h=this.x,p=this.y,g=this.width,m=this.height,b=jn.MIN_SIZE/c,_=jn.MIN_SIZE/f;s=Math.max(Math.min(s,1/g,1/m),b/g,_/m);const w=jn._round(g*s),T=jn._round(m*s);if(w===g&&T===m)return;x(this,il)||W(this,il,[h,p,g,m]);const L=o(g/2,m/2),R=jn._round(h+L[0]),F=jn._round(p+L[1]),z=o(w/2,T/2);this.x=R-z[0],this.y=F-z[1],this.width=w,this.height=T,this.setDims(c*w,f*T),this.fixAndSetPosition(),this._onResizing()},qL=function(){var e;(e=x(this,ii))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),se(this,xn,C_).call(this)},cE=function(e){const{isMac:t}=ro.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},VL=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=f=>{i.abort(),W(this,Nd,null),W(this,hp,!1),this._uiManager.endDragSession()||se(this,xn,cE).call(this,f),r&&this._onStopDragging()};t&&(W(this,d1,e.clientX),W(this,p1,e.clientY),W(this,Nd,e.pointerId),W(this,F2,e.pointerType),window.addEventListener("pointermove",f=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:g}=f;if(g!==x(this,Nd)){xl(f);return}const[m,b]=this.screenToPageTranslation(h-x(this,d1),p-x(this,p1));W(this,d1,h),W(this,p1,p),this._uiManager.dragSelectedEditors(m,b)},a),window.addEventListener("touchmove",xl,a),window.addEventListener("pointerdown",f=>{f.pointerType===x(this,F2)&&(x(this,pp)||f.isPrimary)&&o(f),xl(f)},a));const c=f=>{if(!x(this,Nd)||x(this,Nd)===f.pointerId){o(f);return}xl(f)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},uE=function(){if(x(this,Rd)||!this.div)return;W(this,Rd,new AbortController);const e=this._uiManager.combinedSignal(x(this,Rd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},WL=function(e){jn._resizerKeyboardManager.exec(this,e)},XL=function(e){var t;x(this,Jf)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==x(this,aa)&&se(this,xn,dx).call(this)},YL=function(e){W(this,D2,x(this,Jf)?e:"")},fE=function(e){if(x(this,jc))for(const t of x(this,jc))t.tabIndex=e},dx=function(){W(this,Jf,!1),se(this,xn,fE).call(this,-1),se(this,xn,C_).call(this)},ne(jn,B2),Ct(jn,"_l10n",null),Ct(jn,"_l10nResizer",null),Ct(jn,"_borderLineWidth",-1),Ct(jn,"_colorManager",new JS),Ct(jn,"_zIndex",1),Ct(jn,"_telemetryTimeout",1e3);let Ei=jn;class YB extends Ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Vk=3285377520,Hl=4294901760,Lu=65535;class $L{constructor(e){this.h1=e?e&4294967295:Vk,this.h2=e?e&4294967295:Vk}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let _=0,w=e.length;_<w;_++){const T=e.charCodeAt(_);T<=255?t[r++]=T:(t[r++]=T>>>8,t[r++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,c=0,f=this.h1,h=this.h2;const p=3432918353,g=461845907,m=p&Lu,b=g&Lu;for(let _=0;_<i;_++)_&1?(o=a[_],o=o*p&Hl|o*m&Lu,o=o<<15|o>>>17,o=o*g&Hl|o*b&Lu,f^=o,f=f<<13|f>>>19,f=f*5+3864292196):(c=a[_],c=c*p&Hl|c*m&Lu,c=c<<15|c>>>17,c=c*g&Hl|c*b&Lu,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&Hl|o*m&Lu,o=o<<15|o>>>17,o=o*g&Hl|o*b&Lu,i&1?f^=o:h^=o}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Hl|e*36045&Lu,t=t*4283543511&Hl|((t<<16|e>>>16)*2950163797&Hl)>>>16,e^=t>>>1,e=e*444984403&Hl|e*60499&Lu,t=t*3301882366&Hl|((t<<16|e>>>16)*3120437893&Hl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const hE=Object.freeze({map:null,hash:"",transfer:void 0});var mp,gp,Us,jw,KL;class t4{constructor(){ne(this,jw);ne(this,mp,!1);ne(this,gp,null);ne(this,Us,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=x(this,Us).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return x(this,Us).get(e)}remove(e){if(x(this,Us).delete(e),x(this,Us).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of x(this,Us).values())if(t instanceof Ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=x(this,Us).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,x(this,Us).set(e,t);i&&se(this,jw,KL).call(this),t instanceof Ei&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return x(this,Us).has(e)}getAll(){return x(this,Us).size>0?$T(x(this,Us)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return x(this,Us).size}resetModified(){x(this,mp)&&(W(this,mp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new JL(this)}get serializable(){if(x(this,Us).size===0)return hE;const e=new Map,t=new $L,r=[],i=Object.create(null);let s=!1;for(const[a,o]of x(this,Us)){const c=o instanceof Ei?o.serialize(!1,i):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:hE}get editorStats(){let e=null;const t=new Map;for(const r of x(this,Us).values()){if(!(r instanceof Ei))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,c]of Object.entries(i)){if(o==="type")continue;let f=a.get(o);f||(f=new Map,a.set(o,f));const h=f.get(c)??0;f.set(c,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){W(this,gp,null)}get modifiedIds(){if(x(this,gp))return x(this,gp);const e=[];for(const t of x(this,Us).values())!(t instanceof Ei)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return W(this,gp,{ids:new Set(e),hash:e.join(",")})}}mp=new WeakMap,gp=new WeakMap,Us=new WeakMap,jw=new WeakSet,KL=function(){x(this,mp)||(W(this,mp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var U2;class JL extends t4{constructor(t){super();ne(this,U2);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);W(this,U2,{map:a,hash:i,transfer:s})}get print(){Kr("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,U2)}get modifiedIds(){return Yn(this,"modifiedIds",{ids:new Set,hash:""})}}U2=new WeakMap;var m1;class $B{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ne(this,m1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,m1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||x(this,m1).has(e.loadedName))){if(hs(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),x(this,m1).add(r),t==null||t(e)}catch{Un(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Kr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Un(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Fa||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(hs(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(F,z){return F.charCodeAt(z)<<24|F.charCodeAt(z+1)<<16|F.charCodeAt(z+2)<<8|F.charCodeAt(z+3)&255}function i(F,z,q,P){const X=F.substring(0,z),O=F.substring(z+q);return X+P+O}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let f=0;function h(F,z){if(++f>30){Un("Load test font never loaded."),z();return}if(c.font="30px "+F,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(h.bind(null,F,z))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const b=16,_=1482184792;let w=r(g,b);for(s=0,a=p.length-3;s<a;s+=4)w=w-_+r(p,s)|0;s<p.length&&(w=w-_+r(p+"XXX",s)|0),g=i(g,b,4,FB(w));const T=`url(data:font/opentype;base64,${btoa(g)});`,L=`@font-face {font-family:"${p}";src:${T}}`;this.insertRule(L);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const F of[e.loadedName,p]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=F,R.append(z)}this._document.body.append(R),h(p,()=>{R.remove(),t.complete()})}}m1=new WeakMap;class KB{constructor(e,{disableFontFace:t=!1,fontExtraProperties:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=r===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${HB(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){Un(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}const Gb={DATA:1,ERROR:2},os={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Wk(){}function No(n){if(n instanceof Qd||n instanceof VS||n instanceof Xx||n instanceof jk||n instanceof sw||n instanceof YA)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Kr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Qd(n.message);case"InvalidPDFException":return new VS(n.message);case"MissingPDFException":return new Xx(n.message);case"PasswordException":return new jk(n.message,n.code);case"UnexpectedResponseException":return new sw(n.message,n.status);case"UnknownErrorException":return new YA(n.message,n.details)}return new YA(n.message,n.toString())}var g1,ic,ZL,QL,eI,k_;class px{constructor(e,t,r){ne(this,ic);ne(this,g1,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",se(this,ic,ZL).bind(this),{signal:x(this,g1).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:f.desiredSize},i),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:a,targetName:o,stream:os.PULL,streamId:s,desiredSize:f.desiredSize}),h.promise},cancel:f=>{hs(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:os.CANCEL,streamId:s,reason:No(f)}),h.promise}},r)}destroy(){var e;(e=x(this,g1))==null||e.abort(),W(this,g1,null)}}g1=new WeakMap,ic=new WeakSet,ZL=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){se(this,ic,eI).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Gb.DATA)i.resolve(e.data);else if(e.callback===Gb.ERROR)i.reject(No(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Gb.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Gb.ERROR,callbackId:e.callbackId,reason:No(a)})});return}if(e.streamId){se(this,ic,QL).call(this,e);return}t(e.data)},QL=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(f,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:os.ENQUEUE,streamId:t,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:os.CLOSE,streamId:t}),delete a.streamSinks[t])},error(f){hs(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:os.ERROR,streamId:t,reason:No(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(o,e.data,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.START_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:os.START_COMPLETE,streamId:t,reason:No(f)})})},eI=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case os.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(No(e.reason));break;case os.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(No(e.reason));break;case os.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||Wk).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:os.PULL_COMPLETE,streamId:t,reason:No(f)})});break;case os.ENQUEUE:if(hs(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case os.CLOSE:if(hs(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),se(this,ic,k_).call(this,a,t);break;case os.ERROR:hs(a,"error should have stream controller"),a.controller.error(No(e.reason)),se(this,ic,k_).call(this,a,t);break;case os.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(No(e.reason)),se(this,ic,k_).call(this,a,t);break;case os.CANCEL:if(!o)break;const c=No(e.reason);Promise.try(o.onCancel||Wk,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:os.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){s.postMessage({sourceName:r,targetName:i,stream:os.CANCEL_COMPLETE,streamId:t,reason:No(f)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},k_=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var H2;class tI{constructor({enableHWA:e=!1}){ne(this,H2,!1);W(this,H2,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!x(this,H2)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Kr("Abstract method `_createCanvas` called.")}}H2=new WeakMap;class JB extends tI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class nI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class rI extends nI{async _fetch(e){const t=await o5(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):a5(t)}}class iI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var vp,v1,Zf,Qf,Ca,xp,yp,Ot,Sa,mx,Eg,N_,Tg,sI,dE,Cg,gx,vx,pE,xx;class ZB extends iI{constructor({docId:t,ownerDocument:r=globalThis.document}){super();ne(this,Ot);ne(this,vp);ne(this,v1);ne(this,Zf);ne(this,Qf);ne(this,Ca);ne(this,xp);ne(this,yp,0);W(this,Qf,t),W(this,Ca,r)}addFilter(t){if(!t)return"none";let r=x(this,Ot,Sa).get(t);if(r)return r;const[i,s,a]=se(this,Ot,N_).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=x(this,Ot,Sa).get(o),r)return x(this,Ot,Sa).set(t,r),r;const c=`g_${x(this,Qf)}_transfer_map_${Ya(this,yp)._++}`,f=se(this,Ot,Tg).call(this,c);x(this,Ot,Sa).set(t,f),x(this,Ot,Sa).set(o,f);const h=se(this,Ot,Cg).call(this,c);return se(this,Ot,vx).call(this,i,s,a,h),f}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=x(this,Ot,mx).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},x(this,Ot,mx).set(s,a)),!t||!r))return a.url;const o=se(this,Ot,xx).call(this,t);t=rn.makeHexColor(...o);const c=se(this,Ot,xx).call(this,r);if(r=rn.makeHexColor(...c),x(this,Ot,Eg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const f=new Array(256);for(let _=0;_<=255;_++){const w=_/255;f[_]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=f.join(","),p=`g_${x(this,Qf)}_hcm_filter`,g=a.filter=se(this,Ot,Cg).call(this,p);se(this,Ot,vx).call(this,h,h,h,g),se(this,Ot,dE).call(this,g);const m=(_,w)=>{const T=o[_]/255,L=c[_]/255,R=new Array(w+1);for(let F=0;F<=w;F++)R[F]=T+F/w*(L-T);return R.join(",")};return se(this,Ot,vx).call(this,m(0,5),m(1,5),m(2,5),g),a.url=se(this,Ot,Tg).call(this,p),a.url}addAlphaFilter(t){let r=x(this,Ot,Sa).get(t);if(r)return r;const[i]=se(this,Ot,N_).call(this,[t]),s=`alpha_${i}`;if(r=x(this,Ot,Sa).get(s),r)return x(this,Ot,Sa).set(t,r),r;const a=`g_${x(this,Qf)}_alpha_map_${Ya(this,yp)._++}`,o=se(this,Ot,Tg).call(this,a);x(this,Ot,Sa).set(t,o),x(this,Ot,Sa).set(s,o);const c=se(this,Ot,Cg).call(this,a);return se(this,Ot,pE).call(this,i,c),o}addLuminosityFilter(t){let r=x(this,Ot,Sa).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=se(this,Ot,N_).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=x(this,Ot,Sa).get(s),r)return x(this,Ot,Sa).set(t,r),r;const a=`g_${x(this,Qf)}_luminosity_map_${Ya(this,yp)._++}`,o=se(this,Ot,Tg).call(this,a);x(this,Ot,Sa).set(t,o),x(this,Ot,Sa).set(s,o);const c=se(this,Ot,Cg).call(this,a);return se(this,Ot,sI).call(this,c),t&&se(this,Ot,pE).call(this,i,c),o}addHighlightHCMFilter(t,r,i,s,a){var L;const o=`${r}-${i}-${s}-${a}`;let c=x(this,Ot,mx).get(t);if((c==null?void 0:c.key)===o||(c?((L=c.filter)==null||L.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},x(this,Ot,mx).set(t,c)),!r||!i))return c.url;const[f,h]=[r,i].map(se(this,Ot,xx).bind(this));let p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,b]=[s,a].map(se(this,Ot,xx).bind(this));g<p&&([p,g,m,b]=[g,p,b,m]),x(this,Ot,Eg).style.color="";const _=(R,F,z)=>{const q=new Array(256),P=(g-p)/z,X=R/255,O=(F-R)/(255*z);let ee=0;for(let B=0;B<=z;B++){const G=Math.round(p+B*P),Q=X+B*O;for(let ce=ee;ce<=G;ce++)q[ce]=Q;ee=G+1}for(let B=ee;B<256;B++)q[B]=q[ee-1];return q.join(",")},w=`g_${x(this,Qf)}_hcm_${t}_filter`,T=c.filter=se(this,Ot,Cg).call(this,w);return se(this,Ot,dE).call(this,T),se(this,Ot,vx).call(this,_(m[0],b[0],5),_(m[1],b[1],5),_(m[2],b[2],5),T),c.url=se(this,Ot,Tg).call(this,w),c.url}destroy(t=!1){var r,i,s,a;t&&((r=x(this,xp))!=null&&r.size)||((i=x(this,Zf))==null||i.parentNode.parentNode.remove(),W(this,Zf,null),(s=x(this,v1))==null||s.clear(),W(this,v1,null),(a=x(this,xp))==null||a.clear(),W(this,xp,null),W(this,yp,0))}}vp=new WeakMap,v1=new WeakMap,Zf=new WeakMap,Qf=new WeakMap,Ca=new WeakMap,xp=new WeakMap,yp=new WeakMap,Ot=new WeakSet,Sa=function(){return x(this,v1)||W(this,v1,new Map)},mx=function(){return x(this,xp)||W(this,xp,new Map)},Eg=function(){if(!x(this,Zf)){const t=x(this,Ca).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=x(this,Ca).createElementNS(Uf,"svg");i.setAttribute("width",0),i.setAttribute("height",0),W(this,Zf,x(this,Ca).createElementNS(Uf,"defs")),t.append(i),i.append(x(this,Zf)),x(this,Ca).body.append(t)}return x(this,Zf)},N_=function(t){if(t.length===1){const f=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=f[g]/255;const p=h.join(",");return[p,p,p]}const[r,i,s]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let f=0;f<256;f++)a[f]=r[f]/255,o[f]=i[f]/255,c[f]=s[f]/255;return[a.join(","),o.join(","),c.join(",")]},Tg=function(t){if(x(this,vp)===void 0){W(this,vp,"");const r=x(this,Ca).URL;r!==x(this,Ca).baseURI&&(l5(r)?Un('#createUrl: ignore "data:"-URL for performance reasons.'):W(this,vp,r.split("#",1)[0]))}return`url(${x(this,vp)}#${t})`},sI=function(t){const r=x(this,Ca).createElementNS(Uf,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},dE=function(t){const r=x(this,Ca).createElementNS(Uf,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Cg=function(t){const r=x(this,Ca).createElementNS(Uf,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),x(this,Ot,Eg).append(r),r},gx=function(t,r,i){const s=x(this,Ca).createElementNS(Uf,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},vx=function(t,r,i,s){const a=x(this,Ca).createElementNS(Uf,"feComponentTransfer");s.append(a),se(this,Ot,gx).call(this,a,"feFuncR",t),se(this,Ot,gx).call(this,a,"feFuncG",r),se(this,Ot,gx).call(this,a,"feFuncB",i)},pE=function(t,r){const i=x(this,Ca).createElementNS(Uf,"feComponentTransfer");r.append(i),se(this,Ot,gx).call(this,i,"feFuncA",t)},xx=function(t){return x(this,Ot,Eg).style.color=t,e4(getComputedStyle(x(this,Ot,Eg)).getPropertyValue("color"))};class aI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Kr("Abstract method `_fetch` called.")}}class oI extends aI{async _fetch(e){const t=await o5(e,"arraybuffer");return new Uint8Array(t)}}Fa&&Un("Please use the `legacy` build in Node.js environments.");async function lI(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class QB extends iI{}class eU extends tI{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class tU extends nI{async _fetch(e){return lI(e)}}class nU extends aI{async _fetch(e){return lI(e)}}const La={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function mE(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class n4{getPattern(){Kr("Abstract method `getPattern` called.")}}class rU extends n4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===La.STROKE||i===La.FILL){const a=t.current.getClippedPathBoundingBox(i,gi(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,f=t.cachedCanvases.getCanvas("pattern",o,c),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=rn.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),mE(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else mE(e,this._bbox),s=this._createGradient(e);return s}}function JA(n,e,t,r,i,s,a,o){const c=e.coords,f=e.colors,h=n.data,p=n.width*4;let g;c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),c[r+1]>c[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const m=(c[t]+e.offsetX)*e.scaleX,b=(c[t+1]+e.offsetY)*e.scaleY,_=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY,T=(c[i]+e.offsetX)*e.scaleX,L=(c[i+1]+e.offsetY)*e.scaleY;if(b>=L)return;const R=f[s],F=f[s+1],z=f[s+2],q=f[a],P=f[a+1],X=f[a+2],O=f[o],ee=f[o+1],B=f[o+2],G=Math.round(b),Q=Math.round(L);let ce,_e,K,le,Se,ve,Pe,ie;for(let I=G;I<=Q;I++){if(I<w){const ye=I<b?0:(b-I)/(b-w);ce=m-(m-_)*ye,_e=R-(R-q)*ye,K=F-(F-P)*ye,le=z-(z-X)*ye}else{let ye;I>L?ye=1:w===L?ye=0:ye=(w-I)/(w-L),ce=_-(_-T)*ye,_e=q-(q-O)*ye,K=P-(P-ee)*ye,le=X-(X-B)*ye}let j;I<b?j=0:I>L?j=1:j=(b-I)/(b-L),Se=m-(m-T)*j,ve=R-(R-O)*j,Pe=F-(F-ee)*j,ie=z-(z-B)*j;const U=Math.round(Math.min(ce,Se)),Y=Math.round(Math.max(ce,Se));let ae=p*I+U*4;for(let ye=U;ye<=Y;ye++)j=(ce-ye)/(ce-Se),j<0?j=0:j>1&&(j=1),h[ae++]=_e-(_e-ve)*j|0,h[ae++]=K-(K-Pe)*j|0,h[ae++]=le-(le-ie)*j|0,h[ae++]=255}}function iU(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(r.length/o)-1,f=o-1;for(s=0;s<c;s++){let h=s*o;for(let p=0;p<f;p++,h++)JA(n,t,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),JA(n,t,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)JA(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class sU extends n4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=f/p,b=h/g,_={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/m,scaleY:1/b},w=p+4,T=g+4,L=r.getCanvas("mesh",w,T),R=L.context,F=R.createImageData(p,g);if(t){const q=F.data;for(let P=0,X=q.length;P<X;P+=4)q[P]=t[0],q[P+1]=t[1],q[P+2]=t[2],q[P+3]=255}for(const q of this._figures)iU(F,q,_);return R.putImageData(F,2,2),{canvas:L.canvas,offsetX:o-2*m,offsetY:c-2*b,scaleX:m,scaleY:b}}getPattern(e,t,r,i){mE(e,this._bbox);let s;if(i===La.SHADING)s=rn.singularValueDecompose2dScale(gi(e));else if(s=rn.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=rn.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===La.SHADING?null:this._background,t.cachedCanvases);return i!==La.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class aU extends n4{getPattern(){return"hotpink"}}function oU(n){switch(n[0]){case"RadialAxial":return new rU(n);case"Mesh":return new sU(n);case"Dummy":return new aU}throw new Error(`Unknown IR type: ${n[0]}`)}const Xk={COLORED:1,UNCOLORED:2},Gw=class Gw{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),s5("TilingType: "+s);const h=t[0],p=t[1],g=t[2],m=t[3],b=g-h,_=m-p,w=rn.singularValueDecompose2dScale(this.matrix),T=rn.singularValueDecompose2dScale(this.baseTransform),L=w[0]*T[0],R=w[1]*T[1];let F=b,z=_,q=!1,P=!1;const X=Math.ceil(c*L),O=Math.ceil(f*R),ee=Math.ceil(b*L),B=Math.ceil(_*R);X>=ee?F=c:q=!0,O>=B?z=f:P=!0;const G=this.getSizeAndScale(F,this.ctx.canvas.width,L),Q=this.getSizeAndScale(z,this.ctx.canvas.height,R),ce=e.cachedCanvases.getCanvas("pattern",G.size,Q.size),_e=ce.context,K=o.createCanvasGraphics(_e);if(K.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(K,i,a),_e.translate(-G.scale*h,-Q.scale*p),K.transform(G.scale,0,0,Q.scale,0,0),_e.save(),this.clipBbox(K,h,p,g,m),K.baseTransform=gi(K.ctx),K.executeOperatorList(r),K.endDrawing(),_e.restore(),q||P){const le=ce.canvas;q&&(F=c),P&&(z=f);const Se=this.getSizeAndScale(F,this.ctx.canvas.width,L),ve=this.getSizeAndScale(z,this.ctx.canvas.height,R),Pe=Se.size,ie=ve.size,I=e.cachedCanvases.getCanvas("pattern-workaround",Pe,ie),j=I.context,U=q?Math.floor(b/c):0,Y=P?Math.floor(_/f):0;for(let ae=0;ae<=U;ae++)for(let ye=0;ye<=Y;ye++)j.drawImage(le,Pe*ae,ie*ye,Pe,ie,0,0,Pe,ie);return{canvas:I.canvas,scaleX:Se.scale,scaleY:ve.scale,offsetX:h,offsetY:p}}return{canvas:ce.canvas,scaleX:G.scale,scaleY:Q.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,r){const i=Math.max(Gw.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),e.current.updateRectMinMax(gi(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case Xk.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case Xk.UNCOLORED:const o=rn.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new MB(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==La.SHADING&&(s=rn.transform(s,t.baseTransform),this.matrix&&(s=rn.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};Ct(Gw,"MAX_PATTERN_SIZE",3e3);let gE=Gw;function lU({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ro.isLittleEndian?4278190080:255,[c,f]=a?[s,o]:[o,s],h=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let m=0;for(let b=0;b<i;b++){for(const w=e+h;e<w;e++){const T=e<g?n[e]:255;t[m++]=T&128?f:c,t[m++]=T&64?f:c,t[m++]=T&32?f:c,t[m++]=T&16?f:c,t[m++]=T&8?f:c,t[m++]=T&4?f:c,t[m++]=T&2?f:c,t[m++]=T&1?f:c}if(p===0)continue;const _=e<g?n[e++]:255;for(let w=0;w<p;w++)t[m++]=_&1<<7-w?f:c}return{srcPos:e,destPos:m}}const Yk=16,$k=100,cU=15,Kk=10,Jk=1e3,Fo=16;function uU(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,o,c){e.transform(r,i,s,a,o,c),this.__originalTransform(r,i,s,a,o,c)},n.setTransform=function(r,i,s,a,o,c){e.setTransform(r,i,s,a,o,c),this.__originalSetTransform(r,i,s,a,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class fU{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function qb(n,e,t,r,i,s,a,o,c,f){const[h,p,g,m,b,_]=gi(n);if(p===0&&g===0){const L=a*h+b,R=Math.round(L),F=o*m+_,z=Math.round(F),q=(a+c)*h+b,P=Math.abs(Math.round(q)-R)||1,X=(o+f)*m+_,O=Math.abs(Math.round(X)-z)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(m),R,z),n.drawImage(e,t,r,i,s,0,0,P,O),n.setTransform(h,p,g,m,b,_),[P,O]}if(h===0&&m===0){const L=o*g+b,R=Math.round(L),F=a*p+_,z=Math.round(F),q=(o+f)*g+b,P=Math.abs(Math.round(q)-R)||1,X=(a+c)*p+_,O=Math.abs(Math.round(X)-z)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,R,z),n.drawImage(e,t,r,i,s,0,0,O,P),n.setTransform(h,p,g,m,b,_),[O,P]}n.drawImage(e,t,r,i,s,a,o,c,f);const w=Math.hypot(h,p),T=Math.hypot(g,m);return[w*c,T*f]}function hU(n){const{width:e,height:t}=n;if(e>Jk||t>Jk)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,c,f;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const T of n.data){let L=128;for(;L>0;)p[g++]=T&L?0:255,L>>=1}let m=0;for(g=0,p[g]!==0&&(a[0]=1,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(a[c]=p[g]?2:1,++m),g++;for(p[g]!==0&&(a[c]=2,++m),o=1;o<t;o++){g=o*h,f=o*s,p[g-h]!==p[g]&&(a[f]=p[g]?1:8,++m);let T=(p[g]?4:0)+(p[g-h]?8:0);for(c=1;c<e;c++)T=(T>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[T]&&(a[f+c]=i[T],++m),g++;if(p[g-h]!==p[g]&&(a[f+c]=p[g]?2:4,++m),m>r)return null}for(g=h*(t-1),f=o*s,p[g]!==0&&(a[f]=8,++m),c=1;c<e;c++)p[g]!==p[g+1]&&(a[f+c]=p[g]?4:8,++m),g++;if(p[g]!==0&&(a[f+c]=4,++m),m>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),_=new Path2D;for(o=0;m&&o<=t;o++){let T=o*s;const L=T+e;for(;T<L&&!a[T];)T++;if(T===L)continue;_.moveTo(T%s,o);const R=T;let F=a[T];do{const z=b[F];do T+=z;while(!a[T]);const q=a[T];q!==5&&q!==10?(F=q,a[T]=0):(F=q&51*F>>4,a[T]&=F>>2|F<<2),_.lineTo(T%s,T/s|0),a[T]||--m}while(R!==T);--o}return p=null,a=null,function(T){T.save(),T.scale(1/e,-1/t),T.translate(0,-t),T.fill(_),T.beginPath(),T.restore()}}class Zk{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=xL,this.textMatrixScale=1,this.fontMatrix=qS,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Aa.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=rn.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=rn.applyTransform(t,e),i=rn.applyTransform(t.slice(2),e),s=rn.applyTransform([t[0],t[3]],e),a=rn.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){rn.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,o,c,f,h){const p=rn.bezierBoundingBox(t,r,i,s,a,o,c,f,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=La.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===La.STROKE){t||Kr("Stroke bounding box must include transform.");const i=rn.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=rn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=La.FILL,t=null){return rn.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Qk(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Fo,s=(t-i)/Fo,a=i===0?s:s+1,o=n.createImageData(r,Fo);let c=0,f;const h=e.data,p=o.data;let g,m,b,_;if(e.kind===y_.GRAYSCALE_1BPP){const w=h.byteLength,T=new Uint32Array(p.buffer,0,p.byteLength>>2),L=T.length,R=r+7>>3,F=4294967295,z=ro.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?Fo:i,f=0,m=0;m<b;m++){const q=w-c;let P=0;const X=q>R?r:q*8-7,O=X&-8;let ee=0,B=0;for(;P<O;P+=8)B=h[c++],T[f++]=B&128?F:z,T[f++]=B&64?F:z,T[f++]=B&32?F:z,T[f++]=B&16?F:z,T[f++]=B&8?F:z,T[f++]=B&4?F:z,T[f++]=B&2?F:z,T[f++]=B&1?F:z;for(;P<X;P++)ee===0&&(B=h[c++],ee=128),T[f++]=B&ee?F:z,ee>>=1}for(;f<L;)T[f++]=0;n.putImageData(o,0,g*Fo)}}else if(e.kind===y_.RGBA_32BPP){for(m=0,_=r*Fo*4,g=0;g<s;g++)p.set(h.subarray(c,c+_)),c+=_,n.putImageData(o,0,m),m+=Fo;g<a&&(_=r*i*4,p.set(h.subarray(c,c+_)),n.putImageData(o,0,m))}else if(e.kind===y_.RGB_24BPP)for(b=Fo,_=r*b,g=0;g<a;g++){for(g>=s&&(b=i,_=r*b),f=0,m=_;m--;)p[f++]=h[c++],p[f++]=h[c++],p[f++]=h[c++],p[f++]=255;n.putImageData(o,0,g*Fo)}else throw new Error(`bad image kind: ${e.kind}`)}function eN(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Fo,s=(t-i)/Fo,a=i===0?s:s+1,o=n.createImageData(r,Fo);let c=0;const f=e.data,h=o.data;for(let p=0;p<a;p++){const g=p<s?Fo:i;({srcPos:c}=lU({src:f,srcPos:c,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,p*Fo)}}function nx(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Vb(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Fa){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function tN(n,e){if(e)return!0;const t=rn.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*e0.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const dU=["butt","round","square"],pU=["miter","round","bevel"],mU={},nN={};var ou,vE,xE,yE;const cC=class cC{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},c,f){ne(this,ou);this.ctx=e,this.current=new Zk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new fU(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...gi(this.compositeCtx))}this.ctx.save(),Vb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=gi(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const c=s.length;if(c===o)return o;const f=c-o>Kk&&typeof r=="function",h=f?Date.now()+cU:0;let p=0;const g=this.commonObjs,m=this.objs;let b;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(b=a[o],b!==Bc.dependency)this[b].apply(this,s[o]);else for(const _ of s[o]){const w=_.startsWith("g_")?g:m;if(!w.has(_))return w.get(_,r),o}if(o++,o===c)return o;if(f&&++p>Kk){if(Date.now()>h)return r(),o;p=0}}}endDrawing(){se(this,ou,vE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),se(this,ou,xE).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,c=i,f="prescale1",h,p;for(;s>2&&o>1||a>2&&c>1;){let g=o,m=c;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/m),h=this.cachedCanvases.getCanvas(f,g,m),p=h.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,o,c,0,0,g,m),e=h.canvas,o=g,c=m,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=gi(t);let c,f,h,p;if((e.bitmap||e.data)&&e.count>1){const X=e.bitmap||e.data.buffer;f=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(X),c||(c=new Map,this._cachedBitmapsMap.set(X,c));const O=c.get(f);if(O&&!a){const ee=Math.round(Math.min(o[0],o[2])+o[4]),B=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:ee,offsetY:B}}h=O}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),eN(p.context,e));let g=rn.transform(o,[1/r,0,0,-1/i,0,0]);g=rn.transform(g,[1,0,0,1,0,-i]);const[m,b,_,w]=rn.getAxialAlignedBoundingBox([0,0,r,i],g),T=Math.round(_-m)||1,L=Math.round(w-b)||1,R=this.cachedCanvases.getCanvas("fillCanvas",T,L),F=R.context,z=m,q=b;F.translate(-z,-q),F.transform(...g),h||(h=this._scaleImage(p.canvas,Ru(F)),h=h.img,c&&a&&c.set(f,h)),F.imageSmoothingEnabled=tN(gi(F),e.interpolate),qb(F,h,0,0,h.width,h.height,0,0,r,i),F.globalCompositeOperation="source-in";const P=rn.transform(Ru(F),[1,0,0,1,-z,-q]);return F.fillStyle=a?s.getPattern(t,this,P,La.FILL):s,F.fillRect(0,0,r,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,R.canvas)),{canvas:R.canvas,offsetX:Math.round(z),offsetY:Math.round(q)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=dU[e]}setLineJoin(e){this.ctx.lineJoin=pU[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...gi(this.suspendedCtx)),nx(this.suspendedCtx,s),uU(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,c=i[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,r,o,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,c,f,h,p){let g=e.canvas,m=c-h,b=f-p;if(a){const w=rn.makeHexColor(...a);if(m<0||b<0||m+r>g.width||b+i>g.height){const T=this.cachedCanvases.getCanvas("maskExtension",r,i),L=T.context;L.drawImage(g,-m,-b),L.globalCompositeOperation="destination-atop",L.fillStyle=w,L.fillRect(0,0,r,i),L.globalCompositeOperation="source-over",g=T.canvas,m=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(m,b,r,i),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=w,e.fillRect(m,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const _=new Path2D;_.rect(c,f,r,i),t.clip(_),t.globalCompositeOperation="destination-in",t.drawImage(g,m,b,r,i,c,f,r,i),t.restore()}save(){this.inSMaskMode?(nx(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nx(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,o=s.y,c,f;const h=gi(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?r.slice(0):null;for(let m=0,b=0,_=e.length;m<_;m++)switch(e[m]|0){case Bc.rectangle:a=t[b++],o=t[b++];const w=t[b++],T=t[b++],L=a+w,R=o+T;i.moveTo(a,o),w===0||T===0?i.lineTo(L,R):(i.lineTo(L,o),i.lineTo(L,R),i.lineTo(a,R)),p||s.updateRectMinMax(h,[a,o,L,R]),i.closePath();break;case Bc.moveTo:a=t[b++],o=t[b++],i.moveTo(a,o),p||s.updatePathMinMax(h,a,o);break;case Bc.lineTo:a=t[b++],o=t[b++],i.lineTo(a,o),p||s.updatePathMinMax(h,a,o);break;case Bc.curveTo:c=a,f=o,a=t[b+4],o=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],a,o),s.updateCurvePathMinMax(h,c,f,t[b],t[b+1],t[b+2],t[b+3],a,o,g),b+=6;break;case Bc.curveTo2:c=a,f=o,i.bezierCurveTo(a,o,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(h,c,f,a,o,t[b],t[b+1],t[b+2],t[b+3],g),a=t[b+2],o=t[b+3],b+=4;break;case Bc.curveTo3:c=a,f=o,a=t[b+2],o=t[b+3],i.bezierCurveTo(t[b],t[b+1],a,o,a,o),s.updateCurvePathMinMax(h,c,f,t[b],t[b+1],a,o,a,o,g),b+=4;break;case Bc.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Ru(t),La.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Ru(t),La.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=mU}eoClip(){this.pendingClip=nN}beginText(){this.current.textMatrix=xL,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:c,path:f}of e)r.addPath(f,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(c,-c));t.clip(r),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||qS,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Un("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const c=r.italic?"italic":"normal";let f=t;t<Yk?f=Yk:t>$k&&(f=$k),this.current.fontSizeScale=t/f,this.ctx.font=`${c} ${o} ${f}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const a=this.ctx,o=this.current,c=o.font,f=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,p=f&Aa.FILL_STROKE_MASK,g=!!(f&Aa.ADD_TO_PATH_FLAG),m=o.patternFill&&!c.missingFile,b=o.patternStroke&&!c.missingFile;let _;if((c.disableFontFace||g||m||b)&&(_=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||m||b){if(a.save(),a.translate(t,r),a.scale(h,-h),p===Aa.FILL||p===Aa.FILL_STROKE)if(i){const w=a.getTransform();a.setTransform(...i),a.fill(se(this,ou,yE).call(this,_,w,i))}else a.fill(_);if(p===Aa.STROKE||p===Aa.FILL_STROKE)if(s){const w=a.getTransform();a.setTransform(...s),a.stroke(se(this,ou,yE).call(this,_,w,s))}else a.lineWidth/=h,a.stroke(_);a.restore()}else(p===Aa.FILL||p===Aa.FILL_STROKE)&&a.fillText(e,t,r),(p===Aa.STROKE||p===Aa.FILL_STROKE)&&a.strokeText(e,t,r);g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gi(a),x:t,y:r,fontSize:h,path:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,f=t.fontDirection,h=t.textHScale*f,p=e.length,g=r.vertical,m=g?1:-1,b=r.defaultVMetrics,_=i*t.fontMatrix[0],w=t.textRenderingMode===Aa.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),f>0?s.scale(h,-1):s.scale(h,1);let T,L;if(t.patternFill){s.save();const P=t.fillColor.getPattern(s,this,Ru(s),La.FILL);T=gi(s),s.restore(),s.fillStyle=P}if(t.patternStroke){s.save();const P=t.strokeColor.getPattern(s,this,Ru(s),La.STROKE);L=gi(s),s.restore(),s.strokeStyle=P}let R=t.lineWidth;const F=t.textMatrixScale;if(F===0||R===0){const P=t.textRenderingMode&Aa.FILL_STROKE_MASK;(P===Aa.STROKE||P===Aa.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=F;if(a!==1&&(s.scale(a,a),R/=a),s.lineWidth=R,r.isInvalidPDFjsFont){const P=[];let X=0;for(const O of e)P.push(O.unicode),X+=O.width;s.fillText(P.join(""),0,0),t.x+=X*_*h,s.restore(),this.compose();return}let z=0,q;for(q=0;q<p;++q){const P=e[q];if(typeof P=="number"){z+=m*P*i/1e3;continue}let X=!1;const O=(P.isSpace?c:0)+o,ee=P.fontChar,B=P.accent;let G,Q,ce=P.width;if(g){const K=P.vmetric||b,le=-(P.vmetric?K[1]:ce*.5)*_,Se=K[2]*_;ce=K?-K[0]:ce,G=le/a,Q=(z+Se)/a}else G=z/a,Q=0;if(r.remeasure&&ce>0){const K=s.measureText(ee).width*1e3/i*a;if(ce<K&&this.isFontSubpixelAAEnabled){const le=ce/K;X=!0,s.save(),s.scale(le,1),G/=le}else ce!==K&&(G+=(ce-K)/2e3*i/a)}if(this.contentVisible&&(P.isInFont||r.missingFile)){if(w&&!B)s.fillText(ee,G,Q);else if(this.paintChar(ee,G,Q,T,L),B){const K=G+i*B.offset.x/a,le=Q-i*B.offset.y/a;this.paintChar(B.fontChar,K,le,T,L)}}const _e=g?ce*_-O*f:ce*_+O*f;z+=_e,X&&s.restore()}g?t.y-=z:t.x+=z*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,o=i.vertical?1:-1,c=r.charSpacing,f=r.wordSpacing,h=r.textHScale*a,p=r.fontMatrix||qS,g=e.length,m=r.textRenderingMode===Aa.INVISIBLE;let b,_,w,T;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,a),b=0;b<g;++b){if(_=e[b],typeof _=="number"){T=o*_*s/1e3,this.ctx.translate(T,0),r.x+=T*h;continue}const L=(_.isSpace?f:0)+c,R=i.charProcOperatorList[_.operatorListId];if(!R){Un(`Type3 character "${_.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(R),this.restore()),w=rn.applyTransform([_.width,0],p)[0]*s+L,t.translate(w,0),r.x+=w*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||gi(this.ctx),s={createCanvasGraphics:a=>new cC(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new gE(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=rn.makeHexColor(e,t,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=rn.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=oU(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Ru(t),La.SHADING);const i=Ru(t);if(i){const{width:s,height:a}=t.canvas,[o,c,f,h]=rn.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,c,f-o,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Kr("Should not call beginInlineImage")}beginImageData(){Kr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=gi(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(gi(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||s5("TODO: Support non-isolated groups."),e.knockout&&Un("Knockout groups not supported.");const r=gi(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=rn.getAxialAlignedBoundingBox(e.bbox,gi(t));const s=[0,0,t.canvas.width,t.canvas.height];i=rn.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),f=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,f),g=p.context;g.translate(-a,-o),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),nx(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=gi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=rn.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(se(this,ou,vE).call(this),Vb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,f]=rn.singularValueDecompose2dScale(gi(this.ctx)),{viewportScale:h}=this,p=Math.ceil(a*this.outputScaleX*h),g=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:m,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(c,0,0,-f,0,o*f),Vb(this.ctx)}else Vb(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new Zk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),se(this,ou,xE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=hU(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=gi(o);o.transform(t,r,i,s,0,0);const f=this._createMaskCanvas(e);o.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]);for(let h=0,p=a.length;h<p;h+=2){const g=rn.transform(c,[t,r,i,s,a[h],a[h+1]]),[m,b]=rn.applyTransform([0,0],g);o.drawImage(f.canvas,m,b)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:c,transform:f}=s,h=this.cachedCanvases.getCanvas("maskCanvas",o,c),p=h.context;p.save();const g=this.getObject(a,s);eN(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,Ru(t),La.FILL):r,p.fillRect(0,0,o,c),p.restore(),t.save(),t.transform(...f),t.scale(1,-1),qb(t,h.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Un("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Un("Dependent image isn't ready yet");return}const a=s.width,o=s.height,c=[];for(let f=0,h=i.length;f<h;f+=2)c.push({transform:[t,0,0,r,i[f],i[f+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Fa){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;Qk(c,e),s=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(s,Ru(i));i.imageSmoothingEnabled=tN(gi(i),e.interpolate),qb(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;Qk(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),qb(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===nN?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=gi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const c=Math.abs(t),f=Math.abs(s);if(c===f)if(e===0)a=o=1/c;else{const h=c*e;a=o=h<1?1/h:1}else if(e===0)a=1/c,o=1/f;else{const h=c*e,p=f*e;a=h<1?1/h:1,o=p<1?1/p:1}}else{const c=Math.abs(t*s-r*i),f=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)a=h/c,o=f/c;else{const p=e*c;a=h>p?h/p:1,o=f>p?f/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ou=new WeakSet,vE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},yE=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let jg=cC;for(const n in Bc)jg.prototype[n]!==void 0&&(jg.prototype[Bc[n]]=jg.prototype[n]);var z2,j2;class gh{static get workerPort(){return x(this,z2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");W(this,z2,e)}static get workerSrc(){return x(this,j2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");W(this,j2,e)}}z2=new WeakMap,j2=new WeakMap,ne(gh,z2,null),ne(gh,j2,"");var bp,G2;class gU{constructor({parsedData:e,rawData:t}){ne(this,bp);ne(this,G2);W(this,bp,e),W(this,G2,t)}getRaw(){return x(this,G2)}get(e){return x(this,bp).get(e)??null}getAll(){return $T(x(this,bp))}has(e){return x(this,bp).has(e)}}bp=new WeakMap,G2=new WeakMap;const kg=Symbol("INTERNAL");var q2,V2,W2,x1;class vU{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){ne(this,q2,!1);ne(this,V2,!1);ne(this,W2,!1);ne(this,x1,!0);W(this,q2,!!(e&pl.DISPLAY)),W(this,V2,!!(e&pl.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(x(this,W2))return x(this,x1);if(!x(this,x1))return!1;const{print:e,view:t}=this.usage;return x(this,q2)?(t==null?void 0:t.viewState)!=="OFF":x(this,V2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==kg&&Kr("Internal method `_setVisible` called."),W(this,W2,r),W(this,x1,t)}}q2=new WeakMap,V2=new WeakMap,W2=new WeakMap,x1=new WeakMap;var Ld,Lr,y1,b1,X2,bE;class xU{constructor(e,t=pl.DISPLAY){ne(this,X2);ne(this,Ld,null);ne(this,Lr,new Map);ne(this,y1,null);ne(this,b1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,W(this,b1,e.order);for(const r of e.groups)x(this,Lr).set(r.id,new vU(t,r));if(e.baseState==="OFF")for(const r of x(this,Lr).values())r._setVisible(kg,!1);for(const r of e.on)x(this,Lr).get(r)._setVisible(kg,!0);for(const r of e.off)x(this,Lr).get(r)._setVisible(kg,!1);W(this,y1,this.getHash())}}isVisible(e){if(x(this,Lr).size===0)return!0;if(!e)return s5("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,Lr).has(e.id)?x(this,Lr).get(e.id).visible:(Un(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return se(this,X2,bE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(!x(this,Lr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!x(this,Lr).has(t))return Un(`Optional content group not found: ${t}`),!0;if(x(this,Lr).get(t).visible)return!1}return!0}return Un(`Unknown optional content policy ${e.policy}.`),!0}return Un(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=x(this,Lr).get(e);if(!i){Un(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=x(this,Lr).get(o))==null||s._setVisible(kg,!1,!0));i._setVisible(kg,!!t,!0),W(this,Ld,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=x(this,Lr).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}W(this,Ld,null)}get hasInitialVisibility(){return x(this,y1)===null||this.getHash()===x(this,y1)}getOrder(){return x(this,Lr).size?x(this,b1)?x(this,b1).slice():[...x(this,Lr).keys()]:null}getGroups(){return x(this,Lr).size>0?$T(x(this,Lr)):null}getGroup(e){return x(this,Lr).get(e)||null}getHash(){if(x(this,Ld)!==null)return x(this,Ld);const e=new $L;for(const[t,r]of x(this,Lr))e.update(`${t}:${r.visible}`);return W(this,Ld,e.hexdigest())}}Ld=new WeakMap,Lr=new WeakMap,y1=new WeakMap,b1=new WeakMap,X2=new WeakSet,bE=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=se(this,X2,bE).call(this,s);else if(x(this,Lr).has(s))a=x(this,Lr).get(s).visible;else return Un(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class yU{constructor(e,{disableRange:t=!1,disableStream:r=!1}){hs(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,f)=>{this._onReceiveData({begin:c,chunk:f})}),e.addProgressListener((c,f)=>{this._onProgress({loaded:c,total:f})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});hs(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){hs(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new bU(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new _U(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class bU{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=ZT(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _U{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function wU(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=c(h),h=f(h),s(h)}if(t=a(n),t){const h=f(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=o(t);return h=f(h),s(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),m=a5(p);p=g.decode(m),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const p=[];let g;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(h))!==null;){let[,_,w,T]=g;if(_=parseInt(_,10),_ in p){if(_===0)break;continue}p[_]=[w,T]}const b=[];for(let _=0;_<p.length&&_ in p;++_){let[w,T]=p[_];T=o(T),w&&(T=unescape(T),_===0&&(T=c(T))),b.push(T)}return b.join("")}function o(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),b=h.slice(p+1).replace(/^[^']*'/,"");return i(g,b)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,b){if(m==="q"||m==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,w){return String.fromCharCode(parseInt(w,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function cI(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function c5(n){try{return new URL(n).origin}catch{}return null}function uI({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function fI(n){const e=n.get("Content-Disposition");if(e){let t=wU(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ZT(t))return t}return null}function u5(n,e){return n===404||n===0&&e.startsWith("file:")?new Xx('Missing PDF "'+e+'".'):new sw(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function hI(n){return n===200||n===206}function dI(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function pI(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Un(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class rN{constructor(e){Ct(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=cI(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hs(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new AU(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new SU(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class AU{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,dI(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=c5(s.url),!hI(s.status))throw u5(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=uI({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=fI(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Qd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:pI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class SU{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,dI(s,this._withCredentials,this._abortController)).then(o=>{const c=c5(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!hI(o.status))throw u5(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:pI(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ZA=200,QA=206;function EU(n){const e=n.response;return typeof e!="string"?e:a5(e).buffer}class TU{constructor({url:e,httpHeaders:t,withCredentials:r}){Ct(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=cI(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=QA):i.expectedStatus=ZA,t.responseType="arraybuffer",hs(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||ZA;if(!(s===ZA&&r.expectedStatus===QA)&&s!==r.expectedStatus){r.onError(i.status);return}const o=EU(i);if(s===QA){const c=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);f?r.onDone({begin:parseInt(f[1],10),chunk:o}):(Un('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class CU{constructor(e){this._source=e,this._manager=new TU(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return hs(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kU(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new NU(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class kU{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=c5(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...f]=o.split(": ");return[c,f.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=uI({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=fI(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=u5(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class NU{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=c5((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=u5(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const RU=/^[a-z][a-z0-9\-+.]+:/i;function LU(n){if(RU.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class IU{constructor(e){this.source=e,this.url=LU(e.url),hs(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hs(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new MU(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new FU(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class MU{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Xx(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Qd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class FU{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const DU=1e5,ko=30,PU=.8;var uL,Id,Io,Y2,$2,_p,eh,K2,J2,wp,_1,w1,Md,A1,Z2,S1,Ap,Q2,ey,Sp,Ep,ty,Fd,E1,kh,mI,gI,_E,wl,R_,wE,vI,xI;const Es=class Es{constructor({textContentSource:e,container:t,viewport:r}){ne(this,kh);ne(this,Id,Promise.withResolvers());ne(this,Io,null);ne(this,Y2,!1);ne(this,$2,!!((uL=globalThis.FontInspector)!=null&&uL.enabled));ne(this,_p,null);ne(this,eh,null);ne(this,K2,0);ne(this,J2,0);ne(this,wp,null);ne(this,_1,null);ne(this,w1,0);ne(this,Md,0);ne(this,A1,Object.create(null));ne(this,Z2,[]);ne(this,S1,null);ne(this,Ap,[]);ne(this,Q2,new WeakMap);ne(this,ey,null);var c;if(e instanceof ReadableStream)W(this,S1,e);else if(typeof e=="object")W(this,S1,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');W(this,Io,W(this,_1,t)),W(this,Md,r.scale*(globalThis.devicePixelRatio||1)),W(this,w1,r.rotation),W(this,eh,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;W(this,ey,[1,0,0,-1,-a,o+s]),W(this,J2,i),W(this,K2,s),se(c=Es,wl,vI).call(c),lm(t,r),x(this,Id).promise.finally(()=>{x(Es,E1).delete(this),W(this,eh,null),W(this,A1,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ro.platform;return Yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{x(this,wp).read().then(({value:t,done:r})=>{if(r){x(this,Id).resolve();return}x(this,_p)??W(this,_p,t.lang),Object.assign(x(this,A1),t.styles),se(this,kh,mI).call(this,t.items),e()},x(this,Id).reject)};return W(this,wp,x(this,S1).getReader()),x(Es,E1).add(this),e(),x(this,Id).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==x(this,w1)&&(t==null||t(),W(this,w1,i),lm(x(this,_1),{rotation:i})),r!==x(this,Md)){t==null||t(),W(this,Md,r);const a={div:null,properties:null,ctx:se(s=Es,wl,R_).call(s,x(this,_p))};for(const o of x(this,Ap))a.properties=x(this,Q2).get(o),a.div=o,se(this,kh,_E).call(this,a)}}cancel(){var t;const e=new Qd("TextLayer task cancelled.");(t=x(this,wp))==null||t.cancel(e).catch(()=>{}),W(this,wp,null),x(this,Id).reject(e)}get textDivs(){return x(this,Ap)}get textContentItemsStr(){return x(this,Z2)}static cleanup(){if(!(x(this,E1).size>0)){x(this,Sp).clear();for(const{canvas:e}of x(this,Ep).values())e.remove();x(this,Ep).clear()}}};Id=new WeakMap,Io=new WeakMap,Y2=new WeakMap,$2=new WeakMap,_p=new WeakMap,eh=new WeakMap,K2=new WeakMap,J2=new WeakMap,wp=new WeakMap,_1=new WeakMap,w1=new WeakMap,Md=new WeakMap,A1=new WeakMap,Z2=new WeakMap,S1=new WeakMap,Ap=new WeakMap,Q2=new WeakMap,ey=new WeakMap,Sp=new WeakMap,Ep=new WeakMap,ty=new WeakMap,Fd=new WeakMap,E1=new WeakMap,kh=new WeakSet,mI=function(e){var i,s;if(x(this,Y2))return;(s=x(this,eh)).ctx??(s.ctx=se(i=Es,wl,R_).call(i,x(this,_p)));const t=x(this,Ap),r=x(this,Z2);for(const a of e){if(t.length>DU){Un("Ignoring additional textDivs for performance reasons."),W(this,Y2,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=x(this,Io);W(this,Io,document.createElement("span")),x(this,Io).classList.add("markedContent"),a.id!==null&&x(this,Io).setAttribute("id",`${a.id}`),o.append(x(this,Io))}else a.type==="endMarkedContent"&&W(this,Io,x(this,Io).parentNode);continue}r.push(a.str),se(this,kh,gI).call(this,a)}},gI=function(e){var _;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,Ap).push(t);const i=rn.transform(x(this,ey),e.transform);let s=Math.atan2(i[1],i[0]);const a=x(this,A1)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=x(this,$2)&&a.fontSubstitution||a.fontFamily;o=Es.fontFamilyMap.get(o)||o;const c=Math.hypot(i[2],i[3]),f=c*se(_=Es,wl,xI).call(_,o,x(this,_p));let h,p;s===0?(h=i[4],p=i[5]-f):(h=i[4]+f*Math.sin(s),p=i[5]-f*Math.cos(s));const g="calc(var(--scale-factor)*",m=t.style;x(this,Io)===x(this,_1)?(m.left=`${(100*h/x(this,J2)).toFixed(2)}%`,m.top=`${(100*p/x(this,K2)).toFixed(2)}%`):(m.left=`${g}${h.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(x(Es,Fd)*c).toFixed(2)}px)`,m.fontFamily=o,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,x(this,$2)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);w!==T&&Math.max(w,T)/Math.min(w,T)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),x(this,Q2).set(t,r),x(this,eh).div=t,x(this,eh).properties=r,se(this,kh,_E).call(this,x(this,eh)),r.hasText&&x(this,Io).append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),x(this,Io).append(w)}},_E=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(x(Es,Fd)>1&&(a=`scale(${1/x(Es,Fd)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=s,{canvasWidth:f,fontSize:h}=r;se(o=Es,wl,wE).call(o,i,h*x(this,Md),c);const{width:p}=i.measureText(t.textContent);p>0&&(a=`scaleX(${f*x(this,Md)/p}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},wl=new WeakSet,R_=function(e=null){let t=x(this,Ep).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,Ep).set(e,t),x(this,ty).set(t,{size:0,family:""})}return t},wE=function(e,t,r){const i=x(this,ty).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},vI=function(){if(x(this,Fd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),W(this,Fd,e.getBoundingClientRect().height),e.remove()},xI=function(e,t){const r=x(this,Sp).get(e);if(r)return r;const i=se(this,wl,R_).call(this,t);i.canvas.width=i.canvas.height=ko,se(this,wl,wE).call(this,i,ko,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const h=a/(a+o);return x(this,Sp).set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,ko,ko),i.strokeText("g",0,0);let c=i.getImageData(0,0,ko,ko).data;o=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){o=Math.ceil(h/4/ko);break}i.clearRect(0,0,ko,ko),i.strokeText("A",0,ko),c=i.getImageData(0,0,ko,ko).data,a=0;for(let h=0,p=c.length;h<p;h+=4)if(c[h]>0){a=ko-Math.floor(h/4/ko);break}i.canvas.width=i.canvas.height=0;const f=a?a/(a+o):PU;return x(this,Sp).set(e,f),f},ne(Es,wl),ne(Es,Sp,new Map),ne(Es,Ep,new Map),ne(Es,ty,new WeakMap),ne(Es,Fd,null),ne(Es,E1,new Set);let Yx=Es;class $x{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if($x.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const f of s.children)i(f)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const OU=65536,BU=100,UU=5e3,HU=Fa?eU:JB,zU=Fa?tU:rI,jU=Fa?QB:ZB,GU=Fa?nU:oI;function qU(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new AE,{docId:t}=e,r=n.url?VU(n.url):null,i=n.data?WU(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof yI?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:OU;let h=n.worker instanceof Gg?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!l5(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,_=n.CMapReaderFactory||zU,w=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,T=n.StandardFontDataFactory||GU,L=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,F=n.isEvalSupported!==!1,z=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Fa,q=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Fa&&(ro.platform.isFirefox||!globalThis.chrome),P=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,X=typeof n.disableFontFace=="boolean"?n.disableFontFace:Fa,O=n.fontExtraProperties===!0,ee=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,G=n.disableRange===!0,Q=n.disableStream===!0,ce=n.disableAutoFetch===!0,_e=n.pdfBug===!0,K=n.CanvasFactory||HU,le=n.FilterFactory||jU,Se=n.enableHWA===!0,ve=c?c.length:n.length??NaN,Pe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Fa&&!X,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:_===rI&&T===oI&&m&&w&&ux(m,document.baseURI)&&ux(w,document.baseURI),I=null;NB(p);const j={canvasFactory:new K({ownerDocument:B,enableHWA:Se}),filterFactory:new le({docId:t,ownerDocument:B}),cMapReaderFactory:ie?null:new _({baseUrl:m,isCompressed:b}),standardFontDataFactory:ie?null:new T({baseUrl:w})};if(!h){const ae={verbosity:p,port:gh.workerPort};h=ae.port?Gg.fromPort(ae):new Gg(ae),e._worker=h}const U={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:ce,rangeChunkSize:f,length:ve,docBaseUrl:g,enableXfa:ee,evaluatorOptions:{maxImageSize:R,disableFontFace:X,ignoreErrors:L,isEvalSupported:F,isOffscreenCanvasSupported:z,isImageDecoderSupported:q,canvasMaxAreaInBytes:P,fontExtraProperties:O,useSystemFonts:Pe,cMapUrl:ie?m:null,standardFontDataUrl:ie?w:null}},Y={disableFontFace:X,fontExtraProperties:O,ownerDocument:B,pdfBug:_e,styleElement:I,loadingParams:{disableAutoFetch:ce,enableXfa:ee}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ae=h.messageHandler.sendWithPromise("GetDocRequest",U,i?[i.buffer]:null);let ye;if(c)ye=new yU(c,{disableRange:G,disableStream:Q});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let me;if(Fa)if(ux(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");me=rN}else me=IU;else me=ux(r)?rN:CU;ye=new me({url:r,length:ve,httpHeaders:s,withCredentials:a,rangeChunkSize:f,disableRange:G,disableStream:Q})}return ae.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const fe=new px(t,me,h.port),Te=new KU(fe,e,ye,Y,j);e._transport=Te,fe.send("Ready",null)})}).catch(e._capability.reject),e}function VU(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Fa&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function WU(n){if(Fa&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return a5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function iN(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var qw;const Vw=class Vw{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ya(Vw,qw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};qw=new WeakMap,ne(Vw,qw,0);let AE=Vw;class yI{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Kr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class XU{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Dd,th,ec,Ng,L_;class YU{constructor(e,t,r,i=!1){ne(this,ec);ne(this,Dd,null);ne(this,th,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new qk:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new bI,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Uy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=xd.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:p=!1}){var F,z;(F=this._stats)==null||F.time("Overall");const g=this._transport.getRenderingIntent(r,i,h,p),{renderingIntent:m,cacheKey:b}=g;W(this,th,!1),se(this,ec,L_).call(this),o||(o=this._transport.getOptionalContentConfig(m));let _=this._intentStates.get(b);_||(_=Object.create(null),this._intentStates.set(b,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const w=!!(m&pl.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(z=this._stats)==null||z.time("Page Request"),this._pumpOperatorList(g));const T=q=>{var P;_.renderTasks.delete(L),(this._maybeCleanupAfterRender||w)&&W(this,th,!0),se(this,ec,Ng).call(this,!w),q?(L.capability.reject(q),this._abortOperatorList({intentState:_,reason:q instanceof Error?q:new Error(q)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new EE({callback:T,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:f});(_.renderTasks||(_.renderTasks=new Set)).add(L);const R=L.task;return Promise.all([_.displayReadyCapability.promise,o]).then(([q,P])=>{var X;if(this.destroyed){T();return}if((X=this._stats)==null||X.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:q,optionalContentConfig:P}),L.operatorListChanged()}).catch(T),R}getOperatorList({intent:e="display",annotationMode:t=xd.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var f;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>$x.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:c,done:f}){if(f){r(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),W(this,th,!1),se(this,ec,L_).call(this),Promise.all(e)}cleanup(e=!1){W(this,th,!0);const t=se(this,ec,Ng).call(this,!1);return e&&t&&this._stats&&(this._stats=new qk),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&se(this,ec,Ng).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),f=this._intentStates.get(t);f.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),h())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const g of f.renderTasks)g.operatorListChanged();se(this,ec,Ng).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof JT){let i=BU;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Qd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Dd=new WeakMap,th=new WeakMap,ec=new WeakSet,Ng=function(e=!1){if(se(this,ec,L_).call(this),!x(this,th)||this.destroyed)return!1;if(e)return W(this,Dd,setTimeout(()=>{W(this,Dd,null),se(this,ec,Ng).call(this,!1)},UU)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W(this,th,!1),!0},L_=function(){x(this,Dd)&&(clearTimeout(x(this,Dd)),W(this,Dd,null))};var nh,Ww;class $U{constructor(){ne(this,nh,new Map);ne(this,Ww,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};x(this,Ww).then(()=>{for(const[i]of x(this,nh))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Un("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}x(this,nh).set(t,i)}removeEventListener(e,t){const r=x(this,nh).get(t);r==null||r(),x(this,nh).delete(t)}terminate(){for(const[,e]of x(this,nh))e==null||e();x(this,nh).clear()}}nh=new WeakMap,Ww=new WeakMap;var Xw,Tp,Cp,T1,I_,C1,M_;const mi=class mi{constructor({name:e=null,port:t=null,verbosity:r=RB()}={}){ne(this,T1);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=x(mi,Cp))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(x(mi,Cp)||W(mi,Cp,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new px("main","worker",e),this._messageHandler.on("ready",function(){}),se(this,T1,I_).call(this)}_initialize(){if(x(mi,Tp)||x(mi,C1,M_)){this._setupFakeWorker();return}let{workerSrc:e}=mi;try{mi._isSameOrigin(window.location.href,e)||(e=mi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new px("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,se(this,T1,I_).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{s5("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){x(mi,Tp)||(Un("Setting up fake worker."),W(mi,Tp,!0)),mi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new $U;this._port=t;const r=`fake${Ya(mi,Xw)._++}`,i=new px(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new px(r,r+"_worker",t),se(this,T1,I_).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=x(mi,Cp))==null||t.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=x(this,Cp))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new mi(e)}static get workerSrc(){if(gh.workerSrc)return gh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yn(this,"_setupFakeWorkerGlobal",(async()=>x(this,C1,M_)?x(this,C1,M_):(await import(this.workerSrc)).WorkerMessageHandler)())}};Xw=new WeakMap,Tp=new WeakMap,Cp=new WeakMap,T1=new WeakSet,I_=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},C1=new WeakSet,M_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ne(mi,C1),ne(mi,Xw,0),ne(mi,Tp,!1),ne(mi,Cp),Fa&&(W(mi,Tp,!0),gh.workerSrc||(gh.workerSrc="./pdf.worker.mjs")),mi._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},mi._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Gg=mi;var rh,Xu,k1,N1,ih,kp,yx;class KU{constructor(e,t,r,i,s){ne(this,kp);ne(this,rh,new Map);ne(this,Xu,new Map);ne(this,k1,new Map);ne(this,N1,new Map);ne(this,ih,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new bI,this.fontLoader=new $B({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yn(this,"annotationStorage",new t4)}getRenderingIntent(e,t=xd.ENABLE,r=null,i=!1,s=!1){let a=pl.DISPLAY,o=hE;switch(e){case"any":a=pl.ANY;break;case"display":break;case"print":a=pl.PRINT;break;default:Un(`getRenderingIntent - invalid intent: ${e}`)}const c=a&pl.PRINT&&r instanceof JL?r:this.annotationStorage;switch(t){case xd.DISABLE:a+=pl.ANNOTATIONS_DISABLE;break;case xd.ENABLE:break;case xd.ENABLE_FORMS:a+=pl.ANNOTATIONS_FORMS;break;case xd.ENABLE_STORAGE:a+=pl.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Un(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=pl.IS_EDITING),s&&(a+=pl.OPLIST);const{ids:f,hash:h}=c.modifiedIds,p=[a,o.hash,h];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:f}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=x(this,ih))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of x(this,Xu).values())e.push(i._destroy());x(this,Xu).clear(),x(this,k1).clear(),x(this,N1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),x(this,rh).clear(),this.filterFactory.destroy(),Yx.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Qd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{hs(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}hs(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{hs(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}hs(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new XU(r,this))}),e.on("DocException",r=>{t._capability.reject(No(r))}),e.on("PasswordRequest",r=>{W(this,ih,Promise.withResolvers());try{if(!t.onPassword)throw No(r);const i=s=>{s instanceof Error?x(this,ih).reject(s):x(this,ih).resolve({password:s})};t.onPassword(i,r.code)}catch(i){x(this,ih).reject(i)}return x(this,ih).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;x(this,Xu).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:f}=this._params;if("error"in s){const m=s.error;Un(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const h=f&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,b)=>globalThis.FontInspector.fontAdded(m,b):null,p=new KB(s,{disableFontFace:o,fontExtraProperties:c,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:g}=s;hs(g,"The imageRef must be defined.");for(const m of x(this,Xu).values())for(const[,b]of m.objs)if((b==null?void 0:b.ref)===g)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var c;if(this.destroyed)return;const o=x(this,Xu).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":o.objs.resolve(r,a),(a==null?void 0:a.dataLen)>EB&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Un("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=x(this,k1).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&x(this,N1).set(s.refStr,e);const a=new YU(t,s,this,this._params.pdfBug);return x(this,Xu).set(t,a),a});return x(this,k1).set(t,i),i}getPageIndex(e){return iN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return se(this,kp,yx).call(this,"GetFieldObjects")}hasJSActions(){return se(this,kp,yx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return se(this,kp,yx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return se(this,kp,yx).call(this,"GetOptionalContentConfig").then(t=>new xU(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=x(this,rh).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new gU(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return x(this,rh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of x(this,Xu).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,rh).clear(),this.filterFactory.destroy(!0),Yx.cleanup()}}cachedPageNumber(e){if(!iN(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,N1).get(t)??null}}rh=new WeakMap,Xu=new WeakMap,k1=new WeakMap,N1=new WeakMap,ih=new WeakMap,kp=new WeakSet,yx=function(e,t=null){const r=x(this,rh).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return x(this,rh).set(e,i),i};const rx=Symbol("INITIAL_DATA");var sl,ny,SE;class bI{constructor(){ne(this,ny);ne(this,sl,Object.create(null))}get(e,t=null){if(t){const i=se(this,ny,SE).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=x(this,sl)[e];if(!r||r.data===rx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=x(this,sl)[e];return!!t&&t.data!==rx}delete(e){const t=x(this,sl)[e];return!t||t.data===rx?!1:(delete x(this,sl)[e],!0)}resolve(e,t=null){const r=se(this,ny,SE).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in x(this,sl)){const{data:r}=x(this,sl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}W(this,sl,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,sl)){const{data:t}=x(this,sl)[e];t!==rx&&(yield[e,t])}}}sl=new WeakMap,ny=new WeakSet,SE=function(e){var t;return(t=x(this,sl))[e]||(t[e]={...Promise.withResolvers(),data:rx})};var Pd;class JU{constructor(e){ne(this,Pd,null);W(this,Pd,e),this.onContinue=null}get promise(){return x(this,Pd).capability.promise}cancel(e=0){x(this,Pd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Pd).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=x(this,Pd);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Pd=new WeakMap;var Od,Np;const $0=class $0{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){ne(this,Od,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=f,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new JU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(x($0,Np).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x($0,Np).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new jg(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),x(this,Od)&&(window.cancelAnimationFrame(x(this,Od)),W(this,Od,null)),x($0,Np).delete(this._canvas),this.callback(e||new JT(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?W(this,Od,window.requestAnimationFrame(()=>{W(this,Od,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x($0,Np).delete(this._canvas),this.callback())))}};Od=new WeakMap,Np=new WeakMap,ne($0,Np,new WeakSet);let EE=$0;const ZU="4.10.38",QU="f9bea397f";function sN(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ix(n){return Math.max(0,Math.min(255,255*n))}class aN{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ix(e),[e,e,e]}static G_HTML([e]){const t=sN(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(ix)}static RGB_HTML(e){return`#${e.map(sN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[ix(1-Math.min(1,e+i)),ix(1-Math.min(1,r+i)),ix(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class eH{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Kr("Abstract method `_createSVG` called.")}}class r4 extends eH{_createSVG(e){return document.createElementNS(Uf,e)}}class _I{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,f=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[c,f]of Object.entries(a))if(f!=null)switch(c){case"class":f.length&&e.setAttribute(c,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,f)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var p,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",c=e.div;if(c.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}o&&c.setAttribute("class","xfaLayer xfaFont");const f=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&$x.shouldBuildText(i.name)&&f.push(m)}return{textDivs:f}}const h=[[i,-1,a]];for(;h.length>0;){const[m,b,_]=h.at(-1);if(b+1===m.children.length){h.pop();continue}const w=m.children[++h.at(-1)[1]];if(w===null)continue;const{name:T}=w;if(T==="#text"){const R=document.createTextNode(w.value);f.push(R),_.append(R);continue}const L=(p=w==null?void 0:w.attributes)!=null&&p.xmlns?document.createElementNS(w.attributes.xmlns,T):document.createElement(T);if(_.append(L),w.attributes&&this.setAttributes({html:L,element:w,storage:t,intent:s,linkService:r}),((g=w.children)==null?void 0:g.length)>0)h.push([w,-1,L]);else if(w.value){const R=document.createTextNode(w.value);o&&$x.shouldBuildText(T)&&f.push(R),L.append(R)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const zy=1e3,tH=9,um=new WeakSet;function Zd(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class nH{static create(e){switch(e.data.annotationType){case Ss.LINK:return new wI(e);case Ss.TEXT:return new rH(e);case Ss.WIDGET:switch(e.data.fieldType){case"Tx":return new iH(e);case"Btn":return e.data.radioButton?new EI(e):e.data.checkBox?new aH(e):new oH(e);case"Ch":return new lH(e);case"Sig":return new sH(e)}return new bm(e);case Ss.POPUP:return new CE(e);case Ss.FREETEXT:return new RI(e);case Ss.LINE:return new uH(e);case Ss.SQUARE:return new fH(e);case Ss.CIRCLE:return new hH(e);case Ss.POLYLINE:return new LI(e);case Ss.CARET:return new pH(e);case Ss.INK:return new i4(e);case Ss.POLYGON:return new dH(e);case Ss.HIGHLIGHT:return new II(e);case Ss.UNDERLINE:return new mH(e);case Ss.SQUIGGLY:return new gH(e);case Ss.STRIKEOUT:return new vH(e);case Ss.STAMP:return new MI(e);case Ss.FILEATTACHMENT:return new xH(e);default:return new Qi(e)}}}var Rp,R1,L1,ry,TE;const uC=class uC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ne(this,ry);ne(this,Rp,null);ne(this,R1,!1);ne(this,L1,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return uC._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;x(this,Rp)||W(this,Rp,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&se(this,ry,TE).call(this,t),(r=x(this,L1))==null||r.popup.updateEdited(e)}resetEdited(){var e;x(this,Rp)&&(se(this,ry,TE).call(this,x(this,Rp).rect),(e=x(this,L1))==null||e.popup.resetEdited(),W(this,Rp,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof bm||(s.tabIndex=zy);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof CE){const{rotation:_}=t;return!t.hasOwnCanvas&&_!==0&&this.setRotation(_,s),s}const{width:o,height:c}=Zd(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const _=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(_>0||w>0){const L=`calc(${_}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;a.borderRadius=L}else if(this instanceof EI){const L=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=L}switch(t.borderStyle.style){case tx.SOLID:a.borderStyle="solid";break;case tx.DASHED:a.borderStyle="dashed";break;case tx.BEVELED:Un("Unimplemented border style: beveled");break;case tx.INSET:Un("Unimplemented border style: inset");break;case tx.UNDERLINE:a.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(W(this,R1,!0),a.borderColor=rn.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):a.borderWidth=0}const f=rn.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:m}=i.rawDims;a.left=`${100*(f[0]-g)/h}%`,a.top=`${100*(f[1]-m)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/h}%`,a.height=`${100*c/p}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Zd(this.data.rect);let o,c;e%180===0?(o=100*s/r,c=100*a/i):(o=100*a/r,c=100*s/i),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=aN[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:aN[`${a}_rgb`](o)})};return Yn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(_=>Math.fround(_));if(e.length===8){const[_,w,T,L]=e.subarray(2,6);if(i===_&&s===w&&t===T&&r===L)return}const{style:a}=this.container;let o;if(x(this,R1)){const{borderColor:_,borderWidth:w}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const c=i-t,f=s-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const m=h.createElement("clipPath"),b=`clippath_${this.data.id}`;m.setAttribute("id",b),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let _=2,w=e.length;_<w;_+=8){const T=e[_],L=e[_+1],R=e[_+2],F=e[_+3],z=h.createElement("rect"),q=(R-t)/c,P=(s-L)/f,X=(T-R)/c,O=(L-F)/f;z.setAttribute("x",q),z.setAttribute("y",P),z.setAttribute("width",X),z.setAttribute("height",O),m.append(z),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${q}" y="${P}" width="${X}" height="${O}"/>`)}x(this,R1)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=W(this,L1,new CE({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Kr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const c=typeof o=="string"?o:null,f=document.querySelector(`[data-element-id="${a}"]`);if(f&&!um.has(f)){Un(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:c,domElement:f})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&um.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Rp=new WeakMap,R1=new WeakMap,L1=new WeakMap,ry=new WeakSet,TE=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:f,height:h}=Zd(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,i===0?(t.width=`${100*f/s}%`,t.height=`${100*h/a}%`):this.setRotation(i)};let Qi=uC;var vl,z0,AI,SI;class wI extends Qi{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ne(this,vl);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(se(this,vl,AI).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(se(this,vl,SI).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&se(this,vl,z0).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),se(this,vl,z0).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),se(this,vl,z0).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),se(this,vl,z0).call(this),!this._fieldObjects){Un('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:a,include:o}=r,c=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const m of s){const b=this._fieldObjects[m]||[];for(const{id:_}of b)g.add(_)}for(const m of Object.values(this._fieldObjects))for(const b of m)g.has(b.id)===o&&c.push(b)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const f=this.annotationStorage,h=[];for(const g of c){const{id:m}=g;switch(h.push(m),g.type){case"text":{const _=g.defaultValue||"";f.setValue(m,{value:_});break}case"checkbox":case"radiobutton":{const _=g.defaultValue===g.exportValues;f.setValue(m,{value:_});break}case"combobox":case"listbox":{const _=g.defaultValue||"";f.setValue(m,{value:_});break}default:continue}const b=document.querySelector(`[data-element-id="${m}"]`);if(b){if(!um.has(b)){Un(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}vl=new WeakSet,z0=function(){this.container.setAttribute("data-internal-link","")},AI=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},se(this,vl,z0).call(this)},SI=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),se(this,vl,z0).call(this)};class rH extends Qi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class bm extends Qi{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ro.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[c,f]of r)(f==="Action"||(s=this.data.actions)!=null&&s[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,f,i),f==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":rn.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||tH,s=e.style;let a;const o=2,c=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(f/(XA*i))||1,p=f/h;a=Math.min(i,c(p/XA))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,c(f/XA))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=rn.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class iH extends bm{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let f=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=f??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",f??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),um.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=zy,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";r.value=h.userValue=m,h.formattedValue=null});let p=g=>{const{formattedValue:m}=h;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{var _;if(h.focused)return;const{target:b}=m;h.userValue&&(b.value=h.userValue),h.lastCommittedValue=b.value,h.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const b={value(_){h.userValue=_.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),_.target.value=h.userValue},formattedValue(_){const{formattedValue:w}=_.detail;h.formattedValue=w,w!=null&&_.target!==document.activeElement&&(_.target.value=w),e.setValue(t,{formattedValue:w})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var R;const{charLimit:w}=_.detail,{target:T}=_;if(w===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",w);let L=h.userValue;!L||L.length<=w||(L=L.slice(0,w),T.value=h.userValue=L,e.setValue(t,{value:L}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("keydown",m=>{var w;h.commitKey=1;let b=-1;if(m.key==="Escape"?b=0:m.key==="Enter"&&!this.data.multiLine?b=2:m.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:_}=m.target;h.lastCommittedValue!==_&&(h.lastCommittedValue=_,h.userValue=_,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:b,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=p;p=null,r.addEventListener("blur",m=>{var _,w;if(!h.focused||!m.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(h.focused=!1);const{value:b}=m.target;h.userValue=b,h.lastCommittedValue!==b&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),g(m)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",m=>{var z;h.lastCommittedValue=null;const{data:b,target:_}=m,{value:w,selectionStart:T,selectionEnd:L}=_;let R=T,F=L;switch(m.inputType){case"deleteWordBackward":{const q=w.substring(0,T).match(/\w*[^\w]*$/);q&&(R-=q[0].length);break}case"deleteWordForward":{const q=w.substring(T).match(/^[^\w]*\w*/);q&&(F+=q[0].length);break}case"deleteContentBackward":T===L&&(R-=1);break;case"deleteContentForward":T===L&&(F+=1);break}m.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:b||"",willCommit:!1,selStart:R,selEnd:F}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class sH extends bm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class aH extends bm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return um.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=zy,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const f of this._getElementsByName(o,r)){const h=c&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(r,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class EI extends bm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(um.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=zy,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const f of this._getElementsByName(o,r))e.setValue(f.id,{value:!1});e.setValue(r,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:f=>{const h=a===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class oH extends wI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class lH extends bm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");um.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=zy;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const p=h?"value":"textContent",{options:g,multiple:m}=i;return m?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=o(!1);const f=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){a==null||a();const m=g.detail.value,b=new Set(Array.isArray(m)?m:[m]);for(const _ of i.options)_.selected=b.has(_.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const m=i.options,b=g.detail.remove;m[b].selected=!1,i.remove(b),m.length>0&&Array.prototype.findIndex.call(m,w=>w.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:f(g)}),c=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(g){const{index:m,displayValue:b,exportValue:_}=g.detail.insert,w=i.children[m],T=document.createElement("option");T.textContent=b,T.value=_,w?w.before(T):i.append(T),e.setValue(t,{value:o(!0),items:f(g)}),c=o(!1)},items(g){const{items:m}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of m){const{displayValue:_,exportValue:w}=b,T=document.createElement("option");T.textContent=_,T.value=w,i.append(T)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:f(g)}),c=o(!1)},indices(g){const m=new Set(g.detail.indices);for(const b of g.target.options)b.selected=m.has(b.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var m;const p=o(!0),g=o(!1);e.setValue(t,{value:p}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class CE extends Qi{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Qi._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new cH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${KT}${r}`).join(",")),this.container}}var I1,Yw,$w,M1,Lp,Pi,sh,F1,iy,sy,D1,ah,Gc,oh,ay,lh,oy,Ip,Mp,Vr,F_,kE,TI,CI,kI,NI,D_,P_,NE;class cH{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:f,parentRect:h,open:p}){ne(this,Vr);ne(this,I1,se(this,Vr,kI).bind(this));ne(this,Yw,se(this,Vr,NE).bind(this));ne(this,$w,se(this,Vr,P_).bind(this));ne(this,M1,se(this,Vr,D_).bind(this));ne(this,Lp,null);ne(this,Pi,null);ne(this,sh,null);ne(this,F1,null);ne(this,iy,null);ne(this,sy,null);ne(this,D1,null);ne(this,ah,!1);ne(this,Gc,null);ne(this,oh,null);ne(this,ay,null);ne(this,lh,null);ne(this,oy,null);ne(this,Ip,null);ne(this,Mp,!1);var g;W(this,Pi,e),W(this,oy,i),W(this,sh,a),W(this,lh,o),W(this,sy,c),W(this,Lp,t),W(this,ay,f),W(this,D1,h),W(this,iy,r),W(this,F1,QT.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",x(this,M1)),m.addEventListener("mouseenter",x(this,$w)),m.addEventListener("mouseleave",x(this,Yw)),m.classList.add("popupTriggerArea");for(const m of r)(g=m.container)==null||g.addEventListener("keydown",x(this,I1));x(this,Pi).hidden=!0,p&&se(this,Vr,D_).call(this)}render(){if(x(this,Gc))return;const e=W(this,Gc,document.createElement("div"));if(e.className="popup",x(this,Lp)){const s=e.style.outlineColor=rn.makeHexColor(...x(this,Lp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=rn.makeHexColor(...x(this,Lp).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=x(this,oy),e.append(t),x(this,F1)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:x(this,F1).valueOf()})),t.append(s)}const i=x(this,Vr,F_);if(i)_I.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(x(this,sh));e.append(s)}x(this,Pi).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];r.append(document.createTextNode(o)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;x(this,Ip)||W(this,Ip,{contentsObj:x(this,sh),richText:x(this,lh)}),e&&W(this,oh,null),t&&(W(this,lh,se(this,Vr,CI).call(this,t)),W(this,sh,null)),(r=x(this,Gc))==null||r.remove(),W(this,Gc,null)}resetEdited(){var e;x(this,Ip)&&({contentsObj:Ya(this,sh)._,richText:Ya(this,lh)._}=x(this,Ip),W(this,Ip,null),(e=x(this,Gc))==null||e.remove(),W(this,Gc,null),W(this,oh,null))}forceHide(){W(this,Mp,this.isVisible),x(this,Mp)&&(x(this,Pi).hidden=!0)}maybeShow(){x(this,Mp)&&(x(this,Gc)||se(this,Vr,P_).call(this),W(this,Mp,!1),x(this,Pi).hidden=!1)}get isVisible(){return x(this,Pi).hidden===!1}}I1=new WeakMap,Yw=new WeakMap,$w=new WeakMap,M1=new WeakMap,Lp=new WeakMap,Pi=new WeakMap,sh=new WeakMap,F1=new WeakMap,iy=new WeakMap,sy=new WeakMap,D1=new WeakMap,ah=new WeakMap,Gc=new WeakMap,oh=new WeakMap,ay=new WeakMap,lh=new WeakMap,oy=new WeakMap,Ip=new WeakMap,Mp=new WeakMap,Vr=new WeakSet,F_=function(){const e=x(this,lh),t=x(this,sh);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&x(this,lh).html||null},kE=function(){var e,t,r;return((r=(t=(e=x(this,Vr,F_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},TI=function(){var e,t,r;return((r=(t=(e=x(this,Vr,F_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},CI=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:x(this,Vr,TI),fontSize:x(this,Vr,kE)?`calc(${x(this,Vr,kE)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},kI=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,ah))&&se(this,Vr,D_).call(this)},NI=function(){if(x(this,oh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=x(this,sy);let a=!!x(this,D1),o=a?x(this,D1):x(this,ay);for(const b of x(this,iy))if(!o||rn.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const c=rn.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,p=c[0]+h,g=c[1];W(this,oh,[100*(p-i)/t,100*(g-s)/r]);const{style:m}=x(this,Pi);m.left=`${x(this,oh)[0]}%`,m.top=`${x(this,oh)[1]}%`},D_=function(){W(this,ah,!x(this,ah)),x(this,ah)?(se(this,Vr,P_).call(this),x(this,Pi).addEventListener("click",x(this,M1)),x(this,Pi).addEventListener("keydown",x(this,I1))):(se(this,Vr,NE).call(this),x(this,Pi).removeEventListener("click",x(this,M1)),x(this,Pi).removeEventListener("keydown",x(this,I1)))},P_=function(){x(this,Gc)||this.render(),this.isVisible?x(this,ah)&&x(this,Pi).classList.add("focused"):(se(this,Vr,NI).call(this),x(this,Pi).hidden=!1,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)+1e3)},NE=function(){x(this,Pi).classList.remove("focused"),!(x(this,ah)||!this.isVisible)&&(x(this,Pi).hidden=!0,x(this,Pi).style.zIndex=parseInt(x(this,Pi).style.zIndex)-1e3)};class RI extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ly;class uH extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,ly,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Zd(t.rect),s=this.svgFactory.create(r,i,!0),a=W(this,ly,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,ly)}addHighlightArea(){this.container.classList.add("highlightArea")}}ly=new WeakMap;var cy;class fH extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,cy,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Zd(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=W(this,cy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,cy)}addHighlightArea(){this.container.classList.add("highlightArea")}}cy=new WeakMap;var uy;class hH extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,uy,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Zd(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=W(this,uy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}uy=new WeakMap;var fy;class LI extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,fy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:a,height:o}=Zd(t),c=this.svgFactory.create(a,o,!0);let f=[];for(let p=0,g=r.length;p<g;p+=2){const m=r[p]-t[0],b=t[3]-r[p+1];f.push(`${m},${b}`)}f=f.join(" ");const h=W(this,fy,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",f),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap;class dH extends LI{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pH extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hy,Fp,dy,RE;class i4 extends Qi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,dy);ne(this,hy,null);ne(this,Fp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Bn.HIGHLIGHT:Bn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:f}=se(this,dy,RE).call(this,r,t),h=this.svgFactory.create(c,f,!0),p=W(this,hy,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",o);for(let g=0,m=i.length;g<m;g++){const b=this.svgFactory.createElement(this.svgElementName);x(this,Fp).push(b),b.setAttribute("points",i[g].join(",")),p.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=x(this,hy);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,c=x(this,Fp).length;o<c;o++)x(this,Fp)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:c,height:f}=se(this,dy,RE).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${f}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return x(this,Fp)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap,Fp=new WeakMap,dy=new WeakSet,RE=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class II extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Bn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class mH extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gH extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class vH extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class MI extends Qi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Bn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var py,my,LE;class xH extends Qi{constructor(t){var i;super(t,{isRenderable:!0});ne(this,my);ne(this,py,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",se(this,my,LE).bind(this)),W(this,py,i);const{isMac:s}=ro.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&se(this,my,LE).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return x(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap,my=new WeakSet,LE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var gy,Dp,Pp,vy,ym,FI,IE;class yH{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ne(this,ym);ne(this,gy,null);ne(this,Dp,null);ne(this,Pp,new Map);ne(this,vy,null);this.div=e,W(this,gy,t),W(this,Dp,r),W(this,vy,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return x(this,Pp).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;lm(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new r4,annotationStorage:e.annotationStorage||new t4,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===Ss.POPUP;if(c){const p=i.get(o.id);if(!p)continue;s.elements=p}else{const{width:p,height:g}=Zd(o.rect);if(p<=0||g<=0)continue}s.data=o;const f=nH.create(s);if(!f.isRenderable)continue;if(!c&&o.popupRef){const p=i.get(o.popupRef);p?p.push(f):i.set(o.popupRef,[f])}const h=f.render();o.hidden&&(h.style.visibility="hidden"),await se(this,ym,FI).call(this,h,o.id),f._isEditable&&(x(this,Pp).set(f.data.id,f),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(f))}se(this,ym,IE).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,lm(t,{rotation:e.rotation}),se(this,ym,IE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(x(this,Pp).values())}getEditableAnnotation(e){return x(this,Pp).get(e)}}gy=new WeakMap,Dp=new WeakMap,Pp=new WeakMap,vy=new WeakMap,ym=new WeakSet,FI=async function(e,t){var a,o;const r=e.firstChild||e,i=r.id=`${KT}${t}`,s=await((a=x(this,vy))==null?void 0:a.getAriaAttributes(i));if(s)for(const[c,f]of s)r.setAttribute(c,f);this.div.append(e),(o=x(this,gy))==null||o.moveElementInDOM(this.div,e,r,!1)},IE=function(){if(!x(this,Dp))return;const e=this.div;for(const[t,r]of x(this,Dp)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}x(this,Dp).clear()};const Wb=/\r\n?|\n/g;var qc,al,xy,Op,ol,ds,DI,PI,OI,O_,Ah,B_,U_,BI,FE,UI;const Jr=class Jr extends Ei{constructor(t){super({...t,name:"freeTextEditor"});ne(this,ds);ne(this,qc);ne(this,al,"");ne(this,xy,`${this.id}-editor`);ne(this,Op,null);ne(this,ol);W(this,qc,t.color||Jr._defaultColor||Ei._defaultLineColor),W(this,ol,t.fontSize||Jr._defaultFontSize)}static get _keyboardManager(){const t=Jr.prototype,r=a=>a.isEmpty(),i=cm.TRANSLATE_SMALL,s=cm.TRANSLATE_BIG;return Yn(this,"_keyboardManager",new Hy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Ei.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ir.FREETEXT_SIZE:Jr._defaultFontSize=r;break;case ir.FREETEXT_COLOR:Jr._defaultColor=r;break}}updateParams(t,r){switch(t){case ir.FREETEXT_SIZE:se(this,ds,DI).call(this,r);break;case ir.FREETEXT_COLOR:se(this,ds,PI).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ir.FREETEXT_SIZE,Jr._defaultFontSize],[ir.FREETEXT_COLOR,Jr._defaultColor||Ei._defaultLineColor]]}get propertiesToUpdate(){return[[ir.FREETEXT_SIZE,x(this,ol)],[ir.FREETEXT_COLOR,x(this,qc)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Jr._internalPadding*t,-(Jr._internalPadding+x(this,ol))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),W(this,Op,new AbortController);const t=this._uiManager.combinedSignal(x(this,Op));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,xy)),this._isDraggable=!0,(t=x(this,Op))==null||t.abort(),W(this,Op,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=x(this,al),r=W(this,al,se(this,ds,OI).call(this).trimEnd());if(t===r)return;const i=s=>{if(W(this,al,s),!s){this.remove();return}se(this,ds,U_).call(this),this._uiManager.rebuild(this),se(this,ds,O_).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),se(this,ds,O_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Jr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,xy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${x(this,ol)}px * var(--scale-factor))`,i.color=x(this,qc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),aw(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,f]=this.getInitialTranslation();[c,f]=this.pageTranslationToScreen(c,f);const[h,p]=this.pageDimensions,[g,m]=this.pageTranslation;let b,_;switch(this.rotation){case 0:b=t+(o[0]-g)/h,_=r+this.height-(o[1]-m)/p;break;case 90:b=t+(o[0]-g)/h,_=r-(o[1]-m)/p,[c,f]=[f,-c];break;case 180:b=t-this.width+(o[0]-g)/h,_=r-(o[1]-m)/p,[c,f]=[-c,-f];break;case 270:b=t+(o[0]-g-this.height*p)/h,_=r+(o[1]-m-this.width*h)/p,[c,f]=[-f,c];break}this.setAt(b*s,_*a,c,f)}else this.setAt(t*s,r*a,this.width*s,this.height*a);se(this,ds,U_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,_,w;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=se(b=Jr,Ah,FE).call(b,r.getData("text")||"").replaceAll(Wb,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:f}=o,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const T=c.parentElement;if(p.push(c.nodeValue.slice(f).replaceAll(Wb,"")),T!==this.editorDiv){let L=h;for(const R of this.editorDiv.childNodes){if(R===T){L=p;continue}L.push(se(_=Jr,Ah,B_).call(_,R))}}h.push(c.nodeValue.slice(0,f).replaceAll(Wb,""))}else if(c===this.editorDiv){let T=h,L=0;for(const R of this.editorDiv.childNodes)L++===f&&(T=p),T.push(se(w=Jr,Ah,B_).call(w,R))}W(this,al,`${h.join(`
`)}${s}${p.join(`
`)}`),se(this,ds,U_).call(this);const g=new Range;let m=h.reduce((T,L)=>T+L.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const L=T.nodeValue.length;if(m<=L){g.setStart(T,m),g.setEnd(T,m);break}m-=L}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var o;let s=null;if(t instanceof RI){const{data:{defaultAppearanceData:{fontSize:c,fontColor:f},rect:h,rotation:p,id:g,popupRef:m},textContent:b,textPosition:_,parent:{page:{pageNumber:w}}}=t;if(!b||b.length===0)return null;s=t={annotationType:Bn.FREETEXT,color:Array.from(f),fontSize:c,value:b.join(`
`),position:_,pageIndex:w-1,rect:h.slice(0),rotation:p,id:g,deleted:!1,popupRef:m}}const a=await super.deserialize(t,r,i);return W(a,ol,t.fontSize),W(a,qc,rn.makeHexColor(...t.color)),W(a,al,se(o=Jr,Ah,FE).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Jr._internalPadding*this.parentScale,i=this.getRect(r,r),s=Ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,qc)),a={annotationType:Bn.FREETEXT,color:s,fontSize:x(this,ol),value:se(this,ds,BI).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!se(this,ds,UI).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${x(this,ol)}px * var(--scale-factor))`,i.color=x(this,qc),r.replaceChildren();for(const a of x(this,al).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const s=Jr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:x(this,al)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};qc=new WeakMap,al=new WeakMap,xy=new WeakMap,Op=new WeakMap,ol=new WeakMap,ds=new WeakSet,DI=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-x(this,ol))*this.parentScale),W(this,ol,s),se(this,ds,O_).call(this)},i=x(this,ol);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},PI=function(t){const r=s=>{W(this,qc,this.editorDiv.style.color=s)},i=x(this,qc);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},OI=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(se(i=Jr,Ah,B_).call(i,s)),r=s);return t.join(`
`)},O_=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Ah=new WeakSet,B_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Wb,"")},U_=function(){if(this.editorDiv.replaceChildren(),!!x(this,al))for(const t of x(this,al).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},BI=function(){return x(this,al).replaceAll(""," ")},FE=function(t){return t.replaceAll(" ","")},UI=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,c)=>o!==s[c])||t.pageIndex!==a},ne(Jr,Ah),Ct(Jr,"_freeTextDefaultContent",""),Ct(Jr,"_internalPadding",0),Ct(Jr,"_defaultColor",null),Ct(Jr,"_defaultFontSize",10),Ct(Jr,"_type","freetext"),Ct(Jr,"_editorType",Bn.FREETEXT);let ME=Jr;class zt{toSVGPath(){Kr("Abstract method `toSVGPath` must be implemented.")}get box(){Kr("Abstract getter `box` must be implemented.")}serialize(e,t){Kr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Ct(zt,"PRECISION",1e-4);var ll,Vc,P1,O1,Yu,Wn,Bp,Up,yy,by,B1,U1,Bd,_y,Kw,Jw,Ns,bx,HI,zI,jI,GI,qI,VI;const Gf=class Gf{constructor({x:e,y:t},r,i,s,a,o=0){ne(this,Ns);ne(this,ll);ne(this,Vc,[]);ne(this,P1);ne(this,O1);ne(this,Yu,[]);ne(this,Wn,new Float32Array(18));ne(this,Bp);ne(this,Up);ne(this,yy);ne(this,by);ne(this,B1);ne(this,U1);ne(this,Bd,[]);W(this,ll,r),W(this,U1,s*i),W(this,O1,a),x(this,Wn).set([NaN,NaN,NaN,NaN,e,t],6),W(this,P1,o),W(this,by,x(Gf,_y)*i),W(this,yy,x(Gf,Jw)*i),W(this,B1,i),x(this,Bd).push(e,t)}isEmpty(){return isNaN(x(this,Wn)[8])}add({x:e,y:t}){var O;W(this,Bp,e),W(this,Up,t);const[r,i,s,a]=x(this,ll);let[o,c,f,h]=x(this,Wn).subarray(8,12);const p=e-f,g=t-h,m=Math.hypot(p,g);if(m<x(this,yy))return!1;const b=m-x(this,by),_=b/m,w=_*p,T=_*g;let L=o,R=c;o=f,c=h,f+=w,h+=T,(O=x(this,Bd))==null||O.push(e,t);const F=-T/b,z=w/b,q=F*x(this,U1),P=z*x(this,U1);return x(this,Wn).set(x(this,Wn).subarray(2,8),0),x(this,Wn).set([f+q,h+P],4),x(this,Wn).set(x(this,Wn).subarray(14,18),12),x(this,Wn).set([f-q,h-P],16),isNaN(x(this,Wn)[6])?(x(this,Yu).length===0&&(x(this,Wn).set([o+q,c+P],2),x(this,Yu).push(NaN,NaN,NaN,NaN,(o+q-r)/s,(c+P-i)/a),x(this,Wn).set([o-q,c-P],14),x(this,Vc).push(NaN,NaN,NaN,NaN,(o-q-r)/s,(c-P-i)/a)),x(this,Wn).set([L,R,o,c,f,h],6),!this.isEmpty()):(x(this,Wn).set([L,R,o,c,f,h],6),Math.abs(Math.atan2(R-c,L-o)-Math.atan2(T,w))<Math.PI/2?([o,c,f,h]=x(this,Wn).subarray(2,6),x(this,Yu).push(NaN,NaN,NaN,NaN,((o+f)/2-r)/s,((c+h)/2-i)/a),[o,c,L,R]=x(this,Wn).subarray(14,18),x(this,Vc).push(NaN,NaN,NaN,NaN,((L+o)/2-r)/s,((R+c)/2-i)/a),!0):([L,R,o,c,f,h]=x(this,Wn).subarray(0,6),x(this,Yu).push(((L+5*o)/6-r)/s,((R+5*c)/6-i)/a,((5*o+f)/6-r)/s,((5*c+h)/6-i)/a,((o+f)/2-r)/s,((c+h)/2-i)/a),[f,h,o,c,L,R]=x(this,Wn).subarray(12,18),x(this,Vc).push(((L+5*o)/6-r)/s,((R+5*c)/6-i)/a,((5*o+f)/6-r)/s,((5*c+h)/6-i)/a,((o+f)/2-r)/s,((c+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Yu),t=x(this,Vc);if(isNaN(x(this,Wn)[6])&&!this.isEmpty())return se(this,Ns,HI).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);se(this,Ns,jI).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return se(this,Ns,zI).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new WI(e,t,r,i,s,a)}getOutlines(){var p;const e=x(this,Yu),t=x(this,Vc),r=x(this,Wn),[i,s,a,o]=x(this,ll),c=new Float32Array((((p=x(this,Bd))==null?void 0:p.length)??0)+2);for(let g=0,m=c.length-2;g<m;g+=2)c[g]=(x(this,Bd)[g]-i)/a,c[g+1]=(x(this,Bd)[g+1]-s)/o;if(c[c.length-2]=(x(this,Bp)-i)/a,c[c.length-1]=(x(this,Up)-s)/o,isNaN(r[6])&&!this.isEmpty())return se(this,Ns,GI).call(this,c);const f=new Float32Array(x(this,Yu).length+24+x(this,Vc).length);let h=e.length;for(let g=0;g<h;g+=2){if(isNaN(e[g])){f[g]=f[g+1]=NaN;continue}f[g]=e[g],f[g+1]=e[g+1]}h=se(this,Ns,VI).call(this,f,h);for(let g=t.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(t[g+m])){f[h]=f[h+1]=NaN,h+=2;continue}f[h]=t[g+m],f[h+1]=t[g+m+1],h+=2}return se(this,Ns,qI).call(this,f,h),this.newFreeDrawOutline(f,c,x(this,ll),x(this,B1),x(this,P1),x(this,O1))}};ll=new WeakMap,Vc=new WeakMap,P1=new WeakMap,O1=new WeakMap,Yu=new WeakMap,Wn=new WeakMap,Bp=new WeakMap,Up=new WeakMap,yy=new WeakMap,by=new WeakMap,B1=new WeakMap,U1=new WeakMap,Bd=new WeakMap,_y=new WeakMap,Kw=new WeakMap,Jw=new WeakMap,Ns=new WeakSet,bx=function(){const e=x(this,Wn).subarray(4,6),t=x(this,Wn).subarray(16,18),[r,i,s,a]=x(this,ll);return[(x(this,Bp)+(e[0]-t[0])/2-r)/s,(x(this,Up)+(e[1]-t[1])/2-i)/a,(x(this,Bp)+(t[0]-e[0])/2-r)/s,(x(this,Up)+(t[1]-e[1])/2-i)/a]},HI=function(){const[e,t,r,i]=x(this,ll),[s,a,o,c]=se(this,Ns,bx).call(this);return`M${(x(this,Wn)[2]-e)/r} ${(x(this,Wn)[3]-t)/i} L${(x(this,Wn)[4]-e)/r} ${(x(this,Wn)[5]-t)/i} L${s} ${a} L${o} ${c} L${(x(this,Wn)[16]-e)/r} ${(x(this,Wn)[17]-t)/i} L${(x(this,Wn)[14]-e)/r} ${(x(this,Wn)[15]-t)/i} Z`},zI=function(e){const t=x(this,Vc);e.push(`L${t[4]} ${t[5]} Z`)},jI=function(e){const[t,r,i,s]=x(this,ll),a=x(this,Wn).subarray(4,6),o=x(this,Wn).subarray(16,18),[c,f,h,p]=se(this,Ns,bx).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${c} ${f} L${h} ${p} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},GI=function(e){const t=x(this,Wn),[r,i,s,a]=x(this,ll),[o,c,f,h]=se(this,Ns,bx).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(p,e,x(this,ll),x(this,B1),x(this,P1),x(this,O1))},qI=function(e,t){const r=x(this,Vc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},VI=function(e,t){const r=x(this,Wn).subarray(4,6),i=x(this,Wn).subarray(16,18),[s,a,o,c]=x(this,ll),[f,h,p,g]=se(this,Ns,bx).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c],t),t+=24},ne(Gf,_y,8),ne(Gf,Kw,2),ne(Gf,Jw,x(Gf,_y)+x(Gf,Kw));let cw=Gf;var H1,Hp,ch,wy,cl,Ay,Yi,Zw,XI;class WI extends zt{constructor(t,r,i,s,a,o){super();ne(this,Zw);ne(this,H1);ne(this,Hp,new Float32Array(4));ne(this,ch);ne(this,wy);ne(this,cl);ne(this,Ay);ne(this,Yi);W(this,Yi,t),W(this,cl,r),W(this,H1,i),W(this,Ay,s),W(this,ch,a),W(this,wy,o),this.lastPoint=[NaN,NaN],se(this,Zw,XI).call(this,o);const[c,f,h,p]=x(this,Hp);for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-f)/p;for(let g=0,m=r.length;g<m;g+=2)r[g]=(r[g]-c)/h,r[g+1]=(r[g+1]-f)/p}toSVGPath(){const t=[`M${x(this,Yi)[4]} ${x(this,Yi)[5]}`];for(let r=6,i=x(this,Yi).length;r<i;r+=6){if(isNaN(x(this,Yi)[r])){t.push(`L${x(this,Yi)[r+4]} ${x(this,Yi)[r+5]}`);continue}t.push(`C${x(this,Yi)[r]} ${x(this,Yi)[r+1]} ${x(this,Yi)[r+2]} ${x(this,Yi)[r+3]} ${x(this,Yi)[r+4]} ${x(this,Yi)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,c=s-r;let f,h;switch(a){case 0:f=zt._rescale(x(this,Yi),t,s,o,-c),h=zt._rescale(x(this,cl),t,s,o,-c);break;case 90:f=zt._rescaleAndSwap(x(this,Yi),t,r,o,c),h=zt._rescaleAndSwap(x(this,cl),t,r,o,c);break;case 180:f=zt._rescale(x(this,Yi),i,r,-o,c),h=zt._rescale(x(this,cl),i,r,-o,c);break;case 270:f=zt._rescaleAndSwap(x(this,Yi),i,s,-o,-c),h=zt._rescaleAndSwap(x(this,cl),i,s,-o,-c);break}return{outline:Array.from(f),points:[Array.from(h)]}}get box(){return x(this,Hp)}newOutliner(t,r,i,s,a,o=0){return new cw(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=x(this,Hp),[c,f,h,p]=x(this,H1),g=a*h,m=o*p,b=i*h+c,_=s*p+f,w=this.newOutliner({x:x(this,cl)[0]*g+b,y:x(this,cl)[1]*m+_},x(this,H1),x(this,Ay),t,x(this,wy),r??x(this,ch));for(let T=2;T<x(this,cl).length;T+=2)w.add({x:x(this,cl)[T]*g+b,y:x(this,cl)[T+1]*m+_});return w.getOutlines()}}H1=new WeakMap,Hp=new WeakMap,ch=new WeakMap,wy=new WeakMap,cl=new WeakMap,Ay=new WeakMap,Yi=new WeakMap,Zw=new WeakSet,XI=function(t){const r=x(this,Yi);let i=r[4],s=r[5],a=i,o=s,c=i,f=s,h=i,p=s;const g=t?Math.max:Math.min;for(let b=6,_=r.length;b<_;b+=6){if(isNaN(r[b]))a=Math.min(a,r[b+4]),o=Math.min(o,r[b+5]),c=Math.max(c,r[b+4]),f=Math.max(f,r[b+5]),p<r[b+5]?(h=r[b+4],p=r[b+5]):p===r[b+5]&&(h=g(h,r[b+4]));else{const w=rn.bezierBoundingBox(i,s,...r.slice(b,b+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),c=Math.max(c,w[2]),f=Math.max(f,w[3]),p<w[3]?(h=w[2],p=w[3]):p===w[3]&&(h=g(h,w[2]))}i=r[b+4],s=r[b+5]}const m=x(this,Hp);m[0]=a-x(this,ch),m[1]=o-x(this,ch),m[2]=c-a+2*x(this,ch),m[3]=f-o+2*x(this,ch),this.lastPoint=[h,p]};var Sy,Ey,Ud,Wc,ao,YI,H_,$I,KI,PE;class DE{constructor(e,t=0,r=0,i=!0){ne(this,ao);ne(this,Sy);ne(this,Ey);ne(this,Ud,[]);ne(this,Wc,[]);let s=1/0,a=-1/0,o=1/0,c=-1/0;const f=10**-4;for(const{x:w,y:T,width:L,height:R}of e){const F=Math.floor((w-t)/f)*f,z=Math.ceil((w+L+t)/f)*f,q=Math.floor((T-t)/f)*f,P=Math.ceil((T+R+t)/f)*f,X=[F,q,P,!0],O=[z,q,P,!1];x(this,Ud).push(X,O),s=Math.min(s,F),a=Math.max(a,z),o=Math.min(o,q),c=Math.max(c,P)}const h=a-s+2*r,p=c-o+2*r,g=s-r,m=o-r,b=x(this,Ud).at(i?-1:-2),_=[b[0],b[2]];for(const w of x(this,Ud)){const[T,L,R]=w;w[0]=(T-g)/h,w[1]=(L-m)/p,w[2]=(R-m)/p}W(this,Sy,new Float32Array([g,m,h,p])),W(this,Ey,_)}getOutlines(){x(this,Ud).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of x(this,Ud))t[3]?(e.push(...se(this,ao,PE).call(this,t)),se(this,ao,$I).call(this,t)):(se(this,ao,KI).call(this,t),e.push(...se(this,ao,PE).call(this,t)));return se(this,ao,YI).call(this,e)}}Sy=new WeakMap,Ey=new WeakMap,Ud=new WeakMap,Wc=new WeakMap,ao=new WeakSet,YI=function(e){const t=[],r=new Set;for(const a of e){const[o,c,f]=a;t.push([o,c,a],[o,f,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],f=t[a+1][2];c.push(f),f.push(c),r.add(c),r.add(f)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,c,f,h,p]=a;r.delete(a);let g=o,m=c;for(s=[o,f],i.push(s);;){let b;if(r.has(h))b=h;else if(r.has(p))b=p;else break;r.delete(b),[o,c,f,h,p]=b,g!==o&&(s.push(g,m,o,m===c?c:f),g=o),m=m===c?f:c}s.push(g,m)}return new bH(i,x(this,Sy),x(this,Ey))},H_=function(e){const t=x(this,Wc);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},$I=function([,e,t]){const r=se(this,ao,H_).call(this,e);x(this,Wc).splice(r,0,[e,t])},KI=function([,e,t]){const r=se(this,ao,H_).call(this,e);for(let i=r;i<x(this,Wc).length;i++){const[s,a]=x(this,Wc)[i];if(s!==e)break;if(s===e&&a===t){x(this,Wc).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=x(this,Wc)[i];if(s!==e)break;if(s===e&&a===t){x(this,Wc).splice(i,1);return}}},PE=function(e){const[t,r,i]=e,s=[[t,r,i]],a=se(this,ao,H_).call(this,i);for(let o=0;o<a;o++){const[c,f]=x(this,Wc)[o];for(let h=0,p=s.length;h<p;h++){const[,g,m]=s[h];if(!(f<=g||m<=c)){if(g>=c){if(m>f)s[h][1]=f;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=c,m>f&&s.push([t,f,m])}}}return s};var Ty,z1;class bH extends zt{constructor(t,r,i){super();ne(this,Ty);ne(this,z1);W(this,z1,t),W(this,Ty,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of x(this,z1)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],c=r[a+1];o===i?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],c=i-t,f=s-r;for(const h of x(this,z1)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*c,p[g+1]=s-h[g+1]*f;o.push(p)}return o}get box(){return x(this,Ty)}get classNamesForOutlining(){return["highlightOutline"]}}Ty=new WeakMap,z1=new WeakMap;class OE extends cw{newFreeDrawOutline(e,t,r,i,s,a){return new _H(e,t,r,i,s,a)}}class _H extends WI{newOutliner(e,t,r,i,s,a=0){return new OE(e,t,r,i,s,a)}}var Xc,zp,j1,Cs,Cy,G1,ky,Ny,Hd,Yc,q1,Ry,Gr,BE,UE,HE,j0,JI,vd;const Ro=class Ro{constructor({editor:e=null,uiManager:t=null}){ne(this,Gr);ne(this,Xc,null);ne(this,zp,null);ne(this,j1);ne(this,Cs,null);ne(this,Cy,!1);ne(this,G1,!1);ne(this,ky,null);ne(this,Ny);ne(this,Hd,null);ne(this,Yc,null);ne(this,q1);var r;e?(W(this,G1,!1),W(this,q1,ir.HIGHLIGHT_COLOR),W(this,ky,e)):(W(this,G1,!0),W(this,q1,ir.HIGHLIGHT_DEFAULT_COLOR)),W(this,Yc,(e==null?void 0:e._uiManager)||t),W(this,Ny,x(this,Yc)._eventBus),W(this,j1,(e==null?void 0:e.color)||((r=x(this,Yc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),x(Ro,Ry)||W(Ro,Ry,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yn(this,"_keyboardManager",new Hy([[["Escape","mac+Escape"],Ro.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ro.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ro.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ro.prototype._moveToPrevious],[["Home","mac+Home"],Ro.prototype._moveToBeginning],[["End","mac+End"],Ro.prototype._moveToEnd]]))}renderButton(){const e=W(this,Xc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=x(this,Yc)._signal;e.addEventListener("click",se(this,Gr,j0).bind(this),{signal:t}),e.addEventListener("keydown",se(this,Gr,HE).bind(this),{signal:t});const r=W(this,zp,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=x(this,j1),e.append(r),e}renderMainDropdown(){const e=W(this,Cs,se(this,Gr,BE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,Xc)){se(this,Gr,j0).call(this,e);return}const t=e.target.getAttribute("data-color");t&&se(this,Gr,UE).call(this,t,e)}_moveToNext(e){var t,r;if(!x(this,Gr,vd)){se(this,Gr,j0).call(this,e);return}if(e.target===x(this,Xc)){(t=x(this,Cs).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=x(this,Cs))==null?void 0:t.firstChild)||e.target===x(this,Xc)){x(this,Gr,vd)&&this._hideDropdownFromKeyboard();return}x(this,Gr,vd)||se(this,Gr,j0).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!x(this,Gr,vd)){se(this,Gr,j0).call(this,e);return}(t=x(this,Cs).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!x(this,Gr,vd)){se(this,Gr,j0).call(this,e);return}(t=x(this,Cs).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=x(this,Cs))==null||e.classList.add("hidden"),(t=x(this,Hd))==null||t.abort(),W(this,Hd,null)}_hideDropdownFromKeyboard(){var e;if(!x(this,G1)){if(!x(this,Gr,vd)){(e=x(this,ky))==null||e.unselect();return}this.hideDropdown(),x(this,Xc).focus({preventScroll:!0,focusVisible:x(this,Cy)})}}updateColor(e){if(x(this,zp)&&(x(this,zp).style.backgroundColor=e),!x(this,Cs))return;const t=x(this,Yc).highlightColors.values();for(const r of x(this,Cs).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=x(this,Xc))==null||e.remove(),W(this,Xc,null),W(this,zp,null),(t=x(this,Cs))==null||t.remove(),W(this,Cs,null)}};Xc=new WeakMap,zp=new WeakMap,j1=new WeakMap,Cs=new WeakMap,Cy=new WeakMap,G1=new WeakMap,ky=new WeakMap,Ny=new WeakMap,Hd=new WeakMap,Yc=new WeakMap,q1=new WeakMap,Ry=new WeakMap,Gr=new WeakSet,BE=function(){const e=document.createElement("div"),t=x(this,Yc)._signal;e.addEventListener("contextmenu",su,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of x(this,Yc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",x(Ro,Ry)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===x(this,j1)),s.addEventListener("click",se(this,Gr,UE).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",se(this,Gr,HE).bind(this),{signal:t}),e},UE=function(e,t){t.stopPropagation(),x(this,Ny).dispatch("switchannotationeditorparams",{source:this,type:x(this,q1),value:e})},HE=function(e){Ro._keyboardManager.exec(this,e)},j0=function(e){if(x(this,Gr,vd)){this.hideDropdown();return}if(W(this,Cy,e.detail===0),x(this,Hd)||(W(this,Hd,new AbortController),window.addEventListener("pointerdown",se(this,Gr,JI).bind(this),{signal:x(this,Yc).combinedSignal(x(this,Hd))})),x(this,Cs)){x(this,Cs).classList.remove("hidden");return}const t=W(this,Cs,se(this,Gr,BE).call(this));x(this,Xc).append(t)},JI=function(e){var t;(t=x(this,Cs))!=null&&t.contains(e.target)||this.hideDropdown()},vd=function(){return x(this,Cs)&&!x(this,Cs).classList.contains("hidden")},ne(Ro,Ry,null);let uw=Ro;var V1,Ly,uh,jp,W1,Mo,Iy,My,Gp,$l,ul,oa,X1,fh,ka,Y1,Kl,Fy,Fn,zE,z_,ZI,QI,eM,jE,G0,tc,Rg,tM,j_,_x,nM,rM,iM,sM,aM;const Er=class Er extends Ei{constructor(t){super({...t,name:"highlightEditor"});ne(this,Fn);ne(this,V1,null);ne(this,Ly,0);ne(this,uh);ne(this,jp,null);ne(this,W1,null);ne(this,Mo,null);ne(this,Iy,null);ne(this,My,0);ne(this,Gp,null);ne(this,$l,null);ne(this,ul,null);ne(this,oa,!1);ne(this,X1,null);ne(this,fh);ne(this,ka,null);ne(this,Y1,"");ne(this,Kl);ne(this,Fy,"");this.color=t.color||Er._defaultColor,W(this,Kl,t.thickness||Er._defaultThickness),W(this,fh,t.opacity||Er._defaultOpacity),W(this,uh,t.boxes||null),W(this,Fy,t.methodOfCreation||""),W(this,Y1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(W(this,oa,!0),se(this,Fn,z_).call(this,t),se(this,Fn,G0).call(this)):x(this,uh)&&(W(this,V1,t.anchorNode),W(this,Ly,t.anchorOffset),W(this,Iy,t.focusNode),W(this,My,t.focusOffset),se(this,Fn,zE).call(this),se(this,Fn,G0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Er.prototype;return Yn(this,"_keyboardManager",new Hy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,oa)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,Kl),methodOfCreation:x(this,Fy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Ei.initialize(t,r),Er._defaultColor||(Er._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ir.HIGHLIGHT_DEFAULT_COLOR:Er._defaultColor=r;break;case ir.HIGHLIGHT_THICKNESS:Er._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return x(this,X1)}updateParams(t,r){switch(t){case ir.HIGHLIGHT_COLOR:se(this,Fn,ZI).call(this,r);break;case ir.HIGHLIGHT_THICKNESS:se(this,Fn,QI).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ir.HIGHLIGHT_DEFAULT_COLOR,Er._defaultColor],[ir.HIGHLIGHT_THICKNESS,Er._defaultThickness]]}get propertiesToUpdate(){return[[ir.HIGHLIGHT_COLOR,this.color||Er._defaultColor],[ir.HIGHLIGHT_THICKNESS,x(this,Kl)||Er._defaultThickness],[ir.HIGHLIGHT_FREE,x(this,oa)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(W(this,W1,new uw({editor:this})),t.addColorPicker(x(this,W1))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(se(this,Fn,_x).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,se(this,Fn,_x).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){se(this,Fn,jE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(se(this,Fn,G0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?se(this,Fn,jE).call(this):t&&(se(this,Fn,G0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;x(this,oa)?(t=(t-this.rotation+360)%360,i=se(s=Er,tc,Rg).call(s,x(this,$l).box,t)):i=se(a=Er,tc,Rg).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(x(this,ul),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(x(this,ka),{bbox:se(o=Er,tc,Rg).call(o,x(this,Mo).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();x(this,Y1)&&(t.setAttribute("aria-label",x(this,Y1)),t.setAttribute("role","mark")),x(this,oa)?t.classList.add("free"):this.div.addEventListener("keydown",se(this,Fn,tM).bind(this),{signal:this._uiManager._signal});const r=W(this,Gp,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=x(this,jp);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),aw(this,x(this,Gp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,ka),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(x(this,ka),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:se(this,Fn,j_).call(this,!0);break;case 1:case 3:se(this,Fn,j_).call(this,!1);break}}select(){var t;super.select(),x(this,ka)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,ka),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),x(this,ka)&&((t=this.parent)==null||t.drawLayer.updateProperties(x(this,ka),{rootClass:{selected:!1}}),x(this,oa)||se(this,Fn,j_).call(this,!1))}get _mustFixPosition(){return!x(this,oa)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(x(this,ul),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(x(this,ka),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:c,width:f,height:h}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),m=b=>{p.abort(),se(this,tc,sM).call(this,t,b)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",xl,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",su,{signal:g}),i.addEventListener("pointermove",se(this,tc,iM).bind(this,t),{signal:g}),this._freeHighlight=new OE({x:s,y:a},[o,c,f,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var _,w,T,L;let s=null;if(t instanceof II){const{data:{quadPoints:R,rect:F,rotation:z,id:q,color:P,opacity:X,popupRef:O},parent:{page:{pageNumber:ee}}}=t;s=t={annotationType:Bn.HIGHLIGHT,color:Array.from(P),opacity:X,quadPoints:R,boxes:null,pageIndex:ee-1,rect:F.slice(0),rotation:z,id:q,deleted:!1,popupRef:O}}else if(t instanceof i4){const{data:{inkLists:R,rect:F,rotation:z,id:q,color:P,borderStyle:{rawWidth:X},popupRef:O},parent:{page:{pageNumber:ee}}}=t;s=t={annotationType:Bn.HIGHLIGHT,color:Array.from(P),thickness:X,inkLists:R,boxes:null,pageIndex:ee-1,rect:F.slice(0),rotation:z,id:q,deleted:!1,popupRef:O}}const{color:a,quadPoints:o,inkLists:c,opacity:f}=t,h=await super.deserialize(t,r,i);h.color=rn.makeHexColor(...a),W(h,fh,f||1),c&&W(h,Kl,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[p,g]=h.pageDimensions,[m,b]=h.pageTranslation;if(o){const R=W(h,uh,[]);for(let F=0;F<o.length;F+=8)R.push({x:(o[F]-m)/p,y:1-(o[F+1]-b)/g,width:(o[F+2]-o[F])/p,height:(o[F+1]-o[F+5])/g});se(_=h,Fn,zE).call(_),se(w=h,Fn,G0).call(w),h.rotate(h.rotation)}else if(c){W(h,oa,!0);const R=c[0],F={x:R[0]-m,y:g-(R[1]-b)},z=new OE(F,[0,0,p,g],1,x(h,Kl)/2,!0,.001);for(let X=0,O=R.length;X<O;X+=2)F.x=R[X]-m,F.y=g-(R[X+1]-b),z.add(F);const{id:q,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:z.toSVGPath()}},!0,!0);se(T=h,Fn,z_).call(T,{highlightOutlines:z.getOutlines(),highlightId:q,clipPathId:P}),se(L=h,Fn,G0).call(L)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=Ei._colorManager.convert(this.color),s={annotationType:Bn.HIGHLIGHT,color:i,opacity:x(this,fh),thickness:x(this,Kl),quadPoints:se(this,Fn,nM).call(this),outlines:se(this,Fn,rM).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:se(this,Fn,_x).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!se(this,Fn,aM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};V1=new WeakMap,Ly=new WeakMap,uh=new WeakMap,jp=new WeakMap,W1=new WeakMap,Mo=new WeakMap,Iy=new WeakMap,My=new WeakMap,Gp=new WeakMap,$l=new WeakMap,ul=new WeakMap,oa=new WeakMap,X1=new WeakMap,fh=new WeakMap,ka=new WeakMap,Y1=new WeakMap,Kl=new WeakMap,Fy=new WeakMap,Fn=new WeakSet,zE=function(){const t=new DE(x(this,uh),.001);W(this,$l,t.getOutlines()),[this.x,this.y,this.width,this.height]=x(this,$l).box;const r=new DE(x(this,uh),.0025,.001,this._uiManager.direction==="ltr");W(this,Mo,r.getOutlines());const{lastPoint:i}=x(this,Mo);W(this,X1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},z_=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,g;if(W(this,$l,t),W(this,Mo,t.getNewOutline(x(this,Kl)/2+1.5,.0025)),r>=0)W(this,ul,r),W(this,jp,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),W(this,ka,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:x(this,Mo).box,path:{d:x(this,Mo).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(x(this,ul),{bbox:se(p=Er,tc,Rg).call(p,x(this,$l).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(x(this,ka),{bbox:se(g=Er,tc,Rg).call(g,x(this,Mo).box,m),path:{d:x(this,Mo).toSVGPath()}})}const[a,o,c,f]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=f;break;case 90:{const[m,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*b/m,this.height=f*m/b;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=f;break;case 270:{const[m,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*b/m,this.height=f*m/b;break}}const{lastPoint:h}=x(this,Mo);W(this,X1,[(h[0]-a)/c,(h[1]-o)/f])},ZI=function(t){const r=(a,o)=>{var c,f;this.color=a,W(this,fh,o),(c=this.parent)==null||c.drawLayer.updateProperties(x(this,ul),{root:{fill:a,"fill-opacity":o}}),(f=x(this,W1))==null||f.updateColor(a)},i=this.color,s=x(this,fh);this.addCommands({cmd:r.bind(this,t,Er._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},QI=function(t){const r=x(this,Kl),i=s=>{W(this,Kl,s),se(this,Fn,eM).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ir.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},eM=function(t){if(!x(this,oa))return;se(this,Fn,z_).call(this,{highlightOutlines:x(this,$l).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},jE=function(){x(this,ul)===null||!this.parent||(this.parent.drawLayer.remove(x(this,ul)),W(this,ul,null),this.parent.drawLayer.remove(x(this,ka)),W(this,ka,null))},G0=function(t=this.parent){x(this,ul)===null&&({id:Ya(this,ul)._,clipPathId:Ya(this,jp)._}=t.drawLayer.draw({bbox:x(this,$l).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":x(this,fh)},rootClass:{highlight:!0,free:x(this,oa)},path:{d:x(this,$l).toSVGPath()}},!1,!0),W(this,ka,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:x(this,oa)},bbox:x(this,Mo).box,path:{d:x(this,Mo).toSVGPath()}},x(this,oa))),x(this,Gp)&&(x(this,Gp).style.clipPath=x(this,jp)))},tc=new WeakSet,Rg=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},tM=function(t){Er._keyboardManager.exec(this,t)},j_=function(t){if(!x(this,V1))return;const r=window.getSelection();t?r.setPosition(x(this,V1),x(this,Ly)):r.setPosition(x(this,Iy),x(this,My))},_x=function(){return x(this,oa)?this.rotation:0},nM=function(){if(x(this,oa))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=x(this,uh),o=new Float32Array(a.length*8);let c=0;for(const{x:f,y:h,width:p,height:g}of a){const m=f*t+i,b=(1-h)*r+s;o[c]=o[c+4]=m,o[c+1]=o[c+3]=b,o[c+2]=o[c+6]=m+p*t,o[c+5]=o[c+7]=b-g*r,c+=8}return o},rM=function(t){return x(this,$l).serialize(t,se(this,Fn,_x).call(this))},iM=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},sM=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},aM=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},ne(Er,tc),Ct(Er,"_defaultColor",null),Ct(Er,"_defaultOpacity",1),Ct(Er,"_defaultThickness",12),Ct(Er,"_type","highlight"),Ct(Er,"_editorType",Bn.HIGHLIGHT),Ct(Er,"_freeHighlightId",-1),Ct(Er,"_freeHighlight",null),Ct(Er,"_freeHighlightClipId","");let fw=Er;var qp;class wH{constructor(){ne(this,qp,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))this.updateProperty(t,r)}updateSVGProperty(e,t){x(this,qp)[e]=t}toSVGProperties(){const e=x(this,qp);return W(this,qp,Object.create(null)),{root:e}}reset(){W(this,qp,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Kr("Not implemented")}}qp=new WeakMap;var fl,$1,Hs,Vp,Wp,zd,jd,Gd,Xp,hr,qE,VE,WE,wx,oM,G_,Ax,Lg;const Vt=class Vt extends Ei{constructor(t){super(t);ne(this,hr);ne(this,fl,null);ne(this,$1);Ct(this,"_drawId",null);W(this,$1,t.mustBeCommitted||!1),t.drawOutlines&&(se(this,hr,qE).call(this,t),se(this,hr,wx).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Kr("Not implemented")}static get typesMap(){Kr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(x(Vt,Hs).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=c=>{var h;s.updateProperty(r,c);const f=x(this,fl).updateProperty(r,c);f&&se(this,hr,Ax).call(this,f),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(x(this,fl).getPathResizingSVGProperties(se(this,hr,G_).call(this)),{bbox:se(this,hr,Lg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(x(this,fl).getPathResizedSVGProperties(se(this,hr,G_).call(this)),{bbox:se(this,hr,Lg).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:se(this,hr,Lg).call(this,t,r)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties(x(this,fl).getPathTranslatedSVGProperties(se(this,hr,G_).call(this),this.parentDimensions),{bbox:se(this,hr,Lg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,x(this,$1)&&(W(this,$1,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){se(this,hr,WE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(se(this,hr,wx).call(this),se(this,hr,Ax).call(this,x(this,fl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),se(this,hr,WE).call(this)):t&&(this._uiManager.addShouldRescale(this),se(this,hr,wx).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Vt._mergeSVGProperties({bbox:se(this,hr,Lg).call(this)},x(this,fl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&se(this,hr,Ax).call(this,x(this,fl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const r=document.createElement("div");t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,r,i,s,a){Kr("Not implemented")}static startDrawing(t,r,i,s){var w;const{target:a,offsetX:o,offsetY:c,pointerId:f,pointerType:h}=s;if(x(Vt,jd)&&x(Vt,jd)!==h)return;const{viewport:{rotation:p}}=t,{width:g,height:m}=a.getBoundingClientRect(),b=W(Vt,Vp,new AbortController),_=t.combinedSignal(b);if(x(Vt,zd)||W(Vt,zd,f),x(Vt,jd)??W(Vt,jd,h),window.addEventListener("pointerup",T=>{var L;x(Vt,zd)===T.pointerId?this._endDraw(T):(L=x(Vt,Gd))==null||L.delete(T.pointerId)},{signal:_}),window.addEventListener("pointercancel",T=>{var L;x(Vt,zd)===T.pointerId?this._currentParent.endDrawingSession():(L=x(Vt,Gd))==null||L.delete(T.pointerId)},{signal:_}),window.addEventListener("pointerdown",T=>{x(Vt,jd)===T.pointerType&&((x(Vt,Gd)||W(Vt,Gd,new Set)).add(T.pointerId),x(Vt,Hs).isCancellable()&&(x(Vt,Hs).removeLastElement(),x(Vt,Hs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:_}),window.addEventListener("contextmenu",su,{signal:_}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:_}),a.addEventListener("touchmove",T=>{T.timeStamp===x(Vt,Xp)&&xl(T)},{signal:_}),t.toggleDrawing(),(w=r._editorUndoBar)==null||w.hide(),x(Vt,Hs)){t.drawLayer.updateProperties(this._currentDrawId,x(Vt,Hs).startNew(o,c,g,m,p));return}r.updateUIForDefaultProperties(this),W(Vt,Hs,this.createDrawerInstance(o,c,g,m,p)),W(Vt,Wp,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(x(Vt,Wp).toSVGProperties(),x(Vt,Hs).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(W(Vt,Xp,-1),!x(Vt,Hs))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(x(Vt,zd)===s){if(((a=x(Vt,Gd))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,x(Vt,Hs).add(r,i)),W(Vt,Xp,t.timeStamp),xl(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,W(Vt,Hs,null),W(Vt,Wp,null),W(Vt,jd,null),W(Vt,Xp,NaN)),x(Vt,Vp)&&(x(Vt,Vp).abort(),W(Vt,Vp,null),W(Vt,zd,NaN),W(Vt,Gd,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),t&&r.drawLayer.updateProperties(this._currentDrawId,x(Vt,Hs).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=x(Vt,Hs),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:ir.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ir.DRAW_STEP),!x(Vt,Hs).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:x(Vt,Hs).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:x(Vt,Wp),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){Kr("Not implemented")}static async deserialize(t,r,i){var p,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=r.viewport,f=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),se(p=h,hr,qE).call(p,{drawOutlines:f}),se(g=h,hr,wx).call(g),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return x(this,fl).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};fl=new WeakMap,$1=new WeakMap,Hs=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,zd=new WeakMap,jd=new WeakMap,Gd=new WeakMap,Xp=new WeakMap,hr=new WeakSet,qE=function({drawOutlines:t,drawId:r,drawingOptions:i}){W(this,fl,t),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=se(this,hr,VE).call(this,t,this.parent),se(this,hr,Ax).call(this,t.box)},VE=function(t,r){const{id:i}=r.drawLayer.draw(Vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},WE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},wx=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=se(this,hr,VE).call(this,x(this,fl),t)}},oM=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},G_=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Ax=function(t){if([this.x,this.y,this.width,this.height]=se(this,hr,oM).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Lg=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[c,f]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(c/f),s*(f/c),i*(c/f)];case 5:return[1-r,t,i*(c/f),s*(f/c)];case 6:return[1-t-s*(f/c),1-r,s*(f/c),i*(c/f)];case 7:return[r-i*(c/f),1-t-s*(f/c),i*(c/f),s*(f/c)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(f/c),r,s*(f/c),i*(c/f)];case 13:return[1-r-i*(c/f),t-s*(f/c),i*(c/f),s*(f/c)];case 14:return[1-t,1-r-i*(c/f),s*(f/c),i*(c/f)];case 15:return[r,1-t,i*(c/f),s*(f/c)];default:return[t,r,i,s]}},Ct(Vt,"_currentDrawId",-1),Ct(Vt,"_currentParent",null),ne(Vt,Hs,null),ne(Vt,Vp,null),ne(Vt,Wp,null),ne(Vt,zd,NaN),ne(Vt,jd,null),ne(Vt,Gd,null),ne(Vt,Xp,NaN),Ct(Vt,"_INNER_MARGIN",3);let GE=Vt;var $u,zs,js,Yp,K1,Ja,la,Jl,$p,Kp,Jp,J1,q_;class AH{constructor(e,t,r,i,s,a){ne(this,J1);ne(this,$u,new Float64Array(6));ne(this,zs);ne(this,js);ne(this,Yp);ne(this,K1);ne(this,Ja);ne(this,la,"");ne(this,Jl,0);ne(this,$p,new hw);ne(this,Kp);ne(this,Jp);W(this,Kp,r),W(this,Jp,i),W(this,Yp,s),W(this,K1,a),[e,t]=se(this,J1,q_).call(this,e,t);const o=W(this,zs,[NaN,NaN,NaN,NaN,e,t]);W(this,Ja,[e,t]),W(this,js,[{line:o,points:x(this,Ja)}]),x(this,$u).set(o,0)}updateProperty(e,t){e==="stroke-width"&&W(this,K1,t)}isEmpty(){return!x(this,js)||x(this,js).length===0}isCancellable(){return x(this,Ja).length<=10}add(e,t){[e,t]=se(this,J1,q_).call(this,e,t);const[r,i,s,a]=x(this,$u).subarray(2,6),o=e-s,c=t-a;return Math.hypot(x(this,Kp)*o,x(this,Jp)*c)<=2?null:(x(this,Ja).push(e,t),isNaN(r)?(x(this,$u).set([s,a,e,t],2),x(this,zs).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(x(this,$u)[0])&&x(this,zs).splice(6,6),x(this,$u).set([r,i,s,a,e,t],0),x(this,zs).push(...zt.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(x(this,Ja).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){W(this,Kp,r),W(this,Jp,i),W(this,Yp,s),[e,t]=se(this,J1,q_).call(this,e,t);const a=W(this,zs,[NaN,NaN,NaN,NaN,e,t]);W(this,Ja,[e,t]);const o=x(this,js).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),x(this,js).push({line:a,points:x(this,Ja)}),x(this,$u).set(a,0),W(this,Jl,0),this.toSVGPath(),null}getLastElement(){return x(this,js).at(-1)}setLastElement(e){return x(this,js)?(x(this,js).push(e),W(this,zs,e.line),W(this,Ja,e.points),W(this,Jl,0),{path:{d:this.toSVGPath()}}):x(this,$p).setLastElement(e)}removeLastElement(){if(!x(this,js))return x(this,$p).removeLastElement();x(this,js).pop(),W(this,la,"");for(let e=0,t=x(this,js).length;e<t;e++){const{line:r,points:i}=x(this,js)[e];W(this,zs,r),W(this,Ja,i),W(this,Jl,0),this.toSVGPath()}return{path:{d:x(this,la)}}}toSVGPath(){const e=zt.svgRound(x(this,zs)[4]),t=zt.svgRound(x(this,zs)[5]);if(x(this,Ja).length===2)return W(this,la,`${x(this,la)} M ${e} ${t} Z`),x(this,la);if(x(this,Ja).length<=6){const i=x(this,la).lastIndexOf("M");W(this,la,`${x(this,la).slice(0,i)} M ${e} ${t}`),W(this,Jl,6)}if(x(this,Ja).length===4){const i=zt.svgRound(x(this,zs)[10]),s=zt.svgRound(x(this,zs)[11]);return W(this,la,`${x(this,la)} L ${i} ${s}`),W(this,Jl,12),x(this,la)}const r=[];x(this,Jl)===0&&(r.push(`M ${e} ${t}`),W(this,Jl,6));for(let i=x(this,Jl),s=x(this,zs).length;i<s;i+=6){const[a,o,c,f,h,p]=x(this,zs).slice(i,i+6).map(zt.svgRound);r.push(`C${a} ${o} ${c} ${f} ${h} ${p}`)}return W(this,la,x(this,la)+r.join(" ")),W(this,Jl,x(this,zs).length),x(this,la)}getOutlines(e,t,r,i){const s=x(this,js).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),x(this,$p).build(x(this,js),e,t,r,x(this,Yp),x(this,K1),i),W(this,$u,null),W(this,zs,null),W(this,js,null),W(this,la,null),x(this,$p)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}$u=new WeakMap,zs=new WeakMap,js=new WeakMap,Yp=new WeakMap,K1=new WeakMap,Ja=new WeakMap,la=new WeakMap,Jl=new WeakMap,$p=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,J1=new WeakSet,q_=function(e,t){return zt._normalizePoint(e,t,x(this,Kp),x(this,Jp),x(this,Yp))};var Za,Dy,Py,hl,Ku,Ju,Z1,Q1,ev,ua,zf,lM,cM,uM;const fC=class fC extends zt{constructor(){super(...arguments);ne(this,ua);ne(this,Za);ne(this,Dy,0);ne(this,Py);ne(this,hl);ne(this,Ku);ne(this,Ju);ne(this,Z1);ne(this,Q1);ne(this,ev)}build(t,r,i,s,a,o,c){W(this,Ku,r),W(this,Ju,i),W(this,Z1,s),W(this,Q1,a),W(this,ev,o),W(this,Py,c??0),W(this,hl,t),se(this,ua,cM).call(this)}setLastElement(t){return x(this,hl).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return x(this,hl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of x(this,hl)){if(t.push(`M${zt.svgRound(r[4])} ${zt.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12){t.push(`L${zt.svgRound(r[10])} ${zt.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,c,f,h,p]=r.subarray(i,i+6).map(zt.svgRound);t.push(`C${a} ${o} ${c} ${f} ${h} ${p}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],c=[],[f,h,p,g]=se(this,ua,lM).call(this);let m,b,_,w,T,L,R,F,z;switch(x(this,Q1)){case 0:z=zt._rescale,m=t,b=r+s,_=i,w=-s,T=t+f*i,L=r+(1-h-g)*s,R=t+(f+p)*i,F=r+(1-h)*s;break;case 90:z=zt._rescaleAndSwap,m=t,b=r,_=i,w=s,T=t+h*i,L=r+f*s,R=t+(h+g)*i,F=r+(f+p)*s;break;case 180:z=zt._rescale,m=t+i,b=r,_=-i,w=s,T=t+(1-f-p)*i,L=r+h*s,R=t+(1-f)*i,F=r+(h+g)*s;break;case 270:z=zt._rescaleAndSwap,m=t+i,b=r+s,_=-i,w=-s,T=t+(1-h-g)*i,L=r+(1-f-p)*s,R=t+(1-h)*i,F=r+(1-f)*s;break}for(const{line:q,points:P}of x(this,hl))o.push(z(q,m,b,_,w,a?new Array(q.length):null)),c.push(z(P,m,b,_,w,a?new Array(P.length):null));return{lines:o,points:c,rect:[T,L,R,F]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:c},rotation:f,thickness:h}){const p=[];let g,m,b,_,w;switch(f){case 0:w=zt._rescale,g=-t/i,m=r/s+1,b=1/i,_=-1/s;break;case 90:w=zt._rescaleAndSwap,g=-r/s,m=-t/i,b=1/s,_=1/i;break;case 180:w=zt._rescale,g=t/i+1,m=-r/s,b=-1/i,_=1/s;break;case 270:w=zt._rescaleAndSwap,g=r/s+1,m=t/i+1,b=-1/s,_=-1/i;break}if(!o){o=[];for(const L of c){const R=L.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const F=new Float32Array(3*(R-2));o.push(F);let[z,q,P,X]=L.subarray(0,4);F.set([NaN,NaN,NaN,NaN,z,q],0);for(let O=4;O<R;O+=2){const ee=L[O],B=L[O+1];F.set(zt.createBezierPoints(z,q,P,X,ee,B),(O-2)*3),[z,q,P,X]=[P,X,ee,B]}}}for(let L=0,R=o.length;L<R;L++)p.push({line:w(o[L].map(F=>F??NaN),g,m,b,_),points:w(c[L].map(F=>F??NaN),g,m,b,_)});const T=new fC;return T.build(p,i,s,1,f,h,a),T}get box(){return x(this,Za)}updateProperty(t,r){return t==="stroke-width"?se(this,ua,uM).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=se(this,ua,zf).call(this);W(this,Ku,t),W(this,Ju,r),W(this,Z1,i);const[o,c]=se(this,ua,zf).call(this),f=o-s,h=c-a,p=x(this,Za);return p[0]-=f,p[1]-=h,p[2]+=2*f,p[3]+=2*h,p}updateRotation(t){return W(this,Dy,t),{path:{transform:this.rotationTransform}}}get viewBox(){return x(this,Za).map(zt.svgRound).join(" ")}get defaultProperties(){const[t,r]=x(this,Za);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${zt.svgRound(t)} ${zt.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=x(this,Za);let i=0,s=0,a=0,o=0,c=0,f=0;switch(x(this,Dy)){case 90:s=r/t,a=-t/r,c=t;break;case 180:i=-1,o=-1,c=t,f=r;break;case 270:s=-r/t,a=t/r,f=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${zt.svgRound(c)} ${zt.svgRound(f)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=se(this,ua,zf).call(this),[c,f,h,p]=x(this,Za);if(Math.abs(h-a)<=zt.PRECISION||Math.abs(p-o)<=zt.PRECISION){const w=t+i/2-(c+h/2),T=r+s/2-(f+p/2);return{path:{"transform-origin":`${zt.svgRound(t)} ${zt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${w} ${T})`}}}const g=(i-2*a)/(h-2*a),m=(s-2*o)/(p-2*o),b=h/i,_=p/s;return{path:{"transform-origin":`${zt.svgRound(c)} ${zt.svgRound(f)}`,transform:`${this.rotationTransform} scale(${b} ${_}) translate(${zt.svgRound(a)} ${zt.svgRound(o)}) scale(${g} ${m}) translate(${zt.svgRound(-a)} ${zt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=se(this,ua,zf).call(this),c=x(this,Za),[f,h,p,g]=c;if(c[0]=t,c[1]=r,c[2]=i,c[3]=s,Math.abs(p-a)<=zt.PRECISION||Math.abs(g-o)<=zt.PRECISION){const T=t+i/2-(f+p/2),L=r+s/2-(h+g/2);for(const{line:R,points:F}of x(this,hl))zt._translate(R,T,L,R),zt._translate(F,T,L,F);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${zt.svgRound(t)} ${zt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*a)/(p-2*a),b=(s-2*o)/(g-2*o),_=-m*(f+a)+t+a,w=-b*(h+o)+r+o;if(m!==1||b!==1||_!==0||w!==0)for(const{line:T,points:L}of x(this,hl))zt._rescale(T,_,w,m,b,T),zt._rescale(L,_,w,m,b,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${zt.svgRound(t)} ${zt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=x(this,Za),c=t-o[0],f=r-o[1];if(x(this,Ku)===s&&x(this,Ju)===a)for(const{line:h,points:p}of x(this,hl))zt._translate(h,c,f,h),zt._translate(p,c,f,p);else{const h=x(this,Ku)/s,p=x(this,Ju)/a;W(this,Ku,s),W(this,Ju,a);for(const{line:g,points:m}of x(this,hl))zt._rescale(g,c,f,h,p,g),zt._rescale(m,c,f,h,p,m);o[2]*=h,o[3]*=p}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${zt.svgRound(t)} ${zt.svgRound(r)}`}}}get defaultSVGProperties(){const t=x(this,Za);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${zt.svgRound(t[0])} ${zt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Za=new WeakMap,Dy=new WeakMap,Py=new WeakMap,hl=new WeakMap,Ku=new WeakMap,Ju=new WeakMap,Z1=new WeakMap,Q1=new WeakMap,ev=new WeakMap,ua=new WeakSet,zf=function(t=x(this,ev)){const r=x(this,Py)+t/2*x(this,Z1);return x(this,Q1)%180===0?[r/x(this,Ku),r/x(this,Ju)]:[r/x(this,Ju),r/x(this,Ku)]},lM=function(){const[t,r,i,s]=x(this,Za),[a,o]=se(this,ua,zf).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},cM=function(){const t=W(this,Za,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of x(this,hl)){if(s.length<=12){for(let c=4,f=s.length;c<f;c+=6){const[h,p]=s.subarray(c,c+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],p),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],p)}continue}let a=s[4],o=s[5];for(let c=6,f=s.length;c<f;c+=6){const[h,p,g,m,b,_]=s.subarray(c,c+6);rn.bezierBoundingBox(a,o,h,p,g,m,b,_,t),a=b,o=_}}const[r,i]=se(this,ua,zf).call(this);t[0]=Math.min(1,Math.max(0,t[0]-r)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+r)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},uM=function(t){const[r,i]=se(this,ua,zf).call(this);W(this,ev,t);const[s,a]=se(this,ua,zf).call(this),[o,c]=[s-r,a-i],f=x(this,Za);return f[0]-=o,f[1]-=c,f[2]+=2*o,f[3]+=2*c,f};let hw=fC;var tv;const hC=class hC extends wH{constructor(t){super();ne(this,tv);W(this,tv,t),super.updateProperties({fill:"none",stroke:Ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,r){t==="stroke-width"&&(r??(r=this["stroke-width"]),r*=x(this,tv).realScale),super.updateSVGProperty(t,r)}clone(){const t=new hC(x(this,tv));return t.updateAll(this),t}};tv=new WeakMap;let XE=hC;var Qw,fM;const zg=class zg extends GE{constructor(t){super({...t,name:"inkEditor"});ne(this,Qw);this._willKeepAspectRatio=!0}static initialize(t,r){Ei.initialize(t,r),this._defaultDrawingOptions=new XE(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Yn(this,"typesMap",new Map([[ir.INK_THICKNESS,"stroke-width"],[ir.INK_COLOR,"stroke"],[ir.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new AH(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return hw.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof i4){const{data:{inkLists:o,rect:c,rotation:f,id:h,color:p,opacity:g,borderStyle:{rawWidth:m},popupRef:b},parent:{page:{pageNumber:_}}}=t;s=t={annotationType:Bn.INK,color:Array.from(p),thickness:m,opacity:g,paths:{points:o},boxes:null,pageIndex:_-1,rect:c.slice(0),rotation:f,id:h,deleted:!1,popupRef:b}}const a=await super.deserialize(t,r,i);return a.annotationElementId=t.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=zg.getDefaultDrawingOptions({stroke:rn.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,f={annotationType:Bn.INK,color:Ei._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?f:this.annotationElementId&&!se(this,Qw,fM).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Qw=new WeakSet,fM=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==r[c])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Ct(zg,"_type","ink"),Ct(zg,"_editorType",Bn.INK),Ct(zg,"_defaultDrawingOptions",null);let YE=zg;var Si,ca,qd,hh,Vd,nv,Zu,Qu,dl,rv,vr,Sx,Ex,V_,KE,W_,JE,X_,hM;const Vx=class Vx extends Ei{constructor(t){super({...t,name:"stampEditor"});ne(this,vr);ne(this,Si,null);ne(this,ca,null);ne(this,qd,null);ne(this,hh,null);ne(this,Vd,null);ne(this,nv,"");ne(this,Zu,null);ne(this,Qu,null);ne(this,dl,!1);ne(this,rv,!1);W(this,hh,t.bitmapUrl),W(this,Vd,t.bitmapFile)}static initialize(t,r){Ei.initialize(t,r)}static get supportedTypes(){return Yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Bn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const f=c.output;return await this.setGuessedAltText(f),r&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;x(this,ca)&&(W(this,Si,null),this._uiManager.imageManager.deleteId(x(this,ca)),(t=x(this,Zu))==null||t.remove(),W(this,Zu,null),x(this,Qu)&&(clearTimeout(x(this,Qu)),W(this,Qu,null))),super.remove()}rebuild(){if(!this.parent){x(this,ca)&&se(this,vr,V_).call(this);return}super.rebuild(),this.div!==null&&(x(this,ca)&&x(this,Zu)===null&&se(this,vr,V_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(x(this,qd)||x(this,Si)||x(this,hh)||x(this,Vd)||x(this,ca))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),x(this,Si)?se(this,vr,KE).call(this):se(this,vr,V_).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;x(this,Qu)!==null&&clearTimeout(x(this,Qu)),W(this,Qu,setTimeout(()=>{W(this,Qu,null),se(this,vr,JE).call(this)},200))}copyCanvas(t,r,i=!1){var m;t||(t=224);const{width:s,height:a}=x(this,Si),o=new XS;let c=x(this,Si),f=s,h=a,p=null;if(r){if(s>r||a>r){const X=Math.min(r/s,r/a);f=Math.floor(s*X),h=Math.floor(a*X)}p=document.createElement("canvas");const b=p.width=Math.ceil(f*o.sx),_=p.height=Math.ceil(h*o.sy);x(this,dl)||(c=se(this,vr,W_).call(this,b,_));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let T="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",L="#42414d");const R=15,F=R*o.sx,z=R*o.sy,q=new OffscreenCanvas(F*2,z*2),P=q.getContext("2d");P.fillStyle=T,P.fillRect(0,0,F*2,z*2),P.fillStyle=L,P.fillRect(0,0,F,z),P.fillRect(F,z,F,z),w.fillStyle=w.createPattern(q,"repeat"),w.fillRect(0,0,b,_),w.drawImage(c,0,0,c.width,c.height,0,0,b,_)}let g=null;if(i){let b,_;if(o.symmetric&&c.width<t&&c.height<t)b=c.width,_=c.height;else if(c=x(this,Si),s>t||a>t){const L=Math.min(t/s,t/a);b=Math.floor(s*L),_=Math.floor(a*L),x(this,dl)||(c=se(this,vr,W_).call(this,b,_))}const T=new OffscreenCanvas(b,_).getContext("2d",{willReadFrequently:!0});T.drawImage(c,0,0,c.width,c.height,0,0,b,_),g={width:b,height:_,data:T.getImageData(0,0,b,_).data}}return{canvas:p,width:f,height:h,imageData:g}}getImageForAltText(){return x(this,Zu)}static async deserialize(t,r,i){var _;let s=null;if(t instanceof MI){const{data:{rect:w,rotation:T,id:L,structParent:R,popupRef:F},container:z,parent:{page:{pageNumber:q}}}=t,P=z.querySelector("canvas"),X=i.imageManager.getFromCanvas(z.id,P);P.remove();const O=((_=await r._structTree.getAriaAttributes(`${KT}${L}`))==null?void 0:_.get("aria-label"))||"";s=t={annotationType:Bn.STAMP,bitmapId:X.id,bitmap:X.bitmap,pageIndex:q-1,rect:w.slice(0),rotation:T,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:R,popupRef:F}}const a=await super.deserialize(t,r,i),{rect:o,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:p,accessibilityData:g}=t;h&&i.imageManager.isValidId(h)?(W(a,ca,h),c&&W(a,Si,c)):W(a,hh,f),W(a,dl,p);const[m,b]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/b,a.annotationElementId=t.id||null,g&&(a.altTextData=g),a._initialData=s,W(a,rv,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Bn.STAMP,bitmapId:x(this,ca),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,dl),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=se(this,vr,X_).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=se(this,vr,hM).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=x(this,dl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(x(this,ca)))r.stamps.set(x(this,ca),{area:o,serialized:i}),i.bitmap=se(this,vr,X_).call(this,!1);else if(x(this,dl)){const c=r.stamps.get(x(this,ca));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=se(this,vr,X_).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Si=new WeakMap,ca=new WeakMap,qd=new WeakMap,hh=new WeakMap,Vd=new WeakMap,nv=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,dl=new WeakMap,rv=new WeakMap,vr=new WeakSet,Sx=function(t,r=!1){if(!t){this.remove();return}W(this,Si,t.bitmap),r||(W(this,ca,t.id),W(this,dl,t.isSvg)),t.file&&W(this,nv,t.file.name),se(this,vr,KE).call(this)},Ex=function(){if(W(this,qd,null),this._uiManager.enableWaiting(!1),!!x(this,Zu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Si)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Si)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},V_=function(){if(x(this,ca)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,ca)).then(i=>se(this,vr,Sx).call(this,i,!0)).finally(()=>se(this,vr,Ex).call(this));return}if(x(this,hh)){const i=x(this,hh);W(this,hh,null),this._uiManager.enableWaiting(!0),W(this,qd,this._uiManager.imageManager.getFromUrl(i).then(s=>se(this,vr,Sx).call(this,s)).finally(()=>se(this,vr,Ex).call(this)));return}if(x(this,Vd)){const i=x(this,Vd);W(this,Vd,null),this._uiManager.enableWaiting(!0),W(this,qd,this._uiManager.imageManager.getFromFile(i).then(s=>se(this,vr,Sx).call(this,s)).finally(()=>se(this,vr,Ex).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Vx.supportedTypesStr;const r=this._uiManager._signal;W(this,qd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),se(this,vr,Sx).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>se(this,vr,Ex).call(this))),t.click()},KE=function(){var p;const{div:t}=this;let{width:r,height:i}=x(this,Si);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const g=Math.min(o*s/r,o*a/i);r*=g,i*=g}const[c,f]=this.parentDimensions;this.setDims(r*c/s,i*f/a),this._uiManager.enableWaiting(!1);const h=W(this,Zu,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/s,this.height=i/a,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),se(this,vr,JE).call(this),x(this,rv)||(this.parent.addUndoableEditor(this),W(this,rv,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,nv)&&h.setAttribute("aria-label",x(this,nv))},W_=function(t,r){const{width:i,height:s}=x(this,Si);let a=i,o=s,c=x(this,Si);for(;a>2*t||o>2*r;){const f=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(a,o);p.getContext("2d").drawImage(c,0,0,f,h,0,0,a,o),c=p.transferToImageBitmap()}return c},JE=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new XS,o=Math.ceil(i*t*a.sx),c=Math.ceil(s*r*a.sy),f=x(this,Zu);if(!f||f.width===o&&f.height===c)return;f.width=o,f.height=c;const h=x(this,dl)?x(this,Si):se(this,vr,W_).call(this,o,c),p=f.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,o,c)},X_=function(t){if(t){if(x(this,dl)){const s=this._uiManager.imageManager.getSvgUrl(x(this,ca));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=x(this,Si),r.getContext("2d").drawImage(x(this,Si),0,0),r.toDataURL()}if(x(this,dl)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*e0.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*e0.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(x(this,Si),0,0,x(this,Si).width,x(this,Si).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(x(this,Si))},hM=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Ct(Vx,"_type","stamp"),Ct(Vx,"_editorType",Bn.STAMP);let $E=Vx;var Zp,iv,ef,Wd,dh,Zl,Xd,sv,Qp,$c,ph,Na,mh,en,Yd,vi,dM,Fu,QE,eT,Y_;const Oc=class Oc{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:f,l10n:h}){ne(this,vi);ne(this,Zp);ne(this,iv,!1);ne(this,ef,null);ne(this,Wd,null);ne(this,dh,null);ne(this,Zl,new Map);ne(this,Xd,!1);ne(this,sv,!1);ne(this,Qp,!1);ne(this,$c,null);ne(this,ph,null);ne(this,Na,null);ne(this,mh,null);ne(this,en);const p=[...x(Oc,Yd).values()];if(!Oc._initialized){Oc._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),W(this,en,e),this.pageIndex=t,this.div=r,W(this,Zp,s),W(this,ef,a),this.viewport=f,W(this,Na,c),this.drawLayer=o,this._structTree=i,x(this,en).addLayer(this)}get isEmpty(){return x(this,Zl).size===0}get isInvisible(){return this.isEmpty&&x(this,en).getMode()===Bn.NONE}updateToolbar(e){x(this,en).updateToolbar(e)}updateMode(e=x(this,en).getMode()){switch(se(this,vi,Y_).call(this),e){case Bn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Bn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Bn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of x(Oc,Yd).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=x(this,Na))==null?void 0:t.div)}setEditingState(e){x(this,en).setEditingState(e)}addCommands(e){x(this,en).addCommands(e)}cleanUndoStack(e){x(this,en).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=x(this,ef))==null||t.div.classList.toggle("disabled",!e)}async enable(){W(this,Qp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of x(this,Zl).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(x(this,en).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!x(this,ef)){W(this,Qp,!1);return}const t=x(this,ef).getEditableAnnotations();for(const r of t){if(r.hide(),x(this,en).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}W(this,Qp,!1)}disable(){var i;W(this,sv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of x(this,Zl).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(x(this,ef)){const s=x(this,ef).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(x(this,en).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(x(this,en).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}se(this,vi,Y_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of x(Oc,Yd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),W(this,sv,!1)}getEditableAnnotation(e){var t;return((t=x(this,ef))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,en).getActive()!==e&&x(this,en).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=x(this,Na))!=null&&e.div&&!x(this,mh)){W(this,mh,new AbortController);const t=x(this,en).combinedSignal(x(this,mh));x(this,Na).div.addEventListener("pointerdown",se(this,vi,dM).bind(this),{signal:t}),x(this,Na).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Na))!=null&&e.div&&x(this,mh)&&(x(this,mh).abort(),W(this,mh,null),x(this,Na).div.classList.remove("highlighting"))}enableClick(){if(x(this,Wd))return;W(this,Wd,new AbortController);const e=x(this,en).combinedSignal(x(this,Wd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=x(this,Wd))==null||e.abort(),W(this,Wd,null)}attach(e){x(this,Zl).set(e.id,e);const{annotationElementId:t}=e;t&&x(this,en).isDeletedAnnotationElement(t)&&x(this,en).removeDeletedAnnotationElement(e)}detach(e){var t;x(this,Zl).delete(e.id),(t=x(this,Zp))==null||t.removePointerInTextLayer(e.contentDiv),!x(this,sv)&&e.annotationElementId&&x(this,en).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,en).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,en).addDeletedAnnotationElement(e.annotationElementId),Ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,en).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!x(this,Qp)),x(this,en).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!x(this,dh)&&(e._focusEventsAllowed=!1,W(this,dh,setTimeout(()=>{W(this,dh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,en)._signal}),t.focus())},0))),e._structTreeParentId=(r=x(this,Zp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return x(this,en).getId()}combinedSignal(e){return x(this,en).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=x(this,vi,Fu))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){x(this,en).updateToolbar(e),x(this,en).updateMode(e);const{offsetX:r,offsetY:i}=se(this,vi,eT).call(this),s=this.getNextId(),a=se(this,vi,QE).call(this,{parent:this,id:s,x:r,y:i,uiManager:x(this,en),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=x(Oc,Yd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,x(this,en)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=se(this,vi,QE).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:x(this,en),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(se(this,vi,eT).call(this),!0)}setSelected(e){x(this,en).setSelected(e)}toggleSelected(e){x(this,en).toggleSelected(e)}unselect(e){x(this,en).unselect(e)}pointerup(e){var r;const{isMac:t}=ro.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&x(this,Xd)&&(W(this,Xd,!1),!((r=x(this,vi,Fu))!=null&&r.isDrawer&&x(this,vi,Fu).supportMultipleDrawings))){if(!x(this,iv)){W(this,iv,!0);return}if(x(this,en).getMode()===Bn.STAMP){x(this,en).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(x(this,en).getMode()===Bn.HIGHLIGHT&&this.enableTextSelection(),x(this,Xd)){W(this,Xd,!1);return}const{isMac:t}=ro.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(W(this,Xd,!0),(i=x(this,vi,Fu))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=x(this,en).getActive();W(this,iv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),x(this,$c)){x(this,vi,Fu).startDrawing(this,x(this,en),!1,e);return}x(this,en).setCurrentDrawingSession(this),W(this,$c,new AbortController);const t=x(this,en).combinedSignal(x(this,$c));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(W(this,ph,null),this.commitOrRemove())},{signal:t}),x(this,vi,Fu).startDrawing(this,x(this,en),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&W(this,ph,t);return}x(this,ph)&&setTimeout(()=>{var t;(t=x(this,ph))==null||t.focus(),W(this,ph,null)},0)}endDrawingSession(e=!1){return x(this,$c)?(x(this,en).setCurrentDrawingSession(null),x(this,$c).abort(),W(this,$c,null),W(this,ph,null),x(this,vi,Fu).endDrawing(e)):null}findNewParent(e,t,r){const i=x(this,en).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return x(this,$c)?(this.endDrawingSession(),!0):!1}onScaleChanging(){x(this,$c)&&x(this,vi,Fu).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=x(this,en).getActive())==null?void 0:e.parent)===this&&(x(this,en).commitOrRemove(),x(this,en).setActiveEditor(null)),x(this,dh)&&(clearTimeout(x(this,dh)),W(this,dh,null));for(const r of x(this,Zl).values())(t=x(this,Zp))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,x(this,Zl).clear(),x(this,en).removeLayer(this)}render({viewport:e}){this.viewport=e,lm(this.div,e);for(const t of x(this,en).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){x(this,en).commitOrRemove(),se(this,vi,Y_).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,lm(this.div,{rotation:r}),t!==r)for(const i of x(this,Zl).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return x(this,en).viewParameters.realScale}};Zp=new WeakMap,iv=new WeakMap,ef=new WeakMap,Wd=new WeakMap,dh=new WeakMap,Zl=new WeakMap,Xd=new WeakMap,sv=new WeakMap,Qp=new WeakMap,$c=new WeakMap,ph=new WeakMap,Na=new WeakMap,mh=new WeakMap,en=new WeakMap,Yd=new WeakMap,vi=new WeakSet,dM=function(e){x(this,en).unselectAll();const{target:t}=e;if(t===x(this,Na).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&x(this,Na).div.contains(t)){const{isMac:r}=ro.platform;if(e.button!==0||e.ctrlKey&&r)return;x(this,en).showAllEditors("highlight",!0,!0),x(this,Na).div.classList.add("free"),this.toggleDrawing(),fw.startHighlighting(this,x(this,en).direction==="ltr",{target:x(this,Na).div,x:e.x,y:e.y}),x(this,Na).div.addEventListener("pointerup",()=>{x(this,Na).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:x(this,en)._signal}),e.preventDefault()}},Fu=function(){return x(Oc,Yd).get(x(this,en).getMode())},QE=function(e){const t=x(this,vi,Fu);return t?new t.prototype.constructor(e):null},eT=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+i),f=(s+o)/2-e,h=(a+c)/2-t,[p,g]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:p,offsetY:g}},Y_=function(){for(const e of x(this,Zl).values())e.isEmpty()&&e.remove()},Ct(Oc,"_initialized",!1),ne(Oc,Yd,new Map([ME,YE,$E,fw].map(e=>[e._editorType,e])));let ZE=Oc;var Kc,Oy,Qa,em,e5,pM,of,nT,mM,rT;const Ea=class Ea{constructor({pageIndex:e}){ne(this,of);ne(this,Kc,null);ne(this,Oy,0);ne(this,Qa,new Map);ne(this,em,new Map);this.pageIndex=e}setParent(e){if(!x(this,Kc)){W(this,Kc,e);return}if(x(this,Kc)!==e){if(x(this,Qa).size>0)for(const t of x(this,Qa).values())t.remove(),e.append(t);W(this,Kc,e)}}static get _svgFactory(){return Yn(this,"_svgFactory",new r4)}draw(e,t=!1,r=!1){const i=Ya(this,Oy)._++,s=se(this,of,nT).call(this),a=Ea._svgFactory.createElement("defs");s.append(a);const o=Ea._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),t&&x(this,em).set(i,o);const f=r?se(this,of,mM).call(this,a,c):null,h=Ea._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(s,e),x(this,Qa).set(i,s),{id:i,clipPathId:`url(#${f})`}}drawOutline(e,t){const r=Ya(this,Oy)._++,i=se(this,of,nT).call(this),s=Ea._svgFactory.createElement("defs");i.append(s);const a=Ea._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=Ea._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=Ea._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Ea._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const f=Ea._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${o}`),c&&f.setAttribute("mask",`url(#${c})`);const h=f.cloneNode();return i.append(h),f.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),x(this,Qa).set(r,i),r}finalizeDraw(e,t){x(this,em).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?x(this,Qa).get(e):e;if(o){if(r&&se(this,of,rT).call(this,o,r),i&&se(c=Ea,e5,pM).call(c,o,i),s){const{classList:f}=o;for(const[h,p]of Object.entries(s))f.toggle(h,p)}if(a){const h=o.firstChild.firstChild;se(this,of,rT).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const r=x(this,Qa).get(e);r&&(x(t,Kc).append(r),x(this,Qa).delete(e),x(t,Qa).set(e,r))}remove(e){x(this,em).delete(e),x(this,Kc)!==null&&(x(this,Qa).get(e).remove(),x(this,Qa).delete(e))}destroy(){W(this,Kc,null);for(const e of x(this,Qa).values())e.remove();x(this,Qa).clear(),x(this,em).clear()}};Kc=new WeakMap,Oy=new WeakMap,Qa=new WeakMap,em=new WeakMap,e5=new WeakSet,pM=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},of=new WeakSet,nT=function(){const e=Ea._svgFactory.create(1,1,!0);return x(this,Kc).append(e),e.setAttribute("aria-hidden",!0),e},mM=function(e,t){const r=Ea._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Ea._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},rT=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},ne(Ea,e5);let tT=Ea;globalThis.pdfjsTestingUtils={HighlightOutliner:DE};Tn.AbortException;Tn.AnnotationEditorLayer;Tn.AnnotationEditorParamsType;Tn.AnnotationEditorType;Tn.AnnotationEditorUIManager;Tn.AnnotationLayer;Tn.AnnotationMode;Tn.ColorPicker;Tn.DOMSVGFactory;Tn.DrawLayer;Tn.FeatureTest;var SH=Tn.GlobalWorkerOptions;Tn.ImageKind;Tn.InvalidPDFException;Tn.MissingPDFException;Tn.OPS;Tn.OutputScale;Tn.PDFDataRangeTransport;Tn.PDFDateString;Tn.PDFWorker;Tn.PasswordResponses;Tn.PermissionFlag;Tn.PixelsPerInch;Tn.RenderingCancelledException;Tn.TextLayer;Tn.TouchManager;Tn.UnexpectedResponseException;Tn.Util;Tn.VerbosityLevel;Tn.XfaLayer;Tn.build;Tn.createValidAbsoluteUrl;Tn.fetchData;var EH=Tn.getDocument;Tn.getFilenameFromUrl;Tn.getPdfFilenameFromUrl;Tn.getXfaPageViewport;Tn.isDataScheme;Tn.isPdfFile;Tn.noContextMenu;Tn.normalizeUnicode;Tn.setLayerDimensions;Tn.shadow;Tn.stopEvent;Tn.version;SH.workerSrc="https://esm.sh/pdfjs-dist@4.0.379/build/pdf.worker.min.mjs";const TH={es:{title:"Plantillas para PDF",subtitle:"Define estructuras base para los documentos que generas y adjuntas.",newBtn:"Nueva Plantilla PDF",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas PDF guardadas an.",editTitle:"Editar Plantilla PDF",newTitle:"Nueva Plantilla PDF",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Encabezado Mdico, Factura Base, etc.",bodyLabel:"Contenido (Texto Enriquecido)",bodyPlaceholder:"Define aqu el texto base de tu PDF...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla",importPdf:"Importar desde PDF",extracting:"Extrayendo texto...",importSuccess:"Texto extrado correctamente.",importError:"Error al procesar el PDF."},en:{title:"PDF Templates",subtitle:"Define base structures for the documents you generate and attach.",newBtn:"New PDF Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No PDF templates saved yet.",editTitle:"Edit PDF Template",newTitle:"New PDF Template",nameLabel:"Template Name",namePlaceholder:"Medical Header, Base Invoice, etc.",bodyLabel:"Content (Rich Text)",bodyPlaceholder:"Define the base text of your PDF here...",updateBtn:"Update Template",saveBtn:"Save Template",importPdf:"Import from PDF",extracting:"Extracting text...",importSuccess:"Text extracted successfully.",importError:"Error processing PDF."}},CH=({templates:n,onAction:e,lang:t})=>{const r=Qe.useMemo(()=>TH[t],[t]),[i,s]=Qe.useState(null),[a,o]=Qe.useState(!1),[c,f]=Qe.useState(!1),[h,p]=Qe.useState(""),[g,m]=Qe.useState({id:"",name:"",body:""}),b=Qe.useRef(null),_=Qe.useRef(null),w=n.filter(q=>q.name.toLowerCase().includes(h.toLowerCase()));Qe.useEffect(()=>{(a||i)&&b.current&&b.current.innerHTML!==g.body&&(b.current.innerHTML=g.body)},[a,i,g.body]);const T=()=>{m({id:Date.now().toString(),name:"",body:""}),o(!0),s(null)},L=q=>{m(q),s(q),o(!1)},R=q=>{q.preventDefault(),i?e.update(g):e.add(g),o(!1),s(null)},F=q=>{document.execCommand(q,!1),b.current&&m(P=>({...P,body:b.current.innerHTML}))},z=async q=>{var X;const P=(X=q.target.files)==null?void 0:X[0];if(P){f(!0);try{const O=await P.arrayBuffer(),B=await EH({data:O}).promise;let G="";for(let Q=1;Q<=B.numPages;Q++){const K=(await(await B.getPage(Q)).getTextContent()).items.map(le=>le.str).join(" ");G+=`<p>${K}</p>`}m(Q=>({...Q,name:Q.name||P.name.replace(".pdf",""),body:G}))}catch(O){console.error("Error al extraer PDF:",O),alert(r.importError)}finally{f(!1),_.current&&(_.current.value="")}}};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!a&&!i&&E.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(om,{size:18})," ",r.newBtn]})]}),!a&&!i?E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(By,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:h,onChange:q=>p(q.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.map(q=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>L(q),children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:q.name}),E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:P=>{P.stopPropagation(),L(q)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(av,{size:14})}),E.jsx("button",{onClick:P=>{P.stopPropagation(),e.delete(q.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(rf,{size:14})})]})]}),E.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:q.body.replace(/<[^>]*>?/gm," ")}})]})},q.id)),w.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:h?r.noSearch:r.noTemplates})]})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),E.jsx("button",{onClick:()=>{o(!1),s(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(Oo,{size:20})})]}),E.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-3",children:[E.jsx("input",{type:"file",ref:_,accept:"application/pdf",className:"hidden",onChange:z}),E.jsxs("button",{type:"button",onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold shadow-sm hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-50",children:[c?E.jsx(Sh,{className:"animate-spin",size:18}):E.jsx(vL,{size:18}),c?r.extracting:r.importPdf]})]}),E.jsxs("form",{onSubmit:R,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:g.name,onChange:q=>m({...g,name:q.target.value}),placeholder:r.namePlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(sf,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),E.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>F("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(jT,{size:16})}),E.jsx("button",{type:"button",onClick:()=>F("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(WT,{size:16})}),E.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),E.jsx("button",{type:"button",onClick:()=>F("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(XT,{size:16})})]}),E.jsx("div",{ref:b,contentEditable:!0,onInput:q=>{const P=q.currentTarget.innerHTML;m(X=>({...X,body:P}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),E.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[E.jsx(af,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})},kH={es:{title:"Opciones del Sistema",subtitle:"Configura perfiles de envo, integraciones y asociaciones de censo.",tabSmtp:"Servidores SMTP",tabIntegrations:"Integraciones",tabPdf:"Configuracin PDF",tabAssociations:"Asociaciones Correo",tabCc:"Copia (CC)",tabSecurity:"Seguridad",tabPreferences:"Preferencias",langLabel:"Idioma de la Aplicacin",langSpanish:"Espaol",langEnglish:"Ingls",themeLabel:"Apariencia",themeLight:"Modo Claro",themeDark:"Modo Oscuro",sizeLimitLabel:"Lmite individual de adjuntos (MB)",appTitleLabel:"Nombre de la Aplicacin",appTitlePlaceholder:"CDLVM",saveNotify:"Cambios aplicados instantneamente.",pdfLogoLabel:"Logo para Documentos PDF",pdfLogoDesc:"Este logo aparecer en todas las pginas de los PDF generados.",logoPosLabel:"Posicin del Logo",pageDimLabel:"Medidas y Formato de Pgina",pageDimHint:"Define el tamao base del papel para los reportes.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Carta (215.9 x 279.4 mm)",formatCustom:"Personalizado",width:"Ancho (mm)",height:"Alto (mm)",uploadLogo:"Subir Logo",removeLogo:"Eliminar Logo",assocTitle:"Asociaciones Cobertura-Correo",assocSubtitle:"Configura a quin y qu enviar automticamente para cada obra social.",newAssoc:"Nueva Asociacin",coverageName:"Nombre Cobertura (Exacto)",recipients:"Destinatarios (separar por comas)",subject:"Asunto del Correo",body:"Cuerpo del Correo",noAssoc:"No hay asociaciones configuradas.",editAssoc:"Editar Asociacin",deleteAssoc:"Eliminar asociacin?",saveAssoc:"Guardar Asociacin",ccTitle:"Correos para Copia (CC)",ccSubtitle:"Configura direcciones que aparecern como opciones rpidas al redactar.",ccLabel:"Etiqueta (Ej: Depto. Mdico)",ccEmail:"Correo Electrnico",ccVisible:"Visible en Redaccin",newCc:"Nueva Copia",noCc:"No hay correos CC configurados.",deleteCc:"Eliminar correo CC?",isolationColLabel:"Columna de Aislamiento",isolationColHint:'Columna que indica si el paciente requiere aislamiento (ej: "AISLAMIENTO").',isolationValueLabel:"Valor de Bsqueda para Aislamiento",isolationValueHint:"Solo se contarn pacientes cuyo valor en la columna coincida con este texto.",patientIdColLabel:"Columna ID Paciente (Clave nica)",patientIdColHint:"Columna para identificar pacientes nicos (DNI, NHC, etc.). Se usa para el Registro Histrico.",securityKeyLabel:"Clave de Acceso al Sistema",securityKeyHint:"Define una clave numrica de al menos 4 dgitos.",autoLockLabel:"Bloqueo Automtico por Inactividad (Minutos)",autoLockHint:"0 para desactivar. El sistema pedir la clave tras este tiempo sin uso.",keyMinError:"La clave debe tener al menos 4 nmeros."},en:{title:"System Options",subtitle:"Configure sending profiles, integrations, and census associations.",tabSmtp:"SMTP Servers",tabIntegrations:"Integrations",tabPdf:"PDF Configuration",tabAssociations:"Email Associations",tabCc:"Copy (CC)",tabSecurity:"Security",tabPreferences:"Preferences",langLabel:"Application Language",langSpanish:"Spanish",langEnglish:"English",themeLabel:"Appearance",themeLight:"Light Mode",themeDark:"Dark Mode",sizeLimitLabel:"Individual attachment limit (MB)",appTitleLabel:"Application Name",appTitlePlaceholder:"CDLVM",saveNotify:"Changes applied instantly.",pdfLogoLabel:"Logo for PDF Documents",pdfLogoDesc:"This logo will appear on all pages of the generated PDFs.",logoPosLabel:"Logo Position",pageDimLabel:"Page Measurements & Format",pageDimHint:"Define the base paper size for reports.",formatA4:"A4 (210 x 297 mm)",formatLetter:"Letter (215.9 x 279.4 mm)",formatCustom:"Custom",width:"Width (mm)",height:"Height (mm)",uploadLogo:"Upload Logo",removeLogo:"Remove Logo",assocTitle:"Coverage-Email Associations",assocSubtitle:"Configure who and what to send automatically for each insurance provider.",newAssoc:"New Association",coverageName:"Coverage Name (Exact)",recipients:"Recipients (comma separated)",subject:"Email Subject",body:"Email Body",noAssoc:"No associations configured.",editAssoc:"Edit Association",deleteAssoc:"Delete association?",saveAssoc:"Save Association",ccTitle:"CC Email Addresses",ccSubtitle:"Configure addresses that will appear as quick options when composing.",ccLabel:"Label (e.g. Medical Dept.)",ccEmail:"Email Address",ccVisible:"Visible in Compose",newCc:"New CC",noCc:"No CC emails configured.",deleteCc:"Delete CC email?",isolationColLabel:"Isolation Column",isolationColHint:'Column that indicates if the patient requires isolation (e.g., "ISOLATION").',isolationValueLabel:"Isolation Search Value",isolationValueHint:"Only patients whose value matches this text will be counted.",patientIdColLabel:"Patient ID Column (Unique Key)",patientIdColHint:"Column used to identify unique patients (DNI, NHC, etc.). Used for the Historical Registry.",securityKeyLabel:"System Access Key",securityKeyHint:"Define a numeric key of at least 4 digits.",autoLockLabel:"Inactivity Auto-Lock (Minutes)",autoLockHint:"0 to disable. System will ask for the key after this idle time.",keyMinError:"The key must have at least 4 numbers."}},NH=({smtpConfigs:n,onSmtpAction:e,activeSmtpId:t,sheetUrl:r,onSaveSheetUrl:i,lang:s,onLangChange:a,isDarkMode:o,onToggleMode:c,attachmentSizeLimit:f,onSaveAttachmentSizeLimit:h,pdfTemplates:p,onPdfTemplateAction:g,censusSettings:m,onSaveCensusSettings:b,notify:_})=>{var ye;const w=Qe.useMemo(()=>kH[s],[s]),[T,L]=Qe.useState("smtp"),[R,F]=Qe.useState(null),[z,q]=Qe.useState(!1),[P,X]=Qe.useState({id:"",coverageName:"",emails:"",subject:"",body:""}),[O,ee]=Qe.useState(null),[B,G]=Qe.useState(!1),[Q,ce]=Qe.useState({id:"",label:"",email:"",isVisible:!0}),_e=Qe.useRef(null),K=me=>{var Te;const fe=(Te=me.target.files)==null?void 0:Te[0];if(fe){const Oe=new FileReader;Oe.onload=ue=>{var nt;b({...m,pdfLogo:(nt=ue.target)==null?void 0:nt.result})},Oe.readAsDataURL(fe)}},le=(me,fe)=>{b({...m,[me]:fe})},Se=()=>{ce({id:Date.now().toString(),label:"",email:"",isVisible:!0}),G(!0),ee(null)},ve=me=>{ce(me),ee(me),G(!1)},Pe=me=>{me.preventDefault();let fe;O?fe=(m.ccConfigs||[]).map(Te=>Te.id===O.id?Q:Te):fe=[...m.ccConfigs||[],Q],b({...m,ccConfigs:fe}),G(!1),ee(null),_(w.saveNotify,"success")},ie=me=>{if(window.confirm(w.deleteCc)){const fe=(m.ccConfigs||[]).filter(Te=>Te.id!==me);b({...m,ccConfigs:fe}),_(w.saveNotify,"success")}},I=me=>{const fe=(m.ccConfigs||[]).map(Te=>Te.id===me?{...Te,isVisible:!Te.isVisible}:Te);b({...m,ccConfigs:fe})},j=()=>{X({id:"",coverageName:"",emails:"",subject:"",body:""}),q(!0),F(null)},U=me=>{X(me),F(me),q(!1)},Y=me=>{me.preventDefault();let fe;R?fe=(m.associations||[]).map(Te=>Te.id===R.id?P:Te):fe=[...m.associations||[],P],b({...m,associations:fe}),q(!1),F(null)},ae=me=>{window.confirm(w.deleteAssoc)&&b({...m,associations:m.associations.filter(fe=>fe.id!==me)})};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:w.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:w.subtitle})]}),E.jsx("div",{className:"flex flex-wrap items-center gap-1 bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl w-fit border border-slate-200 dark:border-slate-800",children:[{id:"smtp",label:w.tabSmtp,icon:iw},{id:"integrations",label:w.tabIntegrations,icon:mL},{id:"pdf",label:w.tabPdf,icon:s9},{id:"assoc",label:w.tabAssociations,icon:HS},{id:"cc",label:w.tabCc,icon:xh},{id:"security",label:w.tabSecurity,icon:zS},{id:"preferences",label:w.tabPreferences,icon:zk}].map(me=>E.jsxs("button",{onClick:()=>L(me.id),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${T===me.id?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[E.jsx(me.icon,{size:16})," ",me.label]},me.id))}),E.jsxs("div",{className:"mt-8 transition-all",children:[T==="smtp"&&E.jsx(wB,{configs:n,onAction:e,activeId:t,lang:s}),T==="integrations"&&E.jsx(SB,{sheetUrl:r,onSave:i,lang:s}),T==="pdf"&&E.jsxs("div",{className:"space-y-12",children:[E.jsx(CH,{templates:p,onAction:g,lang:s}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-10",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(t5,{size:20,className:"text-indigo-50"})," ",w.pdfLogoLabel]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:w.pdfLogoDesc})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center overflow-hidden",children:m.pdfLogo?E.jsx("img",{src:m.pdfLogo,className:"w-full h-full object-contain"}):E.jsx(lB,{className:"text-slate-300"})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("input",{type:"file",ref:_e,className:"hidden",onChange:K,accept:"image/*"}),E.jsx("button",{onClick:()=>{var me;return(me=_e.current)==null?void 0:me.click()},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold hover:bg-indigo-700 transition-all",children:w.uploadLogo}),m.pdfLogo&&E.jsx("button",{onClick:()=>le("pdfLogo",void 0),className:"block text-xs font-bold text-red-500 hover:underline",children:w.removeLogo})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:w.logoPosLabel}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:["top-left","top-right","bottom-left","bottom-right"].map(me=>E.jsx("button",{onClick:()=>le("logoPosition",me),className:`px-4 py-2 text-xs font-bold rounded-xl border transition-all ${m.logoPosition===me?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:border-indigo-200"}`,children:me.replace("-"," ").toUpperCase()},me))})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(F9,{size:20,className:"text-indigo-500"})," ",w.pageDimLabel]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:w.pageDimHint})]}),E.jsx("div",{className:"space-y-4",children:["a4","letter","custom"].map(me=>E.jsxs("button",{onClick:()=>le("pageFormat",me),className:`w-full flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${m.pageFormat===me?"border-indigo-500 bg-indigo-50/50 dark:bg-indigo-900/10 text-indigo-700 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 hover:border-indigo-200"}`,children:[E.jsx("span",{className:"font-bold text-sm",children:me==="a4"?w.formatA4:me==="letter"?w.formatLetter:w.formatCustom}),m.pageFormat===me&&E.jsx(Ix,{size:18})]},me))})]})]})})]}),T==="assoc"&&E.jsxs("div",{className:"space-y-8",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(HS,{className:"text-indigo-500"})," ",w.assocTitle]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:w.assocSubtitle})]}),!z&&!R&&E.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all",children:[E.jsx(om,{size:18})," ",w.newAssoc]})]}),!z&&!R?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(m.associations||[]).map(me=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm transition-all group",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:"COBERTURA"}),E.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white leading-none",children:me.coverageName}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-medium",children:[E.jsx(xh,{size:12})," ",me.emails]})]}),E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>U(me),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:E.jsx(jS,{size:16})}),E.jsx("button",{onClick:()=>ae(me.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:E.jsx(rf,{size:16})})]})]})},me.id)),(m.associations||[]).length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 italic bg-slate-50 dark:bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:w.noAssoc})]}):E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white",children:R?w.editAssoc:w.newAssoc}),E.jsx("button",{onClick:()=>{q(!1),F(null)},className:"text-slate-400 hover:text-slate-600",children:E.jsx(Oo,{size:24})})]}),E.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.coverageName}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.coverageName,onChange:me=>X({...P,coverageName:me.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.recipients}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.emails,onChange:me=>X({...P,emails:me.target.value})})]}),E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.subject}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.subject,onChange:me=>X({...P,subject:me.target.value})})]}),E.jsxs("div",{className:"col-span-full space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.body}),E.jsx("textarea",{rows:4,required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:P.body,onChange:me=>X({...P,body:me.target.value})})]})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(af,{size:18})," ",w.saveAssoc]})]})]})]}),T==="cc"&&E.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[E.jsx(xh,{className:"text-indigo-500"})," ",w.ccTitle]}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:w.ccSubtitle})]}),!B&&!O&&E.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(om,{size:18})," ",w.newCc]})]}),!B&&!O?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(m.ccConfigs||[]).map(me=>E.jsx("div",{className:`p-6 rounded-2xl border transition-all group bg-white dark:bg-slate-900 ${me.isVisible?"border-slate-200 dark:border-slate-800":"border-slate-100 dark:border-slate-800 opacity-60"}`,children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:me.label||"Sn Etiqueta"}),!me.isVisible&&E.jsx("span",{className:"text-[9px] bg-slate-100 dark:bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Oculto"})]}),E.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white leading-none",children:me.email})]}),E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>I(me.id),className:"p-2 text-slate-400 hover:text-indigo-600",title:"Alternar Visibilidad",children:me.isVisible?E.jsx(rw,{size:16}):E.jsx(Hk,{size:16})}),E.jsx("button",{onClick:()=>ve(me),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg",children:E.jsx(jS,{size:16})}),E.jsx("button",{onClick:()=>ie(me.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:E.jsx(rf,{size:16})})]})]})},me.id)),(m.ccConfigs||[]).length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 italic bg-slate-50 dark:bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:w.noCc})]}):E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h4",{className:"text-xl font-bold text-slate-800 dark:text-white",children:O?"Editar Copia":w.newCc}),E.jsx("button",{onClick:()=>{G(!1),ee(null)},className:"text-slate-400 hover:text-slate-600",children:E.jsx(Oo,{size:24})})]}),E.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.ccLabel}),E.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:Q.label,onChange:me=>ce({...Q,label:me.target.value}),placeholder:"Ej: Direccin Mdica"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:w.ccEmail}),E.jsx("input",{type:"email",required:!0,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none",value:Q.email,onChange:me=>ce({...Q,email:me.target.value}),placeholder:"ejemplo@correo.com"})]}),E.jsx("div",{className:"col-span-full",children:E.jsxs("button",{type:"button",onClick:()=>ce({...Q,isVisible:!Q.isVisible}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${Q.isVisible?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:[Q.isVisible?E.jsx(rw,{size:18}):E.jsx(Hk,{size:18}),E.jsx("span",{className:"font-bold text-sm",children:w.ccVisible})]})})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(af,{size:18})," Guardar Copia"]})]})]})]}),T==="security"&&E.jsx("div",{className:"space-y-6 max-w-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(zS,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.securityKeyLabel})]}),E.jsx("input",{type:"password",pattern:"[0-9]*",inputMode:"numeric",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.appKey||"",onChange:me=>le("appKey",me.target.value),placeholder:""}),E.jsx("p",{className:"text-[11px] text-slate-400 italic",children:w.securityKeyHint}),(((ye=m.appKey)==null?void 0:ye.length)||0)<4&&E.jsx("p",{className:"text-[10px] text-red-500 font-bold",children:w.keyMinError})]}),E.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(US,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.autoLockLabel})]}),E.jsx("input",{type:"number",min:"0",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.autoLockMinutes||0,onChange:me=>le("autoLockMinutes",parseInt(me.target.value))}),E.jsx("p",{className:"text-[11px] text-slate-400 italic",children:w.autoLockHint})]}),E.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex items-center gap-2 text-slate-400 text-xs",children:[E.jsx(Ix,{size:14}),w.saveNotify]})]})}),T==="preferences"&&E.jsx("div",{className:"space-y-6 max-w-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(av,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.appTitleLabel})]}),E.jsx("input",{type:"text",placeholder:w.appTitlePlaceholder,className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all font-semibold",value:m.appTitle||"",onChange:me=>le("appTitle",me.target.value)})]}),E.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(uB,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.patientIdColLabel})]}),E.jsx("input",{type:"text",placeholder:"Ej: DNI, NHC, ID...",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:m.patientUniqueIdColumn||"",onChange:me=>le("patientUniqueIdColumn",me.target.value)}),E.jsx("p",{className:"text-[11px] text-slate-400 italic",children:w.patientIdColHint})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(d9,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.langLabel})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>a("es"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${s==="es"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 dark:border-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[E.jsx("span",{children:""})," ",w.langSpanish]}),E.jsxs("button",{onClick:()=>a("en"),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${s==="en"?"border-indigo-50 bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[E.jsx("span",{children:""})," ",w.langEnglish]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(zk,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.themeLabel})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>o?c():null,className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-slate-800 text-slate-500 hover:bg-slate-800":"border-indigo-50 bg-indigo-50 text-indigo-600 shadow-sm"}`,children:[E.jsx(eB,{size:18})," ",w.themeLight]}),E.jsxs("button",{onClick:()=>o?null:c(),className:`flex items-center justify-center gap-3 px-4 py-3 rounded-2xl border-2 transition-all font-semibold ${o?"border-indigo-50 bg-indigo-900/20 text-indigo-400 shadow-sm":"border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[E.jsx(O9,{size:18})," ",w.themeDark]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded-lg",children:E.jsx(Lx,{size:20})}),E.jsx("label",{className:"font-bold text-slate-800 dark:text-white",children:w.sizeLimitLabel})]}),E.jsx("div",{className:"max-w-xs",children:E.jsx("input",{type:"number",min:"1",max:"100",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 text-slate-700 dark:text-slate-200 transition-all font-semibold",value:f,onChange:me=>h(Number(me.target.value))})})]})]}),E.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 flex items-center gap-2 text-slate-400 text-xs",children:[E.jsx(Ix,{size:14}),w.saveNotify]})]})})]})]})};var RH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LH,IH;function MH(){return{geminiUrl:LH,vertexUrl:IH}}function FH(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=MH();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nh{}function It(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const c=n[o];if(Array.isArray(t))for(let f=0;f<c.length;f++){const h=c[f];S(h,e.slice(s+1),t[f])}else for(const f of c)S(f,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const c=n[o];S(c[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function DH(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&s.length>o)for(let c=o;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}iT(n,i,s,0,a)}}function iT(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const c of o[a])iT(c,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of o)c[f]=a[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of t.slice(r))g==="*"?p.push(f):p.push(g);S(a,p,h)}for(const f of o)delete a[f]}}else{const a=n;s in a&&iT(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s4(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PH(n){const e={},t=y(n,["operationName"]);t!=null&&S(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function OH(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&S(e,["response"],UH(a)),e}function BH(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response"]);return a!=null&&S(e,["response"],HH(a)),e}function UH(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>zH(a))),S(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function HH(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>jH(a))),S(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function zH(n){const e={},t=y(n,["video"]);return t!=null&&S(e,["video"],YH(t)),e}function jH(n){const e={},t=y(n,["_self"]);return t!=null&&S(e,["video"],$H(t)),e}function GH(n){const e={},t=y(n,["operationName"]);return t!=null&&S(e,["_url","operationName"],t),e}function qH(n){const e={},t=y(n,["operationName"]);return t!=null&&S(e,["_url","operationName"],t),e}function VH(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response"]);return a!=null&&S(e,["response"],WH(a)),e}function WH(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&S(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function gM(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response"]);return a!=null&&S(e,["response"],XH(a)),e}function XH(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&S(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function YH(n){const e={},t=y(n,["uri"]);t!=null&&S(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&S(e,["videoBytes"],s4(r));const i=y(n,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function $H(n){const e={},t=y(n,["gcsUri"]);t!=null&&S(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],s4(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oN;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oN||(oN={}));var lN;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(lN||(lN={}));var cN;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(cN||(cN={}));var Jc;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Jc||(Jc={}));var uN;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uN||(uN={}));var fN;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(fN||(fN={}));var hN;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hN||(hN={}));var dN;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dN||(dN={}));var pN;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(pN||(pN={}));var mN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(mN||(mN={}));var gN;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(gN||(gN={}));var vN;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(vN||(vN={}));var xN;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xN||(xN={}));var yN;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(yN||(yN={}));var bN;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(bN||(bN={}));var _N;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(_N||(_N={}));var wN;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(wN||(wN={}));var AN;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(AN||(AN={}));var SN;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(SN||(SN={}));var EN;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(EN||(EN={}));var TN;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TN||(TN={}));var dw;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(dw||(dw={}));var CN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CN||(CN={}));var kN;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(kN||(kN={}));var NN;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(NN||(NN={}));var sT;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sT||(sT={}));var RN;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RN||(RN={}));var LN;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(LN||(LN={}));var aT;(function(n){n.COLLECTION="COLLECTION"})(aT||(aT={}));var IN;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(IN||(IN={}));var MN;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(MN||(MN={}));var FN;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(FN||(FN={}));var DN;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(DN||(DN={}));var PN;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(PN||(PN={}));var ON;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ON||(ON={}));var BN;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(BN||(BN={}));var UN;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UN||(UN={}));var HN;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(HN||(HN={}));var zN;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(zN||(zN={}));var jN;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(jN||(jN={}));var GN;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(GN||(GN={}));var qN;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(qN||(qN={}));var VN;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(VN||(VN={}));var WN;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(WN||(WN={}));var XN;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(XN||(XN={}));var YN;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(YN||(YN={}));var $N;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})($N||($N={}));var KN;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(KN||(KN={}));var JN;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(JN||(JN={}));var ZN;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(ZN||(ZN={}));var QN;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QN||(QN={}));var e6;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(e6||(e6={}));var t6;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(t6||(t6={}));var n6;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(n6||(n6={}));var r6;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(r6||(r6={}));var i6;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(i6||(i6={}));var Pg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Pg||(Pg={}));class oT{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class sx{get text(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,b]of Object.entries(g))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(b!==null||b!==void 0)&&p.push(m);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,m]of Object.entries(p))g!=="inlineData"&&(m!==null||m!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,r,i,s,a,o,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,r,i,s,a,o,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,r,i,s,a,o,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class s6{}class a6{}class KH{}class JH{}class ZH{}class QH{}class o6{}class l6{}class c6{}class ez{}class pw{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new pw;let i;const s=e;return t?i=BH(s):i=OH(s),Object.assign(r,i),r}}class u6{}class f6{}class h6{}class d6{}class tz{}class nz{}class rz{}class a4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new a4,s=VH(e);return Object.assign(r,s),r}}class iz{}class sz{}class az{}class p6{}class oz{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lz{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class o4{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new o4,s=gM(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xr(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vM(n,e){const t=xr(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function xM(n){return Array.isArray(n)?n.map(e=>mw(e)):[mw(n)]}function mw(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function yM(n){const e=mw(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bM(n){const e=mw(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function m6(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function _M(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>m6(e)):[m6(n)]}function lT(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function g6(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function v6(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Pa(n){if(n==null)throw new Error("ContentUnion is required");return lT(n)?n:{role:"user",parts:_M(n)}}function l4(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Pa(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Pa(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Pa(t)):[Pa(e)]}function nc(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(g6(n)||v6(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pa(n)]}const e=[],t=[],r=lT(n[0]);for(const i of n){const s=lT(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(g6(i)||v6(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:_M(t)}),e}function cz(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Jc).includes(t[0].toUpperCase())?t[0].toUpperCase():Jc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Jc).includes(r.toUpperCase())?r.toUpperCase():Jc.TYPE_UNSPECIFIED})}}function qg(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&cz(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Jc).includes(o.toUpperCase())?o.toUpperCase():Jc.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=qg(o);else if(r.includes(a)){const c=[];for(const f of o){if(f.type=="null"){e.nullable=!0;continue}c.push(qg(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(o))c[f]=qg(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function c4(n){return qg(n)}function u4(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function f4(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function uv(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qg(e.response));return n}function fv(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function uz(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Rh(n,e){if(typeof e!="string")throw new Error("name must be a string");return uz(n,e,"cachedContents")}function wM(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function l0(n){return s4(n)}function fz(n){return n!=null&&typeof n=="object"&&"name"in n}function hz(n){return n!=null&&typeof n=="object"&&"video"in n}function dz(n){return n!=null&&typeof n=="object"&&"uri"in n}function AM(n){var e;let t;if(fz(n)&&(t=n.name),!(dz(n)&&(t=n.uri,t===void 0))&&!(hz(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function SM(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function EM(n){for(const e of["models","tunedModels","publisherModels"])if(pz(n,e))return n[e];return[]}function pz(n,e){return n!==null&&typeof n=="object"&&e in n}function mz(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function gz(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=mz(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function TM(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function vz(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function CM(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function hv(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function kM(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xz(n){const e={},t=y(n,["responsesFile"]);t!=null&&S(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Zz(a))),S(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["inlinedEmbedContentResponses"],s)}return e}function yz(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&S(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function bz(n){const e={},t=y(n,["format"]);t!=null&&S(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&S(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $_(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&S(e,["state"],kM(i));const s=y(n,["metadata","createTime"]);s!=null&&S(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&S(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&S(e,["updateTime"],o);const c=y(n,["metadata","model"]);c!=null&&S(e,["model"],c);const f=y(n,["metadata","output"]);return f!=null&&S(e,["dest"],xz(CM(f))),e}function cT(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["displayName"]);r!=null&&S(e,["displayName"],r);const i=y(n,["state"]);i!=null&&S(e,["state"],kM(i));const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["createTime"]);a!=null&&S(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&S(e,["startTime"],o);const c=y(n,["endTime"]);c!=null&&S(e,["endTime"],c);const f=y(n,["updateTime"]);f!=null&&S(e,["updateTime"],f);const h=y(n,["model"]);h!=null&&S(e,["model"],h);const p=y(n,["inputConfig"]);p!=null&&S(e,["src"],_z(p));const g=y(n,["outputConfig"]);g!=null&&S(e,["dest"],yz(CM(g)));const m=y(n,["completionStats"]);return m!=null&&S(e,["completionStats"],m),e}function _z(n){const e={},t=y(n,["instancesFormat"]);t!=null&&S(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function wz(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&S(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Jz(n,a))),S(t,["requests","requests"],s)}return t}function Az(n){const e={},t=y(n,["format"]);t!=null&&S(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&S(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Sz(n){const e={},t=y(n,["data"]);if(t!=null&&S(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Ez(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Tz(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Cz(n){const e={},t=y(n,["content"]);t!=null&&S(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],kz(r));const i=y(n,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&S(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&S(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const c=y(n,["index"]);c!=null&&S(e,["index"],c);const f=y(n,["logprobsResult"]);f!=null&&S(e,["logprobsResult"],f);const h=y(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),S(e,["safetyRatings"],g)}const p=y(n,["urlContextMetadata"]);return p!=null&&S(e,["urlContextMetadata"],p),e}function kz(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function NM(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>sj(s))),S(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&S(e,["role"],r),e}function Nz(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Rz(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&S(e,["outputConfig"],bz(vz(i))),t}function x6(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["src"]);i!=null&&S(t,["batch","inputConfig"],wz(n,TM(n,i)));const s=y(e,["config"]);return s!=null&&Nz(s,t),t}function Lz(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["model"],xr(n,r));const i=y(e,["src"]);i!=null&&S(t,["inputConfig"],Az(TM(n,i)));const s=y(e,["config"]);return s!=null&&Rz(s,t),t}function Iz(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),t}function Mz(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["src"]);i!=null&&S(t,["batch","inputConfig"],Hz(n,i));const s=y(e,["config"]);return s!=null&&Iz(s,t),t}function Fz(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Dz(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Pz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&S(e,["name"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);return s!=null&&S(e,["error"],s),e}function Oz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&S(e,["name"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);return s!=null&&S(e,["error"],s),e}function Bz(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=l4(n,r);Array.isArray(s)&&(s=s.map(a=>a)),S(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(S(t,["_self"],Uz(i,t)),DH(t,{"requests[].*":"requests[].request.*"})),t}function Uz(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&S(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Hz(n,e){const t={},r=y(e,["fileName"]);r!=null&&S(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&S(t,["requests"],Bz(n,i)),t}function zz(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&S(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function jz(n){const e={},t=y(n,["id"]);t!=null&&S(e,["id"],t);const r=y(n,["args"]);r!=null&&S(e,["args"],r);const i=y(n,["name"]);if(i!=null&&S(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gz(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&S(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&S(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qz(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&S(t,["systemInstruction"],NM(Pa(i)));const s=y(e,["temperature"]);s!=null&&S(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&S(r,["topP"],a);const o=y(e,["topK"]);o!=null&&S(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&S(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&S(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&S(r,["frequencyPenalty"],b);const _=y(e,["seed"]);_!=null&&S(r,["seed"],_);const w=y(e,["responseMimeType"]);w!=null&&S(r,["responseMimeType"],w);const T=y(e,["responseSchema"]);T!=null&&S(r,["responseSchema"],c4(T));const L=y(e,["responseJsonSchema"]);if(L!=null&&S(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=y(e,["safetySettings"]);if(t!==void 0&&R!=null){let Q=R;Array.isArray(Q)&&(Q=Q.map(ce=>aj(ce))),S(t,["safetySettings"],Q)}const F=y(e,["tools"]);if(t!==void 0&&F!=null){let Q=fv(F);Array.isArray(Q)&&(Q=Q.map(ce=>lj(uv(ce)))),S(t,["tools"],Q)}const z=y(e,["toolConfig"]);if(t!==void 0&&z!=null&&S(t,["toolConfig"],oj(z)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=y(e,["cachedContent"]);t!==void 0&&q!=null&&S(t,["cachedContent"],Rh(n,q));const P=y(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const X=y(e,["mediaResolution"]);X!=null&&S(r,["mediaResolution"],X);const O=y(e,["speechConfig"]);if(O!=null&&S(r,["speechConfig"],u4(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=y(e,["thinkingConfig"]);ee!=null&&S(r,["thinkingConfig"],ee);const B=y(e,["imageConfig"]);B!=null&&S(r,["imageConfig"],Kz(B));const G=y(e,["enableEnhancedCivicAnswers"]);if(G!=null&&S(r,["enableEnhancedCivicAnswers"],G),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Vz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Cz(f))),S(e,["candidates"],c)}const i=y(n,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&S(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&S(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function Wz(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Xz(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],hv(n,r)),t}function Yz(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&S(e,["enableWidget"],t),e}function $z(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&S(e,["timeRangeFilter"],t),e}function Kz(n){const e={},t=y(n,["aspectRatio"]);t!=null&&S(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),y(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jz(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["request","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let o=nc(i);Array.isArray(o)&&(o=o.map(c=>NM(c))),S(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&S(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&S(t,["request","generationConfig"],qz(n,a,y(t,["request"],{}))),t}function Zz(n){const e={},t=y(n,["response"]);t!=null&&S(e,["response"],Vz(t));const r=y(n,["error"]);return r!=null&&S(e,["error"],r),e}function Qz(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function ej(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&S(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),t}function tj(n){const e={},t=y(n,["config"]);return t!=null&&Qz(t,e),e}function nj(n){const e={},t=y(n,["config"]);return t!=null&&ej(t,e),e}function rj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>$_(a))),S(e,["batchJobs"],s)}return e}function ij(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>cT(a))),S(e,["batchJobs"],s)}return e}function sj(n){const e={},t=y(n,["mediaResolution"]);t!=null&&S(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&S(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&S(e,["fileData"],zz(s));const a=y(n,["functionCall"]);a!=null&&S(e,["functionCall"],jz(a));const o=y(n,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&S(e,["inlineData"],Sz(c));const f=y(n,["text"]);f!=null&&S(e,["text"],f);const h=y(n,["thought"]);h!=null&&S(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&S(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function aj(n){const e={},t=y(n,["category"]);if(t!=null&&S(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function oj(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&S(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&S(e,["functionCallingConfig"],Gz(r)),e}function lj(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&S(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&S(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&S(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),S(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&S(e,["googleMaps"],Yz(a));const o=y(n,["googleSearch"]);o!=null&&S(e,["googleSearch"],$z(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&S(e,["googleSearchRetrieval"],c);const f=y(n,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eh;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Eh||(Eh={}));class _m{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cj extends Nh{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new _m(Eh.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=x6(this.apiClient,e),r=t._url,i=It("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,c=o.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=g,p.request=m}f.push(p)}return o.requests=f,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Lz(this.apiClient,e);return o=It("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>cT(h))}else{const f=x6(this.apiClient,e);return o=It("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>$_(h))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mz(this.apiClient,e);return s=It("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>$_(c))}}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Xz(this.apiClient,e);return o=It("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>cT(h))}else{const f=Wz(this.apiClient,e);return o=It("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>$_(h))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Tz(this.apiClient,e);a=It("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Ez(this.apiClient,e);a=It("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=nj(e);return o=It("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ij(h),g=new p6;return Object.assign(g,p),g})}else{const f=tj(e);return o=It("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=rj(h),g=new p6;return Object.assign(g,p),g})}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Dz(this.apiClient,e);return o=It("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Oz(h))}else{const f=Fz(this.apiClient,e);return o=It("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Pz(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uj(n){const e={},t=y(n,["data"]);if(t!=null&&S(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function y6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Mj(s))),S(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&S(e,["role"],r),e}function fj(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&S(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=nc(a);Array.isArray(h)&&(h=h.map(p=>y6(p))),S(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],y6(Pa(o)));const c=y(n,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Dj(p))),S(e,["tools"],h)}const f=y(n,["toolConfig"]);if(e!==void 0&&f!=null&&S(e,["toolConfig"],Fj(f)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function hj(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&S(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let p=nc(a);Array.isArray(p)&&(p=p.map(g=>g)),S(e,["contents"],p)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],Pa(o));const c=y(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Pj(g))),S(e,["tools"],p)}const f=y(n,["toolConfig"]);e!==void 0&&f!=null&&S(e,["toolConfig"],f);const h=y(n,["kmsKeyName"]);return e!==void 0&&h!=null&&S(e,["encryption_spec","kmsKeyName"],h),t}function dj(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["model"],vM(n,r));const i=y(e,["config"]);return i!=null&&fj(i,t),t}function pj(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["model"],vM(n,r));const i=y(e,["config"]);return i!=null&&hj(i,t),t}function mj(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],Rh(n,r)),t}function gj(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],Rh(n,r)),t}function vj(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function xj(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function yj(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&S(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function bj(n){const e={},t=y(n,["id"]);t!=null&&S(e,["id"],t);const r=y(n,["args"]);r!=null&&S(e,["args"],r);const i=y(n,["name"]);if(i!=null&&S(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _j(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&S(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&S(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wj(n){const e={},t=y(n,["description"]);t!=null&&S(e,["description"],t);const r=y(n,["name"]);r!=null&&S(e,["name"],r);const i=y(n,["parameters"]);i!=null&&S(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&S(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&S(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&S(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Aj(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],Rh(n,r)),t}function Sj(n,e){const t={},r=y(e,["name"]);return r!=null&&S(t,["_url","name"],Rh(n,r)),t}function Ej(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&S(e,["enableWidget"],t),e}function Tj(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&S(e,["timeRangeFilter"],t),e}function Cj(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),t}function kj(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),t}function Nj(n){const e={},t=y(n,["config"]);return t!=null&&Cj(t,e),e}function Rj(n){const e={},t=y(n,["config"]);return t!=null&&kj(t,e),e}function Lj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["cachedContents"],s)}return e}function Ij(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["cachedContents"],s)}return e}function Mj(n){const e={},t=y(n,["mediaResolution"]);t!=null&&S(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&S(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&S(e,["fileData"],yj(s));const a=y(n,["functionCall"]);a!=null&&S(e,["functionCall"],bj(a));const o=y(n,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&S(e,["inlineData"],uj(c));const f=y(n,["text"]);f!=null&&S(e,["text"],f);const h=y(n,["thought"]);h!=null&&S(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&S(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Fj(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&S(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&S(e,["functionCallingConfig"],_j(r)),e}function Dj(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&S(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&S(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&S(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),S(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&S(e,["googleMaps"],Ej(a));const o=y(n,["googleSearch"]);o!=null&&S(e,["googleSearch"],Tj(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&S(e,["googleSearchRetrieval"],c);const f=y(n,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function Pj(n){const e={},t=y(n,["retrieval"]);t!=null&&S(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&S(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&S(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&S(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>wj(g))),S(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&S(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=y(n,["googleSearchRetrieval"]);f!=null&&S(e,["googleSearchRetrieval"],f);const h=y(n,["urlContext"]);return h!=null&&S(e,["urlContext"],h),e}function Oj(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),t}function Bj(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),t}function Uj(n,e){const t={},r=y(e,["name"]);r!=null&&S(t,["_url","name"],Rh(n,r));const i=y(e,["config"]);return i!=null&&Oj(i,t),t}function Hj(n,e){const t={},r=y(e,["name"]);r!=null&&S(t,["_url","name"],Rh(n,r));const i=y(e,["config"]);return i!=null&&Bj(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zj extends Nh{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new _m(Eh.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=pj(this.apiClient,e);return o=It("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=dj(this.apiClient,e);return o=It("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Sj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=Aj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=gj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=xj(h),g=new h6;return Object.assign(g,p),g})}else{const f=mj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=vj(h),g=new h6;return Object.assign(g,p),g})}}async update(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Hj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=Uj(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Rj(e);return o=It("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Ij(h),g=new d6;return Object.assign(g,p),g})}else{const f=Nj(e);return o=It("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Lj(h),g=new d6;return Object.assign(g,p),g})}}}function gw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function b6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(n){return this instanceof kn?(this.v=n,this):new kn(n)}function tu(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(b){return Promise.resolve(b).then(m,p)}}function o(m,b){r[m]&&(i[m]=function(_){return new Promise(function(w,T){s.push([m,_,w,T])>1||c(m,_)})},b&&(i[m]=b(i[m])))}function c(m,b){try{f(r[m](b))}catch(_){g(s[0][3],_)}}function f(m){m.value instanceof kn?Promise.resolve(m.value.v).then(h,p):g(s[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,b){m(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function nu(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof b6=="function"?b6(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,c){a=n[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(f){s({value:f,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jj(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:RM(t)}function RM(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Gj(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _6(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!RM(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class qj{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Vj(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Vj{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Gj(s)}async sendMessage(e){var t;await this.sendPromise;const r=Pa(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const c=await i,f=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(o=h.slice(p))!==null&&o!==void 0?o:[]);const m=f?[f]:[];this.recordHistory(r,m,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Pa(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?_6(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return tu(this,arguments,function*(){var i,s,a,o,c,f;const h=[];try{for(var p=!0,g=nu(e),m;m=yield kn(g.next()),i=m.done,!i;p=!0){o=m.value,p=!1;const b=o;if(jj(b)){const _=(f=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;_!==void 0&&h.push(_)}yield yield kn(b)}}catch(b){s={error:b}}finally{try{!p&&!i&&(a=g.return)&&(yield kn(a.call(g)))}finally{if(s)throw s.error}}this.recordHistory(t,h)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._6(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kx.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wj(n){const e={},t=y(n,["file"]);return t!=null&&S(e,["file"],t),e}function Xj(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function Yj(n){const e={},t=y(n,["name"]);return t!=null&&S(e,["_url","file"],AM(t)),e}function $j(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function Kj(n){const e={},t=y(n,["name"]);return t!=null&&S(e,["_url","file"],AM(t)),e}function Jj(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),t}function Zj(n){const e={},t=y(n,["config"]);return t!=null&&Jj(t,e),e}function Qj(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eG extends Nh{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new _m(Eh.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Zj(e);return s=It("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Qj(c),h=new iz;return Object.assign(h,f),h})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wj(e);return s=It("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Xj(c),h=new sz;return Object.assign(h,f),h})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kj(e);return s=It("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yj(e);return s=It("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=$j(c),h=new az;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K_(n){const e={},t=y(n,["data"]);if(t!=null&&S(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function tG(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>vG(s))),S(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&S(e,["role"],r),e}function nG(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&S(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function rG(n){const e={},t=y(n,["id"]);t!=null&&S(e,["id"],t);const r=y(n,["args"]);r!=null&&S(e,["args"],r);const i=y(n,["name"]);if(i!=null&&S(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iG(n){const e={},t=y(n,["description"]);t!=null&&S(e,["description"],t);const r=y(n,["name"]);r!=null&&S(e,["name"],r);const i=y(n,["parameters"]);i!=null&&S(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&S(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&S(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&S(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sG(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&S(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&S(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&S(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const c=y(n,["logprobs"]);c!=null&&S(e,["logprobs"],c);const f=y(n,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const h=y(n,["mediaResolution"]);h!=null&&S(e,["mediaResolution"],h);const p=y(n,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const g=y(n,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const m=y(n,["responseMimeType"]);m!=null&&S(e,["responseMimeType"],m);const b=y(n,["responseModalities"]);b!=null&&S(e,["responseModalities"],b);const _=y(n,["responseSchema"]);_!=null&&S(e,["responseSchema"],_);const w=y(n,["routingConfig"]);w!=null&&S(e,["routingConfig"],w);const T=y(n,["seed"]);T!=null&&S(e,["seed"],T);const L=y(n,["speechConfig"]);L!=null&&S(e,["speechConfig"],L);const R=y(n,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const F=y(n,["temperature"]);F!=null&&S(e,["temperature"],F);const z=y(n,["thinkingConfig"]);z!=null&&S(e,["thinkingConfig"],z);const q=y(n,["topK"]);q!=null&&S(e,["topK"],q);const P=y(n,["topP"]);if(P!=null&&S(e,["topP"],P),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aG(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&S(e,["enableWidget"],t),e}function oG(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&S(e,["timeRangeFilter"],t),e}function lG(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(n,["mediaResolution"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","mediaResolution"],f);const h=y(n,["seed"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","speechConfig"],f4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&S(e,["setup","systemInstruction"],tG(Pa(b)));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let q=fv(_);Array.isArray(q)&&(q=q.map(P=>yG(uv(P)))),S(e,["setup","tools"],q)}const w=y(n,["sessionResumption"]);e!==void 0&&w!=null&&S(e,["setup","sessionResumption"],xG(w));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&S(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&S(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const F=y(n,["contextWindowCompression"]);e!==void 0&&F!=null&&S(e,["setup","contextWindowCompression"],F);const z=y(n,["proactivity"]);if(e!==void 0&&z!=null&&S(e,["setup","proactivity"],z),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function cG(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],sG(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(n,["mediaResolution"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","mediaResolution"],f);const h=y(n,["seed"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","speechConfig"],f4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&S(e,["setup","systemInstruction"],Pa(b));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let P=fv(_);Array.isArray(P)&&(P=P.map(X=>bG(uv(X)))),S(e,["setup","tools"],P)}const w=y(n,["sessionResumption"]);e!==void 0&&w!=null&&S(e,["setup","sessionResumption"],w);const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&S(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&S(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const F=y(n,["contextWindowCompression"]);e!==void 0&&F!=null&&S(e,["setup","contextWindowCompression"],F);const z=y(n,["proactivity"]);e!==void 0&&z!=null&&S(e,["setup","proactivity"],z);const q=y(n,["explicitVadSignal"]);return e!==void 0&&q!=null&&S(e,["setup","explicitVadSignal"],q),t}function uG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["setup","model"],xr(n,r));const i=y(e,["config"]);return i!=null&&S(t,["config"],lG(i,t)),t}function fG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["setup","model"],xr(n,r));const i=y(e,["config"]);return i!=null&&S(t,["config"],cG(i,t)),t}function hG(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&S(e,["musicGenerationConfig"],t),e}function dG(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["weightedPrompts"],r)}return e}function pG(n){const e={},t=y(n,["media"]);if(t!=null){let f=xM(t);Array.isArray(f)&&(f=f.map(h=>K_(h))),S(e,["mediaChunks"],f)}const r=y(n,["audio"]);r!=null&&S(e,["audio"],K_(bM(r)));const i=y(n,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&S(e,["video"],K_(yM(s)));const a=y(n,["text"]);a!=null&&S(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&S(e,["activityStart"],o);const c=y(n,["activityEnd"]);return c!=null&&S(e,["activityEnd"],c),e}function mG(n){const e={},t=y(n,["media"]);if(t!=null){let f=xM(t);Array.isArray(f)&&(f=f.map(h=>h)),S(e,["mediaChunks"],f)}const r=y(n,["audio"]);r!=null&&S(e,["audio"],bM(r));const i=y(n,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&S(e,["video"],yM(s));const a=y(n,["text"]);a!=null&&S(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&S(e,["activityStart"],o);const c=y(n,["activityEnd"]);return c!=null&&S(e,["activityEnd"],c),e}function gG(n){const e={},t=y(n,["setupComplete"]);t!=null&&S(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&S(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&S(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&S(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&S(e,["usageMetadata"],_G(a));const o=y(n,["goAway"]);o!=null&&S(e,["goAway"],o);const c=y(n,["sessionResumptionUpdate"]);c!=null&&S(e,["sessionResumptionUpdate"],c);const f=y(n,["voiceActivityDetectionSignal"]);f!=null&&S(e,["voiceActivityDetectionSignal"],f);const h=y(n,["voiceActivity"]);return h!=null&&S(e,["voiceActivity"],wG(h)),e}function vG(n){const e={},t=y(n,["mediaResolution"]);t!=null&&S(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&S(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&S(e,["fileData"],nG(s));const a=y(n,["functionCall"]);a!=null&&S(e,["functionCall"],rG(a));const o=y(n,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&S(e,["inlineData"],K_(c));const f=y(n,["text"]);f!=null&&S(e,["text"],f);const h=y(n,["thought"]);h!=null&&S(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&S(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function xG(n){const e={},t=y(n,["handle"]);if(t!=null&&S(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yG(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&S(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&S(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&S(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),S(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&S(e,["googleMaps"],aG(a));const o=y(n,["googleSearch"]);o!=null&&S(e,["googleSearch"],oG(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&S(e,["googleSearchRetrieval"],c);const f=y(n,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function bG(n){const e={},t=y(n,["retrieval"]);t!=null&&S(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&S(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&S(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&S(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>iG(g))),S(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&S(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=y(n,["googleSearchRetrieval"]);f!=null&&S(e,["googleSearchRetrieval"],f);const h=y(n,["urlContext"]);return h!=null&&S(e,["urlContext"],h),e}function _G(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&S(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&S(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&S(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&S(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&S(e,["totalTokenCount"],o);const c=y(n,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(b=>b)),S(e,["promptTokensDetails"],m)}const f=y(n,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(b=>b)),S(e,["cacheTokensDetails"],m)}const h=y(n,["candidatesTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(b=>b)),S(e,["responseTokensDetails"],m)}const p=y(n,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(b=>b)),S(e,["toolUsePromptTokensDetails"],m)}const g=y(n,["trafficType"]);return g!=null&&S(e,["trafficType"],g),e}function wG(n){const e={},t=y(n,["type"]);return t!=null&&S(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AG(n){const e={},t=y(n,["data"]);if(t!=null&&S(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function SG(n){const e={},t=y(n,["content"]);t!=null&&S(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],EG(r));const i=y(n,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&S(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&S(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const c=y(n,["index"]);c!=null&&S(e,["index"],c);const f=y(n,["logprobsResult"]);f!=null&&S(e,["logprobsResult"],f);const h=y(n,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>m)),S(e,["safetyRatings"],g)}const p=y(n,["urlContextMetadata"]);return p!=null&&S(e,["urlContextMetadata"],p),e}function EG(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function TG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let s=nc(i);Array.isArray(s)&&(s=s.map(a=>a)),S(t,["contents"],s)}return t}function CG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),S(e,["tokensInfo"],i)}return e}function kG(n){const e={},t=y(n,["values"]);t!=null&&S(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&S(e,["statistics"],NG(r)),e}function NG(n){const e={},t=y(n,["truncated"]);t!=null&&S(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function f5(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Bq(s))),S(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&S(e,["role"],r),e}function RG(n){const e={},t=y(n,["controlType"]);t!=null&&S(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function LG(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function IG(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],Pa(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>FM(o))),S(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&S(e,["generationConfig"],Aq(s)),t}function MG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let a=nc(i);Array.isArray(a)&&(a=a.map(o=>f5(o))),S(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&LG(s),t}function FG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let a=nc(i);Array.isArray(a)&&(a=a.map(o=>o)),S(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&IG(s,t),t}function DG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&S(e,["cachedContentTokenCount"],i),e}function PG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function OG(n,e){const t={},r=y(e,["model"]);return r!=null&&S(t,["_url","name"],xr(n,r)),t}function BG(n,e){const t={},r=y(e,["model"]);return r!=null&&S(t,["_url","name"],xr(n,r)),t}function UG(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function HG(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}function zG(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&S(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const c=y(n,["seed"]);e!==void 0&&c!=null&&S(e,["parameters","seed"],c);const f=y(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&S(e,["parameters","safetySetting"],f);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&S(e,["parameters","personGeneration"],h);const p=y(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&S(e,["parameters","includeSafetyAttributes"],p);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const m=y(n,["language"]);e!==void 0&&m!=null&&S(e,["parameters","language"],m);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&S(e,["parameters","outputOptions","mimeType"],b);const _=y(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&S(e,["parameters","outputOptions","compressionQuality"],_);const w=y(n,["addWatermark"]);e!==void 0&&w!=null&&S(e,["parameters","addWatermark"],w);const T=y(n,["labels"]);e!==void 0&&T!=null&&S(e,["labels"],T);const L=y(n,["editMode"]);e!==void 0&&L!=null&&S(e,["parameters","editMode"],L);const R=y(n,["baseSteps"]);return e!==void 0&&R!=null&&S(e,["parameters","editConfig","baseSteps"],R),t}function jG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["prompt"]);i!=null&&S(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>qq(c))),S(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&zG(a,t),t}function GG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>h5(s))),S(e,["generatedImages"],i)}return e}function qG(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&S(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function VG(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&S(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&S(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&S(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&S(e,["parameters","autoTruncate"],o),t}function WG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let o=l4(n,i);Array.isArray(o)&&(o=o.map(c=>c)),S(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&qG(s,t);const a=y(e,["model"]);return a!==void 0&&S(t,["requests[]","model"],xr(n,a)),t}function XG(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let a=l4(n,i);Array.isArray(a)&&(a=a.map(o=>o)),S(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&VG(s,t),t}function YG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function $G(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>kG(a))),S(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function KG(n){const e={},t=y(n,["endpoint"]);t!=null&&S(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function JG(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&S(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function ZG(n){const e={},t=y(n,["id"]);t!=null&&S(e,["id"],t);const r=y(n,["args"]);r!=null&&S(e,["args"],r);const i=y(n,["name"]);if(i!=null&&S(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QG(n){const e={},t=y(n,["allowedFunctionNames"]);t!=null&&S(e,["allowedFunctionNames"],t);const r=y(n,["mode"]);if(r!=null&&S(e,["mode"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eq(n){const e={},t=y(n,["description"]);t!=null&&S(e,["description"],t);const r=y(n,["name"]);r!=null&&S(e,["name"],r);const i=y(n,["parameters"]);i!=null&&S(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&S(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&S(e,["response"],a);const o=y(n,["responseJsonSchema"]);if(o!=null&&S(e,["responseJsonSchema"],o),y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tq(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&S(t,["systemInstruction"],f5(Pa(i)));const s=y(e,["temperature"]);s!=null&&S(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&S(r,["topP"],a);const o=y(e,["topK"]);o!=null&&S(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&S(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&S(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&S(r,["frequencyPenalty"],b);const _=y(e,["seed"]);_!=null&&S(r,["seed"],_);const w=y(e,["responseMimeType"]);w!=null&&S(r,["responseMimeType"],w);const T=y(e,["responseSchema"]);T!=null&&S(r,["responseSchema"],c4(T));const L=y(e,["responseJsonSchema"]);if(L!=null&&S(r,["responseJsonSchema"],L),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=y(e,["safetySettings"]);if(t!==void 0&&R!=null){let Q=R;Array.isArray(Q)&&(Q=Q.map(ce=>Vq(ce))),S(t,["safetySettings"],Q)}const F=y(e,["tools"]);if(t!==void 0&&F!=null){let Q=fv(F);Array.isArray(Q)&&(Q=Q.map(ce=>Zq(uv(ce)))),S(t,["tools"],Q)}const z=y(e,["toolConfig"]);if(t!==void 0&&z!=null&&S(t,["toolConfig"],Jq(z)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=y(e,["cachedContent"]);t!==void 0&&q!=null&&S(t,["cachedContent"],Rh(n,q));const P=y(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const X=y(e,["mediaResolution"]);X!=null&&S(r,["mediaResolution"],X);const O=y(e,["speechConfig"]);if(O!=null&&S(r,["speechConfig"],u4(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=y(e,["thinkingConfig"]);ee!=null&&S(r,["thinkingConfig"],ee);const B=y(e,["imageConfig"]);B!=null&&S(r,["imageConfig"],kq(B));const G=y(e,["enableEnhancedCivicAnswers"]);if(G!=null&&S(r,["enableEnhancedCivicAnswers"],G),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function nq(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&S(t,["systemInstruction"],Pa(i));const s=y(e,["temperature"]);s!=null&&S(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&S(r,["topP"],a);const o=y(e,["topK"]);o!=null&&S(r,["topK"],o);const c=y(e,["candidateCount"]);c!=null&&S(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const m=y(e,["presencePenalty"]);m!=null&&S(r,["presencePenalty"],m);const b=y(e,["frequencyPenalty"]);b!=null&&S(r,["frequencyPenalty"],b);const _=y(e,["seed"]);_!=null&&S(r,["seed"],_);const w=y(e,["responseMimeType"]);w!=null&&S(r,["responseMimeType"],w);const T=y(e,["responseSchema"]);T!=null&&S(r,["responseSchema"],c4(T));const L=y(e,["responseJsonSchema"]);L!=null&&S(r,["responseJsonSchema"],L);const R=y(e,["routingConfig"]);R!=null&&S(r,["routingConfig"],R);const F=y(e,["modelSelectionConfig"]);F!=null&&S(r,["modelConfig"],F);const z=y(e,["safetySettings"]);if(t!==void 0&&z!=null){let le=z;Array.isArray(le)&&(le=le.map(Se=>Se)),S(t,["safetySettings"],le)}const q=y(e,["tools"]);if(t!==void 0&&q!=null){let le=fv(q);Array.isArray(le)&&(le=le.map(Se=>FM(uv(Se)))),S(t,["tools"],le)}const P=y(e,["toolConfig"]);t!==void 0&&P!=null&&S(t,["toolConfig"],P);const X=y(e,["labels"]);t!==void 0&&X!=null&&S(t,["labels"],X);const O=y(e,["cachedContent"]);t!==void 0&&O!=null&&S(t,["cachedContent"],Rh(n,O));const ee=y(e,["responseModalities"]);ee!=null&&S(r,["responseModalities"],ee);const B=y(e,["mediaResolution"]);B!=null&&S(r,["mediaResolution"],B);const G=y(e,["speechConfig"]);G!=null&&S(r,["speechConfig"],u4(G));const Q=y(e,["audioTimestamp"]);Q!=null&&S(r,["audioTimestamp"],Q);const ce=y(e,["thinkingConfig"]);ce!=null&&S(r,["thinkingConfig"],ce);const _e=y(e,["imageConfig"]);if(_e!=null&&S(r,["imageConfig"],Nq(_e)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=y(e,["modelArmorConfig"]);return t!==void 0&&K!=null&&S(t,["modelArmorConfig"],K),r}function w6(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let a=nc(i);Array.isArray(a)&&(a=a.map(o=>f5(o))),S(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&S(t,["generationConfig"],tq(n,s,t)),t}function A6(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["contents"]);if(i!=null){let a=nc(i);Array.isArray(a)&&(a=a.map(o=>o)),S(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&S(t,["generationConfig"],nq(n,s,t)),t}function S6(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>SG(f))),S(e,["candidates"],c)}const i=y(n,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&S(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&S(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function E6(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["candidates"],f)}const i=y(n,["createTime"]);i!=null&&S(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&S(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&S(e,["responseId"],o);const c=y(n,["usageMetadata"]);return c!=null&&S(e,["usageMetadata"],c),e}function rq(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&S(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&S(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o);const c=y(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&S(e,["parameters","includeSafetyAttributes"],c);const f=y(n,["includeRaiReason"]);e!==void 0&&f!=null&&S(e,["parameters","includeRaiReason"],f);const h=y(n,["language"]);e!==void 0&&h!=null&&S(e,["parameters","language"],h);const p=y(n,["outputMimeType"]);e!==void 0&&p!=null&&S(e,["parameters","outputOptions","mimeType"],p);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&S(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=y(n,["imageSize"]);if(e!==void 0&&m!=null&&S(e,["parameters","sampleImageSize"],m),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function iq(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&S(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const c=y(n,["seed"]);e!==void 0&&c!=null&&S(e,["parameters","seed"],c);const f=y(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&S(e,["parameters","safetySetting"],f);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&S(e,["parameters","personGeneration"],h);const p=y(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&S(e,["parameters","includeSafetyAttributes"],p);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const m=y(n,["language"]);e!==void 0&&m!=null&&S(e,["parameters","language"],m);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&S(e,["parameters","outputOptions","mimeType"],b);const _=y(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&S(e,["parameters","outputOptions","compressionQuality"],_);const w=y(n,["addWatermark"]);e!==void 0&&w!=null&&S(e,["parameters","addWatermark"],w);const T=y(n,["labels"]);e!==void 0&&T!=null&&S(e,["labels"],T);const L=y(n,["imageSize"]);e!==void 0&&L!=null&&S(e,["parameters","sampleImageSize"],L);const R=y(n,["enhancePrompt"]);return e!==void 0&&R!=null&&S(e,["parameters","enhancePrompt"],R),t}function sq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["prompt"]);i!=null&&S(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&rq(s,t),t}function aq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["prompt"]);i!=null&&S(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&iq(s,t),t}function oq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>yq(a))),S(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],IM(i)),e}function lq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>h5(a))),S(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],MM(i)),e}function cq(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&S(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&S(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(n,["negativePrompt"]);e!==void 0&&c!=null&&S(e,["parameters","negativePrompt"],c);const f=y(n,["enhancePrompt"]);if(e!==void 0&&f!=null&&S(e,["parameters","enhancePrompt"],f),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(n,["lastFrame"]);e!==void 0&&h!=null&&S(e,["instances[0]","lastFrame"],d5(h));const p=y(n,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>fV(m))),S(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function uq(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&S(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&S(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const c=y(n,["aspectRatio"]);e!==void 0&&c!=null&&S(e,["parameters","aspectRatio"],c);const f=y(n,["resolution"]);e!==void 0&&f!=null&&S(e,["parameters","resolution"],f);const h=y(n,["personGeneration"]);e!==void 0&&h!=null&&S(e,["parameters","personGeneration"],h);const p=y(n,["pubsubTopic"]);e!==void 0&&p!=null&&S(e,["parameters","pubsubTopic"],p);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","negativePrompt"],g);const m=y(n,["enhancePrompt"]);e!==void 0&&m!=null&&S(e,["parameters","enhancePrompt"],m);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&S(e,["parameters","generateAudio"],b);const _=y(n,["lastFrame"]);e!==void 0&&_!=null&&S(e,["instances[0]","lastFrame"],lu(_));const w=y(n,["referenceImages"]);if(e!==void 0&&w!=null){let R=w;Array.isArray(R)&&(R=R.map(F=>hV(F))),S(e,["instances[0]","referenceImages"],R)}const T=y(n,["mask"]);e!==void 0&&T!=null&&S(e,["instances[0]","mask"],uV(T));const L=y(n,["compressionQuality"]);return e!==void 0&&L!=null&&S(e,["parameters","compressionQuality"],L),t}function fq(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&S(e,["response"],mq(a)),e}function hq(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response"]);return a!=null&&S(e,["response"],gq(a)),e}function dq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["prompt"]);i!=null&&S(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&S(t,["instances[0]","image"],d5(s));const a=y(e,["video"]);a!=null&&S(t,["instances[0]","video"],DM(a));const o=y(e,["source"]);o!=null&&vq(o,t);const c=y(e,["config"]);return c!=null&&cq(c,t),t}function pq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["prompt"]);i!=null&&S(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&S(t,["instances[0]","image"],lu(s));const a=y(e,["video"]);a!=null&&S(t,["instances[0]","video"],PM(a));const o=y(e,["source"]);o!=null&&xq(o,t);const c=y(e,["config"]);return c!=null&&uq(c,t),t}function mq(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>_q(a))),S(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function gq(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>wq(a))),S(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function vq(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],d5(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&S(e,["instances[0]","video"],DM(s)),t}function xq(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],lu(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&S(e,["instances[0]","video"],PM(s)),t}function yq(n){const e={},t=y(n,["_self"]);t!=null&&S(e,["image"],Rq(t));const r=y(n,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&S(e,["safetyAttributes"],IM(i)),e}function h5(n){const e={},t=y(n,["_self"]);t!=null&&S(e,["image"],LM(t));const r=y(n,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&S(e,["safetyAttributes"],MM(i));const s=y(n,["prompt"]);return s!=null&&S(e,["enhancedPrompt"],s),e}function bq(n){const e={},t=y(n,["_self"]);t!=null&&S(e,["mask"],LM(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),S(e,["labels"],i)}return e}function _q(n){const e={},t=y(n,["video"]);return t!=null&&S(e,["video"],lV(t)),e}function wq(n){const e={},t=y(n,["_self"]);return t!=null&&S(e,["video"],cV(t)),e}function Aq(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&S(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&S(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&S(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const c=y(n,["logprobs"]);c!=null&&S(e,["logprobs"],c);const f=y(n,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const h=y(n,["mediaResolution"]);h!=null&&S(e,["mediaResolution"],h);const p=y(n,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const g=y(n,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const m=y(n,["responseMimeType"]);m!=null&&S(e,["responseMimeType"],m);const b=y(n,["responseModalities"]);b!=null&&S(e,["responseModalities"],b);const _=y(n,["responseSchema"]);_!=null&&S(e,["responseSchema"],_);const w=y(n,["routingConfig"]);w!=null&&S(e,["routingConfig"],w);const T=y(n,["seed"]);T!=null&&S(e,["seed"],T);const L=y(n,["speechConfig"]);L!=null&&S(e,["speechConfig"],L);const R=y(n,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const F=y(n,["temperature"]);F!=null&&S(e,["temperature"],F);const z=y(n,["thinkingConfig"]);z!=null&&S(e,["thinkingConfig"],z);const q=y(n,["topK"]);q!=null&&S(e,["topK"],q);const P=y(n,["topP"]);if(P!=null&&S(e,["topP"],P),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sq(n,e){const t={},r=y(e,["model"]);return r!=null&&S(t,["_url","name"],xr(n,r)),t}function Eq(n,e){const t={},r=y(e,["model"]);return r!=null&&S(t,["_url","name"],xr(n,r)),t}function Tq(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&S(e,["enableWidget"],t),e}function Cq(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&S(e,["timeRangeFilter"],t),e}function kq(n){const e={},t=y(n,["aspectRatio"]);t!=null&&S(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),y(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nq(n){const e={},t=y(n,["aspectRatio"]);t!=null&&S(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&S(e,["imageSize"],r);const i=y(n,["personGeneration"]);i!=null&&S(e,["personGeneration"],i);const s=y(n,["outputMimeType"]);s!=null&&S(e,["imageOutputOptions","mimeType"],s);const a=y(n,["outputCompressionQuality"]);return a!=null&&S(e,["imageOutputOptions","compressionQuality"],a),e}function Rq(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&S(e,["imageBytes"],l0(t));const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function LM(n){const e={},t=y(n,["gcsUri"]);t!=null&&S(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],l0(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function d5(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&S(e,["bytesBase64Encoded"],l0(t));const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function lu(n){const e={},t=y(n,["gcsUri"]);t!=null&&S(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],l0(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function Lq(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&S(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&S(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&S(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&S(t,["_url","models_url"],SM(n,o)),r}function Iq(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&S(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&S(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&S(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&S(t,["_url","models_url"],SM(n,o)),r}function Mq(n,e){const t={},r=y(e,["config"]);return r!=null&&Lq(n,r,t),t}function Fq(n,e){const t={},r=y(e,["config"]);return r!=null&&Iq(n,r,t),t}function Dq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=EM(i);Array.isArray(s)&&(s=s.map(a=>uT(a))),S(e,["models"],s)}return e}function Pq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=EM(i);Array.isArray(s)&&(s=s.map(a=>fT(a))),S(e,["models"],s)}return e}function Oq(n){const e={},t=y(n,["maskMode"]);t!=null&&S(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&S(e,["dilation"],i),e}function uT(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["displayName"]);r!=null&&S(e,["displayName"],r);const i=y(n,["description"]);i!=null&&S(e,["description"],i);const s=y(n,["version"]);s!=null&&S(e,["version"],s);const a=y(n,["_self"]);a!=null&&S(e,["tunedModelInfo"],Qq(a));const o=y(n,["inputTokenLimit"]);o!=null&&S(e,["inputTokenLimit"],o);const c=y(n,["outputTokenLimit"]);c!=null&&S(e,["outputTokenLimit"],c);const f=y(n,["supportedGenerationMethods"]);f!=null&&S(e,["supportedActions"],f);const h=y(n,["temperature"]);h!=null&&S(e,["temperature"],h);const p=y(n,["maxTemperature"]);p!=null&&S(e,["maxTemperature"],p);const g=y(n,["topP"]);g!=null&&S(e,["topP"],g);const m=y(n,["topK"]);m!=null&&S(e,["topK"],m);const b=y(n,["thinking"]);return b!=null&&S(e,["thinking"],b),e}function fT(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["displayName"]);r!=null&&S(e,["displayName"],r);const i=y(n,["description"]);i!=null&&S(e,["description"],i);const s=y(n,["versionId"]);s!=null&&S(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>KG(g))),S(e,["endpoints"],p)}const o=y(n,["labels"]);o!=null&&S(e,["labels"],o);const c=y(n,["_self"]);c!=null&&S(e,["tunedModelInfo"],eV(c));const f=y(n,["defaultCheckpointId"]);f!=null&&S(e,["defaultCheckpointId"],f);const h=y(n,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),S(e,["checkpoints"],p)}return e}function Bq(n){const e={},t=y(n,["mediaResolution"]);t!=null&&S(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&S(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&S(e,["fileData"],JG(s));const a=y(n,["functionCall"]);a!=null&&S(e,["functionCall"],ZG(a));const o=y(n,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&S(e,["inlineData"],AG(c));const f=y(n,["text"]);f!=null&&S(e,["text"],f);const h=y(n,["thought"]);h!=null&&S(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&S(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Uq(n){const e={},t=y(n,["productImage"]);return t!=null&&S(e,["image"],lu(t)),e}function Hq(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&S(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&S(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&S(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const c=y(n,["personGeneration"]);e!==void 0&&c!=null&&S(e,["parameters","personGeneration"],c);const f=y(n,["addWatermark"]);e!==void 0&&f!=null&&S(e,["parameters","addWatermark"],f);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const p=y(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&S(e,["parameters","outputOptions","compressionQuality"],p);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","enhancePrompt"],g);const m=y(n,["labels"]);return e!==void 0&&m!=null&&S(e,["labels"],m),t}function zq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["source"]);i!=null&&Gq(i,t);const s=y(e,["config"]);return s!=null&&Hq(s,t),t}function jq(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>h5(i))),S(e,["generatedImages"],r)}return e}function Gq(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&S(e,["instances[0]","personImage","image"],lu(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Uq(o))),S(e,["instances[0]","productImages"],a)}return t}function qq(n){const e={},t=y(n,["referenceImage"]);t!=null&&S(e,["referenceImage"],lu(t));const r=y(n,["referenceId"]);r!=null&&S(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&S(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&S(e,["maskImageConfig"],Oq(s));const a=y(n,["controlImageConfig"]);a!=null&&S(e,["controlImageConfig"],RG(a));const o=y(n,["styleImageConfig"]);o!=null&&S(e,["styleImageConfig"],o);const c=y(n,["subjectImageConfig"]);return c!=null&&S(e,["subjectImageConfig"],c),e}function IM(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&S(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function MM(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&S(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function Vq(n){const e={},t=y(n,["category"]);if(t!=null&&S(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Wq(n){const e={},t=y(n,["image"]);return t!=null&&S(e,["image"],lu(t)),e}function Xq(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&S(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&S(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&S(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&S(e,["parameters","binaryColorThreshold"],o);const c=y(n,["labels"]);return e!==void 0&&c!=null&&S(e,["labels"],c),t}function Yq(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["source"]);i!=null&&Kq(i,t);const s=y(e,["config"]);return s!=null&&Xq(s,t),t}function $q(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>bq(i))),S(e,["generatedMasks"],r)}return e}function Kq(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],lu(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&S(e,["instances[0]","scribble"],Wq(s)),t}function Jq(n){const e={},t=y(n,["retrievalConfig"]);t!=null&&S(e,["retrievalConfig"],t);const r=y(n,["functionCallingConfig"]);return r!=null&&S(e,["functionCallingConfig"],QG(r)),e}function Zq(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&S(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&S(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&S(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),S(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&S(e,["googleMaps"],Tq(a));const o=y(n,["googleSearch"]);o!=null&&S(e,["googleSearch"],Cq(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&S(e,["googleSearchRetrieval"],c);const f=y(n,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function FM(n){const e={},t=y(n,["retrieval"]);t!=null&&S(e,["retrieval"],t);const r=y(n,["computerUse"]);if(r!=null&&S(e,["computerUse"],r),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(n,["codeExecution"]);i!=null&&S(e,["codeExecution"],i);const s=y(n,["enterpriseWebSearch"]);s!=null&&S(e,["enterpriseWebSearch"],s);const a=y(n,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>eq(g))),S(e,["functionDeclarations"],p)}const o=y(n,["googleMaps"]);o!=null&&S(e,["googleMaps"],o);const c=y(n,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=y(n,["googleSearchRetrieval"]);f!=null&&S(e,["googleSearchRetrieval"],f);const h=y(n,["urlContext"]);return h!=null&&S(e,["urlContext"],h),e}function Qq(n){const e={},t=y(n,["baseModel"]);t!=null&&S(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&S(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function eV(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&S(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&S(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function tV(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&S(e,["defaultCheckpointId"],s),t}function nV(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&S(e,["defaultCheckpointId"],s),t}function rV(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","name"],xr(n,r));const i=y(e,["config"]);return i!=null&&tV(i,t),t}function iV(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["config"]);return i!=null&&nV(i,t),t}function sV(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&S(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&S(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&S(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","mimeType"],o);const c=y(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&S(e,["parameters","outputOptions","compressionQuality"],c);const f=y(n,["enhanceInputImage"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=y(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(n,["labels"]);e!==void 0&&p!=null&&S(e,["labels"],p);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&S(e,["parameters","sampleCount"],g);const m=y(n,["mode"]);return e!==void 0&&m!=null&&S(e,["parameters","mode"],m),t}function aV(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["_url","model"],xr(n,r));const i=y(e,["image"]);i!=null&&S(t,["instances[0]","image"],lu(i));const s=y(e,["upscaleFactor"]);s!=null&&S(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&sV(a,t),t}function oV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>h5(s))),S(e,["generatedImages"],i)}return e}function lV(n){const e={},t=y(n,["uri"]);t!=null&&S(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&S(e,["videoBytes"],l0(r));const i=y(n,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function cV(n){const e={},t=y(n,["gcsUri"]);t!=null&&S(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],l0(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function uV(n){const e={},t=y(n,["image"]);t!=null&&S(e,["_self"],lu(t));const r=y(n,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function fV(n){const e={},t=y(n,["image"]);t!=null&&S(e,["image"],d5(t));const r=y(n,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function hV(n){const e={},t=y(n,["image"]);t!=null&&S(e,["image"],lu(t));const r=y(n,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function DM(n){const e={},t=y(n,["uri"]);t!=null&&S(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&S(e,["encodedVideo"],l0(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["encoding"],i),e}function PM(n){const e={},t=y(n,["uri"]);t!=null&&S(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],l0(r));const i=y(n,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dV(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&S(e,["displayName"],r),t}function pV(n){const e={},t=y(n,["config"]);return t!=null&&dV(t,e),e}function mV(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),t}function gV(n){const e={},t=y(n,["name"]);t!=null&&S(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&mV(r,e),e}function vV(n){const e={},t=y(n,["name"]);return t!=null&&S(e,["_url","name"],t),e}function xV(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&S(e,["chunkingConfig"],i),t}function yV(n){const e={},t=y(n,["name"]);t!=null&&S(e,["name"],t);const r=y(n,["metadata"]);r!=null&&S(e,["metadata"],r);const i=y(n,["done"]);i!=null&&S(e,["done"],i);const s=y(n,["error"]);s!=null&&S(e,["error"],s);const a=y(n,["response"]);return a!=null&&S(e,["response"],_V(a)),e}function bV(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&S(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&S(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&xV(i,e),e}function _V(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&S(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function wV(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),t}function AV(n){const e={},t=y(n,["config"]);return t!=null&&wV(t,e),e}function SV(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["fileSearchStores"],s)}return e}function OM(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&S(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c)),S(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&S(e,["chunkingConfig"],a),t}function EV(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&S(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&OM(r,e),e}function TV(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&S(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CV="Content-Type",kV="X-Server-Timeout",NV="User-Agent",hT="x-goog-api-client",RV="1.38.0",LV=`google-genai-sdk/${RV}`,IV="v1beta1",MV="v1beta";class FV{constructor(e){var t,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!o?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:IV}else{if(!this.clientOptions.apiKey)throw new Kx({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:MV,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===aT.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,t),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&DV(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await T6(i),new oT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await T6(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return tu(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield kn(i.read());if(f){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=s.decode(h,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const _=JSON.parse(JSON.stringify(b.error)),w=_.status,T=_.code,L=`got status: ${w}. ${JSON.stringify(b)}`;if(T>=400&&T<600)throw new Kx({message:L,status:T})}}catch(b){if(b.name==="ApiError")throw b}a+=p;let g=-1,m=0;for(;;){g=-1,m=0;for(const w of c){const T=a.indexOf(w);T!==-1&&(g===-1||T<g)&&(g=T,m=w.length)}if(g===-1)break;const b=a.substring(0,g);a=a.substring(g+m);const _=b.trim();if(_.startsWith(o)){const w=_.substring(o.length).trim();try{const T=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kn(new oT(T))}catch(T){throw new Error(`exception parsing stream chunk ${w}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=LV+" "+this.clientOptions.userAgentExtra;return e[NV]=t,e[hT]=t,e[CV]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(kV,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},f=this.getFileName(e),h=It("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,t==null?void 0:t.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(t),p={};r!=null&&OM(r,p);const g=await this.fetchUploadUrl(f,o,c,h,p,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function T6(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new Kx({message:i,status:t}):new Error(i)}}function DV(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=o[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?o[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),o[c]=f)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PV="mcp_used/unknown";let OV=!1;function BM(n){for(const e of n)if(BV(e)||typeof e=="object"&&"inputSchema"in e)return!0;return OV}function UM(n){var e;const t=(e=n[hT])!==null&&e!==void 0?e:"";n[hT]=(t+` ${PV}`).trimStart()}function BV(n){return n!==null&&typeof n=="object"&&n instanceof h4}function UV(n){return tu(this,arguments,function*(t,r=100){let i,s=0;for(;s<r;){const a=yield kn(t.listTools({cursor:i}));for(const o of a.tools)yield yield kn(o),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class h4{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new h4(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const h of this.mcpClients)try{for(var o=!0,c=(t=void 0,nu(UV(h))),f;f=await c.next(),e=f.done,!e;o=!0){i=f.value,o=!1;const p=i;a.push(p);const g=p.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=h}}catch(p){t={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),gz(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HV(n,e,t){const r=new lz;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class zV{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=qV(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let f=()=>{};const h=new Promise(R=>{f=R}),p=e.callbacks,g=function(){f({})},m=this.apiClient,b={onopen:g,onmessage:R=>{HV(m,p.onmessage,R)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(R){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(R){}},_=this.webSocketFactory.create(c,GV(a),b);_.connect(),await h;const L={setup:{model:xr(this.apiClient,e.model)}};return _.send(JSON.stringify(L)),new jV(_,this.apiClient)}}class jV{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=dG(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=hG(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Pg.PLAY)}pause(){this.sendPlaybackControl(Pg.PAUSE)}stop(){this.sendPlaybackControl(Pg.STOP)}resetContext(){this.sendPlaybackControl(Pg.RESET_CONTEXT)}close(){this.conn.close()}}function GV(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function qV(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WV(n,e,t){const r=new oz;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=gG(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class XV{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new zV(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&BM(e.config.tools)&&UM(p);const g=JV(p);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),G=!!O&&!!ee||!!B;this.apiClient.getCustomBaseUrl()&&!G?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const O=this.apiClient.getApiKey();let ee="BidiGenerateContent",B="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ee}?${B}=${O}`}let m=()=>{};const b=new Promise(O=>{m=O}),_=e.callbacks,w=function(){var O;(O=_==null?void 0:_.onopen)===null||O===void 0||O.call(_),m({})},T=this.apiClient,L={onopen:w,onmessage:O=>{WV(T,_.onmessage,O)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(O){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(O){}},R=this.webSocketFactory.create(h,KV(g),L);R.connect(),await b;let F=xr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const O=this.apiClient.getProject(),ee=this.apiClient.getLocation();O&&ee&&(F=`projects/${O}/locations/${ee}/`+F)}let z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[dw.AUDIO]}:e.config.responseModalities=[dw.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],P=[];for(const O of q)if(this.isCallableTool(O)){const ee=O;P.push(await ee.tool())}else P.push(O);P.length>0&&(e.config.tools=P);const X={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=fG(this.apiClient,X):z=uG(this.apiClient,X),delete z.config,R.send(JSON.stringify(z)),new $V(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const YV={turnComplete:!0};class $V{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=nc(t.turns),e.isVertexAI()||(r=r.map(i=>f5(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(VV)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},YV),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:mG(e)}:t={realtimeInput:pG(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function KV(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function JV(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C6=10;function k6(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Vg(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Vg(n){return"callTool"in n&&typeof n.callTool=="function"}function ZV(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Vg(i)))!==null&&r!==void 0?r:!1}function N6(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(Vg(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function R6(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QV extends Nh{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!ZV(t)||k6(t.config))return await this.generateContentInternal(c);const f=N6(t);if(f.length>0){const _=f.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let h,p;const g=nc(c.contents),m=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:C6;let b=0;for(;b<m&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const _=h.candidates[0].content,w=[];for(const T of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Vg(T)){const R=await T.callTool(h.functionCalls);w.push(...R)}b++,p={role:"user",parts:w},c.contents=nc(c.contents),c.contents.push(_),c.contents.push(p),R6(c.config)&&(g.push(_),g.push(p))}return R6(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),k6(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const c=N6(t);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:a.push(c);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new _m(Eh.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((c=(o=t.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>Vg(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&BM(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),UM(f),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Vg(a)){const o=a,c=await o.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:C6;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return tu(this,arguments,function*(){for(var g,m,b,_,w,T;o<s;){a&&(o++,a=!1);const z=yield kn(f.processParamsMaybeAddMcpUsage(p)),q=yield kn(f.generateContentStreamInternal(z)),P=[],X=[];try{for(var L=!0,R=(m=void 0,nu(q)),F;F=yield kn(R.next()),g=F.done,!g;L=!0){_=F.value,L=!1;const O=_;if(yield yield kn(O),O.candidates&&(!((w=O.candidates[0])===null||w===void 0)&&w.content)){X.push(O.candidates[0].content);for(const ee of(T=O.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(o<s&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ee.functionCall.name)){const B=yield kn(h.get(ee.functionCall.name).callTool([ee.functionCall]));P.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!L&&!g&&(b=R.return)&&(yield kn(b.call(R)))}finally{if(m)throw m.error}}if(P.length>0){a=!0;const O=new sx;O.candidates=[{content:{role:"user",parts:P}}],yield yield kn(O);const ee=[];ee.push(...X),ee.push({role:"user",parts:P});const B=nc(p.contents).concat(ee);p.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=A6(this.apiClient,e);return o=It("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=E6(h),g=new sx;return Object.assign(g,p),g})}else{const f=w6(this.apiClient,e);return o=It("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=S6(h),g=new sx;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=A6(this.apiClient,e);return o=It("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return tu(this,arguments,function*(){var g,m,b,_;try{for(var w=!0,T=nu(p),L;L=yield kn(T.next()),g=L.done,!g;w=!0){_=L.value,w=!1;const R=_,F=E6(yield kn(R.json()));F.sdkHttpResponse={headers:R.headers};const z=new sx;Object.assign(z,F),yield yield kn(z)}}catch(R){m={error:R}}finally{try{!w&&!g&&(b=T.return)&&(yield kn(b.call(T)))}finally{if(m)throw m.error}}})})}else{const f=w6(this.apiClient,e);return o=It("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return tu(this,arguments,function*(){var g,m,b,_;try{for(var w=!0,T=nu(p),L;L=yield kn(T.next()),g=L.done,!g;w=!0){_=L.value,w=!1;const R=_,F=S6(yield kn(R.json()));F.sdkHttpResponse={headers:R.headers};const z=new sx;Object.assign(z,F),yield yield kn(z)}}catch(R){m={error:R}}finally{try{!w&&!g&&(b=T.return)&&(yield kn(b.call(T)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=XG(this.apiClient,e);return o=It("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=$G(h),g=new s6;return Object.assign(g,p),g})}else{const f=WG(this.apiClient,e);return o=It("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=YG(h),g=new s6;return Object.assign(g,p),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=aq(this.apiClient,e);return o=It("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=lq(h),g=new a6;return Object.assign(g,p),g})}else{const f=sq(this.apiClient,e);return o=It("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=oq(h),g=new a6;return Object.assign(g,p),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=jG(this.apiClient,e);return s=It("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=GG(c),h=new KH;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=aV(this.apiClient,e);return s=It("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=oV(c),h=new JH;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zq(this.apiClient,e);return s=It("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=jq(c),h=new ZH;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Yq(this.apiClient,e);return s=It("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$q(c),h=new QH;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Eq(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>fT(h))}else{const f=Sq(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>uT(h))}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Fq(this.apiClient,e);return o=It("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Pq(h),g=new o6;return Object.assign(g,p),g})}else{const f=Mq(this.apiClient,e);return o=It("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Dq(h),g=new o6;return Object.assign(g,p),g})}}async update(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=iV(this.apiClient,e);return o=It("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>fT(h))}else{const f=rV(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>uT(h))}}async delete(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=BG(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=HG(h),g=new l6;return Object.assign(g,p),g})}else{const f=OG(this.apiClient,e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=UG(h),g=new l6;return Object.assign(g,p),g})}}async countTokens(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=FG(this.apiClient,e);return o=It("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=PG(h),g=new c6;return Object.assign(g,p),g})}else{const f=MG(this.apiClient,e);return o=It("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=DG(h),g=new c6;return Object.assign(g,p),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=TG(this.apiClient,e);return s=It("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=CG(c),h=new ez;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=pq(this.apiClient,e);return o=It("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=hq(h),g=new pw;return Object.assign(g,p),g})}else{const f=dq(this.apiClient,e);return o=It("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=fq(h),g=new pw;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eW extends Nh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=qH(e);return o=It("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=GH(e);return o=It("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=PH(e);return s=It("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tW(n){const e={},t=y(n,["data"]);if(t!=null&&S(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function nW(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>fW(s))),S(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&S(e,["role"],r),e}function rW(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&S(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&S(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&S(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&S(t,["bidiGenerateContentSetup"],uW(n,o));const c=y(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&S(t,["fieldMask"],c),r}function iW(n,e){const t={},r=y(e,["config"]);return r!=null&&S(t,["config"],rW(n,r,t)),t}function sW(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&S(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function aW(n){const e={},t=y(n,["id"]);t!=null&&S(e,["id"],t);const r=y(n,["args"]);r!=null&&S(e,["args"],r);const i=y(n,["name"]);if(i!=null&&S(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oW(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&S(e,["enableWidget"],t),e}function lW(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&S(e,["timeRangeFilter"],t),e}function cW(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const c=y(n,["maxOutputTokens"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(n,["mediaResolution"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","mediaResolution"],f);const h=y(n,["seed"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","seed"],h);const p=y(n,["speechConfig"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","speechConfig"],f4(p));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const m=y(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],m);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&S(e,["setup","systemInstruction"],nW(Pa(b)));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let q=fv(_);Array.isArray(q)&&(q=q.map(P=>dW(uv(P)))),S(e,["setup","tools"],q)}const w=y(n,["sessionResumption"]);e!==void 0&&w!=null&&S(e,["setup","sessionResumption"],hW(w));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&S(e,["setup","inputAudioTranscription"],T);const L=y(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&S(e,["setup","outputAudioTranscription"],L);const R=y(n,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const F=y(n,["contextWindowCompression"]);e!==void 0&&F!=null&&S(e,["setup","contextWindowCompression"],F);const z=y(n,["proactivity"]);if(e!==void 0&&z!=null&&S(e,["setup","proactivity"],z),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function uW(n,e){const t={},r=y(e,["model"]);r!=null&&S(t,["setup","model"],xr(n,r));const i=y(e,["config"]);return i!=null&&S(t,["config"],cW(i,t)),t}function fW(n){const e={},t=y(n,["mediaResolution"]);t!=null&&S(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&S(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&S(e,["fileData"],sW(s));const a=y(n,["functionCall"]);a!=null&&S(e,["functionCall"],aW(a));const o=y(n,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const c=y(n,["inlineData"]);c!=null&&S(e,["inlineData"],tW(c));const f=y(n,["text"]);f!=null&&S(e,["text"],f);const h=y(n,["thought"]);h!=null&&S(e,["thought"],h);const p=y(n,["thoughtSignature"]);p!=null&&S(e,["thoughtSignature"],p);const g=y(n,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function hW(n){const e={},t=y(n,["handle"]);if(t!=null&&S(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dW(n){const e={};if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=y(n,["computerUse"]);t!=null&&S(e,["computerUse"],t);const r=y(n,["fileSearch"]);r!=null&&S(e,["fileSearch"],r);const i=y(n,["codeExecution"]);if(i!=null&&S(e,["codeExecution"],i),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(n,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>p)),S(e,["functionDeclarations"],h)}const a=y(n,["googleMaps"]);a!=null&&S(e,["googleMaps"],oW(a));const o=y(n,["googleSearch"]);o!=null&&S(e,["googleSearch"],lW(o));const c=y(n,["googleSearchRetrieval"]);c!=null&&S(e,["googleSearchRetrieval"],c);const f=y(n,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pW(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function mW(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=pW(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),o.length>0&&c.push(...o),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class gW extends Nh{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=iW(this.apiClient,e);s=It("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=mW(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vW(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),t}function xW(n){const e={},t=y(n,["name"]);t!=null&&S(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&vW(r,e),e}function yW(n){const e={},t=y(n,["name"]);return t!=null&&S(e,["_url","name"],t),e}function bW(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),t}function _W(n){const e={},t=y(n,["parent"]);t!=null&&S(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&bW(r,e),e}function wW(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&S(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),S(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AW extends Nh{constructor(e){super(),this.apiClient=e,this.list=async t=>new _m(Eh.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yW(e);return s=It("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xW(e);i=It("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_W(e);return s=It("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=wW(c),h=new tz;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SW extends Nh{constructor(e,t=new AW(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new _m(Eh.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pV(e);return s=It("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vV(e);return s=It("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gV(e);i=It("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=AV(e);return s=It("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=SV(c),h=new nz;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=EV(e);return s=It("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=TV(c),h=new rz;return Object.assign(h,f),h})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bV(e);return s=It("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=yV(c),h=new a4;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HM=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return HM=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const EW=()=>HM();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const pT=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sc extends Error{}class oo extends sc{constructor(e,t,r,i){super(`${oo.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new p5({message:r,cause:pT(t)});const s=t;return e===400?new jM(e,s,r,i):e===401?new GM(e,s,r,i):e===403?new qM(e,s,r,i):e===404?new VM(e,s,r,i):e===409?new WM(e,s,r,i):e===422?new XM(e,s,r,i):e===429?new YM(e,s,r,i):e>=500?new $M(e,s,r,i):new oo(e,s,r,i)}}class mT extends oo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class p5 extends oo{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class zM extends p5{constructor({message:e}={}){super({message:e??"Request timed out."})}}class jM extends oo{}class GM extends oo{}class qM extends oo{}class VM extends oo{}class WM extends oo{}class XM extends oo{}class YM extends oo{}class $M extends oo{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TW=/^[a-z][a-z0-9+.-]*:/i,CW=n=>TW.test(n);let gT=n=>(gT=Array.isArray,gT(n));const kW=gT;let NW=kW;const L6=NW;function RW(n){if(!n)return!0;for(const e in n)return!1;return!0}function LW(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const IW=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new sc(`${n} must be an integer`);if(e<0)throw new sc(`${n} must be a positive integer`);return e},MW=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FW=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DW(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const PW=()=>{var n,e,t,r,i;const s=DW();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ig,"X-Stainless-OS":M6(Deno.build.os),"X-Stainless-Arch":I6(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ig,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ig,"X-Stainless-OS":M6((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":I6((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=OW();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ig,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ig,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function OW(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const I6=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",M6=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Xb;const BW=()=>Xb??(Xb=PW());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UW(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function KM(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function HW(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return KM({start(){},async pull(t){const{done:r,value:i}=await e.next();r?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function JM(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zW(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jW=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZM=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function eS(n,e,t){return ZM(),new File(n,e??"unknown_file",t)}function GW(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const qW=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QM=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",VW=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&QM(n),WW=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function XW(n,e,t){if(ZM(),n=await n,VW(n))return n instanceof File?n:eS([await n.arrayBuffer()],n.name);if(WW(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),eS(await vT(i),e,t)}const r=await vT(n);if(e||(e=GW(n)),!(t!=null&&t.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return eS(r,e,t)}async function vT(n){var e,t,r,i,s;let a=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)a.push(n);else if(QM(n))a.push(n instanceof Blob?n:await n.arrayBuffer());else if(qW(n))try{for(var o=!0,c=nu(n),f;f=await c.next(),e=f.done,!e;o=!0){i=f.value,o=!1;const h=i;a.push(...await vT(h))}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(t)throw t.error}}else{const h=(s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof n}${h?`; constructor: ${h}`:""}${YW(n)}`)}return a}function YW(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eF{constructor(e){this._client=e}}eF._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tF(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const F6=Object.freeze(Object.create(null)),$W=(n=tF)=>(function(t,...r){if(t.length===1)return t[0];let i=!1;const s=[],a=t.reduce((h,p,g)=>{var m,b,_;/[?#]/.test(p)&&(i=!0);const w=r[g];let T=(i?encodeURIComponent:n)(""+w);return g!==r.length&&(w==null||typeof w=="object"&&w.toString===((_=Object.getPrototypeOf((b=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:F6))!==null&&b!==void 0?b:F6))===null||_===void 0?void 0:_.toString))&&(T=w+"",s.push({start:h.length+p.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":T)},""),o=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(o))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((h,p)=>h.start-p.start),s.length>0){let h=0;const p=s.reduce((g,m)=>{const b=" ".repeat(m.start-h),_="^".repeat(m.length);return h=m.start+m.length,g+b+_},"");throw new sc(`Path parameters result in path with invalid segments:
${s.map(g=>g.error).join(`
`)}
${a}
${p}`)}return a}),Yb=$W(tF);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nF extends eF{create(e,t){var r;const{api_version:i=this._client.apiVersion}=e,s=gw(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new sc("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new sc("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yb`/${i}/interactions`,Object.assign(Object.assign({body:s},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(Yb`/${i}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(Yb`/${i}/interactions/${e}/cancel`,r)}get(e,t={},r){var i;const s=t??{},{api_version:a=this._client.apiVersion}=s,o=gw(s,["api_version"]);return this._client.get(Yb`/${a}/interactions/${e}`,Object.assign(Object.assign({query:o},r),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}nF._key=Object.freeze(["interactions"]);class rF extends nF{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KW(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}let $b;function d4(n){let e;return($b??(e=new globalThis.TextEncoder,$b=e.encode.bind(e)))(n)}let Kb;function D6(n){let e;return(Kb??(e=new globalThis.TextDecoder,Kb=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m5{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?d4(e):e;this.buffer=KW([this.buffer,t]);const r=[];let i;for(;(i=JW(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(D6(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=D6(this.buffer.subarray(0,s));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}m5.NEWLINE_CHARS=new Set([`
`,"\r"]);m5.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JW(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ZW(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vw={off:0,error:200,warn:300,info:400,debug:500},P6=(n,e,t)=>{if(n){if(LW(vw,n))return n;eo(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(vw))}`)}};function Tx(){}function Jb(n,e,t){return!e||vw[n]>vw[t]?Tx:e[n].bind(e)}const QW={error:Tx,warn:Tx,info:Tx,debug:Tx};let O6=new WeakMap;function eo(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return QW;const i=O6.get(t);if(i&&i[0]===r)return i[1];const s={error:Jb("error",t,r),warn:Jb("warn",t,r),info:Jb("info",t,r),debug:Jb("debug",t,r)};return O6.set(t,[r,s]),s}const q0=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Og{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let i=!1;const s=r?eo(r):console;function a(){return tu(this,arguments,function*(){var c,f,h,p;if(i)throw new sc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,b=nu(eX(e,t)),_;_=yield kn(b.next()),c=_.done,!c;m=!0){p=_.value,m=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield kn(JSON.parse(w.data))}catch(T){throw s.error("Could not parse message into JSON:",w.data),s.error("From chunk:",w.raw),T}}}catch(w){f={error:w}}finally{try{!m&&!c&&(h=b.return)&&(yield kn(h.call(b)))}finally{if(f)throw f.error}}g=!0}catch(w){if(dT(w))return yield kn(void 0);throw w}finally{g||t.abort()}})}return new Og(a,t,r)}static fromReadableStream(e,t,r){let i=!1;function s(){return tu(this,arguments,function*(){var c,f,h,p;const g=new m5,m=JM(e);try{for(var b=!0,_=nu(m),w;w=yield kn(_.next()),c=w.done,!c;b=!0){p=w.value,b=!1;const T=p;for(const L of g.decode(T))yield yield kn(L)}}catch(T){f={error:T}}finally{try{!b&&!c&&(h=_.return)&&(yield kn(h.call(_)))}finally{if(f)throw f.error}}for(const T of g.flush())yield yield kn(T)})}function a(){return tu(this,arguments,function*(){var c,f,h,p;if(i)throw new sc("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var m=!0,b=nu(s()),_;_=yield kn(b.next()),c=_.done,!c;m=!0){p=_.value,m=!1;const w=p;g||w&&(yield yield kn(JSON.parse(w)))}}catch(w){f={error:w}}finally{try{!m&&!c&&(h=b.return)&&(yield kn(h.call(b)))}finally{if(f)throw f.error}}g=!0}catch(w){if(dT(w))return yield kn(void 0);throw w}finally{g||t.abort()}})}return new Og(a,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),t.push(a)}return s.shift()}});return[new Og(()=>i(e),this.controller,this.client),new Og(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return KM({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await t.next();if(s)return r.close();const a=d4(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function eX(n,e){return tu(this,arguments,function*(){var r,i,s,a;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new sc("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new sc("Attempted to iterate over a response with no body");const o=new nX,c=new m5,f=JM(n.body);try{for(var h=!0,p=nu(tX(f)),g;g=yield kn(p.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const m=a;for(const b of c.decode(m)){const _=o.decode(b);_&&(yield yield kn(_))}}}catch(m){i={error:m}}finally{try{!h&&!r&&(s=p.return)&&(yield kn(s.call(p)))}finally{if(i)throw i.error}}for(const m of c.flush()){const b=o.decode(m);b&&(yield yield kn(b))}})}function tX(n){return tu(this,arguments,function*(){var t,r,i,s;let a=new Uint8Array;try{for(var o=!0,c=nu(n),f;f=yield kn(c.next()),t=f.done,!t;o=!0){s=f.value,o=!1;const h=s;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?d4(h):h;let g=new Uint8Array(a.length+p.length);g.set(a),g.set(p,a.length),a=g;let m;for(;(m=ZW(a))!==-1;)yield yield kn(a.slice(0,m)),a=a.slice(m)}}catch(h){r={error:h}}finally{try{!o&&!t&&(i=c.return)&&(yield kn(i.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield kn(a))})}class nX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=rX(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function rX(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iX(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,a=await(async()=>{var o;if(e.options.stream)return eo(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Og.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),f=(o=c==null?void 0:c.split(";")[0])===null||o===void 0?void 0:o.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await t.json():await t.text()})();return eo(n).debug(`[${r}] response parsed`,q0({retryOfRequestLogID:i,url:t.url,status:t.status,body:a,durationMs:Date.now()-s})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p4 extends Promise{constructor(e,t,r=iX){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new p4(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iF=Symbol("brand.privateNullableHeaders");function*sX(n){if(!n)return;if(iF in n){const{values:r,nulls:i}=n;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,t;n instanceof Headers?t=n.entries():L6(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=L6(r[1])?r[1]:[r[1]];let a=!1;for(const o of s)o!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const ax=n=>{const e=new Headers,t=new Set;for(const r of n){const i=new Set;for(const[s,a]of sX(r)){const o=s.toLowerCase();i.has(o)||(e.delete(s),i.add(o)),a===null?(e.delete(s),t.add(o)):(e.append(s,a),t.delete(o))}}return{[iF]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS=n=>{var e,t,r,i,s,a;if(typeof globalThis.process<"u")return(r=(t=(e=RH)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,n))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sF;class g5{constructor(e){var t,r,i,s,a,o,c,{baseURL:f=tS("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(t=tS("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:p="v1beta"}=e,g=gw(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:g5.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(a=(s=P6(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:P6(tS("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:b,this.fetchOptions=m.fetchOptions,this.maxRetries=(o=m.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:UW(),this.encoder=jW,this._options=m,this.apiKey=h,this.apiVersion=p,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=ax([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return ax([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ax([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new sc(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ig}`}defaultIdempotencyKey(){return`stainless-node-retry-${EW()}`}makeStatusError(e,t,r,i){return oo.generate(e,t,r,i)}buildURL(e,t,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=CW(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return RW(a)||(t=Object.assign(Object.assign({},a),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new p4(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var i,s,a;const o=await e,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=c),await this.prepareOptions(o);const{req:f,url:h,timeout:p}=await this.buildRequest(o,{retryCount:c-t});await this.prepareRequest(f,{url:h,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(eo(this).debug(`[${g}] sending request`,q0({retryOfRequestLogID:r,method:o.method,url:h,options:o,headers:f.headers})),!((s=o.signal)===null||s===void 0)&&s.aborted)throw new mT;const _=new AbortController,w=await this.fetchWithTimeout(h,f,p,_).catch(pT),T=Date.now();if(w instanceof globalThis.Error){const R=`retrying, ${t} attempts remaining`;if(!((a=o.signal)===null||a===void 0)&&a.aborted)throw new mT;const F=dT(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(t)return eo(this).info(`[${g}] connection ${F?"timed out":"failed"} - ${R}`),eo(this).debug(`[${g}] connection ${F?"timed out":"failed"} (${R})`,q0({retryOfRequestLogID:r,url:h,durationMs:T-b,message:w.message})),this.retryRequest(o,t,r??g);throw eo(this).info(`[${g}] connection ${F?"timed out":"failed"} - error; no more retries left`),eo(this).debug(`[${g}] connection ${F?"timed out":"failed"} (error; no more retries left)`,q0({retryOfRequestLogID:r,url:h,durationMs:T-b,message:w.message})),F?new zM:new p5({cause:w})}const L=`[${g}${m}] ${f.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${T-b}ms`;if(!w.ok){const R=await this.shouldRetry(w);if(t&&R){const O=`retrying, ${t} attempts remaining`;return await zW(w.body),eo(this).info(`${L} - ${O}`),eo(this).debug(`[${g}] response error (${O})`,q0({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-b})),this.retryRequest(o,t,r??g,w.headers)}const F=R?"error; no more retries left":"error; not retryable";eo(this).info(`${L} - ${F}`);const z=await w.text().catch(O=>pT(O).message),q=MW(z),P=q?void 0:z;throw eo(this).debug(`[${g}] response error (${F})`,q0({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:P,durationMs:Date.now()-b})),this.makeStatusError(w.status,q,P,w.headers)}return eo(this).info(L),eo(this).debug(`[${g}] response start`,q0({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:T-b})),{response:w,options:o,controller:_,requestLogID:g,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,t,r,i){const s=t||{},{signal:a,method:o}=s,c=gw(s,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,i){var s;let a;const o=i==null?void 0:i.get("retry-after-ms");if(o){const f=parseFloat(o);Number.isNaN(f)||(a=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,f)}return await FW(a),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,i,s;const a=Object.assign({},e),{method:o,path:c,query:f,defaultBaseURL:h}=a,p=this.buildURL(c,f,h);"timeout"in a&&IW("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:m}=this.buildBody({options:a}),b=await this.buildHeaders({options:e,method:o,bodyHeaders:g,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:b},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let o=ax([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),BW()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=ax([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:HW(e)}:this.encoder({body:e,headers:r})}}g5.DEFAULT_TIMEOUT=6e4;class Xs extends g5{constructor(){super(...arguments),this.interactions=new rF(this)}}sF=Xs;Xs.GeminiNextGenAPIClient=sF;Xs.GeminiNextGenAPIClientError=sc;Xs.APIError=oo;Xs.APIConnectionError=p5;Xs.APIConnectionTimeoutError=zM;Xs.APIUserAbortError=mT;Xs.NotFoundError=VM;Xs.ConflictError=WM;Xs.RateLimitError=YM;Xs.BadRequestError=jM;Xs.AuthenticationError=GM;Xs.InternalServerError=$M;Xs.PermissionDeniedError=qM;Xs.UnprocessableEntityError=XM;Xs.toFile=XW;Xs.Interactions=rF;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aX(n,e){const t={},r=y(n,["name"]);return r!=null&&S(t,["_url","name"],r),t}function oX(n,e){const t={},r=y(n,["name"]);return r!=null&&S(t,["_url","name"],r),t}function lX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&S(t,["sdkHttpResponse"],r),t}function cX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&S(t,["sdkHttpResponse"],r),t}function uX(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&S(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&S(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const c=y(n,["learningRate"]);if(e!==void 0&&c!=null&&S(e,["tuningTask","hyperparameters","learningRate"],c),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function fX(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=y(n,["validationDataset"]);e!==void 0&&m!=null&&S(e,["supervisedTuningSpec"],B6(m))}else if(i==="PREFERENCE_TUNING"){const m=y(n,["validationDataset"]);e!==void 0&&m!=null&&S(e,["preferenceOptimizationSpec"],B6(m))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&S(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&S(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=y(n,["epochCount"]);e!==void 0&&m!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(o==="PREFERENCE_TUNING"){const m=y(n,["epochCount"]);e!==void 0&&m!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=y(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=y(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=y(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let f=y(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=y(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(f==="PREFERENCE_TUNING"){const m=y(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&S(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let h=y(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const m=y(n,["adapterSize"]);e!==void 0&&m!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(h==="PREFERENCE_TUNING"){const m=y(n,["adapterSize"]);e!==void 0&&m!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(n,["labels"]);e!==void 0&&p!=null&&S(e,["labels"],p);const g=y(n,["beta"]);return e!==void 0&&g!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function hX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&S(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&S(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&AX(s);const a=y(n,["config"]);return a!=null&&uX(a,t),t}function dX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&S(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&S(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&SX(s,t,e);const a=y(n,["config"]);return a!=null&&fX(a,t,e),t}function pX(n,e){const t={},r=y(n,["name"]);return r!=null&&S(t,["_url","name"],r),t}function mX(n,e){const t={},r=y(n,["name"]);return r!=null&&S(t,["_url","name"],r),t}function gX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&S(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&S(e,["_query","filter"],a),r}function vX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&S(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&S(e,["_query","filter"],a),r}function xX(n,e){const t={},r=y(n,["config"]);return r!=null&&gX(r,t),t}function yX(n,e){const t={},r=y(n,["config"]);return r!=null&&vX(r,t),t}function bX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&S(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&S(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>aF(o))),S(t,["tuningJobs"],a)}return t}function _X(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&S(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&S(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>xT(o))),S(t,["tuningJobs"],a)}return t}function wX(n,e){const t={},r=y(n,["name"]);r!=null&&S(t,["model"],r);const i=y(n,["name"]);return i!=null&&S(t,["endpoint"],i),t}function AX(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),S(t,["examples","examples"],i)}return t}function SX(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function aF(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&S(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&S(t,["name"],i);const s=y(n,["state"]);s!=null&&S(t,["state"],wM(s));const a=y(n,["createTime"]);a!=null&&S(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&S(t,["startTime"],o);const c=y(n,["tuningTask","completeTime"]);c!=null&&S(t,["endTime"],c);const f=y(n,["updateTime"]);f!=null&&S(t,["updateTime"],f);const h=y(n,["description"]);h!=null&&S(t,["description"],h);const p=y(n,["baseModel"]);p!=null&&S(t,["baseModel"],p);const g=y(n,["_self"]);return g!=null&&S(t,["tunedModel"],wX(g)),t}function xT(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&S(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&S(t,["name"],i);const s=y(n,["state"]);s!=null&&S(t,["state"],wM(s));const a=y(n,["createTime"]);a!=null&&S(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&S(t,["startTime"],o);const c=y(n,["endTime"]);c!=null&&S(t,["endTime"],c);const f=y(n,["updateTime"]);f!=null&&S(t,["updateTime"],f);const h=y(n,["error"]);h!=null&&S(t,["error"],h);const p=y(n,["description"]);p!=null&&S(t,["description"],p);const g=y(n,["baseModel"]);g!=null&&S(t,["baseModel"],g);const m=y(n,["tunedModel"]);m!=null&&S(t,["tunedModel"],m);const b=y(n,["preTunedModel"]);b!=null&&S(t,["preTunedModel"],b);const _=y(n,["supervisedTuningSpec"]);_!=null&&S(t,["supervisedTuningSpec"],_);const w=y(n,["preferenceOptimizationSpec"]);w!=null&&S(t,["preferenceOptimizationSpec"],w);const T=y(n,["tuningDataStats"]);T!=null&&S(t,["tuningDataStats"],T);const L=y(n,["encryptionSpec"]);L!=null&&S(t,["encryptionSpec"],L);const R=y(n,["partnerModelTuningSpec"]);R!=null&&S(t,["partnerModelTuningSpec"],R);const F=y(n,["customBaseModel"]);F!=null&&S(t,["customBaseModel"],F);const z=y(n,["experiment"]);z!=null&&S(t,["experiment"],z);const q=y(n,["labels"]);q!=null&&S(t,["labels"],q);const P=y(n,["outputUri"]);P!=null&&S(t,["outputUri"],P);const X=y(n,["pipelineJob"]);X!=null&&S(t,["pipelineJob"],X);const O=y(n,["serviceAccount"]);O!=null&&S(t,["serviceAccount"],O);const ee=y(n,["tunedModelDisplayName"]);ee!=null&&S(t,["tunedModelDisplayName"],ee);const B=y(n,["veoTuningSpec"]);return B!=null&&S(t,["veoTuningSpec"],B),t}function EX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&S(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&S(t,["name"],i);const s=y(n,["metadata"]);s!=null&&S(t,["metadata"],s);const a=y(n,["done"]);a!=null&&S(t,["done"],a);const o=y(n,["error"]);return o!=null&&S(t,["error"],o),t}function B6(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&S(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&S(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TX extends Nh{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new _m(Eh.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:sT.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=mX(e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>xT(h))}else{const f=pX(e);return o=It("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>aF(h))}}async listInternal(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=yX(e);return o=It("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=_X(h),g=new u6;return Object.assign(g,p),g})}else{const f=xX(e);return o=It("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=bX(h),g=new u6;return Object.assign(g,p),g})}}async cancel(e){var t,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=oX(e);return o=It("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=cX(h),g=new f6;return Object.assign(g,p),g})}else{const f=aX(e);return o=It("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=lX(h),g=new f6;return Object.assign(g,p),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=dX(e,e);return s=It("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>xT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hX(e);return s=It("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>EX(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CX{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kX=1024*1024*8,NX=3,RX=1e3,LX=2,xw="x-goog-upload-status";async function IX(n,e,t){var r;const i=await oF(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xw])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function MX(n,e,t){var r;const i=await oF(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xw])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=gM(s),o=new o4;return Object.assign(o,a),o}async function oF(n,e,t){var r,i;let s=0,a=0,o=new oT(new Response),c="upload";for(s=n.size;a<s;){const f=Math.min(kX,s-a),h=n.slice(a,a+f);a+f>=s&&(c+=", finalize");let p=0,g=RX;for(;p<NX&&(o=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[xw]));)p++,await DX(g),g=g*LX;if(a+=f,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[xw])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function FX(n){return{size:n.size,type:n.type}}function DX(n){return new Promise(e=>setTimeout(e,n))}class PX{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IX(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MX(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FX(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OX{create(e,t,r){return new BX(e,t,r)}}class BX{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U6="x-goog-api-key";class UX{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(U6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(U6,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HX="gl-node/";class zX{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Xs({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=FH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new UX(this.apiKey);this.apiClient=new FV({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HX+"web",uploader:new PX,downloader:new CX}),this.models=new QV(this.apiClient),this.live=new XV(this.apiClient,i,new OX),this.batches=new cj(this.apiClient),this.chats=new qj(this.models,this.apiClient),this.caches=new zj(this.apiClient),this.files=new eG(this.apiClient),this.operations=new eW(this.apiClient),this.authTokens=new gW(this.apiClient),this.tunings=new TX(this.apiClient),this.fileSearchStores=new SW(this.apiClient)}}const jX=new zX({apiKey:"PLACEHOLDER_API_KEY"}),GX=async(n,e,t,r)=>{const i=r==="es"?"Spanish (Latin America)":"English",s=`
    Refine the following email draft.
    Target Language: ${i}
    Tone: ${t.tone}
    Current Subject: ${n}
    Current Body: ${e}

    Instructions:
    - Respond in ${i}.
    - If the tone is professional, use formal structures (e.g., 'Usted' in Spanish if appropriate).
    - Provide the output in JSON format with "subject" and "body" fields.
    - Improve flow, grammar, and style while maintaining the core message.
  `;try{const a=await jX.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{responseMimeType:"application/json",responseSchema:{type:Jc.OBJECT,properties:{subject:{type:Jc.STRING},body:{type:Jc.STRING}},required:["subject","body"]}}}),o=JSON.parse(a.text||"{}");return{subject:o.subject||n,body:o.body||e}}catch(a){return console.error("Gemini refinement failed:",a),{subject:n,body:e}}},qX="modulepreload",VX=function(n){return"/"+n},H6={},nS=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(f=>{if(f=VX(f),f in H6)return;H6[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":qX,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Fr(n){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(n)}var au=Uint8Array,_l=Uint16Array,m4=Int32Array,g4=new au([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v4=new au([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z6=new au([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lF=function(n,e){for(var t=new _l(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new m4(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},cF=lF(g4,2),WX=cF.b,yT=cF.r;WX[28]=258,yT[258]=28;var XX=lF(v4,0),j6=XX.r,bT=new _l(32768);for(var ai=0;ai<32768;++ai){var pd=(ai&43690)>>1|(ai&21845)<<1;pd=(pd&52428)>>2|(pd&13107)<<2,pd=(pd&61680)>>4|(pd&3855)<<4,bT[ai]=((pd&65280)>>8|(pd&255)<<8)>>1}var Fx=(function(n,e,t){for(var r=n.length,i=0,s=new _l(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new _l(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new _l(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],h=e-n[i],p=a[n[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[bT[p]>>c]=f}else for(o=new _l(r),i=0;i<r;++i)n[i]&&(o[i]=bT[a[n[i]-1]++]>>15-n[i]);return o}),fm=new au(288);for(var ai=0;ai<144;++ai)fm[ai]=8;for(var ai=144;ai<256;++ai)fm[ai]=9;for(var ai=256;ai<280;++ai)fm[ai]=7;for(var ai=280;ai<288;++ai)fm[ai]=8;var yw=new au(32);for(var ai=0;ai<32;++ai)yw[ai]=5;var YX=Fx(fm,9,0),$X=Fx(yw,5,0),uF=function(n){return(n+7)/8|0},KX=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new au(n.subarray(e,t))},Of=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},ox=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},rS=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:hF,l:0};if(i==1){var a=new au(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(z,q){return z.f-q.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],f=0,h=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=t[t[f].f<t[p].f?f++:p++],c=t[f!=h&&t[f].f<t[p].f?f++:p++],t[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new _l(g+1),b=_T(t[h-1],m,0);if(b>e){var r=0,_=0,w=b-e,T=1<<w;for(s.sort(function(q,P){return m[P.s]-m[q.s]||q.f-P.f});r<i;++r){var L=s[r].s;if(m[L]>e)_+=T-(1<<b-m[L]),m[L]=e;else break}for(_>>=w;_>0;){var R=s[r].s;m[R]<e?_-=1<<e-m[R]++-1:++r}for(;r>=0&&_;--r){var F=s[r].s;m[F]==e&&(--m[F],++_)}b=e}return{t:new au(m),l:b}},_T=function(n,e,t){return n.s==-1?Math.max(_T(n.l,e,t+1),_T(n.r,e,t+1)):e[n.s]=t},G6=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new _l(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},lx=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},fF=function(n,e,t){var r=t.length,i=uF(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},q6=function(n,e,t,r,i,s,a,o,c,f,h){Of(e,h++,t),++i[256];for(var p=rS(i,15),g=p.t,m=p.l,b=rS(s,15),_=b.t,w=b.l,T=G6(g),L=T.c,R=T.n,F=G6(_),z=F.c,q=F.n,P=new _l(19),X=0;X<L.length;++X)++P[L[X]&31];for(var X=0;X<z.length;++X)++P[z[X]&31];for(var O=rS(P,7),ee=O.t,B=O.l,G=19;G>4&&!ee[z6[G-1]];--G);var Q=f+5<<3,ce=lx(i,fm)+lx(s,yw)+a,_e=lx(i,g)+lx(s,_)+a+14+3*G+lx(P,ee)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&Q<=ce&&Q<=_e)return fF(e,h,n.subarray(c,c+f));var K,le,Se,ve;if(Of(e,h,1+(_e<ce)),h+=2,_e<ce){K=Fx(g,m,0),le=g,Se=Fx(_,w,0),ve=_;var Pe=Fx(ee,B,0);Of(e,h,R-257),Of(e,h+5,q-1),Of(e,h+10,G-4),h+=14;for(var X=0;X<G;++X)Of(e,h+3*X,ee[z6[X]]);h+=3*G;for(var ie=[L,z],I=0;I<2;++I)for(var j=ie[I],X=0;X<j.length;++X){var U=j[X]&31;Of(e,h,Pe[U]),h+=ee[U],U>15&&(Of(e,h,j[X]>>5&127),h+=j[X]>>12)}}else K=YX,le=fm,Se=$X,ve=yw;for(var X=0;X<o;++X){var Y=r[X];if(Y>255){var U=Y>>18&31;ox(e,h,K[U+257]),h+=le[U+257],U>7&&(Of(e,h,Y>>23&31),h+=g4[U]);var ae=Y&31;ox(e,h,Se[ae]),h+=ve[ae],ae>3&&(ox(e,h,Y>>5&8191),h+=v4[ae])}else ox(e,h,K[Y]),h+=le[Y]}return ox(e,h,K[256]),h+le[256]},JX=new m4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hF=new au(0),ZX=function(n,e,t,r,i,s){var a=s.z||n.length,o=new au(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var p=JX[e-1],g=p>>13,m=p&8191,b=(1<<t)-1,_=s.p||new _l(32768),w=s.h||new _l(b+1),T=Math.ceil(t/3),L=2*T,R=function(it){return(n[it]^n[it+1]<<T^n[it+2]<<L)&b},F=new m4(25e3),z=new _l(288),q=new _l(32),P=0,X=0,O=s.i||0,ee=0,B=s.w||0,G=0;O+2<a;++O){var Q=R(O),ce=O&32767,_e=w[Q];if(_[ce]=_e,w[Q]=ce,B<=O){var K=a-O;if((P>7e3||ee>24576)&&(K>423||!f)){h=q6(n,c,0,F,z,q,X,ee,G,O-G,h),ee=P=X=0,G=O;for(var le=0;le<286;++le)z[le]=0;for(var le=0;le<30;++le)q[le]=0}var Se=2,ve=0,Pe=m,ie=ce-_e&32767;if(K>2&&Q==R(O-ie))for(var I=Math.min(g,K)-1,j=Math.min(32767,O),U=Math.min(258,K);ie<=j&&--Pe&&ce!=_e;){if(n[O+Se]==n[O+Se-ie]){for(var Y=0;Y<U&&n[O+Y]==n[O+Y-ie];++Y);if(Y>Se){if(Se=Y,ve=ie,Y>I)break;for(var ae=Math.min(ie,Y-2),ye=0,le=0;le<ae;++le){var me=O-ie+le&32767,fe=_[me],Te=me-fe&32767;Te>ye&&(ye=Te,_e=me)}}}ce=_e,_e=_[ce],ie+=ce-_e&32767}if(ve){F[ee++]=268435456|yT[Se]<<18|j6[ve];var Oe=yT[Se]&31,ue=j6[ve]&31;X+=g4[Oe]+v4[ue],++z[257+Oe],++q[ue],B=O+Se,++P}else F[ee++]=n[O],++z[n[O]]}}for(O=Math.max(O,B);O<a;++O)F[ee++]=n[O],++z[n[O]];h=q6(n,c,f,F,z,q,X,ee,G,O-G,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=w,s.p=_,s.i=O,s.w=B)}else{for(var O=s.w||0;O<a+f;O+=65535){var nt=O+65535;nt>=a&&(c[h/8|0]=f,nt=a),h=fF(c,h+1,n.subarray(O,nt))}s.i=a}return KX(o,0,r+uF(h)+i)},dF=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},QX=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new au(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return ZX(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},pF=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},eY=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=dF();i.p(e.dictionary),pF(n,2,i.d())}};function wT(n,e){e||(e={});var t=dF();t.p(n);var r=QX(n,e,e.dictionary?6:2,4);return eY(r,e),pF(r,r.length-4,t.d()),r}var tY=typeof TextDecoder<"u"&&new TextDecoder,nY=0;try{tY.decode(hF,{stream:!0}),nY=1}catch{}function rY(n){if(Array.isArray(n))return n}function iY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],c=!0,f=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(f)throw i}}return o}}function V6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function sY(n,e){if(n){if(typeof n=="string")return V6(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V6(n,e):void 0}}function aY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6(n,e){return rY(n)||iY(n,e)||sY(n,e)||aY()}function X6(n,e="utf8"){return new TextDecoder(e).decode(n)}const oY=new TextEncoder;function lY(n){return oY.encode(n)}const cY=1024*8,uY=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),iS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class x4{constructor(e=cY,t={}){Ct(this,"buffer");Ct(this,"byteLength");Ct(this,"byteOffset");Ct(this,"length");Ct(this,"offset");Ct(this,"lastWrittenByte");Ct(this,"littleEndian");Ct(this,"_data");Ct(this,"_mark");Ct(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof x4)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=iS[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===uY&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new iS[t](o.buffer);return this.offset+=r,c.reverse(),c}const a=new iS[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return X6(this.readBytes(e))}decodeText(e=1,t="utf8"){return X6(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(lY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function dv(n){let e=n.length;for(;--e>=0;)n[e]=0}const fY=3,hY=258,mF=29,dY=256,pY=dY+1+mF,gF=30,mY=512,gY=new Array((pY+2)*2);dv(gY);const vY=new Array(gF*2);dv(vY);const xY=new Array(mY);dv(xY);const yY=new Array(hY-fY+1);dv(yY);const bY=new Array(mF);dv(bY);const _Y=new Array(gF);dv(_Y);const wY=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var AT=wY;const AY=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},SY=new Uint32Array(AY()),EY=(n,e,t,r)=>{const i=SY,s=r+t;n^=-1;for(let a=r;a<s;a++)n=n>>>8^i[(n^e[a])&255];return n^-1};var Iu=EY,ST={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const TY=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var CY=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)TY(t,r)&&(n[r]=t[r])}}return n},kY=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let a=n[r];t.set(a,i),i+=a.length}return t},xF={assign:CY,flattenChunks:kY};let yF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yF=!1}const Jx=new Uint8Array(256);for(let n=0;n<256;n++)Jx[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Jx[254]=Jx[254]=1;var NY=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,a=n.length,o=0;for(i=0;i<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<a&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const RY=(n,e)=>{if(e<65534&&n.subarray&&yF)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var LY=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let a=n[r++];if(a<128){s[i++]=a;continue}let o=Jx[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|n[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return RY(s,i)},IY=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Jx[n[t]]>e?t:e},ET={string2buf:NY,buf2string:LY,utf8border:IY};function MY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FY=MY;const Zb=16209,DY=16191;var PY=function(e,t){let r,i,s,a,o,c,f,h,p,g,m,b,_,w,T,L,R,F,z,q,P,X,O,ee;const B=e.state;r=e.next_in,O=e.input,i=r+(e.avail_in-5),s=e.next_out,ee=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=B.dmax,f=B.wsize,h=B.whave,p=B.wnext,g=B.window,m=B.hold,b=B.bits,_=B.lencode,w=B.distcode,T=(1<<B.lenbits)-1,L=(1<<B.distbits)-1;e:do{b<15&&(m+=O[r++]<<b,b+=8,m+=O[r++]<<b,b+=8),R=_[m&T];t:for(;;){if(F=R>>>24,m>>>=F,b-=F,F=R>>>16&255,F===0)ee[s++]=R&65535;else if(F&16){z=R&65535,F&=15,F&&(b<F&&(m+=O[r++]<<b,b+=8),z+=m&(1<<F)-1,m>>>=F,b-=F),b<15&&(m+=O[r++]<<b,b+=8,m+=O[r++]<<b,b+=8),R=w[m&L];n:for(;;){if(F=R>>>24,m>>>=F,b-=F,F=R>>>16&255,F&16){if(q=R&65535,F&=15,b<F&&(m+=O[r++]<<b,b+=8,b<F&&(m+=O[r++]<<b,b+=8)),q+=m&(1<<F)-1,q>c){e.msg="invalid distance too far back",B.mode=Zb;break e}if(m>>>=F,b-=F,F=s-a,q>F){if(F=q-F,F>h&&B.sane){e.msg="invalid distance too far back",B.mode=Zb;break e}if(P=0,X=g,p===0){if(P+=f-F,F<z){z-=F;do ee[s++]=g[P++];while(--F);P=s-q,X=ee}}else if(p<F){if(P+=f+p-F,F-=p,F<z){z-=F;do ee[s++]=g[P++];while(--F);if(P=0,p<z){F=p,z-=F;do ee[s++]=g[P++];while(--F);P=s-q,X=ee}}}else if(P+=p-F,F<z){z-=F;do ee[s++]=g[P++];while(--F);P=s-q,X=ee}for(;z>2;)ee[s++]=X[P++],ee[s++]=X[P++],ee[s++]=X[P++],z-=3;z&&(ee[s++]=X[P++],z>1&&(ee[s++]=X[P++]))}else{P=s-q;do ee[s++]=ee[P++],ee[s++]=ee[P++],ee[s++]=ee[P++],z-=3;while(z>2);z&&(ee[s++]=ee[P++],z>1&&(ee[s++]=ee[P++]))}}else if((F&64)===0){R=w[(R&65535)+(m&(1<<F)-1)];continue n}else{e.msg="invalid distance code",B.mode=Zb;break e}break}}else if((F&64)===0){R=_[(R&65535)+(m&(1<<F)-1)];continue t}else if(F&32){B.mode=DY;break e}else{e.msg="invalid literal/length code",B.mode=Zb;break e}break}}while(r<i&&s<o);z=b>>3,r-=z,b-=z<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),B.hold=m,B.bits=b};const yg=15,Y6=852,$6=592,K6=0,sS=1,J6=2,OY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),HY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zY=(n,e,t,r,i,s,a,o)=>{const c=o.bits;let f=0,h=0,p=0,g=0,m=0,b=0,_=0,w=0,T=0,L=0,R,F,z,q,P,X=null,O;const ee=new Uint16Array(yg+1),B=new Uint16Array(yg+1);let G=null,Q,ce,_e;for(f=0;f<=yg;f++)ee[f]=0;for(h=0;h<r;h++)ee[e[t+h]]++;for(m=c,g=yg;g>=1&&ee[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&ee[p]===0;p++);for(m<p&&(m=p),w=1,f=1;f<=yg;f++)if(w<<=1,w-=ee[f],w<0)return-1;if(w>0&&(n===K6||g!==1))return-1;for(B[1]=0,f=1;f<yg;f++)B[f+1]=B[f]+ee[f];for(h=0;h<r;h++)e[t+h]!==0&&(a[B[e[t+h]]++]=h);if(n===K6?(X=G=a,O=20):n===sS?(X=OY,G=BY,O=257):(X=UY,G=HY,O=0),L=0,h=0,f=p,P=s,b=m,_=0,z=-1,T=1<<m,q=T-1,n===sS&&T>Y6||n===J6&&T>$6)return 1;for(;;){Q=f-_,a[h]+1<O?(ce=0,_e=a[h]):a[h]>=O?(ce=G[a[h]-O],_e=X[a[h]-O]):(ce=96,_e=0),R=1<<f-_,F=1<<b,p=F;do F-=R,i[P+(L>>_)+F]=Q<<24|ce<<16|_e|0;while(F!==0);for(R=1<<f-1;L&R;)R>>=1;if(R!==0?(L&=R-1,L+=R):L=0,h++,--ee[f]===0){if(f===g)break;f=e[t+a[h]]}if(f>m&&(L&q)!==z){for(_===0&&(_=m),P+=p,b=f-_,w=1<<b;b+_<g&&(w-=ee[b+_],!(w<=0));)b++,w<<=1;if(T+=1<<b,n===sS&&T>Y6||n===J6&&T>$6)return 1;z=L&q,i[z]=m<<24|b<<16|P-s|0}}return L!==0&&(i[P+L]=f-_<<24|64<<16|0),o.bits=m,0};var Dx=zY;const jY=0,bF=1,_F=2,{Z_FINISH:Z6,Z_BLOCK:GY,Z_TREES:Qb,Z_OK:hm,Z_STREAM_END:qY,Z_NEED_DICT:VY,Z_STREAM_ERROR:ac,Z_DATA_ERROR:wF,Z_MEM_ERROR:AF,Z_BUF_ERROR:WY,Z_DEFLATED:Q6}=vF,v5=16180,e8=16181,t8=16182,n8=16183,r8=16184,i8=16185,s8=16186,a8=16187,o8=16188,l8=16189,bw=16190,Bf=16191,aS=16192,c8=16193,oS=16194,u8=16195,f8=16196,h8=16197,d8=16198,e_=16199,t_=16200,p8=16201,m8=16202,g8=16203,v8=16204,x8=16205,lS=16206,y8=16207,b8=16208,pi=16209,SF=16210,EF=16211,XY=852,YY=592,$Y=15,KY=$Y,_8=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function JY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wm=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<v5||e.mode>EF?1:0},TF=n=>{if(wm(n))return ac;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=v5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(XY),e.distcode=e.distdyn=new Int32Array(YY),e.sane=1,e.back=-1,hm},CF=n=>{if(wm(n))return ac;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,TF(n)},kF=(n,e)=>{let t;if(wm(n))return ac;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ac:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,CF(n))},NF=(n,e)=>{if(!n)return ac;const t=new JY;n.state=t,t.strm=n,t.window=null,t.mode=v5;const r=kF(n,e);return r!==hm&&(n.state=null),r},ZY=n=>NF(n,KY);let w8=!0,cS,uS;const QY=n=>{if(w8){cS=new Int32Array(512),uS=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Dx(bF,n.lens,0,288,cS,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Dx(_F,n.lens,0,32,uS,0,n.work,{bits:5}),w8=!1}n.lencode=cS,n.lenbits=9,n.distcode=uS,n.distbits=5},RF=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},e$=(n,e)=>{let t,r,i,s,a,o,c,f,h,p,g,m,b,_,w=0,T,L,R,F,z,q,P,X;const O=new Uint8Array(4);let ee,B;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wm(n)||!n.output||!n.input&&n.avail_in!==0)return ac;t=n.state,t.mode===Bf&&(t.mode=aS),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,f=t.hold,h=t.bits,p=o,g=c,X=hm;e:for(;;)switch(t.mode){case v5:if(t.wrap===0){t.mode=aS;break}for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=f&255,O[1]=f>>>8&255,t.check=Iu(t.check,O,2,0),f=0,h=0,t.mode=e8;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=pi;break}if((f&15)!==Q6){n.msg="unknown compression method",t.mode=pi;break}if(f>>>=4,h-=4,P=(f&15)+8,t.wbits===0&&(t.wbits=P),P>15||P>t.wbits){n.msg="invalid window size",t.mode=pi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?l8:Bf,f=0,h=0;break;case e8:for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(t.flags=f,(t.flags&255)!==Q6){n.msg="unknown compression method",t.mode=pi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=pi;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Iu(t.check,O,2,0)),f=0,h=0,t.mode=t8;case t8:for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,O[2]=f>>>16&255,O[3]=f>>>24&255,t.check=Iu(t.check,O,4,0)),f=0,h=0,t.mode=n8;case n8:for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Iu(t.check,O,2,0)),f=0,h=0,t.mode=r8;case r8:if(t.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Iu(t.check,O,2,0)),f=0,h=0}else t.head&&(t.head.extra=null);t.mode=i8;case i8:if(t.flags&1024&&(m=t.length,m>o&&(m=o),m&&(t.head&&(P=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+m),P)),t.flags&512&&t.wrap&4&&(t.check=Iu(t.check,r,m,s)),o-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=s8;case s8:if(t.flags&2048){if(o===0)break e;m=0;do P=r[s+m++],t.head&&P&&t.length<65536&&(t.head.name+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Iu(t.check,r,m,s)),o-=m,s+=m,P)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=a8;case a8:if(t.flags&4096){if(o===0)break e;m=0;do P=r[s+m++],t.head&&P&&t.length<65536&&(t.head.comment+=String.fromCharCode(P));while(P&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Iu(t.check,r,m,s)),o-=m,s+=m,P)break e}else t.head&&(t.head.comment=null);t.mode=o8;case o8:if(t.flags&512){for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=pi;break}f=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Bf;break;case l8:for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.adler=t.check=_8(f),f=0,h=0,t.mode=bw;case bw:if(t.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=h,VY;n.adler=t.check=1,t.mode=Bf;case Bf:if(e===GY||e===Qb)break e;case aS:if(t.last){f>>>=h&7,h-=h&7,t.mode=lS;break}for(;h<3;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}switch(t.last=f&1,f>>>=1,h-=1,f&3){case 0:t.mode=c8;break;case 1:if(QY(t),t.mode=e_,e===Qb){f>>>=2,h-=2;break e}break;case 2:t.mode=f8;break;case 3:n.msg="invalid block type",t.mode=pi}f>>>=2,h-=2;break;case c8:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=pi;break}if(t.length=f&65535,f=0,h=0,t.mode=oS,e===Qb)break e;case oS:t.mode=u8;case u8:if(m=t.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;i.set(r.subarray(s,s+m),a),o-=m,s+=m,c-=m,a+=m,t.length-=m;break}t.mode=Bf;break;case f8:for(;h<14;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(t.nlen=(f&31)+257,f>>>=5,h-=5,t.ndist=(f&31)+1,f>>>=5,h-=5,t.ncode=(f&15)+4,f>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=pi;break}t.have=0,t.mode=h8;case h8:for(;t.have<t.ncode;){for(;h<3;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.lens[G[t.have++]]=f&7,f>>>=3,h-=3}for(;t.have<19;)t.lens[G[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ee={bits:t.lenbits},X=Dx(jY,t.lens,0,19,t.lencode,0,t.work,ee),t.lenbits=ee.bits,X){n.msg="invalid code lengths set",t.mode=pi;break}t.have=0,t.mode=d8;case d8:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[f&(1<<t.lenbits)-1],T=w>>>24,L=w>>>16&255,R=w&65535,!(T<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(R<16)f>>>=T,h-=T,t.lens[t.have++]=R;else{if(R===16){for(B=T+2;h<B;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(f>>>=T,h-=T,t.have===0){n.msg="invalid bit length repeat",t.mode=pi;break}P=t.lens[t.have-1],m=3+(f&3),f>>>=2,h-=2}else if(R===17){for(B=T+3;h<B;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=T,h-=T,P=0,m=3+(f&7),f>>>=3,h-=3}else{for(B=T+7;h<B;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=T,h-=T,P=0,m=11+(f&127),f>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=pi;break}for(;m--;)t.lens[t.have++]=P}}if(t.mode===pi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=pi;break}if(t.lenbits=9,ee={bits:t.lenbits},X=Dx(bF,t.lens,0,t.nlen,t.lencode,0,t.work,ee),t.lenbits=ee.bits,X){n.msg="invalid literal/lengths set",t.mode=pi;break}if(t.distbits=6,t.distcode=t.distdyn,ee={bits:t.distbits},X=Dx(_F,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ee),t.distbits=ee.bits,X){n.msg="invalid distances set",t.mode=pi;break}if(t.mode=e_,e===Qb)break e;case e_:t.mode=t_;case t_:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=h,PY(n,g),a=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,f=t.hold,h=t.bits,t.mode===Bf&&(t.back=-1);break}for(t.back=0;w=t.lencode[f&(1<<t.lenbits)-1],T=w>>>24,L=w>>>16&255,R=w&65535,!(T<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(L&&(L&240)===0){for(F=T,z=L,q=R;w=t.lencode[q+((f&(1<<F+z)-1)>>F)],T=w>>>24,L=w>>>16&255,R=w&65535,!(F+T<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=F,h-=F,t.back+=F}if(f>>>=T,h-=T,t.back+=T,t.length=R,L===0){t.mode=x8;break}if(L&32){t.back=-1,t.mode=Bf;break}if(L&64){n.msg="invalid literal/length code",t.mode=pi;break}t.extra=L&15,t.mode=p8;case p8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=m8;case m8:for(;w=t.distcode[f&(1<<t.distbits)-1],T=w>>>24,L=w>>>16&255,R=w&65535,!(T<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if((L&240)===0){for(F=T,z=L,q=R;w=t.distcode[q+((f&(1<<F+z)-1)>>F)],T=w>>>24,L=w>>>16&255,R=w&65535,!(F+T<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=F,h-=F,t.back+=F}if(f>>>=T,h-=T,t.back+=T,L&64){n.msg="invalid distance code",t.mode=pi;break}t.offset=R,t.extra=L&15,t.mode=g8;case g8:if(t.extra){for(B=t.extra;h<B;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=pi;break}t.mode=v8;case v8:if(c===0)break e;if(m=g-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=pi;break}m>t.wnext?(m-=t.wnext,b=t.wsize-m):b=t.wnext-m,m>t.length&&(m=t.length),_=t.window}else _=i,b=a-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[a++]=_[b++];while(--m);t.length===0&&(t.mode=t_);break;case x8:if(c===0)break e;i[a++]=t.length,c--,t.mode=t_;break;case lS:if(t.wrap){for(;h<32;){if(o===0)break e;o--,f|=r[s++]<<h,h+=8}if(g-=c,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Iu(t.check,i,g,a-g):AT(t.check,i,g,a-g)),g=c,t.wrap&4&&(t.flags?f:_8(f))!==t.check){n.msg="incorrect data check",t.mode=pi;break}f=0,h=0}t.mode=y8;case y8:if(t.wrap&&t.flags){for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=pi;break}f=0,h=0}t.mode=b8;case b8:X=qY;break e;case pi:X=wF;break e;case SF:return AF;case EF:default:return ac}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=h,(t.wsize||g!==n.avail_out&&t.mode<pi&&(t.mode<lS||e!==Z6))&&RF(n,n.output,n.next_out,g-n.avail_out),p-=n.avail_in,g-=n.avail_out,n.total_in+=p,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Iu(t.check,i,g,n.next_out-g):AT(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Bf?128:0)+(t.mode===e_||t.mode===oS?256:0),(p===0&&g===0||e===Z6)&&X===hm&&(X=WY),X},t$=n=>{if(wm(n))return ac;let e=n.state;return e.window&&(e.window=null),n.state=null,hm},n$=(n,e)=>{if(wm(n))return ac;const t=n.state;return(t.wrap&2)===0?ac:(t.head=e,e.done=!1,hm)},r$=(n,e)=>{const t=e.length;let r,i,s;return wm(n)||(r=n.state,r.wrap!==0&&r.mode!==bw)?ac:r.mode===bw&&(i=1,i=AT(i,e,t,0),i!==r.check)?wF:(s=RF(n,e,t,t),s?(r.mode=SF,AF):(r.havedict=1,hm))};var i$=CF,s$=kF,a$=TF,o$=ZY,l$=NF,c$=e$,u$=t$,f$=n$,h$=r$,d$="pako inflate (from Nodeca project)",qf={inflateReset:i$,inflateReset2:s$,inflateResetKeep:a$,inflateInit:o$,inflateInit2:l$,inflate:c$,inflateEnd:u$,inflateGetHeader:f$,inflateSetDictionary:h$,inflateInfo:d$};function p$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var m$=p$;const LF=Object.prototype.toString,{Z_NO_FLUSH:g$,Z_FINISH:v$,Z_OK:Zx,Z_STREAM_END:fS,Z_NEED_DICT:hS,Z_STREAM_ERROR:x$,Z_DATA_ERROR:A8,Z_MEM_ERROR:y$}=vF;function jy(n){this.options=xF.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FY,this.strm.avail_out=0;let t=qf.inflateInit2(this.strm,e.windowBits);if(t!==Zx)throw new Error(ST[t]);if(this.header=new m$,qf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ET.string2buf(e.dictionary):LF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=qf.inflateSetDictionary(this.strm,e.dictionary),t!==Zx)))throw new Error(ST[t])}jy.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?v$:g$,LF.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=qf.inflate(t,a),s===hS&&i&&(s=qf.inflateSetDictionary(t,i),s===Zx?s=qf.inflate(t,a):s===A8&&(s=hS));t.avail_in>0&&s===fS&&t.state.wrap>0&&n[t.next_in]!==0;)qf.inflateReset(t),s=qf.inflate(t,a);switch(s){case x$:case A8:case hS:case y$:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===fS))if(this.options.to==="string"){let c=ET.utf8border(t.output,t.next_out),f=t.next_out-c,h=ET.buf2string(t.output,c);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Zx&&o===0)){if(s===fS)return s=qf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};jy.prototype.onData=function(n){this.chunks.push(n)};jy.prototype.onEnd=function(n){n===Zx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xF.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function b$(n,e){const t=new jy(e);if(t.push(n),t.err)throw t.msg||ST[t.err];return t.result}var _$=jy,w$=b$,A$={Inflate:_$,inflate:w$};const{Inflate:S$,inflate:E$}=A$;var S8=S$,T$=E$;const IF=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;IF[n]=e}const E8=4294967295;function C$(n,e,t){let r=n;for(let i=0;i<t;i++)r=IF[(r^e[i])&255]^r>>>8;return r}function k$(n,e){return(C$(E8,n,e)^E8)>>>0}function T8(n,e,t){const r=n.readUint32(),i=k$(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function MF(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function FF(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function DF(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function PF(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function OF(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+N$(e[s-i],t[s],t[s-i])&255}}function N$(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),a=Math.abs(r-t);return i<=s&&i<=a?n:s<=a?e:t}function R$(n,e,t,r,i,s){switch(n){case 0:MF(e,t,i);break;case 1:FF(e,t,i,s);break;case 2:DF(e,t,r,i);break;case 3:PF(e,t,r,i,s);break;case 4:OF(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const L$=new Uint16Array([255]),I$=new Uint8Array(L$.buffer),M$=I$[0]===255;function F$(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*t*o);let f=0;for(let h=0;h<7;h++){const p=a[h],g=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((r-p.y)/p.yStep);if(g<=0||m<=0)continue;const b=g*o,_=new Uint8Array(b);for(let w=0;w<m;w++){const T=e[f++],L=e.subarray(f,f+b);f+=b;const R=new Uint8Array(b);R$(T,L,R,_,b,o),_.set(R);for(let F=0;F<g;F++){const z=p.x+F*p.xStep,q=p.y+w*p.yStep;if(!(z>=t||q>=r))for(let P=0;P<o;P++)c[(q*t+z)*o+P]=R[F*o+P]}}}if(s===16){const h=new Uint16Array(c.buffer);if(M$)for(let p=0;p<h.length;p++)h[p]=D$(h[p]);return h}else return c}function D$(n){return(n&255)<<8|n>>8&255}const P$=new Uint16Array([255]),O$=new Uint8Array(P$.buffer),B$=O$[0]===255,U$=new Uint8Array(0);function C8(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),c=new Uint8Array(r*o);let f=U$,h=0,p,g;for(let m=0;m<r;m++){switch(p=e.subarray(h+1,h+1+o),g=c.subarray(m*o,(m+1)*o),e[h]){case 0:MF(p,g,o);break;case 1:FF(p,g,o,a);break;case 2:DF(p,g,f,o);break;case 3:PF(p,g,f,o,a);break;case 4:OF(p,g,f,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}f=g,h+=o+1}if(s===16){const m=new Uint16Array(c.buffer);if(B$)for(let b=0;b<m.length;b++)m[b]=H$(m[b]);return m}else return c}function H$(n){return(n&255)<<8|n>>8&255}const J_=Uint8Array.of(137,80,78,71,13,10,26,10);function k8(n){if(!z$(n.readBytes(J_.length)))throw new Error("wrong PNG signature")}function z$(n){if(n.length<J_.length)return!1;for(let e=0;e<J_.length;e++)if(n[e]!==J_[e])return!1;return!0}const j$="tEXt",G$=0,BF=new TextDecoder("latin1");function q$(n){if(W$(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const V$=/^[\u0000-\u00FF]*$/;function W$(n){if(!V$.test(n))throw new Error("invalid latin1 text")}function X$(n,e,t){const r=UF(e);n[r]=Y$(e,t-r.length-1)}function UF(n){for(n.mark();n.readByte()!==G$;);const e=n.offset;n.reset();const t=BF.decode(n.readBytes(e-n.offset-1));return n.skip(1),q$(t),t}function Y$(n,e){return BF.decode(n.readBytes(e))}const tl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dS={UNKNOWN:-1,DEFLATE:0},N8={UNKNOWN:-1,ADAPTIVE:0},pS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n_={NONE:0,BACKGROUND:1,PREVIOUS:2},mS={SOURCE:0,OVER:1};class $$ extends x4{constructor(t,r={}){super(t);Ct(this,"_checkCrc");Ct(this,"_inflator");Ct(this,"_png");Ct(this,"_apng");Ct(this,"_end");Ct(this,"_hasPalette");Ct(this,"_palette");Ct(this,"_hasTransparency");Ct(this,"_transparency");Ct(this,"_compressionMethod");Ct(this,"_filterMethod");Ct(this,"_interlaceMethod");Ct(this,"_colorType");Ct(this,"_isAnimated");Ct(this,"_numberOfFrames");Ct(this,"_numberOfPlays");Ct(this,"_frames");Ct(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new S8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dS.UNKNOWN,this._filterMethod=N8.UNKNOWN,this._interlaceMethod=pS.UNKNOWN,this._colorType=tl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(k8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(k8(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case j$:X$(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T8(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T8(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=K$(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case tl.GREYSCALE:i=1;break;case tl.TRUECOLOUR:i=3;break;case tl.INDEXED_COLOUR:i=1;break;case tl.GREYSCALE_ALPHA:i=2;break;case tl.TRUECOLOUR_ALPHA:i=4;break;case tl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==dS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case tl.GREYSCALE:case tl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case tl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case tl.UNKNOWN:case tl.GREYSCALE_ALPHA:case tl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=UF(this),i=this.readUint8();if(i!==dS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:T$(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=C8({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case n_.NONE:break;case n_.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case n_.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(a,o)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,f=(a*r.width+o)*this._png.channels;return{index:c,frameIndex:f}};switch(r.blendOp){case mS.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:f}=s(a,o);for(let h=0;h<this._png.channels;h++)t.data[c+h]=r.data[f+h]}break;case mS.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:f}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=r.data[f+this._png.channels-1]/i,g=h%(this._png.channels-1)===0?1:r.data[f+h],m=Math.floor(p*g+(1-p)*t.data[c+h]);t.data[c+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==N8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===pS.NO_INTERLACE)this._png.data=C8({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===pS.ADAM7)this._png.data=F$({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n_.NONE,blendOp:mS.SOURCE,data:t}),this._inflator=new S8,this._writingDataChunks=!1}}function K$(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var R8;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(R8||(R8={}));function J$(n,e){return new $$(n,e).decode()}var Sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function gS(){Sn.console&&typeof Sn.console.log=="function"&&Sn.console.log.apply(Sn.console,arguments)}var $r={log:gS,warn:function(n){Sn.console&&(typeof Sn.console.warn=="function"?Sn.console.warn.apply(Sn.console,arguments):gS.call(null,arguments))},error:function(n){Sn.console&&(typeof Sn.console.error=="function"?Sn.console.error.apply(Sn.console,arguments):gS(n))}};function vS(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){V0(r.response,e,t)},r.onerror=function(){$r.error("could not download file")},r.send()}function L8(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function r_(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var V0=Sn.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==Sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Sn.URL||Sn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?L8(i.href)?vS(n,e,t):r_(i,i.target="_blank"):r_(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){r_(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(L8(n))vS(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){r_(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Fr(s)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return vS(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Sn.HTMLElement)||Sn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(n)}else{var c=Sn.URL||Sn.webkitURL,f=c.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HF(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var Z_=Sn.atob.bind(Sn),I8=Sn.btoa.bind(Sn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xS(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=xa(t,r,i,s,e[0],7,-680876936),s=xa(s,t,r,i,e[1],12,-389564586),i=xa(i,s,t,r,e[2],17,606105819),r=xa(r,i,s,t,e[3],22,-1044525330),t=xa(t,r,i,s,e[4],7,-176418897),s=xa(s,t,r,i,e[5],12,1200080426),i=xa(i,s,t,r,e[6],17,-1473231341),r=xa(r,i,s,t,e[7],22,-45705983),t=xa(t,r,i,s,e[8],7,1770035416),s=xa(s,t,r,i,e[9],12,-1958414417),i=xa(i,s,t,r,e[10],17,-42063),r=xa(r,i,s,t,e[11],22,-1990404162),t=xa(t,r,i,s,e[12],7,1804603682),s=xa(s,t,r,i,e[13],12,-40341101),i=xa(i,s,t,r,e[14],17,-1502002290),t=ya(t,r=xa(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ya(s,t,r,i,e[6],9,-1069501632),i=ya(i,s,t,r,e[11],14,643717713),r=ya(r,i,s,t,e[0],20,-373897302),t=ya(t,r,i,s,e[5],5,-701558691),s=ya(s,t,r,i,e[10],9,38016083),i=ya(i,s,t,r,e[15],14,-660478335),r=ya(r,i,s,t,e[4],20,-405537848),t=ya(t,r,i,s,e[9],5,568446438),s=ya(s,t,r,i,e[14],9,-1019803690),i=ya(i,s,t,r,e[3],14,-187363961),r=ya(r,i,s,t,e[8],20,1163531501),t=ya(t,r,i,s,e[13],5,-1444681467),s=ya(s,t,r,i,e[2],9,-51403784),i=ya(i,s,t,r,e[7],14,1735328473),t=ba(t,r=ya(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ba(s,t,r,i,e[8],11,-2022574463),i=ba(i,s,t,r,e[11],16,1839030562),r=ba(r,i,s,t,e[14],23,-35309556),t=ba(t,r,i,s,e[1],4,-1530992060),s=ba(s,t,r,i,e[4],11,1272893353),i=ba(i,s,t,r,e[7],16,-155497632),r=ba(r,i,s,t,e[10],23,-1094730640),t=ba(t,r,i,s,e[13],4,681279174),s=ba(s,t,r,i,e[0],11,-358537222),i=ba(i,s,t,r,e[3],16,-722521979),r=ba(r,i,s,t,e[6],23,76029189),t=ba(t,r,i,s,e[9],4,-640364487),s=ba(s,t,r,i,e[12],11,-421815835),i=ba(i,s,t,r,e[15],16,530742520),t=_a(t,r=ba(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=_a(s,t,r,i,e[7],10,1126891415),i=_a(i,s,t,r,e[14],15,-1416354905),r=_a(r,i,s,t,e[5],21,-57434055),t=_a(t,r,i,s,e[12],6,1700485571),s=_a(s,t,r,i,e[3],10,-1894986606),i=_a(i,s,t,r,e[10],15,-1051523),r=_a(r,i,s,t,e[1],21,-2054922799),t=_a(t,r,i,s,e[8],6,1873313359),s=_a(s,t,r,i,e[15],10,-30611744),i=_a(i,s,t,r,e[6],15,-1560198380),r=_a(r,i,s,t,e[13],21,1309151649),t=_a(t,r,i,s,e[4],6,-145523070),s=_a(s,t,r,i,e[11],10,-1120210379),i=_a(i,s,t,r,e[2],15,718787259),r=_a(r,i,s,t,e[9],21,-343485551),n[0]=$d(t,n[0]),n[1]=$d(r,n[1]),n[2]=$d(i,n[2]),n[3]=$d(s,n[3])}function x5(n,e,t,r,i,s){return e=$d($d(e,n),$d(r,s)),$d(e<<i|e>>>32-i,t)}function xa(n,e,t,r,i,s,a){return x5(e&t|~e&r,n,e,i,s,a)}function ya(n,e,t,r,i,s,a){return x5(e&r|t&~r,n,e,i,s,a)}function ba(n,e,t,r,i,s,a){return x5(e^t^r,n,e,i,s,a)}function _a(n,e,t,r,i,s,a){return x5(t^(e|~r),n,e,i,s,a)}function zF(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)xS(r,Z$(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(xS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,xS(r,i),r}function Z$(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var M8="0123456789abcdef".split("");function Q$(n){for(var e="",t=0;t<4;t++)e+=M8[n>>8*t+4&15]+M8[n>>8*t&15];return e}function eK(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function TT(n){return zF(n).map(eK).join("")}var tK=(function(n){for(var e=0;e<n.length;e++)n[e]=Q$(n[e]);return n.join("")})(zF("hello"))!="5d41402abc4b2a76b9719d911017c592";function $d(n,e){if(tK){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function CT(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var h=o[c];f=(f+h+a.charCodeAt(c))%256,o[c]=o[f],o[f]=h}t=n,r=o}else o=r;var p=e.length,g=0,m=0,b="";for(c=0;c<p;c++)m=(m+(h=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=h,a=o[(o[g]+o[m])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F8={print:4,modify:8,copy:16,"annot-forms":32};function Mg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(F8.perm!==void 0)throw new Error("Invalid permission: "+o);i+=F8[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=TT(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=CT(this.encryptionKey,this.padding)}function Fg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function D8(n){if(Fr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){Sn.console&&$r.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _w(n){if(!(this instanceof _w))return new _w(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function jF(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function W0(n,e,t,r,i){if(!(this instanceof W0))return new W0(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,jF.call(this,r,i)}function Bg(n,e,t,r,i){if(!(this instanceof Bg))return new Bg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,jF.call(this,r,i)}function nn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,f="S",h=null;Fr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=D8;var b="1.3",_=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(M){b=M};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var T=m.__private__.getPageFormat=function(M){return w[M]};i=i||"a4";var L="compat",R="advanced",F=L;function z(){this.saveGraphicsState(),de(new tn(je,0,0,-je,0,gc()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),f="n",F=R}function q(){this.restoreGraphicsState(),f="S",F=L}var P=m.__private__.combineFontStyleAndFontWeight=function(M,J){if(M=="bold"&&J=="normal"||M=="bold"&&J==400||M=="normal"&&J=="italic"||M=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(M=J==400||J==="normal"?M==="italic"?"italic":"normal":J!=700&&J!=="bold"||M!=="normal"?(J==700?"bold":J)+""+M:"bold"),M};m.advancedAPI=function(M){var J=F===L;return J&&z.call(this),typeof M!="function"||(M(this),J&&q.call(this)),this},m.compatAPI=function(M){var J=F===R;return J&&q.call(this),typeof M!="function"||(M(this),J&&z.call(this)),this},m.isAdvancedAPI=function(){return F===R};var X,O=function(M){if(F!==R)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=m.roundToPrecision=m.__private__.roundToPrecision=function(M,J){var ke=e||J;if(isNaN(M)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ke).replace(/0+$/,"")};X=m.hpf=m.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(M,16)};var B=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return ee(M,2)},G=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return ee(M,3)},Q=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return F===L?M*je:F===R?M:void 0},ce=function(M){return Q((function(J){return F===L?gc()-J:F===R?J:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var _e,K="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return K},Se=m.__private__.setFileId=function(M){return K=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zi=new Mg(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};m.setFileId=function(M){return Se(M),this},m.getFileId=function(){return le()};var ve=m.__private__.convertDateToPDFDate=function(M){var J=M.getTimezoneOffset(),ke=J<0?"+":"-",Le=Math.floor(Math.abs(J/60)),Be=Math.abs(J%60),ct=[ke,U(Le),"'",U(Be),"'"].join("");return["D:",M.getFullYear(),U(M.getMonth()+1),U(M.getDate()),U(M.getHours()),U(M.getMinutes()),U(M.getSeconds()),ct].join("")},Pe=m.__private__.convertPDFDateToDate=function(M){var J=parseInt(M.substr(2,4),10),ke=parseInt(M.substr(6,2),10)-1,Le=parseInt(M.substr(8,2),10),Be=parseInt(M.substr(10,2),10),ct=parseInt(M.substr(12,2),10),mt=parseInt(M.substr(14,2),10);return new Date(J,ke,Le,Be,ct,mt,0)},ie=m.__private__.setCreationDate=function(M){var J;if(M===void 0&&(M=new Date),M instanceof Date)J=ve(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=M}return _e=J},I=m.__private__.getCreationDate=function(M){var J=_e;return M==="jsDate"&&(J=Pe(_e)),J};m.setCreationDate=function(M){return ie(M),this},m.getCreationDate=function(M){return I(M)};var j,U=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Y=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ae=0,ye=[],me=[],fe=0,Te=[],Oe=[],ue=!1,nt=me;m.__private__.setCustomOutputDestination=function(M){ue=!0,nt=M};var it=function(M){ue||(nt=M)};m.__private__.resetCustomOutputDestination=function(){ue=!1,nt=me};var de=m.__private__.out=function(M){return M=M.toString(),fe+=M.length+1,nt.push(M),nt},Fe=m.__private__.write=function(M){return de(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},He=m.__private__.getArrayBuffer=function(M){for(var J=M.length,ke=new ArrayBuffer(J),Le=new Uint8Array(ke);J--;)Le[J]=M.charCodeAt(J);return ke},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ht};var et=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return et=F===R?M/je:M,this};var kt,_t=m.__private__.getFontSize=m.getFontSize=function(){return F===L?et:et*je},jt=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return jt=M,this},m.__private__.getR2L=m.getR2L=function(){return jt};var Mt,Yt=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))kt=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');kt=M}else kt=parseInt(M,10)};m.__private__.getZoomMode=function(){return kt};var dn,Kt=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Mt=M};m.__private__.getPageMode=function(){return Mt};var En=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');dn=M};m.__private__.getLayoutMode=function(){return dn},m.__private__.setDisplayMode=m.setDisplayMode=function(M,J,ke){return Yt(M),En(J),Kt(ke),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(Qt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[M]},m.__private__.getDocumentProperties=function(){return Qt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var J in Qt)Qt.hasOwnProperty(J)&&M[J]&&(Qt[J]=M[J]);return this},m.__private__.setDocumentProperty=function(M,J){if(Object.keys(Qt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[M]=J};var Rt,je,ot,fn,Lt,Pt={},sn={},Hn=[],an={},yr={},hn={},gn={},br=null,Cn=0,$t=[],$n=new D8(m),Ha=n.hotfixes||[],ts={},lo={},da=[],tn=function M(J,ke,Le,Be,ct,mt){if(!(this instanceof M))return new M(J,ke,Le,Be,ct,mt);isNaN(J)&&(J=1),isNaN(ke)&&(ke=0),isNaN(Le)&&(Le=0),isNaN(Be)&&(Be=1),isNaN(ct)&&(ct=0),isNaN(mt)&&(mt=0),this._matrix=[J,ke,Le,Be,ct,mt]};Object.defineProperty(tn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(tn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(tn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(tn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(tn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(tn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(tn.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(tn.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(tn.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(tn.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(tn.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(tn.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(tn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tn.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(M)},tn.prototype.multiply=function(M){var J=M.sx*this.sx+M.shy*this.shx,ke=M.sx*this.shy+M.shy*this.sy,Le=M.shx*this.sx+M.sy*this.shx,Be=M.shx*this.shy+M.sy*this.sy,ct=M.tx*this.sx+M.ty*this.shx+this.tx,mt=M.tx*this.shy+M.ty*this.sy+this.ty;return new tn(J,ke,Le,Be,ct,mt)},tn.prototype.decompose=function(){var M=this.sx,J=this.shy,ke=this.shx,Le=this.sy,Be=this.tx,ct=this.ty,mt=Math.sqrt(M*M+J*J),Gt=(M/=mt)*ke+(J/=mt)*Le;ke-=M*Gt,Le-=J*Gt;var Jt=Math.sqrt(ke*ke+Le*Le);return Gt/=Jt,M*(Le/=Jt)<J*(ke/=Jt)&&(M=-M,J=-J,Gt=-Gt,mt=-mt),{scale:new tn(mt,0,0,Jt,0,0),translate:new tn(1,0,0,1,Be,ct),rotate:new tn(M,J,-J,M,0,0),skew:new tn(1,0,Gt,1,0,0)}},tn.prototype.toString=function(M){return this.join(" ")},tn.prototype.inversed=function(){var M=this.sx,J=this.shy,ke=this.shx,Le=this.sy,Be=this.tx,ct=this.ty,mt=1/(M*Le-J*ke),Gt=Le*mt,Jt=-J*mt,yn=-ke*mt,Nn=M*mt;return new tn(Gt,Jt,yn,Nn,-Gt*Be-yn*ct,-Jt*Be-Nn*ct)},tn.prototype.applyToPoint=function(M){var J=M.x*this.sx+M.y*this.shx+this.tx,ke=M.x*this.shy+M.y*this.sy+this.ty;return new fo(J,ke)},tn.prototype.applyToRectangle=function(M){var J=this.applyToPoint(M),ke=this.applyToPoint(new fo(M.x+M.w,M.y+M.h));return new fc(J.x,J.y,ke.x-J.x,ke.y-J.y)},tn.prototype.clone=function(){var M=this.sx,J=this.shy,ke=this.shx,Le=this.sy,Be=this.tx,ct=this.ty;return new tn(M,J,ke,Le,Be,ct)},m.Matrix=tn;var Ho=m.matrixMult=function(M,J){return J.multiply(M)},co=new tn(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=co;var ps=function(M,J){if(!yr[M]){var ke=(J instanceof W0?"Sh":"P")+(Object.keys(an).length+1).toString(10);J.id=ke,yr[M]=ke,an[ke]=J,$n.publish("addPattern",J)}};m.ShadingPattern=W0,m.TilingPattern=Bg,m.addShadingPattern=function(M,J){return O("addShadingPattern()"),ps(M,J),this},m.beginTilingPattern=function(M){O("beginTilingPattern()"),mf(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,J){O("endTilingPattern()"),J.stream=Oe[j].join(`
`),ps(M,J),$n.publish("endTilingPattern",J),da.pop().restore()};var Ys,Pr=m.__private__.newObject=function(){var M=ci();return te(M,!0),M},ci=m.__private__.newObjectDeferred=function(){return ae++,ye[ae]=function(){return fe},ae},te=function(M,J){return J=typeof J=="boolean"&&J,ye[M]=fe,J&&de(M+" 0 obj"),M},Ce=m.__private__.newAdditionalObject=function(){var M={objId:ci(),content:""};return Te.push(M),M},ge=ci(),xe=ci(),we=m.__private__.decodeColorString=function(M){var J=M.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ke=parseFloat(J[0]);J=[ke,ke,ke,"r"]}for(var Le="#",Be=0;Be<3;Be++)Le+=("0"+Math.floor(255*parseFloat(J[Be])).toString(16)).slice(-2);return Le},Ne=m.__private__.encodeColorString=function(M){var J;typeof M=="string"&&(M={ch1:M});var ke=M.ch1,Le=M.ch2,Be=M.ch3,ct=M.ch4,mt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var Gt=new HF(ke);if(Gt.ok)ke=Gt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var Jt=parseInt(ke.substr(1),16);ke=Jt>>16&255,Le=Jt>>8&255,Be=255&Jt}if(Le===void 0||ct===void 0&&ke===Le&&Le===Be)J=typeof ke=="string"?ke+" "+mt[0]:M.precision===2?B(ke/255)+" "+mt[0]:G(ke/255)+" "+mt[0];else if(ct===void 0||Fr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",mt[1]].join(" ");J=typeof ke=="string"?[ke,Le,Be,mt[1]].join(" "):M.precision===2?[B(ke/255),B(Le/255),B(Be/255),mt[1]].join(" "):[G(ke/255),G(Le/255),G(Be/255),mt[1]].join(" ")}else J=typeof ke=="string"?[ke,Le,Be,ct,mt[2]].join(" "):M.precision===2?[B(ke),B(Le),B(Be),B(ct),mt[2]].join(" "):[G(ke),G(Le),G(Be),G(ct),mt[2]].join(" ");return J},Ge=m.__private__.getFilters=function(){return a},tt=m.__private__.putStream=function(M){var J=(M=M||{}).data||"",ke=M.filters||Ge(),Le=M.alreadyAppliedFilters||[],Be=M.addLength1||!1,ct=J.length,mt=M.objectId,Gt=function(ji){return ji};if(h!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Gt=zi.encryptor(mt,0));var Jt={};ke===!0&&(ke=["FlateEncode"]);var yn=M.additionalKeyValues||[],Nn=(Jt=nn.API.processDataByFilters!==void 0?nn.API.processDataByFilters(J,ke):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(Jt.data.length!==0&&(yn.push({key:"Length",value:Jt.data.length}),Be===!0&&yn.push({key:"Length1",value:ct})),Nn.length!=0)if(Nn.split("/").length-1==1)yn.push({key:"Filter",value:Nn});else{yn.push({key:"Filter",value:"["+Nn+"]"});for(var tr=0;tr<yn.length;tr+=1)if(yn[tr].key==="DecodeParms"){for(var Qr=[],xi=0;xi<Jt.reverseChain.split("/").length-1;xi+=1)Qr.push("null");Qr.push(yn[tr].value),yn[tr].value="["+Qr.join(" ")+"]"}}de("<<");for(var Or=0;Or<yn.length;Or++)de("/"+yn[Or].key+" "+yn[Or].value);de(">>"),Jt.data.length!==0&&(de("stream"),de(Gt(Jt.data)),de("endstream"))},Ve=m.__private__.putPage=function(M){var J=M.number,ke=M.data,Le=M.objId,Be=M.contentsObjId;te(Le,!0),de("<</Type /Page"),de("/Parent "+M.rootDictionaryObjId+" 0 R"),de("/Resources "+M.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(X(M.mediaBox.bottomLeftX))+" "+parseFloat(X(M.mediaBox.bottomLeftY))+" "+X(M.mediaBox.topRightX)+" "+X(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&de("/CropBox ["+X(M.cropBox.bottomLeftX)+" "+X(M.cropBox.bottomLeftY)+" "+X(M.cropBox.topRightX)+" "+X(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&de("/BleedBox ["+X(M.bleedBox.bottomLeftX)+" "+X(M.bleedBox.bottomLeftY)+" "+X(M.bleedBox.topRightX)+" "+X(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&de("/TrimBox ["+X(M.trimBox.bottomLeftX)+" "+X(M.trimBox.bottomLeftY)+" "+X(M.trimBox.topRightX)+" "+X(M.trimBox.topRightY)+"]"),M.artBox!==null&&de("/ArtBox ["+X(M.artBox.bottomLeftX)+" "+X(M.artBox.bottomLeftY)+" "+X(M.artBox.topRightX)+" "+X(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&de("/UserUnit "+M.userUnit),$n.publish("putPage",{objId:Le,pageContext:$t[J],pageNumber:J,page:ke}),de("/Contents "+Be+" 0 R"),de(">>"),de("endobj");var ct=ke.join(`
`);return F===R&&(ct+=`
Q`),te(Be,!0),tt({data:ct,filters:Ge(),objectId:Be}),de("endobj"),Le},We=m.__private__.putPages=function(){var M,J,ke=[];for(M=1;M<=Cn;M++)$t[M].objId=ci(),$t[M].contentsObjId=ci();for(M=1;M<=Cn;M++)ke.push(Ve({number:M,data:Oe[M],objId:$t[M].objId,contentsObjId:$t[M].contentsObjId,mediaBox:$t[M].mediaBox,cropBox:$t[M].cropBox,bleedBox:$t[M].bleedBox,trimBox:$t[M].trimBox,artBox:$t[M].artBox,userUnit:$t[M].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:xe}));te(ge,!0),de("<</Type /Pages");var Le="/Kids [";for(J=0;J<Cn;J++)Le+=ke[J]+" 0 R ";de(Le+"]"),de("/Count "+Cn),de(">>"),de("endobj"),$n.publish("postPutPages")},Ye=function(M){$n.publish("putFont",{font:M,out:de,newObject:Pr,putStream:tt}),M.isAlreadyPutted!==!0&&(M.objectNumber=Pr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Fg(M.postScriptName)),de("/Subtype /Type1"),typeof M.encoding=="string"&&de("/Encoding /"+M.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},vt=function(M){M.objectNumber=Pr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[X(M.x),X(M.y),X(M.x+M.width),X(M.y+M.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ke=M.pages[1].join(`
`);tt({data:ke,additionalKeyValues:J,objectId:M.objectNumber}),de("endobj")},bt=function(M,J){J||(J=21);var ke=Pr(),Le=(function(mt,Gt){var Jt,yn=[],Nn=1/(Gt-1);for(Jt=0;Jt<1;Jt+=Nn)yn.push(Jt);if(yn.push(1),mt[0].offset!=0){var tr={offset:0,color:mt[0].color};mt.unshift(tr)}if(mt[mt.length-1].offset!=1){var Qr={offset:1,color:mt[mt.length-1].color};mt.push(Qr)}for(var xi="",Or=0,ji=0;ji<yn.length;ji++){for(Jt=yn[ji];Jt>mt[Or+1].offset;)Or++;var Ni=mt[Or].offset,gs=(Jt-Ni)/(mt[Or+1].offset-Ni),vc=mt[Or].color,Wo=mt[Or+1].color;xi+=Y(Math.round((1-gs)*vc[0]+gs*Wo[0]).toString(16))+Y(Math.round((1-gs)*vc[1]+gs*Wo[1]).toString(16))+Y(Math.round((1-gs)*vc[2]+gs*Wo[2]).toString(16))}return xi.trim()})(M.colors,J),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+J+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Le,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),de("endobj"),M.objectNumber=Pr(),de("<< /ShadingType "+M.type),de("/ColorSpace /DeviceRGB");var ct="/Coords ["+X(parseFloat(M.coords[0]))+" "+X(parseFloat(M.coords[1]))+" ";M.type===2?ct+=X(parseFloat(M.coords[2]))+" "+X(parseFloat(M.coords[3])):ct+=X(parseFloat(M.coords[2]))+" "+X(parseFloat(M.coords[3]))+" "+X(parseFloat(M.coords[4]))+" "+X(parseFloat(M.coords[5])),de(ct+="]"),M.matrix&&de("/Matrix ["+M.matrix.toString()+"]"),de("/Function "+ke+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Tt=function(M,J){var ke=ci(),Le=Pr();J.push({resourcesOid:ke,objectOid:Le}),M.objectNumber=Le;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+M.boundingBox.map(X).join(" ")+"]"}),Be.push({key:"XStep",value:X(M.xStep)}),Be.push({key:"YStep",value:X(M.yStep)}),Be.push({key:"Resources",value:ke+" 0 R"}),M.matrix&&Be.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),tt({data:M.stream,additionalKeyValues:Be,objectId:M.objectNumber}),de("endobj")},yt=function(M){for(var J in M.objectNumber=Pr(),de("<<"),M)switch(J){case"opacity":de("/ca "+B(M[J]));break;case"stroke-opacity":de("/CA "+B(M[J]))}de(">>"),de("endobj")},At=function(M){te(M.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in de("/Font <<"),Pt)Pt.hasOwnProperty(J)&&(p===!1||p===!0&&g.hasOwnProperty(J))&&de("/"+J+" "+Pt[J].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(an).length>0){for(var J in de("/Shading <<"),an)an.hasOwnProperty(J)&&an[J]instanceof W0&&an[J].objectNumber>=0&&de("/"+J+" "+an[J].objectNumber+" 0 R");$n.publish("putShadingPatternDict"),de(">>")}})(),(function(J){if(Object.keys(an).length>0){for(var ke in de("/Pattern <<"),an)an.hasOwnProperty(ke)&&an[ke]instanceof m.TilingPattern&&an[ke].objectNumber>=0&&an[ke].objectNumber<J&&de("/"+ke+" "+an[ke].objectNumber+" 0 R");$n.publish("putTilingPatternDict"),de(">>")}})(M.objectOid),(function(){if(Object.keys(hn).length>0){var J;for(J in de("/ExtGState <<"),hn)hn.hasOwnProperty(J)&&hn[J].objectNumber>=0&&de("/"+J+" "+hn[J].objectNumber+" 0 R");$n.publish("putGStateDict"),de(">>")}})(),(function(){for(var J in de("/XObject <<"),ts)ts.hasOwnProperty(J)&&ts[J].objectNumber>=0&&de("/"+J+" "+ts[J].objectNumber+" 0 R");$n.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},Bt=function(M){sn[M.fontName]=sn[M.fontName]||{},sn[M.fontName][M.fontStyle]=M.id},_r=function(M,J,ke,Le,Be){var ct={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:M,fontName:J,fontStyle:ke,encoding:Le,isStandardFont:Be||!1,metadata:{}};return $n.publish("addFont",{font:ct,instance:this}),Pt[ct.id]=ct,Bt(ct),ct.id},Gn=m.__private__.pdfEscape=m.pdfEscape=function(M,J){return(function(ke,Le){var Be,ct,mt,Gt,Jt,yn,Nn,tr,Qr;if(mt=(Le=Le||{}).sourceEncoding||"Unicode",Jt=Le.outputEncoding,(Le.autoencode||Jt)&&Pt[Rt].metadata&&Pt[Rt].metadata[mt]&&Pt[Rt].metadata[mt].encoding&&(Gt=Pt[Rt].metadata[mt].encoding,!Jt&&Pt[Rt].encoding&&(Jt=Pt[Rt].encoding),!Jt&&Gt.codePages&&(Jt=Gt.codePages[0]),typeof Jt=="string"&&(Jt=Gt[Jt]),Jt)){for(Nn=!1,yn=[],Be=0,ct=ke.length;Be<ct;Be++)(tr=Jt[ke.charCodeAt(Be)])?yn.push(String.fromCharCode(tr)):yn.push(ke[Be]),yn[Be].charCodeAt(0)>>8&&(Nn=!0);ke=yn.join("")}for(Be=ke.length;Nn===void 0&&Be!==0;)ke.charCodeAt(Be-1)>>8&&(Nn=!0),Be--;if(!Nn)return ke;for(yn=Le.noBOM?[]:[254,255],Be=0,ct=ke.length;Be<ct;Be++){if((Qr=(tr=ke.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+ke+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yn.push(Qr),yn.push(tr-(Qr<<8))}return String.fromCharCode.apply(void 0,yn)})(M,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=m.__private__.beginPage=function(M){Oe[++Cn]=[],$t[Cn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},jo(Cn),it(Oe[j])},$s=function(M,J){var ke,Le,Be;switch(t=J||t,typeof M=="string"&&(ke=T(M.toLowerCase()),Array.isArray(ke)&&(Le=ke[0],Be=ke[1])),Array.isArray(M)&&(Le=M[0]*je,Be=M[1]*je),isNaN(Le)&&(Le=i[0],Be=i[1]),(Le>14400||Be>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),Be=Math.min(14400,Be)),i=[Le,Be],t.substr(0,1)){case"l":Be>Le&&(i=[Be,Le]);break;case"p":Le>Be&&(i=[Be,Le])}Tr(i),pn(hf),de(Ga),Ph!==0&&de(Ph+" J"),ns!==0&&de(ns+" j"),$n.publish("addPage",{pageNumber:Cn})},zo=function(M){M>0&&M<=Cn&&(Oe.splice(M,1),$t.splice(M,1),Cn--,j>Cn&&(j=Cn),this.setPage(j))},jo=function(M){M>0&&M<=Cn&&(j=M)},za=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Oe.length-1},fu=function(M,J,ke){var Le,Be=void 0;return ke=ke||{},M=M!==void 0?M:Pt[Rt].fontName,J=J!==void 0?J:Pt[Rt].fontStyle,Le=M.toLowerCase(),sn[Le]!==void 0&&sn[Le][J]!==void 0?Be=sn[Le][J]:sn[M]!==void 0&&sn[M][J]!==void 0?Be=sn[M][J]:ke.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+M+"', '"+J+"'. Refer to getFontList() for available fonts."),Be||ke.noFallback||(Be=sn.times[J])==null&&(Be=sn.times.normal),Be},Zr=m.__private__.putInfo=function(){var M=Pr(),J=function(Le){return Le};for(var ke in h!==null&&(J=zi.encryptor(M,0)),de("<<"),de("/Producer ("+Gn(J("jsPDF "+nn.version))+")"),Qt)Qt.hasOwnProperty(ke)&&Qt[ke]&&de("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+Gn(J(Qt[ke]))+")");de("/CreationDate ("+Gn(J(_e))+")"),de(">>"),de("endobj")},cc=m.__private__.putCatalog=function(M){var J=(M=M||{}).rootDictionaryObjId||ge;switch(Pr(),de("<<"),de("/Type /Catalog"),de("/Pages "+J+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+kt;ke.substr(ke.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+B(kt)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Mt&&de("/PageMode /"+Mt),$n.publish("putCatalog"),de(">>"),de("endobj")},Go=m.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ae+1)),de("/Root "+ae+" 0 R"),de("/Info "+(ae-1)+" 0 R"),h!==null&&de("/Encrypt "+zi.oid+" 0 R"),de("/ID [ <"+K+"> <"+K+"> ]"),de(">>")},lr=m.__private__.putHeader=function(){de("%PDF-"+b),de("%")},h0=m.__private__.putXRef=function(){var M="0000000000";de("xref"),de("0 "+(ae+1)),de("0000000000 65535 f ");for(var J=1;J<=ae;J++)typeof ye[J]=="function"?de((M+ye[J]()).slice(-10)+" 00000 n "):ye[J]!==void 0?de((M+ye[J]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Sl=m.__private__.buildDocument=function(){var M;ae=0,fe=0,me=[],ye=[],Te=[],ge=ci(),xe=ci(),it(me),$n.publish("buildDocument"),lr(),We(),(function(){$n.publish("putAdditionalObjects");for(var ke=0;ke<Te.length;ke++){var Le=Te[ke];te(Le.objId,!0),de(Le.content),de("endobj")}$n.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var ke in Pt)Pt.hasOwnProperty(ke)&&(p===!1||p===!0&&g.hasOwnProperty(ke))&&Ye(Pt[ke])})(),(function(){var ke;for(ke in hn)hn.hasOwnProperty(ke)&&yt(hn[ke])})(),(function(){for(var ke in ts)ts.hasOwnProperty(ke)&&vt(ts[ke])})(),(function(ke){var Le;for(Le in an)an.hasOwnProperty(Le)&&(an[Le]instanceof W0?bt(an[Le]):an[Le]instanceof Bg&&Tt(an[Le],ke))})(M),$n.publish("putResources"),M.forEach(At),At({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),$n.publish("postPutResources"),h!==null&&(zi.oid=Pr(),de("<<"),de("/Filter /Standard"),de("/V "+zi.v),de("/R "+zi.r),de("/U <"+zi.toHexString(zi.U)+">"),de("/O <"+zi.toHexString(zi.O)+">"),de("/P "+zi.P),de(">>"),de("endobj")),Zr(),cc();var J=fe;return h0(),Go(),de("startxref"),de(""+J),de("%%EOF"),it(Oe[j]),me.join(`
`)},hu=m.__private__.getBlob=function(M){return new Blob([He(M)],{type:"application/pdf"})},d0=m.output=m.__private__.output=(Ys=function(M,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",M){case void 0:return Sl();case"save":m.save(J.filename);break;case"arraybuffer":return He(Sl());case"blob":return hu(Sl());case"bloburi":case"bloburl":if(Sn.URL!==void 0&&typeof Sn.URL.createObjectURL=="function")return Sn.URL&&Sn.URL.createObjectURL(hu(Sl()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Le=Sl();try{ke=I8(Le)}catch{ke=I8(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+J.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Be=J.pdfObjectUrl,ct="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Gt=Sn.open();return Gt!==null&&Gt.document.write(mt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',yn=Sn.open();if(yn!==null){yn.document.write(Jt);var Nn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=J.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nn.output("bloburl"))}}return yn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Qr=Sn.open();if(Qr!==null&&(Qr.document.write(tr),Qr.document.title=J.filename),Qr||typeof safari>"u")return Qr;break;case"datauri":case"dataurl":return Sn.document.location.href=this.output("datauristring",J);default:return null}},Ys.foo=function(){try{return Ys.apply(this,arguments)}catch(ke){var M=ke.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var J="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ke.message;if(!Sn.console)throw new Error(J);Sn.console.error(J,ke),Sn.alert&&alert(J)}},Ys.foo.bar=Ys,Ys.foo),Ks=function(M){return Array.isArray(Ha)===!0&&Ha.indexOf(M)>-1};switch(r){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=Ks("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);je=r}var zi=null;ie(),Se();var ki=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[M].objId,pageNumber:M,pageContext:$t[M]}},Fh=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in $t)if($t[J].objId===M)break;return ki(J)},Rm=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:$t[j].objId,pageNumber:j,pageContext:$t[j]}};m.addPage=function(){return $s.apply(this,arguments),this},m.setPage=function(){return jo.apply(this,arguments),it.call(this,Oe[j]),this},m.insertPage=function(M){return this.addPage(),this.movePage(j,M),this},m.movePage=function(M,J){var ke,Le;if(M>J){ke=Oe[M],Le=$t[M];for(var Be=M;Be>J;Be--)Oe[Be]=Oe[Be-1],$t[Be]=$t[Be-1];Oe[J]=ke,$t[J]=Le,this.setPage(J)}else if(M<J){ke=Oe[M],Le=$t[M];for(var ct=M;ct<J;ct++)Oe[ct]=Oe[ct+1],$t[ct]=$t[ct+1];Oe[J]=ke,$t[J]=Le,this.setPage(J)}return this},m.deletePage=function(){return zo.apply(this,arguments),this},m.__private__.text=m.text=function(M,J,ke,Le,Be){var ct,mt,Gt,Jt,yn,Nn,tr,Qr,xi,Or=(Le=Le||{}).scope||this;if(typeof M=="number"&&typeof J=="number"&&(typeof ke=="string"||Array.isArray(ke))){var ji=ke;ke=J,J=M,M=ji}if(arguments[3]instanceof tn==0?(Gt=arguments[4],Jt=arguments[5],Fr(tr=arguments[3])==="object"&&tr!==null||(typeof Gt=="string"&&(Jt=Gt,Gt=null),typeof tr=="string"&&(Jt=tr,tr=null),typeof tr=="number"&&(Gt=tr,tr=null),Le={flags:tr,angle:Gt,align:Jt})):(O("The transform parameter of text() with a Matrix value"),xi=Be),isNaN(J)||isNaN(ke)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Or;var Ni,gs="",vc=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:uc,Wo=Or.internal.scaleFactor;function xc(cr){return cr=cr.split("	").join(Array(Le.TabLen||9).join(" ")),Gn(cr,tr)}function w0(cr){for(var nr,Br=cr.concat(),bi=[],Fl=Br.length;Fl--;)typeof(nr=Br.shift())=="string"?bi.push(nr):Array.isArray(cr)&&(nr.length===1||nr[1]===void 0&&nr[2]===void 0)?bi.push(nr[0]):bi.push([nr[0],nr[1],nr[2]]);return bi}function Bh(cr,nr){var Br;if(typeof cr=="string")Br=nr(cr)[0];else if(Array.isArray(cr)){for(var bi,Fl,Ko=cr.concat(),yf=[],E0=Ko.length;E0--;)typeof(bi=Ko.shift())=="string"?yf.push(nr(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(Fl=nr(bi[0],bi[1],bi[2]),yf.push([Fl[0],Fl[1],Fl[2]]));Br=yf}return Br}var Cl=!1,Xo=!0;if(typeof M=="string")Cl=!0;else if(Array.isArray(M)){var vf=M.concat();mt=[];for(var yc,rs=vf.length;rs--;)(typeof(yc=vf.shift())!="string"||Array.isArray(yc)&&typeof yc[0]!="string")&&(Xo=!1);Cl=Xo}if(Cl===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var pu=et/Or.internal.scaleFactor,mu=pu*(vc-1);switch(Le.baseline){case"bottom":ke-=mu;break;case"top":ke+=pu-mu;break;case"hanging":ke+=pu-2*mu;break;case"middle":ke+=pu/2-mu}if((Nn=Le.maxWidth||0)>0&&(typeof M=="string"?M=Or.splitTextToSize(M,Nn):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(cr,nr){return cr.concat(Or.splitTextToSize(nr,Nn))},[]))),ct={text:M,x:J,y:ke,options:Le,mutex:{pdfEscape:Gn,activeFontKey:Rt,fonts:Pt,activeFontSize:et}},$n.publish("preProcessText",ct),M=ct.text,Gt=(Le=ct.options).angle,xi instanceof tn==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Le.rotationDirection===0&&(Gt=-Gt),F===R&&(Gt=-Gt);var Uh=Math.cos(Gt),kl=Math.sin(Gt);xi=new tn(Uh,kl,-kl,Uh,0,0)}else Gt&&Gt instanceof tn&&(xi=Gt);F!==R||xi||(xi=co),(yn=Le.charSpace||uo)!==void 0&&(gs+=X(Q(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qr=Le.horizontalScale)!==void 0&&(gs+=X(100*Qr)+` Tz
`),Le.lang;var Zs=-1,bc=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,Hh=Or.internal.getCurrentPageInfo().pageContext;switch(bc){case 0:case!1:case"fill":Zs=0;break;case 1:case!0:case"stroke":Zs=1;break;case 2:case"fillThenStroke":Zs=2;break;case 3:case"invisible":Zs=3;break;case 4:case"fillAndAddForClipping":Zs=4;break;case 5:case"strokeAndAddPathForClipping":Zs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zs=6;break;case 7:case"addToPathForClipping":Zs=7}var A0=Hh.usedRenderingMode!==void 0?Hh.usedRenderingMode:-1;Zs!==-1?gs+=Zs+` Tr
`:A0!==-1&&(gs+=`0 Tr
`),Zs!==-1&&(Hh.usedRenderingMode=Zs),Jt=Le.align||"left";var qa,Yo=et*vc,_c=Or.internal.pageSize.getWidth(),S0=Pt[Rt];yn=Le.charSpace||uo,Nn=Le.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var $o=[],gu=function(cr){return Or.getStringUnitWidth(cr,{font:S0,charSpace:yn,fontSize:et,doKerning:!1})*et/Wo};if(Object.prototype.toString.call(M)==="[object Array]"){var ma;mt=w0(M),Jt!=="left"&&(qa=mt.map(gu));var Qs,Nl=0;if(Jt==="right"){J-=qa[0],M=[],rs=mt.length;for(var Rl=0;Rl<rs;Rl++)Rl===0?(Qs=ja(J),ma=ms(ke)):(Qs=Q(Nl-qa[Rl]),ma=-Yo),M.push([mt[Rl],Qs,ma]),Nl=qa[Rl]}else if(Jt==="center"){J-=qa[0]/2,M=[],rs=mt.length;for(var wc=0;wc<rs;wc++)wc===0?(Qs=ja(J),ma=ms(ke)):(Qs=Q((Nl-qa[wc])/2),ma=-Yo),M.push([mt[wc],Qs,ma]),Nl=qa[wc]}else if(Jt==="left"){M=[],rs=mt.length;for(var zh=0;zh<rs;zh++)M.push(mt[zh])}else if(Jt==="justify"&&S0.encoding==="Identity-H"){M=[],rs=mt.length,Nn=Nn!==0?Nn:_c;for(var jh=0,yi=0;yi<rs;yi++)if(ma=yi===0?ms(ke):-Yo,Qs=yi===0?ja(J):jh,yi<rs-1){var Um=Q((Nn-qa[yi])/(mt[yi].split(" ").length-1)),Ll=mt[yi].split(" ");M.push([Ll[0]+" ",Qs,ma]),jh=0;for(var Il=1;Il<Ll.length;Il++){var vs=(gu(Ll[Il-1]+" "+Ll[Il])-gu(Ll[Il]))*Wo+Um;Il==Ll.length-1?M.push([Ll[Il],vs,0]):M.push([Ll[Il]+" ",vs,0]),jh-=vs}}else M.push([mt[yi],Qs,ma]);M.push(["",jh,0])}else{if(Jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],rs=mt.length,Nn=Nn!==0?Nn:_c,yi=0;yi<rs;yi++){ma=yi===0?ms(ke):-Yo,Qs=yi===0?ja(J):0;var Ac=mt[yi].split(" ").length-1,Gh=Ac>0?(Nn-qa[yi])/Ac:0;yi<rs-1?$o.push(X(Q(Gh))):$o.push(0),M.push([mt[yi],Qs,ma])}}}(typeof Le.R2L=="boolean"?Le.R2L:jt)===!0&&(M=Bh(M,function(cr,nr,Br){return[cr.split("").reverse().join(""),nr,Br]})),ct={text:M,x:J,y:ke,options:Le,mutex:{pdfEscape:Gn,activeFontKey:Rt,fonts:Pt,activeFontSize:et}},$n.publish("postProcessText",ct),M=ct.text,Ni=ct.mutex.isHex||!1;var qh=Pt[Rt].encoding;qh!=="WinAnsiEncoding"&&qh!=="StandardEncoding"||(M=Bh(M,function(cr,nr,Br){return[xc(cr),nr,Br]})),mt=w0(M),M=[];for(var Sc,Ec,Ml,xf=Array.isArray(mt[0])?1:0,Va="",Tc=function(cr,nr,Br){var bi="";return Br instanceof tn?(Br=typeof Le.angle=="number"?Ho(Br,new tn(1,0,0,1,cr,nr)):Ho(new tn(1,0,0,1,cr,nr),Br),F===R&&(Br=Ho(new tn(1,0,0,-1,0,0),Br)),bi=Br.join(" ")+` Tm
`):bi=X(cr)+" "+X(nr)+` Td
`,bi},Ls=0;Ls<mt.length;Ls++){switch(Va="",xf){case 1:Ml=(Ni?"<":"(")+mt[Ls][0]+(Ni?">":")"),Sc=parseFloat(mt[Ls][1]),Ec=parseFloat(mt[Ls][2]);break;case 0:Ml=(Ni?"<":"(")+mt[Ls]+(Ni?">":")"),Sc=ja(J),Ec=ms(ke)}$o!==void 0&&$o[Ls]!==void 0&&(Va=$o[Ls]+` Tw
`),Ls===0?M.push(Va+Tc(Sc,Ec,xi)+Ml):xf===0?M.push(Va+Ml):xf===1&&M.push(Va+Tc(Sc,Ec,xi)+Ml)}M=xf===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var ho=`BT
/`;return ho+=Rt+" "+et+` Tf
`,ho+=X(et*vc)+` TL
`,ho+=El+`
`,ho+=gs,ho+=M,de(ho+="ET"),g[Rt]=!0,Or};var p0=m.__private__.clip=m.clip=function(M){return de(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return p0("evenodd")},m.__private__.discardPath=m.discardPath=function(){return de("n"),this};var Js=m.__private__.isValidStyle=function(M){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return Js(M)&&(f=M),this};var m0=m.__private__.getStyle=m.getStyle=function(M){var J=f;switch(M){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=M}return J},g0=m.close=function(){return de("h"),this};m.stroke=function(){return de("S"),this},m.fill=function(M){return qo("f",M),this},m.fillEvenOdd=function(M){return qo("f*",M),this},m.fillStroke=function(M){return qo("B",M),this},m.fillStrokeEvenOdd=function(M){return qo("B*",M),this};var qo=function(M,J){Fr(J)==="object"?Im(J,M):de(M)},ff=function(M){M===null||F===R&&M===void 0||(M=m0(M),de(M))};function Lm(M,J,ke,Le,Be){var ct=new Bg(J||this.boundingBox,ke||this.xStep,Le||this.yStep,this.gState,Be||this.matrix);ct.stream=this.stream;var mt=M+"$$"+this.cloneIndex+++"$$";return ps(mt,ct),ct}var Im=function(M,J){var ke=yr[M.key],Le=an[ke];if(Le instanceof W0)de("q"),de(v0(J)),Le.gState&&m.setGState(Le.gState),de(M.matrix.toString()+" cm"),de("/"+ke+" sh"),de("Q");else if(Le instanceof Bg){var Be=new tn(1,0,0,-1,0,gc());M.matrix&&(Be=Be.multiply(M.matrix||co),ke=Lm.call(Le,M.key,M.boundingBox,M.xStep,M.yStep,Be).id),de("q"),de("/Pattern cs"),de("/"+ke+" scn"),Le.gState&&m.setGState(Le.gState),de(J),de("Q")}},v0=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},x0=m.moveTo=function(M,J){return de(X(Q(M))+" "+X(ce(J))+" m"),this},Mm=m.lineTo=function(M,J){return de(X(Q(M))+" "+X(ce(J))+" l"),this},pa=m.curveTo=function(M,J,ke,Le,Be,ct){return de([X(Q(M)),X(ce(J)),X(Q(ke)),X(ce(Le)),X(Q(Be)),X(ce(ct)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,J,ke,Le,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Le)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.line");return F===L?this.lines([[ke-M,Le-J]],M,J,[1,1],Be||"S"):this.lines([[ke-M,Le-J]],M,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,J,ke,Le,Be,ct){var mt,Gt,Jt,yn,Nn,tr,Qr,xi,Or,ji,Ni,gs;if(typeof M=="number"&&(gs=ke,ke=J,J=M,M=gs),Le=Le||[1,1],ct=ct||!1,isNaN(J)||isNaN(ke)||!Array.isArray(M)||!Array.isArray(Le)||!Js(Be)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(x0(J,ke),mt=Le[0],Gt=Le[1],yn=M.length,ji=J,Ni=ke,Jt=0;Jt<yn;Jt++)(Nn=M[Jt]).length===2?(ji=Nn[0]*mt+ji,Ni=Nn[1]*Gt+Ni,Mm(ji,Ni)):(tr=Nn[0]*mt+ji,Qr=Nn[1]*Gt+Ni,xi=Nn[2]*mt+ji,Or=Nn[3]*Gt+Ni,ji=Nn[4]*mt+ji,Ni=Nn[5]*Gt+Ni,pa(tr,Qr,xi,Or,ji,Ni));return ct&&g0(),ff(Be),this},m.path=function(M){for(var J=0;J<M.length;J++){var ke=M[J],Le=ke.c;switch(ke.op){case"m":x0(Le[0],Le[1]);break;case"l":Mm(Le[0],Le[1]);break;case"c":pa.apply(this,Le);break;case"h":g0()}}return this},m.__private__.rect=m.rect=function(M,J,ke,Le,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Le)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return F===L&&(Le=-Le),de([X(Q(M)),X(ce(J)),X(Q(ke)),X(Q(Le)),"re"].join(" ")),ff(Be),this},m.__private__.triangle=m.triangle=function(M,J,ke,Le,Be,ct,mt){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Le)||isNaN(Be)||isNaN(ct)||!Js(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-M,Le-J],[Be-ke,ct-Le],[M-Be,J-ct]],M,J,[1,1],mt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,J,ke,Le,Be,ct,mt){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Le)||isNaN(Be)||isNaN(ct)||!Js(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ke),ct=Math.min(ct,.5*Le),this.lines([[ke-2*Be,0],[Be*Gt,0,Be,ct-ct*Gt,Be,ct],[0,Le-2*ct],[0,ct*Gt,-Be*Gt,ct,-Be,ct],[2*Be-ke,0],[-Be*Gt,0,-Be,-ct*Gt,-Be,-ct],[0,2*ct-Le],[0,-ct*Gt,Be*Gt,-ct,Be,-ct]],M+Be,J,[1,1],mt,!0),this},m.__private__.ellipse=m.ellipse=function(M,J,ke,Le,Be){if(isNaN(M)||isNaN(J)||isNaN(ke)||isNaN(Le)||!Js(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*ke,mt=4/3*(Math.SQRT2-1)*Le;return x0(M+ke,J),pa(M+ke,J-mt,M+ct,J-Le,M,J-Le),pa(M-ct,J-Le,M-ke,J-mt,M-ke,J),pa(M-ke,J+mt,M-ct,J+Le,M,J+Le),pa(M+ct,J+Le,M+ke,J+mt,M+ke,J),ff(Be),this},m.__private__.circle=m.circle=function(M,J,ke,Le){if(isNaN(M)||isNaN(J)||isNaN(ke)||!Js(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,J,ke,ke,Le)},m.setFont=function(M,J,ke){return ke&&(J=P(J,ke)),Rt=fu(M,J,{disableWarning:!1}),this};var Vo=m.__private__.getFont=m.getFont=function(){return Pt[fu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,J,ke={};for(M in sn)if(sn.hasOwnProperty(M))for(J in ke[M]=[],sn[M])sn[M].hasOwnProperty(J)&&ke[M].push(J);return ke},m.addFont=function(M,J,ke,Le,Be){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(ke=P(ke,Le)),_r.call(this,M,J,ke,Be=Be||"Identity-H")};var uc,hf=n.lineWidth||.200025,du=m.__private__.getLineWidth=m.getLineWidth=function(){return hf},pn=m.__private__.setLineWidth=m.setLineWidth=function(M){return hf=M,de(X(Q(M))+" w"),this};m.__private__.setLineDash=nn.API.setLineDash=nn.API.setLineDashPattern=function(M,J){if(M=M||[],J=J||0,isNaN(J)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ke){return X(Q(ke))}).join(" "),J=X(Q(J)),de("["+M+"] "+J+" d"),this};var Fm=m.__private__.getLineHeight=m.getLineHeight=function(){return et*uc};m.__private__.getLineHeight=m.getLineHeight=function(){return et*uc};var y0=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(uc=M),this},Dm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return uc};y0(n.lineHeight);var ja=m.__private__.getHorizontalCoordinate=function(M){return Q(M)},ms=m.__private__.getVerticalCoordinate=function(M){return F===R?M:$t[j].mediaBox.topRightY-$t[j].mediaBox.bottomLeftY-Q(M)},b0=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return X(ja(M))},df=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return X(ms(M))},Ga=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return we(Ga)},m.__private__.setStrokeColor=m.setDrawColor=function(M,J,ke,Le){return Ga=Ne({ch1:M,ch2:J,ch3:ke,ch4:Le,pdfColorType:"draw",precision:2}),de(Ga),this};var pf=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return we(pf)},m.__private__.setFillColor=m.setFillColor=function(M,J,ke,Le){return pf=Ne({ch1:M,ch2:J,ch3:ke,ch4:Le,pdfColorType:"fill",precision:2}),de(pf),this};var El=n.textColor||"0 g",Pm=m.__private__.getTextColor=m.getTextColor=function(){return we(El)};m.__private__.setTextColor=m.setTextColor=function(M,J,ke,Le){return El=Ne({ch1:M,ch2:J,ch3:ke,ch4:Le,pdfColorType:"text",precision:3}),this};var uo=n.charSpace,Dh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(uo||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uo=M,this};var Ph=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var J=m.CapJoinStyles[M];if(J===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ph=J,de(J+" J"),this};var ns=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var J=m.CapJoinStyles[M];if(J===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ns=J,de(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(X(Q(M))+" M"),this},m.GState=_w,m.setGState=function(M){(M=typeof M=="string"?hn[gn[M]]:Tl(null,M)).equals(br)||(de("/"+M.id+" gs"),br=M)};var Tl=function(M,J){if(!M||!gn[M]){var ke=!1;for(var Le in hn)if(hn.hasOwnProperty(Le)&&hn[Le].equals(J)){ke=!0;break}if(ke)J=hn[Le];else{var Be="GS"+(Object.keys(hn).length+1).toString(10);hn[Be]=J,J.id=Be}return M&&(gn[M]=J.id),$n.publish("addGState",J),J}};m.addGState=function(M,J){return Tl(M,J),this},m.saveGraphicsState=function(){return de("q"),Hn.push({key:Rt,size:et,color:El}),this},m.restoreGraphicsState=function(){de("Q");var M=Hn.pop();return Rt=M.key,et=M.size,El=M.color,br=null,this},m.setCurrentTransformationMatrix=function(M){return de(M.toString()+" cm"),this},m.comment=function(M){return de("#"+M),this};var fo=function(M,J){var ke=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(ct){isNaN(ct)||(ke=parseFloat(ct))}});var Le=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(ct){isNaN(ct)||(Le=parseFloat(ct))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(ct){Be=ct.toString()}}),this},fc=function(M,J,ke,Le){fo.call(this,M,J),this.type="rect";var Be=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(mt){isNaN(mt)||(Be=parseFloat(mt))}});var ct=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(mt){isNaN(mt)||(ct=parseFloat(mt))}}),this},Oh=function(){this.page=Cn,this.currentPage=j,this.pages=Oe.slice(0),this.pagesContext=$t.slice(0),this.x=ot,this.y=fn,this.matrix=Lt,this.width=dc(j),this.height=_0(j),this.outputDestination=nt,this.id="",this.objectNumber=-1};Oh.prototype.restore=function(){Cn=this.page,j=this.currentPage,$t=this.pagesContext,Oe=this.pages,ot=this.x,fn=this.y,Lt=this.matrix,gf(j,this.width),pc(j,this.height),nt=this.outputDestination};var mf=function(M,J,ke,Le,Be){da.push(new Oh),Cn=j=0,Oe=[],ot=M,fn=J,Lt=Be,Tr([ke,Le])};for(var hc in m.beginFormObject=function(M,J,ke,Le,Be){return mf(M,J,ke,Le,Be),this},m.endFormObject=function(M){return(function(J){if(lo[J])da.pop().restore();else{var ke=new Oh,Le="Xo"+(Object.keys(ts).length+1).toString(10);ke.id=Le,lo[J]=Le,ts[Le]=ke,$n.publish("addFormObject",ke),da.pop().restore()}})(M),this},m.doFormObject=function(M,J){var ke=ts[lo[M]];return de("q"),de(J.toString()+" cm"),de("/"+ke.id+" Do"),de("Q"),this},m.getFormObject=function(M){var J=ts[lo[M]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(M,J){return M=M||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(V0(hu(Sl()),M),typeof V0.unload=="function"&&Sn.setTimeout&&setTimeout(V0.unload,911),this):new Promise(function(ke,Le){try{var Be=V0(hu(Sl()),M);typeof V0.unload=="function"&&Sn.setTimeout&&setTimeout(V0.unload,911),ke(Be)}catch(ct){Le(ct.message)}})},nn.API)nn.API.hasOwnProperty(hc)&&(hc==="events"&&nn.API.events.length?(function(M,J){var ke,Le,Be;for(Be=J.length-1;Be!==-1;Be--)ke=J[Be][0],Le=J[Be][1],M.subscribe.apply(M,[ke].concat(typeof Le=="function"?[Le]:Le))})($n,nn.API.events):m[hc]=nn.API[hc]);function dc(M){return $t[M].mediaBox.topRightX-$t[M].mediaBox.bottomLeftX}function gf(M,J){$t[M].mediaBox.topRightX=J+$t[M].mediaBox.bottomLeftX}function _0(M){return $t[M].mediaBox.topRightY-$t[M].mediaBox.bottomLeftY}function pc(M,J){$t[M].mediaBox.topRightY=J+$t[M].mediaBox.bottomLeftY}var mc=m.getPageWidth=function(M){return dc(M=M||j)/je},Om=m.setPageWidth=function(M,J){gf(M,J*je)},gc=m.getPageHeight=function(M){return _0(M=M||j)/je},Bm=m.setPageHeight=function(M,J){pc(M,J*je)};return m.internal={pdfEscape:Gn,getStyle:m0,getFont:Vo,getFontSize:_t,getCharSpace:Dh,getTextColor:Pm,getLineHeight:Fm,getLineHeightFactor:Dm,getLineWidth:du,write:Fe,getHorizontalCoordinate:ja,getVerticalCoordinate:ms,getCoordinateString:b0,getVerticalCoordinateString:df,collections:{},newObject:Pr,newAdditionalObject:Ce,newObjectDeferred:ci,newObjectDeferredBegin:te,getFilters:Ge,putStream:tt,events:$n,scaleFactor:je,pageSize:{getWidth:function(){return mc(j)},setWidth:function(M){Om(j,M)},getHeight:function(){return gc(j)},setHeight:function(M){Bm(j,M)}},encryptionOptions:h,encryption:zi,getEncryptor:function(M){return h!==null?zi.encryptor(M,0):function(J){return J}},output:d0,getNumberOfPages:za,get pages(){return Oe},out:de,f2:B,f3:G,getPageInfo:ki,getPageInfoByObjId:Fh,getCurrentPageInfo:Rm,getPDFVersion:_,Point:fo,Rectangle:fc,Matrix:tn,hasHotfix:Ks},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return mc(j)},set:function(M){Om(j,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return gc(j)},set:function(M){Bm(j,M)},enumerable:!0,configurable:!0}),(function(M){for(var J=0,ke=ht.length;J<ke;J++){var Le=_r.call(this,M[J][0],M[J][1],M[J][2],ht[J][3],!0);p===!1&&(g[Le]=!0);var Be=M[J][0].split("-");Bt({id:Le,fontName:Be[0],fontStyle:Be[1]||""})}$n.publish("addFonts",{fonts:Pt,dictionary:sn})}).call(m,ht),Rt="F1",$s(i,t),$n.publish("initialized"),m}Mg.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Mg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Mg.prototype.processOwnerPassword=function(n,e){return CT(TT(e).substr(0,5),n)},Mg.prototype.encryptor=function(n,e){var t=TT(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return CT(t,r)}},_w.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fr(n)!==Fr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},nn.API={events:[]},nn.version="4.0.0";var Oi=nn.API,y4=1,Am=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},In=function(n){return n.toFixed(2)},md=function(n){return n.toFixed(5)};Oi.__acroform__={};var Uo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},P8=function(n){return n*y4},Du=function(n){var e=new qF,t=Xt.internal.getHeight(n)||0,r=Xt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(In(r)),Number(In(t))],e},nK=Oi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},rK=Oi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},iK=Oi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},$i=Oi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iK(n,e-1)},Ki=Oi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nK(n,e-1)},Ji=Oi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rK(n,e-1)},sK=Oi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(In(c.lowerLeft_X)),Number(In(c.lowerLeft_Y)),Number(In(c.upperRight_X)),Number(In(c.upperRight_Y))]},aK=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=kT(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+In(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Du(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},kT=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var s=t,a=Xt.internal.getHeight(n)||0;a=a<0?-a:a;var o=Xt.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(B,G,Q){if(B+1<i.length){var ce=G+" "+i[B+1][0];return i_(ce,n,Q).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,p=i_("3",n,s).height,g=n.multiline?a-s:(a-p)/2,m=g+=2,b=0,_=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+i_(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var T="",L=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var F=!1;if(i[R].length!==1&&w!==i[R].length-1){if((p+2)*(L+2)+2>a)continue e;T+=i[R][w],F=!0,_=R,R--}else{T=(T+=i[R][w]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var z=parseInt(R),q=c(z,T,s),P=R>=i.length-1;if(q&&!P){T+=" ",w=0;continue}if(q||P){if(P)_=z;else if(n.multiline&&(p+2)*(L+2)+2>a)continue e}else{if(!n.multiline||(p+2)*(L+2)+2>a)continue e;_=z}}for(var X="",O=b;O<=_;O++){var ee=i[O];if(n.multiline){if(O===_){X+=ee[w]+" ",w=(w+1)%ee.length;continue}if(O===b){X+=ee[ee.length-1]+" ";continue}}X+=ee[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,h=i_(X,n,s).width,n.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}e+=In(f)+" "+In(m)+` Td
`,e+="("+Am(X)+`) Tj
`,e+=-In(f)+` 0 Td
`,m=-(s+2),h=0,b=F?_:_+1,L++,T=""}break}return r.text=e,r.fontSize=s,r},i_=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},oK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lK=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},cK=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(cu.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(oK)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");y4=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new VF,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&lK(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],f=o.Rect;if(o.Rect&&(o.Rect=sK(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Xt.createDefaultAppearanceStream(o),Fr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=aK(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var b=m[a];typeof b=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(_,w){for(var T in _)if(_.hasOwnProperty(T)){var L=T,R=_[T];w.internal.newObjectDeferredBegin(R.objId,!0),Fr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete _[L]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},GF=Oi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Fr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Am(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yS=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Am(r(n))+")"},tf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tf.prototype.toString=function(){return this.objId+" 0 R"},tf.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},tf.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:GF(i,this.objId,this.scope)}):i instanceof tf?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var qF=function(){tf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Uo(qF,tf);var VF=function(){tf.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Am(t(n))+")"}},set:function(t){n=t}})};Uo(VF,tf);var cu=function n(){tf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$i(e,3)},set:function(T){T?this.F=Ki(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ww)return;s="FieldObject"+n.FieldNum++}var T=function(L){return L};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Am(T(s))+")"},set:function(T){s=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(T){s=T}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(T){a=T}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/y4:f},set:function(T){f=T}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof ww||this instanceof nm))return yS(p,this.objId,this.scope)},set:function(T){T=T.toString(),p=T}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof qs==0?yS(g,this.objId,this.scope):g},set:function(T){T=T.toString(),g=this instanceof qs==0?T.substr(0,1)==="("?bg(T.substr(1,T.length-2)):bg(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?bg(g.substr(1,g.length-1)):g},set:function(T){T=T.toString(),g=this instanceof qs==1?"/"+T:T}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof qs==0?yS(m,this.objId,this.scope):m},set:function(T){T=T.toString(),m=this instanceof qs==0?T.substr(0,1)==="("?bg(T.substr(1,T.length-2)):bg(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?bg(m.substr(1,m.length-1)):m},set:function(T){T=T.toString(),m=this instanceof qs==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(T){T=!!T,_=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(T){b=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,1)},set:function(T){T?this.Ff=Ki(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,2)},set:function(T){T?this.Ff=Ki(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,3)},set:function(T){T?this.Ff=Ki(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');w=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(w){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Uo(cu,tf);var Wg=function(){cu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return GF(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,f=[];c=a.exec(s);)f.push(c[o]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,18)},set:function(t){t?this.Ff=Ki(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ki(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,20)},set:function(t){t?(this.Ff=Ki(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,22)},set:function(t){t?this.Ff=Ki(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(t){t?this.Ff=Ki(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,27)},set:function(t){t?this.Ff=Ki(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};Uo(Wg,cu);var Xg=function(){Wg.call(this),this.fontName="helvetica",this.combo=!1};Uo(Xg,Wg);var Yg=function(){Xg.call(this),this.combo=!0};Uo(Yg,Xg);var Q_=function(){Yg.call(this),this.edit=!0};Uo(Q_,Yg);var qs=function(){cu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,15)},set:function(t){t?this.Ff=Ki(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,16)},set:function(t){t?this.Ff=Ki(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,17)},set:function(t){t?this.Ff=Ki(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(t){t?this.Ff=Ki(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Am(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Fr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Uo(qs,cu);var ew=function(){qs.call(this),this.pushButton=!0};Uo(ew,qs);var $g=function(){qs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Uo($g,qs);var ww=function(){var n,e;cu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Am(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Fr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Uo(ww,cu),$g.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},$g.prototype.createOption=function(n){var e=new ww;return e.Parent=this,e.optionName=n,this.Kids.push(e),uK.call(this.scope,e),e};var tw=function(){qs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};Uo(tw,qs);var nm=function(){cu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,13)},set:function(e){e?this.Ff=Ki(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,21)},set:function(e){e?this.Ff=Ki(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(e){e?this.Ff=Ki(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,24)},set:function(e){e?this.Ff=Ki(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,25)},set:function(e){e?this.Ff=Ki(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(e){e?this.Ff=Ki(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Uo(nm,cu);var nw=function(){nm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,14)},set:function(n){n?this.Ff=Ki(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};Uo(nw,nm);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=kT(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+In(Xt.internal.getWidth(n))+" "+In(Xt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+In(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Xt.internal.getHeight(n),a=Xt.internal.getWidth(n),o=kT(n,n.caption);return i.push("1 g"),i.push("0 0 "+In(a)+" "+In(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+In(a-1)+" "+In(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+In(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+In(Xt.internal.getWidth(n))+" "+In(Xt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Xt.RadioButton.Circle.YesNormal,e.D[n]=Xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Xt.internal.getWidth(n)<=Xt.internal.getHeight(n)?Xt.internal.getWidth(n)/4:Xt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Xt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+md(Xt.internal.getWidth(n)/2)+" "+md(Xt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Xt.internal.getWidth(n)<=Xt.internal.getHeight(n)?Xt.internal.getWidth(n)/4:Xt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xt.internal.Bezier_C).toFixed(5)),a=Number((r*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+md(Xt.internal.getWidth(n)/2)+" "+md(Xt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+md(Xt.internal.getWidth(n)/2)+" "+md(Xt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Xt.internal.getWidth(n)<=Xt.internal.getHeight(n)?Xt.internal.getWidth(n)/4:Xt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+md(Xt.internal.getWidth(n)/2)+" "+md(Xt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Xt.RadioButton.Cross.YesNormal,e.D[n]=Xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Du(n);e.scope=n.scope;var t=[],r=Xt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+In(Xt.internal.getWidth(n)-2)+" "+In(Xt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(In(r.x1.x)+" "+In(r.x1.y)+" m"),t.push(In(r.x2.x)+" "+In(r.x2.y)+" l"),t.push(In(r.x4.x)+" "+In(r.x4.y)+" m"),t.push(In(r.x3.x)+" "+In(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=Xt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+In(Xt.internal.getWidth(n))+" "+In(Xt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+In(Xt.internal.getWidth(n)-2)+" "+In(Xt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(In(t.x1.x)+" "+In(t.x1.y)+" m"),r.push(In(t.x2.x)+" "+In(t.x2.y)+" l"),r.push(In(t.x4.x)+" "+In(t.x4.y)+" m"),r.push(In(t.x3.x)+" "+In(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Du(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+In(Xt.internal.getWidth(n))+" "+In(Xt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Xt.internal.getWidth(n),t=Xt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Xt.internal.getWidth=function(n){var e=0;return Fr(n)==="object"&&(e=P8(n.Rect[2])),e},Xt.internal.getHeight=function(n){var e=0;return Fr(n)==="object"&&(e=P8(n.Rect[3])),e};var uK=Oi.addField=function(n){if(cK(this,n),!(n instanceof cu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=Wg,Oi.AcroFormListBox=Xg,Oi.AcroFormComboBox=Yg,Oi.AcroFormEditBox=Q_,Oi.AcroFormButton=qs,Oi.AcroFormPushButton=ew,Oi.AcroFormRadioButton=$g,Oi.AcroFormCheckBox=tw,Oi.AcroFormTextField=nm,Oi.AcroFormPasswordField=nw,Oi.AcroFormAppearance=Xt,Oi.AcroForm={ChoiceField:Wg,ListBox:Xg,ComboBox:Yg,EditBox:Q_,Button:qs,PushButton:ew,RadioButton:$g,CheckBox:tw,TextField:nm,PasswordField:nw,Appearance:Xt},nn.AcroForm={ChoiceField:Wg,ListBox:Xg,ComboBox:Yg,EditBox:Q_,Button:qs,PushButton:ew,RadioButton:$g,CheckBox:tw,TextField:nm,PasswordField:nw,Appearance:Xt};nn.AcroForm;function WF(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(B,G){var Q,ce,_e,K,le,Se=t;if((G=G||t)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(q(B))for(le in r)for(_e=r[le],Q=0;Q<_e.length;Q+=1){for(K=!0,ce=0;ce<_e[Q].length;ce+=1)if(_e[Q][ce]!==void 0&&_e[Q][ce]!==B[ce]){K=!1;break}if(K===!0){Se=le;break}}else for(le in r)for(_e=r[le],Q=0;Q<_e.length;Q+=1){for(K=!0,ce=0;ce<_e[Q].length;ce+=1)if(_e[Q][ce]!==void 0&&_e[Q][ce]!==B.charCodeAt(ce)){K=!1;break}if(K===!0){Se=le;break}}return Se===t&&G!==t&&(Se=G),Se},s=function B(G){for(var Q=this.internal.write,ce=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:G.width}),K.push({key:"Height",value:G.height}),G.colorSpace===T.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===T.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var le="",Se=0,ve=G.transparency.length;Se<ve;Se++)le+=G.transparency[Se]+" "+G.transparency[Se]+" ";K.push({key:"Mask",value:"["+le+"]"})}G.sMask!==void 0&&K.push({key:"SMask",value:G.objectId+1+" 0 R"});var Pe=G.filter!==void 0?["/"+G.filter]:void 0;if(ce({data:G.data,additionalKeyValues:K,alreadyAppliedFilters:Pe,objectId:G.objectId}),Q("endobj"),"sMask"in G&&G.sMask!==void 0){var ie,I=(ie=G.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:G.bitsPerComponent,j={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:G.sMask};"filter"in G&&(j.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(G.width),j.filter=G.filter),B.call(this,j)}if(G.colorSpace===T.INDEXED){var U=this.internal.newObject();ce({data:X(new Uint8Array(G.palette)),objectId:U}),Q("endobj")}},a=function(){var B=this.internal.collections[e+"images"];for(var G in B)s.call(this,B[G])},o=function(){var B,G=this.internal.collections[e+"images"],Q=this.internal.write;for(var ce in G)Q("/I"+(B=G[ce]).index,B.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var B=this.internal.collections[e+"images"];return c.call(this),B},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(B){return typeof n["process"+B.toUpperCase()]=="function"},g=function(B){return Fr(B)==="object"&&B.nodeType===1},m=function(B,G){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var Q=""+B.getAttribute("src");if(Q.indexOf("data:image/")===0)return Z_(unescape(Q).split("base64,").pop());var ce=n.loadFile(Q,!0);if(ce!==void 0)return ce}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var _e;switch(G){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return Z_(B.toDataURL(_e,1).split("base64,").pop())}},b=function(B){var G=this.internal.collections[e+"images"];if(G){for(var Q in G)if(B===G[Q].alias)return G[Q]}},_=function(B,G,Q){return B||G||(B=-96,G=-96),B<0&&(B=-1*Q.width*72/B/this.internal.scaleFactor),G<0&&(G=-1*Q.height*72/G/this.internal.scaleFactor),B===0&&(B=G*Q.width/Q.height),G===0&&(G=B*Q.height/Q.width),[B,G]},w=function(B,G,Q,ce,_e,K){var le=_.call(this,Q,ce,_e),Se=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,Pe=f.call(this);if(Q=le[0],ce=le[1],Pe[_e.index]=_e,K){K*=Math.PI/180;var ie=Math.cos(K),I=Math.sin(K),j=function(Y){return Y.toFixed(4)},U=[j(ie),j(I),j(-1*I),j(ie),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,Se(B),ve(G+ce),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([Se(Q),"0","0",Se(ce),"0","0","cm"].join(" "))):this.internal.write([Se(Q),"0","0",Se(ce),Se(B),ve(G+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=n.__addimage__.sHashCode=function(B){var G,Q,ce=0;if(typeof B=="string")for(Q=B.length,G=0;G<Q;G++)ce=(ce<<5)-ce+B.charCodeAt(G),ce|=0;else if(q(B))for(Q=B.byteLength/2,G=0;G<Q;G++)ce=(ce<<5)-ce+B[G],ce|=0;return ce},F=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var G=!0;return B.length===0&&(G=!1),B.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(G=!1),G},z=n.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var G=B.indexOf(",");return G<0?null:B.substring(0,G).trim().endsWith("base64")?B.substring(G+1):null};n.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var q=n.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},P=n.__addimage__.binaryStringToUint8Array=function(B){for(var G=B.length,Q=new Uint8Array(G),ce=0;ce<G;ce++)Q[ce]=B.charCodeAt(ce);return Q},X=n.__addimage__.arrayBufferToBinaryString=function(B){for(var G="",Q=q(B)?B:new Uint8Array(B),ce=0;ce<Q.length;ce+=8192)G+=String.fromCharCode.apply(null,Q.subarray(ce,ce+8192));return G};n.addImage=function(){var B,G,Q,ce,_e,K,le,Se,ve;if(typeof arguments[1]=="number"?(G=t,Q=arguments[1],ce=arguments[2],_e=arguments[3],K=arguments[4],le=arguments[5],Se=arguments[6],ve=arguments[7]):(G=arguments[1],Q=arguments[2],ce=arguments[3],_e=arguments[4],K=arguments[5],le=arguments[6],Se=arguments[7],ve=arguments[8]),Fr(B=arguments[0])==="object"&&!g(B)&&"imageData"in B){var Pe=B;B=Pe.imageData,G=Pe.format||G||t,Q=Pe.x||Q||0,ce=Pe.y||ce||0,_e=Pe.w||Pe.width||_e,K=Pe.h||Pe.height||K,le=Pe.alias||le,Se=Pe.compression||Se,ve=Pe.rotation||Pe.angle||ve}var ie=this.internal.getFilters();if(Se===void 0&&ie.indexOf("FlateEncode")!==-1&&(Se="SLOW"),isNaN(Q)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=O.call(this,B,G,le,Se);return w.call(this,Q,ce,_e,K,I,ve),this};var O=function(B,G,Q,ce){var _e,K,le;if(typeof B=="string"&&i(B)===t){B=unescape(B);var Se=ee(B,!1);(Se!==""||(Se=n.loadFile(B,!0))!==void 0)&&(B=Se)}if(g(B)&&(B=m(B,G)),G=i(B,G),!p(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((le=Q)==null||le.length===0)&&(Q=(function(ve){return typeof ve=="string"||q(ve)?R(ve):q(ve.data)?R(ve.data):null})(B)),(_e=b.call(this,Q))||(B instanceof Uint8Array||G==="RGBA"||(K=B,B=P(B)),_e=this["process"+G.toUpperCase()](B,h.call(this),Q,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in n.image_compression?ve:L.NONE})(ce),K)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},ee=n.__addimage__.convertBase64ToBinaryString=function(B,G){G=typeof G!="boolean"||G;var Q,ce="";if(typeof B=="string"){var _e;Q=(_e=z(B))!==null&&_e!==void 0?_e:B;try{ce=Z_(Q)}catch(K){if(G)throw F(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};n.getImageProperties=function(B){var G,Q,ce="";if(g(B)&&(B=m(B)),typeof B=="string"&&i(B)===t&&((ce=ee(B,!1))===""&&(ce=n.loadFile(B)||""),B=ce),Q=i(B),!p(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(B instanceof Uint8Array||(B=P(B)),!(G=this["process"+Q.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=Q,G}})(nn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};nn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(_.objId),L=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(T(r.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(T(L))+") >>",_.content=s;var R=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(_.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var q=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:f(r),w:c(t+i),h:f(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(t,o).length;a=Math.ceil(f*h)}else o=c,a=f;return this.text(t,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,o,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(nn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=n.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(_){var w=0,T=t,L="",R=0;for(w=0;w<_.length;w+=1)T[_.charCodeAt(w)]!==void 0?(R++,typeof(T=T[_.charCodeAt(w)])=="number"&&(L+=String.fromCharCode(T),T=t,R=0),w===_.length-1&&(T=t,L+=_.charAt(w-(R-1)),w-=R-1,R=0)):(T=t,L+=_.charAt(w-R),w-=R,R=0);return L};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(_,w,T){return a(_)?s(_)===!1?-1:!f(_)||!a(w)&&!a(T)||!a(T)&&o(w)||o(_)&&!a(w)||o(_)&&c(w)||o(_)&&o(w)?0:h(_)&&a(w)&&!o(w)&&a(T)&&f(T)?3:o(_)||!a(T)?1:2:-1},m=function(_){var w=0,T=0,L=0,R="",F="",z="",q=(_=_||"").split("\\s+"),P=[];for(w=0;w<q.length;w+=1){for(P.push(""),T=0;T<q[w].length;T+=1)R=q[w][T],F=q[w][T-1],z=q[w][T+1],a(R)?(L=g(R,F,z),P[w]+=L!==-1?String.fromCharCode(e[R.charCodeAt(0)][L]):R):P[w]+=R;P[w]=p(P[w])}return P.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var _,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(w)){var L=0;for(T=[],L=0;L<w.length;L+=1)Array.isArray(w[L])?T.push([m(w[L][0]),w[L][1],w[L][2]]):T.push([m(w[L])]);_=T}else _=m(w);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",b])})(nn.API),nn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(nn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(_){b=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,m=0,b=0,_=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var T=f.maxWidth;T>0?typeof c=="string"?c=this.splitTextToSize(c,T):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,F){return R.concat(w.splitTextToSize(F,T))},[])):c=Array.isArray(c)?c:[c];for(var L=0;L<c.length;L++)m<(_=this.getStringUnitWidth(c[L],{font:p})*h)&&(m=_);return m!==0&&(b=c.length),{w:m/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,b,_,w,T=[],L=[],R=[],F={},z={},q=[],P=[],X=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},e),G=typeof g.padding=="number"?g.padding:3,Q=g.headerBackgroundColor||"#c8c8c8",ce=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=ce,this.setFontSize(ee),p==null)L=T=Object.keys(h[0]),R=T.map(function(){return"left"});else if(Array.isArray(p)&&Fr(p[0])==="object")for(T=p.map(function(Pe){return Pe.name}),L=p.map(function(Pe){return Pe.prompt||Pe.name||""}),R=p.map(function(Pe){return Pe.align||"left"}),m=0;m<p.length;m+=1)z[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=T=p,R=T.map(function(){return"left"}));if(X||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<T.length;m+=1){for(F[w=T[m]]=h.map(function(Pe){return Pe[w]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=F[w],this.setFont(void 0,"normal"),_=0;_<b.length;_+=1)q.push(this.getTextDimensions(b[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[w]=Math.max.apply(null,q)+G+G,q=[]}if(O){var _e={};for(m=0;m<T.length;m+=1)_e[T[m]]={},_e[T[m]].text=L[m],_e[T[m]].align=R[m];var K=o.call(this,_e,z);P=T.map(function(Pe){return new s(c,f,z[Pe],K,_e[Pe].text,void 0,_e[Pe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var le=p.reduce(function(Pe,ie){return Pe[ie.name]=ie.align,Pe},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var Se=o.call(this,h[m],z);for(_=0;_<T.length;_+=1){var ve=h[m][T[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:_,data:ve},this),a.call(this,new s(c,f,z[T[_]],Se,ve,m+2,le[T[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var b=c[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,b){return Math.max(m,b)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}})(nn.API);var XF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],NT=WF(YF),$F=[100,200,300,400,500,600,700,800,900],fK=WF($F);function bS(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return XF[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof NT[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function O8(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var hK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U8(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function H8(n){return n.trimLeft()}function dK(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function pK(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var s_,z8,j8,_g,a_,G8,q8,V8,_S=["times"];function W8(n,e,t,r,i){var s=4,a=Y8;switch(i){case nn.API.image_compression.FAST:s=1,a=X8;break;case nn.API.image_compression.MEDIUM:s=6,a=$8;break;case nn.API.image_compression.SLOW:s=9,a=K8}n=(function(c,f,h,p){for(var g,m=c.length/f,b=new Uint8Array(c.length+m),_=[mK,X8,Y8,$8,K8],w=0;w<m;w+=1){var T=w*f,L=c.subarray(T,T+f);if(p)b.set(p(L,h,g),T+w);else{for(var R=_.length,F=[],z=0;z<R;z+=1)F[z]=_[z](L,h,g);var q=vK(F.concat());b.set(F[q],T+w)}g=L}return b})(n,e,Math.ceil(t*r/8),a);var o=wT(n,{level:s});return nn.API.__addimage__.arrayBufferToBinaryString(o)}function mK(n){var e=Array.apply([],n);return e.unshift(0),e}function X8(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function Y8(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=t&&t[s]||0;i[s+1]=n[s]-a+256&255}return i}function $8(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;i[s+1]=n[s]+256-(a+o>>>1)&255}return i}function K8(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=gK(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-a+256&255}return i}function gK(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function vK(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function wS(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),a=(1<<t)-1;return KF(n,i)>>s&a}function J8(n,e,t,r){var i=t*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<a;(function(f,h,p){if(h+1<f.byteLength)f.setUint16(h,p,!1);else{var g=p>>8&255;f.setUint8(h,g)}})(n,s,KF(n,s)&~(o<<a)&65535|c)}function KF(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function xK(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<1+(7&i);n[e++],n[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var f=!0,h=[],p=0,g=null,m=0,b=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],1&_||(g=null),m=_>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var w=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,F=n[e++],z=F>>6&1,q=1<<1+(7&F),P=o,X=c,O=!1;F>>7&&(O=!0,P=e,X=q,e+=3*q);var ee=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:w,y:T,width:L,height:R,has_local_palette:O,palette_offset:P,palette_size:X,data_offset:ee,data_length:e-ee,transparent_index:g,interlaced:!!z,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,Q){var ce=this.frameInfo(G),_e=ce.width*ce.height,K=new Uint8Array(_e);Z8(n,ce.data_offset,K,_e);var le=ce.palette_offset,Se=ce.transparent_index;Se===null&&(Se=256);var ve=ce.width,Pe=t-ve,ie=ve,I=4*(ce.y*t+ce.x),j=4*((ce.y+ce.height)*t+ce.x),U=I,Y=4*Pe;ce.interlaced===!0&&(Y+=4*t*7);for(var ae=8,ye=0,me=K.length;ye<me;++ye){var fe=K[ye];if(ie===0&&(ie=ve,(U+=Y)>=j&&(Y=4*Pe+4*t*(ae-1),U=I+(ve+Pe)*(ae<<1),ae>>=1)),fe===Se)U+=4;else{var Te=n[le+3*fe],Oe=n[le+3*fe+1],ue=n[le+3*fe+2];Q[U++]=ue,Q[U++]=Oe,Q[U++]=Te,Q[U++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(G,Q){var ce=this.frameInfo(G),_e=ce.width*ce.height,K=new Uint8Array(_e);Z8(n,ce.data_offset,K,_e);var le=ce.palette_offset,Se=ce.transparent_index;Se===null&&(Se=256);var ve=ce.width,Pe=t-ve,ie=ve,I=4*(ce.y*t+ce.x),j=4*((ce.y+ce.height)*t+ce.x),U=I,Y=4*Pe;ce.interlaced===!0&&(Y+=4*t*7);for(var ae=8,ye=0,me=K.length;ye<me;++ye){var fe=K[ye];if(ie===0&&(ie=ve,(U+=Y)>=j&&(Y=4*Pe+4*t*(ae-1),U=I+(ve+Pe)*(ae<<1),ae>>=1)),fe===Se)U+=4;else{var Te=n[le+3*fe],Oe=n[le+3*fe+1],ue=n[le+3*fe+2];Q[U++]=Te,Q[U++]=Oe,Q[U++]=ue,Q[U++]=255}--ie}}}function Z8(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,c=i+1,f=(1<<c)-1,h=0,p=0,g=0,m=n[e++],b=new Int32Array(4096),_=null;;){for(;h<16&&m!==0;)p|=n[e++]<<h,h+=8,m===1?m=n[e++]:--m;if(h<c)break;var w=p&f;if(p>>=c,h-=c,w!==s){if(w===a)break;for(var T=w<o?w:_,L=0,R=T;R>s;)R=b[R]>>8,++L;var F=R;if(g+L+(T!==w?1:0)>r)return void $r.log("Warning, gif stream longer than expected.");t[g++]=F;var z=g+=L;for(T!==w&&(t[g++]=F),R=T;L--;)R=b[R],t[--z]=255&R,R>>=8;_!==null&&o<4096&&(b[o++]=_<<8|F,o>=f+1&&c<12&&(++c,f=f<<1|1)),_=w}else o=a+1,f=(1<<(c=i+1))-1,_=null}return g!==r&&$r.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function AS(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),_=[],w=0,T=7,L=new Array(64),R=new Array(64),F=new Array(64),z=new Array(256),q=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(I,j){for(var U=0,Y=0,ae=new Array,ye=1;ye<=16;ye++){for(var me=1;me<=I[ye];me++)ae[j[Y]]=[],ae[j[Y]][0]=U,ae[j[Y]][1]=ye,Y++,U++;U*=2}return ae}function le(I){for(var j=I[0],U=I[1]-1;U>=0;)j&1<<U&&(w|=1<<T),U--,--T<0&&(w==255?(Se(255),Se(0)):Se(w),T=7,w=0)}function Se(I){_.push(I)}function ve(I){Se(I>>8&255),Se(255&I)}function Pe(I,j,U,Y,ae){for(var ye,me=ae[0],fe=ae[240],Te=(function(et,kt){var _t,jt,Mt,Yt,dn,Kt,En,Qt,Rt,je,ot=0;for(Rt=0;Rt<8;++Rt){_t=et[ot],jt=et[ot+1],Mt=et[ot+2],Yt=et[ot+3],dn=et[ot+4],Kt=et[ot+5],En=et[ot+6];var fn=_t+(Qt=et[ot+7]),Lt=_t-Qt,Pt=jt+En,sn=jt-En,Hn=Mt+Kt,an=Mt-Kt,yr=Yt+dn,hn=Yt-dn,gn=fn+yr,br=fn-yr,Cn=Pt+Hn,$t=Pt-Hn;et[ot]=gn+Cn,et[ot+4]=gn-Cn;var $n=.707106781*($t+br);et[ot+2]=br+$n,et[ot+6]=br-$n;var Ha=.382683433*((gn=hn+an)-($t=sn+Lt)),ts=.5411961*gn+Ha,lo=1.306562965*$t+Ha,da=.707106781*(Cn=an+sn),tn=Lt+da,Ho=Lt-da;et[ot+5]=Ho+ts,et[ot+3]=Ho-ts,et[ot+1]=tn+lo,et[ot+7]=tn-lo,ot+=8}for(ot=0,Rt=0;Rt<8;++Rt){_t=et[ot],jt=et[ot+8],Mt=et[ot+16],Yt=et[ot+24],dn=et[ot+32],Kt=et[ot+40],En=et[ot+48];var co=_t+(Qt=et[ot+56]),ps=_t-Qt,Ys=jt+En,Pr=jt-En,ci=Mt+Kt,te=Mt-Kt,Ce=Yt+dn,ge=Yt-dn,xe=co+Ce,we=co-Ce,Ne=Ys+ci,Ge=Ys-ci;et[ot]=xe+Ne,et[ot+32]=xe-Ne;var tt=.707106781*(Ge+we);et[ot+16]=we+tt,et[ot+48]=we-tt;var Ve=.382683433*((xe=ge+te)-(Ge=Pr+ps)),We=.5411961*xe+Ve,Ye=1.306562965*Ge+Ve,vt=.707106781*(Ne=te+Pr),bt=ps+vt,Tt=ps-vt;et[ot+40]=Tt+We,et[ot+24]=Tt-We,et[ot+8]=bt+Ye,et[ot+56]=bt-Ye,ot++}for(Rt=0;Rt<64;++Rt)je=et[Rt]*kt[Rt],m[Rt]=je>0?je+.5|0:je-.5|0;return m})(I,j),Oe=0;Oe<64;++Oe)b[P[Oe]]=Te[Oe];var ue=b[0]-U;U=b[0],ue==0?le(Y[0]):(le(Y[g[ye=32767+ue]]),le(p[ye]));for(var nt=63;nt>0&&b[nt]==0;)nt--;if(nt==0)return le(me),U;for(var it,de=1;de<=nt;){for(var Fe=de;b[de]==0&&de<=nt;)++de;var He=de-Fe;if(He>=16){it=He>>4;for(var ht=1;ht<=it;++ht)le(fe);He&=15}ye=32767+b[de],le(ae[(He<<4)+g[ye]]),le(p[ye]),de++}return nt!=63&&le(me),U}function ie(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(j){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ae=a((U[Y]*j+50)/100);ae=Math.min(Math.max(ae,1),255),o[P[Y]]=ae}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var fe=a((ye[me]*j+50)/100);fe=Math.min(Math.max(fe,1),255),c[P[me]]=fe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,ue=0;ue<8;ue++)for(var nt=0;nt<8;nt++)f[Oe]=1/(o[P[Oe]]*Te[ue]*Te[nt]*8),h[Oe]=1/(c[P[Oe]]*Te[ue]*Te[nt]*8),Oe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,j){j&&ie(j),_=new Array,w=0,T=7,ve(65496),ve(65504),ve(16),Se(74),Se(70),Se(73),Se(70),Se(0),Se(1),Se(1),Se(0),ve(1),ve(1),Se(0),Se(0),(function(){ve(65499),ve(132),Se(0);for(var jt=0;jt<64;jt++)Se(o[jt]);Se(1);for(var Mt=0;Mt<64;Mt++)Se(c[Mt])})(),(function(jt,Mt){ve(65472),ve(17),Se(8),ve(Mt),ve(jt),Se(3),Se(1),Se(17),Se(0),Se(2),Se(17),Se(1),Se(3),Se(17),Se(1)})(I.width,I.height),(function(){ve(65476),ve(418),Se(0);for(var jt=0;jt<16;jt++)Se(X[jt+1]);for(var Mt=0;Mt<=11;Mt++)Se(O[Mt]);Se(16);for(var Yt=0;Yt<16;Yt++)Se(ee[Yt+1]);for(var dn=0;dn<=161;dn++)Se(B[dn]);Se(1);for(var Kt=0;Kt<16;Kt++)Se(G[Kt+1]);for(var En=0;En<=11;En++)Se(Q[En]);Se(17);for(var Qt=0;Qt<16;Qt++)Se(ce[Qt+1]);for(var Rt=0;Rt<=161;Rt++)Se(_e[Rt])})(),ve(65498),ve(12),Se(3),Se(1),Se(0),Se(2),Se(17),Se(3),Se(17),Se(0),Se(63),Se(0);var U=0,Y=0,ae=0;w=0,T=7,this.encode.displayName="_encode_";for(var ye,me,fe,Te,Oe,ue,nt,it,de,Fe=I.data,He=I.width,ht=I.height,et=4*He,kt=0;kt<ht;){for(ye=0;ye<et;){for(Oe=et*kt+ye,nt=-1,it=0,de=0;de<64;de++)ue=Oe+(it=de>>3)*et+(nt=4*(7&de)),kt+it>=ht&&(ue-=et*(kt+1+it-ht)),ye+nt>=et&&(ue-=ye+nt-et+4),me=Fe[ue++],fe=Fe[ue++],Te=Fe[ue++],L[de]=(q[me]+q[fe+256|0]+q[Te+512|0]>>16)-128,R[de]=(q[me+768|0]+q[fe+1024|0]+q[Te+1280|0]>>16)-128,F[de]=(q[me+1280|0]+q[fe+1536|0]+q[Te+1792|0]>>16)-128;U=Pe(L,f,U,e,r),Y=Pe(R,h,Y,t,i),ae=Pe(F,h,ae,t,i),ye+=32}kt+=8}if(T>=0){var _t=[];_t[1]=T+1,_t[0]=(1<<T+1)-1,le(_t)}return ve(65497),new Uint8Array(_)},n=n||50,(function(){for(var I=String.fromCharCode,j=0;j<256;j++)z[j]=I(j)})(),e=K(X,O),t=K(G,Q),r=K(ee,B),i=K(ce,_e),(function(){for(var I=1,j=2,U=1;U<=15;U++){for(var Y=I;Y<j;Y++)g[32767+Y]=U,p[32767+Y]=[],p[32767+Y][1]=U,p[32767+Y][0]=Y;for(var ae=-(j-1);ae<=-I;ae++)g[32767+ae]=U,p[32767+ae]=[],p[32767+ae][1]=U,p[32767+ae][0]=j-1+ae;I<<=1,j<<=1}})(),(function(){for(var I=0;I<256;I++)q[I]=19595*I,q[I+256|0]=38470*I,q[I+512|0]=7471*I+32768,q[I+768|0]=-11059*I,q[I+1024|0]=-21709*I,q[I+1280|0]=32768*I+8421375,q[I+1536|0]=-27439*I,q[I+1792|0]=-5329*I})(),ie(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Dc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Q8(n){function e(O){if(!O)throw Error("assert :P")}function t(O,ee,B){for(var G=0;4>G;G++)if(O[ee+G]!=B.charCodeAt(G))return!0;return!1}function r(O,ee,B,G,Q){for(var ce=0;ce<Q;ce++)O[ee+ce]=B[G+ce]}function i(O,ee,B,G){for(var Q=0;Q<G;Q++)O[ee+Q]=B}function s(O){return new Int32Array(O)}function a(O,ee){for(var B=[],G=0;G<O;G++)B.push(new ee);return B}function o(O,ee){var B=[];return(function G(Q,ce,_e){for(var K=_e[ce],le=0;le<K&&(Q.push(_e.length>ce+1?[]:new ee),!(_e.length<ce+1));le++)G(Q[le],ce+1,_e)})(B,0,O),B}var c=function(){var O=this;function ee(A,k){for(var D=1<<k-1>>>0;A&D;)D>>>=1;return D?(A&D-1)+D:A}function B(A,k,D,H,Z){e(!(H%D));do A[k+(H-=D)]=Z;while(0<H)}function G(A,k,D,H,Z){if(e(2328>=Z),512>=Z)var re=s(512);else if((re=s(Z))==null)return 0;return(function(oe,pe,be,Ee,Ie,Xe){var Ae,De,ze=pe,st=1<<be,qe=s(16),rt=s(16);for(e(Ie!=0),e(Ee!=null),e(oe!=null),e(0<be),De=0;De<Ie;++De){if(15<Ee[De])return 0;++qe[Ee[De]]}if(qe[0]==Ie)return 0;for(rt[1]=0,Ae=1;15>Ae;++Ae){if(qe[Ae]>1<<Ae)return 0;rt[Ae+1]=rt[Ae]+qe[Ae]}for(De=0;De<Ie;++De)Ae=Ee[De],0<Ee[De]&&(Xe[rt[Ae]++]=De);if(rt[15]==1)return(Ee=new Q).g=0,Ee.value=Xe[0],B(oe,ze,1,st,Ee),st;var ut,xt=-1,pt=st-1,Wt=0,Ft=1,An=1,Ht=1<<be;for(De=0,Ae=1,Ie=2;Ae<=be;++Ae,Ie<<=1){if(Ft+=An<<=1,0>(An-=qe[Ae]))return 0;for(;0<qe[Ae];--qe[Ae])(Ee=new Q).g=Ae,Ee.value=Xe[De++],B(oe,ze+Wt,Ie,Ht,Ee),Wt=ee(Wt,Ae)}for(Ae=be+1,Ie=2;15>=Ae;++Ae,Ie<<=1){if(Ft+=An<<=1,0>(An-=qe[Ae]))return 0;for(;0<qe[Ae];--qe[Ae]){if(Ee=new Q,(Wt&pt)!=xt){for(ze+=Ht,ut=1<<(xt=Ae)-be;15>xt&&!(0>=(ut-=qe[xt]));)++xt,ut<<=1;st+=Ht=1<<(ut=xt-be),oe[pe+(xt=Wt&pt)].g=ut+be,oe[pe+xt].value=ze-pe-xt}Ee.g=Ae-be,Ee.value=Xe[De++],B(oe,ze+(Wt>>be),Ie,Ht,Ee),Wt=ee(Wt,Ae)}}return Ft!=2*rt[15]-1?0:st})(A,k,D,H,Z,re)}function Q(){this.value=this.g=0}function ce(){this.value=this.g=0}function _e(){this.G=a(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(gu,ce)}function K(A,k,D,H){e(A!=null),e(k!=null),e(2147483648>H),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=k,A.pa=D,A.Jd=k,A.Yc=D+H,A.Zc=4<=H?D+H-4+1:D,me(A)}function le(A,k){for(var D=0;0<k--;)D|=Te(A,128)<<k;return D}function Se(A,k){var D=le(A,k);return fe(A)?-D:D}function ve(A,k,D,H){var Z,re=0;for(e(A!=null),e(k!=null),e(4294967288>H),A.Sb=H,A.Ra=0,A.u=0,A.h=0,4<H&&(H=4),Z=0;Z<H;++Z)re+=k[D+Z]<<8*Z;A.Ra=re,A.bb=H,A.oa=k,A.pa=D}function Pe(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Nl-8>>>0,++A.bb,A.u-=8;Y(A)&&(A.h=1,A.u=0)}function ie(A,k){if(e(0<=k),!A.h&&k<=Qs){var D=U(A)&ma[k];return A.u+=k,Pe(A),D}return A.h=1,A.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(A){return A.Ra>>>(A.u&Nl-1)>>>0}function Y(A){return e(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Nl}function ae(A,k){A.u=k,A.h=Y(A)}function ye(A){A.u>=Rl&&(e(A.u>=Rl),Pe(A))}function me(A){e(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(e(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function fe(A){return le(A,1)}function Te(A,k){var D=A.Ca;0>A.b&&me(A);var H=A.b,Z=D*k>>>8,re=(A.I>>>H>Z)+0;for(re?(D-=Z,A.I-=Z+1<<H>>>0):D=Z+1,H=D,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+wc[H],A.b-=H,A.Ca=(D<<H)-1,re}function Oe(A,k,D){A[k+0]=D>>24&255,A[k+1]=D>>16&255,A[k+2]=D>>8&255,A[k+3]=255&D}function ue(A,k){return A[k+0]|A[k+1]<<8}function nt(A,k){return ue(A,k)|A[k+2]<<16}function it(A,k){return ue(A,k)|ue(A,k+2)<<16}function de(A,k){var D=1<<k;return e(A!=null),e(0<k),A.X=s(D),A.X==null?0:(A.Mb=32-k,A.Xa=k,1)}function Fe(A,k){e(A!=null),e(k!=null),e(A.Xa==k.Xa),r(k.X,0,A.X,0,1<<k.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function ht(A,k,D,H){e(D!=null),e(H!=null);var Z=D[0],re=H[0];return Z==0&&(Z=(A*re+k/2)/k),re==0&&(re=(k*Z+A/2)/A),0>=Z||0>=re?0:(D[0]=Z,H[0]=re,1)}function et(A,k){return A+(1<<k)-1>>>k}function kt(A,k){return((4278255360&A)+(4278255360&k)>>>0&4278255360)+((16711935&A)+(16711935&k)>>>0&16711935)>>>0}function _t(A,k){O[k]=function(D,H,Z,re,oe,pe,be){var Ee;for(Ee=0;Ee<oe;++Ee){var Ie=O[A](pe[be+Ee-1],Z,re+Ee);pe[be+Ee]=kt(D[H+Ee],Ie)}}}function jt(){this.ud=this.hd=this.jd=0}function Mt(A,k){return((4278124286&(A^k))>>>1)+(A&k)>>>0}function Yt(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function dn(A,k){return Yt(A+(A-k+.5>>1))}function Kt(A,k,D){return Math.abs(k-D)-Math.abs(A-D)}function En(A,k,D,H,Z,re,oe){for(H=re[oe-1],D=0;D<Z;++D)re[oe+D]=H=kt(A[k+D],H)}function Qt(A,k,D,H,Z){var re;for(re=0;re<D;++re){var oe=A[k+re],pe=oe>>8&255,be=16711935&(be=(be=16711935&oe)+((pe<<16)+pe));H[Z+re]=(4278255360&oe)+be>>>0}}function Rt(A,k){k.jd=255&A,k.hd=A>>8&255,k.ud=A>>16&255}function je(A,k,D,H,Z,re){var oe;for(oe=0;oe<H;++oe){var pe=k[D+oe],be=pe>>>8,Ee=pe,Ie=255&(Ie=(Ie=pe>>>16)+((A.jd<<24>>24)*(be<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(A.hd<<24>>24)*(be<<24>>24)>>>5)+((A.ud<<24>>24)*(Ie<<24>>24)>>>5)),Z[re+oe]=(4278255360&pe)+(Ie<<16)+Ee}}function ot(A,k,D,H,Z){O[k]=function(re,oe,pe,be,Ee,Ie,Xe,Ae,De){for(be=Xe;be<Ae;++be)for(Xe=0;Xe<De;++Xe)Ee[Ie++]=Z(pe[H(re[oe++])])},O[A]=function(re,oe,pe,be,Ee,Ie,Xe){var Ae=8>>re.b,De=re.Ea,ze=re.K[0],st=re.w;if(8>Ae)for(re=(1<<re.b)-1,st=(1<<Ae)-1;oe<pe;++oe){var qe,rt=0;for(qe=0;qe<De;++qe)qe&re||(rt=H(be[Ee++])),Ie[Xe++]=Z(ze[rt&st]),rt>>=Ae}else O["VP8LMapColor"+D](be,Ee,ze,st,Ie,Xe,oe,pe,De)}}function fn(A,k,D,H,Z){for(D=k+D;k<D;){var re=A[k++];H[Z++]=re>>16&255,H[Z++]=re>>8&255,H[Z++]=255&re}}function Lt(A,k,D,H,Z){for(D=k+D;k<D;){var re=A[k++];H[Z++]=re>>16&255,H[Z++]=re>>8&255,H[Z++]=255&re,H[Z++]=re>>24&255}}function Pt(A,k,D,H,Z){for(D=k+D;k<D;){var re=(oe=A[k++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;H[Z++]=re,H[Z++]=oe}}function sn(A,k,D,H,Z){for(D=k+D;k<D;){var re=(oe=A[k++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;H[Z++]=re,H[Z++]=oe}}function Hn(A,k,D,H,Z){for(D=k+D;k<D;){var re=A[k++];H[Z++]=255&re,H[Z++]=re>>8&255,H[Z++]=re>>16&255}}function an(A,k,D,H,Z,re){if(re==0)for(D=k+D;k<D;)Oe(H,((re=A[k++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else r(H,Z,A,k,D)}function yr(A,k){O[k][0]=O[A+"0"],O[k][1]=O[A+"1"],O[k][2]=O[A+"2"],O[k][3]=O[A+"3"],O[k][4]=O[A+"4"],O[k][5]=O[A+"5"],O[k][6]=O[A+"6"],O[k][7]=O[A+"7"],O[k][8]=O[A+"8"],O[k][9]=O[A+"9"],O[k][10]=O[A+"10"],O[k][11]=O[A+"11"],O[k][12]=O[A+"12"],O[k][13]=O[A+"13"],O[k][14]=O[A+"0"],O[k][15]=O[A+"0"]}function hn(A){return A==L0||A==qm||A==Wh||A==Vm}function gn(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gn,this.f.kb=new br,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $n(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ha(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function ts(A,k){var D=A.T,H=k.ba.f.RGBA,Z=H.eb,re=H.fb+A.ka*H.A,oe=bs[k.ba.S],pe=A.y,be=A.O,Ee=A.f,Ie=A.N,Xe=A.ea,Ae=A.W,De=k.cc,ze=k.dc,st=k.Mc,qe=k.Nc,rt=A.ka,ut=A.ka+A.T,xt=A.U,pt=xt+1>>1;for(rt==0?oe(pe,be,null,null,Ee,Ie,Xe,Ae,Ee,Ie,Xe,Ae,Z,re,null,null,xt):(oe(k.ec,k.fc,pe,be,De,ze,st,qe,Ee,Ie,Xe,Ae,Z,re-H.A,Z,re,xt),++D);rt+2<ut;rt+=2)De=Ee,ze=Ie,st=Xe,qe=Ae,Ie+=A.Rc,Ae+=A.Rc,re+=2*H.A,oe(pe,(be+=2*A.fa)-A.fa,pe,be,De,ze,st,qe,Ee,Ie,Xe,Ae,Z,re-H.A,Z,re,xt);return be+=A.fa,A.j+ut<A.o?(r(k.ec,k.fc,pe,be,xt),r(k.cc,k.dc,Ee,Ie,pt),r(k.Mc,k.Nc,Xe,Ae,pt),D--):1&ut||oe(pe,be,null,null,Ee,Ie,Xe,Ae,Ee,Ie,Xe,Ae,Z,re+H.A,null,null,xt),D}function lo(A,k,D){var H=A.F,Z=[A.J];if(H!=null){var re=A.U,oe=k.ba.S,pe=oe==R0||oe==Wh;k=k.ba.f.RGBA;var be=[0],Ee=A.ka;be[0]=A.T,A.Kb&&(Ee==0?--be[0]:(--Ee,Z[0]-=A.width),A.j+A.ka+A.T==A.o&&(be[0]=A.o-A.j-Ee));var Ie=k.eb;Ee=k.fb+Ee*k.A,A=T0(H,Z[0],A.width,re,be,Ie,Ee+(pe?0:3),k.A),e(D==be),A&&hn(oe)&&bf(Ie,Ee,pe,re,be,k.A)}return 0}function da(A){var k=A.ma,D=k.ba.S,H=11>D,Z=D==Ms||D==mo||D==R0||D==Vh||D==12||hn(D);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!_c(k.Oa,A,Z?11:12))return 0;if(Z&&hn(D)&&w0(),A.da)alert("todo:use_scaling");else{if(H){if(k.Ib=Ha,A.Kb){if(D=A.U+1>>1,k.memory=s(A.U+2*D),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+A.U,k.Mc=k.cc,k.Nc=k.dc+D,k.Ib=ts,w0()}}else alert("todo:EmitYUV");Z&&(k.Jb=lo,H&&Wo())}if(H&&!Au){for(A=0;256>A;++A)_s[A]=89858*(A-128)+$h>>_o,k5[A]=-22014*(A-128)+$h,nb[A]=-45773*(A-128),Km[A]=113618*(A-128)+$h>>_o;for(A=Sf;A<wu;++A)k=76283*(A-16)+$h>>_o,N5[A-Sf]=Zr(k,255),R5[A-Sf]=Zr(k+8>>4,15);Au=1}return 1}function tn(A){var k=A.ma,D=A.U,H=A.T;return e(!(1&A.ka)),0>=D||0>=H?0:(D=k.Ib(A,k),k.Jb!=null&&k.Jb(A,k,D),k.Dc+=D,1)}function Ho(A){A.ma.memory=null}function co(A,k,D,H){return ie(A,8)!=47?0:(k[0]=ie(A,14)+1,D[0]=ie(A,14)+1,H[0]=ie(A,1),ie(A,3)!=0?0:!A.h)}function ps(A,k){if(4>A)return A+1;var D=A-2>>1;return(2+(1&A)<<D)+ie(k,D)+1}function Ys(A,k){return 120<k?k-120:1<=(D=((D=vo[k-1])>>4)*A+(8-(15&D)))?D:1;var D}function Pr(A,k,D){var H=U(D),Z=A[k+=255&H].g-8;return 0<Z&&(ae(D,D.u+8),H=U(D),k+=A[k].value,k+=H&(1<<Z)-1),ae(D,D.u+A[k].g),A[k].value}function ci(A,k,D){return D.g+=A.g,D.value+=A.value<<k>>>0,e(8>=D.g),A.g}function te(A,k,D){var H=A.xc;return e((k=H==0?0:A.vc[A.md*(D>>H)+(k>>H)])<A.Wb),A.Ya[k]}function Ce(A,k,D,H){var Z=A.ab,re=A.c*k,oe=A.C;k=oe+k;var pe=D,be=H;for(H=A.Ta,D=A.Ua;0<Z--;){var Ee=A.gc[Z],Ie=oe,Xe=k,Ae=pe,De=be,ze=(be=H,pe=D,Ee.Ea);switch(e(Ie<Xe),e(Xe<=Ee.nc),Ee.hc){case 2:yi(Ae,De,(Xe-Ie)*ze,be,pe);break;case 0:var st=Ie,qe=Xe,rt=be,ut=pe,xt=(Ht=Ee).Ea;st==0&&(zh(Ae,De,null,null,1,rt,ut),En(Ae,De+1,0,0,xt-1,rt,ut+1),De+=xt,ut+=xt,++st);for(var pt=1<<Ht.b,Wt=pt-1,Ft=et(xt,Ht.b),An=Ht.K,Ht=Ht.w+(st>>Ht.b)*Ft;st<qe;){var Vn=An,Xr=Ht,Rn=1;for(jh(Ae,De,rt,ut-xt,1,rt,ut);Rn<xt;){var Dt=(Rn&~Wt)+pt;Dt>xt&&(Dt=xt),(0,Ac[Vn[Xr++]>>8&15])(Ae,De+ +Rn,rt,ut+Rn-xt,Dt-Rn,rt,ut+Rn),Rn=Dt}De+=xt,ut+=xt,++st&Wt||(Ht+=Ft)}Xe!=Ee.nc&&r(be,pe-ze,be,pe+(Xe-Ie-1)*ze,ze);break;case 1:for(ze=Ae,qe=De,xt=(Ae=Ee.Ea)-(ut=Ae&~(rt=(De=1<<Ee.b)-1)),st=et(Ae,Ee.b),pt=Ee.K,Ee=Ee.w+(Ie>>Ee.b)*st;Ie<Xe;){for(Wt=pt,Ft=Ee,An=new jt,Ht=qe+ut,Vn=qe+Ae;qe<Ht;)Rt(Wt[Ft++],An),Gh(An,ze,qe,De,be,pe),qe+=De,pe+=De;qe<Vn&&(Rt(Wt[Ft++],An),Gh(An,ze,qe,xt,be,pe),qe+=xt,pe+=xt),++Ie&rt||(Ee+=st)}break;case 3:if(Ae==be&&De==pe&&0<Ee.b){for(qe=be,Ae=ze=pe+(Xe-Ie)*ze-(ut=(Xe-Ie)*et(Ee.Ea,Ee.b)),De=be,rt=pe,st=[],ut=(xt=ut)-1;0<=ut;--ut)st[ut]=De[rt+ut];for(ut=xt-1;0<=ut;--ut)qe[Ae+ut]=st[ut];Um(Ee,Ie,Xe,be,ze,be,pe)}else Um(Ee,Ie,Xe,Ae,De,be,pe)}pe=H,be=D}be!=D&&r(H,D,pe,be,re)}function ge(A,k){var D=A.V,H=A.Ba+A.c*A.C,Z=k-A.C;if(e(k<=A.l.o),e(16>=Z),0<Z){var re=A.l,oe=A.Ta,pe=A.Ua,be=re.width;if(Ce(A,Z,D,H),Z=pe=[pe],e((D=A.C)<(H=k)),e(re.v<re.va),H>re.o&&(H=re.o),D<re.j){var Ee=re.j-D;D=re.j,Z[0]+=Ee*be}if(D>=H?D=0:(Z[0]+=4*re.v,re.ka=D-re.j,re.U=re.va-re.v,re.T=H-D,D=1),D){if(pe=pe[0],11>(D=A.ca).S){var Ie=D.f.RGBA,Xe=(H=D.S,Z=re.U,re=re.T,Ee=Ie.eb,Ie.A),Ae=re;for(Ie=Ie.fb+A.Ma*Ie.A;0<Ae--;){var De=oe,ze=pe,st=Z,qe=Ee,rt=Ie;switch(H){case jm:qh(De,ze,st,qe,rt);break;case Ms:Sc(De,ze,st,qe,rt);break;case L0:Sc(De,ze,st,qe,rt),bf(qe,rt,0,st,1,0);break;case Gm:xf(De,ze,st,qe,rt);break;case mo:an(De,ze,st,qe,rt,1);break;case qm:an(De,ze,st,qe,rt,1),bf(qe,rt,0,st,1,0);break;case R0:an(De,ze,st,qe,rt,0);break;case Wh:an(De,ze,st,qe,rt,0),bf(qe,rt,1,st,1,0);break;case Vh:Ec(De,ze,st,qe,rt);break;case Vm:Ec(De,ze,st,qe,rt),po(qe,rt,st,1,0);break;case vu:Ml(De,ze,st,qe,rt);break;default:e(0)}pe+=be,Ie+=Xe}A.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(A.Ma<=D.height)}}A.C=k,e(A.C<=A.i)}function xe(A){var k;if(0<A.ua)return 0;for(k=0;k<A.Wb;++k){var D=A.Ya[k].G,H=A.Ya[k].H;if(0<D[1][H[1]+0].g||0<D[2][H[2]+0].g||0<D[3][H[3]+0].g)return 0}return 1}function we(A,k,D,H,Z,re){if(A.Z!=0){var oe=A.qd,pe=A.rd;for(e(kc[A.Z]!=null);k<D;++k)kc[A.Z](oe,pe,H,Z,H,Z,re),oe=H,pe=Z,Z+=re;A.qd=oe,A.rd=pe}}function Ne(A,k){var D=A.l.ma,H=D.Z==0||D.Z==1?A.l.j:A.C;if(H=A.C<H?H:A.C,e(k<=A.l.o),k>H){var Z=A.l.width,re=D.ca,oe=D.tb+Z*H,pe=A.V,be=A.Ba+A.c*H,Ee=A.gc;e(A.ab==1),e(Ee[0].hc==3),Il(Ee[0],H,k,pe,be,re,oe),we(D,H,k,re,oe,Z)}A.C=A.Ma=k}function Ge(A,k,D,H,Z,re,oe){var pe=A.$/H,be=A.$%H,Ee=A.m,Ie=A.s,Xe=D+A.$,Ae=Xe;Z=D+H*Z;var De=D+H*re,ze=280+Ie.ua,st=A.Pb?pe:16777216,qe=0<Ie.ua?Ie.Wa:null,rt=Ie.wc,ut=Xe<De?te(Ie,be,pe):null;e(A.C<re),e(De<=Z);var xt=!1;e:for(;;){for(;xt||Xe<De;){var pt=0;if(pe>=st){var Wt=Xe-D;e((st=A).Pb),st.wd=st.m,st.xd=Wt,0<st.s.ua&&Fe(st.s.Wa,st.s.vb),st=pe+xu}if(be&rt||(ut=te(Ie,be,pe)),e(ut!=null),ut.Qb&&(k[Xe]=ut.qb,xt=!0),!xt)if(ye(Ee),ut.jc){pt=Ee,Wt=k;var Ft=Xe,An=ut.pd[U(pt)&gu-1];e(ut.jc),256>An.g?(ae(pt,pt.u+An.g),Wt[Ft]=An.value,pt=0):(ae(pt,pt.u+An.g-256),e(256<=An.value),pt=An.value),pt==0&&(xt=!0)}else pt=Pr(ut.G[0],ut.H[0],Ee);if(Ee.h)break;if(xt||256>pt){if(!xt)if(ut.nd)k[Xe]=(ut.qb|pt<<8)>>>0;else{if(ye(Ee),xt=Pr(ut.G[1],ut.H[1],Ee),ye(Ee),Wt=Pr(ut.G[2],ut.H[2],Ee),Ft=Pr(ut.G[3],ut.H[3],Ee),Ee.h)break;k[Xe]=(Ft<<24|xt<<16|pt<<8|Wt)>>>0}if(xt=!1,++Xe,++be>=H&&(be=0,++pe,oe!=null&&pe<=re&&!(pe%16)&&oe(A,pe),qe!=null))for(;Ae<Xe;)pt=k[Ae++],qe.X[(506832829*pt&4294967295)>>>qe.Mb]=pt}else if(280>pt){if(pt=ps(pt-256,Ee),Wt=Pr(ut.G[4],ut.H[4],Ee),ye(Ee),Wt=Ys(H,Wt=ps(Wt,Ee)),Ee.h)break;if(Xe-D<Wt||Z-Xe<pt)break e;for(Ft=0;Ft<pt;++Ft)k[Xe+Ft]=k[Xe+Ft-Wt];for(Xe+=pt,be+=pt;be>=H;)be-=H,++pe,oe!=null&&pe<=re&&!(pe%16)&&oe(A,pe);if(e(Xe<=Z),be&rt&&(ut=te(Ie,be,pe)),qe!=null)for(;Ae<Xe;)pt=k[Ae++],qe.X[(506832829*pt&4294967295)>>>qe.Mb]=pt}else{if(!(pt<ze))break e;for(xt=pt-280,e(qe!=null);Ae<Xe;)pt=k[Ae++],qe.X[(506832829*pt&4294967295)>>>qe.Mb]=pt;pt=Xe,e(!(xt>>>(Wt=qe).Xa)),k[pt]=Wt.X[xt],xt=!0}xt||e(Ee.h==Y(Ee))}if(A.Pb&&Ee.h&&Xe<Z)e(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&Fe(A.s.vb,A.s.Wa);else{if(Ee.h)break e;oe!=null&&oe(A,pe>re?re:pe),A.a=0,A.$=Xe-D}return 1}return A.a=3,0}function tt(A){e(A!=null),A.vc=null,A.yc=null,A.Ya=null;var k=A.Wa;k!=null&&(k.X=null),A.vb=null,e(A!=null)}function Ve(){var A=new yn;return A==null?null:(A.a=0,A.xb=wv,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),yi=Qt,Gh=je,qh=fn,Sc=Lt,Ec=Pt,Ml=sn,xf=Hn,O.VP8LMapColor32b=Ll,O.VP8LMapColor8b=vs,A)}function We(A,k,D,H,Z){var re=1,oe=[A],pe=[k],be=H.m,Ee=H.s,Ie=null,Xe=0;e:for(;;){if(D)for(;re&&ie(be,1);){var Ae=oe,De=pe,ze=H,st=1,qe=ze.m,rt=ze.gc[ze.ab],ut=ie(qe,2);if(ze.Oc&1<<ut)re=0;else{switch(ze.Oc|=1<<ut,rt.hc=ut,rt.Ea=Ae[0],rt.nc=De[0],rt.K=[null],++ze.ab,e(4>=ze.ab),ut){case 0:case 1:rt.b=ie(qe,3)+2,st=We(et(rt.Ea,rt.b),et(rt.nc,rt.b),0,ze,rt.K),rt.K=rt.K[0];break;case 3:var xt,pt=ie(qe,8)+1,Wt=16<pt?0:4<pt?1:2<pt?2:3;if(Ae[0]=et(rt.Ea,Wt),rt.b=Wt,xt=st=We(pt,1,0,ze,rt.K)){var Ft,An=pt,Ht=rt,Vn=1<<(8>>Ht.b),Xr=s(Vn);if(Xr==null)xt=0;else{var Rn=Ht.K[0],Dt=Ht.w;for(Xr[0]=Ht.K[0][0],Ft=1;Ft<1*An;++Ft)Xr[Ft]=kt(Rn[Dt+Ft],Xr[Ft-1]);for(;Ft<4*Vn;++Ft)Xr[Ft]=0;Ht.K[0]=null,Ht.K[0]=Xr,xt=1}}st=xt;break;case 2:break;default:e(0)}re=st}}if(oe=oe[0],pe=pe[0],re&&ie(be,1)&&!(re=1<=(Xe=ie(be,4))&&11>=Xe)){H.a=3;break e}var Et;if(Et=re)t:{var ei,mn,Mn,wr=H,Gi=oe,ws=pe,Ur=Xe,Ri=D,Fs=wr.m,Li=wr.s,zn=[null],sr=1,ti=0,ur=xo[Ur];n:for(;;){if(Ri&&ie(Fs,1)){var qi=ie(Fs,3)+2,ni=et(Gi,qi),ar=et(ws,qi),wi=ni*ar;if(!We(ni,ar,0,wr,zn))break n;for(zn=zn[0],Li.xc=qi,ei=0;ei<wi;++ei){var Ar=zn[ei]>>8&65535;zn[ei]=Ar,Ar>=sr&&(sr=Ar+1)}}if(Fs.h)break n;for(mn=0;5>mn;++mn){var Ii=wf[mn];!mn&&0<Ur&&(Ii+=1<<Ur),ti<Ii&&(ti=Ii)}var Mi=a(sr*ur,Q),Cr=sr,rr=a(Cr,_e);if(rr==null)var Ds=null;else e(65536>=Cr),Ds=rr;var fi=s(ti);if(Ds==null||fi==null||Mi==null){wr.a=1;break n}var on=Mi;for(ei=Mn=0;ei<sr;++ei){var ln=Ds[ei],or=ln.G,ga=ln.H,wo=0,ta=1,Fi=0;for(mn=0;5>mn;++mn){Ii=wf[mn],or[mn]=on,ga[mn]=Mn,!mn&&0<Ur&&(Ii+=1<<Ur);i:{var Su,Eu=Ii,Zm=wr,Hr=fi,Sv=on,Ev=Mn,Qm=0,Nc=Zm.m,L5=ie(Nc,1);if(i(Hr,0,0,Eu),L5){var Tv=ie(Nc,1)+1,Cv=ie(Nc,1),eg=ie(Nc,Cv==0?1:8);Hr[eg]=1,Tv==2&&(Hr[eg=ie(Nc,8)]=1);var is=1}else{var hi=s(19),D0=ie(Nc,4)+4;if(19<D0){Zm.a=3;var Tu=0;break i}for(Su=0;Su<D0;++Su)hi[I0[Su]]=ie(Nc,3);var Jh=void 0,Ef=void 0,Pl=Zm,tg=hi,Zh=Eu,ng=Hr,rg=0,Rc=Pl.m,kv=8,Nv=a(128,Q);r:for(;G(Nv,0,7,tg,19);){if(ie(Rc,1)){var rb=2+2*ie(Rc,3);if((Jh=2+ie(Rc,rb))>Zh)break r}else Jh=Zh;for(Ef=0;Ef<Zh&&Jh--;){ye(Rc);var Rv=Nv[0+(127&U(Rc))];ae(Rc,Rc.u+Rv.g);var Cu=Rv.value;if(16>Cu)ng[Ef++]=Cu,Cu!=0&&(kv=Cu);else{var ib=Cu==16,sb=Cu-16,ab=Xh[sb],Lv=ie(Rc,go[sb])+ab;if(Ef+Lv>Zh)break r;for(var ob=ib?kv:0;0<Lv--;)ng[Ef++]=ob}}rg=1;break r}rg||(Pl.a=3),is=rg}(is=is&&!Nc.h)&&(Qm=G(Sv,Ev,8,Hr,Eu)),is&&Qm!=0?Tu=Qm:(Zm.a=3,Tu=0)}if(Tu==0)break n;if(ta&&Wm[mn]==1&&(ta=on[Mn].g==0),wo+=on[Mn].g,Mn+=Tu,3>=mn){var Tf,ig=fi[0];for(Tf=1;Tf<Ii;++Tf)fi[Tf]>ig&&(ig=fi[Tf]);Fi+=ig}}if(ln.nd=ta,ln.Qb=0,ta&&(ln.qb=(or[3][ga[3]+0].value<<24|or[1][ga[1]+0].value<<16|or[2][ga[2]+0].value)>>>0,wo==0&&256>or[0][ga[0]+0].value&&(ln.Qb=1,ln.qb+=or[0][ga[0]+0].value<<8)),ln.jc=!ln.Qb&&6>Fi,ln.jc){var P0,Ol=ln;for(P0=0;P0<gu;++P0){var Lc=P0,Ic=Ol.pd[Lc],sg=Ol.G[0][Ol.H[0]+Lc];256<=sg.value?(Ic.g=sg.g+256,Ic.value=sg.value):(Ic.g=0,Ic.value=0,Lc>>=ci(sg,8,Ic),Lc>>=ci(Ol.G[1][Ol.H[1]+Lc],16,Ic),Lc>>=ci(Ol.G[2][Ol.H[2]+Lc],0,Ic),ci(Ol.G[3][Ol.H[3]+Lc],24,Ic))}}}Li.vc=zn,Li.Wb=sr,Li.Ya=Ds,Li.yc=Mi,Et=1;break t}Et=0}if(!(re=Et)){H.a=3;break e}if(0<Xe){if(Ee.ua=1<<Xe,!de(Ee.Wa,Xe)){H.a=1,re=0;break e}}else Ee.ua=0;var ag=H,Cf=oe,lb=pe,Qh=ag.s,ed=Qh.xc;if(ag.c=Cf,ag.i=lb,Qh.md=et(Cf,ed),Qh.wc=ed==0?-1:(1<<ed)-1,D){H.xb=yu;break e}if((Ie=s(oe*pe))==null){H.a=1,re=0;break e}re=(re=Ge(H,Ie,0,oe,pe,pe,null))&&!be.h;break e}return re?(Z!=null?Z[0]=Ie:(e(Ie==null),e(D)),H.$=0,D||tt(Ee)):tt(Ee),re}function Ye(A,k){var D=A.c*A.i,H=D+k+16*k;return e(A.c<=k),A.V=s(H),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+D+k,1)}function vt(A,k){var D=A.C,H=k-D,Z=A.V,re=A.Ba+A.c*D;for(e(k<=A.l.o);0<H;){var oe=16<H?16:H,pe=A.l.ma,be=A.l.width,Ee=be*oe,Ie=pe.ca,Xe=pe.tb+be*D,Ae=A.Ta,De=A.Ua;Ce(A,oe,Z,re),Wa(Ae,De,Ie,Xe,Ee),we(pe,D,D+oe,Ie,Xe,be),H-=oe,Z+=oe*A.c,D+=oe}e(D==k),A.C=A.Ma=k}function bt(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function At(){this.Yb=(function(){var A=[];return(function k(D,H,Z){for(var re=Z[H],oe=0;oe<re&&(D.push(Z.length>H+1?[]:0),!(Z.length<H+1));oe++)k(D[oe],H+1,Z)})(A,0,[3,11]),A})()}function Bt(){this.jb=s(3),this.Wc=o([4,8],At),this.Xc=o([4,17],At)}function _r(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function $s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new zo),this.aa=0,this.l=new cc}function za(){this.y=s(16),this.f=s(8),this.ea=s(8)}function fu(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new bt,this.Kc=new Tt,this.ed=new _r,this.Qa=new yt,this.Ic=this.$c=this.Aa=0,this.D=new jo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,$s),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new za),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zo),this.L=this.aa=0,this.gd=o([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(A,k){return 0>A?0:A>k?k:A}function cc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Go(){var A=new fu;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,Xa||(Xa=hu)),A}function lr(A,k,D){return A.a==0&&(A.a=k,A.sc=D,A.cb=0),0}function h0(A,k,D){return 3<=D&&A[k+0]==157&&A[k+1]==1&&A[k+2]==42}function Sl(A,k){if(A==null)return 0;if(A.a=0,A.sc="OK",k==null)return lr(A,2,"null VP8Io passed to VP8GetHeaders()");var D=k.data,H=k.w,Z=k.ha;if(4>Z)return lr(A,7,"Truncated header.");var re=D[H+0]|D[H+1]<<8|D[H+2]<<16,oe=A.Od;if(oe.Rb=!(1&re),oe.td=re>>1&7,oe.yd=re>>4&1,oe.ub=re>>5,3<oe.td)return lr(A,3,"Incorrect keyframe parameters.");if(!oe.yd)return lr(A,4,"Frame not displayable.");H+=3,Z-=3;var pe=A.Kc;if(oe.Rb){if(7>Z)return lr(A,7,"cannot parse picture header");if(!h0(D,H,Z))return lr(A,3,"Bad code word");pe.c=16383&(D[H+4]<<8|D[H+3]),pe.Td=D[H+4]>>6,pe.i=16383&(D[H+6]<<8|D[H+5]),pe.Ud=D[H+6]>>6,H+=7,Z-=7,A.za=pe.c+15>>4,A.Ub=pe.i+15>>4,k.width=pe.c,k.height=pe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((re=A.Pa).jb,0,255,re.jb.length),e((re=A.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(oe.ub>Z)return lr(A,7,"bad partition length");K(re=A.m,D,H,oe.ub),H+=oe.ub,Z-=oe.ub,oe.Rb&&(pe.Ld=fe(re),pe.Kd=fe(re)),pe=A.Qa;var be,Ee=A.Pa;if(e(re!=null),e(pe!=null),pe.Cb=fe(re),pe.Cb){if(pe.Bb=fe(re),fe(re)){for(pe.Fb=fe(re),be=0;4>be;++be)pe.Zb[be]=fe(re)?Se(re,7):0;for(be=0;4>be;++be)pe.Lb[be]=fe(re)?Se(re,6):0}if(pe.Bb)for(be=0;3>be;++be)Ee.jb[be]=fe(re)?le(re,8):255}else pe.Bb=0;if(re.Ka)return lr(A,3,"cannot parse segment header");if((pe=A.ed).zd=fe(re),pe.Tb=le(re,6),pe.wb=le(re,3),pe.Pc=fe(re),pe.Pc&&fe(re)){for(Ee=0;4>Ee;++Ee)fe(re)&&(pe.vd[Ee]=Se(re,6));for(Ee=0;4>Ee;++Ee)fe(re)&&(pe.od[Ee]=Se(re,6))}if(A.L=pe.Tb==0?0:pe.zd?1:2,re.Ka)return lr(A,3,"cannot parse filter header");var Ie=Z;if(Z=be=H,H=be+Ie,pe=Ie,A.Xb=(1<<le(A.m,2))-1,Ie<3*(Ee=A.Xb))D=7;else{for(be+=3*Ee,pe-=3*Ee,Ie=0;Ie<Ee;++Ie){var Xe=D[Z+0]|D[Z+1]<<8|D[Z+2]<<16;Xe>pe&&(Xe=pe),K(A.Jc[+Ie],D,be,Xe),be+=Xe,pe-=Xe,Z+=3}K(A.Jc[+Ee],D,be,pe),D=be<H?0:5}if(D!=0)return lr(A,D,"cannot parse partitions");for(D=le(be=A.m,7),Z=fe(be)?Se(be,4):0,H=fe(be)?Se(be,4):0,pe=fe(be)?Se(be,4):0,Ee=fe(be)?Se(be,4):0,be=fe(be)?Se(be,4):0,Ie=A.Qa,Xe=0;4>Xe;++Xe){if(Ie.Cb){var Ae=Ie.Zb[Xe];Ie.Fb||(Ae+=D)}else{if(0<Xe){A.pb[Xe]=A.pb[0];continue}Ae=D}var De=A.pb[Xe];De.Sc[0]=yo[Zr(Ae+Z,127)],De.Sc[1]=bo[Zr(Ae+0,127)],De.Eb[0]=2*yo[Zr(Ae+H,127)],De.Eb[1]=101581*bo[Zr(Ae+pe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=yo[Zr(Ae+Ee,117)],De.Qc[1]=bo[Zr(Ae+be,127)],De.lc=Ae+be}if(!oe.Rb)return lr(A,4,"Not a key frame.");for(fe(re),oe=A.Pa,D=0;4>D;++D){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(pe=0;11>pe;++pe)Ee=Te(re,Wr[D][Z][H][pe])?le(re,8):tb[D][Z][H][pe],oe.Wc[D][Z].Yb[H][pe]=Ee;for(Z=0;17>Z;++Z)oe.Xc[D][Z]=oe.Wc[D][Kn[Z]]}return A.kc=fe(re),A.kc&&(A.Bd=le(re,8)),A.cb=1}function hu(A,k,D,H,Z,re,oe){var pe=k[Z].Yb[D];for(D=0;16>Z;++Z){if(!Te(A,pe[D+0]))return Z;for(;!Te(A,pe[D+1]);)if(pe=k[++Z].Yb[0],D=0,Z==16)return 16;var be=k[Z+1].Yb;if(Te(A,pe[D+2])){var Ee=A,Ie=0;if(Te(Ee,(Ae=pe)[(Xe=D)+3]))if(Te(Ee,Ae[Xe+6])){for(pe=0,Xe=2*(Ie=Te(Ee,Ae[Xe+8]))+(Ae=Te(Ee,Ae[Xe+9+Ie])),Ie=0,Ae=eb[Xe];Ae[pe];++pe)Ie+=Ie+Te(Ee,Ae[pe]);Ie+=3+(8<<Xe)}else Te(Ee,Ae[Xe+7])?(Ie=7+2*Te(Ee,165),Ie+=Te(Ee,145)):Ie=5+Te(Ee,159);else Ie=Te(Ee,Ae[Xe+4])?3+Te(Ee,Ae[Xe+5]):2;pe=be[2]}else Ie=1,pe=be[1];be=oe+_v[Z],0>(Ee=A).b&&me(Ee);var Xe,Ae=Ee.b,De=(Xe=Ee.Ca>>1)-(Ee.I>>Ae)>>31;--Ee.b,Ee.Ca+=De,Ee.Ca|=1,Ee.I-=(Xe+1&De)<<Ae,re[be]=((Ie^De)-De)*H[(0<Z)+0]}return 16}function d0(A){var k=A.rb[A.sb-1];k.la=0,k.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function Ks(A,k,D,H,Z){Z=A[k+D+32*H]+(Z>>3),A[k+D+32*H]=-256&Z?0>Z?0:255:Z}function zi(A,k,D,H,Z,re){Ks(A,k,0,D,H+Z),Ks(A,k,1,D,H+re),Ks(A,k,2,D,H-re),Ks(A,k,3,D,H-Z)}function ki(A){return(20091*A>>16)+A}function Fh(A,k,D,H){var Z,re=0,oe=s(16);for(Z=0;4>Z;++Z){var pe=A[k+0]+A[k+8],be=A[k+0]-A[k+8],Ee=(35468*A[k+4]>>16)-ki(A[k+12]),Ie=ki(A[k+4])+(35468*A[k+12]>>16);oe[re+0]=pe+Ie,oe[re+1]=be+Ee,oe[re+2]=be-Ee,oe[re+3]=pe-Ie,re+=4,k++}for(Z=re=0;4>Z;++Z)pe=(A=oe[re+0]+4)+oe[re+8],be=A-oe[re+8],Ee=(35468*oe[re+4]>>16)-ki(oe[re+12]),Ks(D,H,0,0,pe+(Ie=ki(oe[re+4])+(35468*oe[re+12]>>16))),Ks(D,H,1,0,be+Ee),Ks(D,H,2,0,be-Ee),Ks(D,H,3,0,pe-Ie),re++,H+=32}function Rm(A,k,D,H){var Z=A[k+0]+4,re=35468*A[k+4]>>16,oe=ki(A[k+4]),pe=35468*A[k+1]>>16;zi(D,H,0,Z+oe,A=ki(A[k+1]),pe),zi(D,H,1,Z+re,A,pe),zi(D,H,2,Z-re,A,pe),zi(D,H,3,Z-oe,A,pe)}function p0(A,k,D,H,Z){Fh(A,k,D,H),Z&&Fh(A,k+16,D,H+4)}function Js(A,k,D,H){Tc(A,k+0,D,H,1),Tc(A,k+32,D,H+128,1)}function m0(A,k,D,H){var Z;for(A=A[k+0]+4,Z=0;4>Z;++Z)for(k=0;4>k;++k)Ks(D,H,k,Z,A)}function g0(A,k,D,H){A[k+0]&&cr(A,k+0,D,H),A[k+16]&&cr(A,k+16,D,H+4),A[k+32]&&cr(A,k+32,D,H+128),A[k+48]&&cr(A,k+48,D,H+128+4)}function qo(A,k,D,H){var Z,re=s(16);for(Z=0;4>Z;++Z){var oe=A[k+0+Z]+A[k+12+Z],pe=A[k+4+Z]+A[k+8+Z],be=A[k+4+Z]-A[k+8+Z],Ee=A[k+0+Z]-A[k+12+Z];re[0+Z]=oe+pe,re[8+Z]=oe-pe,re[4+Z]=Ee+be,re[12+Z]=Ee-be}for(Z=0;4>Z;++Z)oe=(A=re[0+4*Z]+3)+re[3+4*Z],pe=re[1+4*Z]+re[2+4*Z],be=re[1+4*Z]-re[2+4*Z],Ee=A-re[3+4*Z],D[H+0]=oe+pe>>3,D[H+16]=Ee+be>>3,D[H+32]=oe-pe>>3,D[H+48]=Ee-be>>3,H+=64}function ff(A,k,D){var H,Z=k-32,re=Is,oe=255-A[Z-1];for(H=0;H<D;++H){var pe,be=re,Ee=oe+A[k-1];for(pe=0;pe<D;++pe)A[k+pe]=be[Ee+A[Z+pe]];k+=32}}function Lm(A,k){ff(A,k,4)}function Im(A,k){ff(A,k,8)}function v0(A,k){ff(A,k,16)}function x0(A,k){var D;for(D=0;16>D;++D)r(A,k+32*D,A,k-32,16)}function Mm(A,k){var D;for(D=16;0<D;--D)i(A,k,A[k-1],16),k+=32}function pa(A,k,D){var H;for(H=0;16>H;++H)i(k,D+32*H,A,16)}function Vo(A,k){var D,H=16;for(D=0;16>D;++D)H+=A[k-1+32*D]+A[k+D-32];pa(H>>5,A,k)}function uc(A,k){var D,H=8;for(D=0;16>D;++D)H+=A[k-1+32*D];pa(H>>4,A,k)}function hf(A,k){var D,H=8;for(D=0;16>D;++D)H+=A[k+D-32];pa(H>>4,A,k)}function du(A,k){pa(128,A,k)}function pn(A,k,D){return A+2*k+D+2>>2}function Fm(A,k){var D,H=k-32;for(H=new Uint8Array([pn(A[H-1],A[H+0],A[H+1]),pn(A[H+0],A[H+1],A[H+2]),pn(A[H+1],A[H+2],A[H+3]),pn(A[H+2],A[H+3],A[H+4])]),D=0;4>D;++D)r(A,k+32*D,H,0,H.length)}function y0(A,k){var D=A[k-1],H=A[k-1+32],Z=A[k-1+64],re=A[k-1+96];Oe(A,k+0,16843009*pn(A[k-1-32],D,H)),Oe(A,k+32,16843009*pn(D,H,Z)),Oe(A,k+64,16843009*pn(H,Z,re)),Oe(A,k+96,16843009*pn(Z,re,re))}function Dm(A,k){var D,H=4;for(D=0;4>D;++D)H+=A[k+D-32]+A[k-1+32*D];for(H>>=3,D=0;4>D;++D)i(A,k+32*D,H,4)}function ja(A,k){var D=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],re=A[k-1-32],oe=A[k+0-32],pe=A[k+1-32],be=A[k+2-32],Ee=A[k+3-32];A[k+0+96]=pn(H,Z,A[k-1+96]),A[k+1+96]=A[k+0+64]=pn(D,H,Z),A[k+2+96]=A[k+1+64]=A[k+0+32]=pn(re,D,H),A[k+3+96]=A[k+2+64]=A[k+1+32]=A[k+0+0]=pn(oe,re,D),A[k+3+64]=A[k+2+32]=A[k+1+0]=pn(pe,oe,re),A[k+3+32]=A[k+2+0]=pn(be,pe,oe),A[k+3+0]=pn(Ee,be,pe)}function ms(A,k){var D=A[k+1-32],H=A[k+2-32],Z=A[k+3-32],re=A[k+4-32],oe=A[k+5-32],pe=A[k+6-32],be=A[k+7-32];A[k+0+0]=pn(A[k+0-32],D,H),A[k+1+0]=A[k+0+32]=pn(D,H,Z),A[k+2+0]=A[k+1+32]=A[k+0+64]=pn(H,Z,re),A[k+3+0]=A[k+2+32]=A[k+1+64]=A[k+0+96]=pn(Z,re,oe),A[k+3+32]=A[k+2+64]=A[k+1+96]=pn(re,oe,pe),A[k+3+64]=A[k+2+96]=pn(oe,pe,be),A[k+3+96]=pn(pe,be,be)}function b0(A,k){var D=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],re=A[k-1-32],oe=A[k+0-32],pe=A[k+1-32],be=A[k+2-32],Ee=A[k+3-32];A[k+0+0]=A[k+1+64]=re+oe+1>>1,A[k+1+0]=A[k+2+64]=oe+pe+1>>1,A[k+2+0]=A[k+3+64]=pe+be+1>>1,A[k+3+0]=be+Ee+1>>1,A[k+0+96]=pn(Z,H,D),A[k+0+64]=pn(H,D,re),A[k+0+32]=A[k+1+96]=pn(D,re,oe),A[k+1+32]=A[k+2+96]=pn(re,oe,pe),A[k+2+32]=A[k+3+96]=pn(oe,pe,be),A[k+3+32]=pn(pe,be,Ee)}function df(A,k){var D=A[k+0-32],H=A[k+1-32],Z=A[k+2-32],re=A[k+3-32],oe=A[k+4-32],pe=A[k+5-32],be=A[k+6-32],Ee=A[k+7-32];A[k+0+0]=D+H+1>>1,A[k+1+0]=A[k+0+64]=H+Z+1>>1,A[k+2+0]=A[k+1+64]=Z+re+1>>1,A[k+3+0]=A[k+2+64]=re+oe+1>>1,A[k+0+32]=pn(D,H,Z),A[k+1+32]=A[k+0+96]=pn(H,Z,re),A[k+2+32]=A[k+1+96]=pn(Z,re,oe),A[k+3+32]=A[k+2+96]=pn(re,oe,pe),A[k+3+64]=pn(oe,pe,be),A[k+3+96]=pn(pe,be,Ee)}function Ga(A,k){var D=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],re=A[k-1+96];A[k+0+0]=D+H+1>>1,A[k+2+0]=A[k+0+32]=H+Z+1>>1,A[k+2+32]=A[k+0+64]=Z+re+1>>1,A[k+1+0]=pn(D,H,Z),A[k+3+0]=A[k+1+32]=pn(H,Z,re),A[k+3+32]=A[k+1+64]=pn(Z,re,re),A[k+3+64]=A[k+2+64]=A[k+0+96]=A[k+1+96]=A[k+2+96]=A[k+3+96]=re}function pf(A,k){var D=A[k-1+0],H=A[k-1+32],Z=A[k-1+64],re=A[k-1+96],oe=A[k-1-32],pe=A[k+0-32],be=A[k+1-32],Ee=A[k+2-32];A[k+0+0]=A[k+2+32]=D+oe+1>>1,A[k+0+32]=A[k+2+64]=H+D+1>>1,A[k+0+64]=A[k+2+96]=Z+H+1>>1,A[k+0+96]=re+Z+1>>1,A[k+3+0]=pn(pe,be,Ee),A[k+2+0]=pn(oe,pe,be),A[k+1+0]=A[k+3+32]=pn(D,oe,pe),A[k+1+32]=A[k+3+64]=pn(H,D,oe),A[k+1+64]=A[k+3+96]=pn(Z,H,D),A[k+1+96]=pn(re,Z,H)}function El(A,k){var D;for(D=0;8>D;++D)r(A,k+32*D,A,k-32,8)}function Pm(A,k){var D;for(D=0;8>D;++D)i(A,k,A[k-1],8),k+=32}function uo(A,k,D){var H;for(H=0;8>H;++H)i(k,D+32*H,A,8)}function Dh(A,k){var D,H=8;for(D=0;8>D;++D)H+=A[k+D-32]+A[k-1+32*D];uo(H>>4,A,k)}function Ph(A,k){var D,H=4;for(D=0;8>D;++D)H+=A[k+D-32];uo(H>>3,A,k)}function ns(A,k){var D,H=4;for(D=0;8>D;++D)H+=A[k-1+32*D];uo(H>>3,A,k)}function Tl(A,k){uo(128,A,k)}function fo(A,k,D){var H=A[k-D],Z=A[k+0],re=3*(Z-H)+Cc[1020+A[k-2*D]-A[k+D]],oe=N0[112+(re+4>>3)];A[k-D]=Is[255+H+N0[112+(re+3>>3)]],A[k+0]=Is[255+Z-oe]}function fc(A,k,D,H){var Z=A[k+0],re=A[k+D];return xs[255+A[k-2*D]-A[k-D]]>H||xs[255+re-Z]>H}function Oh(A,k,D,H){return 4*xs[255+A[k-D]-A[k+0]]+xs[255+A[k-2*D]-A[k+D]]<=H}function mf(A,k,D,H,Z){var re=A[k-3*D],oe=A[k-2*D],pe=A[k-D],be=A[k+0],Ee=A[k+D],Ie=A[k+2*D],Xe=A[k+3*D];return 4*xs[255+pe-be]+xs[255+oe-Ee]>H?0:xs[255+A[k-4*D]-re]<=Z&&xs[255+re-oe]<=Z&&xs[255+oe-pe]<=Z&&xs[255+Xe-Ie]<=Z&&xs[255+Ie-Ee]<=Z&&xs[255+Ee-be]<=Z}function hc(A,k,D,H){var Z=2*H+1;for(H=0;16>H;++H)Oh(A,k+H,D,Z)&&fo(A,k+H,D)}function dc(A,k,D,H){var Z=2*H+1;for(H=0;16>H;++H)Oh(A,k+H*D,1,Z)&&fo(A,k+H*D,1)}function gf(A,k,D,H){var Z;for(Z=3;0<Z;--Z)hc(A,k+=4*D,D,H)}function _0(A,k,D,H){var Z;for(Z=3;0<Z;--Z)dc(A,k+=4,D,H)}function pc(A,k,D,H,Z,re,oe,pe){for(re=2*re+1;0<Z--;){if(mf(A,k,D,re,oe))if(fc(A,k,D,pe))fo(A,k,D);else{var be=A,Ee=k,Ie=D,Xe=be[Ee-2*Ie],Ae=be[Ee-Ie],De=be[Ee+0],ze=be[Ee+Ie],st=be[Ee+2*Ie],qe=27*(ut=Cc[1020+3*(De-Ae)+Cc[1020+Xe-ze]])+63>>7,rt=18*ut+63>>7,ut=9*ut+63>>7;be[Ee-3*Ie]=Is[255+be[Ee-3*Ie]+ut],be[Ee-2*Ie]=Is[255+Xe+rt],be[Ee-Ie]=Is[255+Ae+qe],be[Ee+0]=Is[255+De-qe],be[Ee+Ie]=Is[255+ze-rt],be[Ee+2*Ie]=Is[255+st-ut]}k+=H}}function mc(A,k,D,H,Z,re,oe,pe){for(re=2*re+1;0<Z--;){if(mf(A,k,D,re,oe))if(fc(A,k,D,pe))fo(A,k,D);else{var be=A,Ee=k,Ie=D,Xe=be[Ee-Ie],Ae=be[Ee+0],De=be[Ee+Ie],ze=N0[112+(4+(st=3*(Ae-Xe))>>3)],st=N0[112+(st+3>>3)],qe=ze+1>>1;be[Ee-2*Ie]=Is[255+be[Ee-2*Ie]+qe],be[Ee-Ie]=Is[255+Xe+st],be[Ee+0]=Is[255+Ae-ze],be[Ee+Ie]=Is[255+De-qe]}k+=H}}function Om(A,k,D,H,Z,re){pc(A,k,D,1,16,H,Z,re)}function gc(A,k,D,H,Z,re){pc(A,k,1,D,16,H,Z,re)}function Bm(A,k,D,H,Z,re){var oe;for(oe=3;0<oe;--oe)mc(A,k+=4*D,D,1,16,H,Z,re)}function M(A,k,D,H,Z,re){var oe;for(oe=3;0<oe;--oe)mc(A,k+=4,1,D,16,H,Z,re)}function J(A,k,D,H,Z,re,oe,pe){pc(A,k,Z,1,8,re,oe,pe),pc(D,H,Z,1,8,re,oe,pe)}function ke(A,k,D,H,Z,re,oe,pe){pc(A,k,1,Z,8,re,oe,pe),pc(D,H,1,Z,8,re,oe,pe)}function Le(A,k,D,H,Z,re,oe,pe){mc(A,k+4*Z,Z,1,8,re,oe,pe),mc(D,H+4*Z,Z,1,8,re,oe,pe)}function Be(A,k,D,H,Z,re,oe,pe){mc(A,k+4,1,Z,8,re,oe,pe),mc(D,H+4,1,Z,8,re,oe,pe)}function ct(){this.ba=new Cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $n,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jt(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new Q}function yn(){this.xb=this.a=0,this.l=new cc,this.ca=new Cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jt,this.ab=0,this.gc=a(4,Gt),this.Oc=0}function Nn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tr(A,k,D,H,Z,re,oe){for(A=A==null?0:A[k+0],k=0;k<oe;++k)Z[re+k]=A+D[H+k]&255,A=Z[re+k]}function Qr(A,k,D,H,Z,re,oe){var pe;if(A==null)tr(null,null,D,H,Z,re,oe);else for(pe=0;pe<oe;++pe)Z[re+pe]=A[k+pe]+D[H+pe]&255}function xi(A,k,D,H,Z,re,oe){if(A==null)tr(null,null,D,H,Z,re,oe);else{var pe,be=A[k+0],Ee=be,Ie=be;for(pe=0;pe<oe;++pe)Ee=Ie+(be=A[k+pe])-Ee,Ie=D[H+pe]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=be,Z[re+pe]=Ie}}function Or(A,k,D,H){var Z=k.width,re=k.o;if(e(A!=null&&k!=null),0>D||0>=H||D+H>re)return null;if(!A.Cc){if(A.ga==null){var oe;if(A.ga=new Nn,(oe=A.ga==null)||(oe=k.width*k.o,e(A.Gb.length==0),A.Gb=s(oe),A.Uc=0,A.Gb==null?oe=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,oe=1),oe=!oe),!oe){oe=A.ga;var pe=A.Fa,be=A.P,Ee=A.qc,Ie=A.mb,Xe=A.nb,Ae=be+1,De=Ee-1,ze=oe.l;if(e(pe!=null&&Ie!=null&&k!=null),kc[0]=null,kc[1]=tr,kc[2]=Qr,kc[3]=xi,oe.ca=Ie,oe.tb=Xe,oe.c=k.width,oe.i=k.height,e(0<oe.c&&0<oe.i),1>=Ee)k=0;else if(oe.$a=3&pe[be+0],oe.Z=pe[be+0]>>2&3,oe.Lc=pe[be+0]>>4&3,be=pe[be+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||be)k=0;else if(ze.put=tn,ze.ac=da,ze.bc=Ho,ze.ma=oe,ze.width=k.width,ze.height=k.height,ze.Da=k.Da,ze.v=k.v,ze.va=k.va,ze.j=k.j,ze.o=k.o,oe.$a)e:{e(oe.$a==1),k=Ve();t:for(;;){if(k==null){k=0;break e}if(e(oe!=null),oe.mc=k,k.c=oe.c,k.i=oe.i,k.l=oe.l,k.l.ma=oe,k.l.width=oe.c,k.l.height=oe.i,k.a=0,ve(k.m,pe,Ae,De),!We(oe.c,oe.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&xe(k.s)?(oe.ic=1,pe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=s(pe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(oe.ic=0,k=Ye(k,oe.c)),!k))break t;k=1;break e}oe.mc=null,k=0}else k=De>=oe.c*oe.i;oe=!k}if(oe)return null;A.ga.Lc!=1?A.Ga=0:H=re-D}e(A.ga!=null),e(D+H<=re);e:{if(k=(pe=A.ga).c,re=pe.l.o,pe.$a==0){if(Ae=A.rc,De=A.Vc,ze=A.Fa,be=A.P+1+D*k,Ee=A.mb,Ie=A.nb+D*k,e(be<=A.P+A.qc),pe.Z!=0)for(e(kc[pe.Z]!=null),oe=0;oe<H;++oe)kc[pe.Z](Ae,De,ze,be,Ee,Ie,k),Ae=Ee,De=Ie,Ie+=k,be+=k;else for(oe=0;oe<H;++oe)r(Ee,Ie,ze,be,k),Ae=Ee,De=Ie,Ie+=k,be+=k;A.rc=Ae,A.Vc=De}else{if(e(pe.mc!=null),k=D+H,e((oe=pe.mc)!=null),e(k<=oe.i),oe.C>=k)k=1;else if(pe.ic||Wo(),pe.ic){pe=oe.V,Ae=oe.Ba,De=oe.c;var st=oe.i,qe=(ze=1,be=oe.$/De,Ee=oe.$%De,Ie=oe.m,Xe=oe.s,oe.$),rt=De*st,ut=De*k,xt=Xe.wc,pt=qe<ut?te(Xe,Ee,be):null;e(qe<=rt),e(k<=st),e(xe(Xe));t:for(;;){for(;!Ie.h&&qe<ut;){if(Ee&xt||(pt=te(Xe,Ee,be)),e(pt!=null),ye(Ie),256>(st=Pr(pt.G[0],pt.H[0],Ie)))pe[Ae+qe]=st,++qe,++Ee>=De&&(Ee=0,++be<=k&&!(be%16)&&Ne(oe,be));else{if(!(280>st)){ze=0;break t}st=ps(st-256,Ie);var Wt,Ft=Pr(pt.G[4],pt.H[4],Ie);if(ye(Ie),!(qe>=(Ft=Ys(De,Ft=ps(Ft,Ie)))&&rt-qe>=st)){ze=0;break t}for(Wt=0;Wt<st;++Wt)pe[Ae+qe+Wt]=pe[Ae+qe+Wt-Ft];for(qe+=st,Ee+=st;Ee>=De;)Ee-=De,++be<=k&&!(be%16)&&Ne(oe,be);qe<ut&&Ee&xt&&(pt=te(Xe,Ee,be))}e(Ie.h==Y(Ie))}Ne(oe,be>k?k:be);break t}!ze||Ie.h&&qe<rt?(ze=0,oe.a=Ie.h?5:3):oe.$=qe,k=ze}else k=Ge(oe,oe.V,oe.Ba,oe.c,oe.i,k,vt);if(!k){H=0;break e}}D+H>=re&&(A.Cc=1),H=1}if(!H)return null;if(A.Cc&&((H=A.ga)!=null&&(H.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+D*Z}function ji(A,k,D,H,Z,re){for(;0<Z--;){var oe,pe=A,be=k+(D?1:0),Ee=A,Ie=k+(D?0:3);for(oe=0;oe<H;++oe){var Xe=Ee[Ie+4*oe];Xe!=255&&(Xe*=32897,pe[be+4*oe+0]=pe[be+4*oe+0]*Xe>>23,pe[be+4*oe+1]=pe[be+4*oe+1]*Xe>>23,pe[be+4*oe+2]=pe[be+4*oe+2]*Xe>>23)}k+=re}}function Ni(A,k,D,H,Z){for(;0<H--;){var re;for(re=0;re<D;++re){var oe=A[k+2*re+0],pe=15&(Ee=A[k+2*re+1]),be=4369*pe,Ee=(240&Ee|Ee>>4)*be>>16;A[k+2*re+0]=(240&oe|oe>>4)*be>>16&240|(15&oe|oe<<4)*be>>16>>4&15,A[k+2*re+1]=240&Ee|pe}k+=Z}}function gs(A,k,D,H,Z,re,oe,pe){var be,Ee,Ie=255;for(Ee=0;Ee<Z;++Ee){for(be=0;be<H;++be){var Xe=A[k+be];re[oe+4*be]=Xe,Ie&=Xe}k+=D,oe+=pe}return Ie!=255}function vc(A,k,D,H,Z){var re;for(re=0;re<Z;++re)D[H+re]=A[k+re]>>8}function Wo(){bf=ji,po=Ni,T0=gs,Wa=vc}function xc(A,k,D){O[A]=function(H,Z,re,oe,pe,be,Ee,Ie,Xe,Ae,De,ze,st,qe,rt,ut,xt){var pt,Wt=xt-1>>1,Ft=pe[be+0]|Ee[Ie+0]<<16,An=Xe[Ae+0]|De[ze+0]<<16;e(H!=null);var Ht=3*Ft+An+131074>>2;for(k(H[Z+0],255&Ht,Ht>>16,st,qe),re!=null&&(Ht=3*An+Ft+131074>>2,k(re[oe+0],255&Ht,Ht>>16,rt,ut)),pt=1;pt<=Wt;++pt){var Vn=pe[be+pt]|Ee[Ie+pt]<<16,Xr=Xe[Ae+pt]|De[ze+pt]<<16,Rn=Ft+Vn+An+Xr+524296,Dt=Rn+2*(Vn+An)>>3;Ht=Dt+Ft>>1,Ft=(Rn=Rn+2*(Ft+Xr)>>3)+Vn>>1,k(H[Z+2*pt-1],255&Ht,Ht>>16,st,qe+(2*pt-1)*D),k(H[Z+2*pt-0],255&Ft,Ft>>16,st,qe+(2*pt-0)*D),re!=null&&(Ht=Rn+An>>1,Ft=Dt+Xr>>1,k(re[oe+2*pt-1],255&Ht,Ht>>16,rt,ut+(2*pt-1)*D),k(re[oe+2*pt+0],255&Ft,Ft>>16,rt,ut+(2*pt+0)*D)),Ft=Vn,An=Xr}1&xt||(Ht=3*Ft+An+131074>>2,k(H[Z+xt-1],255&Ht,Ht>>16,st,qe+(xt-1)*D),re!=null&&(Ht=3*An+Ft+131074>>2,k(re[oe+xt-1],255&Ht,Ht>>16,rt,ut+(xt-1)*D)))}}function w0(){bs[jm]=Af,bs[Ms]=Yh,bs[Gm]=Av,bs[mo]=Ym,bs[R0]=bu,bs[Vh]=Dl,bs[vu]=_u,bs[L0]=Yh,bs[qm]=Ym,bs[Wh]=bu,bs[Vm]=Dl}function Bh(A){return A&-16384?0>A?0:255:A>>$m}function Cl(A,k){return Bh((19077*A>>8)+(26149*k>>8)-14234)}function Xo(A,k,D){return Bh((19077*A>>8)-(6419*k>>8)-(13320*D>>8)+8708)}function vf(A,k){return Bh((19077*A>>8)+(33050*k>>8)-17685)}function yc(A,k,D,H,Z){H[Z+0]=Cl(A,D),H[Z+1]=Xo(A,k,D),H[Z+2]=vf(A,k)}function rs(A,k,D,H,Z){H[Z+0]=vf(A,k),H[Z+1]=Xo(A,k,D),H[Z+2]=Cl(A,D)}function pu(A,k,D,H,Z){var re=Xo(A,k,D);k=re<<3&224|vf(A,k)>>3,H[Z+0]=248&Cl(A,D)|re>>5,H[Z+1]=k}function mu(A,k,D,H,Z){var re=240&vf(A,k)|15;H[Z+0]=240&Cl(A,D)|Xo(A,k,D)>>4,H[Z+1]=re}function Uh(A,k,D,H,Z){H[Z+0]=255,yc(A,k,D,H,Z+1)}function kl(A,k,D,H,Z){rs(A,k,D,H,Z),H[Z+3]=255}function Zs(A,k,D,H,Z){yc(A,k,D,H,Z),H[Z+3]=255}function bc(A,k,D){O[A]=function(H,Z,re,oe,pe,be,Ee,Ie,Xe){for(var Ae=Ie+(-2&Xe)*D;Ie!=Ae;)k(H[Z+0],re[oe+0],pe[be+0],Ee,Ie),k(H[Z+1],re[oe+0],pe[be+0],Ee,Ie+D),Z+=2,++oe,++be,Ie+=2*D;1&Xe&&k(H[Z+0],re[oe+0],pe[be+0],Ee,Ie)}}function Hh(A,k,D){return D==0?A==0?k==0?6:5:k==0?4:0:D}function A0(A,k,D,H,Z){switch(A>>>30){case 3:Tc(k,D,H,Z,0);break;case 2:Ls(k,D,H,Z);break;case 1:cr(k,D,H,Z)}}function qa(A,k){var D,H,Z=k.M,re=k.Nb,oe=A.oc,pe=A.pc+40,be=A.oc,Ee=A.pc+584,Ie=A.oc,Xe=A.pc+600;for(D=0;16>D;++D)oe[pe+32*D-1]=129;for(D=0;8>D;++D)be[Ee+32*D-1]=129,Ie[Xe+32*D-1]=129;for(0<Z?oe[pe-1-32]=be[Ee-1-32]=Ie[Xe-1-32]=129:(i(oe,pe-32-1,127,21),i(be,Ee-32-1,127,9),i(Ie,Xe-32-1,127,9)),H=0;H<A.za;++H){var Ae=k.ya[k.aa+H];if(0<H){for(D=-1;16>D;++D)r(oe,pe+32*D-4,oe,pe+32*D+12,4);for(D=-1;8>D;++D)r(be,Ee+32*D-4,be,Ee+32*D+4,4),r(Ie,Xe+32*D-4,Ie,Xe+32*D+4,4)}var De=A.Gd,ze=A.Hd+H,st=Ae.ad,qe=Ae.Hc;if(0<Z&&(r(oe,pe-32,De[ze].y,0,16),r(be,Ee-32,De[ze].f,0,8),r(Ie,Xe-32,De[ze].ea,0,8)),Ae.Za){var rt=oe,ut=pe-32+16;for(0<Z&&(H>=A.za-1?i(rt,ut,De[ze].y[15],4):r(rt,ut,De[ze+1].y,0,4)),D=0;4>D;D++)rt[ut+128+D]=rt[ut+256+D]=rt[ut+384+D]=rt[ut+0+D];for(D=0;16>D;++D,qe<<=2)rt=oe,ut=pe+_i[D],ui[Ae.Ob[D]](rt,ut),A0(qe,st,16*+D,rt,ut)}else if(rt=Hh(H,Z,Ae.Ob[0]),ea[rt](oe,pe),qe!=0)for(D=0;16>D;++D,qe<<=2)A0(qe,st,16*+D,oe,pe+_i[D]);for(D=Ae.Gc,rt=Hh(H,Z,Ae.Dd),Jo[rt](be,Ee),Jo[rt](Ie,Xe),qe=st,rt=be,ut=Ee,255&(Ae=0|D)&&(170&Ae?ho(qe,256,rt,ut):nr(qe,256,rt,ut)),Ae=Ie,qe=Xe,255&(D>>=8)&&(170&D?ho(st,320,Ae,qe):nr(st,320,Ae,qe)),Z<A.Ub-1&&(r(De[ze].y,0,oe,pe+480,16),r(De[ze].f,0,be,Ee+224,8),r(De[ze].ea,0,Ie,Xe+224,8)),D=8*re*A.B,De=A.sa,ze=A.ta+16*H+16*re*A.R,st=A.qa,Ae=A.ra+8*H+D,qe=A.Ha,rt=A.Ia+8*H+D,D=0;16>D;++D)r(De,ze+D*A.R,oe,pe+32*D,16);for(D=0;8>D;++D)r(st,Ae+D*A.B,be,Ee+32*D,8),r(qe,rt+D*A.B,Ie,Xe+32*D,8)}}function Yo(A,k,D,H,Z,re,oe,pe,be){var Ee=[0],Ie=[0],Xe=0,Ae=be!=null?be.kd:0,De=be??new mt;if(A==null||12>D)return 7;De.data=A,De.w=k,De.ha=D,k=[k],D=[D],De.gb=[De.gb];e:{var ze=k,st=D,qe=De.gb;if(e(A!=null),e(st!=null),e(qe!=null),qe[0]=0,12<=st[0]&&!t(A,ze[0],"RIFF")){if(t(A,ze[0]+8,"WEBP")){qe=3;break e}var rt=it(A,ze[0]+4);if(12>rt||4294967286<rt){qe=3;break e}if(Ae&&rt>st[0]-8){qe=7;break e}qe[0]=rt,ze[0]+=12,st[0]-=12}qe=0}if(qe!=0)return qe;for(rt=0<De.gb[0],D=D[0];;){e:{var ut=A;st=k,qe=D;var xt=Ee,pt=Ie,Wt=ze=[0];if((Ht=Xe=[Xe])[0]=0,8>qe[0])qe=7;else{if(!t(ut,st[0],"VP8X")){if(it(ut,st[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var Ft=it(ut,st[0]+8),An=1+nt(ut,st[0]+12);if(2147483648<=An*(ut=1+nt(ut,st[0]+15))){qe=3;break e}Wt!=null&&(Wt[0]=Ft),xt!=null&&(xt[0]=An),pt!=null&&(pt[0]=ut),st[0]+=18,qe[0]-=18,Ht[0]=1}qe=0}}if(Xe=Xe[0],ze=ze[0],qe!=0)return qe;if(st=!!(2&ze),!rt&&Xe)return 3;if(re!=null&&(re[0]=!!(16&ze)),oe!=null&&(oe[0]=st),pe!=null&&(pe[0]=0),oe=Ee[0],ze=Ie[0],Xe&&st&&be==null){qe=0;break}if(4>D){qe=7;break}if(rt&&Xe||!rt&&!Xe&&!t(A,k[0],"ALPH")){D=[D],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Ft=A,qe=k,rt=D;var Ht=De.gb;xt=De.na,pt=De.P,Wt=De.Sa,An=22,e(Ft!=null),e(rt!=null),ut=qe[0];var Vn=rt[0];for(e(xt!=null),e(Wt!=null),xt[0]=null,pt[0]=null,Wt[0]=0;;){if(qe[0]=ut,rt[0]=Vn,8>Vn){qe=7;break e}var Xr=it(Ft,ut+4);if(4294967286<Xr){qe=3;break e}var Rn=8+Xr+1&-2;if(An+=Rn,0<Ht&&An>Ht){qe=3;break e}if(!t(Ft,ut,"VP8 ")||!t(Ft,ut,"VP8L")){qe=0;break e}if(Vn[0]<Rn){qe=7;break e}t(Ft,ut,"ALPH")||(xt[0]=Ft,pt[0]=ut+8,Wt[0]=Xr),ut+=Rn,Vn-=Rn}}if(D=D[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],qe!=0)break}D=[D],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Ht=A,qe=k,rt=D,xt=De.gb[0],pt=De.Ja,Wt=De.xa,Ft=qe[0],ut=!t(Ht,Ft,"VP8 "),An=!t(Ht,Ft,"VP8L"),e(Ht!=null),e(rt!=null),e(pt!=null),e(Wt!=null),8>rt[0])qe=7;else{if(ut||An){if(Ht=it(Ht,Ft+4),12<=xt&&Ht>xt-12){qe=3;break e}if(Ae&&Ht>rt[0]-8){qe=7;break e}pt[0]=Ht,qe[0]+=8,rt[0]-=8,Wt[0]=An}else Wt[0]=5<=rt[0]&&Ht[Ft+0]==47&&!(Ht[Ft+4]>>5),pt[0]=rt[0];qe=0}if(D=D[0],De.Ja=De.Ja[0],De.xa=De.xa[0],k=k[0],qe!=0)break;if(4294967286<De.Ja)return 3;if(pe==null||st||(pe[0]=De.xa?2:1),oe=[oe],ze=[ze],De.xa){if(5>D){qe=7;break}pe=oe,Ae=ze,st=re,A==null||5>D?A=0:5<=D&&A[k+0]==47&&!(A[k+4]>>5)?(rt=[0],Ht=[0],xt=[0],ve(pt=new j,A,k,D),co(pt,rt,Ht,xt)?(pe!=null&&(pe[0]=rt[0]),Ae!=null&&(Ae[0]=Ht[0]),st!=null&&(st[0]=xt[0]),A=1):A=0):A=0}else{if(10>D){qe=7;break}pe=ze,A==null||10>D||!h0(A,k+3,D-3)?A=0:(Ae=A[k+0]|A[k+1]<<8|A[k+2]<<16,st=16383&(A[k+7]<<8|A[k+6]),A=16383&(A[k+9]<<8|A[k+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=De.Ja||!st||!A?A=0:(oe&&(oe[0]=st),pe&&(pe[0]=A),A=1))}if(!A||(oe=oe[0],ze=ze[0],Xe&&(Ee[0]!=oe||Ie[0]!=ze)))return 3;be!=null&&(be[0]=De,be.offset=k-be.w,e(4294967286>k-be.w),e(be.offset==be.ha-D));break}return qe==0||qe==7&&Xe&&be==null?(re!=null&&(re[0]|=De.na!=null&&0<De.na.length),H!=null&&(H[0]=oe),Z!=null&&(Z[0]=ze),0):qe}function _c(A,k,D){var H=k.width,Z=k.height,re=0,oe=0,pe=H,be=Z;if(k.Da=A!=null&&0<A.Da,k.Da&&(pe=A.cd,be=A.bd,re=A.v,oe=A.j,11>D||(re&=-2,oe&=-2),0>re||0>oe||0>=pe||0>=be||re+pe>H||oe+be>Z))return 0;if(k.v=re,k.j=oe,k.va=re+pe,k.o=oe+be,k.U=pe,k.T=be,k.da=A!=null&&0<A.da,k.da){if(!ht(pe,be,D=[A.ib],re=[A.hb]))return 0;k.ib=D[0],k.hb=re[0]}return k.ob=A!=null&&A.ob,k.Kb=A==null||!A.Sd,k.da&&(k.ob=k.ib<3*H/4&&k.hb<3*Z/4,k.Kb=0),1}function S0(A){if(A==null)return 2;if(11>A.S){var k=A.f.RGBA;k.fb+=(A.height-1)*k.A,k.A=-k.A}else k=A.f.kb,A=A.height,k.O+=(A-1)*k.fa,k.fa=-k.fa,k.N+=(A-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(A-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(A-1)*k.lb,k.lb=-k.lb);return 0}function $o(A,k,D,H){if(H==null||0>=A||0>=k)return 2;if(D!=null){if(D.Da){var Z=D.cd,re=D.bd,oe=-2&D.v,pe=-2&D.j;if(0>oe||0>pe||0>=Z||0>=re||oe+Z>A||pe+re>k)return 2;A=Z,k=re}if(D.da){if(!ht(A,k,Z=[D.ib],re=[D.hb]))return 2;A=Z[0],k=re[0]}}H.width=A,H.height=k;e:{var be=H.width,Ee=H.height;if(A=H.S,0>=be||0>=Ee||!(A>=jm&&13>A))A=2;else{if(0>=H.Rd&&H.sd==null){oe=re=Z=k=0;var Ie=(pe=be*Jm[A])*Ee;if(11>A||(re=(Ee+1)/2*(k=(be+1)/2),A==12&&(oe=(Z=be)*Ee)),(Ee=s(Ie+2*re+oe))==null){A=1;break e}H.sd=Ee,11>A?((be=H.f.RGBA).eb=Ee,be.fb=0,be.A=pe,be.size=Ie):((be=H.f.kb).y=Ee,be.O=0,be.fa=pe,be.Fd=Ie,be.f=Ee,be.N=0+Ie,be.Ab=k,be.Cd=re,be.ea=Ee,be.W=0+Ie+re,be.Db=k,be.Ed=re,A==12&&(be.F=Ee,be.J=0+Ie+2*re),be.Tc=oe,be.lb=Z)}if(k=1,Z=H.S,re=H.width,oe=H.height,Z>=jm&&13>Z)if(11>Z)A=H.f.RGBA,k&=(pe=Math.abs(A.A))*(oe-1)+re<=A.size,k&=pe>=re*Jm[Z],k&=A.eb!=null;else{A=H.f.kb,pe=(re+1)/2,Ie=(oe+1)/2,be=Math.abs(A.fa),Ee=Math.abs(A.Ab);var Xe=Math.abs(A.Db),Ae=Math.abs(A.lb),De=Ae*(oe-1)+re;k&=be*(oe-1)+re<=A.Fd,k&=Ee*(Ie-1)+pe<=A.Cd,k=(k&=Xe*(Ie-1)+pe<=A.Ed)&be>=re&Ee>=pe&Xe>=pe,k&=A.y!=null,k&=A.f!=null,k&=A.ea!=null,Z==12&&(k&=Ae>=re,k&=De<=A.Tc,k&=A.F!=null)}else k=0;A=k?0:2}}return A!=0||D!=null&&D.fd&&(A=S0(H)),A}var gu=64,ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qs=24,Nl=32,Rl=8,wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(A){return A},O.Predictor2=function(A,k,D){return k[D+0]},O.Predictor3=function(A,k,D){return k[D+1]},O.Predictor4=function(A,k,D){return k[D-1]},O.Predictor5=function(A,k,D){return Mt(Mt(A,k[D+1]),k[D+0])},O.Predictor6=function(A,k,D){return Mt(A,k[D-1])},O.Predictor7=function(A,k,D){return Mt(A,k[D+0])},O.Predictor8=function(A,k,D){return Mt(k[D-1],k[D+0])},O.Predictor9=function(A,k,D){return Mt(k[D+0],k[D+1])},O.Predictor10=function(A,k,D){return Mt(Mt(A,k[D-1]),Mt(k[D+0],k[D+1]))},O.Predictor11=function(A,k,D){var H=k[D+0];return 0>=Kt(H>>24&255,A>>24&255,(k=k[D-1])>>24&255)+Kt(H>>16&255,A>>16&255,k>>16&255)+Kt(H>>8&255,A>>8&255,k>>8&255)+Kt(255&H,255&A,255&k)?H:A},O.Predictor12=function(A,k,D){var H=k[D+0];return(Yt((A>>24&255)+(H>>24&255)-((k=k[D-1])>>24&255))<<24|Yt((A>>16&255)+(H>>16&255)-(k>>16&255))<<16|Yt((A>>8&255)+(H>>8&255)-(k>>8&255))<<8|Yt((255&A)+(255&H)-(255&k)))>>>0},O.Predictor13=function(A,k,D){var H=k[D-1];return(dn((A=Mt(A,k[D+0]))>>24&255,H>>24&255)<<24|dn(A>>16&255,H>>16&255)<<16|dn(A>>8&255,H>>8&255)<<8|dn(255&A,255&H))>>>0};var zh=O.PredictorAdd0;O.PredictorAdd1=En,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var jh=O.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var yi,Um=O.ColorIndexInverseTransform,Ll=O.MapARGB,Il=O.VP8LColorIndexInverseTransformAlpha,vs=O.MapAlpha,Ac=O.VP8LPredictorsAdd=[];Ac.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Gh,qh,Sc,Ec,Ml,xf,Va,Tc,Ls,ho,cr,nr,Br,bi,Fl,Ko,yf,E0,xv,Jy,Zy,Qy,yv,bv,bf,po,T0,Wa,_f=s(511),Hm=s(2041),C0=s(225),k0=s(767),zm=0,Cc=Hm,N0=C0,Is=k0,xs=_f,jm=0,Ms=1,Gm=2,mo=3,R0=4,Vh=5,vu=6,L0=7,qm=8,Wh=9,Vm=10,go=[2,3,7],Xh=[3,3,11],wf=[280,256,256,256,40],Wm=[0,1,1,1,0],I0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xu=8,yo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xa=null,eb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_v=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ys=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],ui=[],Jo=[],yu=1,wv=2,kc=[],bs=[];xc("UpsampleRgbLinePair",yc,3),xc("UpsampleBgrLinePair",rs,3),xc("UpsampleRgbaLinePair",Zs,4),xc("UpsampleBgraLinePair",kl,4),xc("UpsampleArgbLinePair",Uh,4),xc("UpsampleRgba4444LinePair",mu,2),xc("UpsampleRgb565LinePair",pu,2);var Af=O.UpsampleRgbLinePair,Av=O.UpsampleBgrLinePair,Yh=O.UpsampleRgbaLinePair,Ym=O.UpsampleBgraLinePair,bu=O.UpsampleArgbLinePair,Dl=O.UpsampleRgba4444LinePair,_u=O.UpsampleRgb565LinePair,_o=16,$h=1<<_o-1,Sf=-227,wu=482,$m=6,Au=0,_s=s(256),Km=s(256),nb=s(256),k5=s(256),N5=s(wu-Sf),R5=s(wu-Sf);bc("YuvToRgbRow",yc,3),bc("YuvToBgrRow",rs,3),bc("YuvToRgbaRow",Zs,4),bc("YuvToBgraRow",kl,4),bc("YuvToArgbRow",Uh,4),bc("YuvToRgba4444Row",mu,2),bc("YuvToRgb565Row",pu,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kh=[0,2,8],M0=[8,7,6,4,4,2,2,2,1,1,1,1],F0=1;this.WebPDecodeRGBA=function(A,k,D,H,Z){var re=Ms,oe=new ct,pe=new Cn;oe.ba=pe,pe.S=re,pe.width=[pe.width],pe.height=[pe.height];var be=pe.width,Ee=pe.height,Ie=new $t;if(Ie==null||A==null)var Xe=2;else e(Ie!=null),Xe=Yo(A,k,D,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Xe!=0?be=0:(be!=null&&(be[0]=Ie.width[0]),Ee!=null&&(Ee[0]=Ie.height[0]),be=1),be){pe.width=pe.width[0],pe.height=pe.height[0],H!=null&&(H[0]=pe.width),Z!=null&&(Z[0]=pe.height);e:{if(H=new cc,(Z=new mt).data=A,Z.w=k,Z.ha=D,Z.kd=1,k=[0],e(Z!=null),((A=Yo(Z.data,Z.w,Z.ha,null,null,null,k,null,Z))==0||A==7)&&k[0]&&(A=4),(k=A)==0){if(e(oe!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=tn,H.ac=da,H.bc=Ho,H.ma=oe,Z.xa){if((A=Ve())==null){oe=1;break e}if((function(Ae,De){var ze=[0],st=[0],qe=[0];t:for(;;){if(Ae==null)return 0;if(De==null)return Ae.a=2,0;if(Ae.l=De,Ae.a=0,ve(Ae.m,De.data,De.w,De.ha),!co(Ae.m,ze,st,qe)){Ae.a=3;break t}if(Ae.xb=wv,De.width=ze[0],De.height=st[0],!We(ze[0],st[0],1,Ae,null))break t;return 1}return e(Ae.a!=0),0})(A,H)){if(H=(k=$o(H.width,H.height,oe.Oa,oe.ba))==0){t:{H=A;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((D=H.l)!=null),e((Z=D.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,e(H.ca!=null),!_c(Z.Oa,D,mo)){H.a=2;break n}if(!Ye(H,D.width)||D.da)break n;if((D.da||hn(H.ca.S))&&Wo(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Wo()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!de(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Ge(H,H.V,H.Ba,H.c,H.i,D.o,ge))break n;Z.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(k=A.a)}else k=A.a}else{if((A=new Go)==null){oe=1;break e}if(A.Fa=Z.na,A.P=Z.P,A.qc=Z.Sa,Sl(A,H)){if((k=$o(H.width,H.height,oe.Oa,oe.ba))==0){if(A.Aa=0,D=oe.Oa,e((Z=A)!=null),D!=null){if(0<(be=0>(be=D.Md)?0:100<be?255:255*be/100)){for(Ee=Ie=0;4>Ee;++Ee)12>(Xe=Z.pb[Ee]).lc&&(Xe.ia=be*M0[0>Xe.lc?0:Xe.lc]>>3),Ie|=Xe.ia;Ie&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=D.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(Ae,De){if(Ae==null)return 0;if(De==null)return lr(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!Sl(Ae,De))return 0;if(e(Ae.cb),De.ac==null||De.ac(De)){De.ob&&(Ae.L=0);var ze=Kh[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=De.v-ze>>4,Ae.zb=De.j-ze>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=De.o+15+ze>>4,Ae.Hb=De.va+15+ze>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var st=Ae.ed;for(ze=0;4>ze;++ze){var qe;if(Ae.Qa.Cb){var rt=Ae.Qa.Lb[ze];Ae.Qa.Fb||(rt+=st.Tb)}else rt=st.Tb;for(qe=0;1>=qe;++qe){var ut=Ae.gd[ze][qe],xt=rt;if(st.Pc&&(xt+=st.vd[0],qe&&(xt+=st.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var pt=xt;0<st.wb&&(pt=4<st.wb?pt>>2:pt>>1)>9-st.wb&&(pt=9-st.wb),1>pt&&(pt=1),ut.dd=pt,ut.tc=2*xt+pt,ut.ld=40<=xt?2:15<=xt?1:0}else ut.tc=0;ut.La=qe}}}ze=0}else lr(Ae,6,"Frame setup failed"),ze=Ae.a;if(ze=ze==0){if(ze){Ae.$c=0,0<Ae.Aa||(Ae.Ic=F0);t:{ze=Ae.Ic,st=4*(pt=Ae.za);var Wt=32*pt,Ft=pt+1,An=0<Ae.L?pt*(0<Ae.Aa?2:1):0,Ht=(Ae.Aa==2?2:1)*pt;if((ut=st+832+(qe=3*(16*ze+Kh[Ae.L])/2*Wt)+(rt=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=ut)ze=0;else{if(ut>Ae.Vb){if(Ae.Vb=0,Ae.Ec=s(ut),Ae.Fc=0,Ae.Ec==null){ze=lr(Ae,1,"no memory during frame initialization.");break t}Ae.Vb=ut}ut=Ae.Ec,xt=Ae.Fc,Ae.Ac=ut,Ae.Bc=xt,xt+=st,Ae.Gd=a(Wt,za),Ae.Hd=0,Ae.rb=a(Ft+1,Tr),Ae.sb=1,Ae.wa=An?a(An,Gn):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=pt),e(!0),Ae.oc=ut,Ae.pc=xt,xt+=832,Ae.ya=a(Ht,zo),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=pt),Ae.R=16*pt,Ae.B=8*pt,pt=(Wt=Kh[Ae.L])*Ae.R,Wt=Wt/2*Ae.B,Ae.sa=ut,Ae.ta=xt+pt,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*ze*Ae.R+Wt,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*ze*Ae.B+Wt,Ae.$c=0,xt+=qe,Ae.mb=rt?ut:null,Ae.nb=rt?xt:null,e(xt+rt<=Ae.Fc+Ae.Vb),d0(Ae),i(Ae.Ac,Ae.Bc,0,st),ze=1}}if(ze){if(De.ka=0,De.y=Ae.sa,De.O=Ae.ta,De.f=Ae.qa,De.N=Ae.ra,De.ea=Ae.Ha,De.Vd=Ae.Ia,De.fa=Ae.R,De.Rc=Ae.B,De.F=null,De.J=0,!zm){for(ze=-255;255>=ze;++ze)_f[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)Hm[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)C0[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)k0[255+ze]=0>ze?0:255<ze?255:ze;zm=1}Va=qo,Tc=p0,ho=Js,cr=m0,nr=g0,Ls=Rm,Br=Om,bi=gc,Fl=J,Ko=ke,yf=Bm,E0=M,xv=Le,Jy=Be,Zy=hc,Qy=dc,yv=gf,bv=_0,ui[0]=Dm,ui[1]=Lm,ui[2]=Fm,ui[3]=y0,ui[4]=ja,ui[5]=b0,ui[6]=ms,ui[7]=df,ui[8]=pf,ui[9]=Ga,ea[0]=Vo,ea[1]=v0,ea[2]=x0,ea[3]=Mm,ea[4]=uc,ea[5]=hf,ea[6]=du,Jo[0]=Dh,Jo[1]=Im,Jo[2]=El,Jo[3]=Pm,Jo[4]=ns,Jo[5]=Ph,Jo[6]=Tl,ze=1}else ze=0}ze&&(ze=(function(Vn,Xr){for(Vn.M=0;Vn.M<Vn.Va;++Vn.M){var Rn,Dt=Vn.Jc[Vn.M&Vn.Xb],Et=Vn.m,ei=Vn;for(Rn=0;Rn<ei.za;++Rn){var mn=Et,Mn=ei,wr=Mn.Ac,Gi=Mn.Bc+4*Rn,ws=Mn.zc,Ur=Mn.ya[Mn.aa+Rn];if(Mn.Qa.Bb?Ur.$b=Te(mn,Mn.Pa.jb[0])?2+Te(mn,Mn.Pa.jb[2]):Te(mn,Mn.Pa.jb[1]):Ur.$b=0,Mn.kc&&(Ur.Ad=Te(mn,Mn.Bd)),Ur.Za=!Te(mn,145)+0,Ur.Za){var Ri=Ur.Ob,Fs=0;for(Mn=0;4>Mn;++Mn){var Li,zn=ws[0+Mn];for(Li=0;4>Li;++Li){zn=ys[wr[Gi+Li]][zn];for(var sr=Xm[Te(mn,zn[0])];0<sr;)sr=Xm[2*sr+Te(mn,zn[sr])];zn=-sr,wr[Gi+Li]=zn}r(Ri,Fs,wr,Gi,4),Fs+=4,ws[0+Mn]=zn}}else zn=Te(mn,156)?Te(mn,128)?1:3:Te(mn,163)?2:0,Ur.Ob[0]=zn,i(wr,Gi,zn,4),i(ws,0,zn,4);Ur.Dd=Te(mn,142)?Te(mn,114)?Te(mn,183)?1:3:2:0}if(ei.m.Ka)return lr(Vn,7,"Premature end-of-partition0 encountered.");for(;Vn.ja<Vn.za;++Vn.ja){if(ei=Dt,mn=(Et=Vn).rb[Et.sb-1],wr=Et.rb[Et.sb+Et.ja],Rn=Et.ya[Et.aa+Et.ja],Gi=Et.kc?Rn.Ad:0)mn.la=wr.la=0,Rn.Za||(mn.Na=wr.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var ti,ur;if(mn=wr,wr=ei,Gi=Et.Pa.Xc,ws=Et.ya[Et.aa+Et.ja],Ur=Et.pb[ws.$b],Mn=ws.ad,Ri=0,Fs=Et.rb[Et.sb-1],zn=Li=0,i(Mn,Ri,0,384),ws.Za)var qi=0,ni=Gi[3];else{sr=s(16);var ar=mn.Na+Fs.Na;if(ar=Xa(wr,Gi[1],ar,Ur.Eb,0,sr,0),mn.Na=Fs.Na=(0<ar)+0,1<ar)Va(sr,0,Mn,Ri);else{var wi=sr[0]+3>>3;for(sr=0;256>sr;sr+=16)Mn[Ri+sr]=wi}qi=1,ni=Gi[0]}var Ar=15&mn.la,Ii=15&Fs.la;for(sr=0;4>sr;++sr){var Mi=1&Ii;for(wi=ur=0;4>wi;++wi)Ar=Ar>>1|(Mi=(ar=Xa(wr,ni,ar=Mi+(1&Ar),Ur.Sc,qi,Mn,Ri))>qi)<<7,ur=ur<<2|(3<ar?3:1<ar?2:Mn[Ri+0]!=0),Ri+=16;Ar>>=4,Ii=Ii>>1|Mi<<7,Li=(Li<<8|ur)>>>0}for(ni=Ar,qi=Ii>>4,ti=0;4>ti;ti+=2){for(ur=0,Ar=mn.la>>4+ti,Ii=Fs.la>>4+ti,sr=0;2>sr;++sr){for(Mi=1&Ii,wi=0;2>wi;++wi)ar=Mi+(1&Ar),Ar=Ar>>1|(Mi=0<(ar=Xa(wr,Gi[2],ar,Ur.Qc,0,Mn,Ri)))<<3,ur=ur<<2|(3<ar?3:1<ar?2:Mn[Ri+0]!=0),Ri+=16;Ar>>=2,Ii=Ii>>1|Mi<<5}zn|=ur<<4*ti,ni|=Ar<<4<<ti,qi|=(240&Ii)<<ti}mn.la=ni,Fs.la=qi,ws.Hc=Li,ws.Gc=zn,ws.ia=43690&zn?0:Ur.ia,Gi=!(Li|zn)}if(0<Et.L&&(Et.wa[Et.Y+Et.ja]=Et.gd[Rn.$b][Rn.Za],Et.wa[Et.Y+Et.ja].La|=!Gi),ei.Ka)return lr(Vn,7,"Premature end-of-file encountered.")}if(d0(Vn),Et=Xr,ei=1,Rn=(Dt=Vn).D,mn=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(Rn.M=Dt.M,Rn.uc=mn,qa(Dt,Rn),ei=1,Rn=(ur=Dt.D).Nb,mn=(zn=Kh[Dt.L])*Dt.R,wr=zn/2*Dt.B,sr=16*Rn*Dt.R,wi=8*Rn*Dt.B,Gi=Dt.sa,ws=Dt.ta-mn+sr,Ur=Dt.qa,Mn=Dt.ra-wr+wi,Ri=Dt.Ha,Fs=Dt.Ia-wr+wi,Ii=(Ar=ur.M)==0,Li=Ar>=Dt.Va-1,Dt.Aa==2&&qa(Dt,ur),ur.uc)for(Mi=(ar=Dt).D.M,e(ar.D.uc),ur=ar.yb;ur<ar.Hb;++ur){qi=ur,ni=Mi;var Cr=(rr=(Fi=ar).D).Nb;ti=Fi.R;var rr=rr.wa[rr.Y+qi],Ds=Fi.sa,fi=Fi.ta+16*Cr*ti+16*qi,on=rr.dd,ln=rr.tc;if(ln!=0)if(e(3<=ln),Fi.L==1)0<qi&&Qy(Ds,fi,ti,ln+4),rr.La&&bv(Ds,fi,ti,ln),0<ni&&Zy(Ds,fi,ti,ln+4),rr.La&&yv(Ds,fi,ti,ln);else{var or=Fi.B,ga=Fi.qa,wo=Fi.ra+8*Cr*or+8*qi,ta=Fi.Ha,Fi=Fi.Ia+8*Cr*or+8*qi;Cr=rr.ld,0<qi&&(bi(Ds,fi,ti,ln+4,on,Cr),Ko(ga,wo,ta,Fi,or,ln+4,on,Cr)),rr.La&&(E0(Ds,fi,ti,ln,on,Cr),Jy(ga,wo,ta,Fi,or,ln,on,Cr)),0<ni&&(Br(Ds,fi,ti,ln+4,on,Cr),Fl(ga,wo,ta,Fi,or,ln+4,on,Cr)),rr.La&&(yf(Ds,fi,ti,ln,on,Cr),xv(ga,wo,ta,Fi,or,ln,on,Cr))}}if(Dt.ia&&alert("todo:DitherRow"),Et.put!=null){if(ur=16*Ar,Ar=16*(Ar+1),Ii?(Et.y=Dt.sa,Et.O=Dt.ta+sr,Et.f=Dt.qa,Et.N=Dt.ra+wi,Et.ea=Dt.Ha,Et.W=Dt.Ia+wi):(ur-=zn,Et.y=Gi,Et.O=ws,Et.f=Ur,Et.N=Mn,Et.ea=Ri,Et.W=Fs),Li||(Ar-=zn),Ar>Et.o&&(Ar=Et.o),Et.F=null,Et.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&ur<Ar&&(Et.J=Or(Dt,Et,ur,Ar-ur),Et.F=Dt.mb,Et.F==null&&Et.F.length==0)){ei=lr(Dt,3,"Could not decode alpha data.");break t}ur<Et.j&&(zn=Et.j-ur,ur=Et.j,e(!(1&zn)),Et.O+=Dt.R*zn,Et.N+=Dt.B*(zn>>1),Et.W+=Dt.B*(zn>>1),Et.F!=null&&(Et.J+=Et.width*zn)),ur<Ar&&(Et.O+=Et.v,Et.N+=Et.v>>1,Et.W+=Et.v>>1,Et.F!=null&&(Et.J+=Et.v),Et.ka=ur-Et.j,Et.U=Et.va-Et.v,Et.T=Ar-ur,ei=Et.put(Et))}Rn+1!=Dt.Ic||Li||(r(Dt.sa,Dt.ta-mn,Gi,ws+16*Dt.R,mn),r(Dt.qa,Dt.ra-wr,Ur,Mn+8*Dt.B,wr),r(Dt.Ha,Dt.Ia-wr,Ri,Fs+8*Dt.B,wr))}if(!ei)return lr(Vn,6,"Output aborted.")}return 1})(Ae,De)),De.bc!=null&&De.bc(De),ze&=1}return ze?(Ae.cb=0,ze):0})(A,H)||(k=A.a)}}else k=A.a}k==0&&oe.Oa!=null&&oe.Oa.fd&&(k=S0(oe.ba))}oe=k}re=oe!=0?null:11>re?pe.f.RGBA.eb:pe.f.kb.y}else re=null;return re};var Jm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(O,ee){for(var B="",G=0;G<4;G++)B+=String.fromCharCode(O[ee++]);return B}function h(O,ee){return O[ee+0]|O[ee+1]<<8}function p(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16)>>>0}function g(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16|O[ee+3]<<24)>>>0}new c;var m=[0],b=[0],_=[],w=new c,T=n,L=(function(O,ee){var B={},G=0,Q=!1,ce=0,_e=0;if(B.frames=[],!(function(I,j){for(var U=0;U<4;U++)if(I[j+U]!="RIFF".charCodeAt(U))return!0;return!1})(O,ee)){for(g(O,ee+=4),ee+=8;ee<O.length;){var K=f(O,ee),le=g(O,ee+=4);ee+=4;var Se=le+(1&le);switch(K){case"VP8 ":case"VP8L":B.frames[G]===void 0&&(B.frames[G]={}),(ie=B.frames[G]).src_off=Q?_e:ee-8,ie.src_size=ce+le+8,G++,Q&&(Q=!1,ce=0,_e=0);break;case"VP8X":(ie=B.header={}).feature_flags=O[ee];var ve=ee+4;ie.canvas_width=1+p(O,ve),ve+=3,ie.canvas_height=1+p(O,ve),ve+=3;break;case"ALPH":Q=!0,ce=Se+8,_e=ee-8;break;case"ANIM":(ie=B.header).bgcolor=g(O,ee),ve=ee+4,ie.loop_count=h(O,ve),ve+=2;break;case"ANMF":var Pe,ie;(ie=B.frames[G]={}).offset_x=2*p(O,ee),ee+=3,ie.offset_y=2*p(O,ee),ee+=3,ie.width=1+p(O,ee),ee+=3,ie.height=1+p(O,ee),ee+=3,ie.duration=p(O,ee),ee+=3,Pe=O[ee++],ie.dispose=1&Pe,ie.blend=Pe>>1&1}K!="ANMF"&&(ee+=Se)}return B}})(T,0);L.response=T,L.rgbaoutput=!0,L.dataurl=!1;var R=L.header?L.header:null,F=L.frames?L.frames:null;if(R){R.loop_counter=R.loop_count,m=[R.canvas_height],b=[R.canvas_width];for(var z=0;z<F.length&&F[z].blend!=0;z++);}var q=F[0],P=w.WebPDecodeRGBA(T,q.src_off,q.src_size,b,m);q.rgba=P,q.imgwidth=b[0],q.imgheight=m[0];for(var X=0;X<b[0]*m[0]*4;X++)_[X]=P[X];return this.width=b,this.height=m,this.data=_,this}(function(n){var e,t,r,i,s,a,o,c,f,h=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=I;Object.defineProperty(this,"pdf",{get:function(){return j}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(de){U=!!de}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(de){Y=!!de}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(de){isNaN(de)||(ae=de)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(de){isNaN(de)||(ye=de)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(de){var Fe;typeof de=="number"?Fe=[de,de,de,de]:((Fe=new Array(4))[0]=de[0],Fe[1]=de.length>=2?de[1]:Fe[0],Fe[2]=de.length>=3?de[2]:Fe[0],Fe[3]=de.length>=4?de[3]:Fe[1]),f.margin=Fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(de){me=de}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(de){fe=de}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(de){Te=de}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(de){de instanceof h&&(f=de)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(de){f.path=de}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(de){Oe=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var Fe;Fe=g(de),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var Fe=g(de);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var ue=null,nt=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(de){ue=null,nt=null,it=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var Fe;if(this.ctx.font=de,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(de))!==null){var He=Fe[1];Fe[2];var ht=Fe[3],et=Fe[4];Fe[5];var kt=Fe[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(_t==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var jt=(function(ot){var fn,Lt,Pt=[],sn=ot.trim();if(sn==="")return _S;if(sn in B8)return[B8[sn]];for(;sn!=="";){switch(Lt=null,fn=(sn=H8(sn)).charAt(0)){case'"':case"'":Lt=dK(sn.substring(1),fn);break;default:Lt=pK(sn)}if(Lt===null||(Pt.push(Lt[0]),(sn=H8(Lt[1]))!==""&&sn.charAt(0)!==","))return _S;sn=sn.replace(/^,/,"")}return Pt})(kt);if(this.fontFaces){var Mt=(function(ot,fn){var Lt=ot.getFontList(),Pt=JSON.stringify(Lt);if(ue===null||nt!==Pt){var sn=(function(Hn){var an=[];return Object.keys(Hn).forEach(function(yr){Hn[yr].forEach(function(hn){var gn=null;switch(hn){case"bold":gn={family:yr,weight:"bold"};break;case"italic":gn={family:yr,style:"italic"};break;case"bolditalic":gn={family:yr,weight:"bold",style:"italic"};break;case"":case"normal":gn={family:yr}}gn!==null&&(gn.ref={name:yr,style:hn},an.push(gn))})}),an})(Lt);ue=(function(Hn){for(var an={},yr=0;yr<Hn.length;++yr){var hn=bS(Hn[yr]),gn=hn.family,br=hn.stretch,Cn=hn.style,$t=hn.weight;an[gn]=an[gn]||{},an[gn][br]=an[gn][br]||{},an[gn][br][Cn]=an[gn][br][Cn]||{},an[gn][br][Cn][$t]=hn}return an})(sn.concat(fn)),nt=Pt}return ue})(this.pdf,this.fontFaces),Yt=jt.map(function(ot){return{family:ot,stretch:"normal",weight:ht,style:He}}),dn=(function(ot,fn,Lt){for(var Pt=(Lt=Lt||{}).defaultFontFamily||"times",sn=Object.assign({},hK,Lt.genericFontFamilies||{}),Hn=null,an=null,yr=0;yr<fn.length;++yr)if(sn[(Hn=bS(fn[yr])).family]&&(Hn.family=sn[Hn.family]),ot.hasOwnProperty(Hn.family)){an=ot[Hn.family];break}if(!(an=an||ot[Pt]))throw new Error("Could not find a font-family for the rule '"+U8(Hn)+"' and default family '"+Pt+"'.");if(an=(function(hn,gn){if(gn[hn])return gn[hn];var br=NT[hn],Cn=br<=NT.normal?-1:1,$t=O8(gn,YF,br,Cn);if(!$t)throw new Error("Could not find a matching font-stretch value for "+hn);return $t})(Hn.stretch,an),an=(function(hn,gn){if(gn[hn])return gn[hn];for(var br=XF[hn],Cn=0;Cn<br.length;++Cn)if(gn[br[Cn]])return gn[br[Cn]];throw new Error("Could not find a matching font-style for "+hn)})(Hn.style,an),!(an=(function(hn,gn){if(gn[hn])return gn[hn];if(hn===400&&gn[500])return gn[500];if(hn===500&&gn[400])return gn[400];var br=fK[hn],Cn=O8(gn,$F,br,hn<400?-1:1);if(!Cn)throw new Error("Could not find a matching font-weight for value "+hn);return Cn})(Hn.weight,an)))throw new Error("Failed to resolve a font for the rule '"+U8(Hn)+"'.");return an})(Mt,Yt);this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var Kt="";(ht==="bold"||parseInt(ht,10)>=700||He==="bold")&&(Kt="bold"),He==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var En="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<jt.length;Rt++){if(this.pdf.internal.getFont(jt[Rt],Kt,{noFallback:!0,disableWarning:!0})!==void 0){En=jt[Rt];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(jt[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)En=jt[Rt],Kt="bold";else if(this.pdf.internal.getFont(jt[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){En=jt[Rt],Kt="normal";break}}if(En===""){for(var je=0;je<jt.length;je++)if(Qt[jt[je]]){En=Qt[jt[je]];break}}En=En===""?"Times":En,this.pdf.setFont(En,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){F.call(this,"fill",!1)},p.prototype.stroke=function(){F.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,j){if(isNaN(I)||isNaN(j))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new a(I,j));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(I,j)},p.prototype.closePath=function(){var I=new a(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Fr(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){I=new a(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},p.prototype.lineTo=function(I,j){if(isNaN(I)||isNaN(j))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new a(I,j));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,j,U,Y){if(isNaN(U)||isNaN(Y)||isNaN(I)||isNaN(j))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new a(U,Y)),ye=this.ctx.transform.applyToPoint(new a(I,j));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},p.prototype.bezierCurveTo=function(I,j,U,Y,ae,ye){if(isNaN(ae)||isNaN(ye)||isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(ae,ye)),fe=this.ctx.transform.applyToPoint(new a(I,j)),Te=this.ctx.transform.applyToPoint(new a(U,Y));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Te.x,y2:Te.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},p.prototype.arc=function(I,j,U,Y,ae,ye){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y)||isNaN(ae))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(I,j));I=me.x,j=me.y;var fe=this.ctx.transform.applyToPoint(new a(0,U)),Te=this.ctx.transform.applyToPoint(new a(0,0));U=Math.sqrt(Math.pow(fe.x-Te.x,2)+Math.pow(fe.y-Te.y,2))}Math.abs(ae-Y)>=2*Math.PI&&(Y=0,ae=2*Math.PI),this.path.push({type:"arc",x:I,y:j,radius:U,startAngle:Y,endAngle:ae,counterclockwise:ye})},p.prototype.arcTo=function(I,j,U,Y,ae){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,j,U,Y){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,j),this.lineTo(I+U,j),this.lineTo(I+U,j+Y),this.lineTo(I,j+Y),this.lineTo(I,j),this.lineTo(I+U,j),this.lineTo(I,j)},p.prototype.fillRect=function(I,j,U,Y){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,j,U,Y),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},p.prototype.strokeRect=function(I,j,U,Y){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(I,j,U,Y),this.stroke())},p.prototype.clearRect=function(I,j,U,Y){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,j,U,Y))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(j),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var j,U,Y,ae;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))j=0,U=0,Y=0,ae=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ye!==null)j=parseInt(ye[1]),U=parseInt(ye[2]),Y=parseInt(ye[3]),ae=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)j=parseInt(ye[1]),U=parseInt(ye[2]),Y=parseInt(ye[3]),ae=parseFloat(ye[4]);else{if(ae=1,typeof I=="string"&&I.charAt(0)!=="#"){var me=new HF(I);I=me.ok?me.toHex():"#000000"}I.length===4?(j=I.substring(1,2),j+=j,U=I.substring(2,3),U+=U,Y=I.substring(3,4),Y+=Y):(j=I.substring(1,3),U=I.substring(3,5),Y=I.substring(5,7)),j=parseInt(j,16),U=parseInt(U,16),Y=parseInt(Y,16)}}return{r:j,g:U,b:Y,a:ae,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,j,U,Y){if(isNaN(j)||isNaN(U)||typeof I!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var ae=Se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;G.call(this,{text:I,x:j,y:U,scale:ye,angle:ae,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(I,j,U,Y){if(isNaN(j)||isNaN(U)||typeof I!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var ae=Se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;G.call(this,{text:I,x:j,y:U,scale:ye,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(I){if(typeof I!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,U=this.pdf.internal.scaleFactor,Y=j.internal.getFontSize(),ae=j.getStringUnitWidth(I)*Y/j.internal.scaleFactor;return new function(ye){var me=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ae*=Math.round(96*U/72*1e4)/1e4})},p.prototype.scale=function(I,j){if(isNaN(I)||isNaN(j))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(I,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.rotate=function(I){if(isNaN(I))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},p.prototype.translate=function(I,j){if(isNaN(I)||isNaN(j))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,I,j);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.transform=function(I,j,U,Y,ae,ye){if(isNaN(I)||isNaN(j)||isNaN(U)||isNaN(Y)||isNaN(ae)||isNaN(ye))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new c(I,j,U,Y,ae,ye);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(I,j,U,Y,ae,ye){I=isNaN(I)?1:I,j=isNaN(j)?0:j,U=isNaN(U)?0:U,Y=isNaN(Y)?1:Y,ae=isNaN(ae)?0:ae,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(I,j,U,Y,ae,ye)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,j,U,Y,ae,ye,me,fe,Te){var Oe=this.pdf.getImageProperties(I),ue=1,nt=1,it=1,de=1;Y!==void 0&&fe!==void 0&&(it=fe/Y,de=Te/ae,ue=Oe.width/Y*fe/Y,nt=Oe.height/ae*Te/ae),ye===void 0&&(ye=j,me=U,j=0,U=0),Y!==void 0&&fe===void 0&&(fe=Y,Te=ae),Y===void 0&&fe===void 0&&(fe=Oe.width,Te=Oe.height);var Fe=this.ctx.transform.decompose(),He=Se(Fe.rotate.shx),ht=new c,et=(ht=(ht=(ht=ht.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(ye-j*it,me-U*de,Y*ue,ae*nt));if(this.autoPaging){for(var kt,_t=w.call(this,et),jt=[],Mt=0;Mt<_t.length;Mt+=1)jt.indexOf(_t[Mt])===-1&&jt.push(_t[Mt]);R(jt);for(var Yt=jt[0],dn=jt[jt.length-1],Kt=Yt;Kt<dn+1;Kt++){this.pdf.setPage(Kt);var En=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Kt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Kt===1?0:Rt+(Kt-2)*je;if(this.ctx.clip_path.length!==0){var fn=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(kt,this.posX+this.margin[3],-ot+Qt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=fn}var Lt=JSON.parse(JSON.stringify(et));Lt=L([Lt],this.posX+this.margin[3],-ot+Qt+this.ctx.prevPageLastElemOffset)[0];var Pt=(Kt>Yt||Kt<dn)&&_.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],En,je,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,He),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",et.x,et.y,et.w,et.h,null,null,He)};var w=function(I,j,U){var Y=[];j=j||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Y.push(Math.floor((I.y+ae)/U)+1);break;case"arc":Y.push(Math.floor((I.y+ae-I.radius)/U)+1),Y.push(Math.floor((I.y+ae+I.radius)/U)+1);break;case"qct":var ye=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Y.push(Math.floor((ye.y+ae)/U)+1),Y.push(Math.floor((ye.y+ye.h+ae)/U)+1);break;case"bct":var me=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Y.push(Math.floor((me.y+ae)/U)+1),Y.push(Math.floor((me.y+me.h+ae)/U)+1);break;case"rect":Y.push(Math.floor((I.y+ae)/U)+1),Y.push(Math.floor((I.y+I.h+ae)/U)+1)}for(var fe=0;fe<Y.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)T.call(this);return Y},T=function(){var I=this.fillStyle,j=this.strokeStyle,U=this.font,Y=this.lineCap,ae=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=j,this.font=U,this.lineCap=Y,this.lineWidth=ae,this.lineJoin=ye},L=function(I,j,U){for(var Y=0;Y<I.length;Y++)switch(I[Y].type){case"bct":I[Y].x2+=j,I[Y].y2+=U;case"qct":I[Y].x1+=j,I[Y].y1+=U;default:I[Y].x+=j,I[Y].y+=U}return I},R=function(I){return I.sort(function(j,U){return j-U})},F=function(I,j){var U=this.fillStyle,Y=this.strokeStyle,ae=this.lineCap,ye=this.lineWidth,me=Math.abs(ye*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var Te,Oe,ue=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),it=[],de=0;de<nt.length;de++)if(nt[de].x!==void 0)for(var Fe=w.call(this,nt[de]),He=0;He<Fe.length;He+=1)it.indexOf(Fe[He])===-1&&it.push(Fe[He]);for(var ht=0;ht<it.length;ht++)for(;this.pdf.internal.getNumberOfPages()<it[ht];)T.call(this);R(it);for(var et=it[0],kt=it[it.length-1],_t=et;_t<kt+1;_t++){this.pdf.setPage(_t),this.fillStyle=U,this.strokeStyle=Y,this.lineCap=ae,this.lineWidth=me,this.lineJoin=fe;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=_t===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=_t===1?0:Yt+(_t-2)*dn;if(this.ctx.clip_path.length!==0){var En=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Te,this.posX+this.margin[3],-Kt+Mt+this.ctx.prevPageLastElemOffset),z.call(this,I,!0),this.path=En}if(Oe=JSON.parse(JSON.stringify(ue)),this.path=L(Oe,this.posX+this.margin[3],-Kt+Mt+this.ctx.prevPageLastElemOffset),j===!1||_t===0){var Qt=(_t>et||_t<kt)&&_.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,dn,null).clip().discardPath()),z.call(this,I,j),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ue}else this.lineWidth=me,z.call(this,I,j),this.lineWidth=ye},z=function(I,j){if((I!=="stroke"||j||!b.call(this))&&(I==="stroke"||j||!m.call(this))){for(var U,Y,ae=[],ye=this.path,me=0;me<ye.length;me++){var fe=ye[me];switch(fe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:fe,deltas:[],abs:[]});break;case"lt":var Te=ae.length;if(ye[me-1]&&!isNaN(ye[me-1].x)&&(U=[fe.x-ye[me-1].x,fe.y-ye[me-1].y],Te>0)){for(;Te>=0;Te--)if(ae[Te-1].close!==!0&&ae[Te-1].begin!==!0){ae[Te-1].deltas.push(U),ae[Te-1].abs.push(fe);break}}break;case"bct":U=[fe.x1-ye[me-1].x,fe.y1-ye[me-1].y,fe.x2-ye[me-1].x,fe.y2-ye[me-1].y,fe.x-ye[me-1].x,fe.y-ye[me-1].y],ae[ae.length-1].deltas.push(U);break;case"qct":var Oe=ye[me-1].x+2/3*(fe.x1-ye[me-1].x),ue=ye[me-1].y+2/3*(fe.y1-ye[me-1].y),nt=fe.x+2/3*(fe.x1-fe.x),it=fe.y+2/3*(fe.y1-fe.y),de=fe.x,Fe=fe.y;U=[Oe-ye[me-1].x,ue-ye[me-1].y,nt-ye[me-1].x,it-ye[me-1].y,de-ye[me-1].x,Fe-ye[me-1].y],ae[ae.length-1].deltas.push(U);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(fe)}}Y=j?null:I==="stroke"?"stroke":"fill";for(var He=!1,ht=0;ht<ae.length;ht++)if(ae[ht].arc)for(var et=ae[ht].abs,kt=0;kt<et.length;kt++){var _t=et[kt];_t.type==="arc"?X.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,j,!He):Q.call(this,_t.x,_t.y),He=!0}else if(ae[ht].close===!0)this.pdf.internal.out("h"),He=!1;else if(ae[ht].begin!==!0){var jt=ae[ht].start.x,Mt=ae[ht].start.y;ce.call(this,ae[ht].deltas,jt,Mt),He=!0}Y&&O.call(this,Y),j&&ee.call(this)}},q=function(I){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-U;case"top":return I+j-U;case"hanging":return I+j-2*U;case"middle":return I+j/2-U;default:return I}},P=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(j,U){this.colorStops.push([j,U])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(I,j,U,Y,ae,ye,me,fe,Te){for(var Oe=K.call(this,U,Y,ae,ye),ue=0;ue<Oe.length;ue++){var nt=Oe[ue];ue===0&&(Te?B.call(this,nt.x1+I,nt.y1+j):Q.call(this,nt.x1+I,nt.y1+j)),_e.call(this,I,j,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}fe?ee.call(this):O.call(this,me)},O=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(I,j){this.pdf.internal.out(t(I)+" "+r(j)+" m")},G=function(I){var j;switch(I.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var U,Y,ae,ye=this.pdf.getTextDimensions(I.text),me=q.call(this,I.y),fe=P.call(this,me)-ye.h,Te=this.ctx.transform.applyToPoint(new a(I.x,me));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var nt=this.ctx.transform.applyToRectangle(new o(I.x,me,ye.w,ye.h)),it=ue.applyToRectangle(new o(I.x,fe,ye.w,ye.h)),de=w.call(this,it),Fe=[],He=0;He<de.length;He+=1)Fe.indexOf(de[He])===-1&&Fe.push(de[He]);R(Fe);for(var ht=Fe[0],et=Fe[Fe.length-1],kt=ht;kt<et+1;kt++){this.pdf.setPage(kt);var _t=kt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[2],Yt=Mt-this.margin[0],dn=this.pdf.internal.pageSize.width-this.margin[1],Kt=dn-this.margin[3],En=kt===1?0:jt+(kt-2)*Yt;if(this.ctx.clip_path.length!==0){var Qt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(U,this.posX+this.margin[3],-1*En+_t),z.call(this,"fill",!0),this.path=Qt}var Rt=L([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-En+_t+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale);var je=this.autoPaging!=="text";if(je||Rt.y+Rt.h<=Mt){if(je||Rt.y>=_t&&Rt.x<=dn){var ot=je?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||dn-Rt.x)[0],fn=L([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-En+_t+this.ctx.prevPageLastElemOffset)[0],Lt=je&&(kt>ht||kt<et)&&_.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Yt,null).clip().discardPath()),this.pdf.text(ot,fn.x,fn.y,{angle:I.angle,align:j,renderingMode:I.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else Rt.y<Mt&&(this.ctx.prevPageLastElemOffset+=Mt-Rt.y);I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ae)}}else I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale),this.pdf.text(I.text,Te.x+this.posX,Te.y+this.posY,{angle:I.angle,align:j,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ae)},Q=function(I,j,U,Y){U=U||0,Y=Y||0,this.pdf.internal.out(t(I+U)+" "+r(j+Y)+" l")},ce=function(I,j,U){return this.pdf.lines(I,j,U,null,null)},_e=function(I,j,U,Y,ae,ye,me,fe){this.pdf.internal.out([e(i(U+I)),e(s(Y+j)),e(i(ae+I)),e(s(ye+j)),e(i(me+I)),e(s(fe+j)),"c"].join(" "))},K=function(I,j,U,Y){for(var ae=2*Math.PI,ye=Math.PI/2;j>U;)j-=ae;var me=Math.abs(U-j);me<ae&&Y&&(me=ae-me);for(var fe=[],Te=Y?-1:1,Oe=j;me>1e-5;){var ue=Oe+Te*Math.min(me,ye);fe.push(le.call(this,I,Oe,ue)),me-=Math.abs(ue-Oe),Oe=ue}return fe},le=function(I,j,U){var Y=(U-j)/2,ae=I*Math.cos(Y),ye=I*Math.sin(Y),me=ae,fe=-ye,Te=me*me+fe*fe,Oe=Te+me*ae+fe*ye,ue=4/3*(Math.sqrt(2*Te*Oe)-Oe)/(me*ye-fe*ae),nt=me-ue*fe,it=fe+ue*me,de=nt,Fe=-it,He=Y+j,ht=Math.cos(He),et=Math.sin(He);return{x1:I*Math.cos(j),y1:I*Math.sin(j),x2:nt*ht-it*et,y2:nt*et+it*ht,x3:de*ht-Fe*et,y3:de*et+Fe*ht,x4:I*Math.cos(U),y4:I*Math.sin(U)}},Se=function(I){return 180*I/Math.PI},ve=function(I,j,U,Y,ae,ye){var me=I+.5*(U-I),fe=j+.5*(Y-j),Te=ae+.5*(U-ae),Oe=ye+.5*(Y-ye),ue=Math.min(I,ae,me,Te),nt=Math.max(I,ae,me,Te),it=Math.min(j,ye,fe,Oe),de=Math.max(j,ye,fe,Oe);return new o(ue,it,nt-ue,de-it)},Pe=function(I,j,U,Y,ae,ye,me,fe){var Te,Oe,ue,nt,it,de,Fe,He,ht,et,kt,_t,jt,Mt,Yt=U-I,dn=Y-j,Kt=ae-U,En=ye-Y,Qt=me-ae,Rt=fe-ye;for(Oe=0;Oe<41;Oe++)ht=(Fe=(ue=I+(Te=Oe/40)*Yt)+Te*((it=U+Te*Kt)-ue))+Te*(it+Te*(ae+Te*Qt-it)-Fe),et=(He=(nt=j+Te*dn)+Te*((de=Y+Te*En)-nt))+Te*(de+Te*(ye+Te*Rt-de)-He),Oe==0?(kt=ht,_t=et,jt=ht,Mt=et):(kt=Math.min(kt,ht),_t=Math.min(_t,et),jt=Math.max(jt,ht),Mt=Math.max(Mt,et));return new o(Math.round(kt),Math.round(_t),Math.round(jt-kt),Math.round(Mt-_t))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,j,U=(I=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:j}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(nn.API),(function(n){var e=function(a){var o,c,f,h,p,g,m,b,_,w;for(c=[],f=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>f;f+=4)(p=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(g=(p=((p=((p=((p=(p-(w=p%85))/85)-(_=p%85))/85)-(b=p%85))/85)-(m=p%85))/85)%85,c.push(g+33,m+33,b+33,_+33,w+33)):c.push(122);return(function(T,L){for(var R=L;R>0;R--)T.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,f,h,p,g=String,m="length",b=255,_="charCodeAt",w="slice",T="replace";for(a[w](-2),a=a[w](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),f=[],h=0,p=(a+=o="uuuuu"[w](a[m]%5||5))[m];p>h;h+=5)c=52200625*(a[_](h)-33)+614125*(a[_](h+1)-33)+7225*(a[_](h+2)-33)+85*(a[_](h+3)-33)+(a[_](h+4)-33),f.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(L,R){for(var F=R;F>0;F--)L.pop()})(f,o[m]),g.fromCharCode.apply(g,f)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=wT(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};n.processDataByFilters=function(a,o){var c=0,f=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(nn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,f,h){var p=new XMLHttpRequest,g=0,m=function(b){var _=b.length,w=[],T=String.fromCharCode;for(g=0;g<_;g+=1)w.push(T(255&b.charCodeAt(g)));return w.join("")};if(p.open("GET",c,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return m(p.responseText)})(i,s,a)}catch{}return o})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(nn.API),(function(n){function e(){return(Sn.html2canvas?Promise.resolve(Sn.html2canvas):nS(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Sn.DOMPurify?Promise.resolve(Sn.DOMPurify):nS(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Fr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var f=document.createElement(o);for(var h in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[h]=c.style[h];return f},s=function o(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},a=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var b=h[m],_=b.src.find(function(w){return w.format==="truetype"});_&&f.addFont(_.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var f=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||nn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,f,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,f,h){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(h,p){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,p).then(function(g){return f.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),g=f.call(p,o,c);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,nn.getPageSize=function(o,c,f){if(Fr(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,f=h.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+f).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,_=0,w=0;if(m.hasOwnProperty(g))_=m[g][1]/p,w=m[g][0]/p;else try{_=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",w>_&&(b=w,w=_,_=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>w&&(b=w,w=_,_=b)}return{width:w,height:_,unit:c,k:p,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(bS):null;var f=new a(c);return c.worker?f:f.from(o).doCallback()}})(nn.API),nn.API.addJS=function(n){return j8=n,this.internal.events.subscribe("postPutResources",function(){s_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+j8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s_!==void 0&&z8!==void 0&&this.internal.out("/Names <</JavaScript "+s_+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var p=t.internal.newObject();h.push(p);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(nn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var c,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,_={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=m,e.indexOf(p.charCodeAt(w+1))!==-1){g=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),_={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:g,numcomponents:p.charCodeAt(w+9)};break}m=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(nn.API),nn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=J$(n,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,f=s.palette,h=s.depth;i=f&&c===1?(function(X){for(var O=X.width,ee=X.height,B=X.data,G=X.palette,Q=X.depth,ce=!1,_e=[],K=[],le=void 0,Se=!1,ve=0,Pe=0;Pe<G.length;Pe++){var ie=W6(G[Pe],4),I=ie[0],j=ie[1],U=ie[2],Y=ie[3];_e.push(I,j,U),Y!=null&&(Y===0?(ve++,K.length<1&&K.push(Pe)):Y<255&&(Se=!0))}if(Se||ve>1){ce=!0,K=void 0;var ae=O*ee;le=new Uint8Array(ae);for(var ye=new DataView(B.buffer),me=0;me<ae;me++){var fe=wS(ye,me,Q),Te=W6(G[fe],4)[3];le[me]=Te}}else ve===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:B,alphaBytes:le,needSMask:ce,palette:_e,mask:K}})(s):c===2||c===4?(function(X){for(var O=X.data,ee=X.width,B=X.height,G=X.channels,Q=X.depth,ce=G===2?"DeviceGray":"DeviceRGB",_e=G-1,K=ee*B,le=_e,Se=K*le,ve=1*K,Pe=Math.ceil(Se*Q/8),ie=Math.ceil(ve*Q/8),I=new Uint8Array(Pe),j=new Uint8Array(ie),U=new DataView(O.buffer),Y=new DataView(I.buffer),ae=new DataView(j.buffer),ye=!1,me=0;me<K;me++){for(var fe=me*G,Te=0;Te<le;Te++)J8(Y,wS(U,fe+Te,Q),me*le+Te,Q);var Oe=wS(U,fe+le,Q);Oe<(1<<Q)-1&&(ye=!0),J8(ae,Oe,1*me,Q)}return{colorSpace:ce,colorsPerPixel:_e,sMaskBitsPerComponent:ye?Q:void 0,colorBytes:I,alphaBytes:j,needSMask:ye}})(s):(function(X){var O=X.data,ee=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(B){for(var G=B.length,Q=new Uint8Array(2*G),ce=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),_e=0;_e<G;_e++)ce.setUint16(2*_e,B[_e],!1);return Q})(O):O,needSMask:!1}})(s);var p,g,m,b=i,_=b.colorSpace,w=b.colorsPerPixel,T=b.sMaskBitsPerComponent,L=b.colorBytes,R=b.alphaBytes,F=b.needSMask,z=b.palette,q=b.mask,P=null;return r!==nn.API.image_compression.NONE&&typeof wT=="function"?(P=(function(X){var O;switch(X){case nn.API.image_compression.FAST:O=11;break;case nn.API.image_compression.MEDIUM:O=13;break;case nn.API.image_compression.SLOW:O=14;break;default:O=12}return O})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(P," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(a),n=W8(L,Math.ceil(a*w*h/8),w,h,r),F&&(m=W8(R,Math.ceil(a*T/8),1,T,r))):(p=void 0,g=void 0,n=L,F&&(m=R)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:n,index:e,filter:p,decodeParameters:g,transparency:q,palette:z,sMask:m,predictor:P,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:T,colorSpace:_}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new xK(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:o},h=new AS(100).encode(f,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A})(nn.API),Dc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Dc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$r.log("bit decode error:"+t)}},Dc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Dc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,f=this.palette[o];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Dc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Dc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=f}this.pos+=n}},Dc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,f=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=n}},Dc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Dc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Dc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Dc(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new AS(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(nn.API),Q8.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new Q8(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new AS(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(nn.API),nn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],g=r[f+2],m=r[f+3];s[o++]=h,s[o++]=p,s[o++]=g,a[c++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},nn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_g=nn.API,a_=_g.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,g=0,m=n.length,b=0,_=o[0]||c,w=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=p&&Fr(f[r])==="object"&&!isNaN(parseInt(f[r][b],10))?f[r][b]/h:0,w.push((o[r]||_)/c+g)),b=r;return w},G8=_g.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return _g.processArabic&&(n=_g.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:a_.apply(this,arguments).reduce(function(s,a){return s+a},0)},q8=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},V8=function(n,e,t){t||(t={});var r,i,s,a,o,c,f,h=[],p=[h],g=t.textIndent||0,m=0,b=0,_=n.split(" "),w=a_.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var T=Array(c).join(" "),L=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?L=L.concat(F.map(function(z,q){return(q&&z.length?`
`:"")+z})):L.push(F[0])}),_=L,c=G8.apply(this,[T,t])}for(s=0,a=_.length;s<a;s++){var R=0;if(r=_[s],c&&r[0]==`
`&&(r=r.substr(1),R=1),g+m+(b=(i=a_.apply(this,[r,t])).reduce(function(F,z){return F+z},0))>e||R){if(b>e){for(o=q8.apply(this,[r,i,e-(g+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(F,z){return F+z},0)}else h=[r];p.push(h),g=b+c,m=w}else h.push(r),g+=m+b,m=w}return f=c?function(F,z){return(z?T:"")+F.join(" ")}:function(F){return F.join(" ")},p.map(f)},_g.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,c,f=[];for(o=0,c=r.length;o<c;o++)f=f.concat(V8.apply(this,[r[o],a,s]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=n.__fontmetrics__.compress=function(g){var m,b,_,w,T=["{"];for(var L in g){if(m=g[L],isNaN(parseInt(L,10))?b="'"+L+"'":(L=parseInt(L,10),b=(b=a(L).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(_=a(m).slice(3),w="-"):(_=a(m).slice(2),w=""),_=w+_.slice(0,-1)+i[_.slice(-1)];else{if(Fr(m)!=="object")throw new Error("Don't know what to do with value type "+Fr(m)+".");_=o(m)}T.push(b+_)}return T.push("}"),T.join("")},c=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,_,w,T={},L=1,R=T,F=[],z="",q="",P=g.length-1,X=1;X<P;X+=1)(w=g[X])=="'"?m?(_=m.join(""),m=void 0):m=[]:m?m.push(w):w=="{"?(F.push([R,_]),R={},_=void 0):w=="}"?((b=F.pop())[0][b[1]]=R,_=void 0,R=b[0]):w=="-"?L=-1:_===void 0?r.hasOwnProperty(w)?(z+=r[w],_=parseInt(z,16)*L,L=1,z=""):z+=w:r.hasOwnProperty(w)?(q+=r[w],R[_]=parseInt(q,16)*L,L=1,_=void 0,q=""):q+=w;return T},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var m=g.font,b=p.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var _=h.Unicode[m.postScriptName];_&&(m.metadata.Unicode.encoding=_,m.encoding=_.codePages[0])}])})(nn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Z_(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(nn),nn.API.addSvgAsImage=function(n,e,t,r,i,s,a,o){if(isNaN(e)||isNaN(t))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Sn.canvg?Promise.resolve(Sn.canvg):nS(()=>import("./index.es-CRIz5-fk.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,a,o)})},nn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},nn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],f=0,h=0,p=0;function g(b,_){var w,T=!1;for(w=0;w<b.length;w+=1)b[w]===_&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Fr(n)==="object"){for(i in n)if(s=n[i],g(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&g(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,_=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?_.push("/"+b+" /"+t[b].value):_.push("/"+b+" "+t[b].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(nn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},r=function(s){var a,o,c,f,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(s).sort(function(m,b){return m-b})).length;p<g;p++)a=o[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var _=f();h({data:m,addLength1:!0,objectId:_}),c("endobj");var w=f();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var T=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fg(o.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var L=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fg(o.fontName)),c("/FontDescriptor "+T+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+Fg(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+L+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var b=f();h({data:g,addLength1:!0,objectId:b}),c("endobj");var _=f();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var w=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Fg(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var T=0;T<o.metadata.hmtx.widths.length;T++)o.metadata.hmtx.widths[T]=parseInt(o.metadata.hmtx.widths[T]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Fg(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,f=s.y,h=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,b=p.fonts,_=m,w="",T=0,L="",R=b[_].encoding;if(b[_].encoding!=="Identity-H")return{text:o,x:c,y:f,options:h,mutex:p};for(L=o,_=m,Array.isArray(o)&&(L=o[0]),T=0;T<L.length;T+=1)b[_].metadata.hasOwnProperty("cmap")&&(a=b[_].metadata.cmap.unicode.codeMap[L[T].charCodeAt(0)]),a||L[T].charCodeAt(0)<256&&b[_].metadata.hasOwnProperty("Unicode")?w+=L[T]:w+="";var F="";return parseInt(_.slice(1))<14||R==="WinAnsiEncoding"?F=g(w,_).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(F=t(w,b[_])),p.isHex=!0,{text:F,x:c,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?o.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):o.push(i(Object.assign({},c,{text:a[f]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(nn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(nn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,c,f,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,R=0;this.__bidiEngine__={};var F=function(B){var G=B.charCodeAt(),Q=G>>8,ce=_[Q];return ce!==void 0?p[256*ce+(255&G)]:Q===252||Q===253?"AL":T.test(Q)?"L":Q===8?"R":"N"},z=function(B){for(var G,Q=0;Q<B.length;Q++){if((G=F(B.charAt(Q)))==="L")return!1;if(G==="R")return!0}return!1},q=function(B,G,Q,ce){var _e,K,le,Se,ve=G[ce];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ve="AN");break;case"AL":L=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":ce<1||ce+1>=G.length||(_e=Q[ce-1])!=="EN"&&_e!=="AN"||(K=G[ce+1])!=="EN"&&K!=="AN"?ve="N":L&&(K="AN"),ve=K===_e?K:"N";break;case"ES":ve=(_e=ce>0?Q[ce-1]:"B")==="EN"&&ce+1<G.length&&G[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&Q[ce-1]==="EN"){ve="EN";break}if(L){ve="N";break}for(le=ce+1,Se=G.length;le<Se&&G[le]==="ET";)le++;ve=le<Se&&G[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Se=G.length,le=ce+1;le<Se&&G[le]==="NSM";)le++;if(le<Se){var Pe=B[ce],ie=Pe>=1425&&Pe<=2303||Pe===64286;if(_e=G[le],ie&&(_e==="R"||_e==="AL")){ve="R";break}}}ve=ce<1||(_e=G[ce-1])==="B"?"N":Q[ce-1];break;case"B":L=!1,i=!0,ve=R;break;case"S":s=!0,ve="N"}return ve},P=function(B,G,Q){var ce=B.split("");return Q&&X(ce,Q,{hiLevel:R}),ce.reverse(),G&&G.reverse(),ce.join("")},X=function(B,G,Q){var ce,_e,K,le,Se,ve=-1,Pe=B.length,ie=0,I=[],j=R?m:g,U=[];for(L=!1,i=!1,s=!1,_e=0;_e<Pe;_e++)U[_e]=F(B[_e]);for(K=0;K<Pe;K++){if(Se=ie,I[K]=q(B,U,I,K),ce=240&(ie=j[Se][b[I[K]]]),ie&=15,G[K]=le=j[ie][5],ce>0)if(ce===16){for(_e=ve;_e<K;_e++)G[_e]=1;ve=-1}else ve=-1;if(j[ie][6])ve===-1&&(ve=K);else if(ve>-1){for(_e=ve;_e<K;_e++)G[_e]=le;ve=-1}U[K]==="B"&&(G[K]=0),Q.hiLevel|=le}s&&(function(Y,ae,ye){for(var me=0;me<ye;me++)if(Y[me]==="S"){ae[me]=R;for(var fe=me-1;fe>=0&&Y[fe]==="WS";fe--)ae[fe]=R}})(U,G,Pe)},O=function(B,G,Q,ce,_e){if(!(_e.hiLevel<B)){if(B===1&&R===1&&!i)return G.reverse(),void(Q&&Q.reverse());for(var K,le,Se,ve,Pe=G.length,ie=0;ie<Pe;){if(ce[ie]>=B){for(Se=ie+1;Se<Pe&&ce[Se]>=B;)Se++;for(ve=ie,le=Se-1;ve<le;ve++,le--)K=G[ve],G[ve]=G[le],G[le]=K,Q&&(K=Q[ve],Q[ve]=Q[le],Q[le]=K);ie=Se}ie++}}},ee=function(B,G,Q){var ce=B.split(""),_e={hiLevel:R};return Q||(Q=[]),X(ce,Q,_e),(function(K,le,Se){if(Se.hiLevel!==0&&h)for(var ve,Pe=0;Pe<K.length;Pe++)le[Pe]===1&&(ve=w.indexOf(K[Pe]))>=0&&(K[Pe]=w[ve+1])})(ce,Q,_e),O(2,ce,G,Q,_e),O(1,ce,G,Q,_e),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(B,G,Q){if((function(_e,K){if(K)for(var le=0;le<_e.length;le++)K[le]=le;o===void 0&&(o=z(_e)),f===void 0&&(f=z(_e))})(B,G),a||!c||f)if(a&&c&&o^f)R=o?1:0,B=P(B,G,Q);else if(!a&&c&&f)R=o?1:0,B=ee(B,G,Q),B=P(B,G);else if(!a||o||c||f){if(a&&!c&&o^f)B=P(B,G),o?(R=0,B=ee(B,G,Q)):(R=1,B=ee(B,G,Q),B=P(B,G));else if(a&&o&&!c&&f)R=1,B=ee(B,G,Q),B=P(B,G);else if(!a&&!c&&o^f){var ce=h;o?(R=1,B=ee(B,G,Q),R=0,h=!1,B=ee(B,G,Q),h=ce):(R=0,B=ee(B,G,Q),B=P(B,G),R=1,h=!1,B=ee(B,G,Q),h=ce,B=P(B,G))}}else R=0,B=ee(B,G,Q);else R=o?1:0,B=ee(B,G,Q);return B},this.__bidiEngine__.setOptions=function(B){B&&(a=B.isInputVisual,c=B.isOutputVisual,o=B.isInputRtl,f=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(nn),nn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new t0(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new MK(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new yK(this.contents),this.head=new _K(this),this.name=new TK(this),this.cmap=new JF(this),this.toUnicode={},this.hhea=new wK(this),this.maxp=new CK(this),this.hmtx=new kK(this),this.post=new SK(this),this.os2=new AK(this),this.loca=new IK(this),this.glyf=new NK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,f;for(f=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var uu,t0=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),yK=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,c,f,h,p,g,m,b,_;for(_ in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),a=Math.floor(p/c),h=16*m-p,(i=new t0).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*m,f=i.pos+s,o=null,b=[],t)for(g=t[_],i.writeString(_),i.writeInt(n(g)),i.writeInt(f),i.writeInt(g.length),b=b.concat(g),_==="head"&&(o=f),f+=g.length;f%4;)b.push(0),f++;return i.write(b),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=ZF.call(t);t.length%4;)t.push(0);for(s=new t0(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),bK={}.hasOwnProperty,lf=function(n,e){for(var t in e)bK.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};uu=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var _K=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new t0).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),eR=(function(){function n(e,t){var r,i,s,a,o,c,f,h,p,g,m,b,_,w,T,L,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),e.pos+=2,_=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),f=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),h=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var F,z;for(z=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)z.push(e.readUInt16());return z})(),c=T=0,R=s.length;T<R;c=++T)for(w=s[c],r=L=b=_[c];b<=w?L<=w:L>=w;r=b<=w?++L:--L)h[c]===0?a=r+f[c]:(a=o[h[c]/2+(r-b)-(g-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}e.pos=p}return n.encode=function(e,t){var r,i,s,a,o,c,f,h,p,g,m,b,_,w,T,L,R,F,z,q,P,X,O,ee,B,G,Q,ce,_e,K,le,Se,ve,Pe,ie,I,j,U,Y,ae,ye,me,fe,Te,Oe,ue;switch(ce=new t0,a=Object.keys(e).sort(function(nt,it){return nt-it}),t){case"macroman":for(_=0,w=(function(){var nt=[];for(b=0;b<256;++b)nt.push(0);return nt})(),L={0:0},s={},_e=0,ve=a.length;_e<ve;_e++)L[fe=e[i=a[_e]]]==null&&(L[fe]=++_),s[i]={old:e[i],new:L[e[i]]},w[i]=L[e[i]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(w),{charMap:s,subtable:ce.data,maxGlyphID:_+1};case"unicode":for(G=[],p=[],R=0,L={},r={},T=f=null,K=0,Pe=a.length;K<Pe;K++)L[z=e[i=a[K]]]==null&&(L[z]=++R),r[i]={old:z,new:L[z]},o=L[z]-i,T!=null&&o===f||(T&&p.push(T),G.push(i),f=o),T=i;for(T&&p.push(T),p.push(65535),G.push(65535),ee=2*(O=G.length),X=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(X/2)/Math.LN2,P=2*O-X,c=[],q=[],m=[],b=le=0,ie=G.length;le<ie;b=++le){if(B=G[b],h=p[b],B===65535){c.push(0),q.push(0);break}if(B-(Q=r[B].new)>=32768)for(c.push(0),q.push(2*(m.length+O-b)),i=Se=B;B<=h?Se<=h:Se>=h;i=B<=h?++Se:--Se)m.push(r[i].new);else c.push(Q-B),q.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*O+2*m.length),ce.writeUInt16(0),ce.writeUInt16(ee),ce.writeUInt16(X),ce.writeUInt16(g),ce.writeUInt16(P),ye=0,I=p.length;ye<I;ye++)i=p[ye],ce.writeUInt16(i);for(ce.writeUInt16(0),me=0,j=G.length;me<j;me++)i=G[me],ce.writeUInt16(i);for(Te=0,U=c.length;Te<U;Te++)o=c[Te],ce.writeUInt16(o);for(Oe=0,Y=q.length;Oe<Y;Oe++)F=q[Oe],ce.writeUInt16(F);for(ue=0,ae=m.length;ue<ae;ue++)_=m[ue],ce.writeUInt16(_);return{charMap:r,subtable:ce.data,maxGlyphID:R+1}}},n})(),JF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new eR(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=eR.encode(e,t),(i=new t0).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),wK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),AK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),SK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},n})(),EK=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,a,o,c,f,h,p,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=h=0,p=r.length;h<p;s=++h)i=r[s],e.pos=i.offset,f=e.readString(i.length),a=new EK(f,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),CK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),kK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)h.push(e.readInt16());return h})(),this.widths=(function(){var f,h,p,g;for(g=[],f=0,h=(p=this.metrics).length;f<h;f++)s=p[f],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),ZF=[].slice,NK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,a,o,c,f,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new t0(t.read(i))).readShort(),f=o.readShort(),p=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new LK(o,f,p,c,h):new RK(o,a,f,p,c,h),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,a,o,c;for(a=[],s=[],o=0,c=t.length;o<c;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},n})(),RK=(function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),LK=(function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new t0(ZF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),IK=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return lf(n,uu),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<t.length&&t[s]==a){++s,r[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var f=new Array(4*r.length),h=0;h<r.length;++h)f[4*h+3]=255&r[h],f[4*h+2]=(65280&r[h])>>8,f[4*h+1]=(16711680&r[h])>>16,f[4*h]=(4278190080&r[h])>>24;return f},n})(),MK=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,c,f,h,p,g,m,b,_,w,T;for(i in r=JF.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},T=r.charMap)m[(c=T[i]).old]=c.new;for(b in g=r.maxGlyphID,a)b in m||(m[b]=g++);return h=(function(L){var R,F;for(R in F={},L)F[L[R]]=R;return F})(m),p=Object.keys(h).sort(function(L,R){return L-R}),_=(function(){var L,R,F;for(F=[],L=0,R=p.length;L<R;L++)o=p[L],F.push(h[o]);return F})(),s=this.font.glyf.encode(a,_,m),f=this.font.loca.encode(s.offsets,_),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},n})();nn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+(function(){var o,c,f;for(f=[],o=0,c=t.length;o<c;o++)r=t[o],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();const FK={es:{title:"Generar Documento PDF",selectTemplate:"Seleccionar Plantilla Base",customText:"Texto Personalizado para el PDF",textPos:"Posicin del Texto",fileName:"Nombre del Archivo",generate:"Generar y Adjuntar",posTop:"Superior",posCenter:"Centro",posBottom:"Inferior",noTemplate:"Sin Plantilla (Documento en blanco)",errorSize:"El PDF generado excede el lmite de {limit}MB."},en:{title:"Generate PDF Document",selectTemplate:"Select Base Template",customText:"Custom Text for PDF",textPos:"Text Position",fileName:"File Name",generate:"Generate and Attach",posTop:"Top",posCenter:"Center",posBottom:"Bottom",noTemplate:"No Template (Blank Document)",errorSize:"The generated PDF exceeds the limit of {limit}MB."}},DK=({templates:n,lang:e,onClose:t,onAttach:r,sizeLimitMb:i,settings:s})=>{const a=Qe.useMemo(()=>FK[e],[e]),[o,c]=Qe.useState(""),[f,h]=Qe.useState(""),[p,g]=Qe.useState("top"),[m,b]=Qe.useState("Documento_"+new Date().getTime()),_=()=>{let w=s.pageFormat;w==="custom"&&s.customDimensions&&(w=[s.customDimensions.width,s.customDimensions.height]);const T=new nn({orientation:"portrait",unit:"mm",format:w}),L=T.internal.pageSize.getWidth(),R=T.internal.pageSize.getHeight(),F=()=>{if(s.pdfLogo){let G=10,Q=10;s.logoPosition==="top-right"?G=L-25-10:s.logoPosition==="bottom-left"?Q=R-25-10:s.logoPosition==="bottom-right"&&(G=L-25-10,Q=R-25-10);try{T.addImage(s.pdfLogo,"PNG",G,Q,25,25)}catch(ce){console.error("Logo generation failed:",ce)}}},z=n.find(ee=>ee.id===o);F(),T.setFontSize(22),T.text(z?z.name:"Documento Generado",20,20),T.setFontSize(12);let q=40;if(z){const ee=z.body.replace(/<[^>]*>?/gm," "),B=T.splitTextToSize(ee,L-40);T.text(B,20,q),q+=B.length*7+20}T.setFontSize(14),T.setTextColor(79,70,229);const P=T.splitTextToSize(f,L-40);let X=q;p==="top"?X=z?q:40:p==="center"?X=R/2:p==="bottom"&&(X=R-40),T.text(P,20,X);const O=T.output("blob");if(O.size>i*1024*1024){alert(a.errorSize.replace("{limit}",i.toString()));return}r({id:Date.now().toString(),name:m.endsWith(".pdf")?m:m+".pdf",size:O.size,type:"application/pdf",label:"PDF GENERADO",previewUrl:void 0}),t()};return E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg",children:E.jsx(VT,{size:20})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:a.title})]}),E.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full",children:E.jsx(Oo,{size:24})})]}),E.jsxs("div",{className:"p-8 space-y-6 text-left",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(t5,{size:14})," ",a.selectTemplate]}),E.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200",children:[E.jsx("option",{value:"",children:a.noTemplate}),n.map(w=>E.jsx("option",{value:w.id,children:w.name},w.id))]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(YT,{size:14})," ",a.customText]}),E.jsx("textarea",{rows:3,value:f,onChange:w=>h(w.target.value),className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm",placeholder:"..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(U9,{size:14})," ",a.textPos]}),E.jsx("div",{className:"flex bg-slate-50 dark:bg-slate-800 p-1 rounded-xl border border-slate-100 dark:border-slate-700",children:["top","center","bottom"].map(w=>E.jsx("button",{onClick:()=>g(w),className:`flex-1 py-1.5 text-[10px] font-bold rounded-lg transition-all ${p===w?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500"}`,children:w==="top"?a.posTop:w==="center"?a.posCenter:a.posBottom},w))})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(sf,{size:14})," ",a.fileName]}),E.jsx("input",{type:"text",value:m,onChange:w=>b(w.target.value),className:"w-full p-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-700 dark:text-slate-200 text-sm"})]})]})]}),E.jsx("footer",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:E.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 transition-all active:scale-95",children:[E.jsx(om,{size:18})," ",a.generate]})})]})})},PK={es:{title:"Redactar Nuevo Correo",subtitle:"Crea tu mensaje y envalo a travs de tus perfiles SMTP.",templates:"Plantillas",profiles:"Perfiles SMTP",selectProfile:"Seleccionar Perfil",noSmtp:"No hay perfil SMTP seleccionado",noSmtpDesc:"Por favor, aade o selecciona una configuracin SMTP en los ajustes para habilitar el envo.",recipient:"Direccin de correo del destinatario (separa con comas)",ccLabel:"Con copia a:",subject:"Asunto",aiAssistant:"Asistente IA:",refining:"Refinando...",placeholder:"Comienza a escribir tu mensaje aqu...",discard:"Descartar borrador",saveTemplate:"Guardar como Plantilla",saved:"Guardado!",send:"Enviar Mensaje",sending:"Enviando...",confirmTitle:"Confirmar Envo",confirmDesc:"Ests seguro de que quieres enviar este correo?",cancel:"Cancelar",confirm:"Confirmar",noTemplates:"No se encontraron plantillas.",attachments:"Adjuntos",previewNotAvailable:"Previsualizacin no disponible para este tipo de archivo",rename:"Renombrar",remove:"Eliminar",noContacts:"No hay contactos guardados.",contactsTitle:"Contactos y Grupos",groupLabel:"GRUPO",labelOrden:"ORDEN MEDICA",labelResumen:"RESUMEN MEDICO",labelOtro:"OTRO",labelPdf:"GENERAR PDF",sizeErrorTitle:"Archivo demasiado grande",sizeErrorDesc:'El archivo "{name}" excede el lmite permitido de {limit}MB.'},en:{title:"Compose New Email",subtitle:"Craft your message and send it through your SMTP profiles.",templates:"Templates",profiles:"SMTP Profiles",selectProfile:"Select Profile",noSmtp:"No SMTP profile selected",noSmtpDesc:"Please add or select an SMTP configuration in the settings to enable sending.",recipient:"Recipient email address (separate with commas)",ccLabel:"Copy to:",subject:"Subject line",aiAssistant:"AI Assistant:",refining:"Refining...",placeholder:"Start writing your message here...",discard:"Discard draft",saveTemplate:"Save as Template",saved:"Saved!",send:"Send Message",sending:"Sending...",confirmTitle:"Confirm Send",confirmDesc:"Are you sure you want to send this email?",cancel:"Cancel",confirm:"Confirm",noTemplates:"No templates found.",attachments:"Attachments",previewNotAvailable:"Preview not available for this file type",rename:"Rename",remove:"Remove",noContacts:"No contacts saved yet.",contactsTitle:"Contacts & Groups",groupLabel:"GROUP",labelOrden:"MEDICAL ORDER",labelResumen:"MEDICAL SUMMARY",labelOtro:"OTHER",labelPdf:"GENERATE PDF",sizeErrorTitle:"File too large",sizeErrorDesc:'The file "{name}" exceeds the allowed limit of {limit}MB.'}},OK=({onSend:n,isSending:e,smtpReady:t,smtpProfiles:r,activeProfileId:i,onSelectProfile:s,contacts:a,contactGroups:o,templates:c,pdfTemplates:f,groupEmails:h,onSaveTemplate:p,lang:g,attachmentSizeLimit:m,pdfSettings:b,notify:_})=>{const w=Qe.useMemo(()=>PK[g],[g]),[T,L]=Qe.useState(""),[R,F]=Qe.useState(""),[z,q]=Qe.useState(""),[P,X]=Qe.useState(!1),[O,ee]=Qe.useState(!1),[B,G]=Qe.useState(!1),[Q,ce]=Qe.useState(!1),[_e,K]=Qe.useState(!1),[le,Se]=Qe.useState([]),[ve,Pe]=Qe.useState(null),[ie,I]=Qe.useState(!1),[j,U]=Qe.useState(!1),[Y,ae]=Qe.useState(null),[ye,me]=Qe.useState(""),[fe,Te]=Qe.useState(new Set),[Oe,ue]=Qe.useState(void 0),nt=Qe.useRef(null),it=Qe.useRef(null),de=r.find(je=>je.id===i),Fe=Qe.useMemo(()=>((b==null?void 0:b.ccConfigs)||[]).filter(je=>je==null?void 0:je.isVisible),[b==null?void 0:b.ccConfigs]);Qe.useEffect(()=>{it.current&&it.current.innerHTML!==z&&(it.current.innerHTML=z)},[z]);const He=async je=>{if(!z)return;X(!0);const ot=await GX(R,z,{tone:je},g);F(ot.subject),q(ot.body),X(!1)},ht=()=>{if(console.log(" Intentando enviar...",{to:T,subject:R,body:z,smtpReady:t,activeProfileId:i}),!T||!R||!z){_(g==="es"?"Faltan campos: Destinatario, Asunto o Cuerpo":"Missing fields","error");return}if(!i){_(g==="es"?"Selecciona un perfil SMTP":"Select an SMTP profile","error");return}U(!0)},et=async()=>{U(!1);const je=[];Fe.forEach(fn=>{fe.has(fn.id)&&je.push(fn.email)}),await n(T,R,z,le,je,i||void 0,"general")&&(L(""),F(""),q(""),Se([]),Te(new Set),it.current&&(it.current.innerHTML=""))},kt=je=>{const ot=new Set(fe);ot.has(je)?ot.delete(je):ot.add(je),Te(ot)},_t=je=>{const ot=a.filter(Lt=>Lt.group===je.id),fn=[];if(ot.forEach(Lt=>{Lt.emails&&Lt.emails.length>0&&fn.push(...Lt.emails)}),fn.length>0){const Lt=T.split(",").map(sn=>sn.trim()).filter(sn=>!!sn),Pt=Array.from(new Set([...Lt,...fn])).join(", ");L(Pt),_(g==="es"?`Agregados ${fn.length} correos.`:`Added ${fn.length} emails.`,"success")}else _(g==="es"?"El grupo no tiene contactos con email.":"Group has no contacts with email.","error");G(!1)},jt=()=>{if(!R||!z)return;const je=prompt(g==="es"?"Nombre de la plantilla:":"Template name:",R)||`Template ${new Date().toLocaleDateString()}`;p({id:Date.now().toString(),name:je,subject:R,body:z}),I(!0),setTimeout(()=>I(!1),2e3)},Mt=je=>{var ot;ue(je),(ot=nt.current)==null||ot.click()},Yt=je=>{var fn;const ot=(fn=je.target.files)==null?void 0:fn[0];if(ot){const Lt=m*1024*1024;if(ot.size>Lt){_(w.sizeErrorDesc.replace("{name}",ot.name).replace("{limit}",m.toString()),"error"),nt.current&&(nt.current.value="");return}const Pt=ot.type.startsWith("image/")?URL.createObjectURL(ot):void 0;Se(sn=>[...sn,{id:Date.now().toString(),name:ot.name,size:ot.size,type:ot.type,label:Oe,previewUrl:Pt}]),_(g==="es"?`Archivo "${ot.name}" adjuntado.`:`File "${ot.name}" attached.`,"info")}nt.current&&(nt.current.value="")},dn=je=>{ae(je.id),me(je.name)},Kt=()=>{Y&&(Se(je=>je.map(ot=>ot.id===Y?{...ot,name:ye||ot.name}:ot)),ae(null))},En=je=>{if(je===0)return"0 Bytes";const ot=1024,fn=["Bytes","KB","MB","GB"],Lt=Math.floor(Math.log(je)/Math.log(ot));return parseFloat((je/Math.pow(ot,Lt)).toFixed(2))+" "+fn[Lt]},Qt=je=>{Se(ot=>ot.filter(fn=>fn.id!==je))},Rt=je=>{document.execCommand(je,!1),it.current&&q(it.current.innerHTML)};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left relative",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:w.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:w.subtitle})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>ce(!Q),className:"flex items-center gap-2 px-4 py-2 border text-sm font-medium rounded-xl transition-all shadow-sm bg-indigo-50 dark:bg-indigo-900/30 border-indigo-100 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 hover:bg-indigo-100",children:[E.jsx(t5,{size:14})," ",w.templates," ",c.length>0&&`(${c.length})`,E.jsx(HO,{size:14,className:`transition-transform ${Q?"rotate-180":""}`})]}),Q&&E.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-40 py-2",children:c.length>0?c.map(je=>E.jsxs("button",{onClick:()=>{F(je.subject),q(je.body),ce(!1),_(g==="es"?"Plantilla aplicada.":"Template applied.","info")},className:"w-full px-4 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[E.jsx("span",{className:"text-sm font-semibold block text-slate-700 dark:text-slate-200",children:je.name}),E.jsx("span",{className:"text-xs text-slate-400 truncate block",children:je.subject})]},je.id)):E.jsx("div",{className:"px-4 py-4 text-xs text-slate-400 italic text-center",children:w.noTemplates})})]}),r.length>0&&E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>ee(!O),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium shadow-sm text-slate-700 dark:text-slate-200",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),de?de.name:w.selectProfile]}),O&&E.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl z-40 py-2",children:r.map(je=>E.jsxs("button",{onClick:()=>{s(je.id),ee(!1)},className:"w-full px-4 py-2 text-sm text-left hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300",children:[je.name," ",i===je.id&&""]},je.id))})]})]})]}),!t&&E.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl text-amber-800 dark:text-amber-400 flex items-start gap-3",children:[E.jsx(BS,{size:18,className:"shrink-0 mt-0.5"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold",children:w.noSmtp}),E.jsx("p",{className:"text-sm opacity-90",children:w.noSmtpDesc})]})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4 relative",children:[E.jsx(Wx,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsx("input",{type:"text",placeholder:w.recipient,className:"flex-1 bg-transparent outline-none text-slate-700 dark:text-slate-200",value:T,onChange:je=>L(je.target.value)}),E.jsxs("div",{className:"relative shrink-0 ml-2",children:[E.jsx("button",{onClick:()=>G(!B),className:"p-2 text-slate-400 hover:text-indigo-500 transition-colors",children:E.jsx(tm,{size:18})}),B&&E.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-50 max-h-80 overflow-y-auto py-2 animate-in zoom-in-95 duration-150",children:[E.jsx("div",{className:"px-4 py-2 border-b border-slate-50 dark:border-slate-700/50 mb-1",children:E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:w.contactsTitle})}),o&&o.length>0&&E.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700/50 pb-2",children:o.map(je=>E.jsxs("button",{onClick:()=>_t(je),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors border-b border-slate-50 dark:border-slate-800 last:border-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Rx,{size:14,className:"text-indigo-500"}),E.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:je.name}),E.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-md font-bold",children:w.groupLabel})]}),E.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 ml-6",children:[je.contactIds.length," contactos"]})]},je.id))}),a.length>0?a.map(je=>E.jsxs("div",{className:"border-b last:border-0 border-slate-50 dark:border-slate-700/50",children:[E.jsx("div",{className:"px-4 py-1 text-[10px] font-bold text-indigo-500 uppercase bg-slate-50/50 dark:bg-slate-800/50",children:je.name}),je.emails.map(ot=>E.jsx("button",{onClick:()=>{const fn=T.split(",").map(Pt=>Pt.trim()).filter(Pt=>!!Pt),Lt=Array.from(new Set([...fn,ot])).join(", ");L(Lt),G(!1)},className:"w-full px-6 py-2 text-left text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-slate-600 dark:text-slate-300 transition-colors",children:ot},ot))]},je.id)):o.length===0&&E.jsx("div",{className:"px-4 py-6 text-center",children:E.jsx("p",{className:"text-xs text-slate-400 italic",children:w.noContacts})})]})]})]}),E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[E.jsx(qT,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:w.ccLabel}),Fe.length>0?Fe.map(je=>E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group/cc",children:[E.jsx("div",{className:"relative flex items-center",children:E.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 transition-all cursor-pointer",checked:fe.has(je.id),onChange:()=>kt(je.id)})}),E.jsx("span",{className:`text-sm font-medium transition-colors ${fe.has(je.id)?"text-indigo-600 dark:text-indigo-400 font-bold":"text-slate-600 dark:text-slate-400"}`,children:je.label})]},je.id)):E.jsx("span",{className:"text-xs text-slate-400 italic opacity-50",children:"Configure correos CC en Opciones"})]})]}),E.jsxs("div",{className:"flex items-center border-b border-slate-100 dark:border-slate-800 p-4",children:[E.jsx(YT,{className:"text-slate-400 mr-4 shrink-0",size:20}),E.jsx("input",{type:"text",placeholder:w.subject,className:"flex-1 bg-transparent outline-none font-medium text-slate-700 dark:text-slate-200",value:R,onChange:je=>F(je.target.value)})]}),E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 px-4 py-2 flex flex-wrap items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-1 pr-4 border-r border-slate-200 dark:border-slate-800",children:[E.jsx("button",{onClick:()=>Rt("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(jT,{size:16})}),E.jsx("button",{onClick:()=>Rt("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(WT,{size:16})}),E.jsx("button",{onClick:()=>Rt("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(XT,{size:16})})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:w.aiAssistant}),["Professional","Friendly","Concise","Urgent"].map(je=>E.jsx("button",{onClick:()=>He(je.toLowerCase()),disabled:P||!z,className:"px-2 py-1 text-[10px] bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 rounded hover:border-indigo-500 disabled:opacity-50 transition-all",children:je},je)),P&&E.jsx("span",{className:"text-[10px] text-indigo-500 animate-pulse",children:w.refining})]})]}),E.jsx("div",{ref:it,contentEditable:!0,onInput:je=>q(je.currentTarget.innerHTML),className:"w-full min-h-[18rem] p-6 outline-none text-slate-600 dark:text-slate-300 leading-relaxed text-left","data-placeholder":w.placeholder}),le.length>0&&E.jsx("div",{className:"mx-6 mb-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:le.map(je=>E.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center justify-between group/att hover:border-indigo-300 dark:hover:border-indigo-500 transition-all",children:[E.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[je.previewUrl?E.jsx("img",{src:je.previewUrl,className:"w-10 h-10 rounded object-cover cursor-pointer",onClick:()=>Pe(je)}):E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-500 rounded",children:E.jsx(sf,{size:20})}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[Y===je.id?E.jsxs("div",{className:"flex gap-1",children:[E.jsx("input",{type:"text",autoFocus:!0,className:"text-sm font-semibold bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded outline-indigo-500 w-full text-slate-700 dark:text-slate-200",value:ye,onChange:ot=>me(ot.target.value),onBlur:Kt,onKeyDown:ot=>ot.key==="Enter"&&Kt()}),E.jsx("button",{onClick:Kt,className:"text-emerald-500",children:E.jsx(GT,{size:14})})]}):E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("p",{className:"text-sm font-semibold truncate text-slate-700 dark:text-slate-200",children:je.name}),E.jsx("button",{onClick:()=>dn(je),className:"opacity-0 group-hover/att:opacity-100 text-slate-400 hover:text-indigo-500 transition-opacity",children:E.jsx(jS,{size:12})})]}),E.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:[je.label||"FILE","  ",En(je.size)]})]})]}),E.jsx("button",{onClick:()=>Qt(je.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:E.jsx(Oo,{size:16})})]},je.id))})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>{L(""),F(""),q(""),Se([]),it.current&&(it.current.innerHTML=""),_(g==="es"?"Borrador descartado.":"Draft discarded.","info")},className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:w.discard,children:E.jsx(rf,{size:20})}),E.jsxs("button",{onClick:jt,disabled:!R||!z,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${ie?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[ie?E.jsx(dL,{size:18}):E.jsx(af,{size:18}),E.jsx("span",{className:"text-xs font-semibold",children:ie?w.saved:w.saveTemplate})]})]}),E.jsx("div",{className:"hidden sm:block w-px h-8 bg-slate-200 dark:bg-slate-800"}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("input",{type:"file",ref:nt,onChange:Yt,className:"hidden"}),E.jsxs("button",{onClick:()=>Mt(w.labelOrden),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Lx,{size:16})," ",w.labelOrden]}),E.jsxs("button",{onClick:()=>Mt(w.labelResumen),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Lx,{size:16})," ",w.labelResumen]}),E.jsxs("button",{onClick:()=>Mt(w.labelOtro),className:"px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-[11px] font-bold rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(Lx,{size:16})," ",w.labelOtro]}),E.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 hidden sm:block"}),E.jsxs("button",{onClick:()=>K(!0),className:"px-4 py-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-400 text-[11px] font-bold rounded-xl shadow-sm hover:bg-indigo-100 dark:hover:bg-indigo-900/50 flex items-center gap-2 transition-colors uppercase tracking-tight",children:[E.jsx(VT,{size:16})," ",w.labelPdf]})]})]}),E.jsx("button",{onClick:ht,disabled:e,className:`
    relative flex items-center gap-3 px-8 py-3 rounded-xl font-bold 
    transition-all duration-300 active:scale-95 shrink-0
    ${e||!t||!T||!R||!z?"bg-slate-200 dark:bg-slate-800 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-indigo-200 dark:hover:shadow-none shadow-lg shadow-indigo-100"}
  `,children:e?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-xs uppercase tracking-widest animate-pulse",children:w.sending}),E.jsx(Sh,{className:"animate-spin",size:18})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-sm",children:w.send}),E.jsx(n5,{size:18,className:`transition-transform duration-300 ${!T||!R||!z?"":"group-hover:translate-x-1 group-hover:-translate-y-1"}`})]})})]}),j&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[110] flex items-center justify-center p-6 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-8 max-w-sm w-full text-center space-y-4 shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto text-indigo-600 dark:text-indigo-400",children:E.jsx(BS,{size:32})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:w.confirmTitle}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:w.confirmDesc}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[E.jsx("button",{onClick:()=>U(!1),className:"px-4 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:w.cancel}),E.jsx("button",{onClick:et,className:"px-4 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-colors",children:w.confirm})]})]})}),_e&&E.jsx(DK,{lang:g,templates:f,onClose:()=>K(!1),onAttach:je=>{Se(ot=>[...ot,je]),_(g==="es"?"PDF generado y adjuntado.":"PDF generated and attached.","success")},sizeLimitMb:m,settings:b}),ve&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/80 z-[120] flex items-center justify-center p-8 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl max-w-4xl w-full max-h-full flex flex-col overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[E.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:ve.name}),E.jsx("button",{onClick:()=>Pe(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(Oo,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:ve.previewUrl?E.jsx("img",{src:ve.previewUrl,className:"max-w-full max-h-full rounded-lg shadow-xl"}):E.jsxs("div",{className:"text-center opacity-50",children:[E.jsx(sf,{size:80,className:"mx-auto mb-4 text-slate-300 dark:text-slate-700"}),w.previewNotAvailable]})})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Aw={};Aw.version="0.18.5";var QF=1252,BK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],b4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_4=function(n){BK.indexOf(n)!=-1&&(QF=b4[0]=n)};function UK(){_4(1252)}var Zc=function(n){_4(n)};function w4(){Zc(1200),UK()}function tR(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function HK(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function eD(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var Cx=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?HK(n.slice(2)):e==254&&t==255?eD(n.slice(2)):e==65279?n.slice(1):n},o_=function(e){return String.fromCharCode(e)},nR=function(e){return String.fromCharCode(e)},Qx,Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function e2(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0,c=0,f=0;f<n.length;)t=n.charCodeAt(f++),s=t>>2,r=n.charCodeAt(f++),a=(t&3)<<4|r>>4,i=n.charCodeAt(f++),o=(r&15)<<2|i>>6,c=i&63,isNaN(r)?o=c=64:isNaN(i)&&(c=64),e+=Kd.charAt(s)+Kd.charAt(a)+Kd.charAt(o)+Kd.charAt(c);return e}function Al(n){var e="",t=0,r=0,i=0,s=0,a=0,o=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<n.length;)s=Kd.indexOf(n.charAt(f++)),a=Kd.indexOf(n.charAt(f++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=Kd.indexOf(n.charAt(f++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=Kd.indexOf(n.charAt(f++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var qn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Lh=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function n0(n){return qn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function rR(n){return qn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var yl=function(e){return qn?Lh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function y5(n){if(typeof ArrayBuffer>"u")return yl(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function c0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function zK(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function A4(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return A4(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var Vs=qn?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Lh(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function jK(n){for(var e=[],t=0,r=n.length+250,i=n0(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=n.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>r&&(e.push(i.slice(0,t)),t=0,i=n0(65535),r=65530)}return e.push(i.slice(0,t)),Vs(e)}var io=/\u0000/g,kx=/[\u0001-\u0006]/g;function Kg(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Qc(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}function S4(n,e){var t=""+n;return t.length>=e?t:Bi(" ",e-t.length)+t}function Sw(n,e){var t=""+n;return t.length>=e?t:t+Bi(" ",e-t.length)}function GK(n,e){var t=""+Math.round(n);return t.length>=e?t:Bi("0",e-t.length)+t}function qK(n,e){var t=""+n;return t.length>=e?t:Bi("0",e-t.length)+t}var iR=Math.pow(2,32);function wg(n,e){if(n>iR||n<-iR)return GK(n,e);var t=Math.round(n);return qK(t,e)}function Ew(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var sR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],SS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function VK(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var bn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},aR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},WK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Tw(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,a=1,o=0,c=1,f=0,h=0,p=Math.floor(i);f<e&&(p=Math.floor(i),o=p*a+s,h=p*f+c,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,c=f,f=h;if(h>e&&(f>e?(h=c,o=s):(h=f,o=a)),!t)return[0,r*o,h];var g=Math.floor(r*o/h);return[g,r*o-g*h,h]}function K0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,a=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),t&&(s=ZK(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var tD=new Date(1899,11,31,0,0,0),XK=tD.getTime(),YK=new Date(1900,2,1,0,0,0);function nD(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=YK&&(t+=1440*60*1e3),(t-(XK+(n.getTimezoneOffset()-tD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function E4(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $K(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function KK(n){var e=n<0?12:11,t=E4(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function JK(n){var e=E4(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function t2(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=KK(n):e===10?t=n.toFixed(10).substr(0,12):t=JK(n),E4($K(t.toUpperCase()))}function dm(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):t2(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return oc(14,nD(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function ZK(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function QK(n,e,t,r){var i="",s=0,a=0,o=t.y,c,f=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,f=e.length;break;case 3:return SS[t.m-1][1];case 5:return SS[t.m-1][0];default:return SS[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,f=e.length;break;case 3:return sR[t.q][0];default:return sR[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Qc(t.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Qc(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=o,f=1;break}var h=f>0?Qc(c,f):"";return h}function Jd(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var rD=/%/g;function eJ(n,e,t){var r=e.replace(rD,""),i=e.length-r.length;return yh(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function tJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return yh(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function iD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+iD(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var sD=/# (\?+)( ?)\/( ?)(\d+)/;function nJ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return t+(s===0?"":""+s)+" "+(a===0?Bi(" ",n[1].length+1+n[4].length):S4(a,n[1].length)+n[2]+"/"+n[3]+Qc(o,n[4].length))}function rJ(n,e,t){return t+(e===0?"":""+e)+Bi(" ",n[1].length+2+n[4].length)}var aD=/^#*0*\.([0#]+)/,oD=/\).*[0#]/,lD=/\(###\) ###\\?-####/;function to(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function oR(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function lR(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function iJ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function sJ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function jl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(oD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?jl("n",r,t):"("+jl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return tJ(n,e,t);if(e.indexOf("%")!==-1)return eJ(n,e,t);if(e.indexOf("E")!==-1)return iD(e,t);if(e.charCodeAt(0)===36)return"$"+jl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+wg(c,e.length);if(e.match(/^[#?]+$/))return i=wg(t,0),i==="0"&&(i=""),i.length>e.length?i:to(e.substr(0,e.length-i.length))+i;if(s=e.match(sD))return nJ(s,c,f);if(e.match(/^#+0+$/))return f+wg(c,e.length-e.indexOf("0"));if(s=e.match(aD))return i=oR(t,s[1].length).replace(/^([^\.]+)$/,"$1."+to(s[1])).replace(/\.$/,"."+to(s[1])).replace(/\.(\d*)$/,function(b,_){return"."+_+Bi("0",to(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+oR(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Jd(wg(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+jl(n,e,-t):Jd(""+(Math.floor(t)+iJ(t,s[1].length)))+"."+Qc(lR(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return jl(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Kg(jl(n,e.replace(/[\\-]/g,""),t)),a=0,Kg(Kg(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<i.length?i.charAt(a++):b==="0"?"0":""}));if(e.match(lD))return i=jl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Tw(c,Math.pow(10,a)-1,!1),i=""+f,h=yh("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Sw(o[2],a),h.length<s[4].length&&(h=to(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Tw(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?S4(o[1],a)+s[2]+"/"+s[3]+Sw(o[2],a):Bi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=wg(t,0),e.length<=i.length?i:to(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return to(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=lR(t,s[1].length),t<0?"-"+jl(n,e,-t):Jd(sJ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Qc(0,3-b.length):"")+b})+"."+Qc(a,s[1].length);switch(e){case"###,##0.00":return jl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Jd(wg(c,0));return m!=="0"?f+m:"";case"###,###.00":return jl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return jl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function aJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return yh(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function oJ(n,e,t){var r=e.replace(rD,""),i=e.length-r.length;return yh(n,r,t*Math.pow(10,2*i))+Bi("%",i)}function cD(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cD(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Pu(n,e,t){if(n.charCodeAt(0)===40&&!e.match(oD)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Pu("n",r,t):"("+Pu("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return aJ(n,e,t);if(e.indexOf("%")!==-1)return oJ(n,e,t);if(e.indexOf("E")!==-1)return cD(e,t);if(e.charCodeAt(0)===36)return"$"+Pu(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Qc(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:to(e.substr(0,e.length-i.length))+i;if(s=e.match(sD))return rJ(s,c,f);if(e.match(/^#+0+$/))return f+Qc(c,e.length-e.indexOf("0"));if(s=e.match(aD))return i=(""+t).replace(/^([^\.]+)$/,"$1."+to(s[1])).replace(/\.$/,"."+to(s[1])),i=i.replace(/\.(\d*)$/,function(b,_){return"."+_+Bi("0",to(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Jd(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Pu(n,e,-t):Jd(""+t)+"."+Bi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Pu(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Kg(Pu(n,e.replace(/[\\-]/g,""),t)),a=0,Kg(Kg(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<i.length?i.charAt(a++):b==="0"?"0":""}));if(e.match(lD))return i=Pu(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Tw(c,Math.pow(10,a)-1,!1),i=""+f,h=yh("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Sw(o[2],a),h.length<s[4].length&&(h=to(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Tw(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?S4(o[1],a)+s[2]+"/"+s[3]+Sw(o[2],a):Bi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:to(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return to(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Pu(n,e,-t):Jd(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Qc(0,3-b.length):"")+b})+"."+Qc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Jd(""+c);return m!=="0"?f+m:"";default:if(e.match(/\.[0#?]*$/))return Pu(n,e.slice(0,e.lastIndexOf(".")),t)+to(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function yh(n,e,t){return(t|0)===t?Pu(n,e,t):jl(n,e,t)}function lJ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var uD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pv(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Ew(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(uD))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function cJ(n,e,t,r){for(var i=[],s="",a=0,o="",c="t",f,h,p,g="H";a<n.length;)switch(o=n.charAt(a)){case"G":if(!Ew(n,a))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=n.charAt(++a),b=m==="("||m===")"?m:"t";i[i.length]={t:b,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(f==null&&(f=K0(e,t,n.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:n.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=K0(e,t),f==null))return"";for(s=o;++a<n.length&&n.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var _={t:o,v:o};if(f==null&&(f=K0(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",g="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",a+=5,g="h"):n.substr(a,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",a+=5,g="h"):(_.t="t",++a),f==null&&_.t==="T")return"";i[i.length]=_,c=o;break;case"[":for(s=o;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(uD)){if(f==null&&(f=K0(e,t),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",pv(n)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=o;++a<n.length&&(o=n.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;n.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++a;break}var w=0,T=0,L;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,c="h",w<1&&(w=1);break;case"s":(L=i[a].v.match(/\.0+$/))&&(T=Math.max(T,L[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[a].v.match(/[Hh]/)&&(w=1),w<2&&i[a].v.match(/[Mm]/)&&(w=2),w<3&&i[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var R="",F;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=QK(i[a].t.charCodeAt(0),i[a].v,f,T),i[a].t="t";break;case"n":case"?":for(F=a+1;i[F]!=null&&((o=i[F].t)==="?"||o==="D"||(o===" "||o==="t")&&i[F+1]!=null&&(i[F+1].t==="?"||i[F+1].t==="t"&&i[F+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[F].v==="/"||i[F].v===" "&&i[F+1]!=null&&i[F+1].t=="?"));)i[a].v+=i[F].v,i[F]={v:"",t:";"},++F;R+=i[a].v,a=F-1;break;case"G":i[a].t="t",i[a].v=dm(e,t);break}var z="",q,P;if(R.length>0){R.charCodeAt(0)==40?(q=e<0&&R.charCodeAt(0)===45?-e:e,P=yh("n",R,q)):(q=e<0&&r>1?-e:e,P=yh("n",R,q),q<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),F=P.length-1;var X=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){X=a;break}var O=i.length;if(X===i.length&&P.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(F>=i[a].v.length-1?(F-=i[a].v.length,i[a].v=P.substr(F+1,i[a].v.length)):F<0?i[a].v="":(i[a].v=P.substr(0,F+1),F=-1),i[a].t="t",O=a);F>=0&&O<i.length&&(i[O].v=P.substr(0,F+1)+i[O].v)}else if(X!==i.length&&P.indexOf("E")===-1){for(F=P.indexOf(".")-1,a=X;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===X?i[a].v.indexOf(".")-1:i[a].v.length-1,z=i[a].v.substr(h+1);h>=0;--h)F>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(z=P.charAt(F--)+z);i[a].v=z,i[a].t="t",O=a}for(F>=0&&O<i.length&&(i[O].v=P.substr(0,F+1)+i[O].v),F=P.indexOf(".")+1,a=X;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==X)){for(h=i[a].v.indexOf(".")>-1&&a===X?i[a].v.indexOf(".")+1:0,z=i[a].v.substr(0,h);h<i[a].v.length;++h)F<P.length&&(z+=P.charAt(F++));i[a].v=z,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(q=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=yh(i[a].t,i[a].v,q),i[a].t="t");var ee="";for(a=0;a!==i.length;++a)i[a]!=null&&(ee+=i[a].v);return ee}var cR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uR(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function uJ(n,e){var t=lJ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(cR),o=t[1].match(cR);return uR(e,a)?[r,t[0]]:uR(e,o)?[r,t[1]]:[r,t[a!=null&&o!=null?2:1]]}return[r,s]}function oc(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:bn)[n],r==null&&(r=t.table&&t.table[aR[n]]||bn[aR[n]]),r==null&&(r=WK[n]||"General");break}if(Ew(r,0))return dm(e,t);e instanceof Date&&(e=nD(e,t.date1904));var i=uJ(r,e);if(Ew(i[1]))return dm(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return cJ(i[1],e,t,i[0])}function bh(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(bn[t]==null){e<0&&(e=t);continue}if(bn[t]==n){e=t;break}}e<0&&(e=391)}return bn[e]=n,e}function b5(n){for(var e=0;e!=392;++e)n[e]!==void 0&&bh(n[e],e)}function mv(){bn=VK()}var fJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hJ(n){var e=typeof n=="number"?bn[n]:n;return e=e.replace(fD,"(\\d+)"),new RegExp("^"+e+"$")}function dJ(n,e,t){var r=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(fD)||[]).forEach(function(p,g){var m=parseInt(t[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":a=m;break;case"s":c=m;break;case"m":a>=0?o=m:i=m;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?f:r==-1&&i==-1&&s==-1?h:f+"T"+h}var pJ=(function(){var n={};n.version="1.2.0";function e(){for(var P=0,X=new Array(256),O=0;O!=256;++O)P=O,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,X[O]=P;return typeof Int32Array<"u"?new Int32Array(X):X}var t=e();function r(P){var X=0,O=0,ee=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)B[ee]=P[ee];for(ee=0;ee!=256;++ee)for(O=P[ee],X=256+ee;X<4096;X+=256)O=B[X]=O>>>8^P[O&255];var G=[];for(ee=1;ee!=16;++ee)G[ee-1]=typeof Int32Array<"u"?B.subarray(ee*256,ee*256+256):B.slice(ee*256,ee*256+256);return G}var i=r(t),s=i[0],a=i[1],o=i[2],c=i[3],f=i[4],h=i[5],p=i[6],g=i[7],m=i[8],b=i[9],_=i[10],w=i[11],T=i[12],L=i[13],R=i[14];function F(P,X){for(var O=X^-1,ee=0,B=P.length;ee<B;)O=O>>>8^t[(O^P.charCodeAt(ee++))&255];return~O}function z(P,X){for(var O=X^-1,ee=P.length-15,B=0;B<ee;)O=R[P[B++]^O&255]^L[P[B++]^O>>8&255]^T[P[B++]^O>>16&255]^w[P[B++]^O>>>24]^_[P[B++]]^b[P[B++]]^m[P[B++]]^g[P[B++]]^p[P[B++]]^h[P[B++]]^f[P[B++]]^c[P[B++]]^o[P[B++]]^a[P[B++]]^s[P[B++]]^t[P[B++]];for(ee+=15;B<ee;)O=O>>>8^t[(O^P[B++])&255];return~O}function q(P,X){for(var O=X^-1,ee=0,B=P.length,G=0,Q=0;ee<B;)G=P.charCodeAt(ee++),G<128?O=O>>>8^t[(O^G)&255]:G<2048?(O=O>>>8^t[(O^(192|G>>6&31))&255],O=O>>>8^t[(O^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,Q=P.charCodeAt(ee++)&1023,O=O>>>8^t[(O^(240|G>>8&7))&255],O=O>>>8^t[(O^(128|G>>2&63))&255],O=O>>>8^t[(O^(128|Q>>6&15|(G&3)<<4))&255],O=O>>>8^t[(O^(128|Q&63))&255]):(O=O>>>8^t[(O^(224|G>>12&15))&255],O=O>>>8^t[(O^(128|G>>6&63))&255],O=O>>>8^t[(O^(128|G&63))&255]);return~O}return n.table=t,n.bstr=F,n.buf=z,n.str=q,n})(),un=(function(){var e={};e.version="1.2.1";function t(te,Ce){for(var ge=te.split("/"),xe=Ce.split("/"),we=0,Ne=0,Ge=Math.min(ge.length,xe.length);we<Ge;++we){if(Ne=ge[we].length-xe[we].length)return Ne;if(ge[we]!=xe[we])return ge[we]<xe[we]?-1:1}return ge.length-xe.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var Ce=te.lastIndexOf("/");return Ce===-1?te:te.slice(0,Ce+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var Ce=te.lastIndexOf("/");return Ce===-1?te:te.slice(Ce+1)}function s(te,Ce){typeof Ce=="string"&&(Ce=new Date(Ce));var ge=Ce.getHours();ge=ge<<6|Ce.getMinutes(),ge=ge<<5|Ce.getSeconds()>>>1,te.write_shift(2,ge);var xe=Ce.getFullYear()-1980;xe=xe<<4|Ce.getMonth()+1,xe=xe<<5|Ce.getDate(),te.write_shift(2,xe)}function a(te){var Ce=te.read_shift(2)&65535,ge=te.read_shift(2)&65535,xe=new Date,we=ge&31;ge>>>=5;var Ne=ge&15;ge>>>=4,xe.setMilliseconds(0),xe.setFullYear(ge+1980),xe.setMonth(Ne-1),xe.setDate(we);var Ge=Ce&31;Ce>>>=5;var tt=Ce&63;return Ce>>>=6,xe.setHours(Ce),xe.setMinutes(tt),xe.setSeconds(Ge<<1),xe}function o(te){fa(te,0);for(var Ce={},ge=0;te.l<=te.length-4;){var xe=te.read_shift(2),we=te.read_shift(2),Ne=te.l+we,Ge={};switch(xe){case 21589:ge=te.read_shift(1),ge&1&&(Ge.mtime=te.read_shift(4)),we>5&&(ge&2&&(Ge.atime=te.read_shift(4)),ge&4&&(Ge.ctime=te.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}te.l=Ne,Ce[xe]=Ge}return Ce}var c;function f(){return c||(c={})}function h(te,Ce){if(te[0]==80&&te[1]==75)return gn(te,Ce);if((te[0]|32)==109&&(te[1]|32)==105)return tn(te,Ce);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ge=3,xe=512,we=0,Ne=0,Ge=0,tt=0,Ve=0,We=[],Ye=te.slice(0,512);fa(Ye,0);var vt=p(Ye);switch(ge=vt[0],ge){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(vt[1]==0)return gn(te,Ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}xe!==512&&(Ye=te.slice(0,xe),fa(Ye,28));var bt=te.slice(0,xe);g(Ye,ge);var Tt=Ye.read_shift(4,"i");if(ge===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);Ye.l+=4,Ge=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),tt=Ye.read_shift(4,"i"),we=Ye.read_shift(4,"i"),Ve=Ye.read_shift(4,"i"),Ne=Ye.read_shift(4,"i");for(var yt=-1,At=0;At<109&&(yt=Ye.read_shift(4,"i"),!(yt<0));++At)We[At]=yt;var Bt=m(te,xe);w(Ve,Ne,Bt,xe,We);var _r=L(Bt,Ge,We,xe);_r[Ge].name="!Directory",we>0&&tt!==Q&&(_r[tt].name="!MiniFAT"),_r[We[0]].name="!FAT",_r.fat_addrs=We,_r.ssz=xe;var Gn={},Tr=[],$s=[],zo=[];R(Ge,_r,Bt,Tr,we,Gn,$s,tt),b($s,zo,Tr),Tr.shift();var jo={FileIndex:$s,FullPaths:zo};return Ce&&Ce.raw&&(jo.raw={header:bt,sectors:Bt}),jo}function p(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(ce,"Header Signature: "),te.l+=16;var Ce=te.read_shift(2,"u");return[te.read_shift(2,"u"),Ce]}function g(te,Ce){var ge=9;switch(te.l+=2,ge=te.read_shift(2)){case 9:if(Ce!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(Ce!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,Ce){for(var ge=Math.ceil(te.length/Ce)-1,xe=[],we=1;we<ge;++we)xe[we-1]=te.slice(we*Ce,(we+1)*Ce);return xe[ge-1]=te.slice(ge*Ce),xe}function b(te,Ce,ge){for(var xe=0,we=0,Ne=0,Ge=0,tt=0,Ve=ge.length,We=[],Ye=[];xe<Ve;++xe)We[xe]=Ye[xe]=xe,Ce[xe]=ge[xe];for(;tt<Ye.length;++tt)xe=Ye[tt],we=te[xe].L,Ne=te[xe].R,Ge=te[xe].C,We[xe]===xe&&(we!==-1&&We[we]!==we&&(We[xe]=We[we]),Ne!==-1&&We[Ne]!==Ne&&(We[xe]=We[Ne])),Ge!==-1&&(We[Ge]=xe),we!==-1&&xe!=We[xe]&&(We[we]=We[xe],Ye.lastIndexOf(we)<tt&&Ye.push(we)),Ne!==-1&&xe!=We[xe]&&(We[Ne]=We[xe],Ye.lastIndexOf(Ne)<tt&&Ye.push(Ne));for(xe=1;xe<Ve;++xe)We[xe]===xe&&(Ne!==-1&&We[Ne]!==Ne?We[xe]=We[Ne]:we!==-1&&We[we]!==we&&(We[xe]=We[we]));for(xe=1;xe<Ve;++xe)if(te[xe].type!==0){if(tt=xe,tt!=We[tt])do tt=We[tt],Ce[xe]=Ce[tt]+"/"+Ce[xe];while(tt!==0&&We[tt]!==-1&&tt!=We[tt]);We[xe]=-1}for(Ce[0]+="/",xe=1;xe<Ve;++xe)te[xe].type!==2&&(Ce[xe]+="/")}function _(te,Ce,ge){for(var xe=te.start,we=te.size,Ne=[],Ge=xe;ge&&we>0&&Ge>=0;)Ne.push(Ce.slice(Ge*G,Ge*G+G)),we-=G,Ge=X0(ge,Ge*4);return Ne.length===0?at(0):Vs(Ne).slice(0,te.size)}function w(te,Ce,ge,xe,we){var Ne=Q;if(te===Q){if(Ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ge=ge[te],tt=(xe>>>2)-1;if(!Ge)return;for(var Ve=0;Ve<tt&&(Ne=X0(Ge,Ve*4))!==Q;++Ve)we.push(Ne);w(X0(Ge,xe-4),Ce-1,ge,xe,we)}}function T(te,Ce,ge,xe,we){var Ne=[],Ge=[];we||(we=[]);var tt=xe-1,Ve=0,We=0;for(Ve=Ce;Ve>=0;){we[Ve]=!0,Ne[Ne.length]=Ve,Ge.push(te[Ve]);var Ye=ge[Math.floor(Ve*4/xe)];if(We=Ve*4&tt,xe<4+We)throw new Error("FAT boundary crossed: "+Ve+" 4 "+xe);if(!te[Ye])break;Ve=X0(te[Ye],We)}return{nodes:Ne,data:wR([Ge])}}function L(te,Ce,ge,xe){var we=te.length,Ne=[],Ge=[],tt=[],Ve=[],We=xe-1,Ye=0,vt=0,bt=0,Tt=0;for(Ye=0;Ye<we;++Ye)if(tt=[],bt=Ye+Ce,bt>=we&&(bt-=we),!Ge[bt]){Ve=[];var yt=[];for(vt=bt;vt>=0;){yt[vt]=!0,Ge[vt]=!0,tt[tt.length]=vt,Ve.push(te[vt]);var At=ge[Math.floor(vt*4/xe)];if(Tt=vt*4&We,xe<4+Tt)throw new Error("FAT boundary crossed: "+vt+" 4 "+xe);if(!te[At]||(vt=X0(te[At],Tt),yt[vt]))break}Ne[bt]={nodes:tt,data:wR([Ve])}}return Ne}function R(te,Ce,ge,xe,we,Ne,Ge,tt){for(var Ve=0,We=xe.length?2:0,Ye=Ce[te].data,vt=0,bt=0,Tt;vt<Ye.length;vt+=128){var yt=Ye.slice(vt,vt+128);fa(yt,64),bt=yt.read_shift(2),Tt=I4(yt,0,bt-We),xe.push(Tt);var At={name:Tt,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},Bt=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Bt!==0&&(At.ct=F(yt,yt.l-8));var _r=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);_r!==0&&(At.mt=F(yt,yt.l-8)),At.start=yt.read_shift(4,"i"),At.size=yt.read_shift(4,"i"),At.size<0&&At.start<0&&(At.size=At.type=0,At.start=Q,At.name=""),At.type===5?(Ve=At.start,we>0&&Ve!==Q&&(Ce[Ve].name="!StreamData")):At.size>=4096?(At.storage="fat",Ce[At.start]===void 0&&(Ce[At.start]=T(ge,At.start,Ce.fat_addrs,Ce.ssz)),Ce[At.start].name=At.name,At.content=Ce[At.start].data.slice(0,At.size)):(At.storage="minifat",At.size<0?At.size=0:Ve!==Q&&At.start!==Q&&Ce[Ve]&&(At.content=_(At,Ce[Ve].data,(Ce[tt]||{}).data))),At.content&&fa(At.content,0),Ne[Tt]=At,Ge.push(At)}}function F(te,Ce){return new Date((gl(te,Ce+4)/1e7*Math.pow(2,32)+gl(te,Ce)/1e7-11644473600)*1e3)}function z(te,Ce){return f(),h(c.readFileSync(te),Ce)}function q(te,Ce){var ge=Ce&&Ce.type;switch(ge||qn&&Buffer.isBuffer(te)&&(ge="buffer"),ge||"base64"){case"file":return z(te,Ce);case"base64":return h(yl(Al(te)),Ce);case"binary":return h(yl(te),Ce)}return h(te,Ce)}function P(te,Ce){var ge=Ce||{},xe=ge.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=xe+"/",te.FileIndex[0]={name:xe,type:5}),ge.CLSID&&(te.FileIndex[0].clsid=ge.CLSID),X(te)}function X(te){var Ce="Sh33tJ5";if(!un.find(te,"/"+Ce)){var ge=at(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,te.FileIndex.push({name:Ce,type:2,content:ge,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+Ce),O(te)}}function O(te,Ce){P(te);for(var ge=!1,xe=!1,we=te.FullPaths.length-1;we>=0;--we){var Ne=te.FileIndex[we];switch(Ne.type){case 0:xe?ge=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(ge=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!Ce)){var Ge=new Date(1987,1,19),tt=0,Ve=Object.create?Object.create(null):{},We=[];for(we=0;we<te.FullPaths.length;++we)Ve[te.FullPaths[we]]=!0,te.FileIndex[we].type!==0&&We.push([te.FullPaths[we],te.FileIndex[we]]);for(we=0;we<We.length;++we){var Ye=r(We[we][0]);xe=Ve[Ye],xe||(We.push([Ye,{name:i(Ye).replace("/",""),type:1,clsid:K,ct:Ge,mt:Ge,content:null}]),Ve[Ye]=!0)}for(We.sort(function(Tt,yt){return t(Tt[0],yt[0])}),te.FullPaths=[],te.FileIndex=[],we=0;we<We.length;++we)te.FullPaths[we]=We[we][0],te.FileIndex[we]=We[we][1];for(we=0;we<We.length;++we){var vt=te.FileIndex[we],bt=te.FullPaths[we];if(vt.name=i(bt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||K,we===0)vt.C=We.length>1?1:-1,vt.size=0,vt.type=5;else if(bt.slice(-1)=="/"){for(tt=we+1;tt<We.length&&r(te.FullPaths[tt])!=bt;++tt);for(vt.C=tt>=We.length?-1:tt,tt=we+1;tt<We.length&&r(te.FullPaths[tt])!=r(bt);++tt);vt.R=tt>=We.length?-1:tt,vt.type=1}else r(te.FullPaths[we+1]||"")==r(bt)&&(vt.R=we+1),vt.type=2}}}function ee(te,Ce){var ge=Ce||{};if(ge.fileType=="mad")return Ho(te,ge);switch(O(te),ge.fileType){case"zip":return Cn(te,ge)}var xe=(function(Tt){for(var yt=0,At=0,Bt=0;Bt<Tt.FileIndex.length;++Bt){var _r=Tt.FileIndex[Bt];if(_r.content){var Gn=_r.content.length;Gn>0&&(Gn<4096?yt+=Gn+63>>6:At+=Gn+511>>9)}}for(var Tr=Tt.FullPaths.length+3>>2,$s=yt+7>>3,zo=yt+127>>7,jo=$s+At+Tr+zo,za=jo+127>>7,fu=za<=109?0:Math.ceil((za-109)/127);jo+za+fu+127>>7>za;)fu=++za<=109?0:Math.ceil((za-109)/127);var Zr=[1,fu,za,zo,Tr,At,yt,0];return Tt.FileIndex[0].size=yt<<6,Zr[7]=(Tt.FileIndex[0].start=Zr[0]+Zr[1]+Zr[2]+Zr[3]+Zr[4]+Zr[5])+(Zr[6]+7>>3),Zr})(te),we=at(xe[7]<<9),Ne=0,Ge=0;{for(Ne=0;Ne<8;++Ne)we.write_shift(1,_e[Ne]);for(Ne=0;Ne<8;++Ne)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Ne=0;Ne<3;++Ne)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,xe[2]),we.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:Q),we.write_shift(4,xe[3]),we.write_shift(-4,xe[1]?xe[0]-1:Q),we.write_shift(4,xe[1]),Ne=0;Ne<109;++Ne)we.write_shift(-4,Ne<xe[2]?xe[1]+Ne:-1)}if(xe[1])for(Ge=0;Ge<xe[1];++Ge){for(;Ne<236+Ge*127;++Ne)we.write_shift(-4,Ne<xe[2]?xe[1]+Ne:-1);we.write_shift(-4,Ge===xe[1]-1?Q:Ge+1)}var tt=function(Tt){for(Ge+=Tt;Ne<Ge-1;++Ne)we.write_shift(-4,Ne+1);Tt&&(++Ne,we.write_shift(-4,Q))};for(Ge=Ne=0,Ge+=xe[1];Ne<Ge;++Ne)we.write_shift(-4,le.DIFSECT);for(Ge+=xe[2];Ne<Ge;++Ne)we.write_shift(-4,le.FATSECT);tt(xe[3]),tt(xe[4]);for(var Ve=0,We=0,Ye=te.FileIndex[0];Ve<te.FileIndex.length;++Ve)Ye=te.FileIndex[Ve],Ye.content&&(We=Ye.content.length,!(We<4096)&&(Ye.start=Ge,tt(We+511>>9)));for(tt(xe[6]+7>>3);we.l&511;)we.write_shift(-4,le.ENDOFCHAIN);for(Ge=Ne=0,Ve=0;Ve<te.FileIndex.length;++Ve)Ye=te.FileIndex[Ve],Ye.content&&(We=Ye.content.length,!(!We||We>=4096)&&(Ye.start=Ge,tt(We+63>>6)));for(;we.l&511;)we.write_shift(-4,le.ENDOFCHAIN);for(Ne=0;Ne<xe[4]<<2;++Ne){var vt=te.FullPaths[Ne];if(!vt||vt.length===0){for(Ve=0;Ve<17;++Ve)we.write_shift(4,0);for(Ve=0;Ve<3;++Ve)we.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)we.write_shift(4,0);continue}Ye=te.FileIndex[Ne],Ne===0&&(Ye.start=Ye.size?Ye.start-1:Q);var bt=Ne===0&&ge.root||Ye.name;if(We=2*(bt.length+1),we.write_shift(64,bt,"utf16le"),we.write_shift(2,We),we.write_shift(1,Ye.type),we.write_shift(1,Ye.color),we.write_shift(-4,Ye.L),we.write_shift(-4,Ye.R),we.write_shift(-4,Ye.C),Ye.clsid)we.write_shift(16,Ye.clsid,"hex");else for(Ve=0;Ve<4;++Ve)we.write_shift(4,0);we.write_shift(4,Ye.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,Ye.start),we.write_shift(4,Ye.size),we.write_shift(4,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if(Ye=te.FileIndex[Ne],Ye.size>=4096)if(we.l=Ye.start+1<<9,qn&&Buffer.isBuffer(Ye.content))Ye.content.copy(we,we.l,0,Ye.size),we.l+=Ye.size+511&-512;else{for(Ve=0;Ve<Ye.size;++Ve)we.write_shift(1,Ye.content[Ve]);for(;Ve&511;++Ve)we.write_shift(1,0)}for(Ne=1;Ne<te.FileIndex.length;++Ne)if(Ye=te.FileIndex[Ne],Ye.size>0&&Ye.size<4096)if(qn&&Buffer.isBuffer(Ye.content))Ye.content.copy(we,we.l,0,Ye.size),we.l+=Ye.size+63&-64;else{for(Ve=0;Ve<Ye.size;++Ve)we.write_shift(1,Ye.content[Ve]);for(;Ve&63;++Ve)we.write_shift(1,0)}if(qn)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function B(te,Ce){var ge=te.FullPaths.map(function(Ve){return Ve.toUpperCase()}),xe=ge.map(function(Ve){var We=Ve.split("/");return We[We.length-(Ve.slice(-1)=="/"?2:1)]}),we=!1;Ce.charCodeAt(0)===47?(we=!0,Ce=ge[0].slice(0,-1)+Ce):we=Ce.indexOf("/")!==-1;var Ne=Ce.toUpperCase(),Ge=we===!0?ge.indexOf(Ne):xe.indexOf(Ne);if(Ge!==-1)return te.FileIndex[Ge];var tt=!Ne.match(kx);for(Ne=Ne.replace(io,""),tt&&(Ne=Ne.replace(kx,"!")),Ge=0;Ge<ge.length;++Ge)if((tt?ge[Ge].replace(kx,"!"):ge[Ge]).replace(io,"")==Ne||(tt?xe[Ge].replace(kx,"!"):xe[Ge]).replace(io,"")==Ne)return te.FileIndex[Ge];return null}var G=64,Q=-2,ce="d0cf11e0a1b11ae1",_e=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Se(te,Ce,ge){f();var xe=ee(te,ge);c.writeFileSync(Ce,xe)}function ve(te){for(var Ce=new Array(te.length),ge=0;ge<te.length;++ge)Ce[ge]=String.fromCharCode(te[ge]);return Ce.join("")}function Pe(te,Ce){var ge=ee(te,Ce);switch(Ce&&Ce.type||"buffer"){case"file":return f(),c.writeFileSync(Ce.filename,ge),ge;case"binary":return typeof ge=="string"?ge:ve(ge);case"base64":return e2(typeof ge=="string"?ge:ve(ge));case"buffer":if(qn)return Buffer.isBuffer(ge)?ge:Lh(ge);case"array":return typeof ge=="string"?yl(ge):ge}return ge}var ie;function I(te){try{var Ce=te.InflateRaw,ge=new Ce;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)ie=te;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function j(te,Ce){if(!ie)return yr(te,Ce);var ge=ie.InflateRaw,xe=new ge,we=xe._processChunk(te.slice(te.l),xe._finishFlushFlag);return te.l+=xe.bytesRead,we}function U(te){return ie?ie.deflateRawSync(te):je(te)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(te){var Ce=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(Ce>>16|Ce>>8|Ce)&255}for(var fe=typeof Uint8Array<"u",Te=fe?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)Te[Oe]=me(Oe);function ue(te,Ce){var ge=Te[te&255];return Ce<=8?ge>>>8-Ce:(ge=ge<<8|Te[te>>8&255],Ce<=16?ge>>>16-Ce:(ge=ge<<8|Te[te>>16&255],ge>>>24-Ce))}function nt(te,Ce){var ge=Ce&7,xe=Ce>>>3;return(te[xe]|(ge<=6?0:te[xe+1]<<8))>>>ge&3}function it(te,Ce){var ge=Ce&7,xe=Ce>>>3;return(te[xe]|(ge<=5?0:te[xe+1]<<8))>>>ge&7}function de(te,Ce){var ge=Ce&7,xe=Ce>>>3;return(te[xe]|(ge<=4?0:te[xe+1]<<8))>>>ge&15}function Fe(te,Ce){var ge=Ce&7,xe=Ce>>>3;return(te[xe]|(ge<=3?0:te[xe+1]<<8))>>>ge&31}function He(te,Ce){var ge=Ce&7,xe=Ce>>>3;return(te[xe]|(ge<=1?0:te[xe+1]<<8))>>>ge&127}function ht(te,Ce,ge){var xe=Ce&7,we=Ce>>>3,Ne=(1<<ge)-1,Ge=te[we]>>>xe;return ge<8-xe||(Ge|=te[we+1]<<8-xe,ge<16-xe)||(Ge|=te[we+2]<<16-xe,ge<24-xe)||(Ge|=te[we+3]<<24-xe),Ge&Ne}function et(te,Ce,ge){var xe=Ce&7,we=Ce>>>3;return xe<=5?te[we]|=(ge&7)<<xe:(te[we]|=ge<<xe&255,te[we+1]=(ge&7)>>8-xe),Ce+3}function kt(te,Ce,ge){var xe=Ce&7,we=Ce>>>3;return ge=(ge&1)<<xe,te[we]|=ge,Ce+1}function _t(te,Ce,ge){var xe=Ce&7,we=Ce>>>3;return ge<<=xe,te[we]|=ge&255,ge>>>=8,te[we+1]=ge,Ce+8}function jt(te,Ce,ge){var xe=Ce&7,we=Ce>>>3;return ge<<=xe,te[we]|=ge&255,ge>>>=8,te[we+1]=ge&255,te[we+2]=ge>>>8,Ce+16}function Mt(te,Ce){var ge=te.length,xe=2*ge>Ce?2*ge:Ce+5,we=0;if(ge>=Ce)return te;if(qn){var Ne=rR(xe);if(te.copy)te.copy(Ne);else for(;we<te.length;++we)Ne[we]=te[we];return Ne}else if(fe){var Ge=new Uint8Array(xe);if(Ge.set)Ge.set(te);else for(;we<ge;++we)Ge[we]=te[we];return Ge}return te.length=xe,te}function Yt(te){for(var Ce=new Array(te),ge=0;ge<te;++ge)Ce[ge]=0;return Ce}function dn(te,Ce,ge){var xe=1,we=0,Ne=0,Ge=0,tt=0,Ve=te.length,We=fe?new Uint16Array(32):Yt(32);for(Ne=0;Ne<32;++Ne)We[Ne]=0;for(Ne=Ve;Ne<ge;++Ne)te[Ne]=0;Ve=te.length;var Ye=fe?new Uint16Array(Ve):Yt(Ve);for(Ne=0;Ne<Ve;++Ne)We[we=te[Ne]]++,xe<we&&(xe=we),Ye[Ne]=0;for(We[0]=0,Ne=1;Ne<=xe;++Ne)We[Ne+16]=tt=tt+We[Ne-1]<<1;for(Ne=0;Ne<Ve;++Ne)tt=te[Ne],tt!=0&&(Ye[Ne]=We[tt+16]++);var vt=0;for(Ne=0;Ne<Ve;++Ne)if(vt=te[Ne],vt!=0)for(tt=ue(Ye[Ne],xe)>>xe-vt,Ge=(1<<xe+4-vt)-1;Ge>=0;--Ge)Ce[tt|Ge<<vt]=vt&15|Ne<<4;return xe}var Kt=fe?new Uint16Array(512):Yt(512),En=fe?new Uint16Array(32):Yt(32);if(!fe){for(var Qt=0;Qt<512;++Qt)Kt[Qt]=0;for(Qt=0;Qt<32;++Qt)En[Qt]=0}(function(){for(var te=[],Ce=0;Ce<32;Ce++)te.push(5);dn(te,En,32);var ge=[];for(Ce=0;Ce<=143;Ce++)ge.push(8);for(;Ce<=255;Ce++)ge.push(9);for(;Ce<=279;Ce++)ge.push(7);for(;Ce<=287;Ce++)ge.push(8);dn(ge,Kt,288)})();var Rt=(function(){for(var Ce=fe?new Uint8Array(32768):[],ge=0,xe=0;ge<ye.length-1;++ge)for(;xe<ye[ge+1];++xe)Ce[xe]=ge;for(;xe<32768;++xe)Ce[xe]=29;var we=fe?new Uint8Array(259):[];for(ge=0,xe=0;ge<ae.length-1;++ge)for(;xe<ae[ge+1];++xe)we[xe]=ge;function Ne(tt,Ve){for(var We=0;We<tt.length;){var Ye=Math.min(65535,tt.length-We),vt=We+Ye==tt.length;for(Ve.write_shift(1,+vt),Ve.write_shift(2,Ye),Ve.write_shift(2,~Ye&65535);Ye-- >0;)Ve[Ve.l++]=tt[We++]}return Ve.l}function Ge(tt,Ve){for(var We=0,Ye=0,vt=fe?new Uint16Array(32768):[];Ye<tt.length;){var bt=Math.min(65535,tt.length-Ye);if(bt<10){for(We=et(Ve,We,+(Ye+bt==tt.length)),We&7&&(We+=8-(We&7)),Ve.l=We/8|0,Ve.write_shift(2,bt),Ve.write_shift(2,~bt&65535);bt-- >0;)Ve[Ve.l++]=tt[Ye++];We=Ve.l*8;continue}We=et(Ve,We,+(Ye+bt==tt.length)+2);for(var Tt=0;bt-- >0;){var yt=tt[Ye];Tt=(Tt<<5^yt)&32767;var At=-1,Bt=0;if((At=vt[Tt])&&(At|=Ye&-32768,At>Ye&&(At-=32768),At<Ye))for(;tt[At+Bt]==tt[Ye+Bt]&&Bt<250;)++Bt;if(Bt>2){yt=we[Bt],yt<=22?We=_t(Ve,We,Te[yt+1]>>1)-1:(_t(Ve,We,3),We+=5,_t(Ve,We,Te[yt-23]>>5),We+=3);var _r=yt<8?0:yt-4>>2;_r>0&&(jt(Ve,We,Bt-ae[yt]),We+=_r),yt=Ce[Ye-At],We=_t(Ve,We,Te[yt]>>3),We-=3;var Gn=yt<4?0:yt-2>>1;Gn>0&&(jt(Ve,We,Ye-At-ye[yt]),We+=Gn);for(var Tr=0;Tr<Bt;++Tr)vt[Tt]=Ye&32767,Tt=(Tt<<5^tt[Ye])&32767,++Ye;bt-=Bt-1}else yt<=143?yt=yt+48:We=kt(Ve,We,1),We=_t(Ve,We,Te[yt]),vt[Tt]=Ye&32767,++Ye}We=_t(Ve,We,0)-1}return Ve.l=(We+7)/8|0,Ve.l}return function(Ve,We){return Ve.length<8?Ne(Ve,We):Ge(Ve,We)}})();function je(te){var Ce=at(50+Math.floor(te.length*1.1)),ge=Rt(te,Ce);return Ce.slice(0,ge)}var ot=fe?new Uint16Array(32768):Yt(32768),fn=fe?new Uint16Array(32768):Yt(32768),Lt=fe?new Uint16Array(128):Yt(128),Pt=1,sn=1;function Hn(te,Ce){var ge=Fe(te,Ce)+257;Ce+=5;var xe=Fe(te,Ce)+1;Ce+=5;var we=de(te,Ce)+4;Ce+=4;for(var Ne=0,Ge=fe?new Uint8Array(19):Yt(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,We=fe?new Uint8Array(8):Yt(8),Ye=fe?new Uint8Array(8):Yt(8),vt=Ge.length,bt=0;bt<we;++bt)Ge[Y[bt]]=Ne=it(te,Ce),Ve<Ne&&(Ve=Ne),We[Ne]++,Ce+=3;var Tt=0;for(We[0]=0,bt=1;bt<=Ve;++bt)Ye[bt]=Tt=Tt+We[bt-1]<<1;for(bt=0;bt<vt;++bt)(Tt=Ge[bt])!=0&&(tt[bt]=Ye[Tt]++);var yt=0;for(bt=0;bt<vt;++bt)if(yt=Ge[bt],yt!=0){Tt=Te[tt[bt]]>>8-yt;for(var At=(1<<7-yt)-1;At>=0;--At)Lt[Tt|At<<yt]=yt&7|bt<<3}var Bt=[];for(Ve=1;Bt.length<ge+xe;)switch(Tt=Lt[He(te,Ce)],Ce+=Tt&7,Tt>>>=3){case 16:for(Ne=3+nt(te,Ce),Ce+=2,Tt=Bt[Bt.length-1];Ne-- >0;)Bt.push(Tt);break;case 17:for(Ne=3+it(te,Ce),Ce+=3;Ne-- >0;)Bt.push(0);break;case 18:for(Ne=11+He(te,Ce),Ce+=7;Ne-- >0;)Bt.push(0);break;default:Bt.push(Tt),Ve<Tt&&(Ve=Tt);break}var _r=Bt.slice(0,ge),Gn=Bt.slice(ge);for(bt=ge;bt<286;++bt)_r[bt]=0;for(bt=xe;bt<30;++bt)Gn[bt]=0;return Pt=dn(_r,ot,286),sn=dn(Gn,fn,30),Ce}function an(te,Ce){if(te[0]==3&&!(te[1]&3))return[n0(Ce),2];for(var ge=0,xe=0,we=rR(Ce||1<<18),Ne=0,Ge=we.length>>>0,tt=0,Ve=0;(xe&1)==0;){if(xe=it(te,ge),ge+=3,xe>>>1)xe>>1==1?(tt=9,Ve=5):(ge=Hn(te,ge),tt=Pt,Ve=sn);else{ge&7&&(ge+=8-(ge&7));var We=te[ge>>>3]|te[(ge>>>3)+1]<<8;if(ge+=32,We>0)for(!Ce&&Ge<Ne+We&&(we=Mt(we,Ne+We),Ge=we.length);We-- >0;)we[Ne++]=te[ge>>>3],ge+=8;continue}for(;;){!Ce&&Ge<Ne+32767&&(we=Mt(we,Ne+32767),Ge=we.length);var Ye=ht(te,ge,tt),vt=xe>>>1==1?Kt[Ye]:ot[Ye];if(ge+=vt&15,vt>>>=4,(vt>>>8&255)===0)we[Ne++]=vt;else{if(vt==256)break;vt-=257;var bt=vt<8?0:vt-4>>2;bt>5&&(bt=0);var Tt=Ne+ae[vt];bt>0&&(Tt+=ht(te,ge,bt),ge+=bt),Ye=ht(te,ge,Ve),vt=xe>>>1==1?En[Ye]:fn[Ye],ge+=vt&15,vt>>>=4;var yt=vt<4?0:vt-2>>1,At=ye[vt];for(yt>0&&(At+=ht(te,ge,yt),ge+=yt),!Ce&&Ge<Tt&&(we=Mt(we,Tt+100),Ge=we.length);Ne<Tt;)we[Ne]=we[Ne-At],++Ne}}}return Ce?[we,ge+7>>>3]:[we.slice(0,Ne),ge+7>>>3]}function yr(te,Ce){var ge=te.slice(te.l||0),xe=an(ge,Ce);return te.l+=xe[1],xe[0]}function hn(te,Ce){if(te)typeof console<"u"&&console.error(Ce);else throw new Error(Ce)}function gn(te,Ce){var ge=te;fa(ge,0);var xe=[],we=[],Ne={FileIndex:xe,FullPaths:we};P(Ne,{root:Ce.root});for(var Ge=ge.length-4;(ge[Ge]!=80||ge[Ge+1]!=75||ge[Ge+2]!=5||ge[Ge+3]!=6)&&Ge>=0;)--Ge;ge.l=Ge+4,ge.l+=4;var tt=ge.read_shift(2);ge.l+=6;var Ve=ge.read_shift(4);for(ge.l=Ve,Ge=0;Ge<tt;++Ge){ge.l+=20;var We=ge.read_shift(4),Ye=ge.read_shift(4),vt=ge.read_shift(2),bt=ge.read_shift(2),Tt=ge.read_shift(2);ge.l+=8;var yt=ge.read_shift(4),At=o(ge.slice(ge.l+vt,ge.l+vt+bt));ge.l+=vt+bt+Tt;var Bt=ge.l;ge.l=yt+4,br(ge,We,Ye,Ne,At),ge.l=Bt}return Ne}function br(te,Ce,ge,xe,we){te.l+=2;var Ne=te.read_shift(2),Ge=te.read_shift(2),tt=a(te);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=te.read_shift(4),We=te.read_shift(4),Ye=te.read_shift(4),vt=te.read_shift(2),bt=te.read_shift(2),Tt="",yt=0;yt<vt;++yt)Tt+=String.fromCharCode(te[te.l++]);if(bt){var At=o(te.slice(te.l,te.l+bt));(At[21589]||{}).mt&&(tt=At[21589].mt),((we||{})[21589]||{}).mt&&(tt=we[21589].mt)}te.l+=bt;var Bt=te.slice(te.l,te.l+We);switch(Ge){case 8:Bt=j(te,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var _r=!1;Ne&8&&(Ve=te.read_shift(4),Ve==134695760&&(Ve=te.read_shift(4),_r=!0),We=te.read_shift(4),Ye=te.read_shift(4)),We!=Ce&&hn(_r,"Bad compressed size: "+Ce+" != "+We),Ye!=ge&&hn(_r,"Bad uncompressed size: "+ge+" != "+Ye),ps(xe,Tt,Bt,{unsafe:!0,mt:tt})}function Cn(te,Ce){var ge=Ce||{},xe=[],we=[],Ne=at(1),Ge=ge.compression?8:0,tt=0,Ve=0,We=0,Ye=0,vt=0,bt=te.FullPaths[0],Tt=bt,yt=te.FileIndex[0],At=[],Bt=0;for(Ve=1;Ve<te.FullPaths.length;++Ve)if(Tt=te.FullPaths[Ve].slice(bt.length),yt=te.FileIndex[Ve],!(!yt.size||!yt.content||Tt=="Sh33tJ5")){var _r=Ye,Gn=at(Tt.length);for(We=0;We<Tt.length;++We)Gn.write_shift(1,Tt.charCodeAt(We)&127);Gn=Gn.slice(0,Gn.l),At[vt]=pJ.buf(yt.content,0);var Tr=yt.content;Ge==8&&(Tr=U(Tr)),Ne=at(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,tt),Ne.write_shift(2,Ge),yt.mt?s(Ne,yt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,At[vt]),Ne.write_shift(4,Tr.length),Ne.write_shift(4,yt.content.length),Ne.write_shift(2,Gn.length),Ne.write_shift(2,0),Ye+=Ne.length,xe.push(Ne),Ye+=Gn.length,xe.push(Gn),Ye+=Tr.length,xe.push(Tr),Ne=at(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,tt),Ne.write_shift(2,Ge),Ne.write_shift(4,0),Ne.write_shift(-4,At[vt]),Ne.write_shift(4,Tr.length),Ne.write_shift(4,yt.content.length),Ne.write_shift(2,Gn.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,_r),Bt+=Ne.l,we.push(Ne),Bt+=Gn.length,we.push(Gn),++vt}return Ne=at(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,vt),Ne.write_shift(2,vt),Ne.write_shift(4,Bt),Ne.write_shift(4,Ye),Ne.write_shift(2,0),Vs([Vs(xe),Vs(we),Ne])}var $t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $n(te,Ce){if(te.ctype)return te.ctype;var ge=te.name||"",xe=ge.match(/\.([^\.]+)$/);return xe&&$t[xe[1]]||Ce&&(xe=(ge=Ce).match(/[\.\\]([^\.\\])+$/),xe&&$t[xe[1]])?$t[xe[1]]:"application/octet-stream"}function Ha(te){for(var Ce=e2(te),ge=[],xe=0;xe<Ce.length;xe+=76)ge.push(Ce.slice(xe,xe+76));return ge.join(`\r
`)+`\r
`}function ts(te){var Ce=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Ye=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});Ce=Ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ce.charAt(0)==`
`&&(Ce="=0D"+Ce.slice(1)),Ce=Ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],xe=Ce.split(`\r
`),we=0;we<xe.length;++we){var Ne=xe[we];if(Ne.length==0){ge.push("");continue}for(var Ge=0;Ge<Ne.length;){var tt=76,Ve=Ne.slice(Ge,Ge+tt);Ve.charAt(tt-1)=="="?tt--:Ve.charAt(tt-2)=="="?tt-=2:Ve.charAt(tt-3)=="="&&(tt-=3),Ve=Ne.slice(Ge,Ge+tt),Ge+=tt,Ge<Ne.length&&(Ve+="="),ge.push(Ve)}}return ge.join(`\r
`)}function lo(te){for(var Ce=[],ge=0;ge<te.length;++ge){for(var xe=te[ge];ge<=te.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+te[++ge];Ce.push(xe)}for(var we=0;we<Ce.length;++we)Ce[we]=Ce[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return yl(Ce.join(`\r
`))}function da(te,Ce,ge){for(var xe="",we="",Ne="",Ge,tt=0;tt<10;++tt){var Ve=Ce[tt];if(!Ve||Ve.match(/^\s*$/))break;var We=Ve.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":xe=We[2].trim();break;case"content-type":Ne=We[2].trim();break;case"content-transfer-encoding":we=We[2].trim();break}}switch(++tt,we.toLowerCase()){case"base64":Ge=yl(Al(Ce.slice(tt).join("")));break;case"quoted-printable":Ge=lo(Ce.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var Ye=ps(te,xe.slice(ge.length),Ge,{unsafe:!0});Ne&&(Ye.ctype=Ne)}function tn(te,Ce){if(ve(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=Ce&&Ce.root||"",xe=(qn&&Buffer.isBuffer(te)?te.toString("binary"):ve(te)).split(`\r
`),we=0,Ne="";for(we=0;we<xe.length;++we)if(Ne=xe[we],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),ge||(ge=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Ne.slice(0,ge.length)!=ge););var Ge=(xe[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var tt="--"+(Ge[1]||""),Ve=[],We=[],Ye={FileIndex:Ve,FullPaths:We};P(Ye);var vt,bt=0;for(we=0;we<xe.length;++we){var Tt=xe[we];Tt!==tt&&Tt!==tt+"--"||(bt++&&da(Ye,xe.slice(vt,we),ge),vt=we)}return Ye}function Ho(te,Ce){var ge=Ce||{},xe=ge.boundary||"SheetJS";xe="------="+xe;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Ne=te.FullPaths[0],Ge=Ne,tt=te.FileIndex[0],Ve=1;Ve<te.FullPaths.length;++Ve)if(Ge=te.FullPaths[Ve].slice(Ne.length),tt=te.FileIndex[Ve],!(!tt.size||!tt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var We=tt.content,Ye=qn&&Buffer.isBuffer(We)?We.toString("binary"):ve(We),vt=0,bt=Math.min(1024,Ye.length),Tt=0,yt=0;yt<=bt;++yt)(Tt=Ye.charCodeAt(yt))>=32&&Tt<128&&++vt;var At=vt>=bt*4/5;we.push(xe),we.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+Ge),we.push("Content-Transfer-Encoding: "+(At?"quoted-printable":"base64")),we.push("Content-Type: "+$n(tt,Ge)),we.push(""),we.push(At?ts(Ye):Ha(Ye))}return we.push(xe+`--\r
`),we.join(`\r
`)}function co(te){var Ce={};return P(Ce,te),Ce}function ps(te,Ce,ge,xe){var we=xe&&xe.unsafe;we||P(te);var Ne=!we&&un.find(te,Ce);if(!Ne){var Ge=te.FullPaths[0];Ce.slice(0,Ge.length)==Ge?Ge=Ce:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Ce).replace("//","/")),Ne={name:i(Ce),type:2},te.FileIndex.push(Ne),te.FullPaths.push(Ge),we||un.utils.cfb_gc(te)}return Ne.content=ge,Ne.size=ge?ge.length:0,xe&&(xe.CLSID&&(Ne.clsid=xe.CLSID),xe.mt&&(Ne.mt=xe.mt),xe.ct&&(Ne.ct=xe.ct)),Ne}function Ys(te,Ce){P(te);var ge=un.find(te,Ce);if(ge){for(var xe=0;xe<te.FileIndex.length;++xe)if(te.FileIndex[xe]==ge)return te.FileIndex.splice(xe,1),te.FullPaths.splice(xe,1),!0}return!1}function Pr(te,Ce,ge){P(te);var xe=un.find(te,Ce);if(xe){for(var we=0;we<te.FileIndex.length;++we)if(te.FileIndex[we]==xe)return te.FileIndex[we].name=i(ge),te.FullPaths[we]=ge,!0}return!1}function ci(te){O(te,!0)}return e.find=B,e.read=q,e.parse=h,e.write=Pe,e.writeFile=Se,e.utils={cfb_new:co,cfb_add:ps,cfb_del:Ys,cfb_mov:Pr,cfb_gc:ci,ReadShift:Px,CheckField:MD,prep_blob:fa,bconcat:Vs,use_zlib:I,_deflateRaw:je,_inflateRaw:yr,consts:le},e})();function mJ(n){return typeof n=="string"?y5(n):Array.isArray(n)?zK(n):n}function Gy(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=y5(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?nf(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([mJ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(n);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=c0(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function gJ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function Hi(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function fR(n,e){for(var t=[],r=Hi(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function _5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function w5(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function vJ(n){for(var e=[],t=Hi(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Cw=new Date(1899,11,30,0,0,0);function Rs(n,e){var t=n.getTime(),r=Cw.getTime()+(n.getTimezoneOffset()-Cw.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var hD=new Date,xJ=Cw.getTime()+(hD.getTimezoneOffset()-Cw.getTimezoneOffset())*6e4,hR=hD.getTimezoneOffset();function A5(n){var e=new Date;return e.setTime(n*24*60*60*1e3+xJ),e.getTimezoneOffset()!==hR&&e.setTime(e.getTime()+(e.getTimezoneOffset()-hR)*6e4),e}function yJ(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var dR=new Date("2017-02-19T19:06:09.000Z"),dD=isNaN(dR.getFullYear())?new Date("2/19/17"):dR,bJ=dD.getFullYear()==2017;function oi(n,e){var t=new Date(n);if(bJ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(dD.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function pm(n,e){if(qn&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return nf(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return nf(eD(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return nf(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return nf(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function li(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=li(n[t]));return e}function Bi(n,e){for(var t="";t.length<e;)t+=n;return t}function ru(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var _J=["january","february","march","april","may","june","july","august","september","october","november","december"];function ov(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&_J.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var wJ=(function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var s=t.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function pD(n){return n?n.content&&n.type?pm(n.content,!0):n.data?Cx(n.data):n.asNodeBuffer&&qn?Cx(n.asNodeBuffer().toString("binary")):n.asBinary?Cx(n.asBinary()):n._data&&n._data.getContent?Cx(pm(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function mD(n){if(!n)return null;if(n.data)return tR(n.data);if(n.asNodeBuffer&&qn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?tR(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function AJ(n){return n&&n.name.slice(-4)===".bin"?mD(n):pD(n)}function Vl(n,e){for(var t=n.FullPaths||Hi(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return n.files?n.files[t[s]]:n.FileIndex[s]}return null}function T4(n,e){var t=Vl(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function us(n,e,t){if(!t)return AJ(T4(n,e));if(!e)return null;try{return us(n,e)}catch{return null}}function bl(n,e,t){if(!t)return pD(T4(n,e));if(!e)return null;try{return bl(n,e)}catch{return null}}function SJ(n,e,t){return mD(T4(n,e))}function pR(n){for(var e=n.FullPaths||Hi(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function On(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return qn?r=Lh(t):r=jK(t),un.utils.cfb_add(n,e,r)}un.utils.cfb_add(n,e,t)}else n.file(e,t)}function C4(){return un.utils.cfb_new()}function gD(n,e){switch(e.type){case"base64":return un.read(n,{type:"base64"});case"binary":return un.read(n,{type:"binary"});case"buffer":case"array":return un.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Nx(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,mR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,TJ=/<[^>]*>/g,Ua=es.match(mR)?mR:TJ,CJ=/<\w*:/,kJ=/<(\/?)\w+:/;function wn(n,e,t){for(var r={},i=0,s=0;i!==n.length&&!((s=n.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var a=n.match(EJ),o=0,c="",f=0,h="",p="",g=1;if(a)for(f=0;f!=a.length;++f){for(p=a[f],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(h=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(g=(i=p.charCodeAt(s+1))==34||i==39?1:0,c=p.slice(s+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=c,r[h.toLowerCase()]=c;else{var m=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(r[m]&&h.slice(o-3,o)=="ext")continue;r[m]=c,r[m.toLowerCase()]=c}}return r}function cf(n){return n.replace(kJ,"<$1")}var vD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},k4=_5(vD),fr=(function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(n,function(o,c){return vD[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}})(),N4=/[&<>'"]/g,NJ=/[\u0000-\u0008\u000b-\u001f]/g;function Dr(n){var e=n+"";return e.replace(N4,function(t){return k4[t]}).replace(NJ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function gR(n){return Dr(n).replace(/ /g,"_x0020_")}var xD=/[\u0000-\u001f]/g;function R4(n){var e=n+"";return e.replace(N4,function(t){return k4[t]}).replace(/\n/g,"<br/>").replace(xD,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function RJ(n){var e=n+"";return e.replace(N4,function(t){return k4[t]}).replace(xD,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var vR=(function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}})();function LJ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function si(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ES(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function xR(n){var e=n0(2*n.length),t,r,i=1,s=0,a=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function yR(n){return Lh(n,"binary").toString("utf8")}var l_="foo bar baz",qr=qn&&(yR(l_)==ES(l_)&&yR||xR(l_)==ES(l_)&&xR)||ES,nf=qn?function(n){return Lh(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},n2=(function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}})(),yD=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),IJ=(function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),MJ=/<\/?(?:vt:)?variant>/g,FJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function bR(n,e){var t=wn(n),r=n.match(IJ(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(s){var a=s.replace(MJ,"").match(FJ);a&&i.push({v:qr(a[2]),t:a[1]})}),i}var bD=/(^\s|\s$|\n)/;function ha(n,e){return"<"+n+(e.match(bD)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function r2(n){return Hi(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function wt(n,e,t){return"<"+n+(t!=null?r2(t):"")+(e!=null?(e.match(bD)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function RT(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function DJ(n,e){switch(typeof n){case"string":var t=wt("vt:lpwstr",Dr(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return wt((n|0)==n?"vt:i4":"vt:r8",Dr(String(n)));case"boolean":return wt("vt:bool",n?"true":"false")}if(n instanceof Date)return wt("vt:filetime",RT(n));throw new Error("Unable to serialize "+n)}function L4(n){if(qn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return qr(c0(A4(n)));throw new Error("Bad input format: expected Buffer or string")}var i2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ks={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Sm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ml={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function PJ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function OJ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)n[t+o]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var _R=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},wR=qn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Lh(e)})):_R(n)}:_R,AR=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(vh(n,i)));return r.join("").replace(io,"")},I4=qn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(io,""):AR(n,e,t)}:AR,SR=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},_D=qn?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):SR(n,e,t)}:SR,ER=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Dg(n,i)));return r.join("")},qy=qn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):ER(e,t,r)}:ER,wD=function(n,e){var t=gl(n,e);return t>0?qy(n,e+4,e+4+t-1):""},AD=wD,SD=function(n,e){var t=gl(n,e);return t>0?qy(n,e+4,e+4+t-1):""},ED=SD,TD=function(n,e){var t=2*gl(n,e);return t>0?qy(n,e+4,e+4+t-1):""},CD=TD,kD=function(e,t){var r=gl(e,t);return r>0?I4(e,t+4,t+4+r):""},ND=kD,RD=function(n,e){var t=gl(n,e);return t>0?qy(n,e+4,e+4+t):""},LD=RD,ID=function(n,e){return PJ(n,e)},kw=ID,M4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};qn&&(AD=function(e,t){if(!Buffer.isBuffer(e))return wD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},ED=function(e,t){if(!Buffer.isBuffer(e))return SD(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},CD=function(e,t){if(!Buffer.isBuffer(e))return TD(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},ND=function(e,t){if(!Buffer.isBuffer(e))return kD(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},LD=function(e,t){if(!Buffer.isBuffer(e))return RD(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},kw=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):ID(e,t)},M4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Dg=function(n,e){return n[e]},vh=function(n,e){return n[e+1]*256+n[e]},BJ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},gl=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},X0=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},UJ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Px(n,e){var t="",r,i,s=[],a,o,c,f;switch(e){case"dbcs":if(f=this.l,qn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(vh(this,f)),f+=2;n*=2;break;case"utf8":t=qy(this,this.l,this.l+n);break;case"utf16le":n*=2,t=I4(this,this.l,this.l+n);break;case"wstr":return Px.call(this,n,"dbcs");case"lpstr-ansi":t=AD(this,this.l),n=4+gl(this,this.l);break;case"lpstr-cp":t=ED(this,this.l),n=4+gl(this,this.l);break;case"lpwstr":t=CD(this,this.l),n=4+2*gl(this,this.l);break;case"lpp4":n=4+gl(this,this.l),t=ND(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+gl(this,this.l),t=LD(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=Dg(this,this.l+n++))!==0;)s.push(o_(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=vh(this,this.l+n))!==0;)s.push(o_(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",f=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=Dg(this,f),this.l=f+1,o=Px.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(o_(vh(this,f))),f+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=Dg(this,f),this.l=f+1,o=Px.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(o_(Dg(this,f))),f+=1}t=s.join("");break;default:switch(n){case 1:return r=Dg(this,this.l),this.l++,r;case 2:return r=(e==="i"?BJ:vh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?X0:UJ)(this,this.l),this.l+=4,r):(i=gl(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=kw(this,this.l):i=kw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=_D(this,this.l,n);break}}return this.l+=n,t}var HJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},zJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},jJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function GJ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)jJ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,HJ(this,e,this.l);break;case 8:if(r=8,t==="f"){OJ(this,e,this.l);break}case 16:break;case-4:r=4,zJ(this,e,this.l);break}return this.l+=r,this}function MD(n,e){var t=_D(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function fa(n,e){n.l=e,n.read_shift=Px,n.chk=MD,n.write_shift=GJ}function Ba(n,e){n.l+=e}function at(n){var e=n0(n);return fa(e,0),e}function Ih(n,e,t){if(n){var r,i,s;fa(n,n.l||0);for(var a=n.length,o=0,c=0;n.l<a;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var f=u2[o]||u2[65535];for(r=n.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=n.read_shift(1))&127)<<7*i;c=n.l+s;var h=f.f&&f.f(n,s,t);if(n.l=c,e(h,f,o))return}}}function Po(){var n=[],e=qn?256:2048,t=function(f){var h=at(f);return fa(h,0),h},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(f){return r&&f<r.length-r.l?r:(i(),r=t(Math.max(f+1,e)))},a=function(){return i(),Vs(n)},o=function(f){i(),r=f,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:n}}function gt(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=u2[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=n.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&M4(t)&&n.push(t)}}function Ox(n,e,t){var r=li(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function TR(n,e,t){var r=li(n);return r.s=Ox(r.s,e.s,t),r.e=Ox(r.e,e.s,t),r}function Bx(n,e){if(n.cRel&&n.c<0)for(n=li(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=li(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=_n(n);return!n.cRel&&n.cRel!=null&&(t=WJ(t)),!n.rRel&&n.rRel!=null&&(t=qJ(t)),t}function TS(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ti(n.s.c)+":"+(n.e.cRel?"":"$")+Ti(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Zi(n.s.r)+":"+(n.e.rRel?"":"$")+Zi(n.e.r):Bx(n.s,e.biff)+":"+Bx(n.e,e.biff)}function F4(n){return parseInt(VJ(n),10)-1}function Zi(n){return""+(n+1)}function qJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VJ(n){return n.replace(/\$(\d+)$/,"$1")}function D4(n){for(var e=XJ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ti(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function WJ(n){return n.replace(/^([A-Z])/,"$$$1")}function XJ(n){return n.replace(/^\$([A-Z])/,"$1")}function YJ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ci(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function _n(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Bo(n){var e=n.indexOf(":");return e==-1?{s:Ci(n),e:Ci(n)}:{s:Ci(n.slice(0,e)),e:Ci(n.slice(e+1))}}function Dn(n,e){return typeof e>"u"||typeof e=="number"?Dn(n.s,n.e):(typeof n!="string"&&(n=_n(n)),typeof e!="string"&&(e=_n(e)),n==e?n:n+":"+e)}function dr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function CR(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=oc(n.z,t?Rs(e):e)}catch{}try{return n.w=oc((n.XF||{}).numFmtId||(t?14:0),t?Rs(e):e)}catch{return""+e}}function Th(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Mh[n.v]||n.v:e==null?CR(n,n.v):CR(n,e))}function u0(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function FD(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=dr(s["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(f.e.r=a=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},b=a+p,_=o+g;if(f.s.r>b&&(f.s.r=b),f.s.c>_&&(f.s.c=_),f.e.r<b&&(f.e.r=b),f.e.c<_&&(f.e.c=_),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||bn[14],r.cellDates?(m.t="d",m.w=oc(m.z,Rs(m.v))):(m.t="n",m.v=Rs(m.v),m.w=oc(m.z,m.v))):m.t="s";if(i)s[b]||(s[b]=[]),s[b][_]&&s[b][_].z&&(m.z=s[b][_].z),s[b][_]=m;else{var w=_n({c:_,r:b});s[w]&&s[w].z&&(m.z=s[w].z),s[w]=m}}}return f.s.c<1e7&&(s["!ref"]=Dn(f)),s}function gv(n,e){return FD(null,n,e)}function $J(n){return n.read_shift(4,"i")}function iu(n,e){return e||(e=at(4)),e.write_shift(4,n),e}function Oa(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Ws(n,e){var t=!1;return e==null&&(t=!0,e=at(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function KJ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function JJ(n,e){return e||(e=at(4)),e.write_shift(2,0),e.write_shift(2,0),e}function P4(n,e){var t=n.l,r=n.read_shift(1),i=Oa(n),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=n.read_shift(4),c=0;c!=o;++c)s.push(KJ(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}function ZJ(n,e){var t=!1;return e==null&&(t=!0,e=at(15+4*n.t.length)),e.write_shift(1,0),Ws(n.t,e),t?e.slice(0,e.l):e}var QJ=P4;function eZ(n,e){var t=!1;return e==null&&(t=!0,e=at(23+4*n.t.length)),e.write_shift(1,1),Ws(n.t,e),e.write_shift(4,1),JJ({},e),t?e.slice(0,e.l):e}function lc(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Em(n,e){return e==null&&(e=at(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Tm(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Cm(n,e){return e==null&&(e=at(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var tZ=Oa,DD=Ws;function O4(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Nw(n,e){var t=!1;return e==null&&(t=!0,e=at(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var nZ=Oa,LT=O4,B4=Nw;function U4(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?kw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):X0(e,0)>>2;return t?i/100:i}function PD(n,e){e==null&&(e=at(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function OD(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function rZ(n,e){return e||(e=at(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var km=OD,vv=rZ;function Da(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function mm(n,e){return(e||at(8)).write_shift(8,n,"f")}function iZ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),o=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=rm[i];f&&(e.rgb=a2(f));break;case 2:e.rgb=a2([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Rw(n,e){if(e||(e=at(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function sZ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function aZ(n,e){e||(e=at(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function BD(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function oZ(n){return BD(n,1)}function lZ(n){return BD(n,2)}var H4=2,Do=3,c_=11,kR=12,Lw=19,u_=64,cZ=65,uZ=71,fZ=4108,hZ=4126,Gs=80,UD=81,dZ=[Gs,UD],IT={1:{n:"CodePage",t:H4},2:{n:"Category",t:Gs},3:{n:"PresentationFormat",t:Gs},4:{n:"ByteCount",t:Do},5:{n:"LineCount",t:Do},6:{n:"ParagraphCount",t:Do},7:{n:"SlideCount",t:Do},8:{n:"NoteCount",t:Do},9:{n:"HiddenCount",t:Do},10:{n:"MultimediaClipCount",t:Do},11:{n:"ScaleCrop",t:c_},12:{n:"HeadingPairs",t:fZ},13:{n:"TitlesOfParts",t:hZ},14:{n:"Manager",t:Gs},15:{n:"Company",t:Gs},16:{n:"LinksUpToDate",t:c_},17:{n:"CharacterCount",t:Do},19:{n:"SharedDoc",t:c_},22:{n:"HyperlinksChanged",t:c_},23:{n:"AppVersion",t:Do,p:"version"},24:{n:"DigSig",t:cZ},26:{n:"ContentType",t:Gs},27:{n:"ContentStatus",t:Gs},28:{n:"Language",t:Gs},29:{n:"Version",t:Gs},255:{},2147483648:{n:"Locale",t:Lw},2147483651:{n:"Behavior",t:Lw},1919054434:{}},MT={1:{n:"CodePage",t:H4},2:{n:"Title",t:Gs},3:{n:"Subject",t:Gs},4:{n:"Author",t:Gs},5:{n:"Keywords",t:Gs},6:{n:"Comments",t:Gs},7:{n:"Template",t:Gs},8:{n:"LastAuthor",t:Gs},9:{n:"RevNumber",t:Gs},10:{n:"EditTime",t:u_},11:{n:"LastPrinted",t:u_},12:{n:"CreatedDate",t:u_},13:{n:"ModifiedDate",t:u_},14:{n:"PageCount",t:Do},15:{n:"WordCount",t:Do},16:{n:"CharCount",t:Do},17:{n:"Thumbnail",t:uZ},18:{n:"Application",t:Gs},19:{n:"DocSecurity",t:Do},255:{},2147483648:{n:"Locale",t:Lw},2147483651:{n:"Behavior",t:Lw},1919054434:{}},NR={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mZ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var gZ=mZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rm=li(gZ),Mh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},FT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},f_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function z4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vZ(n){var e=z4();if(!n||!n.match)return e;var t={};if((n.match(Ua)||[]).forEach(function(r){var i=wn(r);switch(i[0].replace(CJ,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[FT[i.ContentType]]!==void 0&&e[FT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ks.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function zD(n,e){var t=vJ(FT),r=[],i;r[r.length]=es,r[r.length]=wt("Types",null,{xmlns:ks.CT,"xmlns:xsd":ks.xsd,"xmlns:xsi":ks.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return wt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){n[c]&&n[c].length>0&&(i=n[c][0],r[r.length]=wt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:f_[c][e.bookType]||f_[c].xlsx}))},a=function(c){(n[c]||[]).forEach(function(f){r[r.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:f_[c][e.bookType]||f_[c].xlsx})})},o=function(c){(n[c]||[]).forEach(function(f){r[r.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Xn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function s2(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Ux(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Ua)||[]).forEach(function(i){var s=wn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Nx(s.Target,e);t[o]=a,r[s.Id]=a}}),t["!id"]=r,t}function Jg(n){var e=[es,wt("Relationships",null,{xmlns:ks.RELS})];return Hi(n["!id"]).forEach(function(t){e[e.length]=wt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Mr(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Xn.HLINK,Xn.XPATH,Xn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}var xZ="application/vnd.oasis.opendocument.spreadsheet";function yZ(n,e){for(var t=L4(n),r,i;r=i2.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=wn(r[0],!1),i.path=="/"&&i.type!==xZ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function bZ(n){var e=[es];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function RR(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function _Z(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function wZ(n){var e=[es];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(RR(n[t][0],n[t][1])),e.push(_Z("",n[t][0]));return e.push(RR("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function jD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Aw.version+"</meta:generator></office:meta></office:document-meta>"}var rc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],AZ=(function(){for(var n=new Array(rc.length),e=0;e<rc.length;++e){var t=rc[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n})();function GD(n){var e={};n=qr(n);for(var t=0;t<rc.length;++t){var r=rc[t],i=n.match(AZ[t]);i!=null&&i.length>0&&(e[r[1]]=fr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=oi(e[r[1]]))}return e}function CS(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Dr(e),r[r.length]=t?wt(n,e,t):ha(n,e))}function qD(n,e){var t=e||{},r=[es,wt("cp:coreProperties",null,{"xmlns:cp":ks.CORE_PROPS,"xmlns:dc":ks.dc,"xmlns:dcterms":ks.dcterms,"xmlns:dcmitype":ks.dcmitype,"xmlns:xsi":ks.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&CS("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:RT(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&CS("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:RT(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=rc.length;++s){var a=rc[s],o=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:n?n[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&CS(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var im=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],VD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function WD(n,e,t,r){var i=[];if(typeof n=="string")i=bR(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(h){return{v:h}}));var a=typeof e=="string"?bR(e,r).map(function(h){return h.v}):e,o=0,c=0;if(a.length>0)for(var f=0;f!==i.length;f+=2){switch(c=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=c,t.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=a.slice(o,o+c);break}o+=c}}function SZ(n,e,t){var r={};return e||(e={}),n=qr(n),im.forEach(function(i){var s=(n.match(n2(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=fr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&WD(r.HeadingPairs,r.TitlesOfParts,e,t),e}function XD(n){var e=[],t=wt;return n||(n={}),n.Application="SheetJS",e[e.length]=es,e[e.length]=wt("Properties",null,{xmlns:ks.EXT_PROPS,"xmlns:vt":ks.vt}),im.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Dr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Dr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var EZ=/<[^>]+>[^<]*/g;function TZ(n,e){var t={},r="",i=n.match(EZ);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=wn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=fr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),f=c[0].slice(4),h=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":t[r]=fr(h);break;case"bool":t[r]=si(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(h);break;case"filetime":case"date":t[r]=oi(h);break;case"cy":case"error":t[r]=fr(h);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}function YD(n){var e=[es,wt("Properties",null,{xmlns:ks.CUST_PROPS,"xmlns:vt":ks.vt})];if(!n)return e.join("");var t=1;return Hi(n).forEach(function(i){++t,e[e.length]=wt("property",DJ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Dr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var DT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},kS;function CZ(n,e,t){kS||(kS=_5(DT)),e=kS[e]||e,n[e]=t}function kZ(n,e){var t=[];return Hi(DT).map(function(r){for(var i=0;i<rc.length;++i)if(rc[i][1]==r)return rc[i];for(i=0;i<im.length;++i)if(im[i][1]==r)return im[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(ha(DT[r[1]]||r[1],i))}}),wt("DocumentProperties",t.join(""),{xmlns:ml.o})}function NZ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Hi(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<rc.length;++a)if(s==rc[a][1])return;for(a=0;a<im.length;++a)if(s==im[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var o=n[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(wt(gR(s),o,{"dt:dt":c}))}}),e&&Hi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(wt(gR(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+ml.o+'">'+i.join("")+"</"+r+">"}function j4(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function RZ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=at(8);return a.write_shift(4,r),a.write_shift(4,i),a}function $D(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function KD(n,e,t){var r=n.read_shift(0,"lpwstr");return r}function JD(n,e,t){return e===31?KD(n):$D(n,e,t)}function PT(n,e,t){return JD(n,e,t===!1?0:4)}function LZ(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return JD(n,e,0)}function IZ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(io,""),n.l-i&2&&(n.l+=2)}return t}function MZ(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(io,"");return t}function FZ(n){var e=n.l,t=Iw(n,UD);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=Iw(n,Do);return[t,r]}function DZ(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(FZ(n));return t}function LR(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var s=n.read_shift(4),a=n.read_shift(4);r[s]=n.read_shift(a,e===1200?"utf16le":"utf8").replace(io,"").replace(kx,"!"),e===1200&&a%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function ZD(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function PZ(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function Iw(n,e,t){var r=n.read_shift(2),i,s=t||{};if(n.l+=2,e!==kR&&r!==e&&dZ.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===kR?r:e){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return $D(n,r,4).replace(io,"");case 31:return KD(n);case 64:return j4(n);case 65:return ZD(n);case 71:return PZ(n);case 80:return PT(n,r,!s.raw).replace(io,"");case 81:return LZ(n,r).replace(io,"");case 4108:return DZ(n);case 4126:case 4127:return r==4127?IZ(n):MZ(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function IR(n,e){var t=at(4),r=at(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=at(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=RZ(e);break;case 31:case 80:for(r=at(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Vs([t,r])}function MR(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0,o=0,c=-1,f={};for(a=0;a!=i;++a){var h=n.read_shift(4),p=n.read_shift(4);s[a]=[h,p+t]}s.sort(function(L,R){return L[1]-R[1]});var g={};for(a=0;a!=i;++a){if(n.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:n.l+2===s[a][1]&&(n.l+=2,m=!1);break;case 80:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break;case 4108:n.l<=s[a][1]&&(n.l=s[a][1],m=!1);break}if((!e||a==0)&&n.l<=s[a][1]&&(m=!1,n.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+n.l+" :"+a)}if(e){var b=e[s[a][0]];if(g[b.n]=Iw(n,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zc(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(s[a][0]===1){if(o=g.CodePage=Iw(n,H4),Zc(o),c!==-1){var _=n.l;n.l=s[c][1],f=LR(n,o),n.l=_}}else if(s[a][0]===0){if(o===0){c=a,n.l=s[a+1][1];continue}f=LR(n,o)}else{var w=f[s[a][0]],T;switch(n[n.l]){case 65:n.l+=4,T=ZD(n);break;case 30:n.l+=4,T=PT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,T=PT(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,T=n.read_shift(4,"i");break;case 19:n.l+=4,T=n.read_shift(4);break;case 5:n.l+=4,T=n.read_shift(8,"f");break;case 11:n.l+=4,T=Wi(n,4);break;case 64:n.l+=4,T=oi(j4(n));break;default:throw new Error("unparsed value: "+n[n.l])}g[w]=T}}return n.l=t+r,g}var QD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function OZ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function FR(n,e,t){var r=at(8),i=[],s=[],a=8,o=0,c=at(8),f=at(8);if(c.write_shift(4,2),c.write_shift(4,1200),f.write_shift(4,1),s.push(c),i.push(f),a+=8+c.length,!e){f=at(8),f.write_shift(4,0),i.unshift(f);var h=[at(4)];for(h[0].write_shift(4,n.length),o=0;o<n.length;++o){var p=n[o][0];for(c=at(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Vs(h),s.unshift(c),a+=8+c.length}for(o=0;o<n.length;++o)if(!(e&&!e[n[o][0]])&&!(QD.indexOf(n[o][0])>-1||VD.indexOf(n[o][0])>-1)&&n[o][1]!=null){var g=n[o][1],m=0;if(e){m=+e[n[o][0]];var b=t[m];if(b.p=="version"&&typeof g=="string"){var _=g.split(".");g=(+_[0]<<16)+(+_[1]||0)}c=IR(b.t,g)}else{var w=OZ(g);w==-1&&(w=31,g=String(g)),c=IR(w,g)}s.push(c),f=at(8),f.write_shift(4,e?m:2+o),i.push(f),a+=8+c.length}var T=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,T),T+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Vs([r].concat(i).concat(s))}function DR(n,e,t){var r=n.content;if(!r)return{};fa(r,0);var i,s,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),h=r.read_shift(16);if(h!==un.utils.consts.HEADER_CLSID&&h!==t)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),c=r.read_shift(4));var p=MR(r,e),g={SystemIdentifier:f};for(var m in p)g[m]=p[m];if(g.FMTID=s,i===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var b;try{b=MR(r,null)}catch{}for(m in b)g[m]=b[m];return g.FMTID=[s,a],g}function PR(n,e,t,r,i,s){var a=at(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,un.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var c=FR(n,t,r);if(o.push(c),i){var f=FR(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),o.push(f)}return Vs(o)}function gd(n,e){return n.read_shift(e),null}function BZ(n,e){e||(e=at(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function UZ(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Wi(n,e){return n.read_shift(e)===1}function no(n,e){return e||(e=at(2)),e.write_shift(2,+!!n),e}function fs(n){return n.read_shift(2,"u")}function Ql(n,e){return e||(e=at(2)),e.write_shift(2,n),e}function eP(n,e){return UZ(n,e,fs)}function HZ(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function tP(n,e,t){return t||(t=at(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function Vy(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return a}function zZ(n){var e=n.read_shift(2),t=n.read_shift(1),r=t&4,i=t&8,s=1+(t&1),a=0,o,c={};i&&(a=n.read_shift(2)),r&&(o=n.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":n.read_shift(e,f);return i&&(n.l+=4*a),r&&(n.l+=o),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function jZ(n){var e=n.t||"",t=at(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=at(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Vs(i)}function gm(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Wy(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):gm(n,r,t)}function Nm(n,e,t){if(t.biff>5)return Wy(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function nP(n,e,t){return t||(t=at(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function GZ(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function qZ(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(io,"");return r&&(n.l+=24),i}function VZ(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var s=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=n.read_shift(s>>1,"utf16le").replace(io,"");return t+a}function WZ(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return qZ(n);case"0303000000000000c000000000000046":return VZ(n);default:throw new Error("Unsupported Moniker "+t)}}function h_(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(io,""):"";return t}function OR(n,e){e||(e=at(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function XZ(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,a,o,c,f="",h,p;i&16&&(s=h_(n,t-n.l)),i&128&&(a=h_(n,t-n.l)),(i&257)===257&&(o=h_(n,t-n.l)),(i&257)===1&&(c=WZ(n,t-n.l)),i&8&&(f=h_(n,t-n.l)),i&32&&(h=n.read_shift(16)),i&64&&(p=j4(n)),n.l=t;var g=a||o||c||"";g&&f&&(g+="#"+f),g||(g="#"+f),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return h&&(m.guid=h),p&&(m.time=p),s&&(m.Tooltip=s),m}function YZ(n){var e=at(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)r=r.slice(1),OR(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),s&8&&OR(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),t=0;t<r.length-3*c;++t)e.write_shift(1,r.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function rP(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function iP(n,e){var t=rP(n);return t[3]=0,t}function uf(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function vm(n,e,t,r){return r||(r=at(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function $Z(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function KZ(n,e,t){return e===0?"":Nm(n,e,t)}function JZ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[i,s,a]}function sP(n){var e=n.read_shift(2),t=U4(n);return[e,t]}function ZZ(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=Vy(n,e,t),s=n.read_shift(2);if(r-=n.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}function S5(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function aP(n,e){return e||(e=at(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function oP(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var QZ=oP;function lP(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function eQ(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function tQ(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function wa(n){n.l+=2,n.l+=n.read_shift(2)}var nQ={0:wa,4:wa,5:wa,6:wa,7:tQ,8:wa,9:wa,10:wa,11:wa,12:wa,13:eQ,14:wa,15:wa,16:wa,17:wa,18:wa,19:wa,20:wa,21:lP};function rQ(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(nQ[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function d_(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function G4(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=at(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function iQ(n,e){return e===0||n.read_shift(2),1200}function sQ(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=Nm(n,0,t);return n.read_shift(e+r-n.l),i}function aQ(n,e){var t=!e||e.biff==8,r=at(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function oQ(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function lQ(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Vy(n,0,t);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function cQ(n,e){var t=!e||e.biff>=8?2:1,r=at(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function uQ(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0;a!=i&&n.l<t;++a)s.push(zZ(n));return s.Count=r,s.Unique=i,s}function fQ(n,e){var t=at(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=jZ(n[i]);var s=Vs([t].concat(r));return s.parts=[t.length].concat(r.map(function(a){return a.length})),s}function hQ(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function dQ(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function pQ(n){var e=$Z(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function mQ(n){return n.read_shift(2),n.read_shift(4)}function BR(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function gQ(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),c=n.read_shift(2),f=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:f}}function vQ(){var n=at(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function xQ(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function yQ(n){var e=at(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function bQ(){}function _Q(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=Vy(n,0,t),r}function wQ(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=at(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function AQ(n){var e=uf(n);return e.isst=n.read_shift(4),e}function SQ(n,e,t,r){var i=at(10);return vm(n,e,r,i),i.write_shift(4,t),i}function EQ(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=uf(n);t.biff==2&&n.l++;var s=Wy(n,r-n.l,t);return i.val=s,i}function TQ(n,e,t,r,i){var s=!i||i.biff==8,a=at(8+ +s+(1+s)*t.length);return vm(n,e,r,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function CQ(n,e,t){var r=n.read_shift(2),i=Nm(n,0,t);return[r,i]}function kQ(n,e,t,r){var i=t&&t.biff==5;r||(r=at(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var NQ=Nm;function UR(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,s=n.read_shift(i),a=n.read_shift(i),o=n.read_shift(2),c=n.read_shift(2);return n.l=r,{s:{r:s,c:o},e:{r:a,c}}}function RQ(n,e){var t=e.biff==8||!e.biff?4:2,r=at(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function LQ(n){var e=n.read_shift(2),t=n.read_shift(2),r=sP(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function IQ(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(sP(n));if(n.l!==t)throw new Error("MulRK read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function MQ(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function FQ(n,e,t,r){var i={},s=n.read_shift(4),a=n.read_shift(4),o=n.read_shift(4),c=n.read_shift(2);return i.patternType=pZ[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function DQ(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=FQ(n,e,r.fStyle,t),r}function HR(n,e,t,r){var i=t&&t.biff==5;r||(r=at(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function PQ(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function OQ(n){var e=at(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function zR(n,e,t){var r=uf(n);(t.biff==2||e==9)&&++n.l;var i=HZ(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function BQ(n,e,t,r,i,s){var a=at(8);return vm(n,e,r,a),tP(t,s,a),a}function UQ(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=uf(n),i=Da(n);return r.val=i,r}function HQ(n,e,t,r){var i=at(14);return vm(n,e,r,i),mm(t,i),i}var jR=KZ;function zQ(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=gm(n,s),o=[];r>n.l;)o.push(Wy(n));return[s,i,a,o]}function GR(n,e,t){var r=n.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=ZZ(n,e-2,t)),s.body=i||n.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var jQ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qR(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(1),a=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),c=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var f=gm(n,a,t);i&32&&(f=jQ[f.charCodeAt(0)]);var h=r-n.l;t&&t.biff==2&&--h;var p=r==n.l||o===0||!(h>0)?[]:rie(n,h,t,o);return{chKey:s,Name:f,itab:c,rgce:p}}function cP(n,e,t){if(t.biff<8)return GQ(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(JZ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function GQ(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=Vy(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function qQ(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),s=gm(n,r,t),a=gm(n,i,t);return[s,a]}function VQ(n,e,t){var r=oP(n);n.l++;var i=n.read_shift(1);return e-=8,[iie(n,e,t),i,r]}function VR(n,e,t){var r=QZ(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,tie(n,e,t)]}function WQ(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function XQ(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),o=Nm(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},o,a,s]}}function YQ(n,e,t){return XQ(n,e,t)}function $Q(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(S5(n));return t}function KQ(n){var e=at(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)aP(n[t],e);return e}function JQ(n,e,t){if(t&&t.biff<8)return QQ(n,e,t);var r=lP(n),i=rQ(n,e-22,r[1]);return{cmo:r,ft:i}}var ZQ={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function QQ(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var a=[];return a.push((ZQ[r]||Ba)(n,e,t)),{cmo:[i,r,s],ft:a}}function eee(n,e,t){var r=n.l,i="";try{n.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?n.l+=6:a=GZ(n,6,t);var o=n.read_shift(2);n.read_shift(2),fs(n,2);var c=n.read_shift(2);n.l+=c;for(var f=1;f<n.lens.length-1;++f){if(n.l-r!=n.lens[f])throw new Error("TxO: bad continue record");var h=n[n.l],p=gm(n,n.lens[f+1]-n.lens[f]-1);if(i+=p,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function tee(n,e){var t=S5(n);n.l+=16;var r=XZ(n,e-24);return[t,r]}function nee(n){var e=at(24),t=Ci(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Vs([e,YZ(n[1])])}function ree(n,e){n.read_shift(2);var t=S5(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(io,""),[t,r]}function iee(n){var e=n[1].Tooltip,t=at(10+2*(e.length+1));t.write_shift(2,2048);var r=Ci(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function see(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=NR[t]||t,t=n.read_shift(2),e[1]=NR[t]||t,e}function aee(n){return n||(n=at(4)),n.write_shift(2,1),n.write_shift(2,1),n}function oee(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(iP(n));return t}function lee(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(iP(n));return t}function cee(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function uP(n,e,t){if(!t.cellStyles)return Ba(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),a=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var f={s:i,e:s,w:a,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(f.level=c>>8&7),f}function uee(n,e){var t=at(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function fee(n,e){var t={};return e<32||(n.l+=16,t.header=Da(n),t.footer=Da(n),n.l+=2),t}function hee(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}function dee(n){for(var e=at(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}var pee=uf,mee=eP,gee=Wy;function vee(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function xee(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=uf(n);++n.l;var i=Nm(n,e-7,t);return r.t="str",r.val=i,r}function yee(n){var e=uf(n);++n.l;var t=Da(n);return e.t="n",e.val=t,e}function bee(n,e,t){var r=at(15);return Ky(r,n,e),r.write_shift(8,t,"f"),r}function _ee(n){var e=uf(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function wee(n,e,t){var r=at(9);return Ky(r,n,e),r.write_shift(2,t),r}function Aee(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function See(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function Eee(n,e,t){var r=n.l+e,i=uf(n),s=n.read_shift(2),a=gm(n,s,t);return n.l=r,i.t="str",i.val=a,i}var Tee=[2,3,48,49,131,139,140,245],OT=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=_5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var f=[],h=n0(1);switch(c.type){case"base64":h=yl(Al(o));break;case"binary":h=yl(o);break;case"buffer":case"array":h=o;break}fa(h,0);var p=h.read_shift(1),g=!!(p&136),m=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var _=0,w=521;p==2&&(_=h.read_shift(2)),h.l+=3,p!=2&&(_=h.read_shift(4)),_>1048576&&(_=1e6),p!=2&&(w=h.read_shift(2));var T=h.read_shift(2),L=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(L=n[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var R=[],F={},z=Math.min(h.length,p==2?521:w-10-(m?264:0)),q=b?32:11;h.l<z&&h[h.l]!=13;)switch(F={},F.name=Qx.utils.decode(L,h.slice(h.l,h.l+q)).replace(/[\u0000\r\n].*$/g,""),h.l+=q,F.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(F.offset=h.read_shift(4)),F.len=h.read_shift(1),p==2&&(F.offset=h.read_shift(2)),F.dec=h.read_shift(1),F.name.length&&R.push(F),p!=2&&(h.l+=b?13:14),F.type){case"B":(!m||F.len!=8)&&c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var P=0,X=0;for(f[0]=[],X=0;X!=R.length;++X)f[0][X]=R[X].name;for(;_-- >0;){if(h[h.l]===42){h.l+=T;continue}for(++h.l,f[++P]=[],X=0,X=0;X!=R.length;++X){var O=h.slice(h.l,h.l+R[X].len);h.l+=R[X].len,fa(O,0);var ee=Qx.utils.decode(L,O);switch(R[X].type){case"C":ee.trim().length&&(f[P][X]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?f[P][X]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):f[P][X]=ee;break;case"F":f[P][X]=parseFloat(ee.trim());break;case"+":case"I":f[P][X]=b?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":f[P][X]=!0;break;case"N":case"F":f[P][X]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[P][X]="##MEMO##"+(b?parseInt(ee.trim(),10):O.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(f[P][X]=+ee||0);break;case"@":f[P][X]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[P][X]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[P][X]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][X]=-O.read_shift(-8,"f");break;case"B":if(m&&R[X].len==8){f[P][X]=O.read_shift(8,"f");break}case"G":case"P":O.l+=R[X].len;break;case"0":if(R[X].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[X].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=R,f}function r(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var h=gv(t(o,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function i(o,c){try{return u0(r(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var f=c||{};if(+f.codepage>=0&&Zc(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Po(),p=Dw(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),b=o["!cols"]||[],_=0,w=0,T=0,L=1;for(_=0;_<g.length;++_){if(((b[_]||{}).DBF||{}).name){g[_]=b[_].DBF.name,++T;continue}if(g[_]!=null){if(++T,typeof g[_]=="number"&&(g[_]=g[_].toString(10)),typeof g[_]!="string")throw new Error("DBF Invalid column name "+g[_]+" |"+typeof g[_]+"|");if(g.indexOf(g[_])!==_){for(w=0;w<1024;++w)if(g.indexOf(g[_]+"_"+w)==-1){g[_]+="_"+w;break}}}}var R=dr(o["!ref"]),F=[],z=[],q=[];for(_=0;_<=R.e.c-R.s.c;++_){var P="",X="",O=0,ee=[];for(w=0;w<m.length;++w)m[w][_]!=null&&ee.push(m[w][_]);if(ee.length==0||g[_]==null){F[_]="?";continue}for(w=0;w<ee.length;++w){switch(typeof ee[w]){case"number":X="B";break;case"string":X="C";break;case"boolean":X="L";break;case"object":X=ee[w]instanceof Date?"D":"C";break;default:X="C"}O=Math.max(O,String(ee[w]).length),P=P&&P!=X?"C":X}O>250&&(O=250),X=((b[_]||{}).DBF||{}).type,X=="C"&&b[_].DBF.len>O&&(O=b[_].DBF.len),P=="B"&&X=="N"&&(P="N",q[_]=b[_].DBF.dec,O=b[_].DBF.len),z[_]=P=="C"||X=="N"?O:s[P]||0,L+=z[_],F[_]=P}var B=h.next(32);for(B.write_shift(4,318902576),B.write_shift(4,m.length),B.write_shift(2,296+32*T),B.write_shift(2,L),_=0;_<4;++_)B.write_shift(4,0);for(B.write_shift(4,0|(+e[QF]||3)<<8),_=0,w=0;_<g.length;++_)if(g[_]!=null){var G=h.next(32),Q=(g[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,Q,"sbcs"),G.write_shift(1,F[_]=="?"?"C":F[_],"sbcs"),G.write_shift(4,w),G.write_shift(1,z[_]||s[F[_]]||0),G.write_shift(1,q[_]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),w+=z[_]||s[F[_]]||0}var ce=h.next(264);for(ce.write_shift(4,13),_=0;_<65;++_)ce.write_shift(4,0);for(_=0;_<m.length;++_){var _e=h.next(L);for(_e.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(F[w]){case"L":_e.write_shift(1,m[_][w]==null?63:m[_][w]?84:70);break;case"B":_e.write_shift(8,m[_][w]||0,"f");break;case"N":var K="0";for(typeof m[_][w]=="number"&&(K=m[_][w].toFixed(q[w]||0)),T=0;T<z[w]-K.length;++T)_e.write_shift(1,32);_e.write_shift(1,K,"sbcs");break;case"D":m[_][w]?(_e.write_shift(4,("0000"+m[_][w].getFullYear()).slice(-4),"sbcs"),_e.write_shift(2,("00"+(m[_][w].getMonth()+1)).slice(-2),"sbcs"),_e.write_shift(2,("00"+m[_][w].getDate()).slice(-2),"sbcs")):_e.write_shift(8,"00000000","sbcs");break;case"C":var le=String(m[_][w]!=null?m[_][w]:"").slice(0,z[w]);for(_e.write_shift(1,le,"sbcs"),T=0;T<z[w]-le.length;++T)_e.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),fP=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,m){var b=n[m];return typeof b=="number"?nR(b):b},r=function(g,m,b){var _=m.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return _==59?g:nR(_)};n["|"]=254;function i(g,m){switch(m.type){case"base64":return s(Al(g),m);case"binary":return s(g,m);case"buffer":return s(qn&&Buffer.isBuffer(g)?g.toString("binary"):c0(g),m);case"array":return s(pm(g),m)}throw new Error("Unrecognized type "+m.type)}function s(g,m){var b=g.split(/[\n\r]+/),_=-1,w=-1,T=0,L=0,R=[],F=[],z=null,q={},P=[],X=[],O=[],ee=0,B;for(+m.codepage>=0&&Zc(+m.codepage);T!==b.length;++T){ee=0;var G=b[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),Q=G.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),ce=Q[0],_e;if(G.length>0)switch(ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&F.push(G.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,le=!1,Se=!1,ve=!1,Pe=-1,ie=-1;for(L=1;L<Q.length;++L)switch(Q[L].charAt(0)){case"A":break;case"X":w=parseInt(Q[L].slice(1))-1,le=!0;break;case"Y":for(_=parseInt(Q[L].slice(1))-1,le||(w=0),B=R.length;B<=_;++B)R[B]=[];break;case"K":_e=Q[L].slice(1),_e.charAt(0)==='"'?_e=_e.slice(1,_e.length-1):_e==="TRUE"?_e=!0:_e==="FALSE"?_e=!1:isNaN(ru(_e))?isNaN(ov(_e).getDate())||(_e=oi(_e)):(_e=ru(_e),z!==null&&pv(z)&&(_e=A5(_e))),K=!0;break;case"E":ve=!0;var I=Zg(Q[L].slice(1),{r:_,c:w});R[_][w]=[R[_][w],I];break;case"S":Se=!0,R[_][w]=[R[_][w],"S5S"];break;case"G":break;case"R":Pe=parseInt(Q[L].slice(1))-1;break;case"C":ie=parseInt(Q[L].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+G)}if(K&&(R[_][w]&&R[_][w].length==2?R[_][w][0]=_e:R[_][w]=_e,z=null),Se){if(ve)throw new Error("SYLK shared formula cannot have own formula");var j=Pe>-1&&R[Pe][ie];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");R[_][w][1]=NP(j[1],{r:_-Pe,c:w-ie})}break;case"F":var U=0;for(L=1;L<Q.length;++L)switch(Q[L].charAt(0)){case"X":w=parseInt(Q[L].slice(1))-1,++U;break;case"Y":for(_=parseInt(Q[L].slice(1))-1,B=R.length;B<=_;++B)R[B]=[];break;case"M":ee=parseInt(Q[L].slice(1))/20;break;case"F":break;case"G":break;case"P":z=F[parseInt(Q[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=Q[L].slice(1).split(" "),B=parseInt(O[0],10);B<=parseInt(O[1],10);++B)ee=parseInt(O[2],10),X[B-1]=ee===0?{hidden:!0}:{wch:ee},r0(X[B-1]);break;case"C":w=parseInt(Q[L].slice(1))-1,X[w]||(X[w]={});break;case"R":_=parseInt(Q[L].slice(1))-1,P[_]||(P[_]={}),ee>0?(P[_].hpt=ee,P[_].hpx=cv(ee)):ee===0&&(P[_].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+G)}U<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+G)}}return P.length>0&&(q["!rows"]=P),X.length>0&&(q["!cols"]=X),m&&m.sheetRows&&(R=R.slice(0,m.sheetRows)),[R,q]}function a(g,m){var b=i(g,m),_=b[0],w=b[1],T=gv(_,m);return Hi(w).forEach(function(L){T[L]=w[L]}),T}function o(g,m){return u0(a(g,m),m)}function c(g,m,b,_){var w="C;Y"+(b+1)+";X"+(_+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+$4(g.f,{r:b,c:_}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(g,m){m.forEach(function(b,_){var w="F;W"+(_+1)+" "+(_+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=o2(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=l2(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,m){m.forEach(function(b,_){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*c2(b.hpx)+";"),w.length>2&&g.push(w+"R"+(_+1))})}function p(g,m){var b=["ID;PWXL;N;E"],_=[],w=dr(g["!ref"]),T,L=Array.isArray(g),R=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var F=w.s.r;F<=w.e.r;++F)for(var z=w.s.c;z<=w.e.c;++z){var q=_n({r:F,c:z});T=L?(g[F]||[])[z]:g[q],!(!T||T.v==null&&(!T.f||T.F))&&_.push(c(T,g,F,z))}return b.join(R)+R+_.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),hP=(function(){function n(s,a){switch(a.type){case"base64":return e(Al(s),a);case"binary":return e(s,a);case"buffer":return e(qn&&Buffer.isBuffer(s)?s.toString("binary"):c0(s),a);case"array":return e(pm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),c=-1,f=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++c]=[],f=0;continue}if(!(c<0)){var g=o[h].trim().split(","),m=g[0],b=g[1];++h;for(var _=o[h]||"";(_.match(/["]/g)||[]).length&1&&h<o.length-1;)_+=`
`+o[++h];switch(_=_.trim(),+m){case-1:if(_==="BOT"){p[++c]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?p[c][f]=!0:_==="FALSE"?p[c][f]=!1:isNaN(ru(b))?isNaN(ov(b).getDate())?p[c][f]=b:p[c][f]=oi(b):p[c][f]=ru(b),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),p[c][f++]=_!==""?_:null;break}if(_==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function t(s,a){return gv(n(s,a),a)}function r(s,a){return u0(t(s,a),a)}var i=(function(){var s=function(c,f,h,p,g){c.push(f),c.push(h+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,f,h,p){c.push(f+","+h),c.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var f=[],h=dr(c["!ref"]),p,g=Array.isArray(c);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,h.e.r-h.s.r+1,""),s(f,"TUPLES",0,h.e.c-h.s.c+1,""),s(f,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var _=_n({r:m,c:b});if(p=g?(c[m]||[])[b]:c[_],!p){a(f,1,0,"");continue}switch(p.t){case"n":var w=p.w;!w&&p.v!=null&&(w=p.v),w==null?p.f&&!p.F?a(f,1,0,"="+p.f):a(f,1,0,""):a(f,0,w,"V");break;case"b":a(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=oc(p.z||bn[14],Rs(oi(p.v)))),a(f,0,p.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var T=`\r
`,L=f.join(T);return L}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),dP=(function(){function n(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,g){for(var m=p.split(`
`),b=-1,_=-1,w=0,T=[];w!==m.length;++w){var L=m[w].trim().split(":");if(L[0]==="cell"){var R=Ci(L[1]);if(T.length<=R.r)for(b=T.length;b<=R.r;++b)T[b]||(T[b]=[]);switch(b=R.r,_=R.c,L[2]){case"t":T[b][_]=n(L[3]);break;case"v":T[b][_]=+L[3];break;case"vtf":var F=L[L.length-1];case"vtc":switch(L[3]){case"nl":T[b][_]=!!+L[4];break;default:T[b][_]=+L[4];break}L[2]=="vtf"&&(T[b][_]=[T[b][_],F])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function r(p,g){return gv(t(p,g),g)}function i(p,g){return u0(r(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],b,_="",w=Bo(p["!ref"]),T=Array.isArray(p),L=w.s.r;L<=w.e.r;++L)for(var R=w.s.c;R<=w.e.c;++R)if(_=_n({r:L,c:R}),b=T?(p[L]||[])[R]:p[_],!(!b||b.v==null||b.t==="z")){switch(m=["cell",_,"t"],b.t){case"s":case"str":m.push(e(b.v));break;case"n":b.f?(m[2]="vtf",m[3]="n",m[4]=b.v,m[5]=e(b.f)):(m[2]="v",m[3]=b.v);break;case"b":m[2]="vt"+(b.f?"f":"c"),m[3]="nl",m[4]=b.v?"1":"0",m[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var F=Rs(oi(b.v));m[2]="vtc",m[3]="nd",m[4]=""+F,m[5]=b.w||oc(b.z||bn[14],F);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[s,a,o,a,f(p),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),lv=(function(){function n(h,p,g,m,b){b.raw?p[g][m]=h:h===""||(h==="TRUE"?p[g][m]=!0:h==="FALSE"?p[g][m]=!1:isNaN(ru(h))?isNaN(ov(h).getDate())?p[g][m]=h:p[g][m]=oi(h):p[g][m]=ru(h))}function e(h,p){var g=p||{},m=[];if(!h||h.length===0)return m;for(var b=h.split(/[\r\n]/),_=b.length-1;_>=0&&b[_].length===0;)--_;for(var w=10,T=0,L=0;L<=_;++L)T=b[L].indexOf(" "),T==-1?T=b[L].length:T++,w=Math.max(w,T);for(L=0;L<=_;++L){m[L]=[];var R=0;for(n(b[L].slice(0,w).trim(),m,L,R,g),R=1;R<=(b[L].length-w)/10+1;++R)n(b[L].slice(w+(R-1)*10,w+R*10).trim(),m,L,R,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var p={},g=!1,m=0,b=0;m<h.length;++m)(b=h.charCodeAt(m))==34?g=!g:!g&&b in t&&(p[b]=(p[b]||0)+1);b=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m]);if(!b.length){p=r;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&b.push([p[m],m])}return b.sort(function(_,w){return _[0]-w[0]||r[_[1]]-r[w[1]]}),t[b.pop()[1]]||44}function s(h,p){var g=p||{},m="",b=g.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):g&&g.FS?m=g.FS:m=i(h.slice(0,1024));var w=0,T=0,L=0,R=0,F=0,z=m.charCodeAt(0),q=!1,P=0,X=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?hJ(g.dateNF):null;function ee(){var B=h.slice(R,F),G={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)G.t="z";else if(g.raw)G.t="s",G.v=B;else if(B.trim().length===0)G.t="s",G.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(G.t="s",G.v=B.slice(2,-1).replace(/""/g,'"')):zne(B)?(G.t="n",G.f=B.slice(1)):(G.t="s",G.v=B);else if(B=="TRUE")G.t="b",G.v=!0;else if(B=="FALSE")G.t="b",G.v=!1;else if(!isNaN(L=ru(B)))G.t="n",g.cellText!==!1&&(G.w=B),G.v=L;else if(!isNaN(ov(B).getDate())||O&&B.match(O)){G.z=g.dateNF||bn[14];var Q=0;O&&B.match(O)&&(B=dJ(B,g.dateNF,B.match(O)||[]),Q=1),g.cellDates?(G.t="d",G.v=oi(B,Q)):(G.t="n",G.v=Rs(oi(B,Q))),g.cellText!==!1&&(G.w=oc(G.z,G.v instanceof Date?Rs(G.v):G.v)),g.cellNF||delete G.z}else G.t="s",G.v=B;if(G.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][T]=G):b[_n({c:T,r:w})]=G),R=F+1,X=h.charCodeAt(R),_.e.c<T&&(_.e.c=T),_.e.r<w&&(_.e.r=w),P==z)++T;else if(T=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;F<h.length;++F)switch(P=h.charCodeAt(F)){case 34:X===34&&(q=!q);break;case z:case 10:case 13:if(!q&&ee())break e;break}return F-R>0&&ee(),b["!ref"]=Dn(_),b}function a(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,p):gv(e(h,p),p)}function o(h,p){var g="",m=p.type=="string"?[0,0,0,0]:rC(h,p);switch(p.type){case"base64":g=Al(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof Qx<"u"||(g=qn&&Buffer.isBuffer(h)?h.toString("binary"):c0(h));break;case"array":g=pm(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=qr(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=qr(g):p.type=="binary"&&typeof Qx<"u",g.slice(0,19)=="socialcalc:version:"?dP.to_sheet(p.type=="string"?g:qr(g),p):a(g,p)}function c(h,p){return u0(o(h,p),p)}function f(h){for(var p=[],g=dr(h["!ref"]),m,b=Array.isArray(h),_=g.s.r;_<=g.e.r;++_){for(var w=[],T=g.s.c;T<=g.e.c;++T){var L=_n({r:_,c:T});if(m=b?(h[_]||[])[T]:h[L],!m||m.v==null){w.push("          ");continue}for(var R=(m.w||(Th(m),m.w)||"").slice(0,10);R.length<10;)R+=" ";w.push(R+(T===0?" ":""))}p.push(w.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function Cee(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=fP.to_workbook(n,t);return t.WTF=r,i}catch(s){if(t.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return lv.to_workbook(n,e)}}var sm=(function(){function n(I,j,U){if(I){fa(I,I.l||0);for(var Y=U.Enum||Pe;I.l<I.length;){var ae=I.read_shift(2),ye=Y[ae]||Y[65535],me=I.read_shift(2),fe=I.l+me,Te=ye.f&&ye.f(I,me,U);if(I.l=fe,j(Te,ye,ae))return}}}function e(I,j){switch(j.type){case"base64":return t(yl(Al(I)),j);case"binary":return t(yl(I),j);case"buffer":case"array":return t(I,j)}throw"Unsupported type "+j.type}function t(I,j){if(!I)return I;var U=j||{},Y=U.dense?[]:{},ae="Sheet1",ye="",me=0,fe={},Te=[],Oe=[],ue={s:{r:0,c:0},e:{r:0,c:0}},nt=U.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)U.Enum=Pe,n(I,function(He,ht,et){switch(et){case 0:U.vers=He,He>=4096&&(U.qpro=!0);break;case 6:ue=He;break;case 204:He&&(ye=He);break;case 222:ye=He;break;case 15:case 51:U.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:et==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=U.dateNF||bn[14],U.cellDates&&(He[1].t="d",He[1].v=A5(He[1].v))),U.qpro&&He[3]>me&&(Y["!ref"]=Dn(ue),fe[ae]=Y,Te.push(ae),Y=U.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},me=He[3],ae=ye||"Sheet"+(me+1),ye="");var kt=U.dense?(Y[He[0].r]||[])[He[0].c]:Y[_n(He[0])];if(kt){kt.t=He[1].t,kt.v=He[1].v,He[1].z!=null&&(kt.z=He[1].z),He[1].f!=null&&(kt.f=He[1].f);break}U.dense?(Y[He[0].r]||(Y[He[0].r]=[]),Y[He[0].r][He[0].c]=He[1]):Y[_n(He[0])]=He[1];break}},U);else if(I[2]==26||I[2]==14)U.Enum=ie,I[2]==14&&(U.qpro=!0,I.l=0),n(I,function(He,ht,et){switch(et){case 204:ae=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>me&&(Y["!ref"]=Dn(ue),fe[ae]=Y,Te.push(ae),Y=U.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},me=He[3],ae="Sheet"+(me+1)),nt>0&&He[0].r>=nt)break;U.dense?(Y[He[0].r]||(Y[He[0].r]=[]),Y[He[0].r][He[0].c]=He[1]):Y[_n(He[0])]=He[1],ue.e.c<He[0].c&&(ue.e.c=He[0].c),ue.e.r<He[0].r&&(ue.e.r=He[0].r);break;case 27:He[14e3]&&(Oe[He[14e3][0]]=He[14e3][1]);break;case 1537:Oe[He[0]]=He[1],He[0]==me&&(ae=He[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Y["!ref"]=Dn(ue),fe[ye||ae]=Y,Te.push(ye||ae),!Oe.length)return{SheetNames:Te,Sheets:fe};for(var it={},de=[],Fe=0;Fe<Oe.length;++Fe)fe[Te[Fe]]?(de.push(Oe[Fe]||Te[Fe]),it[Oe[Fe]]=fe[Oe[Fe]]||fe[Te[Fe]]):(de.push(Oe[Fe]),it[Oe[Fe]]={"!ref":"A1"});return{SheetNames:de,Sheets:it}}function r(I,j){var U=j||{};if(+U.codepage>=0&&Zc(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Po(),ae=dr(I["!ref"]),ye=Array.isArray(I),me=[];St(Y,0,s(1030)),St(Y,6,c(ae));for(var fe=Math.min(ae.e.r,8191),Te=ae.s.r;Te<=fe;++Te)for(var Oe=Zi(Te),ue=ae.s.c;ue<=ae.e.c;++ue){Te===ae.s.r&&(me[ue]=Ti(ue));var nt=me[ue]+Oe,it=ye?(I[Te]||[])[ue]:I[nt];if(!(!it||it.t=="z"))if(it.t=="n")(it.v|0)==it.v&&it.v>=-32768&&it.v<=32767?St(Y,13,m(Te,ue,it.v)):St(Y,14,_(Te,ue,it.v));else{var de=Th(it);St(Y,15,p(Te,ue,de.slice(0,239)))}}return St(Y,1),Y.end()}function i(I,j){var U=j||{};if(+U.codepage>=0&&Zc(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Po();St(Y,0,a(I));for(var ae=0,ye=0;ae<I.SheetNames.length;++ae)(I.Sheets[I.SheetNames[ae]]||{})["!ref"]&&St(Y,27,ve(I.SheetNames[ae],ye++));var me=0;for(ae=0;ae<I.SheetNames.length;++ae){var fe=I.Sheets[I.SheetNames[ae]];if(!(!fe||!fe["!ref"])){for(var Te=dr(fe["!ref"]),Oe=Array.isArray(fe),ue=[],nt=Math.min(Te.e.r,8191),it=Te.s.r;it<=nt;++it)for(var de=Zi(it),Fe=Te.s.c;Fe<=Te.e.c;++Fe){it===Te.s.r&&(ue[Fe]=Ti(Fe));var He=ue[Fe]+de,ht=Oe?(fe[it]||[])[Fe]:fe[He];if(!(!ht||ht.t=="z"))if(ht.t=="n")St(Y,23,ee(it,Fe,me,ht.v));else{var et=Th(ht);St(Y,22,P(it,Fe,me,et.slice(0,239)))}}++me}}return St(Y,1),Y.end()}function s(I){var j=at(2);return j.write_shift(2,I),j}function a(I){var j=at(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var U=0,Y=0,ae=0,ye=0;ye<I.SheetNames.length;++ye){var me=I.SheetNames[ye],fe=I.Sheets[me];if(!(!fe||!fe["!ref"])){++ae;var Te=Bo(fe["!ref"]);U<Te.e.r&&(U=Te.e.r),Y<Te.e.c&&(Y=Te.e.c)}}return U>8191&&(U=8191),j.write_shift(2,U),j.write_shift(1,ae),j.write_shift(1,Y),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function o(I,j,U){var Y={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&U.qpro?(Y.s.c=I.read_shift(1),I.l++,Y.s.r=I.read_shift(2),Y.e.c=I.read_shift(1),I.l++,Y.e.r=I.read_shift(2),Y):(Y.s.c=I.read_shift(2),Y.s.r=I.read_shift(2),j==12&&U.qpro&&(I.l+=2),Y.e.c=I.read_shift(2),Y.e.r=I.read_shift(2),j==12&&U.qpro&&(I.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(I){var j=at(8);return j.write_shift(2,I.s.c),j.write_shift(2,I.s.r),j.write_shift(2,I.e.c),j.write_shift(2,I.e.r),j}function f(I,j,U){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(Y[0].c=I.read_shift(1),Y[3]=I.read_shift(1),Y[0].r=I.read_shift(2),I.l+=2):(Y[2]=I.read_shift(1),Y[0].c=I.read_shift(2),Y[0].r=I.read_shift(2)),Y}function h(I,j,U){var Y=I.l+j,ae=f(I,j,U);if(ae[1].t="s",U.vers==20768){I.l++;var ye=I.read_shift(1);return ae[1].v=I.read_shift(ye,"utf8"),ae}return U.qpro&&I.l++,ae[1].v=I.read_shift(Y-I.l,"cstr"),ae}function p(I,j,U){var Y=at(7+U.length);Y.write_shift(1,255),Y.write_shift(2,j),Y.write_shift(2,I),Y.write_shift(1,39);for(var ae=0;ae<Y.length;++ae){var ye=U.charCodeAt(ae);Y.write_shift(1,ye>=128?95:ye)}return Y.write_shift(1,0),Y}function g(I,j,U){var Y=f(I,j,U);return Y[1].v=I.read_shift(2,"i"),Y}function m(I,j,U){var Y=at(7);return Y.write_shift(1,255),Y.write_shift(2,j),Y.write_shift(2,I),Y.write_shift(2,U,"i"),Y}function b(I,j,U){var Y=f(I,j,U);return Y[1].v=I.read_shift(8,"f"),Y}function _(I,j,U){var Y=at(13);return Y.write_shift(1,255),Y.write_shift(2,j),Y.write_shift(2,I),Y.write_shift(8,U,"f"),Y}function w(I,j,U){var Y=I.l+j,ae=f(I,j,U);if(ae[1].v=I.read_shift(8,"f"),U.qpro)I.l=Y;else{var ye=I.read_shift(2);F(I.slice(I.l,I.l+ye),ae),I.l+=ye}return ae}function T(I,j,U){var Y=j&32768;return j&=-32769,j=(Y?I:0)+(j>=8192?j-16384:j),(Y?"":"$")+(U?Ti(j):Zi(j))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(I,j){fa(I,0);for(var U=[],Y=0,ae="",ye="",me="",fe="";I.l<I.length;){var Te=I[I.l++];switch(Te){case 0:U.push(I.read_shift(8,"f"));break;case 1:ye=T(j[0].c,I.read_shift(2),!0),ae=T(j[0].r,I.read_shift(2),!1),U.push(ye+ae);break;case 2:{var Oe=T(j[0].c,I.read_shift(2),!0),ue=T(j[0].r,I.read_shift(2),!1);ye=T(j[0].c,I.read_shift(2),!0),ae=T(j[0].r,I.read_shift(2),!1),U.push(Oe+ue+":"+ye+ae)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(I.read_shift(2));break;case 6:{for(var nt="";Te=I[I.l++];)nt+=String.fromCharCode(Te);U.push('"'+nt.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:fe=U.pop(),me=U.pop(),U.push(["AND","OR"][Te-20]+"("+me+","+fe+")");break;default:if(Te<32&&R[Te])fe=U.pop(),me=U.pop(),U.push(me+R[Te]+fe);else if(L[Te]){if(Y=L[Te][1],Y==69&&(Y=I[I.l++]),Y>U.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+U.join("|")+"|");return}var it=U.slice(-Y);U.length-=Y,U.push(L[Te][0]+"("+it.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}U.length==1?j[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function z(I){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=I.read_shift(2),j[3]=I[I.l++],j[0].c=I[I.l++],j}function q(I,j){var U=z(I);return U[1].t="s",U[1].v=I.read_shift(j-4,"cstr"),U}function P(I,j,U,Y){var ae=at(6+Y.length);ae.write_shift(2,I),ae.write_shift(1,U),ae.write_shift(1,j),ae.write_shift(1,39);for(var ye=0;ye<Y.length;++ye){var me=Y.charCodeAt(ye);ae.write_shift(1,me>=128?95:me)}return ae.write_shift(1,0),ae}function X(I,j){var U=z(I);U[1].v=I.read_shift(2);var Y=U[1].v>>1;if(U[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return U[1].v=Y,U}function O(I,j){var U=z(I),Y=I.read_shift(4),ae=I.read_shift(4),ye=I.read_shift(2);if(ye==65535)return Y===0&&ae===3221225472?(U[1].t="e",U[1].v=15):Y===0&&ae===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var me=ye&32768;return ye=(ye&32767)-16446,U[1].v=(1-me*2)*(ae*Math.pow(2,ye+32)+Y*Math.pow(2,ye)),U}function ee(I,j,U,Y){var ae=at(14);if(ae.write_shift(2,I),ae.write_shift(1,U),ae.write_shift(1,j),Y==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ye=0,me=0,fe=0,Te=0;return Y<0&&(ye=1,Y=-Y),me=Math.log2(Y)|0,Y/=Math.pow(2,me-31),Te=Y>>>0,(Te&2147483648)==0&&(Y/=2,++me,Te=Y>>>0),Y-=Te,Te|=2147483648,Te>>>=0,Y*=Math.pow(2,32),fe=Y>>>0,ae.write_shift(4,fe),ae.write_shift(4,Te),me+=16383+(ye?32768:0),ae.write_shift(2,me),ae}function B(I,j){var U=O(I);return I.l+=j-14,U}function G(I,j){var U=z(I),Y=I.read_shift(4);return U[1].v=Y>>6,U}function Q(I,j){var U=z(I),Y=I.read_shift(8,"f");return U[1].v=Y,U}function ce(I,j){var U=Q(I);return I.l+=j-10,U}function _e(I,j){return I[I.l+j-1]==0?I.read_shift(j,"cstr"):""}function K(I,j){var U=I[I.l++];U>j-1&&(U=j-1);for(var Y="";Y.length<U;)Y+=String.fromCharCode(I[I.l++]);return Y}function le(I,j,U){if(!(!U.qpro||j<21)){var Y=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ae=I.read_shift(j-21,"cstr");return[Y,ae]}}function Se(I,j){for(var U={},Y=I.l+j;I.l<Y;){var ae=I.read_shift(2);if(ae==14e3){for(U[ae]=[0,""],U[ae][0]=I.read_shift(2);I[I.l];)U[ae][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return U}function ve(I,j){var U=at(5+I.length);U.write_shift(2,14e3),U.write_shift(2,j);for(var Y=0;Y<I.length;++Y){var ae=I.charCodeAt(Y);U[U.l++]=ae>127?95:ae}return U[U.l++]=0,U}var Pe={0:{n:"BOF",f:fs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:_e},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:q},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:X},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:_e},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function kee(n){var e={},t=n.match(Ua),r=0,i=!1;if(t)for(;r!=t.length;++r){var s=wn(t[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=b4[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Nee=(function(){var n=n2("t"),e=n2("rPr");function t(s){var a=s.match(n);if(!a)return{t:"s",v:""};var o={t:"s",v:fr(a[1])},c=s.match(e);return c&&(o.s=kee(c[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(t).filter(function(o){return o.v})}})(),Ree=(function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),Lee=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Iee=/<(?:\w+:)?r>/,Mee=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function q4(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=fr(qr(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=qr(n),t&&(r.h=R4(r.t))):n.match(Iee)&&(r.r=qr(n),r.t=fr(qr((n.replace(Mee,"").match(Lee)||[]).join("").replace(Ua,""))),t&&(r.h=Ree(Nee(r.r)))),r):{t:""}}var Fee=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Dee=/<(?:\w+:)?(?:si|sstItem)>/g,Pee=/<\/(?:\w+:)?(?:si|sstItem)>/;function Oee(n,e){var t=[],r="";if(!n)return t;var i=n.match(Fee);if(i){r=i[2].replace(Dee,"").split(Pee);for(var s=0;s!=r.length;++s){var a=q4(r[s].trim(),e);a!=null&&(t[t.length]=a)}i=wn(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}var Bee=/^\s|\s$|[\t\n\r]/;function pP(n,e){if(!e.bookSST)return"";var t=[es];t[t.length]=wt("sst",null,{xmlns:Sm[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Bee)&&(s+=' xml:space="preserve"'),s+=">"+Dr(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function Uee(n){return[n.read_shift(4),n.read_shift(4)]}function Hee(n,e){var t=[],r=!1;return Ih(n,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function zee(n,e){return e||(e=at(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var jee=ZJ;function Gee(n){var e=Po();gt(e,159,zee(n));for(var t=0;t<n.length;++t)gt(e,19,jee(n[t]));return gt(e,160),e.end()}function mP(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function _h(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function qee(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=_h(n,4),e.U=_h(n,4),e.W=_h(n,4),e}function Vee(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function Wee(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(Vee(n));return e}function Xee(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function Yee(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=_h(n,4),e.U=_h(n,4),e.W=_h(n,4),e}function $ee(n){var e=Yee(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function gP(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function vP(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function Kee(n){var e=_h(n);switch(e.Minor){case 2:return[e.Minor,Jee(n)];case 3:return[e.Minor,Zee()];case 4:return[e.Minor,Qee(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Jee(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=gP(n,t),i=vP(n,n.length-n.l);return{t:"Std",h:r,v:i}}function Zee(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Qee(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Ua,function(s){var a=wn(s);switch(cf(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function ete(n,e){var t={},r=t.EncryptionVersionInfo=_h(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=gP(n,i),e-=i,t.EncryptionVerifier=vP(n,e),t}function tte(n){var e={},t=e.EncryptionVersionInfo=_h(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function V4(n){var e=0,t,r=mP(n),i=r.length+1,s,a,o,c,f;for(t=n0(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)a=t[s],o=(e&16384)===0?0:1,c=e<<1&32767,f=o|c,e=f^a;return e^52811}var xP=(function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],c=104,f=a.length-1;f>=0;--f)for(var h=a[f],p=0;p!=7;++p)h&64&&(o^=t[c]),h*=2,--c;return o};return function(a){for(var o=mP(a),c=s(o),f=o.length,h=n0(16),p=0;p!=16;++p)h[p]=0;var g,m,b;for((f&1)===1&&(g=c>>8,h[f]=i(n[0],g),--f,g=c&255,m=o[o.length-1],h[f]=i(m,g));f>0;)--f,g=c>>8,h[f]=i(o[f],g),--f,g=c&255,h[f]=i(o[f],g);for(f=15,b=15-o.length;b>0;)g=c>>8,h[f]=i(n[b],g),--f,--b,g=c&255,h[f]=i(o[f],g),--f,--b;return h}})(),nte=function(n,e,t,r,i){i||(i=e),r||(r=xP(n));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,r]},rte=function(n){var e=0,t=xP(n);return function(r){var i=nte("",r,e,t);return e=i[1],i[0]}};function ite(n,e,t,r){var i={key:fs(n),verificationBytes:fs(n)};return t.password&&(i.verifier=V4(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=rte(t.password)),i}function ste(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=tte(n):r.Data=ete(n,e),r}function ate(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?ste(n,e-2,r):ite(n,t.biff>=8?e:e-2,t,r),r}var yP=(function(){function n(i,s){switch(s.type){case"base64":return e(Al(i),s);case"binary":return e(i,s);case"buffer":return e(qn&&Buffer.isBuffer(i)?i.toString("binary"):c0(i),s);case"array":return e(pm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,b,_=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(m,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++_,w.length){var T={v:w,t:"s"};Array.isArray(o)?o[p][_]=T:o[_n({r:p,c:_})]=T}break}m=g.lastIndex}_>f.e.c&&(f.e.c=_)}),o["!ref"]=Dn(f),o}function t(i,s){return u0(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=dr(i["!ref"]),o,c=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var p=_n({r:f,c:h});o=c?(i[f]||[])[h]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Th(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function ote(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function a2(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function lte(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),s=Math.min(e,t,r),a=i-s;if(a===0)return[0,0,e];var o=0,c=0,f=i+s;switch(c=a/(f>1?2-f:f),i){case e:o=((t-r)/a+6)%6;break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}return[o/6,c,f/2]}function cte(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,c;if(t!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function Mw(n,e){if(e===0)return n;var t=lte(ote(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),a2(cte(t))}var bP=6,ute=15,fte=1,Ma=bP;function o2(n){return Math.floor((n+Math.round(128/Ma)/256)*Ma)}function l2(n){return Math.floor((n-5)/Ma*100+.5)/100}function Fw(n){return Math.round((n*Ma+5)/Ma*256)/256}function NS(n){return Fw(l2(o2(n)))}function W4(n){var e=Math.abs(n-NS(n)),t=Ma;if(e>.005)for(Ma=fte;Ma<ute;++Ma)Math.abs(n-NS(n))<=e&&(e=Math.abs(n-NS(n)),t=Ma);Ma=t}function r0(n){n.width?(n.wpx=o2(n.width),n.wch=l2(n.wpx),n.MDW=Ma):n.wpx?(n.wch=l2(n.wpx),n.width=Fw(n.wch),n.MDW=Ma):typeof n.wch=="number"&&(n.width=Fw(n.wch),n.wpx=o2(n.width),n.MDW=Ma),n.customWidth&&delete n.customWidth}var hte=96,_P=hte;function c2(n){return n*96/_P}function cv(n){return n*_P/96}var dte={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function pte(n,e,t,r){e.Borders=[];var i={},s=!1;(n[0].match(Ua)||[]).forEach(function(a){var o=wn(a);switch(cf(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=si(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=si(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function mte(n,e,t,r){e.Fills=[];var i={},s=!1;(n[0].match(Ua)||[]).forEach(function(a){var o=wn(a);switch(cf(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function gte(n,e,t,r){e.Fonts=[];var i={},s=!1;(n[0].match(Ua)||[]).forEach(function(a){var o=wn(a);switch(cf(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=qr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?si(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?si(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?si(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?si(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?si(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?si(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?si(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=b4[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=si(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=rm[i.color.index];i.color.index==81&&(c=rm[1]),c||(c=rm[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=Mw(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function vte(n,e,t){e.NumberFmt=[];for(var r=Hi(bn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=bn[r[i]];var s=n[0].match(Ua);if(s)for(i=0;i<s.length;++i){var a=wn(s[i]);switch(cf(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=fr(qr(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}bh(o,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function xte(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=wt("numFmt",null,{numFmtId:r,formatCode:Dr(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=wt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var p_=["numFmtId","fillId","fontId","borderId","xfId"],m_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function yte(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Ua)||[]).forEach(function(s){var a=wn(s),o=0;switch(cf(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<p_.length;++o)r[p_[o]]&&(r[p_[o]]=parseInt(r[p_[o]],10));for(o=0;o<m_.length;++o)r[m_[o]]&&(r[m_[o]]=si(r[m_[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=si(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function bte(n){var e=[];return e[e.length]=wt("cellXfs",null),n.forEach(function(t){e[e.length]=wt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=wt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var _te=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&vte(p,h,f),(p=o.match(i))&&gte(p,h,c,f),(p=o.match(r))&&mte(p,h,c,f),(p=o.match(s))&&pte(p,h,c,f),(p=o.match(t))&&yte(p,h,f),h}})();function wP(n,e){var t=[es,wt("styleSheet",null,{xmlns:Sm[0],"xmlns:vt":ks.vt})],r;return n.SSF&&(r=xte(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=bte(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function wte(n,e){var t=n.read_shift(2),r=Oa(n);return[t,r]}function Ate(n,e,t){t||(t=at(6+4*e.length)),t.write_shift(2,n),Ws(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function Ste(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=sZ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var o=n.read_shift(1);o>0&&(r.family=o);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=iZ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Oa(n),r}function Ete(n,e){e||(e=at(153)),e.write_shift(2,n.sz*20),aZ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Rw(n.color,e);var r=0;return r=2,e.write_shift(1,r),Ws(n.name,e),e.length>e.l?e.slice(0,e.l):e}var Tte=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],RS,Cte=Ba;function WR(n,e){e||(e=at(84)),RS||(RS=_5(Tte));var t=RS[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Rw({auto:1},e),Rw({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function kte(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function AP(n,e,t){t||(t=at(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function cx(n,e){return e||(e=at(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Nte=Ba;function Rte(n,e){return e||(e=at(51)),e.write_shift(1,0),cx(null,e),cx(null,e),cx(null,e),cx(null,e),cx(null,e),e.length>e.l?e.slice(0,e.l):e}function Lte(n,e){return e||(e=at(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Nw(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Ite(n,e,t){var r=at(2052);return r.write_shift(4,n),Nw(e,r),Nw(t,r),r.length>r.l?r.slice(0,r.l):r}function Mte(n,e,t){var r={};r.NumberFmt=[];for(var i in bn)r.NumberFmt[i]=bn[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Ih(n,function(c,f,h){switch(h){case 44:r.NumberFmt[c[0]]=c[1],bh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=Mw(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(h),a=!0;break;case 38:s.pop(),a=!1;break;default:if(f.T>0)s.push(h);else if(f.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}function Fte(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(gt(n,615,iu(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&gt(n,44,Ate(i,e[i]))}),gt(n,616))}}function Dte(n){var e=1;gt(n,611,iu(e)),gt(n,43,Ete({sz:12,color:{theme:1},name:"Calibri",family:2})),gt(n,612)}function Pte(n){var e=2;gt(n,603,iu(e)),gt(n,45,WR({patternType:"none"})),gt(n,45,WR({patternType:"gray125"})),gt(n,604)}function Ote(n){var e=1;gt(n,613,iu(e)),gt(n,46,Rte()),gt(n,614)}function Bte(n){var e=1;gt(n,626,iu(e)),gt(n,47,AP({numFmtId:0},65535)),gt(n,627)}function Ute(n,e){gt(n,617,iu(e.length)),e.forEach(function(t){gt(n,47,AP(t,0))}),gt(n,618)}function Hte(n){var e=1;gt(n,619,iu(e)),gt(n,48,Lte({xfId:0,name:"Normal"})),gt(n,620)}function zte(n){var e=0;gt(n,505,iu(e)),gt(n,506)}function jte(n){var e=0;gt(n,508,Ite(e,"TableStyleMedium9","PivotStyleMedium4")),gt(n,509)}function Gte(n,e){var t=Po();return gt(t,278),Fte(t,n.SSF),Dte(t),Pte(t),Ote(t),Bte(t),Ute(t,e.cellXfs),Hte(t),zte(t),jte(t),gt(t,279),t.end()}var qte=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Vte(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Ua)||[]).forEach(function(i){var s=wn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[qte.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Wte(){}function Xte(){}var Yte=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,$te=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Kte=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Jte(n,e,t){e.themeElements={};var r;[["clrScheme",Yte,Vte],["fontScheme",$te,Wte],["fmtScheme",Kte,Xte]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var Zte=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function SP(n,e){(!n||n.length===0)&&(n=X4());var t,r={};if(!(t=n.match(Zte)))throw new Error("themeElements not found in theme");return Jte(t[0],r,e),r.raw=n,r}function X4(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[es];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Qte(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var s=n.slice(n.l);n.l=r;var a;try{a=gD(s,{type:"array"})}catch{return}var o=bl(a,"theme/theme/theme1.xml",!0);if(o)return SP(o,t)}}function ene(n){return n.read_shift(4)}function tne(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=nne(n,4);break;case 2:e.xclrValue=rP(n);break;case 3:e.xclrValue=ene(n);break;case 4:n.l+=4;break}return n.l+=8,e}function nne(n,e){return Ba(n,e)}function rne(n,e){return Ba(n,e)}function ine(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=tne(n);break;case 6:r[1]=rne(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function sne(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(ine(n,t-n.l));return{ixfe:r,ext:s}}function ane(n,e){e.forEach(function(t){t[0]})}function one(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Oa(n)}}function lne(n){var e=at(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Ws(n.name,e),e.slice(0,e.l)}function cne(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function une(n){var e=at(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function fne(n,e){var t=at(8+2*e.length);return t.write_shift(4,n),Ws(e,t),t.slice(0,t.l)}function hne(n){return n.l+=4,n.read_shift(4)!=0}function dne(n,e){var t=at(8);return t.write_shift(4,n),t.write_shift(4,1),t}function pne(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Ih(n,function(c,f,h){switch(h){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(h),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!f.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function mne(){var n=Po();return gt(n,332),gt(n,334,iu(1)),gt(n,335,lne({name:"XLDAPR",version:12e4,flags:3496657072})),gt(n,336),gt(n,339,fne(1,"XLDAPR")),gt(n,52),gt(n,35,iu(514)),gt(n,4096,iu(0)),gt(n,4097,Ql(1)),gt(n,36),gt(n,53),gt(n,340),gt(n,337,dne(1)),gt(n,51,une([[1,0]])),gt(n,338),gt(n,333),n.end()}function gne(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,s=2,a;return n.replace(Ua,function(o){var c=wn(o);switch(cf(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==c.name&&(a=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function EP(){var n=[es];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function vne(n){var e=[];if(!n)return e;var t=1;return(n.match(Ua)||[]).forEach(function(r){var i=wn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function xne(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=_n(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function yne(n,e,t){var r=[];return Ih(n,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function bne(n,e,t,r){if(!n)return n;var i=r||{},s=!1;Ih(n,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function _ne(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var Ug=1024;function TP(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[wt("xml",null,{"xmlns:v":ml.v,"xmlns:o":ml.o,"xmlns:x":ml.x,"xmlns:mv":ml.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Ug<n*1e3;)Ug+=1e3;return e.forEach(function(s){var a=Ci(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=wt("v:fill",c,o),h={on:"t",obscured:"t"};++Ug,i=i.concat(["<v:shape"+r2({id:"_x0000_s"+Ug,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,wt("v:shadow",null,h),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ha("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ha("x:AutoFill","False"),ha("x:Row",String(a.r)),ha("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function XR(n,e,t,r){var i=Array.isArray(n),s;e.forEach(function(a){var o=Ci(a.ref);if(i?(n[o.r]||(n[o.r]=[]),s=n[o.r][o.c]):s=n[a.ref],!s){s={t:"z"},i?n[o.r][o.c]=s:n[a.ref]=s;var c=dr(n["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=Dn(c);f!==n["!ref"]&&(n["!ref"]=f)}s.c||(s.c=[]);var h={a:a.author,t:a.t,r:a.r,T:t};a.h&&(h.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!t&&s.c[p].T)return;t&&!s.c[p].T&&s.c.splice(p,1)}if(t&&r){for(p=0;p<r.length;++p)if(h.a==r[p].id){h.a=r[p].name||h.a;break}}s.c.push(h)})}function wne(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=wn(o[0]),f={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Ci(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&q4(p[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=g.h),r.push(f)}}}}),r}function CP(n){var e=[es,wt("comments",null,{xmlns:Sm[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Dr(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=t.indexOf(Dr(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(ha("t",Dr(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(ha("t",Dr(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Ane(n,e){var t=[],r=!1,i={},s=0;return n.replace(Ua,function(o,c){var f=wn(o);switch(cf(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=n.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),t}function Sne(n,e,t){var r=[es,wt("ThreadedComments",null,{xmlns:ks.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(wt("threadedComment",ha("text",a.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function Ene(n,e){var t=[],r=!1;return n.replace(Ua,function(s){var a=wn(s);switch(cf(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function Tne(n){var e=[es,wt("personList",null,{xmlns:ks.TCMNT,"xmlns:x":Sm[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(wt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Cne(n){var e={};e.iauthor=n.read_shift(4);var t=km(n);return e.rfx=t.s,e.ref=_n(t.s),n.l+=16,e}function kne(n,e){return e==null&&(e=at(36)),e.write_shift(4,n[1].iauthor),vv(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Nne=Oa;function Rne(n){return Ws(n.slice(0,54))}function Lne(n,e){var t=[],r=[],i={},s=!1;return Ih(n,function(o,c,f){switch(f){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),t}function Ine(n){var e=Po(),t=[];return gt(e,628),gt(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),gt(e,632,Rne(i.a)))})}),gt(e,631),gt(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Ci(r[0]),e:Ci(r[0])};gt(e,635,kne([s,i])),i.t&&i.t.length>0&&gt(e,637,eZ(i)),gt(e,636),delete i.iauthor})}),gt(e,634),gt(e,629),e.end()}var Mne="application/vnd.ms-office.vbaProject";function Fne(n){var e=un.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");un.utils.cfb_add(e,i,n.FileIndex[r].content)}}),un.write(e)}function Dne(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&un.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var kP=["xlsb","xlsm","xlam","biff8","xla"];function Pne(){return{"!type":"dialog"}}function One(){return{"!type":"dialog"}}function Bne(){return{"!type":"macro"}}function Une(){return{"!type":"macro"}}var Zg=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,c?f+=e.r:--f,i+(o?"":"$")+Ti(h)+(c?"":"$")+Zi(f)}return function(i,s){return e=s,i.replace(n,t)}})(),Y4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,$4=(function(){return function(e,t){return e.replace(Y4,function(r,i,s,a,o,c){var f=D4(a)-(s?0:t.c),h=F4(c)-(o?0:t.r),p=h==0?"":o?h+1:"["+h+"]",g=f==0?"":s?f+1:"["+f+"]";return i+"R"+p+"C"+g})}})();function NP(n,e){return n.replace(Y4,function(t,r,i,s,a,o){return r+(i=="$"?i+s:Ti(D4(s)+e.c))+(a=="$"?a+o:Zi(F4(o)+e.r))})}function Hne(n,e,t){var r=Bo(e),i=r.s,s=Ci(t),a={r:s.r-i.r,c:s.c-i.c};return NP(n,a)}function zne(n){return n.length!=1}function YR(n){return n.replace(/_xlfn\./g,"")}function ls(n){n.l+=1}function i0(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function RP(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return LP(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),a=i0(n),o=i0(n);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function LP(n){var e=i0(n),t=i0(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function jne(n,e,t){if(t.biff<8)return LP(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=i0(n),a=i0(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function IP(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Gne(n);var r=n.read_shift(t&&t.biff==12?4:2),i=i0(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Gne(n){var e=i0(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function qne(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Vne(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Wne(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function Wne(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Xne(n,e,t){var r=(n[n.l++]&96)>>5,i=RP(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Yne(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=RP(n,s,t);return[r,i,a]}function $ne(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Kne(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Jne(n,e,t){var r=(n[n.l++]&96)>>5,i=jne(n,e-1,t);return[r,i]}function Zne(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function $R(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Qne(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function ere(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function tre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function nre(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function rre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function MP(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function ire(n){return n.read_shift(2),MP(n)}function sre(n){return n.read_shift(2),MP(n)}function are(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=IP(n,0,t);return[r,i]}function ore(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Vne(n,0,t);return[r,i]}function lre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=IP(n,0,t);return[r,i,s]}function cre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[hie[i],PP[i],r]}function ure(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:fre(n);return[i,(s[0]===0?PP:fie)[s[1]]]}function fre(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function hre(n,e,t){n.l+=t&&t.biff==2?3:4}function dre(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function pre(n){return n.l++,Mh[n.read_shift(1)]}function mre(n){return n.l++,n.read_shift(2)}function gre(n){return n.l++,n.read_shift(1)!==0}function vre(n){return n.l++,Da(n)}function xre(n,e,t){return n.l++,Vy(n,e-1,t)}function yre(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Wi(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Mh[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Da(n);break;case 2:t[1]=Nm(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function bre(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?km:S5)(n));return i}function _re(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=yre(n,t.biff);return a}function wre(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function Are(n,e,t){if(t.biff==5)return Sre(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function Sre(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function Ere(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Tre(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Cre(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function kre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var Nre=Ba,Rre=Ba,Lre=Ba;function Xy(n,e,t){return n.l+=2,[qne(n)]}function K4(n){return n.l+=6,[]}var Ire=Xy,Mre=K4,Fre=K4,Dre=Xy;function FP(n){return n.l+=2,[fs(n),n.read_shift(2)&1]}var Pre=Xy,Ore=FP,Bre=K4,Ure=Xy,Hre=Xy,zre=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function jre(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),a=zre[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:r,c:i,C:s}}function Gre(n){return n.l+=2,[n.read_shift(4)]}function qre(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Vre(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Wre(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Xre(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Yre(n){return n.l+=4,[0,0]}var KR={1:{n:"PtgExp",f:dre},2:{n:"PtgTbl",f:Lre},3:{n:"PtgAdd",f:ls},4:{n:"PtgSub",f:ls},5:{n:"PtgMul",f:ls},6:{n:"PtgDiv",f:ls},7:{n:"PtgPower",f:ls},8:{n:"PtgConcat",f:ls},9:{n:"PtgLt",f:ls},10:{n:"PtgLe",f:ls},11:{n:"PtgEq",f:ls},12:{n:"PtgGe",f:ls},13:{n:"PtgGt",f:ls},14:{n:"PtgNe",f:ls},15:{n:"PtgIsect",f:ls},16:{n:"PtgUnion",f:ls},17:{n:"PtgRange",f:ls},18:{n:"PtgUplus",f:ls},19:{n:"PtgUminus",f:ls},20:{n:"PtgPercent",f:ls},21:{n:"PtgParen",f:ls},22:{n:"PtgMissArg",f:ls},23:{n:"PtgStr",f:xre},26:{n:"PtgSheet",f:qre},27:{n:"PtgEndSheet",f:Vre},28:{n:"PtgErr",f:pre},29:{n:"PtgBool",f:gre},30:{n:"PtgInt",f:mre},31:{n:"PtgNum",f:vre},32:{n:"PtgArray",f:Zne},33:{n:"PtgFunc",f:cre},34:{n:"PtgFuncVar",f:ure},35:{n:"PtgName",f:wre},36:{n:"PtgRef",f:are},37:{n:"PtgArea",f:Xne},38:{n:"PtgMemArea",f:Ere},39:{n:"PtgMemErr",f:Nre},40:{n:"PtgMemNoMem",f:Rre},41:{n:"PtgMemFunc",f:Tre},42:{n:"PtgRefErr",f:Cre},43:{n:"PtgAreaErr",f:$ne},44:{n:"PtgRefN",f:ore},45:{n:"PtgAreaN",f:Jne},46:{n:"PtgMemAreaN",f:Wre},47:{n:"PtgMemNoMemN",f:Xre},57:{n:"PtgNameX",f:Are},58:{n:"PtgRef3d",f:lre},59:{n:"PtgArea3d",f:Yne},60:{n:"PtgRefErr3d",f:kre},61:{n:"PtgAreaErr3d",f:Kne},255:{}},$re={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Kre={1:{n:"PtgElfLel",f:FP},2:{n:"PtgElfRw",f:Ure},3:{n:"PtgElfCol",f:Ire},6:{n:"PtgElfRwV",f:Hre},7:{n:"PtgElfColV",f:Dre},10:{n:"PtgElfRadical",f:Pre},11:{n:"PtgElfRadicalS",f:Bre},13:{n:"PtgElfColS",f:Mre},15:{n:"PtgElfColSV",f:Fre},16:{n:"PtgElfRadicalLel",f:Ore},25:{n:"PtgList",f:jre},29:{n:"PtgSxName",f:Gre},255:{}},Jre={0:{n:"PtgAttrNoop",f:Yre},1:{n:"PtgAttrSemi",f:rre},2:{n:"PtgAttrIf",f:tre},4:{n:"PtgAttrChoose",f:Qne},8:{n:"PtgAttrGoto",f:ere},16:{n:"PtgAttrSum",f:hre},32:{n:"PtgAttrBaxcel",f:$R},33:{n:"PtgAttrBaxcel",f:$R},64:{n:"PtgAttrSpace",f:ire},65:{n:"PtgAttrSpaceSemi",f:sre},128:{n:"PtgAttrIfError",f:nre},255:{}};function Yy(n,e,t,r){if(r.biff<8)return Ba(n,e);for(var i=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=_re(n,0,r),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=bre(n,t[a][1],r),s.push(t[a][2]);break;case"PtgExp":r&&r.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-n.l,e!==0&&s.push(Ba(n,e)),s}function $y(n,e,t){for(var r=n.l+e,i,s,a=[];r!=n.l;)e=r-n.l,s=n[n.l],i=KR[s]||KR[$re[s]],(s===24||s===25)&&(i=(s===24?Kre:Jre)[n[n.l+1]]),!i||!i.f?Ba(n,e):a.push([i.n,i.f(n,e,t)]);return a}function Zre(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Qre={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eie(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function DP(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function JR(n,e,t){var r=DP(n,e,t);return r=="#REF"?r:eie(r,t)}function Ia(n,e,t,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,f,h,p=0,g=0,m,b="";if(!n[0]||!n[0][0])return"";for(var _=-1,w="",T=0,L=n[0].length;T<L;++T){var R=n[0][T];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),_>=0){switch(n[0][_][1][0]){case 0:w=Bi(" ",n[0][_][1][1]);break;case 1:w=Bi("\r",n[0][_][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][_][1][0])}f=f+w,_=-1}o.push(f+Qre[R[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ox(R[1][1],a,i),o.push(Bx(h,s));break;case"PtgRefN":h=t?Ox(R[1][1],t,i):R[1][1],o.push(Bx(h,s));break;case"PtgRef3d":p=R[1][1],h=Ox(R[1][2],a,i),b=JR(r,p,i),o.push(b+"!"+Bx(h,s));break;case"PtgFunc":case"PtgFuncVar":var F=R[1][0],z=R[1][1];F||(F=0),F&=127;var q=F==0?[]:o.slice(-F);o.length-=F,z==="User"&&(z=q.shift()),o.push(z+"("+q.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":m=TR(R[1][1],t?{s:t}:a,i),o.push(TS(m,i));break;case"PtgArea":m=TR(R[1][1],a,i),o.push(TS(m,i));break;case"PtgArea3d":p=R[1][1],m=R[1][2],b=JR(r,p,i),o.push(b+"!"+TS(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var P=(r.names||[])[g-1]||(r[0]||[])[g],X=P?P.Name:"SH33TJSNAME"+String(g);X&&X.slice(0,6)=="_xlfn."&&!i.xlfn&&(X=X.slice(6)),o.push(X);break;case"PtgNameX":var O=R[1][1];g=R[1][2];var ee;if(i.biff<=5)O<0&&(O=-O),r[O]&&(ee=r[O][g]);else{var B="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][g]&&r[O][g].itab>0&&(B=r.SheetNames[r[O][g].itab-1]+"!"):B=r.SheetNames[g-1]+"!"),r[O]&&r[O][g])B+=r[O][g].Name;else if(r[0]&&r[0][g])B+=r[0][g].Name;else{var G=(DP(r,O,i)||"").split(";;");G[g-1]?B=G[g-1]:B+="SH33TJSERRX"}o.push(B);break}ee||(ee={Name:"SH33TJSERRY"}),o.push(ee.Name);break;case"PtgParen":var Q="(",ce=")";if(_>=0){switch(w="",n[0][_][1][0]){case 2:Q=Bi(" ",n[0][_][1][1])+Q;break;case 3:Q=Bi("\r",n[0][_][1][1])+Q;break;case 4:ce=Bi(" ",n[0][_][1][1])+ce;break;case 5:ce=Bi("\r",n[0][_][1][1])+ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][_][1][0])}_=-1}o.push(Q+o.pop()+ce);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:R[1][1],r:R[1][0]};var _e={c:t.c,r:t.r};if(r.sharedf[_n(h)]){var K=r.sharedf[_n(h)];o.push(Ia(K,a,_e,r,i))}else{var le=!1;for(c=0;c!=r.arrayf.length;++c)if(f=r.arrayf[c],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Ia(f[1],a,_e,r,i)),le=!0;break}le||o.push(R[1])}break;case"PtgArray":o.push("{"+Zre(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var Se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&Se.indexOf(n[0][T][0])==-1){R=n[0][_];var ve=!0;switch(R[1][0]){case 4:ve=!1;case 0:w=Bi(" ",R[1][1]);break;case 5:ve=!1;case 1:w=Bi("\r",R[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((ve?w:"")+o.pop()+(ve?"":w)),_=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function tie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Ba(n,e-2)];var o=$y(n,a,t);return e!==a+i&&(s=Yy(n,e-a-i,o,t)),n.l=r,[o,s]}function nie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Ba(n,e-2)];var o=$y(n,a,t);return e!==a+i&&(s=Yy(n,e-a-i,o,t)),n.l=r,[o,s]}function rie(n,e,t,r){var i=n.l+e,s=$y(n,r,t),a;return i!==n.l&&(a=Yy(n,i-n.l,s,t)),[s,a]}function iie(n,e,t){var r=n.l+e,i,s=n.read_shift(2),a=$y(n,s,t);return s==65535?[[],Ba(n,e-2)]:(e!==s+2&&(i=Yy(n,r-s-2,a,t)),[a,i])}function sie(n){var e;if(vh(n,n.l+6)!==65535)return[Da(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function aie(n){if(n==null){var e=at(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return mm(n);return mm(0)}function LS(n,e,t){var r=n.l+e,i=uf(n);t.biff==2&&++n.l;var s=sie(n),a=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=nie(n,r-n.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function oie(n,e,t,r,i){var s=vm(e,t,i),a=aie(n.v),o=at(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var f=at(n.bf.length),h=0;h<n.bf.length;++h)f[h]=n.bf[h];var p=Vs([s,a,o,f]);return p}function E5(n,e,t){var r=n.read_shift(4),i=$y(n,r,t),s=n.read_shift(4),a=s>0?Yy(n,s,i,t):null;return[i,a]}var lie=E5,T5=E5,cie=E5,uie=E5,fie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},PP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ZR(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function die(n){var e="of:="+n.replace(Y4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function IS(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function pie(n){return n.replace(/\./,"!")}var Hx={},Qg={},zx=typeof Map<"u";function J4(n,e,t){var r=0,i=n.length;if(t){if(zx?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=zx?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(zx?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function C5(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Ma=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=l2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Fw(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function am(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function f0(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){bh(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function OP(n,e,t,r,i,s){try{r.cellNF&&(n.z=bn[e])}catch(o){if(r.WTF)throw o}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=oi(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(bn[e]==null&&bh(fJ[e]||"General",e),n.t==="e")n.w=n.w||Mh[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v);else if(n.t==="d"){var a=Rs(n.v);(a|0)===a?n.w=a.toString(10):n.w=t2(a)}else{if(n.v===void 0)return"";n.w=dm(n.v,Qg)}else n.t==="d"?n.w=oc(e,Rs(n.v),Qg):n.w=oc(e,n.v,Qg)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&t!=null)try{n.s=s.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=Mw(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=Mw(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function mie(n,e,t){if(n&&n["!ref"]){var r=dr(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function gie(n,e){var t=dr(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Dn(t))}var vie=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,xie=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,yie=/<(?:\w:)?hyperlink [^>]*>/mg,bie=/"(\w*:\w*)"/,_ie=/<(?:\w:)?col\b[^>]*[\/]?>/g,wie=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Aie=/<(?:\w:)?pageMargins[^>]*\/>/g,BP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Sie=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Eie=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Tie(n,e,t,r,i,s,a){if(!n)return n;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",p=n.match(xie);p?(f=n.slice(0,p.index),h=n.slice(p.index+p[0].length)):f=h=n;var g=f.match(BP);g?Z4(g[0],o,i,t):(g=f.match(Sie))&&kie(g[0],g[1]||"",o,i,t);var m=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var b=f.slice(m,m+50).match(bie);b&&gie(o,b[1])}var _=f.match(Eie);_&&_[1]&&zie(_[1],i);var w=[];if(e.cellStyles){var T=f.match(_ie);T&&Pie(w,T)}p&&qie(p[1],o,e,c,s,a);var L=h.match(wie);L&&(o["!autofilter"]=Bie(L[0]));var R=[],F=h.match(vie);if(F)for(m=0;m!=F.length;++m)R[m]=dr(F[m].slice(F[m].indexOf('"')+1));var z=h.match(yie);z&&Mie(o,z,r);var q=h.match(Aie);if(q&&(o["!margins"]=Fie(wn(q[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Dn(c)),e.sheetRows>0&&o["!ref"]){var P=dr(o["!ref"]);e.sheetRows<=+P.e.r&&(P.e.r=e.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Dn(P))}return w.length>0&&(o["!cols"]=w),R.length>0&&(o["!merges"]=R),o}function Cie(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Dn(n[t])+'"/>';return e+"</mergeCells>"}function Z4(n,e,t,r){var i=wn(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=fr(qr(i.codeName)))}function kie(n,e,t,r,i){Z4(n.slice(0,n.indexOf(">")),t,r,i)}function Nie(n,e,t,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,a.codeName=nf(Dr(c))}if(n&&n["!outline"]){var f={summaryBelow:1,summaryRight:1};n["!outline"].above&&(f.summaryBelow=0),n["!outline"].left&&(f.summaryRight=0),o=(o||"")+wt("outlinePr",null,f)}!s&&!o||(i[i.length]=wt("sheetPr",o,a))}var Rie=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Lie=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Iie(n){var e={sheet:1};return Rie.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Lie.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=V4(n.password).toString(16).toUpperCase()),wt("sheetProtection",null,e)}function Mie(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var s=wn(qr(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+fr(s.location))):(s.Target="#"+fr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=dr(s.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=_n({c:f,r:c});r?(n[c]||(n[c]=[]),n[c][f]||(n[c][f]={t:"z",v:void 0}),n[c][f].l=s):(n[h]||(n[h]={t:"z",v:void 0}),n[h].l=s)}}}function Fie(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function Die(n){return am(n),wt("pageMargins",null,n)}function Pie(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=wn(e[r],!0);i.hidden&&(i.hidden=si(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,W4(i.width)),r0(i);s<=a;)n[s++]=li(i)}}function Oie(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=wt("col",null,C5(i,r)));return t[t.length]="</cols>",t.join("")}function Bie(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}function Uie(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Dn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=Bo(i);a.s.r==a.e.r&&(a.e.r=Bo(e["!ref"]).e.r,i=Dn(a));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),wt("autoFilter",null,{ref:i})}var Hie=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zie(n,e){e.Views||(e.Views=[{}]),(n.match(Hie)||[]).forEach(function(t,r){var i=wn(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),si(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function jie(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,i),{})}function Gie(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Mh[n.v];break;case"d":r&&r.cellDates?i=oi(n.v,-1).toISOString():(n=li(n),n.t="n",i=""+(n.v=Rs(oi(n.v)))),typeof n.z>"u"&&(n.z=bn[14]);break;default:i=n.v;break}var o=ha("v",Dr(i)),c={r:e},f=f0(r.cellXfs,n,r);switch(f!==0&&(c.s=f),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ha("v",""+J4(r.Strings,n.v,r.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=s&&(n.t=s,n.v=a),typeof n.f=="string"&&n.f){var h=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;o=wt("f",Dr(n.f),h)+(n.v!=null?o:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),wt("c",o,c)}var qie=(function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=n2("v"),a=n2("f");return function(c,f,h,p,g,m){for(var b=0,_="",w=[],T=[],L=0,R=0,F=0,z="",q,P,X=0,O=0,ee,B,G=0,Q=0,ce=Array.isArray(m.CellXf),_e,K=[],le=[],Se=Array.isArray(f),ve=[],Pe={},ie=!1,I=!!h.sheetStubs,j=c.split(e),U=0,Y=j.length;U!=Y;++U){_=j[U].trim();var ae=_.length;if(ae!==0){var ye=0;e:for(b=0;b<ae;++b)switch(_[b]){case">":if(_[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(P=wn(_.slice(ye,b),!0),X=P.r!=null?parseInt(P.r,10):X+1,O=-1,h.sheetRows&&h.sheetRows<X)continue;Pe={},ie=!1,P.ht&&(ie=!0,Pe.hpt=parseFloat(P.ht),Pe.hpx=cv(Pe.hpt)),P.hidden=="1"&&(ie=!0,Pe.hidden=!0),P.outlineLevel!=null&&(ie=!0,Pe.level=+P.outlineLevel),ie&&(ve[X-1]=Pe)}break;case"<":ye=b;break}if(ye>=b)break;if(P=wn(_.slice(ye,b),!0),X=P.r!=null?parseInt(P.r,10):X+1,O=-1,!(h.sheetRows&&h.sheetRows<X)){p.s.r>X-1&&(p.s.r=X-1),p.e.r<X-1&&(p.e.r=X-1),h&&h.cellStyles&&(Pe={},ie=!1,P.ht&&(ie=!0,Pe.hpt=parseFloat(P.ht),Pe.hpx=cv(Pe.hpt)),P.hidden=="1"&&(ie=!0,Pe.hidden=!0),P.outlineLevel!=null&&(ie=!0,Pe.level=+P.outlineLevel),ie&&(ve[X-1]=Pe)),w=_.slice(b).split(n);for(var me=0;me!=w.length&&w[me].trim().charAt(0)=="<";++me);for(w=w.slice(me),b=0;b!=w.length;++b)if(_=w[b].trim(),_.length!==0){if(T=_.match(t),L=b,R=0,F=0,_="<c "+(_.slice(0,1)=="<"?">":"")+_,T!=null&&T.length===2){for(L=0,z=T[1],R=0;R!=z.length&&!((F=z.charCodeAt(R)-64)<1||F>26);++R)L=26*L+F;--L,O=L}else++O;for(R=0;R!=_.length&&_.charCodeAt(R)!==62;++R);if(++R,P=wn(_.slice(0,R),!0),P.r||(P.r=_n({r:X-1,c:O})),z=_.slice(R),q={t:""},(T=z.match(s))!=null&&T[1]!==""&&(q.v=fr(T[1])),h.cellFormula){if((T=z.match(a))!=null&&T[1]!==""){if(q.f=fr(qr(T[1])).replace(/\r\n/g,`
`),h.xlfn||(q.f=YR(q.f)),T[0].indexOf('t="array"')>-1)q.F=(z.match(i)||[])[1],q.F.indexOf(":")>-1&&K.push([dr(q.F),q.F]);else if(T[0].indexOf('t="shared"')>-1){B=wn(T[0]);var fe=fr(qr(T[1]));h.xlfn||(fe=YR(fe)),le[parseInt(B.si,10)]=[B,fe,P.r]}}else(T=z.match(/<f[^>]*\/>/))&&(B=wn(T[0]),le[B.si]&&(q.f=Hne(le[B.si][1],le[B.si][2],P.r)));var Te=Ci(P.r);for(R=0;R<K.length;++R)Te.r>=K[R][0].s.r&&Te.r<=K[R][0].e.r&&Te.c>=K[R][0].s.c&&Te.c<=K[R][0].e.c&&(q.F=K[R][1])}if(P.t==null&&q.v===void 0)if(q.f||q.F)q.v=0,q.t="n";else if(I)q.t="z";else continue;else q.t=P.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),q.t){case"n":if(q.v==""||q.v==null){if(!I)continue;q.t="z"}else q.v=parseFloat(q.v);break;case"s":if(typeof q.v>"u"){if(!I)continue;q.t="z"}else ee=Hx[parseInt(q.v,10)],q.v=ee.t,q.r=ee.r,h.cellHTML&&(q.h=ee.h);break;case"str":q.t="s",q.v=q.v!=null?qr(q.v):"",h.cellHTML&&(q.h=R4(q.v));break;case"inlineStr":T=z.match(r),q.t="s",T!=null&&(ee=q4(T[1]))?(q.v=ee.t,h.cellHTML&&(q.h=ee.h)):q.v="";break;case"b":q.v=si(q.v);break;case"d":h.cellDates?q.v=oi(q.v,1):(q.v=Rs(oi(q.v,1)),q.t="n");break;case"e":(!h||h.cellText!==!1)&&(q.w=q.v),q.v=HD[q.v];break}if(G=Q=0,_e=null,ce&&P.s!==void 0&&(_e=m.CellXf[P.s],_e!=null&&(_e.numFmtId!=null&&(G=_e.numFmtId),h.cellStyles&&_e.fillId!=null&&(Q=_e.fillId))),OP(q,G,Q,h,g,m),h.cellDates&&ce&&q.t=="n"&&pv(bn[G])&&(q.t="d",q.v=A5(q.v)),P.cm&&h.xlmeta){var Oe=(h.xlmeta.Cell||[])[+P.cm-1];Oe&&Oe.type=="XLDAPR"&&(q.D=!0)}if(Se){var ue=Ci(P.r);f[ue.r]||(f[ue.r]=[]),f[ue.r][ue.c]=q}else f[P.r]=q}}}}ve.length>0&&(f["!rows"]=ve)}})();function Vie(n,e,t,r){var i=[],s=[],a=dr(n["!ref"]),o="",c,f="",h=[],p=0,g=0,m=n["!rows"],b=Array.isArray(n),_={r:f},w,T=-1;for(g=a.s.c;g<=a.e.c;++g)h[g]=Ti(g);for(p=a.s.r;p<=a.e.r;++p){for(s=[],f=Zi(p),g=a.s.c;g<=a.e.c;++g){c=h[g]+f;var L=b?(n[p]||[])[g]:n[c];L!==void 0&&(o=Gie(L,c,n,e))!=null&&s.push(o)}(s.length>0||m&&m[p])&&(_={r:f},m&&m[p]&&(w=m[p],w.hidden&&(_.hidden=1),T=-1,w.hpx?T=c2(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(_.ht=T,_.customHeight=1),w.level&&(_.outlineLevel=w.level)),i[i.length]=wt("row",s.join(""),_))}if(m)for(;p<m.length;++p)m&&m[p]&&(_={r:p+1},w=m[p],w.hidden&&(_.hidden=1),T=-1,w.hpx?T=c2(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(_.ht=T,_.customHeight=1),w.level&&(_.outlineLevel=w.level),i[i.length]=wt("row","",_));return i.join("")}function UP(n,e,t,r){var i=[es,wt("worksheet",null,{xmlns:Sm[0],"xmlns:r":ks.r})],s=t.SheetNames[n],a=0,o="",c=t.Sheets[s];c==null&&(c={});var f=c["!ref"]||"A1",h=dr(f);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Dn(h)}r||(r={}),c["!comments"]=[];var p=[];Nie(c,t,n,e,i),i[i.length]=wt("dimension",null,{ref:f}),i[i.length]=jie(c,e,n,t),e.sheetFormat&&(i[i.length]=wt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Oie(c,c["!cols"])),i[a=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Vie(c,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),c["!protect"]&&(i[i.length]=Iie(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Uie(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=Cie(c["!merges"]));var g=-1,m,b=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(_){_[1].Target&&(m={ref:_[0]},_[1].Target.charAt(0)!="#"&&(b=Mr(r,-1,Dr(_[1].Target).replace(/#.*$/,""),Xn.HLINK),m["r:id"]="rId"+b),(g=_[1].Target.indexOf("#"))>-1&&(m.location=Dr(_[1].Target.slice(g+1))),_[1].Tooltip&&(m.tooltip=Dr(_[1].Tooltip)),i[i.length]=wt("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Die(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ha("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(b=Mr(r,-1,"../drawings/drawing"+(n+1)+".xml",Xn.DRAW),i[i.length]=wt("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=p),c["!comments"].length>0&&(b=Mr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Xn.VML),i[i.length]=wt("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Wie(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function Xie(n,e,t){var r=at(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=c2(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var f={r:n,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var p=-1,g=-1,m=h<<10;m<h+1<<10;++m){f.c=m;var b=Array.isArray(t)?(t[f.r]||[])[f.c]:t[_n(f)];b&&(p<0&&(p=m),g=m)}p<0||(++o,r.write_shift(4,p),r.write_shift(4,g))}var _=r.l;return r.l=c,r.write_shift(4,o),r.l=_,r.length>r.l?r.slice(0,r.l):r}function Yie(n,e,t,r){var i=Xie(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&gt(n,0,i)}var $ie=km,Kie=vv;function Jie(){}function Zie(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=tZ(n),t}function Qie(n,e,t){t==null&&(t=at(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return Rw({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),DD(n,t),t.slice(0,t.l)}function ese(n){var e=lc(n);return[e]}function tse(n,e,t){return t==null&&(t=at(8)),Em(e,t)}function nse(n){var e=Tm(n);return[e]}function rse(n,e,t){return t==null&&(t=at(4)),Cm(e,t)}function ise(n){var e=lc(n),t=n.read_shift(1);return[e,t,"b"]}function sse(n,e,t){return t==null&&(t=at(9)),Em(e,t),t.write_shift(1,n.v?1:0),t}function ase(n){var e=Tm(n),t=n.read_shift(1);return[e,t,"b"]}function ose(n,e,t){return t==null&&(t=at(5)),Cm(e,t),t.write_shift(1,n.v?1:0),t}function lse(n){var e=lc(n),t=n.read_shift(1);return[e,t,"e"]}function cse(n,e,t){return t==null&&(t=at(9)),Em(e,t),t.write_shift(1,n.v),t}function use(n){var e=Tm(n),t=n.read_shift(1);return[e,t,"e"]}function fse(n,e,t){return t==null&&(t=at(8)),Cm(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function hse(n){var e=lc(n),t=n.read_shift(4);return[e,t,"s"]}function dse(n,e,t){return t==null&&(t=at(12)),Em(e,t),t.write_shift(4,e.v),t}function pse(n){var e=Tm(n),t=n.read_shift(4);return[e,t,"s"]}function mse(n,e,t){return t==null&&(t=at(8)),Cm(e,t),t.write_shift(4,e.v),t}function gse(n){var e=lc(n),t=Da(n);return[e,t,"n"]}function vse(n,e,t){return t==null&&(t=at(16)),Em(e,t),mm(n.v,t),t}function HP(n){var e=Tm(n),t=Da(n);return[e,t,"n"]}function xse(n,e,t){return t==null&&(t=at(12)),Cm(e,t),mm(n.v,t),t}function yse(n){var e=lc(n),t=U4(n);return[e,t,"n"]}function bse(n,e,t){return t==null&&(t=at(12)),Em(e,t),PD(n.v,t),t}function _se(n){var e=Tm(n),t=U4(n);return[e,t,"n"]}function wse(n,e,t){return t==null&&(t=at(8)),Cm(e,t),PD(n.v,t),t}function Ase(n){var e=lc(n),t=P4(n);return[e,t,"is"]}function Sse(n){var e=lc(n),t=Oa(n);return[e,t,"str"]}function Ese(n,e,t){return t==null&&(t=at(12+4*n.v.length)),Em(e,t),Ws(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Tse(n){var e=Tm(n),t=Oa(n);return[e,t,"str"]}function Cse(n,e,t){return t==null&&(t=at(8+4*n.v.length)),Cm(e,t),Ws(n.v,t),t.length>t.l?t.slice(0,t.l):t}function kse(n,e,t){var r=n.l+e,i=lc(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"b"];if(t.cellFormula){n.l+=2;var o=T5(n,r-n.l,t);a[3]=Ia(o,null,i,t.supbooks,t)}else n.l=r;return a}function Nse(n,e,t){var r=n.l+e,i=lc(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"e"];if(t.cellFormula){n.l+=2;var o=T5(n,r-n.l,t);a[3]=Ia(o,null,i,t.supbooks,t)}else n.l=r;return a}function Rse(n,e,t){var r=n.l+e,i=lc(n);i.r=t["!row"];var s=Da(n),a=[i,s,"n"];if(t.cellFormula){n.l+=2;var o=T5(n,r-n.l,t);a[3]=Ia(o,null,i,t.supbooks,t)}else n.l=r;return a}function Lse(n,e,t){var r=n.l+e,i=lc(n);i.r=t["!row"];var s=Oa(n),a=[i,s,"str"];if(t.cellFormula){n.l+=2;var o=T5(n,r-n.l,t);a[3]=Ia(o,null,i,t.supbooks,t)}else n.l=r;return a}var Ise=km,Mse=vv;function Fse(n,e){return e==null&&(e=at(4)),e.write_shift(4,n),e}function Dse(n,e){var t=n.l+e,r=km(n),i=O4(n),s=Oa(n),a=Oa(n),o=Oa(n);n.l=t;var c={rfx:r,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function Pse(n,e){var t=at(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));vv({s:Ci(n[0]),e:Ci(n[0])},t),B4("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Ws(i||"",t),Ws(n[1].Tooltip||"",t),Ws("",t),t.slice(0,t.l)}function Ose(){}function Bse(n,e,t){var r=n.l+e,i=OD(n),s=n.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=lie(n,r-n.l,t);a[1]=o}else n.l=r;return a}function Use(n,e,t){var r=n.l+e,i=km(n),s=[i];if(t.cellFormula){var a=uie(n,r-n.l,t);s[1]=a,n.l=r}else n.l=r;return s}function Hse(n,e,t){t==null&&(t=at(18));var r=C5(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var zP=["left","right","top","bottom","header","footer"];function zse(n){var e={};return zP.forEach(function(t){e[t]=Da(n)}),e}function jse(n,e){return e==null&&(e=at(48)),am(n),zP.forEach(function(t){mm(n[t],e)}),e}function Gse(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function qse(n,e,t){t==null&&(t=at(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Vse(n){var e=at(24);return e.write_shift(4,4),e.write_shift(4,1),vv(n,e),e}function Wse(n,e){return e==null&&(e=at(66)),e.write_shift(2,n.password?V4(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Xse(){}function Yse(){}function $se(n,e,t,r,i,s,a){if(!n)return n;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,b,_,w,T,L,R,F,z,q=[];o.biff=12,o["!row"]=0;var P=0,X=!1,O=[],ee={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=ee,B.arrayf=O,B.SheetNames=i.SheetNames||i.Sheets.map(function(Se){return Se.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var G=0;G<i.Names.length;++G)B[0][G+1]=i.Names[G];var Q=[],ce=[],_e=!1;u2[16]={n:"BrtShortReal",f:HP};var K;if(Ih(n,function(ve,Pe,ie){if(!g)switch(ie){case 148:f=ve;break;case 0:m=ve,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),F=Zi(w=m.r),o["!row"]=m.r,(ve.hidden||ve.hpt||ve.level!=null)&&(ve.hpt&&(ve.hpx=cv(ve.hpt)),ce[ve.r]=ve);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:ve[2]},ve[2]){case"n":b.v=ve[1];break;case"s":R=Hx[ve[1]],b.v=R.t,b.r=R.r;break;case"b":b.v=!!ve[1];break;case"e":b.v=ve[1],o.cellText!==!1&&(b.w=Mh[b.v]);break;case"str":b.t="s",b.v=ve[1];break;case"is":b.t="s",b.v=ve[1].t;break}if((_=a.CellXf[ve[0].iStyleRef])&&OP(b,_.numFmtId,null,o,s,a),T=ve[0].c==-1?T+1:ve[0].c,o.dense?(c[w]||(c[w]=[]),c[w][T]=b):c[Ti(T)+F]=b,o.cellFormula){for(X=!1,P=0;P<O.length;++P){var I=O[P];m.r>=I[0].s.r&&m.r<=I[0].e.r&&T>=I[0].s.c&&T<=I[0].e.c&&(b.F=Dn(I[0]),X=!0)}!X&&ve.length>3&&(b.f=ve[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>T&&(h.s.c=T),h.e.r<m.r&&(h.e.r=m.r),h.e.c<T&&(h.e.c=T),o.cellDates&&_&&b.t=="n"&&pv(bn[_.numFmtId])){var j=K0(b.v);j&&(b.t="d",b.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;b={t:"z",v:void 0},T=ve[0].c==-1?T+1:ve[0].c,o.dense?(c[w]||(c[w]=[]),c[w][T]=b):c[Ti(T)+F]=b,h.s.r>m.r&&(h.s.r=m.r),h.s.c>T&&(h.s.c=T),h.e.r<m.r&&(h.e.r=m.r),h.e.c<T&&(h.e.c=T),K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 176:q.push(ve);break;case 49:K=((o.xlmeta||{}).Cell||[])[ve-1];break;case 494:var U=r["!id"][ve.relId];for(U?(ve.Target=U.Target,ve.loc&&(ve.Target+="#"+ve.loc),ve.Rel=U):ve.relId==""&&(ve.Target="#"+ve.loc),w=ve.rfx.s.r;w<=ve.rfx.e.r;++w)for(T=ve.rfx.s.c;T<=ve.rfx.e.c;++T)o.dense?(c[w]||(c[w]=[]),c[w][T]||(c[w][T]={t:"z",v:void 0}),c[w][T].l=ve):(L=_n({c:T,r:w}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=ve);break;case 426:if(!o.cellFormula)break;O.push(ve),z=o.dense?c[w][T]:c[Ti(T)+F],z.f=Ia(ve[1],h,{r:m.r,c:T},B,o),z.F=Dn(ve[0]);break;case 427:if(!o.cellFormula)break;ee[_n(ve[0].s)]=ve[1],z=o.dense?c[w][T]:c[Ti(T)+F],z.f=Ia(ve[1],h,{r:m.r,c:T},B,o);break;case 60:if(!o.cellStyles)break;for(;ve.e>=ve.s;)Q[ve.e--]={width:ve.w/256,hidden:!!(ve.flags&1),level:ve.level},_e||(_e=!0,W4(ve.w/256)),r0(Q[ve.e+1]);break;case 161:c["!autofilter"]={ref:Dn(ve)};break;case 476:c["!margins"]=ve;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),ve.name&&(i.Sheets[t].CodeName=ve.name),(ve.above||ve.left)&&(c["!outline"]={above:ve.above,left:ve.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ve.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Pe.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+ie.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=Dn(f||h)),o.sheetRows&&c["!ref"]){var le=dr(c["!ref"]);o.sheetRows<=+le.e.r&&(le.e.r=o.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Dn(le))}return q.length>0&&(c["!merges"]=q),Q.length>0&&(c["!cols"]=Q),ce.length>0&&(c["!rows"]=ce),c}function Kse(n,e,t,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=li(e),e.z=e.z||bn[14],e.v=Rs(oi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r:t,c:r};switch(c.s=f0(i.cellXfs,e,i),e.l&&s["!links"].push([_n(c),e.l]),e.c&&s["!comments"].push([_n(c),e.c]),e.t){case"s":case"str":return i.bookSST?(o=J4(i.Strings,e.v,i.revStrings),c.t="s",c.v=o,a?gt(n,18,mse(e,c)):gt(n,7,dse(e,c))):(c.t="str",a?gt(n,17,Cse(e,c)):gt(n,6,Ese(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?gt(n,13,wse(e,c)):gt(n,2,bse(e,c)):a?gt(n,16,xse(e,c)):gt(n,5,vse(e,c)),!0;case"b":return c.t="b",a?gt(n,15,ose(e,c)):gt(n,4,sse(e,c)),!0;case"e":return c.t="e",a?gt(n,14,fse(e,c)):gt(n,3,cse(e,c)),!0}return a?gt(n,12,rse(e,c)):gt(n,1,tse(e,c)),!0}function Jse(n,e,t,r){var i=dr(e["!ref"]||"A1"),s,a="",o=[];gt(n,145);var c=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=f;++h){a=Zi(h),Yie(n,e,i,h);var p=!1;if(h<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){h===i.s.r&&(o[g]=Ti(g)),s=o[g]+a;var m=c?(e[h]||[])[g]:e[s];if(!m){p=!1;continue}p=Kse(n,m,h,g,r,e,p)}}gt(n,146)}function Zse(n,e){!e||!e["!merges"]||(gt(n,177,Fse(e["!merges"].length)),e["!merges"].forEach(function(t){gt(n,176,Mse(t))}),gt(n,178))}function Qse(n,e){!e||!e["!cols"]||(gt(n,390),e["!cols"].forEach(function(t,r){t&&gt(n,60,Hse(r,t))}),gt(n,391))}function eae(n,e){!e||!e["!ref"]||(gt(n,648),gt(n,649,Vse(dr(e["!ref"]))),gt(n,650))}function tae(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Mr(t,-1,r[1].Target.replace(/#.*$/,""),Xn.HLINK);gt(n,494,Pse(r,i))}}),delete e["!links"]}function nae(n,e,t,r){if(e["!comments"].length>0){var i=Mr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Xn.VML);gt(n,551,B4("rId"+i)),e["!legacy"]=i}}function rae(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Dn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=Bo(s);o.s.r==o.e.r&&(o.e.r=Bo(e["!ref"]).e.r,s=Dn(o));for(var c=0;c<a.length;++c){var f=a[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),gt(n,161,vv(dr(s))),gt(n,162)}}function iae(n,e,t){gt(n,133),gt(n,137,qse(e,t)),gt(n,138),gt(n,134)}function sae(n,e){e["!protect"]&&gt(n,535,Wse(e["!protect"]))}function aae(n,e,t,r){var i=Po(),s=t.SheetNames[n],a=t.Sheets[s]||{},o=s;try{t&&t.Workbook&&(o=t.Workbook.Sheets[n].CodeName||o)}catch{}var c=dr(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],gt(i,129),(t.vbaraw||a["!outline"])&&gt(i,147,Qie(o,a["!outline"])),gt(i,148,Kie(c)),iae(i,a,t.Workbook),Qse(i,a),Jse(i,a,n,e),sae(i,a),rae(i,a,t,n),Zse(i,a),tae(i,a,r),a["!margins"]&&gt(i,476,jse(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&eae(i,a),nae(i,a,n,r),gt(i,130),i.end()}function oae(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=fr((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function lae(n,e,t,r,i,s){var a=s||{"!type":"chart"};if(!n)return s;var o=0,c=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=oae(p);h.s.r=h.s.c=0,h.e.c=o,f=Ti(o),g[0].forEach(function(m,b){a[f+Zi(b)]={t:"n",v:m,z:g[1]},c=b}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(a["!ref"]=Dn(h)),a}function cae(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=n.match(BP);return o&&Z4(o[0],s,i,t),(a=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function uae(n,e){n.l+=10;var t=Oa(n);return{name:t}}function fae(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Ih(n,function(c,f,h){switch(h){case 550:s["!rel"]=c;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),c.name&&(i.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Q4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],hae=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],dae=[],pae=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function QR(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=si(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function eL(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=si(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function jP(n){eL(n.WBProps,Q4),eL(n.CalcPr,pae),QR(n.WBView,hae),QR(n.Sheets,dae),Qg.date1904=si(n.WBProps.date1904)}function mae(n){return!n.Workbook||!n.Workbook.WBProps?"false":si(n.Workbook.WBProps.date1904)?"true":"false"}var gae="][*?/\\".split("");function GP(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return gae.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function vae(n,e,t){n.forEach(function(r,i){GP(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function xae(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];vae(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)mie(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}var yae=/<\w+:workbook/;function bae(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(n.replace(Ua,function(c,f){var h=wn(c);switch(cf(h[0])){case"<?xml":break;case"<workbook":c.match(yae)&&(i="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],t.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Q4.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":t.WBProps[p[0]]=si(h[p[0]]);break;case"int":t.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:t.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(t.WBProps.CodeName=qr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],t.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=fr(qr(h.name)),delete h[0],t.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=qr(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),si(h.hidden||"0")&&(s.Hidden=!0),a=f+c.length;break;case"</definedName>":s.Ref=fr(qr(n.slice(a,f))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],t.CalcPr=h;break;case"<calcPr/>":delete h[0],t.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),Sm.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return jP(t),t}function qP(n){var e=[es];e[e.length]=wt("workbook",null,{xmlns:Sm[0],"xmlns:r":ks.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Q4.forEach(function(o){n.Workbook.WBProps[o[0]]!=null&&n.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=n.Workbook.WBProps[o[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=wt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:Dr(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=wt("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=wt("definedName",Dr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function _ae(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=LT(n),t.name=Oa(n),t}function wae(n,e){return e||(e=at(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),B4(n.strRelID,e),Ws(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Aae(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Oa(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function Sae(n,e){e||(e=at(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),DD(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Eae(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function Tae(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=nZ(n),a=cie(n,0,t),o=O4(n);n.l=r;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Cae(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],u2[16]={n:"BrtFRTArchID$",f:Eae},Ih(n,function(c,f,h){switch(h){case 156:a.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ia(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([h,c]):a[0]=[h,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),jP(t),t.Names=s,t.supbooks=a,t}function kae(n,e){gt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};gt(n,156,wae(i))}gt(n,144)}function Nae(n,e){e||(e=at(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Ws("SheetJS",e),Ws(Aw.version,e),Ws(Aw.version,e),Ws("7262",e),e.length>e.l?e.slice(0,e.l):e}function Rae(n,e){e||(e=at(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Lae(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(gt(n,135),gt(n,158,Rae(i)),gt(n,136))}}function Iae(n,e){var t=Po();return gt(t,131),gt(t,128,Nae()),gt(t,153,Sae(n.Workbook&&n.Workbook.WBProps||null)),Lae(t,n),kae(t,n),gt(t,132),t.end()}function Mae(n,e,t){return e.slice(-4)===".bin"?Cae(n,t):bae(n,t)}function Fae(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?$se(n,r,t,i,s,a,o):Tie(n,r,t,i,s,a,o)}function Dae(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?fae(n,r,t,i,s):cae(n,r,t,i,s)}function Pae(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?Bne():Une()}function Oae(n,e,t,r,i,s,a,o){return e.slice(-4)===".bin"?Pne():One()}function Bae(n,e,t,r){return e.slice(-4)===".bin"?Mte(n,t,r):_te(n,t,r)}function Uae(n,e,t){return SP(n,t)}function Hae(n,e,t){return e.slice(-4)===".bin"?Hee(n,t):Oee(n,t)}function zae(n,e,t){return e.slice(-4)===".bin"?Lne(n,t):wne(n,t)}function jae(n,e,t){return e.slice(-4)===".bin"?yne(n):vne(n)}function Gae(n,e,t,r){return t.slice(-4)===".bin"?bne(n,e,t,r):void 0}function qae(n,e,t){return e.slice(-4)===".bin"?pne(n,e,t):gne(n,e,t)}function Vae(n,e,t){return(e.slice(-4)===".bin"?Iae:qP)(n)}function Wae(n,e,t,r,i){return(e.slice(-4)===".bin"?aae:UP)(n,t,r,i)}function Xae(n,e,t){return(e.slice(-4)===".bin"?Gte:wP)(n,t)}function Yae(n,e,t){return(e.slice(-4)===".bin"?Gee:pP)(n,t)}function $ae(n,e,t){return(e.slice(-4)===".bin"?Ine:CP)(n)}function Kae(n){return(n.slice(-4)===".bin"?mne:EP)()}var VP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pc(n,e){var t=n.split(/\s+/),r=[];if(r[0]=t[0],t.length===1)return r;var i=n.match(VP),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(WP),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function Jae(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(VP),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(WP),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var jx;function Zae(n,e){var t=jx[n]||fr(n);return t==="General"?dm(e):oc(t,e)}function Qae(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=si(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=oi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[fr(e)]=i}function eoe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Mh[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v):n.w=dm(n.v):n.w=Zae(e||"General",n.v)}catch(s){if(t.WTF)throw s}try{var r=jx[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&pv(r)){var i=K0(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function toe(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=dte[r.Pattern]||r.Pattern)}n[e.ID]=e}function noe(n,e,t,r,i,s,a,o,c,f){var h="General",p=r.StyleID,g={};f=f||{};var m=[],b=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(h=s[p].nf),s[p].Interior&&m.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=si(n);break;case"String":r.t="s",r.r=vR(fr(n)),r.v=n.indexOf("<")>-1?fr(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(oi(n)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=fr(n):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=HD[n],f.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=vR(e||n));break}if(eoe(r,h,f),f.cellFormula!==!1)if(r.Formula){var _=fr(r.Formula);_.charCodeAt(0)==61&&(_=_.slice(1)),r.f=Zg(_,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Zg("RC:RC",i):r.ArrayRange&&(r.F=Zg(r.ArrayRange,i),c.push([dr(r.F),r.F]))}else for(b=0;b<c.length;++b)i.r>=c[b][0].s.r&&i.r<=c[b][0].e.r&&i.c>=c[b][0].s.c&&i.c<=c[b][0].e.c&&(r.F=c[b][1]);f.cellStyles&&(m.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function roe(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function MS(n,e){var t=e||{};mv();var r=Cx(L4(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(r=qr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=li(t);return a.type="string",lv.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ht){i.indexOf("<"+ht)>=0&&(s=!0)}),s)return joe(r,t);jx={"General Number":"General","General Date":bn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":bn[15],"Short Date":bn[14],"Long Time":bn[19],"Medium Time":bn[18],"Short Time":bn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:bn[2],Standard:bn[4],Percent:bn[10],Scientific:bn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,h={},p=[],g=t.dense?[]:{},m="",b={},_={},w=Pc('<Data ss:Type="String">'),T=0,L=0,R=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},q={},P="",X=0,O=[],ee={},B={},G=0,Q=[],ce=[],_e={},K=[],le,Se=!1,ve=[],Pe=[],ie={},I=0,j=0,U={Sheets:[],WBProps:{date1904:!1}},Y={};i2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=i2.exec(r);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?noe(r.slice(T,o.index),P,w,c[c.length-1][0]=="comment"?_e:b,{c:L,r:R},z,K[L],_,ve,t):(P="",w=Pc(o[0]),T=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ce.length>0&&(b.c=ce),(!t.sheetRows||t.sheetRows>R)&&b.v!==void 0&&(t.dense?(g[R]||(g[R]=[]),g[R][L]=b):g[Ti(L)+Zi(R)]=b),b.HRef&&(b.l={Target:fr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(I=L+(parseInt(b.MergeAcross,10)|0),j=R+(parseInt(b.MergeDown,10)|0),O.push({s:{c:L,r:R},e:{c:I,r:j}})),!t.sheetStubs)b.MergeAcross?L=I+1:++L;else if(b.MergeAcross||b.MergeDown){for(var ye=L;ye<=I;++ye)for(var me=R;me<=j;++me)(ye>L||me>R)&&(t.dense?(g[me]||(g[me]=[]),g[me][ye]={t:"z"}):g[Ti(ye)+Zi(me)]={t:"z"});L=I+1}else++L;else b=Jae(o[0]),b.Index&&(L=+b.Index-1),L<F.s.c&&(F.s.c=L),L>F.e.c&&(F.e.c=L),o[0].slice(-2)==="/>"&&++L,ce=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<F.s.r&&(F.s.r=R),R>F.e.r&&(F.e.r=R),o[0].slice(-2)==="/>"&&(_=Pc(o[0]),_.Index&&(R=+_.Index-1)),L=0,++R):(_=Pc(o[0]),_.Index&&(R=+_.Index-1),ie={},(_.AutoFitHeight=="0"||_.Height)&&(ie.hpx=parseInt(_.Height,10),ie.hpt=c2(ie.hpx),Pe[R]=ie),_.Hidden=="1"&&(ie.hidden=!0,Pe[R]=ie));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));p.push(m),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(g["!ref"]=Dn(F),t.sheetRows&&t.sheetRows<=F.e.r&&(g["!fullref"]=g["!ref"],F.e.r=t.sheetRows-1,g["!ref"]=Dn(F))),O.length&&(g["!merges"]=O),K.length>0&&(g["!cols"]=K),Pe.length>0&&(g["!rows"]=Pe),h[m]=g}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=L=0,c.push([o[3],!1]),f=Pc(o[0]),m=fr(f.Name),g=t.dense?[]:{},O=[],ve=[],Pe=[],Y={name:m,Hidden:0},U.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),K=[],Se=!1}break;case"style":o[1]==="/"?toe(z,q,t):q=Pc(o[0]);break;case"numberformat":q.nf=fr(Pc(o[0]).Format||"General"),jx[q.nf]&&(q.nf=jx[q.nf]);for(var fe=0;fe!=392&&bn[fe]!=q.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(bn[fe]==null){bh(q.nf,fe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(le=Pc(o[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!Se&&le.wpx>10){Se=!0,Ma=bP;for(var Te=0;Te<K.length;++Te)K[Te]&&r0(K[Te])}Se&&r0(le),K[le.Index-1||K.length]=le;for(var Oe=0;Oe<+le.Span;++Oe)K[K.length]=li(le);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var ue=wn(o[0]),nt={Name:ue.Name,Ref:Zg(ue.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(nt.Sheet=U.Sheets.length-1),U.Names.push(nt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=r.slice(X,o.index):X=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;q.Interior=Pc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?CZ(ee,ae,r.slice(G,o.index)):G=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));roe(_e),ce.push(_e)}else c.push([o[3],!1]),f=Pc(o[0]),_e={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var it=Pc(o[0]);g["!autofilter"]={ref:Zg(it.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return sL(r,t);var de=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(G,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else G=o.index+o[0].length;break;case"header":g["!margins"]||am(g["!margins"]={},"xlml"),isNaN(+wn(o[0]).Margin)||(g["!margins"].header=+wn(o[0]).Margin);break;case"footer":g["!margins"]||am(g["!margins"]={},"xlml"),isNaN(+wn(o[0]).Margin)||(g["!margins"].footer=+wn(o[0]).Margin);break;case"pagemargins":var Fe=wn(o[0]);g["!margins"]||am(g["!margins"]={},"xlml"),isNaN(+Fe.Top)||(g["!margins"].top=+Fe.Top),isNaN(+Fe.Left)||(g["!margins"].left=+Fe.Left),isNaN(+Fe.Right)||(g["!margins"].right=+Fe.Right),isNaN(+Fe.Bottom)||(g["!margins"].bottom=+Fe.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Qae(B,ae,Q,r.slice(G,o.index)):(Q=o,G=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var He={};return!t.bookSheets&&!t.bookProps&&(He.Sheets=h),He.SheetNames=p,He.Workbook=U,He.SSF=li(bn),He.Props=ee,He.Custprops=B,He}function BT(n,e){switch(tC(e=e||{}),e.type||"base64"){case"base64":return MS(Al(n),e);case"binary":case"buffer":case"file":return MS(n,e);case"array":return MS(c0(n),e)}}function ioe(n,e){var t=[];return n.Props&&t.push(kZ(n.Props,e)),n.Custprops&&t.push(NZ(n.Props,n.Custprops)),t.join("")}function soe(){return""}function aoe(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(wt("NumberFormat",null,{"ss:Format":Dr(bn[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};t.push(wt("Style",s.join(""),a))}),wt("Styles",t.join(""))}function XP(n){return wt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+$4(n.Ref,{r:0,c:0})})}function ooe(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(XP(i)))}return wt("Names",t.join(""))}function loe(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||s.push(XP(o)))}return s.join("")}function coe(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(wt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(wt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(wt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(wt("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(ha("ProtectContents","True")),n["!protect"].objects&&i.push(ha("ProtectObjects","True")),n["!protect"].scenarios&&i.push(ha("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(ha("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(ha("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":wt("WorksheetOptions",i.join(""),{xmlns:ml.x})}function uoe(n){return n.map(function(e){var t=LJ(e.t||""),r=wt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",r,{"ss:Author":e.a})}).join("")}function foe(n,e,t,r,i,s,a){if(!n||n.v==null&&n.f==null)return"";var o={};if(n.f&&(o["ss:Formula"]="="+Dr($4(n.f,a))),n.F&&n.F.slice(0,e.length)==e){var c=Ci(n.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(n.l&&n.l.Target&&(o["ss:HRef"]=Dr(n.l.Target),n.l.Tooltip&&(o["x:HRefScreenTip"]=Dr(n.l.Tooltip))),t["!merges"])for(var f=t["!merges"],h=0;h!=f.length;++h)f[h].s.c!=a.c||f[h].s.r!=a.r||(f[h].e.c>f[h].s.c&&(o["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(o["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",g="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":p="Number",g=String(n.v);break;case"b":p="Boolean",g=n.v?"1":"0";break;case"e":p="Error",g=Mh[n.v];break;case"d":p="DateTime",g=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||bn[14]);break;case"s":p="String",g=RJ(n.v||"");break}var m=f0(r.cellXfs,n,r);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var b=n.v!=null?g:"",_=n.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(n.c||[]).length>0&&(_+=uoe(n.c)),wt("Cell",_,o)}function hoe(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=cv(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function doe(n,e,t,r){if(!n["!ref"])return"";var i=dr(n["!ref"]),s=n["!merges"]||[],a=0,o=[];n["!cols"]&&n["!cols"].forEach(function(w,T){r0(w);var L=!!w.width,R=C5(T,w),F={"ss:Index":T+1};L&&(F["ss:Width"]=o2(R.width)),w.hidden&&(F["ss:Hidden"]="1"),o.push(wt("Column",null,F))});for(var c=Array.isArray(n),f=i.s.r;f<=i.e.r;++f){for(var h=[hoe(f,(n["!rows"]||[])[f])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>f)&&!(s[a].e.c<p)&&!(s[a].e.r<f)){(s[a].s.c!=p||s[a].s.r!=f)&&(g=!0);break}if(!g){var m={r:f,c:p},b=_n(m),_=c?(n[f]||[])[p]:n[b];h.push(foe(_,b,n,e,t,r,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function poe(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],a=s?loe(s,e,n,t):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?doe(s,e,n,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(coe(s,e,n,t)),r.join("")}function moe(n,e){e||(e={}),n.SSF||(n.SSF=li(bn)),n.SSF&&(mv(),b5(n.SSF),e.revssf=w5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],f0(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(ioe(n,e)),t.push(soe()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(wt("Worksheet",poe(r,e,n),{"ss:Name":Dr(n.SheetNames[r])}));return t[2]=aoe(n,e),t[3]=ooe(n),es+wt("Workbook",t.join(""),{xmlns:ml.ss,"xmlns:o":ml.o,"xmlns:x":ml.x,"xmlns:ss":ml.ss,"xmlns:dt":ml.dt,"xmlns:html":ml.html})}function goe(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=oZ(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=lZ(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var voe=[60,1084,2066,2165,2175];function xoe(n,e,t,r,i){var s=r,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var c=vh(t,t.l),f=UT[c],h=0;f!=null&&voe.indexOf(c)>-1;)s=vh(t,t.l+2),h=t.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=t.slice(h,t.l+4+s),a.push(o),t.l+=4+s,f=UT[c=vh(t,t.l)];var p=Vs(a);fa(p,0);var g=0;p.lens=[];for(var m=0;m<a.length;++m)p.lens.push(g),g+=a[m].length;if(p.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,i)}function Mu(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=bn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Mh[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=t2(n.v):n.w=dm(n.v):n.w=oc(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&n.t=="n"&&pv(bn[r]||String(r))){var i=K0(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function g_(n,e,t){return{v:n,ixfe:e,t}}function yoe(n,e){var t={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,c=[],f="",h={},p,g="",m,b,_,w,T={},L=[],R,F,z=[],q=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},X={},O=function(je){return je<8?rm[je]:je<64&&q[je-8]||rm[je]},ee=function(je,ot,fn){var Lt=ot.XF.data;if(!(!Lt||!Lt.patternType||!fn||!fn.cellStyles)){ot.s={},ot.s.patternType=Lt.patternType;var Pt;(Pt=a2(O(Lt.icvFore)))&&(ot.s.fgColor={rgb:Pt}),(Pt=a2(O(Lt.icvBack)))&&(ot.s.bgColor={rgb:Pt})}},B=function(je,ot,fn){if(!(ie>1)&&!(fn.sheetRows&&je.r>=fn.sheetRows)){if(fn.cellStyles&&ot.XF&&ot.XF.data&&ee(je,ot,fn),delete ot.ixfe,delete ot.XF,p=je,g=_n(je),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),je.r<a.s.r&&(a.s.r=je.r),je.c<a.s.c&&(a.s.c=je.c),je.r+1>a.e.r&&(a.e.r=je.r+1),je.c+1>a.e.c&&(a.e.c=je.c+1),fn.cellFormula&&ot.f){for(var Lt=0;Lt<L.length;++Lt)if(!(L[Lt][0].s.c>je.c||L[Lt][0].s.r>je.r)&&!(L[Lt][0].e.c<je.c||L[Lt][0].e.r<je.r)){ot.F=Dn(L[Lt][0]),(L[Lt][0].s.c!=je.c||L[Lt][0].s.r!=je.r)&&delete ot.f,ot.f&&(ot.f=""+Ia(L[Lt][1],a,je,ve,G));break}}fn.dense?(i[je.r]||(i[je.r]=[]),i[je.r][je.c]=ot):i[g]=ot}},G={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(G.password=e.password);var Q,ce=[],_e=[],K=[],le=[],Se=!1,ve=[];ve.SheetNames=G.snames,ve.sharedf=G.sharedf,ve.arrayf=G.arrayf,ve.names=[],ve.XTI=[];var Pe=0,ie=0,I=0,j=[],U=[],Y;G.codepage=1200,Zc(1200);for(var ae=!1;n.l<n.length-1;){var ye=n.l,me=n.read_shift(2);if(me===0&&Pe===10)break;var fe=n.l===n.length?0:n.read_shift(2),Te=UT[me];if(Te&&Te.f){if(e.bookSheets&&Pe===133&&me!==133)break;if(Pe=me,Te.r===2||Te.r==12){var Oe=n.read_shift(2);if(fe-=2,!G.enc&&Oe!==me&&((Oe&255)<<8|Oe>>8)!==me)throw new Error("rt mismatch: "+Oe+"!="+me);Te.r==12&&(n.l+=10,fe-=10)}var ue={};if(me===10?ue=Te.f(n,fe,G):ue=xoe(me,Te,n,fe,G),ie==0&&[9,521,1033,2057].indexOf(Pe)===-1)continue;switch(me){case 34:t.opts.Date1904=P.WBProps.date1904=ue;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(G.enc||(n.l=0),G.enc=ue,!e.password)throw new Error("File is password-protected");if(ue.valid==null)throw new Error("Encryption scheme unsupported");if(!ue.valid)throw new Error("Password is incorrect");break;case 92:G.lastuser=ue;break;case 66:var nt=Number(ue);switch(nt){case 21010:nt=1200;break;case 32768:nt=1e4;break;case 32769:nt=1252;break}Zc(G.codepage=nt),ae=!0;break;case 317:G.rrtabid=ue;break;case 25:G.winlocked=ue;break;case 439:t.opts.RefreshAll=ue;break;case 12:t.opts.CalcCount=ue;break;case 16:t.opts.CalcDelta=ue;break;case 17:t.opts.CalcIter=ue;break;case 13:t.opts.CalcMode=ue;break;case 14:t.opts.CalcPrecision=ue;break;case 95:t.opts.CalcSaveRecalc=ue;break;case 15:G.CalcRefMode=ue;break;case 2211:t.opts.FullCalc=ue;break;case 129:ue.fDialog&&(i["!type"]="dialog"),ue.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ue.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:z.push(ue);break;case 430:ve.push([ue]),ve[ve.length-1].XTI=[];break;case 35:case 547:ve[ve.length-1].push(ue);break;case 24:case 536:Y={Name:ue.Name,Ref:Ia(ue.rgce,a,null,ve,G)},ue.itab>0&&(Y.Sheet=ue.itab-1),ve.names.push(Y),ve[0]||(ve[0]=[],ve[0].XTI=[]),ve[ve.length-1].push(ue),ue.Name=="_xlnm._FilterDatabase"&&ue.itab>0&&ue.rgce&&ue.rgce[0]&&ue.rgce[0][0]&&ue.rgce[0][0][0]=="PtgArea3d"&&(U[ue.itab-1]={ref:Dn(ue.rgce[0][0][1][2])});break;case 22:G.ExternCount=ue;break;case 23:ve.length==0&&(ve[0]=[],ve[0].XTI=[]),ve[ve.length-1].XTI=ve[ve.length-1].XTI.concat(ue),ve.XTI=ve.XTI.concat(ue);break;case 2196:if(G.biff<8)break;Y!=null&&(Y.Comment=ue[1]);break;case 18:i["!protect"]=ue;break;case 19:ue!==0&&G.WTF&&console.error("Password verifier: "+ue);break;case 133:s[ue.pos]=ue,G.snames.push(ue.name);break;case 10:{if(--ie)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Dn(a),e.sheetRows&&e.sheetRows<=a.e.r){var it=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Dn(a),a.e.r=it}a.e.r++,a.e.c++}ce.length>0&&(i["!merges"]=ce),_e.length>0&&(i["!objects"]=_e),K.length>0&&(i["!cols"]=K),le.length>0&&(i["!rows"]=le),P.Sheets.push(X)}f===""?h=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(G.biff===8&&(G.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ue.BIFFVer]||8),G.biffguess=ue.BIFFVer==0,ue.BIFFVer==0&&ue.dt==4096&&(G.biff=5,ae=!0,Zc(G.codepage=28591)),G.biff==8&&ue.BIFFVer==0&&ue.dt==16&&(G.biff=2),ie++)break;if(i=e.dense?[]:{},G.biff<8&&!ae&&(ae=!0,Zc(G.codepage=e.codepage||1252)),G.biff<5||ue.BIFFVer==0&&ue.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:n.l-fe,name:f};s[de.pos]=de,G.snames.push(f)}else f=(s[ye]||{name:""}).name;ue.dt==32&&(i["!type"]="chart"),ue.dt==64&&(i["!type"]="macro"),ce=[],_e=[],G.arrayf=L=[],K=[],le=[],Se=!1,X={Hidden:(s[ye]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ue.r]||[])[ue.c]:i[_n({c:ue.c,r:ue.r})])&&++ue.c,R={ixfe:ue.ixfe,XF:z[ue.ixfe]||{},v:ue.val,t:"n"},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e);break;case 5:case 517:R={ixfe:ue.ixfe,XF:z[ue.ixfe],v:ue.val,t:ue.t},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e);break;case 638:R={ixfe:ue.ixfe,XF:z[ue.ixfe],v:ue.rknum,t:"n"},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e);break;case 189:for(var Fe=ue.c;Fe<=ue.C;++Fe){var He=ue.rkrec[Fe-ue.c][0];R={ixfe:He,XF:z[He],v:ue.rkrec[Fe-ue.c][1],t:"n"},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:Fe,r:ue.r},R,e)}break;case 6:case 518:case 1030:{if(ue.val=="String"){o=ue;break}if(R=g_(ue.val,ue.cell.ixfe,ue.tt),R.XF=z[R.ixfe],e.cellFormula){var ht=ue.formula;if(ht&&ht[0]&&ht[0][0]&&ht[0][0][0]=="PtgExp"){var et=ht[0][0][1][0],kt=ht[0][0][1][1],_t=_n({r:et,c:kt});T[_t]?R.f=""+Ia(ue.formula,a,ue.cell,ve,G):R.F=((e.dense?(i[et]||[])[kt]:i[_t])||{}).F}else R.f=""+Ia(ue.formula,a,ue.cell,ve,G)}I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B(ue.cell,R,e),o=ue}break;case 7:case 519:if(o)o.val=ue,R=g_(ue,o.cell.ixfe,"s"),R.XF=z[R.ixfe],e.cellFormula&&(R.f=""+Ia(o.formula,a,o.cell,ve,G)),I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B(o.cell,R,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(ue);var jt=_n(ue[0].s);if(m=e.dense?(i[ue[0].s.r]||[])[ue[0].s.c]:i[jt],e.cellFormula&&m){if(!o||!jt||!m)break;m.f=""+Ia(ue[1],a,ue[0],ve,G),m.F=Dn(ue[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;T[_n(o.cell)]=ue[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[_n(o.cell)],(m||{}).f=""+Ia(ue[0],a,p,ve,G)}}break;case 253:R=g_(c[ue.isst].t,ue.ixfe,"s"),c[ue.isst].h&&(R.h=c[ue.isst].h),R.XF=z[R.ixfe],I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e);break;case 513:e.sheetStubs&&(R={ixfe:ue.ixfe,XF:z[ue.ixfe],t:"z"},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e));break;case 190:if(e.sheetStubs)for(var Mt=ue.c;Mt<=ue.C;++Mt){var Yt=ue.ixfe[Mt-ue.c];R={ixfe:Yt,XF:z[Yt],t:"z"},I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:Mt,r:ue.r},R,e)}break;case 214:case 516:case 4:R=g_(ue.val,ue.ixfe,"s"),R.XF=z[R.ixfe],I>0&&(R.z=j[R.ixfe>>8&63]),Mu(R,e,t.opts.Date1904),B({c:ue.c,r:ue.r},R,e);break;case 0:case 512:ie===1&&(a=ue);break;case 252:c=ue;break;case 1054:if(G.biff==4){j[I++]=ue[1];for(var dn=0;dn<I+163&&bn[dn]!=ue[1];++dn);dn>=163&&bh(ue[1],I+163)}else bh(ue[1],ue[0]);break;case 30:{j[I++]=ue;for(var Kt=0;Kt<I+163&&bn[Kt]!=ue;++Kt);Kt>=163&&bh(ue,I+163)}break;case 229:ce=ce.concat(ue);break;case 93:_e[ue.cmo[0]]=G.lastobj=ue;break;case 438:G.lastobj.TxO=ue;break;case 127:G.lastobj.ImData=ue;break;case 440:for(w=ue[0].s.r;w<=ue[0].e.r;++w)for(_=ue[0].s.c;_<=ue[0].e.c;++_)m=e.dense?(i[w]||[])[_]:i[_n({c:_,r:w})],m&&(m.l=ue[1]);break;case 2048:for(w=ue[0].s.r;w<=ue[0].e.r;++w)for(_=ue[0].s.c;_<=ue[0].e.c;++_)m=e.dense?(i[w]||[])[_]:i[_n({c:_,r:w})],m&&m.l&&(m.l.Tooltip=ue[1]);break;case 28:{if(G.biff<=5&&G.biff>=2)break;m=e.dense?(i[ue[0].r]||[])[ue[0].c]:i[_n(ue[0])];var En=_e[ue[2]];m||(e.dense?(i[ue[0].r]||(i[ue[0].r]=[]),m=i[ue[0].r][ue[0].c]={t:"z"}):m=i[_n(ue[0])]={t:"z"},a.e.r=Math.max(a.e.r,ue[0].r),a.s.r=Math.min(a.s.r,ue[0].r),a.e.c=Math.max(a.e.c,ue[0].c),a.s.c=Math.min(a.s.c,ue[0].c)),m.c||(m.c=[]),b={a:ue[1],t:En.TxO.t},m.c.push(b)}break;case 2173:ane(z[ue.ixfe],ue.ext);break;case 125:{if(!G.cellStyles)break;for(;ue.e>=ue.s;)K[ue.e--]={width:ue.w/256,level:ue.level||0,hidden:!!(ue.flags&1)},Se||(Se=!0,W4(ue.w/256)),r0(K[ue.e+1])}break;case 520:{var Qt={};ue.level!=null&&(le[ue.r]=Qt,Qt.level=ue.level),ue.hidden&&(le[ue.r]=Qt,Qt.hidden=!0),ue.hpt&&(le[ue.r]=Qt,Qt.hpt=ue.hpt,Qt.hpx=cv(ue.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||am(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=ue;break;case 161:i["!margins"]||am(i["!margins"]={}),i["!margins"].header=ue.header,i["!margins"].footer=ue.footer;break;case 574:ue.RTL&&(P.Views[0].RTL=!0);break;case 146:q=ue;break;case 2198:Q=ue;break;case 140:F=ue;break;case 442:f?X.CodeName=ue||X.name:P.WBProps.CodeName=ue||"ThisWorkbook";break}}else Te||console.error("Missing Info for XLS Record 0x"+me.toString(16)),n.l+=fe}return t.SheetNames=Hi(s).sort(function(Rt,je){return Number(Rt)-Number(je)}).map(function(Rt){return s[Rt].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&h["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=h)):t.Preamble=h,t.Sheets&&U.forEach(function(Rt,je){t.Sheets[t.SheetNames[je]]["!autofilter"]=Rt}),t.Strings=c,t.SSF=li(bn),G.enc&&(t.Encryption=G.enc),Q&&(t.Themes=Q),t.Metadata={},F!==void 0&&(t.Metadata.Country=F),ve.names.length>0&&(P.Names=ve.names),t.Workbook=P,t}var Gx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function boe(n,e,t){var r=un.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=DR(r,IT,Gx.DSI);for(var s in i)e[s]=i[s]}catch(f){if(t.WTF)throw f}var a=un.find(n,"/!SummaryInformation");if(a&&a.size>0)try{var o=DR(a,MT,Gx.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(f){if(t.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(WD(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function _oe(n,e){var t=[],r=[],i=[],s=0,a,o=fR(IT,"n"),c=fR(MT,"n");if(n.Props)for(a=Hi(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?r:i).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=Hi(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?r:i).push([a[s],n.Custprops[a[s]]]);var f=[];for(s=0;s<i.length;++s)QD.indexOf(i[s][0])>-1||VD.indexOf(i[s][0])>-1||i[s][1]!=null&&f.push(i[s]);r.length&&un.utils.cfb_add(e,"/SummaryInformation",PR(r,Gx.SI,c,MT)),(t.length||f.length)&&un.utils.cfb_add(e,"/DocumentSummaryInformation",PR(t,Gx.DSI,o,IT,f.length?f:null,Gx.UDI))}function YP(n,e){e||(e={}),tC(e),w4(),e.codepage&&_4(e.codepage);var t,r;if(n.FullPaths){if(un.find(n,"/encryption"))throw new Error("File is password-protected");t=un.find(n,"!CompObj"),r=un.find(n,"/Workbook")||un.find(n,"/Book")}else{switch(e.type){case"base64":n=yl(Al(n));break;case"binary":n=yl(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}fa(n,0),r={content:n}}var i,s;if(t&&goe(t),e.bookProps&&!e.bookSheets)i={};else{var a=qn?"buffer":"array";if(r&&r.content)i=yoe(r.content,e);else if((s=un.find(n,"PerfectOffice_MAIN"))&&s.content)i=sm.to_workbook(s.content,(e.type=a,e));else if((s=un.find(n,"NativeContent_MAIN"))&&s.content)i=sm.to_workbook(s.content,(e.type=a,e));else throw(s=un.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&un.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Fne(n))}var o={};return n.FullPaths&&boe(n,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=n),i}function woe(n,e){var t=e||{},r=un.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return un.utils.cfb_add(r,i,$P(n,t)),t.biff==8&&(n.Props||n.Custprops)&&_oe(n,r),t.biff==8&&n.vbaraw&&Dne(r,un.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var u2={0:{f:Wie},1:{f:ese},2:{f:yse},3:{f:lse},4:{f:ise},5:{f:gse},6:{f:Sse},7:{f:hse},8:{f:Lse},9:{f:Rse},10:{f:kse},11:{f:Nse},12:{f:nse},13:{f:_se},14:{f:use},15:{f:ase},16:{f:HP},17:{f:Tse},18:{f:pse},19:{f:P4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Tae},40:{},42:{},43:{f:Ste},44:{f:wte},45:{f:Cte},46:{f:Nte},47:{f:kte},48:{},49:{f:$J},50:{},51:{f:cne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uP},62:{f:Ase},63:{f:xne},64:{f:Xse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ba,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Gse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Zie},148:{f:$ie,p:16},151:{f:Ose},152:{},153:{f:Aae},154:{},155:{},156:{f:_ae},157:{},158:{},159:{T:1,f:Uee},160:{T:-1},161:{T:1,f:km},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ise},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:one},336:{T:-1},337:{f:hne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:LT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Bse},427:{f:Use},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Jie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Dse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:LT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Nne},633:{T:1},634:{T:-1},635:{T:1,f:Cne},636:{T:-1},637:{f:QJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uae},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Yse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},UT={6:{f:LS},10:{f:gd},12:{f:fs},13:{f:fs},14:{f:Wi},15:{f:Wi},16:{f:Da},17:{f:Wi},18:{f:Wi},19:{f:fs},20:{f:jR},21:{f:jR},23:{f:cP},24:{f:qR},25:{f:Wi},26:{},27:{},28:{f:YQ},29:{},34:{f:Wi},35:{f:GR},38:{f:Da},39:{f:Da},40:{f:Da},41:{f:Da},42:{f:Wi},43:{f:Wi},47:{f:ate},49:{f:_Q},51:{f:fs},60:{},61:{f:gQ},64:{f:Wi},65:{f:bQ},66:{f:fs},77:{},80:{},81:{},82:{},85:{f:fs},89:{},90:{},91:{},92:{f:sQ},93:{f:JQ},94:{},95:{f:Wi},96:{},97:{},99:{f:Wi},125:{f:uP},128:{f:PQ},129:{f:oQ},130:{f:fs},131:{f:Wi},132:{f:Wi},133:{f:lQ},134:{},140:{f:see},141:{f:fs},144:{},146:{f:lee},151:{},152:{},153:{},154:{},155:{},156:{f:fs},157:{},158:{},160:{f:mee},161:{f:fee},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:IQ},190:{f:MQ},193:{f:gd},197:{},198:{},199:{},200:{},201:{},202:{f:Wi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fs},220:{},221:{f:Wi},222:{},224:{f:DQ},225:{f:iQ},226:{f:gd},227:{},229:{f:$Q},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:uQ},253:{f:AQ},255:{f:hQ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:eP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Wi},353:{f:gd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zQ},431:{f:Wi},432:{},433:{},434:{},437:{},438:{f:eee},439:{f:Wi},440:{f:tee},441:{},442:{f:Wy},443:{},444:{f:fs},445:{},446:{},448:{f:gd},449:{f:mQ,r:2},450:{f:gd},512:{f:UR},513:{f:pee},515:{f:UQ},516:{f:EQ},517:{f:zR},519:{f:gee},520:{f:dQ},523:{},545:{f:VR},549:{f:BR},566:{},574:{f:xQ},638:{f:LQ},659:{},1048:{},1054:{f:CQ},1084:{},1212:{f:VQ},2048:{f:ree},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:d_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:gd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:cee,r:12},2173:{f:sne,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Wi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:qQ,r:12},2197:{},2198:{f:Qte,r:12},2199:{},2200:{},2201:{},2202:{f:WQ,r:12},2203:{f:gd},2204:{},2205:{},2206:{},2207:{},2211:{f:pQ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:hee},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:oee},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:UR},1:{},2:{f:_ee},3:{f:yee},4:{f:xee},5:{f:zR},7:{f:Aee},8:{},9:{f:d_},11:{},22:{f:fs},30:{f:NQ},31:{},32:{},33:{f:VR},36:{},37:{f:BR},50:{f:See},62:{},52:{},67:{},68:{f:fs},69:{},86:{},126:{},127:{f:vee},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Eee},223:{},234:{},354:{},421:{},518:{f:LS},521:{f:d_},536:{f:qR},547:{f:GR},561:{},579:{},1030:{f:LS},1033:{f:d_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function St(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&M4(t)&&n.push(t)}}function Aoe(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return St(n,e,t,i);var s=e;if(!isNaN(s)){for(var a=t.parts||[],o=0,c=0,f=0;f+(a[o]||8224)<=8224;)f+=a[o]||8224,o++;var h=n.next(4);for(h.write_shift(2,s),h.write_shift(2,f),n.push(t.slice(c,c+f)),c+=f;c<i;){for(h=n.next(4),h.write_shift(2,60),f=0;f+(a[o]||8224)<=8224;)f+=a[o]||8224,o++;h.write_shift(2,f),n.push(t.slice(c,c+f)),c+=f}}}function Ky(n,e,t){return n||(n=at(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Soe(n,e,t,r){var i=at(9);return Ky(i,n,e),tP(t,r||"b",i),i}function Eoe(n,e,t){var r=at(8+2*t.length);return Ky(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Toe(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Rs(oi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?St(n,2,wee(t,r,i)):St(n,3,bee(t,r,i));return;case"b":case"e":St(n,5,Soe(t,r,e.v,e.t));return;case"s":case"str":St(n,4,Eoe(t,r,(e.v||"").slice(0,255)));return}St(n,1,Ky(null,t,r))}function Coe(n,e,t,r){var i=Array.isArray(e),s=dr(e["!ref"]||"A1"),a,o="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Dn(s)}for(var f=s.s.r;f<=s.e.r;++f){o=Zi(f);for(var h=s.s.c;h<=s.e.c;++h){f===s.s.r&&(c[h]=Ti(h)),a=c[h]+o;var p=i?(e[f]||[])[h]:e[a];p&&Toe(n,p,f,h)}}}function koe(n,e){for(var t=e||{},r=Po(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return St(r,t.biff==4?1033:t.biff==3?521:9,G4(n,16,t)),Coe(r,n.Sheets[n.SheetNames[i]],i,t),St(r,10),r.end()}function Noe(n,e,t){St(n,49,wQ({sz:12,name:"Arial"},t))}function Roe(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&St(n,1054,kQ(i,e[i],t))})}function Loe(n,e){var t=at(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),St(n,2151,t),t=at(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),aP(dr(e["!ref"]||"A1"),t),t.write_shift(4,4),St(n,2152,t)}function Ioe(n,e){for(var t=0;t<16;++t)St(n,224,HR({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){St(n,224,HR(r,0,e))})}function Moe(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];St(n,440,nee(r)),r[1].Tooltip&&St(n,2048,iee(r))}delete e["!links"]}function Foe(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&St(n,125,uee(C5(i,r),i))})}}function Doe(n,e,t,r,i){var s=16+f0(i.cellXfs,e,i);if(e.v==null&&!e.bf){St(n,513,vm(t,r,s));return}if(e.bf)St(n,6,oie(e,t,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Rs(oi(e.v)):e.v;St(n,515,HQ(t,r,a,s));break;case"b":case"e":St(n,517,BQ(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=J4(i.Strings,e.v,i.revStrings);St(n,253,SQ(t,r,o,s))}else St(n,516,TQ(t,r,(e.v||"").slice(0,255),s,i));break;default:St(n,513,vm(t,r,s))}}function Poe(n,e,t){var r=Po(),i=t.SheetNames[n],s=t.Sheets[i]||{},a=(t||{}).Workbook||{},o=(a.Sheets||[])[n]||{},c=Array.isArray(s),f=e.biff==8,h,p="",g=[],m=dr(s["!ref"]||"A1"),b=f?65536:16384;if(m.e.c>255||m.e.r>=b){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,b-1)}St(r,2057,G4(t,16,e)),St(r,13,Ql(1)),St(r,12,Ql(100)),St(r,15,no(!0)),St(r,17,no(!1)),St(r,16,mm(.001)),St(r,95,no(!0)),St(r,42,no(!1)),St(r,43,no(!1)),St(r,130,Ql(1)),St(r,128,OQ()),St(r,131,no(!1)),St(r,132,no(!1)),f&&Foe(r,s["!cols"]),St(r,512,RQ(m,e)),f&&(s["!links"]=[]);for(var _=m.s.r;_<=m.e.r;++_){p=Zi(_);for(var w=m.s.c;w<=m.e.c;++w){_===m.s.r&&(g[w]=Ti(w)),h=g[w]+p;var T=c?(s[_]||[])[w]:s[h];T&&(Doe(r,T,_,w,e),f&&T.l&&s["!links"].push([h,T.l]))}}var L=o.CodeName||o.name||i;return f&&St(r,574,yQ((a.Views||[])[0])),f&&(s["!merges"]||[]).length&&St(r,229,KQ(s["!merges"])),f&&Moe(r,s),St(r,442,nP(L)),f&&Loe(r,s),St(r,10),r.end()}function Ooe(n,e,t){var r=Po(),i=(n||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=t.biff==8,c=t.biff==5;if(St(r,2057,G4(n,5,t)),t.bookType=="xla"&&St(r,135),St(r,225,o?Ql(1200):null),St(r,193,BZ(2)),c&&St(r,191),c&&St(r,192),St(r,226),St(r,92,aQ("SheetJS",t)),St(r,66,Ql(o?1200:1252)),o&&St(r,353,Ql(0)),o&&St(r,448),St(r,317,dee(n.SheetNames.length)),o&&n.vbaraw&&St(r,211),o&&n.vbaraw){var f=a.CodeName||"ThisWorkbook";St(r,442,nP(f))}St(r,156,Ql(17)),St(r,25,no(!1)),St(r,18,no(!1)),St(r,19,Ql(0)),o&&St(r,431,no(!1)),o&&St(r,444,Ql(0)),St(r,61,vQ()),St(r,64,no(!1)),St(r,141,Ql(0)),St(r,34,no(mae(n)=="true")),St(r,14,no(!0)),o&&St(r,439,no(!1)),St(r,218,Ql(0)),Noe(r,n,t),Roe(r,n.SSF,t),Ioe(r,t),o&&St(r,352,no(!1));var h=r.end(),p=Po();o&&St(p,140,aee()),o&&t.Strings&&Aoe(p,252,fQ(t.Strings)),St(p,10);var g=p.end(),m=Po(),b=0,_=0;for(_=0;_<n.SheetNames.length;++_)b+=(o?12:11)+(o?2:1)*n.SheetNames[_].length;var w=h.length+b+g.length;for(_=0;_<n.SheetNames.length;++_){var T=s[_]||{};St(m,133,cQ({pos:w,hs:T.Hidden||0,dt:0,name:n.SheetNames[_]},t)),w+=e[_].length}var L=m.end();if(b!=L.length)throw new Error("BS8 "+b+" != "+L.length);var R=[];return h.length&&R.push(h),L.length&&R.push(L),g.length&&R.push(g),Vs(R)}function Boe(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=li(bn)),n&&n.SSF&&(mv(),b5(n.SSF),t.revssf=w5(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nC(t),t.cellXfs=[],f0(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Poe(i,t,n);return r.unshift(Ooe(n,r,t)),Vs(r)}function $P(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Bo(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Boe(n,e);case 4:case 3:case 2:return koe(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function tL(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),a=i.index,o=s&&s.index||n.length,c=wJ(n.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(a=0;a<c.length;++a){var _=c[a].trim(),w=_.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,t.sheetRows&&t.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var T=_.split(/<\/t[dh]>/i);for(o=0;o<T.length;++o){var L=T[o].trim();if(L.match(/<t[dh]/i)){for(var R=L,F=0;R.charAt(0)=="<"&&(F=R.indexOf(">"))>-1;)R=R.slice(F+1);for(var z=0;z<b.length;++z){var q=b[z];q.s.c==h&&q.s.r<f&&f<=q.e.r&&(h=q.e.c+1,z=-1)}var P=wn(L.slice(0,L.indexOf(">")));g=P.colspan?+P.colspan:1,((p=+P.rowspan)>1||g>1)&&b.push({s:{r:f,c:h},e:{r:f+(p||1)-1,c:h+g-1}});var X=P.t||P["data-t"]||"";if(!R.length){h+=g;continue}if(R=yD(R),m.s.r>f&&(m.s.r=f),m.e.r<f&&(m.e.r=f),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!R.length){h+=g;continue}var O={t:"s",v:R};t.raw||!R.trim().length||X=="s"||(R==="TRUE"?O={t:"b",v:!0}:R==="FALSE"?O={t:"b",v:!1}:isNaN(ru(R))?isNaN(ov(R).getDate())||(O={t:"d",v:oi(R)},t.cellDates||(O={t:"n",v:Rs(O.v)}),O.z=t.dateNF||bn[14]):O={t:"n",v:ru(R)}),t.dense?(r[f]||(r[f]=[]),r[f][h]=O):r[_n({r:f,c:h})]=O,h+=g}}}}return r["!ref"]=Dn(m),b.length&&(r["!merges"]=b),r}function Uoe(n,e,t,r){for(var i=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>t||i[f].s.c>a)&&!(i[f].e.r<t||i[f].e.c<a)){if(i[f].s.r<t||i[f].s.c<a){o=-1;break}o=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(o<0)){var h=_n({r:t,c:a}),p=r.dense?(n[t]||[])[a]:n[h],g=p&&p.v!=null&&(p.h||R4(p.w||(Th(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(r.id||"sjs")+"-"+h,s.push(wt("td",g,m))}}var b="<tr>";return b+s.join("")+"</tr>"}var Hoe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zoe="</body></html>";function joe(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return u0(tL(t[0],e),e);var r=sC();return t.forEach(function(i,s){aC(r,tL(i,e),"Sheet"+(s+1))}),r}function Goe(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function KP(n,e){var t=e||{},r=t.header!=null?t.header:Hoe,i=t.footer!=null?t.footer:zoe,s=[r],a=Bo(n["!ref"]);t.dense=Array.isArray(n),s.push(Goe(n,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(Uoe(n,a,o,t));return s.push("</table>"+i),s.join("")}function JP(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Ci(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var h=Bo(n["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),i==-1&&(f.e.r=i=h.e.r+1)}var p=[],g=0,m=n["!rows"]||(n["!rows"]=[]),b=0,_=0,w=0,T=0,L=0,R=0;for(n["!cols"]||(n["!cols"]=[]);b<o.length&&_<c;++b){var F=o[b];if(nL(F)){if(r.display)continue;m[_]={hidden:!0}}var z=F.children;for(w=T=0;w<z.length;++w){var q=z[w];if(!(r.display&&nL(q))){var P=q.hasAttribute("data-v")?q.getAttribute("data-v"):q.hasAttribute("v")?q.getAttribute("v"):yD(q.innerHTML),X=q.getAttribute("data-z")||q.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==T+s&&O.s.r<_+i&&_+i<=O.e.r&&(T=O.e.c+1-s,g=-1)}R=+q.getAttribute("colspan")||1,((L=+q.getAttribute("rowspan")||1)>1||R>1)&&p.push({s:{r:_+i,c:T+s},e:{r:_+i+(L||1)-1,c:T+s+(R||1)-1}});var ee={t:"s",v:P},B=q.getAttribute("data-t")||q.getAttribute("t")||"";P!=null&&(P.length==0?ee.t=B||"z":r.raw||P.trim().length==0||B=="s"||(P==="TRUE"?ee={t:"b",v:!0}:P==="FALSE"?ee={t:"b",v:!1}:isNaN(ru(P))?isNaN(ov(P).getDate())||(ee={t:"d",v:oi(P)},r.cellDates||(ee={t:"n",v:Rs(ee.v)}),ee.z=r.dateNF||bn[14]):ee={t:"n",v:ru(P)})),ee.z===void 0&&X!=null&&(ee.z=X);var G="",Q=q.getElementsByTagName("A");if(Q&&Q.length)for(var ce=0;ce<Q.length&&!(Q[ce].hasAttribute("href")&&(G=Q[ce].getAttribute("href"),G.charAt(0)!="#"));++ce);G&&G.charAt(0)!="#"&&(ee.l={Target:G}),r.dense?(n[_+i]||(n[_+i]=[]),n[_+i][T+s]=ee):n[_n({c:T+s,r:_+i})]=ee,f.e.c<T+s&&(f.e.c=T+s),T+=R}}++_}return p.length&&(n["!merges"]=(n["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,_-1+i),n["!ref"]=Dn(f),_>=c&&(n["!fullref"]=Dn((f.e.r=o.length-b+_-1+i,f))),n}function ZP(n,e){var t=e||{},r=t.dense?[]:{};return JP(r,n,e)}function qoe(n,e){return u0(ZP(n,e),e)}function nL(n){var e="",t=Voe(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Voe(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Woe(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=fr(e.replace(/<[^>]*>/g,""));return[t]}var rL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function QP(n,e){var t=e||{},r=L4(n),i=[],s,a,o={name:""},c="",f=0,h,p,g={},m=[],b=t.dense?[]:{},_,w,T={value:""},L="",R=0,F=[],z=-1,q=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},X=0,O={},ee=[],B={},G=0,Q=0,ce=[],_e=1,K=1,le=[],Se={Names:[]},ve={},Pe=["",""],ie=[],I={},j="",U=0,Y=!1,ae=!1,ye=0;for(i2.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=i2.exec(r);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"":_[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?b["!ref"]=Dn(P):b["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=P.e.r&&(b["!fullref"]=b["!ref"],P.e.r=t.sheetRows-1,b["!ref"]=Dn(P)),ee.length&&(b["!merges"]=ee),ce.length&&(b["!rows"]=ce),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),g[h.name]=b,ae=!1):_[0].charAt(_[0].length-2)!=="/"&&(h=wn(_[0],!1),z=q=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,b=t.dense?[]:{},ee=[],ce=[],ae=!0);break;case"table-row-group":_[1]==="/"?--X:++X;break;case"table-row":case"":if(_[1]==="/"){z+=_e,_e=1;break}if(p=wn(_[0],!1),p.?z=p.-1:z==-1&&(z=0),_e=+p["number-rows-repeated"]||1,_e<10)for(ye=0;ye<_e;++ye)X>0&&(ce[z+ye]={level:X});q=-1;break;case"covered-table-cell":_[1]!=="/"&&++q,t.sheetStubs&&(t.dense?(b[z]||(b[z]=[]),b[z][q]={t:"z"}):b[_n({r:z,c:q})]={t:"z"}),L="",F=[];break;case"table-cell":case"":if(_[0].charAt(_[0].length-2)==="/")++q,T=wn(_[0],!1),K=parseInt(T["number-columns-repeated"]||"1",10),w={t:"z",v:null},T.formula&&t.cellFormula!=!1&&(w.f=ZR(fr(T.formula))),(T.||T["value-type"])=="string"&&(w.t="s",w.v=fr(T["string-value"]||""),t.dense?(b[z]||(b[z]=[]),b[z][q]=w):b[_n({r:z,c:q})]=w),q+=K-1;else if(_[1]!=="/"){++q,L="",R=0,F=[],K=1;var me=_e?z+_e-1:z;if(q>P.e.c&&(P.e.c=q),q<P.s.c&&(P.s.c=q),z<P.s.r&&(P.s.r=z),me>P.e.r&&(P.e.r=me),T=wn(_[0],!1),ie=[],I={},w={t:T.||T["value-type"],v:null},t.cellFormula)if(T.formula&&(T.formula=fr(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(G=parseInt(T["number-matrix-rows-spanned"],10)||0,Q=parseInt(T["number-matrix-columns-spanned"],10)||0,B={s:{r:z,c:q},e:{r:z+G-1,c:q+Q-1}},w.F=Dn(B),le.push([B,w.F])),T.formula)w.f=ZR(T.formula);else for(ye=0;ye<le.length;++ye)z>=le[ye][0].s.r&&z<=le[ye][0].e.r&&q>=le[ye][0].s.c&&q<=le[ye][0].e.c&&(w.F=le[ye][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(G=parseInt(T["number-rows-spanned"],10)||0,Q=parseInt(T["number-columns-spanned"],10)||0,B={s:{r:z,c:q},e:{r:z+G-1,c:q+Q-1}},ee.push(B)),T["number-columns-repeated"]&&(K=parseInt(T["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=si(T["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(T.value);break;case"percentage":w.t="n",w.v=parseFloat(T.value);break;case"currency":w.t="n",w.v=parseFloat(T.value);break;case"date":w.t="d",w.v=oi(T["date-value"]),t.cellDates||(w.t="n",w.v=Rs(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=yJ(T["time-value"])/86400,t.cellDates&&(w.t="d",w.v=A5(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(T.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",T["string-value"]!=null&&(L=fr(T["string-value"]),F=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(Y=!1,w.t==="s"&&(w.v=L||"",F.length&&(w.R=F),Y=R==0),ve.Target&&(w.l=ve),ie.length>0&&(w.c=ie,ie=[]),L&&t.cellText!==!1&&(w.w=L),Y&&(w.t="z",delete w.v),(!Y||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=z))for(var fe=0;fe<_e;++fe){if(K=parseInt(T["number-columns-repeated"]||"1",10),t.dense)for(b[z+fe]||(b[z+fe]=[]),b[z+fe][q]=fe==0?w:li(w);--K>0;)b[z+fe][q+K]=li(w);else for(b[_n({r:z+fe,c:q})]=w;--K>0;)b[_n({r:z+fe,c:q+K})]=li(w);P.e.c<=q&&(P.e.c=q)}K=parseInt(T["number-columns-repeated"]||"1",10),q+=K-1,K=0,w={},L="",F=[]}ve={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!0]);break;case"annotation":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s;I.t=L,F.length&&(I.R=F),I.a=j,ie.push(I)}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);j="",U=0,L="",R=0,F=[];break;case"creator":_[1]==="/"?j=r.slice(U,_.index):U=_.index+_[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);L="",R=0,F=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(_[1]==="/"){if(O[o.name]=c,(s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&(c="",o=wn(_[0],!1),i.push([_[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=wn(_[0],!1),c+=rL[_[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=wn(_[0],!1),c+=rL[_[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(_[0].slice(-2)==="/>")break;if(_[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(f,_.index);break}else f=_.index+_[0].length;break;case"named-range":a=wn(_[0],!1),Pe=IS(a["cell-range-address"]);var Te={Name:a.name,Ref:Pe[0]+"!"+Pe[1]};ae&&(Te.Sheet=m.length),Se.Names.push(Te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(_[1]==="/"&&(!T||!T["string-value"])){var Oe=Woe(r.slice(R,_.index));L=(L.length>0?L+`
`:"")+Oe[0]}else wn(_[0],!1),R=_.index+_[0].length;break;case"s":break;case"database-range":if(_[1]==="/")break;try{Pe=IS(wn(_[0])["target-range-address"]),g[Pe[0]]["!autofilter"]={ref:Pe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(_[1]!=="/"){if(ve=wn(_[0],!1),!ve.href)break;ve.Target=fr(ve.href),delete ve.href,ve.Target.charAt(0)=="#"&&ve.Target.indexOf(".")>-1?(Pe=IS(ve.Target.slice(1)),ve.Target="#"+Pe[0]+"!"+Pe[1]):ve.Target.match(/^\.\.[\\\/]/)&&(ve.Target=ve.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(_)}}var ue={Sheets:g,SheetNames:m,Workbook:Se};return t.bookSheets&&delete ue.Sheets,ue}function iL(n,e){e=e||{},Vl(n,"META-INF/manifest.xml")&&yZ(us(n,"META-INF/manifest.xml"),e);var t=bl(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=QP(qr(t),e);return Vl(n,"meta.xml")&&(r.Props=GD(us(n,"meta.xml"))),r}function sL(n,e){return QP(n,e)}var Xoe=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+r2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return es+e}})(),aL=(function(){var n=function(s){return Dr(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,a,o){var c=[];c.push('      <table:table table:name="'+Dr(a.SheetNames[o])+`" table:style-name="ta1">
`);var f=0,h=0,p=Bo(s["!ref"]||"A1"),g=s["!merges"]||[],m=0,b=Array.isArray(s);if(s["!cols"])for(h=0;h<=p.e.c;++h)c.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var _="",w=s["!rows"]||[];for(f=0;f<p.s.r;++f)_=w[f]?' table:style-name="ro'+w[f].ods+'"':"",c.push("        <table:table-row"+_+`></table:table-row>
`);for(;f<=p.e.r;++f){for(_=w[f]?' table:style-name="ro'+w[f].ods+'"':"",c.push("        <table:table-row"+_+`>
`),h=0;h<p.s.c;++h)c.push(e);for(;h<=p.e.c;++h){var T=!1,L={},R="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>h)&&!(g[m].s.r>f)&&!(g[m].e.c<h)&&!(g[m].e.r<f)){(g[m].s.c!=h||g[m].s.r!=f)&&(T=!0),L["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,L["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(T){c.push(t);continue}var F=_n({r:f,c:h}),z=b?(s[f]||[])[h]:s[F];if(z&&z.f&&(L["table:formula"]=Dr(die(z.f)),z.F&&z.F.slice(0,F.length)==F)){var q=Bo(z.F);L["table:number-matrix-columns-spanned"]=q.e.c-q.s.c+1,L["table:number-matrix-rows-spanned"]=q.e.r-q.s.r+1}if(!z){c.push(e);continue}switch(z.t){case"b":R=z.v?"TRUE":"FALSE",L["office:value-type"]="boolean",L["office:boolean-value"]=z.v?"true":"false";break;case"n":R=z.w||String(z.v||0),L["office:value-type"]="float",L["office:value"]=z.v||0;break;case"s":case"str":R=z.v==null?"":z.v,L["office:value-type"]="string";break;case"d":R=z.w||oi(z.v).toISOString(),L["office:value-type"]="date",L["office:date-value"]=oi(z.v).toISOString(),L["table:style-name"]="ce1";break;default:c.push(e);continue}var P=n(R);if(z.l&&z.l.Target){var X=z.l.Target;X=X.charAt(0)=="#"?"#"+pie(X.slice(1)):X,X.charAt(0)!="#"&&!X.match(/^\w+:/)&&(X="../"+X),P=wt("text:a",P,{"xlink:href":X.replace(/&/g,"&amp;")})}c.push("          "+wt("table:table-cell",wt("text:p",P,{}),L)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;r0(p),p.ods=o;var g=f["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var c=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=c;var p=f["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var c=[es],f=r2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=r2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+f+h+`>
`),c.push(jD().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+f+`>
`),i(c,a),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)c.push(r(a.Sheets[a.SheetNames[p]],a,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function e7(n,e){if(e.bookType=="fods")return aL(n,e);var t=C4(),r="",i=[],s=[];return r="mimetype",On(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",On(t,r,aL(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",On(t,r,Xoe(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",On(t,r,es+jD()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",On(t,r,wZ(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",On(t,r,bZ(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xm(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function HT(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):qr(c0(n))}function Yoe(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):yl(nf(n))}function $oe(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function s0(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function oL(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function Koe(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function Joe(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function f2(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Ir(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Ui(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function gr(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=f2(n,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);o=n.slice(c,t[0])}break;case 5:a=4,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=f2(n,t),o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var f={data:o,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function ia(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Ir(r*8+i.type)),i.type==2&&e.push(Ir(i.data.length)),e.push(i.data))})}),s0(e)}function eC(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function Gl(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=f2(n,r),s=gr(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:Ui(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=gr(o.data),f=Ui(c[3][0].data);a.messages.push({meta:c,data:n.slice(r[0],r[0]+f)}),r[0]+=f}),(e=s[3])!=null&&e[0]&&(a.merge=Ui(s[3][0].data)>>>0>0),t.push(a)}return t}function Ag(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Ir(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Ir(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ir(a.data.length)}],r[2].push({data:ia(a.meta),type:2})});var s=ia(r);e.push(Ir(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),s0(e)}function Zoe(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=f2(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,f=0;if(s==1?(f=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[s0(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var h=s0(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function ql(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Zoe(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return s0(e)}function Sg(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Ir(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,t+=r}return s0(e)}function Qoe(n,e,t,r){var i=xm(n),s=i.getUint32(4,!0),a=(r>1?12:8)+oL(s&(r>1?3470:398))*4,o=-1,c=-1,f=NaN,h=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=oL(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(f=i.getFloat64(a,!0),a+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(n[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:t[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return p}function ele(n,e,t){var r=xm(n),i=r.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,f=NaN,h=new Date(2001,0,1);i&1&&(c=Koe(n,s),s+=16),i&2&&(f=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var p;switch(n[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return p}function FS(n,e){var t=new Uint8Array(32),r=xm(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,Joe(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function DS(n,e){var t=new Uint8Array(32),r=xm(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function tle(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return Qoe(n,e,t,n[0]);case 5:return ele(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function Ra(n){var e=gr(n);return f2(e[1][0].data)}function lL(n,e){var t=gr(e.data),r=Ui(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=gr(a.data),c=Ui(o[1][0].data)>>>0;switch(r){case 1:s[c]=HT(o[3][0].data);break;case 8:{var f=n[Ra(o[9][0].data)][0],h=gr(f.data),p=n[Ra(h[1][0].data)][0],g=Ui(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=gr(p.data);s[c]=m[3].map(function(b){return HT(b.data)}).join("")}break}}),s}function nle(n,e){var t,r,i,s,a,o,c,f,h,p,g,m,b,_,w=gr(n),T=Ui(w[1][0].data)>>>0,L=Ui(w[2][0].data)>>>0,R=((r=(t=w[8])==null?void 0:t[0])==null?void 0:r.data)&&Ui(w[8][0].data)>0||!1,F,z;if((s=(i=w[7])==null?void 0:i[0])!=null&&s.data&&e!=0)F=(o=(a=w[7])==null?void 0:a[0])==null?void 0:o.data,z=(f=(c=w[6])==null?void 0:c[0])==null?void 0:f.data;else if((p=(h=w[4])==null?void 0:h[0])!=null&&p.data&&e!=1)F=(m=(g=w[4])==null?void 0:g[0])==null?void 0:m.data,z=(_=(b=w[3])==null?void 0:b[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var q=R?4:1,P=xm(F),X=[],O=0;O<F.length/2;++O){var ee=P.getUint16(O*2,!0);ee<65535&&X.push([O,ee])}if(X.length!=L)throw"Expected ".concat(L," cells, found ").concat(X.length);var B=[];for(O=0;O<X.length-1;++O)B[X[O][0]]=z.subarray(X[O][1]*q,X[O+1][1]*q);return X.length>=1&&(B[X[X.length-1][0]]=z.subarray(X[X.length-1][1]*q)),{R:T,cells:B}}function rle(n,e){var t,r=gr(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?Ui(r[7][0].data)>>>0>0?1:0:-1,s=eC(r[5],function(a){return nle(a,i)});return{nrows:Ui(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,f){if(a[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));a[o.R][f]=c}),a},[])}}function ile(n,e,t){var r,i=gr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ui(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ui(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Dn(s);var a=gr(i[4][0].data),o=lL(n,n[Ra(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?lL(n,n[Ra(a[17][0].data)][0]):[],f=gr(a[3][0].data),h=0;f[1].forEach(function(p){var g=gr(p.data),m=n[Ra(g[2][0].data)][0],b=Ui(m.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var _=rle(n,m);_.data.forEach(function(w,T){w.forEach(function(L,R){var F=_n({r:h+T,c:R}),z=tle(L,o,c);z&&(t[F]=z)})}),h+=_.nrows})}function sle(n,e){var t=gr(e.data),r={"!ref":"A1"},i=n[Ra(t[2][0].data)],s=Ui(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return ile(n,i[0],r),r}function ale(n,e){var t,r=gr(e.data),i={name:(t=r[1])!=null&&t[0]?HT(r[1][0].data):"",sheets:[]},s=eC(r[2],Ra);return s.forEach(function(a){n[a].forEach(function(o){var c=Ui(o.meta[1][0].data);c==6e3&&i.sheets.push(sle(n,o))})}),i}function ole(n,e){var t=sC(),r=gr(e.data),i=eC(r[1],Ra);if(i.forEach(function(s){n[s].forEach(function(a){var o=Ui(a.meta[1][0].data);if(o==2){var c=ale(n,a);c.sheets.forEach(function(f,h){aC(t,f,h==0?c.name:c.name+"_"+h,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function PS(n){var e,t,r,i,s={},a=[];if(n.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=ql(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var h;try{h=Gl(f)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Ui(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(f){var h=Ui(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return ole(s,o)}function lle(n,e,t){var r,i,s,a;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=n[8])==null?void 0:s[0])==null?void 0:a.data)&&Ui(n[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,f=xm(n[7][0].data),h=0,p=[],g=xm(n[4][0].data),m=0,b=[],_=0;_<e.length;++_){if(e[_]==null){f.setUint16(_*2,65535,!0),g.setUint16(_*2,65535);continue}f.setUint16(_*2,h,!0),g.setUint16(_*2,m,!0);var w,T;switch(typeof e[_]){case"string":w=FS({t:"s",v:e[_]},t),T=DS({t:"s",v:e[_]},t);break;case"number":w=FS({t:"n",v:e[_]},t),T=DS({t:"n",v:e[_]},t);break;case"boolean":w=FS({t:"b",v:e[_]},t),T=DS({t:"b",v:e[_]},t);break;default:throw new Error("Unsupported value "+e[_])}p.push(w),h+=w.length,b.push(T),m+=T.length,++c}for(n[2][0].data=Ir(c);_<n[7][0].data.length/2;++_)f.setUint16(_*2,65535,!0),g.setUint16(_*2,65535,!0);return n[6][0].data=s0(p),n[3][0].data=s0(b),c}function cle(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Bo(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Dn(r)));var s=Dw(t,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(j){return j.forEach(function(U){typeof U=="string"&&a.push(U)})});var o={},c=[],f=un.read(e.numbers,{type:"base64"});f.FileIndex.map(function(j,U){return[j,f.FullPaths[U]]}).forEach(function(j){var U=j[0],Y=j[1];if(U.type==2&&U.name.match(/\.iwa/)){var ae=U.content,ye=ql(ae),me=Gl(ye);me.forEach(function(fe){c.push(fe.id),o[fe.id]={deps:[],location:Y,type:Ui(fe.messages[0].meta[1][0].data)}})}}),c.sort(function(j,U){return j-U});var h=c.filter(function(j){return j>1}).map(function(j){return[j,Ir(j)]});f.FileIndex.map(function(j,U){return[j,f.FullPaths[U]]}).forEach(function(j){var U=j[0];if(j[1],!!U.name.match(/\.iwa/)){var Y=Gl(ql(U.content));Y.forEach(function(ae){ae.messages.forEach(function(ye){h.forEach(function(me){ae.messages.some(function(fe){return Ui(fe.meta[1][0].data)!=11006&&$oe(fe.data,me[1])})&&o[me[0]].deps.push(ae.id)})})})}});for(var p=un.find(f,o[1].location),g=Gl(ql(p.content)),m,b=0;b<g.length;++b){var _=g[b];_.id==1&&(m=_)}var w=Ra(gr(m.messages[0].data)[1][0].data);for(p=un.find(f,o[w].location),g=Gl(ql(p.content)),b=0;b<g.length;++b)_=g[b],_.id==w&&(m=_);for(w=Ra(gr(m.messages[0].data)[2][0].data),p=un.find(f,o[w].location),g=Gl(ql(p.content)),b=0;b<g.length;++b)_=g[b],_.id==w&&(m=_);for(w=Ra(gr(m.messages[0].data)[2][0].data),p=un.find(f,o[w].location),g=Gl(ql(p.content)),b=0;b<g.length;++b)_=g[b],_.id==w&&(m=_);var T=gr(m.messages[0].data);{T[6][0].data=Ir(r.e.r+1),T[7][0].data=Ir(r.e.c+1);var L=Ra(T[46][0].data),R=un.find(f,o[L].location),F=Gl(ql(R.content));{for(var z=0;z<F.length&&F[z].id!=L;++z);if(F[z].id!=L)throw"Bad ColumnRowUIDMapArchive";var q=gr(F[z].messages[0].data);q[1]=[],q[2]=[],q[3]=[];for(var P=0;P<=r.e.c;++P){var X=[];X[1]=X[2]=[{type:0,data:Ir(P+420690)}],q[1].push({type:2,data:ia(X)}),q[2].push({type:0,data:Ir(P)}),q[3].push({type:0,data:Ir(P)})}q[4]=[],q[5]=[],q[6]=[];for(var O=0;O<=r.e.r;++O)X=[],X[1]=X[2]=[{type:0,data:Ir(O+726270)}],q[4].push({type:2,data:ia(X)}),q[5].push({type:0,data:Ir(O)}),q[6].push({type:0,data:Ir(O)});F[z].messages[0].data=ia(q)}R.content=Sg(Ag(F)),R.size=R.content.length,delete T[46];var ee=gr(T[4][0].data);{ee[7][0].data=Ir(r.e.r+1);var B=gr(ee[1][0].data),G=Ra(B[2][0].data);R=un.find(f,o[G].location),F=Gl(ql(R.content));{if(F[0].id!=G)throw"Bad HeaderStorageBucket";var Q=gr(F[0].messages[0].data);for(O=0;O<s.length;++O){var ce=gr(Q[2][0].data);ce[1][0].data=Ir(O),ce[4][0].data=Ir(s[O].length),Q[2][O]={type:Q[2][0].type,data:ia(ce)}}F[0].messages[0].data=ia(Q)}R.content=Sg(Ag(F)),R.size=R.content.length;var _e=Ra(ee[2][0].data);R=un.find(f,o[_e].location),F=Gl(ql(R.content));{if(F[0].id!=_e)throw"Bad HeaderStorageBucket";for(Q=gr(F[0].messages[0].data),P=0;P<=r.e.c;++P)ce=gr(Q[2][0].data),ce[1][0].data=Ir(P),ce[4][0].data=Ir(r.e.r+1),Q[2][P]={type:Q[2][0].type,data:ia(ce)};F[0].messages[0].data=ia(Q)}R.content=Sg(Ag(F)),R.size=R.content.length;var K=Ra(ee[4][0].data);(function(){for(var j=un.find(f,o[K].location),U=Gl(ql(j.content)),Y,ae=0;ae<U.length;++ae){var ye=U[ae];ye.id==K&&(Y=ye)}var me=gr(Y.messages[0].data);{me[3]=[];var fe=[];a.forEach(function(ue,nt){fe[1]=[{type:0,data:Ir(nt)}],fe[2]=[{type:0,data:Ir(1)}],fe[3]=[{type:2,data:Yoe(ue)}],me[3].push({type:2,data:ia(fe)})})}Y.messages[0].data=ia(me);var Te=Ag(U),Oe=Sg(Te);j.content=Oe,j.size=j.content.length})();var le=gr(ee[3][0].data);{var Se=le[1][0];delete le[2];var ve=gr(Se.data);{var Pe=Ra(ve[2][0].data);(function(){for(var j=un.find(f,o[Pe].location),U=Gl(ql(j.content)),Y,ae=0;ae<U.length;++ae){var ye=U[ae];ye.id==Pe&&(Y=ye)}var me=gr(Y.messages[0].data);{delete me[6],delete le[7];var fe=new Uint8Array(me[5][0].data);me[5]=[];for(var Te=0,Oe=0;Oe<=r.e.r;++Oe){var ue=gr(fe);Te+=lle(ue,s[Oe],a),ue[1][0].data=Ir(Oe),me[5].push({data:ia(ue),type:2})}me[1]=[{type:0,data:Ir(r.e.c+1)}],me[2]=[{type:0,data:Ir(r.e.r+1)}],me[3]=[{type:0,data:Ir(Te)}],me[4]=[{type:0,data:Ir(r.e.r+1)}]}Y.messages[0].data=ia(me);var nt=Ag(U),it=Sg(nt);j.content=it,j.size=j.content.length})()}Se.data=ia(ve)}ee[3][0].data=ia(le)}T[4][0].data=ia(ee)}m.messages[0].data=ia(T);var ie=Ag(g),I=Sg(ie);return p.content=I,p.size=p.content.length,f}function t7(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function tC(n){t7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function nC(n){t7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function ule(n){return Xn.WS.indexOf(n)>-1?"sheet":n==Xn.CS?"chart":n==Xn.DS?"dialog":n==Xn.MS?"macro":n&&n.length?n:"sheet"}function fle(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,ule(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function hle(n,e,t,r,i,s,a,o,c,f,h,p){try{s[r]=Ux(bl(n,t,!0),e);var g=us(n,e),m;switch(o){case"sheet":m=Fae(g,e,i,c,s[r],f,h,p);break;case"chart":if(m=Dae(g,e,i,c,s[r],f,h,p),!m||!m["!drawel"])break;var b=Nx(m["!drawel"].Target,e),_=s2(b),w=_ne(bl(n,b,!0),Ux(bl(n,_,!0),b)),T=Nx(w,b),L=s2(T);m=lae(bl(n,T,!0),T,c,Ux(bl(n,L,!0),T),f,m);break;case"macro":m=Pae(g,e,i,c,s[r],f,h,p);break;case"dialog":m=Oae(g,e,i,c,s[r],f,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=m;var R=[];s&&s[r]&&Hi(s[r]).forEach(function(F){var z="";if(s[r][F].Type==Xn.CMNT){z=Nx(s[r][F].Target,e);var q=zae(us(n,z,!0),z,c);if(!q||!q.length)return;XR(m,q,!1)}s[r][F].Type==Xn.TCMNT&&(z=Nx(s[r][F].Target,e),R=R.concat(Ane(us(n,z,!0),c)))}),R&&R.length&&XR(m,R,!0,c.people||[])}catch(F){if(c.WTF)throw F}}function zl(n){return n.charAt(0)=="/"?n.slice(1):n}function dle(n,e){if(mv(),e=e||{},tC(e),Vl(n,"META-INF/manifest.xml")||Vl(n,"objectdata.xml"))return iL(n,e);if(Vl(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PS<"u"){if(n.FileIndex)return PS(n);var t=un.utils.cfb_new();return pR(n).forEach(function(ce){On(t,ce,SJ(n,ce))}),PS(t)}throw new Error("Unsupported NUMBERS file")}if(!Vl(n,"[Content_Types].xml"))throw Vl(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Vl(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=pR(n),i=vZ(bl(n,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",us(n,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!us(n,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},f={};if(!e.bookSheets&&!e.bookProps){if(Hx=[],i.sst)try{Hx=Hae(us(n,zl(i.sst)),i.sst,e)}catch(ce){if(e.WTF)throw ce}e.cellStyles&&i.themes.length&&(c=Uae(bl(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=Bae(us(n,zl(i.style)),i.style,c,e))}i.links.map(function(ce){try{var _e=Ux(bl(n,s2(zl(ce))),ce);return Gae(us(n,zl(ce)),_e,ce,e)}catch{}});var h=Mae(us(n,zl(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=us(n,zl(i.coreprops[0]),!0),g&&(p=GD(g)),i.extprops.length!==0&&(g=us(n,zl(i.extprops[0]),!0),g&&SZ(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=bl(n,zl(i.custprops[0]),!0),g&&(m=TZ(g,e)));var b={};if((e.bookSheets||e.bookProps)&&(h.Sheets?a=h.Sheets.map(function(_e){return _e.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(b.Props=p,b.Custprops=m),e.bookSheets&&typeof a<"u"&&(b.SheetNames=a),e.bookSheets?b.SheetNames:e.bookProps))return b;a={};var _={};e.bookDeps&&i.calcchain&&(_=jae(us(n,zl(i.calcchain)),i.calcchain));var w=0,T={},L,R;{var F=h.Sheets;p.Worksheets=F.length,p.SheetNames=[];for(var z=0;z!=F.length;++z)p.SheetNames[z]=F[z].name}var q=s?"bin":"xml",P=i.workbooks[0].lastIndexOf("/"),X=(i.workbooks[0].slice(0,P+1)+"_rels/"+i.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");Vl(n,X)||(X="xl/_rels/workbook."+q+".rels");var O=Ux(bl(n,X,!0),X.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=qae(us(n,zl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Ene(us(n,zl(i.people[0])),e)),O&&(O=fle(O,h.Sheets));var ee=us(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=p.Worksheets;++w){var B="sheet";if(O&&O[w]?(L="xl/"+O[w][1].replace(/[\/]?xl\//,""),Vl(n,L)||(L=O[w][1]),Vl(n,L)||(L=X.replace(/_rels\/.*$/,"")+O[w][1]),B=O[w][2]):(L="xl/worksheets/sheet"+(w+1-ee)+"."+q,L=L.replace(/sheet0\./,"sheet.")),R=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(w!=e.sheets)continue e;break;case"string":if(p.SheetNames[w].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var G=!1,Q=0;Q!=e.sheets.length;++Q)typeof e.sheets[Q]=="number"&&e.sheets[Q]==w&&(G=1),typeof e.sheets[Q]=="string"&&e.sheets[Q].toLowerCase()==p.SheetNames[w].toLowerCase()&&(G=1);if(!G)continue e}}hle(n,L,R,p.SheetNames[w],w,T,a,B,e,h,c,f)}return b={Directory:i,Workbook:h,Props:p,Custprops:m,Deps:_,Sheets:a,SheetNames:p.SheetNames,Strings:Hx,Styles:f,Themes:c,SSF:li(bn)},e&&e.bookFiles&&(n.files?(b.keys=r,b.files=n.files):(b.keys=[],b.files={},n.FullPaths.forEach(function(ce,_e){ce=ce.replace(/^Root Entry[\/]/,""),b.keys.push(ce),b.files[ce]=n.FileIndex[_e]}))),e&&e.bookVBA&&(i.vba.length>0?b.vbaraw=us(n,zl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Mne&&(b.vbaraw=us(n,"xl/vbaProject.bin",!0))),b}function ple(n,e){var t=e||{},r="Workbook",i=un.find(n,r);try{if(r="/!DataSpaces/Version",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(qee(i.content),r="/!DataSpaces/DataSpaceMap",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Wee(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Xee(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);$ee(i.content)}catch{}if(r="/EncryptionInfo",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Kee(i.content);if(r="/EncryptedPackage",i=un.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function mle(n,e){return e.bookType=="ods"?e7(n,e):e.bookType=="numbers"?cle(n,e):e.bookType=="xlsb"?gle(n,e):vle(n,e)}function gle(n,e){Ug=1024,n&&!n.SSF&&(n.SSF=li(bn)),n&&n.SSF&&(mv(),b5(n.SSF),e.revssf=w5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,zx?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=kP.indexOf(e.bookType)>-1,i=z4();nC(e=e||{});var s=C4(),a="",o=0;if(e.cellXfs=[],f0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",On(s,a,qD(n.Props,e)),i.coreprops.push(a),Mr(e.rels,2,a,Xn.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(n.SheetNames[f]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,On(s,a,XD(n.Props)),i.extprops.push(a),Mr(e.rels,3,a,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",On(s,a,YD(n.Custprops)),i.custprops.push(a),Mr(e.rels,4,a,Xn.CUST_PROPS)),o=1;o<=n.SheetNames.length;++o){var h={"!id":{}},p=n.Sheets[n.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,On(s,a,Wae(o-1,a,e,n,h)),i.sheets.push(a),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(p){var m=p["!comments"],b=!1,_="";m&&m.length>0&&(_="xl/comments"+o+"."+t,On(s,_,$ae(m,_)),i.comments.push(_),Mr(h,-1,"../comments"+o+"."+t,Xn.CMNT),b=!0),p["!legacy"]&&b&&On(s,"xl/drawings/vmlDrawing"+o+".vml",TP(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&On(s,s2(a),Jg(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,On(s,a,Yae(e.Strings,a,e)),i.strs.push(a),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),a="xl/workbook."+t,On(s,a,Vae(n,a)),i.workbooks.push(a),Mr(e.rels,1,a,Xn.WB),a="xl/theme/theme1.xml",On(s,a,X4(n.Themes,e)),i.themes.push(a),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),a="xl/styles."+t,On(s,a,Xae(n,a,e)),i.styles.push(a),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",On(s,a,n.vbaraw),i.vba.push(a),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),a="xl/metadata."+t,On(s,a,Kae(a)),i.metadata.push(a),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),On(s,"[Content_Types].xml",zD(i,e)),On(s,"_rels/.rels",Jg(e.rels)),On(s,"xl/_rels/workbook."+t+".rels",Jg(e.wbrels)),delete e.revssf,delete e.ssf,s}function vle(n,e){Ug=1024,n&&!n.SSF&&(n.SSF=li(bn)),n&&n.SSF&&(mv(),b5(n.SSF),e.revssf=w5(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,zx?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=kP.indexOf(e.bookType)>-1,i=z4();nC(e=e||{});var s=C4(),a="",o=0;if(e.cellXfs=[],f0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",On(s,a,qD(n.Props,e)),i.coreprops.push(a),Mr(e.rels,2,a,Xn.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(n.SheetNames[f]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,On(s,a,XD(n.Props)),i.extprops.push(a),Mr(e.rels,3,a,Xn.EXT_PROPS),n.Custprops!==n.Props&&Hi(n.Custprops||{}).length>0&&(a="docProps/custom.xml",On(s,a,YD(n.Custprops)),i.custprops.push(a),Mr(e.rels,4,a,Xn.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=n.SheetNames.length;++o){var p={"!id":{}},g=n.Sheets[n.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,On(s,a,UP(o-1,e,n,p)),i.sheets.push(a),Mr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Xn.WS[0])}if(g){var b=g["!comments"],_=!1,w="";if(b&&b.length>0){var T=!1;b.forEach(function(L){L[1].forEach(function(R){R.T==!0&&(T=!0)})}),T&&(w="xl/threadedComments/threadedComment"+o+"."+t,On(s,w,Sne(b,h,e)),i.threadedcomments.push(w),Mr(p,-1,"../threadedComments/threadedComment"+o+"."+t,Xn.TCMNT)),w="xl/comments"+o+"."+t,On(s,w,CP(b)),i.comments.push(w),Mr(p,-1,"../comments"+o+"."+t,Xn.CMNT),_=!0}g["!legacy"]&&_&&On(s,"xl/drawings/vmlDrawing"+o+".vml",TP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&On(s,s2(a),Jg(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,On(s,a,pP(e.Strings,e)),i.strs.push(a),Mr(e.wbrels,-1,"sharedStrings."+t,Xn.SST)),a="xl/workbook."+t,On(s,a,qP(n)),i.workbooks.push(a),Mr(e.rels,1,a,Xn.WB),a="xl/theme/theme1.xml",On(s,a,X4(n.Themes,e)),i.themes.push(a),Mr(e.wbrels,-1,"theme/theme1.xml",Xn.THEME),a="xl/styles."+t,On(s,a,wP(n,e)),i.styles.push(a),Mr(e.wbrels,-1,"styles."+t,Xn.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",On(s,a,n.vbaraw),i.vba.push(a),Mr(e.wbrels,-1,"vbaProject.bin",Xn.VBA)),a="xl/metadata."+t,On(s,a,EP()),i.metadata.push(a),Mr(e.wbrels,-1,"metadata."+t,Xn.XLMETA),h.length>1&&(a="xl/persons/person.xml",On(s,a,Tne(h)),i.people.push(a),Mr(e.wbrels,-1,"persons/person.xml",Xn.PEOPLE)),On(s,"[Content_Types].xml",zD(i,e)),On(s,"_rels/.rels",Jg(e.rels)),On(s,"xl/_rels/workbook."+t+".rels",Jg(e.wbrels)),delete e.revssf,delete e.ssf,s}function rC(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Al(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function xle(n,e){return un.find(n,"EncryptedPackage")?ple(n,e):YP(n,e)}function yle(n,e){var t,r=n,i=e||{};return i.type||(i.type=qn&&Buffer.isBuffer(n)?"buffer":"base64"),t=gD(r,i),dle(t,i)}function n7(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return BT(n.slice(t),e);default:break e}return lv.to_workbook(n,e)}function ble(n,e){var t="",r=rC(n,e);switch(e.type){case"base64":t=Al(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=pm(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=qr(t)),e.type="binary",n7(t,e)}function _le(n,e){var t=n;return e.type=="base64"&&(t=Al(t)),t=Qx.utils.decode(1200,t.slice(2),"str"),e.type="binary",n7(t,e)}function wle(n){return n.match(/[^\x00-\x7F]/)?nf(n):n}function OS(n,e,t,r){return r?(t.type="string",lv.to_workbook(n,t)):lv.to_workbook(e,t)}function qx(n,e){w4();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return qx(new Uint8Array(n),(t=li(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Qg={},t.dateNF&&(Qg.dateNF=t.dateNF),t.type||(t.type=qn&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=qn?"buffer":"binary",r=gJ(n),typeof Uint8Array<"u"&&!qn&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,r=wle(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=li(t),t.type="array",qx(A4(r),t)}switch((i=rC(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return xle(un.read(r,t),t);break;case 9:if(i[1]<=8)return YP(r,t);break;case 60:return BT(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Cee(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return hP.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?yle(r,t):OS(n,r,t,s);case 239:return i[3]===60?BT(r,t):OS(n,r,t,s);case 255:if(i[1]===254)return _le(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return sm.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return sm.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return OT.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return yP.to_workbook(r,t);break;case 10:case 13:case 32:return ble(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Tee.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?OT.to_workbook(r,t):OS(n,r,t,s)}function r7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gy(e.file,un.write(n,{type:qn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return un.write(n,e)}function Ale(n,e){var t=li(e||{}),r=mle(n,t);return Sle(r,t)}function Sle(n,e){var t={},r=qn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?un.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(y5(i))}return e.password&&typeof encrypt_agile<"u"?r7(encrypt_agile(i,e.password),e):e.type==="file"?Gy(e.file,i):e.type=="string"?qr(i):i}function Ele(n,e){var t=e||{},r=woe(n,t);return r7(r,t)}function Ou(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return e2(nf(r));case"binary":return nf(r);case"string":return n;case"file":return Gy(e.file,r,"utf8");case"buffer":return qn?Lh(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ou(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Tle(n,e){switch(e.type){case"base64":return e2(n);case"binary":return n;case"string":return n;case"file":return Gy(e.file,n,"binary");case"buffer":return qn?Lh(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function v_(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?e2(t):e.type=="string"?qr(t):t;case"file":return Gy(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function i7(n,e){w4(),xae(n);var t=li(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=i7(n,t);return t.type="array",y5(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ou(moe(n,t),t);case"slk":case"sylk":return Ou(fP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Ou(KP(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Tle(s7(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Ou(iC(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Ou(hP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return v_(OT.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Ou(lv.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Ou(yP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Ou(dP.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Ou(e7(n,t),t);case"wk1":return v_(sm.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return v_(sm.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),v_($P(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Ele(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ale(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Cle(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function kle(n,e,t){var r={};return r.type="file",r.file=e,Cle(r),i7(n,r)}function Nle(n,e,t,r,i,s,a,o){var c=Zi(t),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!a||n[t])for(var m=e.s.c;m<=e.e.c;++m){var b=a?n[t][m]:n[r[m]+c];if(b===void 0||b.t===void 0){if(f===void 0)continue;s[m]!=null&&(g[s[m]]=f);continue}var _=b.v;switch(b.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[m]!=null){if(_==null)if(b.t=="e"&&_===null)g[s[m]]=null;else if(f!==void 0)g[s[m]]=f;else if(h&&_===null)g[s[m]]=null;else continue;else g[s[m]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?_:Th(b,_,o);_!=null&&(p=!1)}}return{row:g,isempty:p}}function Dw(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:n["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof h){case"string":c=dr(h);break;case"number":c=dr(n["!ref"]),c.s.r=h;break;default:c=h}r>0&&(i=0);var p=Zi(c.s.r),g=[],m=[],b=0,_=0,w=Array.isArray(n),T=c.s.r,L=0,R={};w&&!n[T]&&(n[T]=[]);var F=f.skipHidden&&n["!cols"]||[],z=f.skipHidden&&n["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(F[L]||{}).hidden)switch(g[L]=Ti(L),t=w?n[T][L]:n[g[L]+p],r){case 1:s[L]=L-c.s.c;break;case 2:s[L]=g[L];break;case 3:s[L]=f.header[L-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=Th(t,null,f),_=R[a]||0,!_)R[a]=1;else{do o=a+"_"+_++;while(R[o]);R[a]=_,R[o]=1}s[L]=o}for(T=c.s.r+i;T<=c.e.r;++T)if(!(z[T]||{}).hidden){var q=Nle(n,c,T,g,r,s,w,f);(q.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(m[b++]=q.row)}return m.length=b,m}var cL=/"/g;function Rle(n,e,t,r,i,s,a,o){for(var c=!0,f=[],h="",p=Zi(t),g=e.s.c;g<=e.e.c;++g)if(r[g]){var m=o.dense?(n[t]||[])[g]:n[r[g]+p];if(m==null)h="";else if(m.v!=null){c=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:Th(m,null,o));for(var b=0,_=0;b!==h.length;++b)if((_=h.charCodeAt(b))===i||_===s||_===34||o.forceQuotes){h='"'+h.replace(cL,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(c=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(cL,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&c?null:f.join(a)}function iC(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=dr(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),h="",p=[];r.dense=Array.isArray(n);for(var g=r.skipHidden&&n["!cols"]||[],m=r.skipHidden&&n["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(g[b]||{}).hidden||(p[b]=Ti(b));for(var _=0,w=i.s.r;w<=i.e.r;++w)(m[w]||{}).hidden||(h=Rle(n,i,w,p,a,c,s,r),h!=null&&(r.strip&&(h=h.replace(f,"")),(h||r.blankrows!==!1)&&t.push((_++?o:"")+h)));return delete r.dense,t.join("")}function s7(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=iC(n,e);return t}function Lle(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=dr(n["!ref"]),s="",a=[],o,c=[],f=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ti(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=Zi(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=f?(n[h]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function a7(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ci(r.origin):r.origin;a=c.r,o=c.c}var f,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=dr(s["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),a==-1&&(a=p.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var g=r.header||[],m=0;e.forEach(function(_,w){Hi(_).forEach(function(T){(m=g.indexOf(T))==-1&&(g[m=g.length]=T);var L=_[T],R="z",F="",z=_n({c:o+m,r:a+w+i});f=h2(s,z),L&&typeof L=="object"&&!(L instanceof Date)?s[z]=L:(typeof L=="number"?R="n":typeof L=="boolean"?R="b":typeof L=="string"?R="s":L instanceof Date?(R="d",r.cellDates||(R="n",L=Rs(L)),F=r.dateNF||bn[14]):L===null&&r.nullError&&(R="e",L=0),f?(f.t=R,f.v=L,delete f.w,delete f.R,F&&(f.z=F)):s[z]=f={t:R,v:L},F&&(f.z=F))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Zi(a);if(i)for(m=0;m<g.length;++m)s[Ti(m+o)+b]={t:"s",v:g[m]};return s["!ref"]=Dn(h),s}function Ile(n,e){return a7(null,n,e)}function h2(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ci(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?h2(n,_n(e)):h2(n,_n({r:e,c:t||0}))}function Mle(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function sC(){return{SheetNames:[],Sheets:{}}}function aC(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=a+i)!=-1;++i);}if(GP(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Fle(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Mle(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Dle(n,e){return n.z=e,n}function o7(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Ple(n,e,t){return o7(n,"#"+e,t)}function Ole(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Ble(n,e,t,r){for(var i=typeof e!="string"?e:dr(e),s=typeof e=="string"?e:Dn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=h2(n,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var e1={encode_col:Ti,encode_row:Zi,encode_cell:_n,encode_range:Dn,decode_col:D4,decode_row:F4,split_cell:YJ,decode_cell:Ci,decode_range:Bo,format_cell:Th,sheet_add_aoa:FD,sheet_add_json:a7,sheet_add_dom:JP,aoa_to_sheet:gv,json_to_sheet:Ile,table_to_sheet:ZP,table_to_book:qoe,sheet_to_csv:iC,sheet_to_txt:s7,sheet_to_json:Dw,sheet_to_html:KP,sheet_to_formulae:Lle,sheet_to_row_object_array:Dw,sheet_get_cell:h2,book_new:sC,book_append_sheet:aC,book_set_sheet_visibility:Fle,cell_set_number_format:Dle,cell_set_hyperlink:o7,cell_set_internal_link:Ple,cell_add_comment:Ole,sheet_set_array_formula:Ble,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ule={es:{title:"Historial de Correos",subtitle:"Rastrea y gestiona tus mensajes enviados recientemente.",searchPlaceholder:"Buscar destinatario, asunto...",filterByDate:"Filtrar por fecha",startDate:"Desde",endDate:"Hasta",exportExcel:"Excel",exportPDF:"Imprimir PDF",noSearchResults:"No se encontraron correos que coincidan con los filtros.",noHistory:"Sin historial an",noHistoryDesc:"Los correos que enves aparecern aqu con su estado de entrega.",thRecipient:"Destinatario",thSubject:"Asunto",thDate:"Fecha",thStatus:"Estado",thAction:"Accin",statusSent:"Entregado",statusFailed:"Error",statusSending:"En cola",modalTitle:"Detalles del Correo",toLabel:"Para:",ccLabel:"CC:",dateLabel:"Fecha:",subjectLabel:"Asunto:",bodyLabel:"Mensaje:",attachmentsLabel:"Archivos Adjuntos",closeBtn:"Cerrar",reportTitle:"Reporte de Actividad de Correos",serverLabel:"Servidor SMTP:",catAll:"Todos",catGeneral:"Generales",catCensus:"Censos",categoryLabel:"Categora:"},en:{title:"Email History",subtitle:"Track and manage your recently sent messages.",searchPlaceholder:"Search recipient, subject...",filterByDate:"Filter by date",startDate:"From",endDate:"To",exportExcel:"Excel",exportPDF:"Print PDF",noSearchResults:"No emails found matching the filters.",noHistory:"No History Yet",noHistoryDesc:"Emails you send will appear here with their delivery status.",thRecipient:"Recipient",thSubject:"Subject",thDate:"Date",thStatus:"Status",thAction:"Action",statusSent:"Delivered",statusFailed:"Error",statusSending:"Queued",modalTitle:"Email Details",toLabel:"To:",ccLabel:"Copy To:",dateLabel:"Date:",subjectLabel:"Subject:",bodyLabel:"Message:",attachmentsLabel:"Attachments",closeBtn:"Close",reportTitle:"Email Activity Report",serverLabel:"SMTP Server:",catAll:"All",catGeneral:"General",catCensus:"Census",categoryLabel:"Category:"}},Hle=({history:n,lang:e})=>{const t=Qe.useMemo(()=>Ule[e],[e]),[r,i]=Qe.useState(null),[s,a]=Qe.useState(""),[o,c]=Qe.useState(""),[f,h]=Qe.useState(""),[p,g]=Qe.useState("all"),m=Qe.useMemo(()=>{let T=n;if(p!=="all"&&(T=T.filter(L=>(L.category||"general")===p)),s.trim()){const L=s.toLowerCase();T=T.filter(R=>R.to.toLowerCase().includes(L)||R.subject.toLowerCase().includes(L)||R.status.toLowerCase().includes(L))}if(o){const L=new Date(o).setHours(0,0,0,0);T=T.filter(R=>R.timestamp>=L)}if(f){const L=new Date(f).setHours(23,59,59,999);T=T.filter(R=>R.timestamp<=L)}return T},[n,s,o,f,p]),b=()=>{const T=[t.thRecipient,t.thSubject,"Tipo",t.thDate,t.thStatus,t.ccLabel],L=m.map(P=>[P.to,P.subject,P.category==="census"?t.catCensus:t.catGeneral,new Date(P.timestamp).toLocaleString(),P.status,P.cc.join(", ")]),R=e1.aoa_to_sheet([T,...L]),F=T.map(()=>({wch:25}));R["!cols"]=F;const z=e1.book_new();e1.book_append_sheet(z,R,"Historial");const q=new Date().toISOString().split("T")[0];kle(z,`historial_correos_${q}.xlsx`)},_=()=>{window.print()},w=T=>{if(T===0)return"0 Bytes";const L=1024,R=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(T)/Math.log(L));return parseFloat((T/Math.pow(L,F)).toFixed(2))+" "+R[F]};return n.length===0?E.jsxs("div",{className:"text-center py-20 space-y-4 animate-in fade-in duration-700",children:[E.jsx("div",{className:"bg-slate-100 dark:bg-slate-900 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:E.jsx(US,{className:"text-slate-300 dark:text-slate-700",size:32})}),E.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200",children:t.noHistory}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:t.noHistoryDesc})]}):E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("header",{className:"text-left flex flex-col md:flex-row md:items-end justify-between gap-4 no-print",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:t.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t.subtitle})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:b,disabled:m.length===0,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-all disabled:opacity-30",children:[E.jsx(VT,{size:16})," ",t.exportExcel]}),E.jsxs("button",{onClick:_,disabled:m.length===0,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800/50 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-all disabled:opacity-30",children:[E.jsx(W9,{size:16})," ",t.exportPDF]})]})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-6 no-print transition-colors",children:[E.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[E.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-950 p-1 rounded-xl border border-slate-200 dark:border-slate-800",children:[{id:"all",label:t.catAll,icon:f9},{id:"general",label:t.catGeneral,icon:xh},{id:"census",label:t.catCensus,icon:x_}].map(T=>E.jsxs("button",{onClick:()=>g(T.id),className:`flex items-center gap-2 px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${p===T.id?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[E.jsx(T.icon,{size:14})," ",T.label]},T.id))}),E.jsxs("div",{className:"relative flex-1 max-w-md",children:[E.jsx(By,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:t.searchPlaceholder,className:"w-full pl-12 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/20 transition-all text-sm",value:s,onChange:T=>a(T.target.value)})]})]}),E.jsx("div",{className:"flex flex-wrap items-center gap-4 border-t border-slate-100 dark:border-slate-800 pt-4",children:E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 relative max-w-[200px]",children:[E.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:t.startDate}),E.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:o,onChange:T=>c(T.target.value)})]}),E.jsxs("div",{className:"flex-1 relative max-w-[200px]",children:[E.jsx("span",{className:"absolute -top-2 left-3 px-1 bg-white dark:bg-slate-900 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:t.endDate}),E.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl outline-none text-xs",value:f,onChange:T=>h(T.target.value)})]}),(o||f||s||p!=="all")&&E.jsxs("button",{onClick:()=>{a(""),c(""),h(""),g("all")},className:"flex items-center gap-2 text-xs font-bold text-red-500 hover:underline",children:[E.jsx(Oo,{size:14})," Limpiar filtros"]})]})})]}),E.jsxs("div",{className:"hidden print-only mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.reportTitle}),E.jsxs("p",{className:"text-sm text-slate-500",children:[new Date().toLocaleString()," | ",o?`${t.startDate}: ${o}`:""," ",f?` ${t.endDate}: ${f}`:""," | Categora: ",p]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors text-left",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thRecipient}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thSubject}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Tipo"}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thDate}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.thStatus}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right no-print",children:t.thAction})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[m.map(T=>{const L=T.category==="census";return E.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 break-all",children:T.to})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 line-clamp-1",children:T.subject}),T.attachments.length>0&&E.jsx(Lx,{size:14,className:"text-indigo-400 shrink-0 no-print"})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border w-fit ${L?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400":"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400"}`,children:[L?E.jsx(x_,{size:10}):E.jsx(xh,{size:10}),E.jsx("span",{className:"text-[10px] font-bold uppercase",children:L?t.catCensus:t.catGeneral})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsx("span",{className:"text-xs text-slate-400",children:new Date(T.timestamp).toLocaleString()})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="sent"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(pL,{size:10})," ",t.statusSent]}),T.status==="failed"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(XO,{size:10})," ",t.statusFailed]}),T.status==="sending"&&E.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-full text-[10px] font-bold uppercase",children:[E.jsx(US,{size:10})," ",t.statusSending]})]})}),E.jsx("td",{className:"px-6 py-4 text-right no-print",children:E.jsx("button",{onClick:()=>i(T),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Ver detalles",children:E.jsx(gL,{size:16})})})]},T.id)}),m.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400 italic",children:t.noSearchResults})})]})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[150] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300 no-print",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800 transition-colors text-left",children:[E.jsxs("header",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-white dark:bg-slate-900 z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`p-2 rounded-xl ${r.category==="census"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:r.category==="census"?E.jsx(x_,{size:24}):E.jsx(xh,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white leading-none",children:t.modalTitle}),E.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.status==="sent"&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-emerald-100 text-emerald-600 rounded uppercase",children:t.statusSent}),r.status==="failed"&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-red-100 text-red-600 rounded uppercase",children:t.statusFailed}),E.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[E.jsx(OO,{size:10})," ",new Date(r.timestamp).toLocaleString()]})]})]})]}),E.jsx("button",{onClick:()=>i(null),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(Oo,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-left bg-slate-50 dark:bg-slate-950/50",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(Wx,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.toLabel}),E.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 break-all",children:r.to})]})]}),r.cc&&r.cc.length>0&&E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(qT,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.ccLabel}),E.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 break-all",children:r.cc.join(", ")})]})]}),r.smtpProfileName&&E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(iw,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.serverLabel}),E.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:r.smtpProfileName})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(sf,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.subjectLabel}),E.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white leading-snug",children:r.subject})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(Rx,{size:16,className:"text-slate-400 mt-0.5 shrink-0"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.categoryLabel}),E.jsx("p",{className:`text-sm font-bold capitalize ${r.category==="census"?"text-emerald-600 dark:text-emerald-400":"text-indigo-600 dark:text-indigo-400"}`,children:r.category==="census"?t.catCensus:t.catGeneral})]})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.bodyLabel}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm text-slate-700 dark:text-slate-300 leading-relaxed min-h-[150px] transition-colors",dangerouslySetInnerHTML:{__html:r.body}})]}),r.attachments&&r.attachments.length>0&&E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t.attachmentsLabel}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.attachments.map(T=>E.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl flex items-center gap-3 transition-colors",children:[E.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800 text-indigo-500 rounded-lg shrink-0",children:T.type.startsWith("image/")?E.jsx(v9,{size:20}):E.jsx(sf,{size:20})}),E.jsxs("div",{className:"overflow-hidden flex-1",children:[E.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 truncate",children:T.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[T.label&&E.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded uppercase",children:T.label}),E.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:w(T.size)})]})]})]},T.id))})]})]}),E.jsx("footer",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-end",children:E.jsx("button",{onClick:()=>i(null),className:"px-6 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:t.closeBtn})})]})})]})},zle={es:{title:"Agenda de Contactos",subtitle:"Gestiona tus destinatarios frecuentes con mltiples correos y grupos.",tabContacts:"Todos los Contactos",tabGroups:"Grupos de Contactos",addBtn:"Aadir Contacto",addGroupBtn:"Crear Grupo",searchPlaceholder:"Buscar en la agenda...",thContact:"Contacto",thEmails:"Correos",thActions:"Acciones",thGroup:"Nombre del Grupo",thMembers:"Miembros",noContacts:"Tu agenda est vaca.",noGroups:"No has creado grupos an.",noSearch:"No hay resultados que coincidan.",editTitle:"Editar Contacto",newTitle:"Nuevo Contacto",editGroupTitle:"Editar Grupo",newGroupTitle:"Nuevo Grupo",fullName:"Nombre Completo",groupName:"Nombre del Grupo",addEmail:"Aadir otro correo",saveBtn:"Guardar",updateBtn:"Actualizar",selectContacts:"Seleccionar Contactos para el Grupo",membersCount:"{count} miembros"},en:{title:"Contact Agenda",subtitle:"Manage your frequently used recipients with multiple emails and groups.",tabContacts:"All Contacts",tabGroups:"Contact Groups",addBtn:"Add Contact",addGroupBtn:"Create Group",searchPlaceholder:"Search agenda...",thContact:"Contact",thEmails:"Emails",thActions:"Actions",thGroup:"Group Name",thMembers:"Members",noContacts:"Your agenda is empty.",noGroups:"No groups created yet.",noSearch:"No results found match your search.",editTitle:"Edit Contact",newTitle:"Add New Contact",editGroupTitle:"Edit Group",newGroupTitle:"Create New Group",fullName:"Full Name",groupName:"Group Name",addEmail:"Add another",saveBtn:"Save",updateBtn:"Update",selectContacts:"Select Contacts for Group",membersCount:"{count} members"}},jle=({contacts:n,onAction:e,contactGroups:t,onGroupAction:r,lang:i})=>{const s=Qe.useMemo(()=>zle[i],[i]),[a,o]=Qe.useState("contacts"),[c,f]=Qe.useState(null),[h,p]=Qe.useState(!1),[g,m]=Qe.useState(null),[b,_]=Qe.useState(!1),[w,T]=Qe.useState(""),[L,R]=Qe.useState({id:"",name:"",emails:[""]}),[F,z]=Qe.useState({id:"",name:"",contactIds:[]}),q=Qe.useMemo(()=>n.filter(_e=>_e.name.toLowerCase().includes(w.toLowerCase())||_e.emails.some(K=>K.toLowerCase().includes(w.toLowerCase()))),[n,w]),P=Qe.useMemo(()=>t.filter(_e=>_e.name.toLowerCase().includes(w.toLowerCase())),[t,w]),X=()=>{R({id:Date.now().toString(),name:"",emails:[""]}),p(!0),f(null)},O=_e=>{R(_e),f(_e),p(!1)},ee=()=>{z({id:Date.now().toString(),name:"",contactIds:[]}),_(!0),m(null)},B=_e=>{z(_e),m(_e),_(!1)},G=_e=>{_e.preventDefault();const K={...L,emails:L.emails.filter(le=>le.trim()!=="")};K.emails.length!==0&&(c?e.update(K):e.add(K),p(!1),f(null))},Q=_e=>{_e.preventDefault(),F.name.trim()&&(g?r.update(F):r.add(F),_(!1),m(null))},ce=_e=>{z(K=>({...K,contactIds:K.contactIds.includes(_e)?K.contactIds.filter(le=>le!==_e):[...K.contactIds,_e]}))};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:s.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:s.subtitle})]}),!h&&!c&&!b&&!g&&E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium shadow-md hover:bg-indigo-700 transition-all active:scale-95",children:[E.jsx(hB,{size:18})," ",s.addBtn]}),E.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-indigo-600 dark:text-indigo-400 rounded-xl font-medium shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:[E.jsx(c9,{size:18})," ",s.addGroupBtn]})]})]}),!h&&!c&&!b&&!g?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-2xl border border-slate-200 dark:border-slate-800",children:[E.jsxs("button",{onClick:()=>o("contacts"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${a==="contacts"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[E.jsx(tm,{size:16})," ",s.tabContacts]}),E.jsxs("button",{onClick:()=>o("groups"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-bold transition-all ${a==="groups"?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500"}`,children:[E.jsx(Rx,{size:16})," ",s.tabGroups]})]}),E.jsxs("div",{className:"relative flex-1 max-w-md",children:[E.jsx(By,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),E.jsx("input",{type:"text",placeholder:s.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:w,onChange:_e=>T(_e.target.value)})]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-all",children:a==="contacts"?E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thContact}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thEmails}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:s.thActions})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[q.map(_e=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center text-xs font-bold",children:_e.name.charAt(0).toUpperCase()}),E.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:_e.name})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("div",{className:"flex flex-wrap gap-1.5",children:_e.emails.map(K=>E.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 rounded-md font-medium",children:K},K))})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>O(_e),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(av,{size:16})}),E.jsx("button",{onClick:()=>window.confirm("Eliminar contacto?")&&e.delete(_e.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(rf,{size:16})})]})})]},_e.id)),q.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[E.jsx(tm,{size:48}),E.jsx("p",{children:w?s.noSearch:s.noContacts})]})})})]})]})}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thGroup}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:s.thMembers}),E.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:s.thActions})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[P.map(_e=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:E.jsx(Rx,{size:18})}),E.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:_e.name})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 px-3 py-1 bg-slate-50 dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700",children:s.membersCount.replace("{count}",_e.contactIds.length.toString())})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>B(_e),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(av,{size:16})}),E.jsx("button",{onClick:()=>window.confirm("Eliminar grupo?")&&r.delete(_e.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-800 rounded-lg shadow-none hover:shadow-sm border border-transparent hover:border-slate-100 transition-all",children:E.jsx(rf,{size:16})})]})})]},_e.id)),P.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-6 py-20 text-center text-slate-400 italic",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-30",children:[E.jsx(Rx,{size:48}),E.jsx("p",{children:w?s.noSearch:s.noGroups})]})})})]})]})})})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-2xl animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:c?s.editTitle:h?s.newTitle:g?s.editGroupTitle:s.newGroupTitle}),E.jsx("button",{onClick:()=>{p(!1),f(null),_(!1),m(null)},className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(Oo,{size:24})})]}),h||c?E.jsxs("form",{onSubmit:G,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.fullName}),E.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:L.name,onChange:_e=>R({...L,name:_e.target.value}),required:!0})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.thEmails}),E.jsxs("button",{type:"button",onClick:()=>R({...L,emails:[...L.emails,""]}),className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[E.jsx(om,{size:12})," ",s.addEmail]})]}),E.jsx("div",{className:"space-y-3",children:L.emails.map((_e,K)=>E.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-top-2 duration-200",children:[E.jsx("input",{type:"email",className:"flex-1 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100",value:_e,onChange:le=>{const Se=[...L.emails];Se[K]=le.target.value,R({...L,emails:Se})},required:K===0}),L.emails.length>1&&E.jsx("button",{type:"button",onClick:()=>R({...L,emails:L.emails.filter((le,Se)=>Se!==K)}),className:"p-3 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:E.jsx(rf,{size:18})})]},K))})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(af,{size:18})," ",c?s.updateBtn:s.saveBtn]})]}):E.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:s.groupName}),E.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all",value:F.name,onChange:_e=>z({...F,name:_e.target.value}),required:!0})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(tm,{size:16,className:"text-indigo-500"})," ",s.selectContacts]}),E.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden max-h-64 overflow-y-auto custom-scrollbar",children:E.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.length>0?n.map(_e=>E.jsx("button",{type:"button",onClick:()=>ce(_e.id),className:`w-full flex items-center justify-between p-4 transition-all hover:bg-white dark:hover:bg-slate-800 ${F.contactIds.includes(_e.id)?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${F.contactIds.includes(_e.id)?"bg-indigo-600 border-indigo-600":"border-slate-300"}`,children:F.contactIds.includes(_e.id)&&E.jsx(GT,{size:12,className:"text-white"})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:_e.name}),E.jsx("p",{className:"text-[10px] text-slate-400",children:_e.emails[0]})]})]})},_e.id)):E.jsx("div",{className:"p-8 text-center text-slate-400 italic text-xs",children:s.noContacts})})})]}),E.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[E.jsx(af,{size:18})," ",g?s.updateBtn:s.saveBtn]})]})]})]})},Gle={es:{title:"Plantillas de Correo",subtitle:"Guarda estructuras de correo frecuentes para agilizar tu trabajo.",newBtn:"Nueva Plantilla",searchPlaceholder:"Buscar plantillas...",noSearch:"No hay plantillas que coincidan.",noTemplates:"No hay plantillas guardadas an.",editTitle:"Editar Plantilla",newTitle:"Nueva Plantilla",nameLabel:"Nombre de la Plantilla",namePlaceholder:"Reporte Mensual, Saludos, Seguimiento...",subjectLabel:"Lnea de Asunto",subjectPlaceholder:"Importante: Actualizacin sobre...",bodyLabel:"Contenido del Cuerpo (Texto Enriquecido)",bodyPlaceholder:"Comienza a redactar tu plantilla aqu...",updateBtn:"Actualizar Plantilla",saveBtn:"Guardar Plantilla"},en:{title:"Email Templates",subtitle:"Save frequently used email structures to speed up your work.",newBtn:"New Template",searchPlaceholder:"Search templates...",noSearch:"No templates match your search.",noTemplates:"No templates saved yet.",editTitle:"Edit Template",newTitle:"New Template",nameLabel:"Template Name",namePlaceholder:"Monthly Report, Greetings, Follow-up...",subjectLabel:"Subject Line",subjectPlaceholder:"Important: Update regarding...",bodyLabel:"Body Content (Rich Text)",bodyPlaceholder:"Start drafting your template here...",updateBtn:"Update Template",saveBtn:"Save Template"}},qle=({templates:n,onAction:e,lang:t})=>{const r=Qe.useMemo(()=>Gle[t],[t]),[i,s]=Qe.useState(null),[a,o]=Qe.useState(!1),[c,f]=Qe.useState(""),[h,p]=Qe.useState({id:"",name:"",subject:"",body:""}),g=Qe.useRef(null),m=n.filter(L=>L.name.toLowerCase().includes(c.toLowerCase())||L.subject.toLowerCase().includes(c.toLowerCase()));Qe.useEffect(()=>{(a||i)&&g.current&&g.current.innerHTML!==h.body&&(g.current.innerHTML=h.body)},[a,i,h.body]);const b=()=>{p({id:Date.now().toString(),name:"",subject:"",body:""}),o(!0),s(null)},_=L=>{p(L),s(L),o(!1)},w=L=>{L.preventDefault(),i?e.update(h):e.add(h),o(!1),s(null)},T=L=>{document.execCommand(L,!1),g.current&&p(R=>({...R,body:g.current.innerHTML}))};return E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 text-left",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white transition-colors",children:r.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:r.subtitle})]}),!a&&!i&&E.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all shadow-md",children:[E.jsx(om,{size:18})," ",r.newBtn]})]}),!a&&!i?E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(By,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600",size:18}),E.jsx("input",{type:"text",placeholder:r.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",value:c,onChange:L=>f(L.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.map(L=>E.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-500 transition-all group relative cursor-pointer",onClick:()=>_(L),children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-bold text-slate-800 dark:text-white line-clamp-1",children:L.name}),E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:R=>{R.stopPropagation(),_(L)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(av,{size:14})}),E.jsx("button",{onClick:R=>{R.stopPropagation(),e.delete(L.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-slate-800 rounded-lg transition-all",children:E.jsx(rf,{size:14})})]})]}),E.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium line-clamp-1 mb-2",children:L.subject}),E.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 line-clamp-3 leading-relaxed flex-1 overflow-hidden",dangerouslySetInnerHTML:{__html:L.body.replace(/<[^>]*>?/gm," ")}})]})},L.id)),m.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 dark:text-slate-600 italic",children:c?r.noSearch:r.noTemplates})]})]}):E.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 transition-colors",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:i?r.editTitle:r.newTitle}),E.jsx("button",{onClick:()=>{o(!1),s(null)},className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-all",children:E.jsx(Oo,{size:20})})]}),E.jsxs("form",{onSubmit:w,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:r.nameLabel}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.name,onChange:L=>p({...h,name:L.target.value}),placeholder:r.namePlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(YT,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.subjectLabel]}),E.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900/30 focus:border-indigo-400 dark:focus:border-indigo-500 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-all",value:h.subject,onChange:L=>p({...h,subject:L.target.value}),placeholder:r.subjectPlaceholder,required:!0})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx(sf,{size:14,className:"text-indigo-500 dark:text-indigo-400"})," ",r.bodyLabel]}),E.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-xl overflow-hidden bg-white dark:bg-slate-900 transition-colors",children:[E.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 px-3 py-1.5 flex items-center gap-1",children:[E.jsx("button",{type:"button",onClick:()=>T("bold"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(jT,{size:16})}),E.jsx("button",{type:"button",onClick:()=>T("italic"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(WT,{size:16})}),E.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),E.jsx("button",{type:"button",onClick:()=>T("insertUnorderedList"),className:"p-1.5 hover:bg-white dark:hover:bg-slate-700 rounded text-slate-600 dark:text-slate-400 transition-colors",children:E.jsx(XT,{size:16})})]}),E.jsx("div",{ref:g,contentEditable:!0,onInput:L=>{const R=L.currentTarget.innerHTML;p(F=>({...F,body:R}))},className:"w-full h-48 p-4 outline-none text-slate-700 dark:text-slate-200 overflow-y-auto leading-relaxed text-left","data-placeholder":r.bodyPlaceholder})]})]}),E.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:[E.jsx(af,{size:18}),i?r.updateBtn:r.saveBtn]})]})]})]})};function Vle(n){return new Worker("/assets/census-worker-VvLgk1G-.js",{type:"module",name:n==null?void 0:n.name})}const Wle=Qe.memo(({show:n,onClose:e,onSend:t,initialData:r,isGenerating:i,attachments:s,t:a})=>{const[o,c]=Qe.useState(r),[f,h]=Qe.useState(!1),p=Qe.useRef(null);if(!n)return null;const g=async()=>{var b;h(!0);const m=((b=p.current)==null?void 0:b.innerHTML)||o.body;await t(o.to,o.subject,m,s),h(!1)};return E.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[250] flex items-center justify-center p-4 animate-in fade-in duration-300",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-2xl p-8 shadow-2xl border border-slate-200 dark:border-slate-800 text-left",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"font-black text-xl text-slate-800 dark:text-white flex items-center gap-2 uppercase tracking-tight",children:[E.jsx(xh,{size:24,className:"text-indigo-600"})," ",a.emailPreviewTitle]}),E.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:E.jsx(Oo,{size:28})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Para"}),E.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-800 dark:text-white font-bold outline-none focus:ring-2 focus:ring-indigo-500/20",value:o.to,onChange:m=>c({...o,to:m.target.value})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Asunto"}),E.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-800 dark:text-white font-bold outline-none focus:ring-2 focus:ring-indigo-500/20",value:o.subject,onChange:m=>c({...o,subject:m.target.value})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Mensaje"}),E.jsx("div",{ref:p,contentEditable:!0,dangerouslySetInnerHTML:{__html:r.body},className:"w-full min-h-[150px] p-4 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-2xl text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-500 overflow-y-auto"})]}),E.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 dark:bg-slate-950/50 rounded-2xl border border-slate-100 dark:border-slate-800 min-h-[60px] items-center",children:i?E.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 animate-pulse px-2",children:[E.jsx(Sh,{className:"animate-spin",size:16}),E.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Generando..."})]}):s.map(m=>E.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 rounded-lg shadow-sm",children:[E.jsx(sf,{size:14,className:"text-indigo-500"}),E.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-200",children:m.label}),E.jsx(GT,{size:12,className:"text-emerald-500"})]},m.id))}),E.jsxs("button",{onClick:g,disabled:f||i,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-400 text-white rounded-2xl font-black uppercase tracking-widest flex items-center justify-center gap-3 transition-all active:scale-[0.98]",children:[f?E.jsx(Sh,{className:"animate-spin"}):E.jsx(n5,{size:20})," ",a.sendCensusBtn]})]})]})})}),Xle={es:{title:"Censos",subtitle:"Carga y organiza registros censales para su posterior uso o referencia.",tabFiles:"Archivos de Censo",tabPatients:"Registro de Pacientes",uploadTitle:"Subir nuevo censo",uploadHint:"Soporta CSV, Excel (XLSX, XLS).",searchPlaceholder:"Buscar...",noFiles:"No hay censos registrados an.",thFile:"Archivo",thDate:"Fecha de Carga",thActions:"Acciones",deleteConfirm:"Ests seguro de eliminar este registro?",viewTitle:"Previsualizacin",closeBtn:"Cerrar",rowsCount:"{count} registros",errorParsing:"Error al procesar el archivo Excel.",configTitle:"Configuracin",visibleColsLabel:"Columnas Visibles",saveSettingsBtn:"Guardar Configuracin",sendCensusBtn:"Enviar por Mail",emailPreviewTitle:"Vista Previa de Envo",emailAttachments:"Archivos Adjuntos",emailSendSuccess:"Censo enviado con xito!",emailSendError:"Error al enviar el censo.",patSearchPlaceholder:"Buscar paciente...",syncBtn:"Sincronizar",patThId:"ID",patThName:"Nombre",patThCount:"Apariciones",noPatIdConfig:"Configura el ID de paciente en opciones.",patNoPatients:"No hay pacientes."},en:{title:"Census",subtitle:"Upload and organize census records.",tabFiles:"Census Files",tabPatients:"Patient Registry",uploadTitle:"Upload new census",uploadHint:"Supports CSV, Excel (XLSX, XLS).",searchPlaceholder:"Search...",noFiles:"No census records yet.",thFile:"File",thDate:"Upload Date",thActions:"Actions",deleteConfirm:"Delete this record?",viewTitle:"Preview",closeBtn:"Close",rowsCount:"{count} records",errorParsing:"Error processing file.",configTitle:"Settings",visibleColsLabel:"Visible Columns",saveSettingsBtn:"Save Settings",sendCensusBtn:"Send via Email",emailPreviewTitle:"Send Preview",emailAttachments:"Attachments",emailSendSuccess:"Census sent successfully!",emailSendError:"Error sending census.",patSearchPlaceholder:"Search patient...",syncBtn:"Sync",patThId:"ID",patThName:"Name",patThCount:"Appearances",noPatIdConfig:"Configure Patient ID in options.",patNoPatients:"No patients found."}},Yle=({files:n,patients:e,settings:t,onAction:r,lang:i,onSendEmail:s,globalSmtpId:a,notify:o})=>{const c=Qe.useMemo(()=>Xle[i],[i]),[f,h]=Qe.useState("files"),[p,g]=Qe.useState(""),[m,b]=Qe.useState(!1),[_,w]=Qe.useState(!1),[T,L]=Qe.useState(null),[R,F]=Qe.useState(null),[z,q]=Qe.useState(t),[P,X]=Qe.useState([]),[O,ee]=Qe.useState(!1),[B,G]=Qe.useState({to:"",subject:"",body:"",coverage:""}),[Q,ce]=Qe.useState([]),[_e,K]=Qe.useState(!1),[le,Se]=Qe.useState(!1),[ve,Pe]=Qe.useState(!1),ie=Qe.useRef(null);Qe.useRef(null);const I=Qe.useMemo(()=>(n||[]).filter(fe=>fe.name.toLowerCase().includes(p.toLowerCase())),[n,p]);Qe.useMemo(()=>(e||[]).filter(fe=>fe.id.toLowerCase().includes(p.toLowerCase())).sort((fe,Te)=>Te.lastSeen-fe.lastSeen),[e,p]);const j=fe=>{const Te=fe.getDate().toString().padStart(2,"0"),Oe=(fe.getMonth()+1).toString().padStart(2,"0"),ue=fe.getFullYear();return`${Te}-${Oe}-${ue}`},U=fe=>new Promise(Te=>{const Oe=new FileReader;Oe.onloadend=()=>Te(Oe.result.split(",")[1]),Oe.readAsDataURL(fe)}),Y=fe=>{const Te=j(new Date),Oe=`Censo_${fe.coverage}`,ue=(t.associations||[]).find(it=>it.coverageName.toUpperCase()===fe.coverage.toUpperCase());ce([]),K(!0),G({to:(ue==null?void 0:ue.emails)||"",subject:(ue==null?void 0:ue.subject)||`${t.segmentationTitle||"Censo"} - ${fe.coverage} - ${Te}`,body:(ue==null?void 0:ue.body)||`<p>Adjuntamos el censo de ${fe.coverage}.</p>`,coverage:fe.coverage}),Se(!0);const nt=new Vle({});nt.postMessage({group:fe,settings:t,dateStr:Te,baseFileName:Oe,t:c}),nt.onmessage=async it=>{if(it.data.error){o("Error en procesamiento","error"),K(!1);return}const{pdfBlob:de,excelBlob:Fe}=it.data,He=await U(de),ht=await U(Fe);ce([{id:"pdf",name:`${Oe}.pdf`,type:"application/pdf",size:de.size,data:He,label:"PDF"},{id:"xls",name:`${Oe}.xlsx`,type:"application/vnd.ms-excel",size:Fe.size,data:ht,label:"EXCEL"}]),K(!1),nt.terminate()}},ae=async(fe,Te,Oe,ue)=>{await s(fe,Te,Oe,ue,[],a||void 0,"census")&&(Se(!1),o(c.emailSendSuccess,"success"))},ye=async fe=>{if(fe.content)try{const Te=fe.content.split(",")[1],Oe=qx(Te,{type:"base64",cellStyles:!1,cellNF:!1,cellDates:!0}),ue=Oe.Sheets[Oe.SheetNames[0]],nt=e1.sheet_to_json(ue,{defval:""});L({name:fe.name,data:nt.slice(0,100)})}catch{o(c.errorParsing,"error")}},me=async fe=>{if(!fe.content||!t.coverageColumn)return w(!0);try{const Te=fe.content.split(",")[1],Oe=qx(Te,{type:"base64",cellStyles:!1,cellNF:!1}),ue=e1.sheet_to_json(Oe.Sheets[Oe.SheetNames[0]],{defval:""}),nt={};ue.forEach(it=>{const de=String(it[t.coverageColumn]||"OTRAS").toUpperCase();nt[de]||(nt[de]={rows:[]});const Fe=(t.visibleColumns.length>0?t.visibleColumns:Object.keys(it)).map(He=>it[He]||"-");nt[de].rows.push(Fe)}),F({name:fe.name,groups:Object.entries(nt).map(([it,de])=>({coverage:it,headers:t.visibleColumns.length>0?t.visibleColumns:Object.keys(ue[0]),rows:de.rows}))})}catch{o("Error al segmentar","error")}};return E.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 text-left min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 no-print",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight",children:c.title}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:c.subtitle})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl border border-slate-200 dark:border-slate-800 shadow-inner",children:[E.jsxs("button",{onClick:()=>h("files"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${f==="files"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-50"}`,children:[E.jsx(sf,{size:14})," ",c.tabFiles]}),E.jsxs("button",{onClick:()=>h("patients"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${f==="patients"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-50"}`,children:[E.jsx(tm,{size:14})," ",c.tabPatients]})]}),E.jsx("button",{onClick:()=>w(!0),className:"p-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-500 hover:text-indigo-600 transition-all shadow-sm",children:E.jsx(GS,{size:20})})]})]}),f==="files"&&!R&&!T&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{onDragOver:fe=>{fe.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:fe=>{fe.preventDefault(),b(!1)},onClick:()=>{var fe;return(fe=ie.current)==null?void 0:fe.click()},className:`group p-12 border-2 border-dashed rounded-3xl transition-all cursor-pointer flex flex-col items-center justify-center text-center space-y-4 ${m?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-800 hover:border-indigo-400 bg-white dark:bg-slate-900/50"}`,children:[E.jsx("input",{type:"file",ref:ie,className:"hidden",onChange:fe=>{var Oe;const Te=(Oe=fe.target.files)==null?void 0:Oe[0];if(Te){const ue=new FileReader;ue.onload=nt=>{var it;return r.add({name:Te.name,size:Te.size,type:Te.type,uploadDate:Date.now(),content:(it=nt.target)==null?void 0:it.result})},ue.readAsDataURL(Te)}}}),E.jsx("div",{className:`p-4 rounded-2xl transition-all ${m?"bg-indigo-500 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-400 group-hover:text-indigo-500"}`,children:E.jsx(vL,{size:40})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-lg uppercase",children:c.uploadTitle}),E.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:c.uploadHint})]})]}),E.jsxs("div",{className:"space-y-4 pt-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(By,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),E.jsx("input",{type:"text",placeholder:c.searchPlaceholder,className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500/10 text-slate-700 dark:text-slate-200 font-bold",value:p,onChange:fe=>g(fe.target.value)})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-lg shadow-slate-200/50 dark:shadow-none overflow-hidden",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-950 border-b border-slate-100 dark:border-slate-800",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:c.thFile}),E.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest",children:c.thDate}),E.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:c.thActions})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:I.map(fe=>E.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-lg",children:E.jsx(sf,{size:20})}),E.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate max-w-xs",children:fe.name})]})}),E.jsx("td",{className:"px-6 py-4 text-xs text-slate-400 font-medium",children:new Date(Number(fe.uploadDate)).toLocaleString()}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>me(fe),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",children:E.jsx(gB,{size:18})}),E.jsx("button",{onClick:()=>ye(fe),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg",children:E.jsx(rw,{size:18})}),E.jsx("button",{onClick:()=>window.confirm(c.deleteConfirm)&&r.delete(fe.id),className:"p-2 text-slate-400 hover:text-red-500 rounded-lg",children:E.jsx(rf,{size:18})})]})})]},fe.id))})]})})]})]}),T&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[250] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-6xl p-8 shadow-2xl border border-slate-200 dark:border-slate-800 max-h-[90vh] flex flex-col text-left",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xl font-black uppercase flex items-center gap-3",children:[E.jsx(rw,{className:"text-indigo-600"})," ",c.viewTitle,": ",T.name]}),E.jsx("button",{onClick:()=>L(null),className:"text-slate-400 hover:text-slate-600",children:E.jsx(Oo,{size:32})})]}),E.jsx("div",{className:"overflow-auto border border-slate-100 dark:border-slate-800 rounded-2xl bg-slate-50 dark:bg-slate-950/50 custom-scrollbar",children:E.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[E.jsx("thead",{className:"bg-white dark:bg-slate-900 sticky top-0 shadow-sm z-10",children:E.jsx("tr",{children:T.data.length>0&&Object.keys(T.data[0]).map(fe=>E.jsx("th",{className:"px-4 py-3 text-slate-400 font-black uppercase tracking-widest border-b dark:border-slate-800",children:fe},fe))})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:T.data.map((fe,Te)=>E.jsx("tr",{className:"hover:bg-white dark:hover:bg-slate-800/30 transition-colors",children:Object.values(fe).map((Oe,ue)=>E.jsx("td",{className:"px-4 py-3 text-slate-700 dark:text-slate-300 font-medium whitespace-nowrap",children:String(Oe||"-")},ue))},Te))})]})})]})}),R&&E.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right no-print text-left",children:[E.jsxs("button",{onClick:()=>F(null),className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold hover:gap-3 transition-all",children:[E.jsx(jO,{className:"rotate-180",size:18})," ",c.backBtn]}),E.jsx("div",{className:"grid grid-cols-1 gap-8",children:R.groups.map((fe,Te)=>E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-lg overflow-hidden",children:[E.jsxs("header",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2.5 bg-indigo-600 text-white rounded-xl shadow-sm",children:E.jsx(tm,{size:20})}),E.jsx("h4",{className:"font-black text-slate-800 dark:text-white uppercase",children:fe.coverage})]}),E.jsxs("button",{onClick:()=>Y(fe),className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-bold flex items-center gap-2 transition-colors",children:[E.jsx(n5,{size:14})," ",c.sendCensusBtn]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[E.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:E.jsx("tr",{children:fe.headers.map(Oe=>E.jsx("th",{className:"px-4 py-3 text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider border-r border-slate-100 dark:border-slate-700 last:border-0",children:t.columnAliases&&t.columnAliases[Oe]||Oe},Oe))})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:fe.rows.slice(0,10).map((Oe,ue)=>E.jsx("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors",children:Oe.map((nt,it)=>E.jsx("td",{className:"px-4 py-3 text-slate-700 dark:text-slate-200 font-medium border-r border-slate-50/50 dark:border-slate-800/50 last:border-0",children:String(nt||"-")},it))},ue))})]})})]},Te))})]}),_&&E.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[150] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl p-8 shadow-2xl border border-slate-200 dark:border-slate-800 overflow-y-auto max-h-[90vh]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3",children:[E.jsx(GS,{className:"text-indigo-600"})," ",c.configTitle]}),E.jsx("button",{onClick:()=>w(!1),children:E.jsx(Oo,{size:28})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("button",{onClick:()=>{var fe;return(fe=document.getElementById("cfg-up"))==null?void 0:fe.click()},className:"w-full p-6 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 text-indigo-600 font-black text-sm uppercase tracking-wide",children:"Detectar Columnas"}),E.jsx("input",{type:"file",id:"cfg-up",className:"hidden",onChange:fe=>{var Oe;const Te=(Oe=fe.target.files)==null?void 0:Oe[0];if(Te){const ue=new FileReader;ue.onload=nt=>{var He;const it=qx((He=nt.target)==null?void 0:He.result,{type:"array",cellStyles:!1}),de=it.Sheets[it.SheetNames[0]],Fe=e1.sheet_to_json(de,{header:1});Fe.length&&X(Fe[0].map(ht=>String(ht||"").trim()))},ue.readAsArrayBuffer(Te)}}}),[{l:"Clave nica ID",v:z.patientUniqueIdColumn,k:"patientUniqueIdColumn",s:!0},{l:"Columna Cobertura",v:z.coverageColumn,k:"coverageColumn"},{l:"Columna Paciente",v:z.patientColumn,k:"patientColumn"}].map(fe=>E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:fe.l}),E.jsx("input",{className:`w-full p-3 border rounded-xl outline-none font-bold ${fe.s?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200"}`,value:fe.v||"",onChange:Te=>q({...z,[fe.k]:Te.target.value})})]},fe.k))]}),E.jsxs("div",{className:"space-y-6",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:c.visibleColsLabel}),E.jsx("div",{className:"max-h-72 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-2xl p-3 bg-slate-50 dark:bg-slate-950/50 custom-scrollbar space-y-2",children:P.map(fe=>E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl",children:[E.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600",checked:z.visibleColumns.includes(fe),onChange:()=>{const Te=z.visibleColumns;q({...z,visibleColumns:Te.includes(fe)?Te.filter(Oe=>Oe!==fe):[...Te,fe]})}}),E.jsx("span",{className:"text-xs truncate font-bold text-slate-600 dark:text-slate-300",children:fe})]},fe))}),E.jsxs("button",{onClick:()=>{r.saveSettings(z),w(!1)},className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black uppercase shadow-xl flex items-center justify-center gap-3 transition-all active:scale-[0.98]",children:[E.jsx(af,{size:20})," Guardar"]})]})]})]})}),O&&E.jsxs("div",{className:"fixed bottom-8 right-8 bg-indigo-600 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-bounce z-50",children:[E.jsx(Sh,{className:"animate-spin",size:18}),E.jsx("span",{className:"text-sm font-bold",children:"Sincronizando..."})]}),E.jsx(Wle,{show:le,onClose:()=>Se(!1),onSend:ae,initialData:B,isGenerating:_e,attachments:Q,t:c})]})},$le={es:{welcome:"Bienvenido de nuevo",instruction:"Ingresa tus credenciales para acceder.",error:"Usuario o contrasea incorrectos.",emailPlaceholder:"Correo electrnico",passPlaceholder:"Contrasea",secure:"Conexin Segura SSL",access:"Iniciar Sesin",loading:"Verificando..."},en:{welcome:"Welcome back",instruction:"Enter your credentials to access.",error:"Invalid email or password.",emailPlaceholder:"Email address",passPlaceholder:"Password",secure:"SSL Secure Connection",access:"Sign In",loading:"Verifying..."}},Kle=({onLogin:n,lang:e,appTitle:t})=>{const r=$le[e],[i,s]=Qe.useState(""),[a,o]=Qe.useState(""),[c,f]=Qe.useState(!1),[h,p]=Qe.useState(!1),[g,m]=Qe.useState(!1),b=async _=>{if(_.preventDefault(),h)return;p(!0),f(!1),await n(i,a)||(p(!1),f(!0),m(!0),setTimeout(()=>m(!1),500))};return E.jsxs("div",{className:"fixed inset-0 z-[1000] bg-slate-50 dark:bg-slate-950 flex items-center justify-center p-6 overflow-hidden",children:[E.jsxs("div",{className:`w-full max-w-md space-y-8 transition-transform duration-500 ${g?"animate-shake":""}`,children:[E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx("div",{className:"inline-flex p-4 bg-indigo-600 rounded-3xl shadow-xl shadow-indigo-200 dark:shadow-none mb-2 animate-in zoom-in-50 duration-500",children:E.jsx(xh,{className:"text-white w-10 h-10"})}),E.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight",children:t}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:r.welcome}),E.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:r.instruction})]})]}),E.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-2xl",children:E.jsxs("form",{onSubmit:b,className:"space-y-5",children:[E.jsx("div",{className:"space-y-2",children:E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-500 transition-colors",children:E.jsx(Wx,{size:18})}),E.jsx("input",{type:"email",required:!0,value:i,onChange:_=>s(_.target.value),placeholder:r.emailPlaceholder,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})}),E.jsx("div",{className:"space-y-2",children:E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-500 transition-colors",children:E.jsx(zS,{size:18})}),E.jsx("input",{type:"password",required:!0,value:a,onChange:_=>o(_.target.value),placeholder:r.passPlaceholder,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl text-slate-900 dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})}),c&&E.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 text-xs font-bold animate-in fade-in slide-in-from-top-2",children:[E.jsx(BS,{size:14})," ",r.error]}),E.jsx("button",{type:"submit",disabled:h||!i||!a,className:"w-full h-14 bg-indigo-600 text-white rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-indigo-200 dark:shadow-none hover:bg-indigo-700 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h?E.jsx(Sh,{className:"animate-spin",size:20}):E.jsxs(E.Fragment,{children:[r.access," ",E.jsx(N9,{size:20})]})})]})}),E.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 dark:text-slate-600 text-[10px] font-bold uppercase tracking-widest",children:[E.jsx(Ix,{size:14})," ",r.secure]})]}),E.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }
        .animate-shake {
          animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},Jle="https://smtpmunkybackend-production.up.railway.app/api";async function Vi(n,e={}){const t=`${Jle}${n}`,r=localStorage.getItem("auth_token"),i={"Content-Type":"application/json",...e.headers};r&&(i.Authorization=`Bearer ${r}`);try{const s=await fetch(t,{...e,headers:i});if(s.status===401)throw n.includes("/auth/login")||localStorage.removeItem("auth_token"),new Error("No autorizado");if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.message||`Error ${s.status}`)}return s.status===204?{}:await s.json()}catch(s){throw s}}const cs={login:async(n,e)=>{const t=await Vi("/auth/login",{method:"POST",body:JSON.stringify({email:n,password:e})});return t.accessToken&&(localStorage.setItem("auth_token",t.accessToken),console.log("Token guardado con xito")),t},getMe:()=>Vi("/auth/me"),getSmtpConfigs:()=>Vi("/smtp-configs"),createSmtpConfig:n=>Vi("/smtp-configs",{method:"POST",body:JSON.stringify(n)}),updateSmtpConfig:(n,e)=>Vi(`/smtp-configs/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteSmtpConfig:n=>Vi(`/smtp-configs/${n}`,{method:"DELETE"}),getContacts:()=>Vi("/contacts"),createContact:n=>Vi("/contacts",{method:"POST",body:JSON.stringify(n)}),updateContact:(n,e)=>Vi(`/contacts/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteContact:n=>Vi(`/contacts/${n}`,{method:"DELETE"}),getTemplates:()=>Vi("/templates"),createTemplate:n=>Vi("/templates",{method:"POST",body:JSON.stringify(n)}),updateTemplate:(n,e)=>Vi(`/templates/${n}`,{method:"PUT",body:JSON.stringify(e)}),deleteTemplate:n=>Vi(`/templates/${n}`,{method:"DELETE"}),getCensusFiles:()=>Vi("/census-files"),uploadCensusFile:n=>Vi("/census-files",{method:"POST",body:JSON.stringify(n)}),deleteCensusFile:n=>Vi(`/census-files/${n}`,{method:"DELETE"}),getCensusSettings:()=>Vi("/census-settings"),updateCensusSettings:n=>Vi("/census-settings",{method:"PUT",body:JSON.stringify(n)}),getHistory:()=>Vi("/history"),sendEmail:n=>Vi("/mail/send",{method:"POST",body:JSON.stringify(n)})},Zle={es:{navCompose:"Redactar",navContacts:"Contactos",navTemplates:"Plantillas",navHistory:"Historial",navCensos:"Censos",navOptions:"Opciones",navLock:"Bloquear",navSignOut:"Cerrar Sesin",sendingMessage:"Enviando...",loadingData:"Sincronizando con el servidor...",appTitle:"CDLVM",offlineStatus:"Modo Local",onlineStatus:"Sincronizado",loginError:"Credenciales invlidas.",loginSuccess:"Sesin iniciada.",sendSuccess:"Correo enviado.",sendError:"Error al enviar.",saveSuccess:"Guardado correctamente.",deleteSuccess:"Eliminado."},en:{navCompose:"Compose",navContacts:"Contacts",navTemplates:"Templates",navHistory:"History",navCensos:"Census",navOptions:"Options",navLock:"Lock",navSignOut:"Sign Out",sendingMessage:"Sending...",loadingData:"Syncing...",appTitle:"CDLVM",offlineStatus:"Local Mode",onlineStatus:"Synced",loginError:"Invalid credentials.",loginSuccess:"Login successful.",sendSuccess:"Sent.",sendError:"Failed.",saveSuccess:"Saved.",deleteSuccess:"Deleted."}},H0={SMTP:"cdlvm_smtp_configs",CONTACTS:"cdlvm_contacts",TEMPLATES:"cdlvm_templates",CENSUS_FILES:"cdlvm_census_files",CENSUS_SETTINGS:"cdlvm_census_settings",HISTORY:"cdlvm_history",SHEET_URL:"cdlvm_google_sheets_url",SIZE_LIMIT:"cdlvm_attachment_limit",PATIENTS:"cdlvm_patients"},Qle=()=>{const[n,e]=Qe.useState("compose"),[t,r]=Qe.useState(!0),[i,s]=Qe.useState("online"),[a,o]=Qe.useState(!1),[c,f]=Qe.useState(null),[h,p]=Qe.useState([]),[g,m]=Qe.useState([]),[b,_]=Qe.useState(null),[w,T]=Qe.useState([]),[L,R]=Qe.useState([]),[F,z]=Qe.useState([]),[q,P]=Qe.useState([]),[X,O]=Qe.useState([]),[ee,B]=Qe.useState(!1),[G,Q]=Qe.useState({visibleColumns:[],coverageColumn:"os_nombre",patientColumn:"paciente",emptyBedValue:"(..Libre..)",isolationColumn:"intais_descrip",isolationValue:"AISLADO",showEmptyBeds:!1,patientUniqueIdColumn:"",logoPosition:"top-right",pageFormat:"a4",associations:[],appKey:"",autoLockMinutes:10,ccConfigs:[]}),[ce,_e]=Qe.useState(()=>localStorage.getItem(H0.SHEET_URL)||""),[K,le]=Qe.useState(()=>Number(localStorage.getItem(H0.SIZE_LIMIT))||10),[Se,ve]=Qe.useState(()=>localStorage.getItem("app_lang")||"es"),[Pe,ie]=Qe.useState(()=>localStorage.getItem("theme")!=="light"),I=Qe.useMemo(()=>Zle[Se],[Se]),j=Qe.useMemo(()=>Array.from(new Set(w.map(He=>He.group).filter(Boolean))).map(He=>({id:He,name:He})),[w]),U=Qe.useCallback((Fe,He="info")=>{const ht=Math.random().toString(36).substring(2,9);p(et=>[...et,{id:ht,message:Fe,type:He}]),setTimeout(()=>p(et=>et.filter(kt=>kt.id!==ht)),4e3)},[]),Y=Qe.useCallback((Fe,He)=>{localStorage.setItem(Fe,JSON.stringify(He))},[]),ae=Qe.useCallback(()=>{localStorage.removeItem("auth_token"),o(!1),f(null)},[]),ye=Qe.useCallback(async()=>{var He;if(!localStorage.getItem("auth_token")){r(!1);return}try{const ht=await Promise.race([cs.getMe(),new Promise((dn,Kt)=>setTimeout(()=>Kt(new Error("Timeout")),5e3))]);f(ht),o(!0);const[et,kt,_t,jt,Mt,Yt]=await Promise.all([cs.getSmtpConfigs(),cs.getContacts(),cs.getTemplates(),cs.getCensusFiles(),cs.getCensusSettings(),cs.getHistory()]);et&&(m(et),et.length&&_(et[0].id)),kt&&T(kt),_t&&R(_t),jt&&z(jt),Mt&&Q(dn=>({...dn,...Mt})),Yt&&O(Yt),s("online")}catch(ht){console.error("Error crtico en la carga inicial:",ht),(He=ht.message)!=null&&He.includes("401")||ht.status===401?ae():(s("offline"),U("No se pudo sincronizar con el servidor. Reintentando...","error"))}finally{r(!1)}},[ae,U]);Qe.useEffect(()=>{ye()},[ye]),Qe.useEffect(()=>{document.documentElement.classList.toggle("dark",Pe),localStorage.setItem("theme",Pe?"dark":"light")},[Pe]);const me=async(Fe,He)=>{r(!0);try{return await cs.login(Fe,He),await ye(),!0}catch(ht){return U(ht.message||I.loginError,"error"),r(!1),!1}},fe={add:async Fe=>U(`Categora "${Fe.name}" lista para usar.`,"info"),delete:async Fe=>U("Elimin o edit los contactos para quitar el grupo.","info")},Te={add:async Fe=>{const He=[...w,Fe];T(He),Y(H0.CONTACTS,He);try{await cs.createContact(Fe),U(I.saveSuccess,"success")}catch{s("offline")}},update:async Fe=>{const He=w.map(ht=>ht.id===Fe.id?Fe:ht);T(He),Y(H0.CONTACTS,He);try{await cs.updateContact(Fe.id,Fe),U(I.saveSuccess,"success")}catch{s("offline")}},delete:async Fe=>{const He=w.filter(ht=>ht.id!==Fe);T(He),Y(H0.CONTACTS,He);try{await cs.deleteContact(Fe),U(I.deleteSuccess,"success")}catch{s("offline")}}},Oe={setActive:Fe=>_(Fe),add:async Fe=>{const He={name:Fe.name,host:Fe.host,port:Fe.port,secure:Fe.secure,username:Fe.username,password:Fe.password},ht=[...g,Fe];m(ht),Y(H0.SMTP,ht);try{await cs.createSmtpConfig(He),U(I.saveSuccess,"success")}catch{s("offline")}},delete:async Fe=>{if(window.confirm("Eliminar este perfil SMTP?"))try{await cs.deleteSmtpConfig(Fe);const He=g.filter(ht=>ht.id!==Fe);m(He),U("Perfil eliminado","success")}catch(He){console.error("Error al eliminar SMTP:",He),s("offline"),U("Error al eliminar en el servidor","error")}}},ue={add:async Fe=>{const He=[Fe,...L];R(He);try{await cs.createTemplate(Fe),U("Plantilla creada","success")}catch{s("offline")}},update:async(Fe,He)=>{const ht=L.map(et=>et.id===Fe?{...et,...He}:et);R(ht);try{await cs.updateTemplate(Fe,He),U("Plantilla actualizada","success")}catch{s("offline")}},delete:async Fe=>{const He=L.filter(ht=>ht.id!==Fe);R(He);try{await cs.deleteTemplate(Fe),U("Plantilla eliminada","success")}catch{s("offline")}}},nt={add:async Fe=>{const{id:He,...ht}=Fe;try{const kt=[await cs.uploadCensusFile(ht),...F];z(kt),Y(H0.CENSUS_FILES,kt),U("Censo cargado y sincronizado","success")}catch(et){s("offline"),U("Error al subir el archivo al servidor","error"),console.error("Error en addCensus:",et)}},syncPatients:Fe=>{P(Fe)},saveSettings:async Fe=>{try{const He=await cs.updateCensusSettings(Fe);Q(He),U("Configuracin guardada en la nube","success")}catch(He){s("offline"),U("Error al persistir configuracin","error"),console.error("Error en saveSettings:",He)}},delete:async Fe=>{if(window.confirm("Eliminar este archivo de forma permanente?"))try{await cs.deleteCensusFile(Fe);const He=F.filter(ht=>ht.id!==Fe);z(He),U("Archivo eliminado correctamente","success")}catch(He){s("offline"),U("No se pudo eliminar: el registro no existe o el servidor est cado","error"),console.error("Error en deleteCensus:",He)}},deletePatient:Fe=>{const He=q.filter(ht=>ht.id!==Fe);P(He)}},it=async(Fe,He,ht,et,kt,_t)=>{B(!0);try{return await cs.sendEmail({to:Fe,subject:He,body:ht,attachments:et,cc:kt,smtpId:_t||b||void 0,category:"general"}),U(I.sendSuccess,"success"),!0}catch{return U(I.sendError,"error"),!1}finally{B(!1)}};if(t)return E.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 gap-4",children:[E.jsx(Sh,{className:"animate-spin text-indigo-600",size:48}),E.jsx("p",{className:"font-bold text-slate-500 animate-pulse",children:I.loadingData})]});if(!a)return E.jsx(Kle,{onLogin:me,lang:Se,appTitle:G.appTitle||I.appTitle});const de=i==="online"?JO:xB;return E.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 overflow-hidden font-sans",children:[E.jsx("div",{className:"fixed top-6 right-6 z-[1000] flex flex-col gap-3 pointer-events-none",children:h.map(Fe=>E.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl border backdrop-blur-md animate-in slide-in-from-right-10 ${Fe.type==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-800":"bg-red-50/90 border-red-200 text-red-800"}`,children:[E.jsx("span",{className:"text-sm font-bold",children:Fe.message}),E.jsx("button",{onClick:()=>p(He=>He.filter(ht=>ht.id!==Fe.id)),className:"ml-2 opacity-50",children:E.jsx(Oo,{size:14})})]},Fe.id))}),E.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 dark:bg-slate-900 dark:border-slate-800 flex flex-col shrink-0",children:[E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[E.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:E.jsx(xh,{className:"text-white w-5 h-5"})}),E.jsx("h1",{className:"font-bold text-lg truncate",children:G.appTitle||I.appTitle})]}),E.jsx("nav",{className:"space-y-1",children:[{id:"compose",label:I.navCompose,icon:n5},{id:"agenda",label:I.navContacts,icon:tm},{id:"templates",label:I.navTemplates,icon:t5},{id:"censos",label:I.navCensos,icon:x_},{id:"history",label:I.navHistory,icon:m9}].map(Fe=>E.jsxs("button",{onClick:()=>e(Fe.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n===Fe.id?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[E.jsx(Fe.icon,{size:18})," ",Fe.label]},Fe.id))})]}),E.jsxs("div",{className:"mt-auto p-6 border-t border-slate-100 dark:border-slate-800 space-y-2",children:[E.jsxs("button",{onClick:()=>e("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl ${n==="settings"?"bg-indigo-50 text-indigo-700 font-bold dark:bg-indigo-900/30":"text-slate-500 hover:bg-slate-50"}`,children:[E.jsx(GS,{size:18})," ",I.navOptions]}),E.jsxs("button",{onClick:ae,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:text-red-500 transition-all",children:[E.jsx(L9,{size:18})," ",I.navSignOut]})]})]}),E.jsxs("main",{className:"flex-1 overflow-y-auto",children:[E.jsxs("div",{className:`p-2 px-8 flex items-center justify-between text-[10px] font-bold uppercase tracking-widest ${i==="online"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(de,{size:12})," ",E.jsx("span",{children:i==="online"?I.onlineStatus:I.offlineStatus})]}),c&&E.jsx("span",{className:"opacity-60",children:c.email})]}),E.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-8",children:[n==="compose"&&E.jsx(OK,{onSend:it,smtpReady:g.length>0,isSending:ee,smtpProfiles:g,activeProfileId:b,onSelectProfile:Oe.setActive,contacts:w,templates:L,lang:Se,notify:U,pdfSettings:G}),n==="agenda"&&E.jsx(jle,{contacts:w,onAction:Te,contactGroups:j,onGroupAction:fe,lang:Se}),n==="templates"&&E.jsx(qle,{templates:L,onAction:ue,lang:Se}),n==="censos"&&E.jsx(Yle,{files:F,patients:q,settings:G,onAction:nt,lang:Se,onSendEmail:it,smtpProfiles:g,globalSmtpId:b,notify:U}),n==="history"&&E.jsx(Hle,{history:X,lang:Se}),n==="settings"&&E.jsx(NH,{smtpConfigs:g,onSmtpAction:Oe,activeSmtpId:b,sheetUrl:ce,onSaveSheetUrl:_e,lang:Se,onLangChange:ve,isDarkMode:Pe,onToggleMode:()=>ie(!Pe),attachmentSizeLimit:K,onSaveAttachmentSizeLimit:le,censusSettings:G,onSaveCensusSettings:nt.saveSettings,notify:U})]})]}),ee&&E.jsxs("div",{className:"fixed bottom-8 right-8 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-bounce",children:[E.jsx(Sh,{className:"animate-spin h-4 w-4"}),E.jsx("span",{className:"font-bold text-sm",children:I.sendingMessage})]})]})},l7=document.getElementById("root");if(!l7)throw new Error("Could not find root element to mount to");const ece=NO.createRoot(l7);ece.render(E.jsx(_O.StrictMode,{children:E.jsx(Qle,{})}));export{Fr as _,nce as c,fL as g};
